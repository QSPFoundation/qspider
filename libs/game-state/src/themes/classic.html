<qspider-theme name="qspider:classic">
  <definitions>
    <qsp-css-variable name="--code-font-size" from="FSIZE" type="unit" unit="pt" default-value="12"></qsp-css-variable>
    <qsp-css-variable name="--code-font-name" from="$FNAME"></qsp-css-variable>
    <qsp-css-variable name="--code-color" from="FCOLOR" type="color" default-value="#000000"></qsp-css-variable>
    <qsp-css-variable name="--code-link-color" from="LCOLOR" type="color" defaul-value="#0000ff"></qsp-css-variable>
    <qsp-css-variable
      name="--code-background-color"
      from="BCOLOR"
      type="color"
      default-value="#e0e0e0"
      with-contrast
      with-inverted
    ></qsp-css-variable>
    <qsp-css-variable name="background-image" from="$BACKIMAGE" type="resource"></qsp-css-variable>
  </definitions>
  <template is="qsp-player">
    <qsp-cl-defaults></qsp-cl-defaults>
    <style>
      qsp-game-root,
      #portal-container {
        --border-color: var(--background-color-contrast, var(--cl-background-color-contrast, gray));
        --font-size: var(--code-font-size, var(--cl-font-size));
        --font-name: var(--code-font-name, var(--cl-font-name));
        --color: var(--code-color, var(--cl-color));
        --link-color: var(--code-link-color, var(--cl-link-color));
        --background-color: var(--code-background-color, var(--cl-background-color));
        --background-color-inverted: var(--code-background-color-inverted, var(--cl-background-color-inverted));
        --background-color-contrast: var(--code-background-color-contrast, var(--cl-background-color-contrast));
        --background-color-inverted-contrast: var(
          --code-background-color-inverted-contrast,
          var(--cl-background-color-inverted-contrast)
        );
      }
      qsp-player button,
      qsp-player input,
      #portal-container input {
        color: var(--color);
        font-size: var(--font-size);
        font-family: var(--font-name);
      }
      qsp-player a,
      qsp-player a:visited,
      #portal-container a,
      #portal-container a:visited {
        color: var(--link-color);
      }
      a.plain {
        text-decoration: none;
      }

      qsp-player {
        width: 100vw;
        height: 100vh;
        background: var(--background-color);
        font-size: var(--font-size);
        font-family: var(--font-name);
        color: var(--color);
        display: block;
      }
      .qsp-classic-layout {
        width: 100%;
        height: 100%;
      }
      qsp-main {
        width: 100%;
      }
      qsp-menu {
        border: 1px solid var(--border-color);
        background-color: var(--background-color);
      }
      nav {
        outline: none;
      }
      .panel {
        width: 100%;
        height: 100%;
        min-height: 100%;
        border: 1px solid var(--border-color);
      }

      .panel-background {
        background-image: var(--background-image, none);
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center center;
        min-height: 100%;
        border: 1px solid var(--border-color);
      }

      .panel-content {
        padding: 8px;
        min-height: 100%;
        white-space: pre-wrap;
      }
      qsp-cmd form {
        display: block;
        height: 100%;
        width: 100%;
      }
      qsp-cmd input {
        background: var(--background-color);
        display: inline-block;
        height: 100%;
        width: 100%;
        border: 0;
      }
      qsp-cmd input:focus {
        outline: none;
        box-shadow: inset 0 0 5px 0px rgba(0, 0, 0, 0.75);
      }
      .view-container {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .view-container img {
        max-width: 100%;
        max-height: 100%;
      }
      .menu-separator {
        margin: 3px 10px;
        border-top: 1px solid var(--border-color);
      }
      qsp-menu {
        display: block;
        border: 1px solid var(--border-color);
        background-color: var(--background-color);
      }
      .action-item {
        display: flex;
        align-items: center;
        padding: 4px 8px;
        width: 100%;
        text-align: left;
        border-radius: 0;
        border: 0;
        cursor: pointer;
        background-color: var(--background-color);
        user-select: none;
      }
      .action-item:hover {
        background-color: var(--background-color-inverted);
        color: var(--background-color-inverted-contrast);
      }
      .action-item:focus {
        outline: none;
      }
      .action-img {
        margin-right: 8px;
      }
      .qsp-overlay {
        position: fixed;
        inset: 0;
        background-color: var(--background-color, black);
        opacity: 0.8;
      }
      .qsp-dialog-container {
        position: fixed;
        inset: 0;
        pointer-events: none;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .qsp-dialog-container > * {
        position: relative;
        pointer-events: auto;
        border-radius: var(--border-radius);
        min-width: 400px;
        padding: var(--spacer--md);
        background-color: var(--background-color, black);
        animation: contentShow 150ms cubic-bezier(0.16, 1, 0.3, 1);
        box-shadow: 0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 2px 0 rgb(0 0 0 / 14%), 0 1px 5px 0 rgb(0 0 0 / 12%);
      }
      .qsp-dialog-container p {
        margin: 0;
      }

      @keyframes contentShow {
        from {
          opacity: 0;
          transform: translate(0, -2%) scale(0.96);
        }
        to {
          opacity: 1;
          transform: translate(0, 0) scale(1);
        }
      }
      .close-button {
        background: transparent;
        border: none;
        position: absolute;
        top: 0px;
        right: 0px;
        cursor: pointer;
      }
      .close-button:focus {
        outline: none;
      }
      .qsp-button {
        cursor: pointer;
        background-color: var(--background-color);
        border-radius: 4px;
        padding: 4px 16px;
        border: 1px solid var(--border-color);
      }
      .qsp-button:hover {
        background-color: var(--background-color-inverted);
        color: var(--background-color-inverted-contrast);
        border-color: var(--background-color-inverted);
      }
      .qsp-button:focus {
        outline: none;
      }
      .qsp-button + .qsp-button {
        margin-left: var(--spacer--sm);
      }
      .qsp-dialog-buttons {
        margin-top: var(--spacer--md);
        display: flex;
        justify-content: flex-end;
      }
      .qsp-input {
        margin-top: var(--spacer--sm);
        width: 100%;
        background-color: var(--background-color);
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        line-height: 1.8;
      }
      .qsp-input:focus {
        outline: none;
        box-shadow: 0 0 3px 1px var(--background-color-contrast);
      }
    </style>
    <qsp-cl>
      <qsp-cl-layer>
        <qsp-cl-dock place="center">
          <qsp-cl-layer>
            <qsp-cl-dock place="center">
              <qsp-cl-pane>
                <qsp-main>
                  <div class="panel-background">
                    <qsp-scrollable>
                      <qsp-main-content class="panel-content"></qsp-main-content>
                    </qsp-scrollable>
                  </div>
                </qsp-main>
              </qsp-cl-pane>
            </qsp-cl-dock>
            <qsp-cl-dock place="right" visibility="objs" size="215">
              <qsp-cl-pane visibility="objs">
                <qsp-objects>
                  <div class="panel">
                    <qsp-scrollable>
                      <qsp-objects-list tag="nav" role="menu"></qsp-objects-list>
                    </qsp-scrollable>
                  </div>
                </qsp-objects>
              </qsp-cl-pane>
            </qsp-cl-dock>
            <qsp-cl-dock place="bottom" visibility="acts|vars" size="204">
              <qsp-cl-pane proportion="117349" visibility="acts">
                <qsp-actions>
                  <div class="panel">
                    <qsp-scrollable>
                      <qsp-actions-list tag="nav" role="menu"></qsp-actions-list>
                    </qsp-scrollable>
                  </div>
                </qsp-actions>
              </qsp-cl-pane>
              <qsp-cl-pane proportion="82651" visibility="vars">
                <qsp-stats>
                  <div class="panel">
                    <qsp-scrollable>
                      <qsp-stats-content class="panel-content"></qsp-stats-content>
                    </qsp-scrollable>
                  </div>
                </qsp-stats>
              </qsp-cl-pane>
            </qsp-cl-dock>
          </qsp-cl-layer>
        </qsp-cl-dock>
        <qsp-cl-dock place="bottom" visibility="input" size="41">
          <qsp-cl-pane visibility="input">
            <qsp-cmd>
              <div class="panel">
                <qsp-cmd-input></qsp-cmd-input>
              </div>
            </qsp-cmd>
          </qsp-cl-pane>
        </qsp-cl-dock>
      </qsp-cl-layer>
      <qsp-view modal>
        <div class="panel">
          <div class="view-container">
            <qsp-view-image></qsp-view-image>
          </div>
        </div>
      </qsp-view>
    </qsp-cl>
    <qsp-menu>
      <qsp-scrollable>
        <qsp-menu-list tag="nav" role="menu"></qsp-menu-list>
      </qsp-scrollable>
    </qsp-menu>
    <qsp-msg>
      <qsp-msg-content></qsp-msg-content>
      <div class="qsp-dialog-buttons">
        <qsp-ok-button class="qsp-button" focus>Ok</qsp-ok-button>
      </div>
      <qsp-close-button class="close-button">x</qsp-close-button>
    </qsp-msg>
    <qsp-input>
      <qsp-input-content></qsp-input-content>
      <qsp-input-tag class="qsp-input"></qsp-input-tag>
      <div class="qsp-dialog-buttons">
        <qsp-ok-button class="qsp-button">Ok</qsp-ok-button>
        <qsp-cancel-button class="qsp-button">Cancel</qsp-cancel-button>
      </div>
      <qsp-close-button class="close-button">x</qsp-close-button>
    </qsp-input>
  </template>
  <template is="qsp-pause-screen">
    <qsp-button type="resume">Resume</qsp-button>
    <qsp-button type="restart">Restart</qsp-button>
    <qsp-button type="save">Save</qsp-button>
    <qsp-button type="load">Load</qsp-button>
    <qsp-button type="preferences">Preferences</qsp-button>
    <qsp-button type="quit">Quit</qsp-button>
    <qsp-pause-screen-content>
      <qsp-pause-screen-credits></qsp-pause-screen-credits>
      <qsp-pause-screen-save>
        <h2>Save game</h2>
        <qsp-slots-list></qsp-slots-list>
      </qsp-pause-screen-save>
      <qsp-pause-screen-load>
        <h2>Load game</h2>
        <qsp-slots-list></qsp-slots-list>
      </qsp-pause-screen-load>
      <qsp-pause-screen-preferences>
        <h2>Preferences</h2>
      </qsp-pause-screen-preferences>
    </qsp-pause-screen-content>
  </template>
  <template is="qsp-action" tag="button" class="action-item">
    <qsp-action-image class="action-img"></qsp-action-image>
    <qsp-action-name></qsp-action-name>
  </template>
  <template is="qsp-object" tag="button" class="action-item">
    <qsp-object-image class="action-img"></qsp-object-image>
    <qsp-object-name></qsp-object-name>
  </template>
  <template is="qsp-menu-item" tag="button" class="action-item">
    <qsp-menu-image class="action-img"></qsp-menu-image>
    <qsp-menu-name> </qsp-menu-name>
  </template>
  <template is="qsp-menu-separator" tag="div" class="menu-separator"> </template>
  <template is="qsp-save-slot">
    <qsp-save-slot-index></qsp-save-slot-index>
    <qsp-save-slot-date></qsp-save-slot-date>
  </template>
</qspider-theme>
