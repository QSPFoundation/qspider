const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./7zz.es6-CM-D_io1.js","./__vite-browser-external-D7Ct-6yo.js"])))=>i.map(i=>d[i]);
var xa=Object.defineProperty;var _a=(b,j,$)=>j in b?xa(b,j,{enumerable:!0,configurable:!0,writable:!0,value:$}):b[j]=$;var Ao=(b,j,$)=>_a(b,typeof j!="symbol"?j+"":j,$);function _mergeNamespaces(b,j){for(var $=0;$<j.length;$++){const _e=j[$];if(typeof _e!="string"&&!Array.isArray(_e)){for(const et in _e)if(et!=="default"&&!(et in b)){const tt=Object.getOwnPropertyDescriptor(_e,et);tt&&Object.defineProperty(b,et,tt.get?tt:{enumerable:!0,get:()=>_e[et]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const et of document.querySelectorAll('link[rel="modulepreload"]'))_e(et);new MutationObserver(et=>{for(const tt of et)if(tt.type==="childList")for(const nt of tt.addedNodes)nt.tagName==="LINK"&&nt.rel==="modulepreload"&&_e(nt)}).observe(document,{childList:!0,subtree:!0});function $(et){const tt={};return et.integrity&&(tt.integrity=et.integrity),et.referrerPolicy&&(tt.referrerPolicy=et.referrerPolicy),et.crossOrigin==="use-credentials"?tt.credentials="include":et.crossOrigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function _e(et){if(et.ep)return;et.ep=!0;const tt=$(et);fetch(et.href,tt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}function getAugmentedNamespace(b){if(b.__esModule)return b;var j=b.default;if(typeof j=="function"){var $=function _e(){return this instanceof _e?Reflect.construct(j,arguments,this.constructor):j.apply(this,arguments)};$.prototype=j.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(b).forEach(function(_e){var et=Object.getOwnPropertyDescriptor(b,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return b[_e]}})}),$}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$2={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(b){return b===null||typeof b!="object"?null:(b=z$1&&b[z$1]||b["@@iterator"],typeof b=="function"?b:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$2(b,j,$){this.props=b,this.context=j,this.refs=D$1,this.updater=$||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(b,j){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,j,"setState")};E$2.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(b,j,$){this.props=b,this.context=j,this.refs=D$1,this.updater=$||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(b,j,$){var _e,et={},tt=null,nt=null;if(j!=null)for(_e in j.ref!==void 0&&(nt=j.ref),j.key!==void 0&&(tt=""+j.key),j)J.call(j,_e)&&!L$1.hasOwnProperty(_e)&&(et[_e]=j[_e]);var rt=arguments.length-2;if(rt===1)et.children=$;else if(1<rt){for(var st=Array(rt),it=0;it<rt;it++)st[it]=arguments[it+2];et.children=st}if(b&&b.defaultProps)for(_e in rt=b.defaultProps,rt)et[_e]===void 0&&(et[_e]=rt[_e]);return{$$typeof:l$4,type:b,key:tt,ref:nt,props:et,_owner:K$1.current}}function N$1(b,j){return{$$typeof:l$4,type:b.type,key:j,ref:b.ref,props:b.props,_owner:b._owner}}function O$1(b){return typeof b=="object"&&b!==null&&b.$$typeof===l$4}function escape$1(b){var j={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function($){return j[$]})}var P$1=/\/+/g;function Q$1(b,j){return typeof b=="object"&&b!==null&&b.key!=null?escape$1(""+b.key):j.toString(36)}function R$1(b,j,$,_e,et){var tt=typeof b;(tt==="undefined"||tt==="boolean")&&(b=null);var nt=!1;if(b===null)nt=!0;else switch(tt){case"string":case"number":nt=!0;break;case"object":switch(b.$$typeof){case l$4:case n$5:nt=!0}}if(nt)return nt=b,et=et(nt),b=_e===""?"."+Q$1(nt,0):_e,I$1(et)?($="",b!=null&&($=b.replace(P$1,"$&/")+"/"),R$1(et,j,$,"",function(it){return it})):et!=null&&(O$1(et)&&(et=N$1(et,$+(!et.key||nt&&nt.key===et.key?"":(""+et.key).replace(P$1,"$&/")+"/")+b)),j.push(et)),1;if(nt=0,_e=_e===""?".":_e+":",I$1(b))for(var rt=0;rt<b.length;rt++){tt=b[rt];var st=_e+Q$1(tt,rt);nt+=R$1(tt,j,$,st,et)}else if(st=A$1(b),typeof st=="function")for(b=st.call(b),rt=0;!(tt=b.next()).done;)tt=tt.value,st=_e+Q$1(tt,rt++),nt+=R$1(tt,j,$,st,et);else if(tt==="object")throw j=String(b),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return nt}function S$2(b,j,$){if(b==null)return b;var _e=[],et=0;return R$1(b,_e,"","",function(tt){return j.call($,tt,et++)}),_e}function T$1(b){if(b._status===-1){var j=b._result;j=j(),j.then(function($){(b._status===0||b._status===-1)&&(b._status=1,b._result=$)},function($){(b._status===0||b._status===-1)&&(b._status=2,b._result=$)}),b._status===-1&&(b._status=0,b._result=j)}if(b._status===1)return b._result.default;throw b._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(b,j,$){S$2(b,function(){j.apply(this,arguments)},$)},count:function(b){var j=0;return S$2(b,function(){j++}),j},toArray:function(b){return S$2(b,function(j){return j})||[]},only:function(b){if(!O$1(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(b,j,$){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var _e=C$1({},b.props),et=b.key,tt=b.ref,nt=b._owner;if(j!=null){if(j.ref!==void 0&&(tt=j.ref,nt=K$1.current),j.key!==void 0&&(et=""+j.key),b.type&&b.type.defaultProps)var rt=b.type.defaultProps;for(st in j)J.call(j,st)&&!L$1.hasOwnProperty(st)&&(_e[st]=j[st]===void 0&&rt!==void 0?rt[st]:j[st])}var st=arguments.length-2;if(st===1)_e.children=$;else if(1<st){rt=Array(st);for(var it=0;it<st;it++)rt[it]=arguments[it+2];_e.children=rt}return{$$typeof:l$4,type:b.type,key:et,ref:tt,props:_e,_owner:nt}};react_production_min.createContext=function(b){return b={$$typeof:u$3,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:t$4,_context:b},b.Consumer=b};react_production_min.createElement=M$1;react_production_min.createFactory=function(b){var j=M$1.bind(null,b);return j.type=b,j};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(b){return{$$typeof:v$3,render:b}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(b){return{$$typeof:y$1,_payload:{_status:-1,_result:b},_init:T$1}};react_production_min.memo=function(b,j){return{$$typeof:x,type:b,compare:j===void 0?null:j}};react_production_min.startTransition=function(b){var j=V$1.transition;V$1.transition={};try{b()}finally{V$1.transition=j}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(b,j){return U$1.current.useCallback(b,j)};react_production_min.useContext=function(b){return U$1.current.useContext(b)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(b){return U$1.current.useDeferredValue(b)};react_production_min.useEffect=function(b,j){return U$1.current.useEffect(b,j)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(b,j,$){return U$1.current.useImperativeHandle(b,j,$)};react_production_min.useInsertionEffect=function(b,j){return U$1.current.useInsertionEffect(b,j)};react_production_min.useLayoutEffect=function(b,j){return U$1.current.useLayoutEffect(b,j)};react_production_min.useMemo=function(b,j){return U$1.current.useMemo(b,j)};react_production_min.useReducer=function(b,j,$){return U$1.current.useReducer(b,j,$)};react_production_min.useRef=function(b){return U$1.current.useRef(b)};react_production_min.useState=function(b){return U$1.current.useState(b)};react_production_min.useSyncExternalStore=function(b,j,$){return U$1.current.useSyncExternalStore(b,j,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react$2.exports=react_production_min;var reactExports=react$2.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$1=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$4=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$1(b,j,$){var _e,et={},tt=null,nt=null;$!==void 0&&(tt=""+$),j.key!==void 0&&(tt=""+j.key),j.ref!==void 0&&(nt=j.ref);for(_e in j)m$3.call(j,_e)&&!p$3.hasOwnProperty(_e)&&(et[_e]=j[_e]);if(b&&b.defaultProps)for(_e in j=b.defaultProps,j)et[_e]===void 0&&(et[_e]=j[_e]);return{$$typeof:k$1,type:b,key:tt,ref:nt,props:et,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(b){function j(qt,Wt){var sn=qt.length;qt.push(Wt);e:for(;0<sn;){var Qt=sn-1>>>1,tn=qt[Qt];if(0<et(tn,Wt))qt[Qt]=Wt,qt[sn]=tn,sn=Qt;else break e}}function $(qt){return qt.length===0?null:qt[0]}function _e(qt){if(qt.length===0)return null;var Wt=qt[0],sn=qt.pop();if(sn!==Wt){qt[0]=sn;e:for(var Qt=0,tn=qt.length,vn=tn>>>1;Qt<vn;){var un=2*(Qt+1)-1,mn=qt[un],_n=un+1,Jt=qt[_n];if(0>et(mn,sn))_n<tn&&0>et(Jt,mn)?(qt[Qt]=Jt,qt[_n]=sn,Qt=_n):(qt[Qt]=mn,qt[un]=sn,Qt=un);else if(_n<tn&&0>et(Jt,sn))qt[Qt]=Jt,qt[_n]=sn,Qt=_n;else break e}}return Wt}function et(qt,Wt){var sn=qt.sortIndex-Wt.sortIndex;return sn!==0?sn:qt.id-Wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;b.unstable_now=function(){return tt.now()}}else{var nt=Date,rt=nt.now();b.unstable_now=function(){return nt.now()-rt}}var st=[],it=[],ct=1,ot=null,at=3,ft=!1,dt=!1,mt=!1,xt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(qt){for(var Wt=$(it);Wt!==null;){if(Wt.callback===null)_e(it);else if(Wt.startTime<=qt)_e(it),Wt.sortIndex=Wt.expirationTime,j(st,Wt);else break;Wt=$(it)}}function St(qt){if(mt=!1,Et(qt),!dt)if($(st)!==null)dt=!0,en(At);else{var Wt=$(it);Wt!==null&&cn(St,Wt.startTime-qt)}}function At(qt,Wt){dt=!1,mt&&(mt=!1,ht(Pt),Pt=-1),ft=!0;var sn=at;try{for(Et(Wt),ot=$(st);ot!==null&&(!(ot.expirationTime>Wt)||qt&&!Yt());){var Qt=ot.callback;if(typeof Qt=="function"){ot.callback=null,at=ot.priorityLevel;var tn=Qt(ot.expirationTime<=Wt);Wt=b.unstable_now(),typeof tn=="function"?ot.callback=tn:ot===$(st)&&_e(st),Et(Wt)}else _e(st);ot=$(st)}if(ot!==null)var vn=!0;else{var un=$(it);un!==null&&cn(St,un.startTime-Wt),vn=!1}return vn}finally{ot=null,at=sn,ft=!1}}var $t=!1,wt=null,Pt=-1,bt=5,Bt=-1;function Yt(){return!(b.unstable_now()-Bt<bt)}function rn(){if(wt!==null){var qt=b.unstable_now();Bt=qt;var Wt=!0;try{Wt=wt(!0,qt)}finally{Wt?hn():($t=!1,wt=null)}}else $t=!1}var hn;if(typeof gt=="function")hn=function(){gt(rn)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Xt=Vt.port2;Vt.port1.onmessage=rn,hn=function(){Xt.postMessage(null)}}else hn=function(){xt(rn,0)};function en(qt){wt=qt,$t||($t=!0,hn())}function cn(qt,Wt){Pt=xt(function(){qt(b.unstable_now())},Wt)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(qt){qt.callback=null},b.unstable_continueExecution=function(){dt||ft||(dt=!0,en(At))},b.unstable_forceFrameRate=function(qt){0>qt||125<qt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):bt=0<qt?Math.floor(1e3/qt):5},b.unstable_getCurrentPriorityLevel=function(){return at},b.unstable_getFirstCallbackNode=function(){return $(st)},b.unstable_next=function(qt){switch(at){case 1:case 2:case 3:var Wt=3;break;default:Wt=at}var sn=at;at=Wt;try{return qt()}finally{at=sn}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function(qt,Wt){switch(qt){case 1:case 2:case 3:case 4:case 5:break;default:qt=3}var sn=at;at=qt;try{return Wt()}finally{at=sn}},b.unstable_scheduleCallback=function(qt,Wt,sn){var Qt=b.unstable_now();switch(typeof sn=="object"&&sn!==null?(sn=sn.delay,sn=typeof sn=="number"&&0<sn?Qt+sn:Qt):sn=Qt,qt){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=sn+tn,qt={id:ct++,callback:Wt,priorityLevel:qt,startTime:sn,expirationTime:tn,sortIndex:-1},sn>Qt?(qt.sortIndex=sn,j(it,qt),$(st)===null&&qt===$(it)&&(mt?(ht(Pt),Pt=-1):mt=!0,cn(St,sn-Qt))):(qt.sortIndex=tn,j(st,qt),dt||ft||(dt=!0,en(At))),qt},b.unstable_shouldYield=Yt,b.unstable_wrapCallback=function(qt){var Wt=at;return function(){var sn=at;at=Wt;try{return qt.apply(this,arguments)}finally{at=sn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(b){for(var j="https://reactjs.org/docs/error-decoder.html?invariant="+b,$=1;$<arguments.length;$++)j+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+b+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(b,j){ha(b,j),ha(b+"Capture",j)}function ha(b,j){for(ea[b]=j,b=0;b<j.length;b++)da.add(j[b])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(b){return ja.call(ma,b)?!0:ja.call(la,b)?!1:ka.test(b)?ma[b]=!0:(la[b]=!0,!1)}function pa(b,j,$,_e){if($!==null&&$.type===0)return!1;switch(typeof j){case"function":case"symbol":return!0;case"boolean":return _e?!1:$!==null?!$.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function qa(b,j,$,_e){if(j===null||typeof j>"u"||pa(b,j,$,_e))return!0;if(_e)return!1;if($!==null)switch($.type){case 3:return!j;case 4:return j===!1;case 5:return isNaN(j);case 6:return isNaN(j)||1>j}return!1}function v$2(b,j,$,_e,et,tt,nt){this.acceptsBooleans=j===2||j===3||j===4,this.attributeName=_e,this.attributeNamespace=et,this.mustUseProperty=$,this.propertyName=b,this.type=j,this.sanitizeURL=tt,this.removeEmptyString=nt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){z[b]=new v$2(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var j=b[0];z[j]=new v$2(j,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){z[b]=new v$2(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){z[b]=new v$2(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){z[b]=new v$2(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){z[b]=new v$2(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){z[b]=new v$2(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){z[b]=new v$2(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){z[b]=new v$2(b,5,!1,b.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var j=b.replace(ra,sa);z[j]=new v$2(j,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var j=b.replace(ra,sa);z[j]=new v$2(j,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var j=b.replace(ra,sa);z[j]=new v$2(j,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){z[b]=new v$2(b,1,!1,b.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){z[b]=new v$2(b,1,!1,b.toLowerCase(),null,!0,!0)});function ta(b,j,$,_e){var et=z.hasOwnProperty(j)?z[j]:null;(et!==null?et.type!==0:_e||!(2<j.length)||j[0]!=="o"&&j[0]!=="O"||j[1]!=="n"&&j[1]!=="N")&&(qa(j,$,et,_e)&&($=null),_e||et===null?oa(j)&&($===null?b.removeAttribute(j):b.setAttribute(j,""+$)):et.mustUseProperty?b[et.propertyName]=$===null?et.type===3?!1:"":$:(j=et.attributeName,_e=et.attributeNamespace,$===null?b.removeAttribute(j):(et=et.type,$=et===3||et===4&&$===!0?"":""+$,_e?b.setAttributeNS(_e,j,$):b.setAttribute(j,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(b){return b===null||typeof b!="object"?null:(b=Ja&&b[Ja]||b["@@iterator"],typeof b=="function"?b:null)}var A=Object.assign,La;function Ma(b){if(La===void 0)try{throw Error()}catch($){var j=$.stack.trim().match(/\n( *(at )?)/);La=j&&j[1]||""}return`
`+La+b}var Na=!1;function Oa(b,j){if(!b||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(j)if(j=function(){throw Error()},Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(it){var _e=it}Reflect.construct(b,[],j)}else{try{j.call()}catch(it){_e=it}b.call(j.prototype)}else{try{throw Error()}catch(it){_e=it}b()}}catch(it){if(it&&_e&&typeof it.stack=="string"){for(var et=it.stack.split(`
`),tt=_e.stack.split(`
`),nt=et.length-1,rt=tt.length-1;1<=nt&&0<=rt&&et[nt]!==tt[rt];)rt--;for(;1<=nt&&0<=rt;nt--,rt--)if(et[nt]!==tt[rt]){if(nt!==1||rt!==1)do if(nt--,rt--,0>rt||et[nt]!==tt[rt]){var st=`
`+et[nt].replace(" at new "," at ");return b.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",b.displayName)),st}while(1<=nt&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(b=b?b.displayName||b.name:"")?Ma(b):""}function Pa(b){switch(b.tag){case 5:return Ma(b.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return b=Oa(b.type,!1),b;case 11:return b=Oa(b.type.render,!1),b;case 1:return b=Oa(b.type,!0),b;default:return""}}function Qa(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case Ca:return(b.displayName||"Context")+".Consumer";case Ba:return(b._context.displayName||"Context")+".Provider";case Da:var j=b.render;return b=b.displayName,b||(b=j.displayName||j.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case Ga:return j=b.displayName||null,j!==null?j:Qa(b.type)||"Memo";case Ha:j=b._payload,b=b._init;try{return Qa(b(j))}catch{}}return null}function Ra(b){var j=b.type;switch(b.tag){case 24:return"Cache";case 9:return(j.displayName||"Context")+".Consumer";case 10:return(j._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=j.render,b=b.displayName||b.name||"",j.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return j;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(j);case 8:return j===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j}return null}function Sa(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function Ta(b){var j=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&(j==="checkbox"||j==="radio")}function Ua(b){var j=Ta(b)?"checked":"value",$=Object.getOwnPropertyDescriptor(b.constructor.prototype,j),_e=""+b[j];if(!b.hasOwnProperty(j)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var et=$.get,tt=$.set;return Object.defineProperty(b,j,{configurable:!0,get:function(){return et.call(this)},set:function(nt){_e=""+nt,tt.call(this,nt)}}),Object.defineProperty(b,j,{enumerable:$.enumerable}),{getValue:function(){return _e},setValue:function(nt){_e=""+nt},stopTracking:function(){b._valueTracker=null,delete b[j]}}}}function Va(b){b._valueTracker||(b._valueTracker=Ua(b))}function Wa(b){if(!b)return!1;var j=b._valueTracker;if(!j)return!0;var $=j.getValue(),_e="";return b&&(_e=Ta(b)?b.checked?"true":"false":b.value),b=_e,b!==$?(j.setValue(b),!0):!1}function Xa(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function Ya(b,j){var $=j.checked;return A({},j,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??b._wrapperState.initialChecked})}function Za(b,j){var $=j.defaultValue==null?"":j.defaultValue,_e=j.checked!=null?j.checked:j.defaultChecked;$=Sa(j.value!=null?j.value:$),b._wrapperState={initialChecked:_e,initialValue:$,controlled:j.type==="checkbox"||j.type==="radio"?j.checked!=null:j.value!=null}}function ab(b,j){j=j.checked,j!=null&&ta(b,"checked",j,!1)}function bb(b,j){ab(b,j);var $=Sa(j.value),_e=j.type;if($!=null)_e==="number"?($===0&&b.value===""||b.value!=$)&&(b.value=""+$):b.value!==""+$&&(b.value=""+$);else if(_e==="submit"||_e==="reset"){b.removeAttribute("value");return}j.hasOwnProperty("value")?cb(b,j.type,$):j.hasOwnProperty("defaultValue")&&cb(b,j.type,Sa(j.defaultValue)),j.checked==null&&j.defaultChecked!=null&&(b.defaultChecked=!!j.defaultChecked)}function db(b,j,$){if(j.hasOwnProperty("value")||j.hasOwnProperty("defaultValue")){var _e=j.type;if(!(_e!=="submit"&&_e!=="reset"||j.value!==void 0&&j.value!==null))return;j=""+b._wrapperState.initialValue,$||j===b.value||(b.value=j),b.defaultValue=j}$=b.name,$!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,$!==""&&(b.name=$)}function cb(b,j,$){(j!=="number"||Xa(b.ownerDocument)!==b)&&($==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+$&&(b.defaultValue=""+$))}var eb=Array.isArray;function fb(b,j,$,_e){if(b=b.options,j){j={};for(var et=0;et<$.length;et++)j["$"+$[et]]=!0;for($=0;$<b.length;$++)et=j.hasOwnProperty("$"+b[$].value),b[$].selected!==et&&(b[$].selected=et),et&&_e&&(b[$].defaultSelected=!0)}else{for($=""+Sa($),j=null,et=0;et<b.length;et++){if(b[et].value===$){b[et].selected=!0,_e&&(b[et].defaultSelected=!0);return}j!==null||b[et].disabled||(j=b[et])}j!==null&&(j.selected=!0)}}function gb(b,j){if(j.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A({},j,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function hb(b,j){var $=j.value;if($==null){if($=j.children,j=j.defaultValue,$!=null){if(j!=null)throw Error(p$2(92));if(eb($)){if(1<$.length)throw Error(p$2(93));$=$[0]}j=$}j==null&&(j=""),$=j}b._wrapperState={initialValue:Sa($)}}function ib(b,j){var $=Sa(j.value),_e=Sa(j.defaultValue);$!=null&&($=""+$,$!==b.value&&(b.value=$),j.defaultValue==null&&b.defaultValue!==$&&(b.defaultValue=$)),_e!=null&&(b.defaultValue=""+_e)}function jb(b){var j=b.textContent;j===b._wrapperState.initialValue&&j!==""&&j!==null&&(b.value=j)}function kb(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(b,j){return b==null||b==="http://www.w3.org/1999/xhtml"?kb(j):b==="http://www.w3.org/2000/svg"&&j==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var mb,nb=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(j,$,_e,et){MSApp.execUnsafeLocalFunction(function(){return b(j,$,_e,et)})}:b}(function(b,j){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=j;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+j.valueOf().toString()+"</svg>",j=mb.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;j.firstChild;)b.appendChild(j.firstChild)}});function ob(b,j){if(j){var $=b.firstChild;if($&&$===b.lastChild&&$.nodeType===3){$.nodeValue=j;return}}b.textContent=j}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(b){qb.forEach(function(j){j=j+b.charAt(0).toUpperCase()+b.substring(1),pb[j]=pb[b]})});function rb(b,j,$){return j==null||typeof j=="boolean"||j===""?"":$||typeof j!="number"||j===0||pb.hasOwnProperty(b)&&pb[b]?(""+j).trim():j+"px"}function sb(b,j){b=b.style;for(var $ in j)if(j.hasOwnProperty($)){var _e=$.indexOf("--")===0,et=rb($,j[$],_e);$==="float"&&($="cssFloat"),_e?b.setProperty($,et):b[$]=et}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(b,j){if(j){if(tb[b]&&(j.children!=null||j.dangerouslySetInnerHTML!=null))throw Error(p$2(137,b));if(j.dangerouslySetInnerHTML!=null){if(j.children!=null)throw Error(p$2(60));if(typeof j.dangerouslySetInnerHTML!="object"||!("__html"in j.dangerouslySetInnerHTML))throw Error(p$2(61))}if(j.style!=null&&typeof j.style!="object")throw Error(p$2(62))}}function vb(b,j){if(b.indexOf("-")===-1)return typeof j.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var yb=null,zb=null,Ab=null;function Bb(b){if(b=Cb(b)){if(typeof yb!="function")throw Error(p$2(280));var j=b.stateNode;j&&(j=Db(j),yb(b.stateNode,b.type,j))}}function Eb(b){zb?Ab?Ab.push(b):Ab=[b]:zb=b}function Fb(){if(zb){var b=zb,j=Ab;if(Ab=zb=null,Bb(b),j)for(b=0;b<j.length;b++)Bb(j[b])}}function Gb(b,j){return b(j)}function Hb(){}var Ib=!1;function Jb(b,j,$){if(Ib)return b(j,$);Ib=!0;try{return Gb(b,j,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(b,j){var $=b.stateNode;if($===null)return null;var _e=Db($);if(_e===null)return null;$=_e[j];e:switch(j){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_e=!_e.disabled)||(b=b.type,_e=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!_e;break e;default:b=!1}if(b)return null;if($&&typeof $!="function")throw Error(p$2(231,j,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(b,j,$,_e,et,tt,nt,rt,st){var it=Array.prototype.slice.call(arguments,3);try{j.apply($,it)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(b){Ob=!0,Pb=b}};function Tb(b,j,$,_e,et,tt,nt,rt,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(b,j,$,_e,et,tt,nt,rt,st){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=it)}}function Vb(b){var j=b,$=b;if(b.alternate)for(;j.return;)j=j.return;else{b=j;do j=b,j.flags&4098&&($=j.return),b=j.return;while(b)}return j.tag===3?$:null}function Wb(b){if(b.tag===13){var j=b.memoizedState;if(j===null&&(b=b.alternate,b!==null&&(j=b.memoizedState)),j!==null)return j.dehydrated}return null}function Xb(b){if(Vb(b)!==b)throw Error(p$2(188))}function Yb(b){var j=b.alternate;if(!j){if(j=Vb(b),j===null)throw Error(p$2(188));return j!==b?null:b}for(var $=b,_e=j;;){var et=$.return;if(et===null)break;var tt=et.alternate;if(tt===null){if(_e=et.return,_e!==null){$=_e;continue}break}if(et.child===tt.child){for(tt=et.child;tt;){if(tt===$)return Xb(et),b;if(tt===_e)return Xb(et),j;tt=tt.sibling}throw Error(p$2(188))}if($.return!==_e.return)$=et,_e=tt;else{for(var nt=!1,rt=et.child;rt;){if(rt===$){nt=!0,$=et,_e=tt;break}if(rt===_e){nt=!0,_e=et,$=tt;break}rt=rt.sibling}if(!nt){for(rt=tt.child;rt;){if(rt===$){nt=!0,$=tt,_e=et;break}if(rt===_e){nt=!0,_e=tt,$=et;break}rt=rt.sibling}if(!nt)throw Error(p$2(189))}}if($.alternate!==_e)throw Error(p$2(190))}if($.tag!==3)throw Error(p$2(188));return $.stateNode.current===$?b:j}function Zb(b){return b=Yb(b),b!==null?$b(b):null}function $b(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var j=$b(b);if(j!==null)return j;b=b.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(b){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,b,void 0,(b.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(b){return b>>>=0,b===0?32:31-(pc(b)/qc|0)|0}var rc=64,sc=4194304;function tc(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function uc(b,j){var $=b.pendingLanes;if($===0)return 0;var _e=0,et=b.suspendedLanes,tt=b.pingedLanes,nt=$&268435455;if(nt!==0){var rt=nt&~et;rt!==0?_e=tc(rt):(tt&=nt,tt!==0&&(_e=tc(tt)))}else nt=$&~et,nt!==0?_e=tc(nt):tt!==0&&(_e=tc(tt));if(_e===0)return 0;if(j!==0&&j!==_e&&!(j&et)&&(et=_e&-_e,tt=j&-j,et>=tt||et===16&&(tt&4194240)!==0))return j;if(_e&4&&(_e|=$&16),j=b.entangledLanes,j!==0)for(b=b.entanglements,j&=_e;0<j;)$=31-oc(j),et=1<<$,_e|=b[$],j&=~et;return _e}function vc(b,j){switch(b){case 1:case 2:case 4:return j+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(b,j){for(var $=b.suspendedLanes,_e=b.pingedLanes,et=b.expirationTimes,tt=b.pendingLanes;0<tt;){var nt=31-oc(tt),rt=1<<nt,st=et[nt];st===-1?(!(rt&$)||rt&_e)&&(et[nt]=vc(rt,j)):st<=j&&(b.expiredLanes|=rt),tt&=~rt}}function xc(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function yc(){var b=rc;return rc<<=1,!(rc&4194240)&&(rc=64),b}function zc(b){for(var j=[],$=0;31>$;$++)j.push(b);return j}function Ac(b,j,$){b.pendingLanes|=j,j!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,j=31-oc(j),b[j]=$}function Bc(b,j){var $=b.pendingLanes&~j;b.pendingLanes=j,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=j,b.mutableReadLanes&=j,b.entangledLanes&=j,j=b.entanglements;var _e=b.eventTimes;for(b=b.expirationTimes;0<$;){var et=31-oc($),tt=1<<et;j[et]=0,_e[et]=-1,b[et]=-1,$&=~tt}}function Cc(b,j){var $=b.entangledLanes|=j;for(b=b.entanglements;$;){var _e=31-oc($),et=1<<_e;et&j|b[_e]&j&&(b[_e]|=j),$&=~et}}var C=0;function Dc(b){return b&=-b,1<b?4<b?b&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(b,j){switch(b){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(j.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(j.pointerId)}}function Tc(b,j,$,_e,et,tt){return b===null||b.nativeEvent!==tt?(b={blockedOn:j,domEventName:$,eventSystemFlags:_e,nativeEvent:tt,targetContainers:[et]},j!==null&&(j=Cb(j),j!==null&&Fc(j)),b):(b.eventSystemFlags|=_e,j=b.targetContainers,et!==null&&j.indexOf(et)===-1&&j.push(et),b)}function Uc(b,j,$,_e,et){switch(j){case"focusin":return Lc=Tc(Lc,b,j,$,_e,et),!0;case"dragenter":return Mc=Tc(Mc,b,j,$,_e,et),!0;case"mouseover":return Nc=Tc(Nc,b,j,$,_e,et),!0;case"pointerover":var tt=et.pointerId;return Oc.set(tt,Tc(Oc.get(tt)||null,b,j,$,_e,et)),!0;case"gotpointercapture":return tt=et.pointerId,Pc.set(tt,Tc(Pc.get(tt)||null,b,j,$,_e,et)),!0}return!1}function Vc(b){var j=Wc(b.target);if(j!==null){var $=Vb(j);if($!==null){if(j=$.tag,j===13){if(j=Wb($),j!==null){b.blockedOn=j,Ic(b.priority,function(){Gc($)});return}}else if(j===3&&$.stateNode.current.memoizedState.isDehydrated){b.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Xc(b){if(b.blockedOn!==null)return!1;for(var j=b.targetContainers;0<j.length;){var $=Yc(b.domEventName,b.eventSystemFlags,j[0],b.nativeEvent);if($===null){$=b.nativeEvent;var _e=new $.constructor($.type,$);wb=_e,$.target.dispatchEvent(_e),wb=null}else return j=Cb($),j!==null&&Fc(j),b.blockedOn=$,!1;j.shift()}return!0}function Zc(b,j,$){Xc(b)&&$.delete(j)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(b,j){b.blockedOn===j&&(b.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(b){function j(et){return ad(et,b)}if(0<Kc.length){ad(Kc[0],b);for(var $=1;$<Kc.length;$++){var _e=Kc[$];_e.blockedOn===b&&(_e.blockedOn=null)}}for(Lc!==null&&ad(Lc,b),Mc!==null&&ad(Mc,b),Nc!==null&&ad(Nc,b),Oc.forEach(j),Pc.forEach(j),$=0;$<Qc.length;$++)_e=Qc[$],_e.blockedOn===b&&(_e.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(b,j,$,_e){var et=C,tt=cd.transition;cd.transition=null;try{C=1,fd(b,j,$,_e)}finally{C=et,cd.transition=tt}}function gd(b,j,$,_e){var et=C,tt=cd.transition;cd.transition=null;try{C=4,fd(b,j,$,_e)}finally{C=et,cd.transition=tt}}function fd(b,j,$,_e){if(dd){var et=Yc(b,j,$,_e);if(et===null)hd(b,j,_e,id,$),Sc(b,_e);else if(Uc(et,b,j,$,_e))_e.stopPropagation();else if(Sc(b,_e),j&4&&-1<Rc.indexOf(b)){for(;et!==null;){var tt=Cb(et);if(tt!==null&&Ec(tt),tt=Yc(b,j,$,_e),tt===null&&hd(b,j,_e,id,$),tt===et)break;et=tt}et!==null&&_e.stopPropagation()}else hd(b,j,_e,null,$)}}var id=null;function Yc(b,j,$,_e){if(id=null,b=xb(_e),b=Wc(b),b!==null)if(j=Vb(b),j===null)b=null;else if($=j.tag,$===13){if(b=Wb(j),b!==null)return b;b=null}else if($===3){if(j.stateNode.current.memoizedState.isDehydrated)return j.tag===3?j.stateNode.containerInfo:null;b=null}else j!==b&&(b=null);return id=b,null}function jd(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var b,j=ld,$=j.length,_e,et="value"in kd?kd.value:kd.textContent,tt=et.length;for(b=0;b<$&&j[b]===et[b];b++);var nt=$-b;for(_e=1;_e<=nt&&j[$-_e]===et[tt-_e];_e++);return md=et.slice(b,1<_e?1-_e:void 0)}function od(b){var j=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&j===13&&(b=13)):b=j,b===10&&(b=13),32<=b||b===13?b:0}function pd(){return!0}function qd(){return!1}function rd(b){function j($,_e,et,tt,nt){this._reactName=$,this._targetInst=et,this.type=_e,this.nativeEvent=tt,this.target=nt,this.currentTarget=null;for(var rt in b)b.hasOwnProperty(rt)&&($=b[rt],this[rt]=$?$(tt):tt[rt]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(j.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),j}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==yd&&(yd&&b.type==="mousemove"?(wd=b.screenX-yd.screenX,xd=b.screenY-yd.screenY):xd=wd=0,yd=b),wd)},movementY:function(b){return"movementY"in b?b.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(b){var j=this.nativeEvent;return j.getModifierState?j.getModifierState(b):(b=Od[b])?!!j[b]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(b){if(b.key){var j=Md[b.key]||b.key;if(j!=="Unidentified")return j}return b.type==="keypress"?(b=od(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?Nd[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(b){return b.type==="keypress"?od(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?od(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(b,j){switch(b){case"keyup":return $d.indexOf(j.keyCode)!==-1;case"keydown":return j.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var ie=!1;function je(b,j){switch(b){case"compositionend":return he(j);case"keypress":return j.which!==32?null:(fe=!0,ee);case"textInput":return b=j.data,b===ee&&fe?null:b;default:return null}}function ke(b,j){if(ie)return b==="compositionend"||!ae&&ge(b,j)?(b=nd(),md=ld=kd=null,ie=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!(j.ctrlKey||j.altKey||j.metaKey)||j.ctrlKey&&j.altKey){if(j.char&&1<j.char.length)return j.char;if(j.which)return String.fromCharCode(j.which)}return null;case"compositionend":return de&&j.locale!=="ko"?null:j.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(b){var j=b&&b.nodeName&&b.nodeName.toLowerCase();return j==="input"?!!le[b.type]:j==="textarea"}function ne(b,j,$,_e){Eb(_e),j=oe(j,"onChange"),0<j.length&&($=new td("onChange","change",null,$,_e),b.push({event:$,listeners:j}))}var pe=null,qe=null;function re(b){se(b,0)}function te(b){var j=ue(b);if(Wa(j))return b}function ve(b,j){if(b==="change")return j}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(b){if(b.propertyName==="value"&&te(qe)){var j=[];ne(j,qe,b,xb(b)),Jb(re,j)}}function Ce(b,j,$){b==="focusin"?(Ae(),pe=j,qe=$,pe.attachEvent("onpropertychange",Be)):b==="focusout"&&Ae()}function De(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return te(qe)}function Ee(b,j){if(b==="click")return te(j)}function Fe(b,j){if(b==="input"||b==="change")return te(j)}function Ge(b,j){return b===j&&(b!==0||1/b===1/j)||b!==b&&j!==j}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(b,j){if(He(b,j))return!0;if(typeof b!="object"||b===null||typeof j!="object"||j===null)return!1;var $=Object.keys(b),_e=Object.keys(j);if($.length!==_e.length)return!1;for(_e=0;_e<$.length;_e++){var et=$[_e];if(!ja.call(j,et)||!He(b[et],j[et]))return!1}return!0}function Je(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Ke(b,j){var $=Je(b);b=0;for(var _e;$;){if($.nodeType===3){if(_e=b+$.textContent.length,b<=j&&_e>=j)return{node:$,offset:j-b};b=_e}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=Je($)}}function Le(b,j){return b&&j?b===j?!0:b&&b.nodeType===3?!1:j&&j.nodeType===3?Le(b,j.parentNode):"contains"in b?b.contains(j):b.compareDocumentPosition?!!(b.compareDocumentPosition(j)&16):!1:!1}function Me(){for(var b=window,j=Xa();j instanceof b.HTMLIFrameElement;){try{var $=typeof j.contentWindow.location.href=="string"}catch{$=!1}if($)b=j.contentWindow;else break;j=Xa(b.document)}return j}function Ne(b){var j=b&&b.nodeName&&b.nodeName.toLowerCase();return j&&(j==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||j==="textarea"||b.contentEditable==="true")}function Oe(b){var j=Me(),$=b.focusedElem,_e=b.selectionRange;if(j!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(_e!==null&&Ne($)){if(j=_e.start,b=_e.end,b===void 0&&(b=j),"selectionStart"in $)$.selectionStart=j,$.selectionEnd=Math.min(b,$.value.length);else if(b=(j=$.ownerDocument||document)&&j.defaultView||window,b.getSelection){b=b.getSelection();var et=$.textContent.length,tt=Math.min(_e.start,et);_e=_e.end===void 0?tt:Math.min(_e.end,et),!b.extend&&tt>_e&&(et=_e,_e=tt,tt=et),et=Ke($,tt);var nt=Ke($,_e);et&&nt&&(b.rangeCount!==1||b.anchorNode!==et.node||b.anchorOffset!==et.offset||b.focusNode!==nt.node||b.focusOffset!==nt.offset)&&(j=j.createRange(),j.setStart(et.node,et.offset),b.removeAllRanges(),tt>_e?(b.addRange(j),b.extend(nt.node,nt.offset)):(j.setEnd(nt.node,nt.offset),b.addRange(j)))}}for(j=[],b=$;b=b.parentNode;)b.nodeType===1&&j.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<j.length;$++)b=j[$],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(b,j,$){var _e=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(_e)||(_e=Qe,"selectionStart"in _e&&Ne(_e)?_e={start:_e.selectionStart,end:_e.selectionEnd}:(_e=(_e.ownerDocument&&_e.ownerDocument.defaultView||window).getSelection(),_e={anchorNode:_e.anchorNode,anchorOffset:_e.anchorOffset,focusNode:_e.focusNode,focusOffset:_e.focusOffset}),Se&&Ie(Se,_e)||(Se=_e,_e=oe(Re,"onSelect"),0<_e.length&&(j=new td("onSelect","select",null,j,$),b.push({event:j,listeners:_e}),j.target=Qe)))}function Ve(b,j){var $={};return $[b.toLowerCase()]=j.toLowerCase(),$["Webkit"+b]="webkit"+j,$["Moz"+b]="moz"+j,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(b){if(Xe[b])return Xe[b];if(!We[b])return b;var j=We[b],$;for($ in j)if(j.hasOwnProperty($)&&$ in Ye)return Xe[b]=j[$];return b}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(b,j){df.set(b,j),fa(j,[b])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(b,j,$){var _e=b.type||"unknown-event";b.currentTarget=$,Ub(_e,j,void 0,b),b.currentTarget=null}function se(b,j){j=(j&4)!==0;for(var $=0;$<b.length;$++){var _e=b[$],et=_e.event;_e=_e.listeners;e:{var tt=void 0;if(j)for(var nt=_e.length-1;0<=nt;nt--){var rt=_e[nt],st=rt.instance,it=rt.currentTarget;if(rt=rt.listener,st!==tt&&et.isPropagationStopped())break e;nf(et,rt,it),tt=st}else for(nt=0;nt<_e.length;nt++){if(rt=_e[nt],st=rt.instance,it=rt.currentTarget,rt=rt.listener,st!==tt&&et.isPropagationStopped())break e;nf(et,rt,it),tt=st}}}if(Qb)throw b=Rb,Qb=!1,Rb=null,b}function D(b,j){var $=j[of];$===void 0&&($=j[of]=new Set);var _e=b+"__bubble";$.has(_e)||(pf(j,b,2,!1),$.add(_e))}function qf(b,j,$){var _e=0;j&&(_e|=4),pf($,b,_e,j)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(b){if(!b[rf]){b[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,b),qf($,!0,b))});var j=b.nodeType===9?b:b.ownerDocument;j===null||j[rf]||(j[rf]=!0,qf("selectionchange",!1,j))}}function pf(b,j,$,_e){switch(jd(j)){case 1:var et=ed;break;case 4:et=gd;break;default:et=fd}$=et.bind(null,j,$,b),et=void 0,!Lb||j!=="touchstart"&&j!=="touchmove"&&j!=="wheel"||(et=!0),_e?et!==void 0?b.addEventListener(j,$,{capture:!0,passive:et}):b.addEventListener(j,$,!0):et!==void 0?b.addEventListener(j,$,{passive:et}):b.addEventListener(j,$,!1)}function hd(b,j,$,_e,et){var tt=_e;if(!(j&1)&&!(j&2)&&_e!==null)e:for(;;){if(_e===null)return;var nt=_e.tag;if(nt===3||nt===4){var rt=_e.stateNode.containerInfo;if(rt===et||rt.nodeType===8&&rt.parentNode===et)break;if(nt===4)for(nt=_e.return;nt!==null;){var st=nt.tag;if((st===3||st===4)&&(st=nt.stateNode.containerInfo,st===et||st.nodeType===8&&st.parentNode===et))return;nt=nt.return}for(;rt!==null;){if(nt=Wc(rt),nt===null)return;if(st=nt.tag,st===5||st===6){_e=tt=nt;continue e}rt=rt.parentNode}}_e=_e.return}Jb(function(){var it=tt,ct=xb($),ot=[];e:{var at=df.get(b);if(at!==void 0){var ft=td,dt=b;switch(b){case"keypress":if(od($)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":dt="focus",ft=Fd;break;case"focusout":dt="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var mt=(j&4)!==0,xt=!mt&&b==="scroll",ht=mt?at!==null?at+"Capture":null:at;mt=[];for(var gt=it,Et;gt!==null;){Et=gt;var St=Et.stateNode;if(Et.tag===5&&St!==null&&(Et=St,ht!==null&&(St=Kb(gt,ht),St!=null&&mt.push(tf(gt,St,Et)))),xt)break;gt=gt.return}0<mt.length&&(at=new ft(at,dt,null,$,ct),ot.push({event:at,listeners:mt}))}}if(!(j&7)){e:{if(at=b==="mouseover"||b==="pointerover",ft=b==="mouseout"||b==="pointerout",at&&$!==wb&&(dt=$.relatedTarget||$.fromElement)&&(Wc(dt)||dt[uf]))break e;if((ft||at)&&(at=ct.window===ct?ct:(at=ct.ownerDocument)?at.defaultView||at.parentWindow:window,ft?(dt=$.relatedTarget||$.toElement,ft=it,dt=dt?Wc(dt):null,dt!==null&&(xt=Vb(dt),dt!==xt||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(ft=null,dt=it),ft!==dt)){if(mt=Bd,St="onMouseLeave",ht="onMouseEnter",gt="mouse",(b==="pointerout"||b==="pointerover")&&(mt=Td,St="onPointerLeave",ht="onPointerEnter",gt="pointer"),xt=ft==null?at:ue(ft),Et=dt==null?at:ue(dt),at=new mt(St,gt+"leave",ft,$,ct),at.target=xt,at.relatedTarget=Et,St=null,Wc(ct)===it&&(mt=new mt(ht,gt+"enter",dt,$,ct),mt.target=Et,mt.relatedTarget=xt,St=mt),xt=St,ft&&dt)t:{for(mt=ft,ht=dt,gt=0,Et=mt;Et;Et=vf(Et))gt++;for(Et=0,St=ht;St;St=vf(St))Et++;for(;0<gt-Et;)mt=vf(mt),gt--;for(;0<Et-gt;)ht=vf(ht),Et--;for(;gt--;){if(mt===ht||ht!==null&&mt===ht.alternate)break t;mt=vf(mt),ht=vf(ht)}mt=null}else mt=null;ft!==null&&wf(ot,at,ft,mt,!1),dt!==null&&xt!==null&&wf(ot,xt,dt,mt,!0)}}e:{if(at=it?ue(it):window,ft=at.nodeName&&at.nodeName.toLowerCase(),ft==="select"||ft==="input"&&at.type==="file")var At=ve;else if(me(at))if(we)At=Fe;else{At=De;var $t=Ce}else(ft=at.nodeName)&&ft.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(At=Ee);if(At&&(At=At(b,it))){ne(ot,At,$,ct);break e}$t&&$t(b,at,it),b==="focusout"&&($t=at._wrapperState)&&$t.controlled&&at.type==="number"&&cb(at,"number",at.value)}switch($t=it?ue(it):window,b){case"focusin":(me($t)||$t.contentEditable==="true")&&(Qe=$t,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,$,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,$,ct)}var wt;if(ae)e:{switch(b){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else ie?ge(b,$)&&(Pt="onCompositionEnd"):b==="keydown"&&$.keyCode===229&&(Pt="onCompositionStart");Pt&&(de&&$.locale!=="ko"&&(ie||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ie&&(wt=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie=!0)),$t=oe(it,Pt),0<$t.length&&(Pt=new Ld(Pt,b,null,$,ct),ot.push({event:Pt,listeners:$t}),wt?Pt.data=wt:(wt=he($),wt!==null&&(Pt.data=wt)))),(wt=ce?je(b,$):ke(b,$))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ct=new Ld("onBeforeInput","beforeinput",null,$,ct),ot.push({event:ct,listeners:it}),ct.data=wt))}se(ot,j)})}function tf(b,j,$){return{instance:b,listener:j,currentTarget:$}}function oe(b,j){for(var $=j+"Capture",_e=[];b!==null;){var et=b,tt=et.stateNode;et.tag===5&&tt!==null&&(et=tt,tt=Kb(b,$),tt!=null&&_e.unshift(tf(b,tt,et)),tt=Kb(b,j),tt!=null&&_e.push(tf(b,tt,et))),b=b.return}return _e}function vf(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function wf(b,j,$,_e,et){for(var tt=j._reactName,nt=[];$!==null&&$!==_e;){var rt=$,st=rt.alternate,it=rt.stateNode;if(st!==null&&st===_e)break;rt.tag===5&&it!==null&&(rt=it,et?(st=Kb($,tt),st!=null&&nt.unshift(tf($,st,rt))):et||(st=Kb($,tt),st!=null&&nt.push(tf($,st,rt)))),$=$.return}nt.length!==0&&b.push({event:j,listeners:nt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(b){return(typeof b=="string"?b:""+b).replace(xf,`
`).replace(yf,"")}function Af(b,j,$){if(j=zf(j),zf(b)!==j&&$)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(b,j){return b==="textarea"||b==="noscript"||typeof j.children=="string"||typeof j.children=="number"||typeof j.dangerouslySetInnerHTML=="object"&&j.dangerouslySetInnerHTML!==null&&j.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(b){return Hf.resolve(null).then(b).catch(If)}:Ff;function If(b){setTimeout(function(){throw b})}function Kf(b,j){var $=j,_e=0;do{var et=$.nextSibling;if(b.removeChild($),et&&et.nodeType===8)if($=et.data,$==="/$"){if(_e===0){b.removeChild(et),bd(j);return}_e--}else $!=="$"&&$!=="$?"&&$!=="$!"||_e++;$=et}while($);bd(j)}function Lf(b){for(;b!=null;b=b.nextSibling){var j=b.nodeType;if(j===1||j===3)break;if(j===8){if(j=b.data,j==="$"||j==="$!"||j==="$?")break;if(j==="/$")return null}}return b}function Mf(b){b=b.previousSibling;for(var j=0;b;){if(b.nodeType===8){var $=b.data;if($==="$"||$==="$!"||$==="$?"){if(j===0)return b;j--}else $==="/$"&&j++}b=b.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(b){var j=b[Of];if(j)return j;for(var $=b.parentNode;$;){if(j=$[uf]||$[Of]){if($=j.alternate,j.child!==null||$!==null&&$.child!==null)for(b=Mf(b);b!==null;){if($=b[Of])return $;b=Mf(b)}return j}b=$,$=b.parentNode}return null}function Cb(b){return b=b[Of]||b[uf],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function ue(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(p$2(33))}function Db(b){return b[Pf]||null}var Sf=[],Tf=-1;function Uf(b){return{current:b}}function E$1(b){0>Tf||(b.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(b,j){Tf++,Sf[Tf]=b.current,b.current=j}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(b,j){var $=b.type.contextTypes;if(!$)return Vf;var _e=b.stateNode;if(_e&&_e.__reactInternalMemoizedUnmaskedChildContext===j)return _e.__reactInternalMemoizedMaskedChildContext;var et={},tt;for(tt in $)et[tt]=j[tt];return _e&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=j,b.__reactInternalMemoizedMaskedChildContext=et),et}function Zf(b){return b=b.childContextTypes,b!=null}function $f(){E$1(Wf),E$1(H)}function ag(b,j,$){if(H.current!==Vf)throw Error(p$2(168));G(H,j),G(Wf,$)}function bg(b,j,$){var _e=b.stateNode;if(j=j.childContextTypes,typeof _e.getChildContext!="function")return $;_e=_e.getChildContext();for(var et in _e)if(!(et in j))throw Error(p$2(108,Ra(b)||"Unknown",et));return A({},$,_e)}function cg(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,b),G(Wf,Wf.current),!0}function dg(b,j,$){var _e=b.stateNode;if(!_e)throw Error(p$2(169));$?(b=bg(b,j,Xf),_e.__reactInternalMemoizedMergedChildContext=b,E$1(Wf),E$1(H),G(H,b)):E$1(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(b){eg===null?eg=[b]:eg.push(b)}function ig(b){fg=!0,hg(b)}function jg(){if(!gg&&eg!==null){gg=!0;var b=0,j=C;try{var $=eg;for(C=1;b<$.length;b++){var _e=$[b];do _e=_e(!0);while(_e!==null)}eg=null,fg=!1}catch(et){throw eg!==null&&(eg=eg.slice(b+1)),ac(fc,jg),et}finally{C=j,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(b,j){kg[lg++]=ng,kg[lg++]=mg,mg=b,ng=j}function ug(b,j,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=b;var _e=rg;b=sg;var et=32-oc(_e)-1;_e&=~(1<<et),$+=1;var tt=32-oc(j)+et;if(30<tt){var nt=et-et%5;tt=(_e&(1<<nt)-1).toString(32),_e>>=nt,et-=nt,rg=1<<32-oc(j)+et|$<<et|_e,sg=tt+b}else rg=1<<tt|$<<et|_e,sg=b}function vg(b){b.return!==null&&(tg(b,1),ug(b,1,0))}function wg(b){for(;b===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;b===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(b,j){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=j,$.return=b,j=b.deletions,j===null?(b.deletions=[$],b.flags|=16):j.push($)}function Cg(b,j){switch(b.tag){case 5:var $=b.type;return j=j.nodeType!==1||$.toLowerCase()!==j.nodeName.toLowerCase()?null:j,j!==null?(b.stateNode=j,xg=b,yg=Lf(j.firstChild),!0):!1;case 6:return j=b.pendingProps===""||j.nodeType!==3?null:j,j!==null?(b.stateNode=j,xg=b,yg=null,!0):!1;case 13:return j=j.nodeType!==8?null:j,j!==null?($=qg!==null?{id:rg,overflow:sg}:null,b.memoizedState={dehydrated:j,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=j,$.return=b,b.child=$,xg=b,yg=null,!0):!1;default:return!1}}function Dg(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Eg(b){if(I){var j=yg;if(j){var $=j;if(!Cg(b,j)){if(Dg(b))throw Error(p$2(418));j=Lf($.nextSibling);var _e=xg;j&&Cg(b,j)?Ag(_e,$):(b.flags=b.flags&-4097|2,I=!1,xg=b)}}else{if(Dg(b))throw Error(p$2(418));b.flags=b.flags&-4097|2,I=!1,xg=b}}}function Fg(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;xg=b}function Gg(b){if(b!==xg)return!1;if(!I)return Fg(b),I=!0,!1;var j;if((j=b.tag!==3)&&!(j=b.tag!==5)&&(j=b.type,j=j!=="head"&&j!=="body"&&!Ef(b.type,b.memoizedProps)),j&&(j=yg)){if(Dg(b))throw Hg(),Error(p$2(418));for(;j;)Ag(b,j),j=Lf(j.nextSibling)}if(Fg(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(p$2(317));e:{for(b=b.nextSibling,j=0;b;){if(b.nodeType===8){var $=b.data;if($==="/$"){if(j===0){yg=Lf(b.nextSibling);break e}j--}else $!=="$"&&$!=="$!"&&$!=="$?"||j++}b=b.nextSibling}yg=null}}else yg=xg?Lf(b.stateNode.nextSibling):null;return!0}function Hg(){for(var b=yg;b;)b=Lf(b.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(b){zg===null?zg=[b]:zg.push(b)}var Kg=ua.ReactCurrentBatchConfig;function Lg(b,j,$){if(b=$.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$2(309));var _e=$.stateNode}if(!_e)throw Error(p$2(147,b));var et=_e,tt=""+b;return j!==null&&j.ref!==null&&typeof j.ref=="function"&&j.ref._stringRef===tt?j.ref:(j=function(nt){var rt=et.refs;nt===null?delete rt[tt]:rt[tt]=nt},j._stringRef=tt,j)}if(typeof b!="string")throw Error(p$2(284));if(!$._owner)throw Error(p$2(290,b))}return b}function Mg(b,j){throw b=Object.prototype.toString.call(j),Error(p$2(31,b==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":b))}function Ng(b){var j=b._init;return j(b._payload)}function Og(b){function j(ht,gt){if(b){var Et=ht.deletions;Et===null?(ht.deletions=[gt],ht.flags|=16):Et.push(gt)}}function $(ht,gt){if(!b)return null;for(;gt!==null;)j(ht,gt),gt=gt.sibling;return null}function _e(ht,gt){for(ht=new Map;gt!==null;)gt.key!==null?ht.set(gt.key,gt):ht.set(gt.index,gt),gt=gt.sibling;return ht}function et(ht,gt){return ht=Pg(ht,gt),ht.index=0,ht.sibling=null,ht}function tt(ht,gt,Et){return ht.index=Et,b?(Et=ht.alternate,Et!==null?(Et=Et.index,Et<gt?(ht.flags|=2,gt):Et):(ht.flags|=2,gt)):(ht.flags|=1048576,gt)}function nt(ht){return b&&ht.alternate===null&&(ht.flags|=2),ht}function rt(ht,gt,Et,St){return gt===null||gt.tag!==6?(gt=Qg(Et,ht.mode,St),gt.return=ht,gt):(gt=et(gt,Et),gt.return=ht,gt)}function st(ht,gt,Et,St){var At=Et.type;return At===ya?ct(ht,gt,Et.props.children,St,Et.key):gt!==null&&(gt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===gt.type)?(St=et(gt,Et.props),St.ref=Lg(ht,gt,Et),St.return=ht,St):(St=Rg(Et.type,Et.key,Et.props,null,ht.mode,St),St.ref=Lg(ht,gt,Et),St.return=ht,St)}function it(ht,gt,Et,St){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Et.containerInfo||gt.stateNode.implementation!==Et.implementation?(gt=Sg(Et,ht.mode,St),gt.return=ht,gt):(gt=et(gt,Et.children||[]),gt.return=ht,gt)}function ct(ht,gt,Et,St,At){return gt===null||gt.tag!==7?(gt=Tg(Et,ht.mode,St,At),gt.return=ht,gt):(gt=et(gt,Et),gt.return=ht,gt)}function ot(ht,gt,Et){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=Qg(""+gt,ht.mode,Et),gt.return=ht,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return Et=Rg(gt.type,gt.key,gt.props,null,ht.mode,Et),Et.ref=Lg(ht,null,gt),Et.return=ht,Et;case wa:return gt=Sg(gt,ht.mode,Et),gt.return=ht,gt;case Ha:var St=gt._init;return ot(ht,St(gt._payload),Et)}if(eb(gt)||Ka(gt))return gt=Tg(gt,ht.mode,Et,null),gt.return=ht,gt;Mg(ht,gt)}return null}function at(ht,gt,Et,St){var At=gt!==null?gt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return At!==null?null:rt(ht,gt,""+Et,St);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return Et.key===At?st(ht,gt,Et,St):null;case wa:return Et.key===At?it(ht,gt,Et,St):null;case Ha:return At=Et._init,at(ht,gt,At(Et._payload),St)}if(eb(Et)||Ka(Et))return At!==null?null:ct(ht,gt,Et,St,null);Mg(ht,Et)}return null}function ft(ht,gt,Et,St,At){if(typeof St=="string"&&St!==""||typeof St=="number")return ht=ht.get(Et)||null,rt(gt,ht,""+St,At);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return ht=ht.get(St.key===null?Et:St.key)||null,st(gt,ht,St,At);case wa:return ht=ht.get(St.key===null?Et:St.key)||null,it(gt,ht,St,At);case Ha:var $t=St._init;return ft(ht,gt,Et,$t(St._payload),At)}if(eb(St)||Ka(St))return ht=ht.get(Et)||null,ct(gt,ht,St,At,null);Mg(gt,St)}return null}function dt(ht,gt,Et,St){for(var At=null,$t=null,wt=gt,Pt=gt=0,bt=null;wt!==null&&Pt<Et.length;Pt++){wt.index>Pt?(bt=wt,wt=null):bt=wt.sibling;var Bt=at(ht,wt,Et[Pt],St);if(Bt===null){wt===null&&(wt=bt);break}b&&wt&&Bt.alternate===null&&j(ht,wt),gt=tt(Bt,gt,Pt),$t===null?At=Bt:$t.sibling=Bt,$t=Bt,wt=bt}if(Pt===Et.length)return $(ht,wt),I&&tg(ht,Pt),At;if(wt===null){for(;Pt<Et.length;Pt++)wt=ot(ht,Et[Pt],St),wt!==null&&(gt=tt(wt,gt,Pt),$t===null?At=wt:$t.sibling=wt,$t=wt);return I&&tg(ht,Pt),At}for(wt=_e(ht,wt);Pt<Et.length;Pt++)bt=ft(wt,ht,Pt,Et[Pt],St),bt!==null&&(b&&bt.alternate!==null&&wt.delete(bt.key===null?Pt:bt.key),gt=tt(bt,gt,Pt),$t===null?At=bt:$t.sibling=bt,$t=bt);return b&&wt.forEach(function(Yt){return j(ht,Yt)}),I&&tg(ht,Pt),At}function mt(ht,gt,Et,St){var At=Ka(Et);if(typeof At!="function")throw Error(p$2(150));if(Et=At.call(Et),Et==null)throw Error(p$2(151));for(var $t=At=null,wt=gt,Pt=gt=0,bt=null,Bt=Et.next();wt!==null&&!Bt.done;Pt++,Bt=Et.next()){wt.index>Pt?(bt=wt,wt=null):bt=wt.sibling;var Yt=at(ht,wt,Bt.value,St);if(Yt===null){wt===null&&(wt=bt);break}b&&wt&&Yt.alternate===null&&j(ht,wt),gt=tt(Yt,gt,Pt),$t===null?At=Yt:$t.sibling=Yt,$t=Yt,wt=bt}if(Bt.done)return $(ht,wt),I&&tg(ht,Pt),At;if(wt===null){for(;!Bt.done;Pt++,Bt=Et.next())Bt=ot(ht,Bt.value,St),Bt!==null&&(gt=tt(Bt,gt,Pt),$t===null?At=Bt:$t.sibling=Bt,$t=Bt);return I&&tg(ht,Pt),At}for(wt=_e(ht,wt);!Bt.done;Pt++,Bt=Et.next())Bt=ft(wt,ht,Pt,Bt.value,St),Bt!==null&&(b&&Bt.alternate!==null&&wt.delete(Bt.key===null?Pt:Bt.key),gt=tt(Bt,gt,Pt),$t===null?At=Bt:$t.sibling=Bt,$t=Bt);return b&&wt.forEach(function(rn){return j(ht,rn)}),I&&tg(ht,Pt),At}function xt(ht,gt,Et,St){if(typeof Et=="object"&&Et!==null&&Et.type===ya&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:e:{for(var At=Et.key,$t=gt;$t!==null;){if($t.key===At){if(At=Et.type,At===ya){if($t.tag===7){$(ht,$t.sibling),gt=et($t,Et.props.children),gt.return=ht,ht=gt;break e}}else if($t.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===$t.type){$(ht,$t.sibling),gt=et($t,Et.props),gt.ref=Lg(ht,$t,Et),gt.return=ht,ht=gt;break e}$(ht,$t);break}else j(ht,$t);$t=$t.sibling}Et.type===ya?(gt=Tg(Et.props.children,ht.mode,St,Et.key),gt.return=ht,ht=gt):(St=Rg(Et.type,Et.key,Et.props,null,ht.mode,St),St.ref=Lg(ht,gt,Et),St.return=ht,ht=St)}return nt(ht);case wa:e:{for($t=Et.key;gt!==null;){if(gt.key===$t)if(gt.tag===4&&gt.stateNode.containerInfo===Et.containerInfo&&gt.stateNode.implementation===Et.implementation){$(ht,gt.sibling),gt=et(gt,Et.children||[]),gt.return=ht,ht=gt;break e}else{$(ht,gt);break}else j(ht,gt);gt=gt.sibling}gt=Sg(Et,ht.mode,St),gt.return=ht,ht=gt}return nt(ht);case Ha:return $t=Et._init,xt(ht,gt,$t(Et._payload),St)}if(eb(Et))return dt(ht,gt,Et,St);if(Ka(Et))return mt(ht,gt,Et,St);Mg(ht,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,gt!==null&&gt.tag===6?($(ht,gt.sibling),gt=et(gt,Et),gt.return=ht,ht=gt):($(ht,gt),gt=Qg(Et,ht.mode,St),gt.return=ht,ht=gt),nt(ht)):$(ht,gt)}return xt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(b){var j=Wg.current;E$1(Wg),b._currentValue=j}function bh(b,j,$){for(;b!==null;){var _e=b.alternate;if((b.childLanes&j)!==j?(b.childLanes|=j,_e!==null&&(_e.childLanes|=j)):_e!==null&&(_e.childLanes&j)!==j&&(_e.childLanes|=j),b===$)break;b=b.return}}function ch(b,j){Xg=b,Zg=Yg=null,b=b.dependencies,b!==null&&b.firstContext!==null&&(b.lanes&j&&(dh=!0),b.firstContext=null)}function eh(b){var j=b._currentValue;if(Zg!==b)if(b={context:b,memoizedValue:j,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=b,Xg.dependencies={lanes:0,firstContext:b}}else Yg=Yg.next=b;return j}var fh=null;function gh(b){fh===null?fh=[b]:fh.push(b)}function hh(b,j,$,_e){var et=j.interleaved;return et===null?($.next=$,gh(j)):($.next=et.next,et.next=$),j.interleaved=$,ih(b,_e)}function ih(b,j){b.lanes|=j;var $=b.alternate;for($!==null&&($.lanes|=j),$=b,b=b.return;b!==null;)b.childLanes|=j,$=b.alternate,$!==null&&($.childLanes|=j),$=b,b=b.return;return $.tag===3?$.stateNode:null}var jh=!1;function kh(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(b,j){b=b.updateQueue,j.updateQueue===b&&(j.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function mh(b,j){return{eventTime:b,lane:j,tag:0,payload:null,callback:null,next:null}}function nh(b,j,$){var _e=b.updateQueue;if(_e===null)return null;if(_e=_e.shared,K&2){var et=_e.pending;return et===null?j.next=j:(j.next=et.next,et.next=j),_e.pending=j,ih(b,$)}return et=_e.interleaved,et===null?(j.next=j,gh(_e)):(j.next=et.next,et.next=j),_e.interleaved=j,ih(b,$)}function oh(b,j,$){if(j=j.updateQueue,j!==null&&(j=j.shared,($&4194240)!==0)){var _e=j.lanes;_e&=b.pendingLanes,$|=_e,j.lanes=$,Cc(b,$)}}function ph(b,j){var $=b.updateQueue,_e=b.alternate;if(_e!==null&&(_e=_e.updateQueue,$===_e)){var et=null,tt=null;if($=$.firstBaseUpdate,$!==null){do{var nt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};tt===null?et=tt=nt:tt=tt.next=nt,$=$.next}while($!==null);tt===null?et=tt=j:tt=tt.next=j}else et=tt=j;$={baseState:_e.baseState,firstBaseUpdate:et,lastBaseUpdate:tt,shared:_e.shared,effects:_e.effects},b.updateQueue=$;return}b=$.lastBaseUpdate,b===null?$.firstBaseUpdate=j:b.next=j,$.lastBaseUpdate=j}function qh(b,j,$,_e){var et=b.updateQueue;jh=!1;var tt=et.firstBaseUpdate,nt=et.lastBaseUpdate,rt=et.shared.pending;if(rt!==null){et.shared.pending=null;var st=rt,it=st.next;st.next=null,nt===null?tt=it:nt.next=it,nt=st;var ct=b.alternate;ct!==null&&(ct=ct.updateQueue,rt=ct.lastBaseUpdate,rt!==nt&&(rt===null?ct.firstBaseUpdate=it:rt.next=it,ct.lastBaseUpdate=st))}if(tt!==null){var ot=et.baseState;nt=0,ct=it=st=null,rt=tt;do{var at=rt.lane,ft=rt.eventTime;if((_e&at)===at){ct!==null&&(ct=ct.next={eventTime:ft,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var dt=b,mt=rt;switch(at=j,ft=$,mt.tag){case 1:if(dt=mt.payload,typeof dt=="function"){ot=dt.call(ft,ot,at);break e}ot=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=mt.payload,at=typeof dt=="function"?dt.call(ft,ot,at):dt,at==null)break e;ot=A({},ot,at);break e;case 2:jh=!0}}rt.callback!==null&&rt.lane!==0&&(b.flags|=64,at=et.effects,at===null?et.effects=[rt]:at.push(rt))}else ft={eventTime:ft,lane:at,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},ct===null?(it=ct=ft,st=ot):ct=ct.next=ft,nt|=at;if(rt=rt.next,rt===null){if(rt=et.shared.pending,rt===null)break;at=rt,rt=at.next,at.next=null,et.lastBaseUpdate=at,et.shared.pending=null}}while(!0);if(ct===null&&(st=ot),et.baseState=st,et.firstBaseUpdate=it,et.lastBaseUpdate=ct,j=et.shared.interleaved,j!==null){et=j;do nt|=et.lane,et=et.next;while(et!==j)}else tt===null&&(et.shared.lanes=0);rh|=nt,b.lanes=nt,b.memoizedState=ot}}function sh(b,j,$){if(b=j.effects,j.effects=null,b!==null)for(j=0;j<b.length;j++){var _e=b[j],et=_e.callback;if(et!==null){if(_e.callback=null,_e=$,typeof et!="function")throw Error(p$2(191,et));et.call(_e)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(b){if(b===th)throw Error(p$2(174));return b}function yh(b,j){switch(G(wh,j),G(vh,b),G(uh,th),b=j.nodeType,b){case 9:case 11:j=(j=j.documentElement)?j.namespaceURI:lb(null,"");break;default:b=b===8?j.parentNode:j,j=b.namespaceURI||null,b=b.tagName,j=lb(j,b)}E$1(uh),G(uh,j)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(b){xh(wh.current);var j=xh(uh.current),$=lb(j,b.type);j!==$&&(G(vh,b),G(uh,$))}function Bh(b){vh.current===b&&(E$1(uh),E$1(vh))}var L=Uf(0);function Ch(b){for(var j=b;j!==null;){if(j.tag===13){var $=j.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return j}else if(j.tag===19&&j.memoizedProps.revealOrder!==void 0){if(j.flags&128)return j}else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===b)break;for(;j.sibling===null;){if(j.return===null||j.return===b)return null;j=j.return}j.sibling.return=j.return,j=j.sibling}return null}var Dh=[];function Eh(){for(var b=0;b<Dh.length;b++)Dh[b]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(b,j){if(j===null)return!1;for(var $=0;$<j.length&&$<b.length;$++)if(!He(b[$],j[$]))return!1;return!0}function Nh(b,j,$,_e,et,tt){if(Hh=tt,M=j,j.memoizedState=null,j.updateQueue=null,j.lanes=0,Fh.current=b===null||b.memoizedState===null?Oh:Ph,b=$(_e,et),Jh){tt=0;do{if(Jh=!1,Kh=0,25<=tt)throw Error(p$2(301));tt+=1,O=N=null,j.updateQueue=null,Fh.current=Qh,b=$(_e,et)}while(Jh)}if(Fh.current=Rh,j=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,j)throw Error(p$2(300));return b}function Sh(){var b=Kh!==0;return Kh=0,b}function Th(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=b:O=O.next=b,O}function Uh(){if(N===null){var b=M.alternate;b=b!==null?b.memoizedState:null}else b=N.next;var j=O===null?M.memoizedState:O.next;if(j!==null)O=j,N=b;else{if(b===null)throw Error(p$2(310));N=b,b={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=b:O=O.next=b}return O}function Vh(b,j){return typeof j=="function"?j(b):j}function Wh(b){var j=Uh(),$=j.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=b;var _e=N,et=_e.baseQueue,tt=$.pending;if(tt!==null){if(et!==null){var nt=et.next;et.next=tt.next,tt.next=nt}_e.baseQueue=et=tt,$.pending=null}if(et!==null){tt=et.next,_e=_e.baseState;var rt=nt=null,st=null,it=tt;do{var ct=it.lane;if((Hh&ct)===ct)st!==null&&(st=st.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),_e=it.hasEagerState?it.eagerState:b(_e,it.action);else{var ot={lane:ct,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};st===null?(rt=st=ot,nt=_e):st=st.next=ot,M.lanes|=ct,rh|=ct}it=it.next}while(it!==null&&it!==tt);st===null?nt=_e:st.next=rt,He(_e,j.memoizedState)||(dh=!0),j.memoizedState=_e,j.baseState=nt,j.baseQueue=st,$.lastRenderedState=_e}if(b=$.interleaved,b!==null){et=b;do tt=et.lane,M.lanes|=tt,rh|=tt,et=et.next;while(et!==b)}else et===null&&($.lanes=0);return[j.memoizedState,$.dispatch]}function Xh(b){var j=Uh(),$=j.queue;if($===null)throw Error(p$2(311));$.lastRenderedReducer=b;var _e=$.dispatch,et=$.pending,tt=j.memoizedState;if(et!==null){$.pending=null;var nt=et=et.next;do tt=b(tt,nt.action),nt=nt.next;while(nt!==et);He(tt,j.memoizedState)||(dh=!0),j.memoizedState=tt,j.baseQueue===null&&(j.baseState=tt),$.lastRenderedState=tt}return[tt,_e]}function Yh(){}function Zh(b,j){var $=M,_e=Uh(),et=j(),tt=!He(_e.memoizedState,et);if(tt&&(_e.memoizedState=et,dh=!0),_e=_e.queue,$h(ai.bind(null,$,_e,b),[b]),_e.getSnapshot!==j||tt||O!==null&&O.memoizedState.tag&1){if($.flags|=2048,bi(9,ci.bind(null,$,_e,et,j),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di($,j,et)}return et}function di(b,j,$){b.flags|=16384,b={getSnapshot:j,value:$},j=M.updateQueue,j===null?(j={lastEffect:null,stores:null},M.updateQueue=j,j.stores=[b]):($=j.stores,$===null?j.stores=[b]:$.push(b))}function ci(b,j,$,_e){j.value=$,j.getSnapshot=_e,ei(j)&&fi(b)}function ai(b,j,$){return $(function(){ei(j)&&fi(b)})}function ei(b){var j=b.getSnapshot;b=b.value;try{var $=j();return!He(b,$)}catch{return!0}}function fi(b){var j=ih(b,1);j!==null&&gi(j,b,1,-1)}function hi(b){var j=Th();return typeof b=="function"&&(b=b()),j.memoizedState=j.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:b},j.queue=b,b=b.dispatch=ii.bind(null,M,b),[j.memoizedState,b]}function bi(b,j,$,_e){return b={tag:b,create:j,destroy:$,deps:_e,next:null},j=M.updateQueue,j===null?(j={lastEffect:null,stores:null},M.updateQueue=j,j.lastEffect=b.next=b):($=j.lastEffect,$===null?j.lastEffect=b.next=b:(_e=$.next,$.next=b,b.next=_e,j.lastEffect=b)),b}function ji(){return Uh().memoizedState}function ki(b,j,$,_e){var et=Th();M.flags|=b,et.memoizedState=bi(1|j,$,void 0,_e===void 0?null:_e)}function li(b,j,$,_e){var et=Uh();_e=_e===void 0?null:_e;var tt=void 0;if(N!==null){var nt=N.memoizedState;if(tt=nt.destroy,_e!==null&&Mh(_e,nt.deps)){et.memoizedState=bi(j,$,tt,_e);return}}M.flags|=b,et.memoizedState=bi(1|j,$,tt,_e)}function mi(b,j){return ki(8390656,8,b,j)}function $h(b,j){return li(2048,8,b,j)}function ni(b,j){return li(4,2,b,j)}function oi(b,j){return li(4,4,b,j)}function pi(b,j){if(typeof j=="function")return b=b(),j(b),function(){j(null)};if(j!=null)return b=b(),j.current=b,function(){j.current=null}}function qi(b,j,$){return $=$!=null?$.concat([b]):null,li(4,4,pi.bind(null,j,b),$)}function ri(){}function si(b,j){var $=Uh();j=j===void 0?null:j;var _e=$.memoizedState;return _e!==null&&j!==null&&Mh(j,_e[1])?_e[0]:($.memoizedState=[b,j],b)}function ti(b,j){var $=Uh();j=j===void 0?null:j;var _e=$.memoizedState;return _e!==null&&j!==null&&Mh(j,_e[1])?_e[0]:(b=b(),$.memoizedState=[b,j],b)}function ui(b,j,$){return Hh&21?(He($,j)||($=yc(),M.lanes|=$,rh|=$,b.baseState=!0),j):(b.baseState&&(b.baseState=!1,dh=!0),b.memoizedState=$)}function vi(b,j){var $=C;C=$!==0&&4>$?$:4,b(!0);var _e=Gh.transition;Gh.transition={};try{b(!1),j()}finally{C=$,Gh.transition=_e}}function wi(){return Uh().memoizedState}function xi(b,j,$){var _e=yi(b);if($={lane:_e,action:$,hasEagerState:!1,eagerState:null,next:null},zi(b))Ai(j,$);else if($=hh(b,j,$,_e),$!==null){var et=R();gi($,b,_e,et),Bi($,j,_e)}}function ii(b,j,$){var _e=yi(b),et={lane:_e,action:$,hasEagerState:!1,eagerState:null,next:null};if(zi(b))Ai(j,et);else{var tt=b.alternate;if(b.lanes===0&&(tt===null||tt.lanes===0)&&(tt=j.lastRenderedReducer,tt!==null))try{var nt=j.lastRenderedState,rt=tt(nt,$);if(et.hasEagerState=!0,et.eagerState=rt,He(rt,nt)){var st=j.interleaved;st===null?(et.next=et,gh(j)):(et.next=st.next,st.next=et),j.interleaved=et;return}}catch{}finally{}$=hh(b,j,et,_e),$!==null&&(et=R(),gi($,b,_e,et),Bi($,j,_e))}}function zi(b){var j=b.alternate;return b===M||j!==null&&j===M}function Ai(b,j){Jh=Ih=!0;var $=b.pending;$===null?j.next=j:(j.next=$.next,$.next=j),b.pending=j}function Bi(b,j,$){if($&4194240){var _e=j.lanes;_e&=b.pendingLanes,$|=_e,j.lanes=$,Cc(b,$)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(b,j){return Th().memoizedState=[b,j===void 0?null:j],b},useContext:eh,useEffect:mi,useImperativeHandle:function(b,j,$){return $=$!=null?$.concat([b]):null,ki(4194308,4,pi.bind(null,j,b),$)},useLayoutEffect:function(b,j){return ki(4194308,4,b,j)},useInsertionEffect:function(b,j){return ki(4,2,b,j)},useMemo:function(b,j){var $=Th();return j=j===void 0?null:j,b=b(),$.memoizedState=[b,j],b},useReducer:function(b,j,$){var _e=Th();return j=$!==void 0?$(j):j,_e.memoizedState=_e.baseState=j,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:j},_e.queue=b,b=b.dispatch=xi.bind(null,M,b),[_e.memoizedState,b]},useRef:function(b){var j=Th();return b={current:b},j.memoizedState=b},useState:hi,useDebugValue:ri,useDeferredValue:function(b){return Th().memoizedState=b},useTransition:function(){var b=hi(!1),j=b[0];return b=vi.bind(null,b[1]),Th().memoizedState=b,[j,b]},useMutableSource:function(){},useSyncExternalStore:function(b,j,$){var _e=M,et=Th();if(I){if($===void 0)throw Error(p$2(407));$=$()}else{if($=j(),Q===null)throw Error(p$2(349));Hh&30||di(_e,j,$)}et.memoizedState=$;var tt={value:$,getSnapshot:j};return et.queue=tt,mi(ai.bind(null,_e,tt,b),[b]),_e.flags|=2048,bi(9,ci.bind(null,_e,tt,$,j),void 0,null),$},useId:function(){var b=Th(),j=Q.identifierPrefix;if(I){var $=sg,_e=rg;$=(_e&~(1<<32-oc(_e)-1)).toString(32)+$,j=":"+j+"R"+$,$=Kh++,0<$&&(j+="H"+$.toString(32)),j+=":"}else $=Lh++,j=":"+j+"r"+$.toString(32)+":";return b.memoizedState=j},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(b){var j=Uh();return ui(j,N.memoizedState,b)},useTransition:function(){var b=Wh(Vh)[0],j=Uh().memoizedState;return[b,j]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(b){var j=Uh();return N===null?j.memoizedState=b:ui(j,N.memoizedState,b)},useTransition:function(){var b=Xh(Vh)[0],j=Uh().memoizedState;return[b,j]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(b,j){if(b&&b.defaultProps){j=A({},j),b=b.defaultProps;for(var $ in b)j[$]===void 0&&(j[$]=b[$]);return j}return j}function Di(b,j,$,_e){j=b.memoizedState,$=$(_e,j),$=$==null?j:A({},j,$),b.memoizedState=$,b.lanes===0&&(b.updateQueue.baseState=$)}var Ei={isMounted:function(b){return(b=b._reactInternals)?Vb(b)===b:!1},enqueueSetState:function(b,j,$){b=b._reactInternals;var _e=R(),et=yi(b),tt=mh(_e,et);tt.payload=j,$!=null&&(tt.callback=$),j=nh(b,tt,et),j!==null&&(gi(j,b,et,_e),oh(j,b,et))},enqueueReplaceState:function(b,j,$){b=b._reactInternals;var _e=R(),et=yi(b),tt=mh(_e,et);tt.tag=1,tt.payload=j,$!=null&&(tt.callback=$),j=nh(b,tt,et),j!==null&&(gi(j,b,et,_e),oh(j,b,et))},enqueueForceUpdate:function(b,j){b=b._reactInternals;var $=R(),_e=yi(b),et=mh($,_e);et.tag=2,j!=null&&(et.callback=j),j=nh(b,et,_e),j!==null&&(gi(j,b,_e,$),oh(j,b,_e))}};function Fi(b,j,$,_e,et,tt,nt){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(_e,tt,nt):j.prototype&&j.prototype.isPureReactComponent?!Ie($,_e)||!Ie(et,tt):!0}function Gi(b,j,$){var _e=!1,et=Vf,tt=j.contextType;return typeof tt=="object"&&tt!==null?tt=eh(tt):(et=Zf(j)?Xf:H.current,_e=j.contextTypes,tt=(_e=_e!=null)?Yf(b,et):Vf),j=new j($,tt),b.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Ei,b.stateNode=j,j._reactInternals=b,_e&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=et,b.__reactInternalMemoizedMaskedChildContext=tt),j}function Hi(b,j,$,_e){b=j.state,typeof j.componentWillReceiveProps=="function"&&j.componentWillReceiveProps($,_e),typeof j.UNSAFE_componentWillReceiveProps=="function"&&j.UNSAFE_componentWillReceiveProps($,_e),j.state!==b&&Ei.enqueueReplaceState(j,j.state,null)}function Ii(b,j,$,_e){var et=b.stateNode;et.props=$,et.state=b.memoizedState,et.refs={},kh(b);var tt=j.contextType;typeof tt=="object"&&tt!==null?et.context=eh(tt):(tt=Zf(j)?Xf:H.current,et.context=Yf(b,tt)),et.state=b.memoizedState,tt=j.getDerivedStateFromProps,typeof tt=="function"&&(Di(b,j,tt,$),et.state=b.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(j=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),j!==et.state&&Ei.enqueueReplaceState(et,et.state,null),qh(b,$,et,_e),et.state=b.memoizedState),typeof et.componentDidMount=="function"&&(b.flags|=4194308)}function Ji(b,j){try{var $="",_e=j;do $+=Pa(_e),_e=_e.return;while(_e);var et=$}catch(tt){et=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:b,source:j,stack:et,digest:null}}function Ki(b,j,$){return{value:b,source:null,stack:$??null,digest:j??null}}function Li(b,j){try{console.error(j.value)}catch($){setTimeout(function(){throw $})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(b,j,$){$=mh(-1,$),$.tag=3,$.payload={element:null};var _e=j.value;return $.callback=function(){Oi||(Oi=!0,Pi=_e),Li(b,j)},$}function Qi(b,j,$){$=mh(-1,$),$.tag=3;var _e=b.type.getDerivedStateFromError;if(typeof _e=="function"){var et=j.value;$.payload=function(){return _e(et)},$.callback=function(){Li(b,j)}}var tt=b.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&($.callback=function(){Li(b,j),typeof _e!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var nt=j.stack;this.componentDidCatch(j.value,{componentStack:nt!==null?nt:""})}),$}function Si(b,j,$){var _e=b.pingCache;if(_e===null){_e=b.pingCache=new Mi;var et=new Set;_e.set(j,et)}else et=_e.get(j),et===void 0&&(et=new Set,_e.set(j,et));et.has($)||(et.add($),b=Ti.bind(null,b,j,$),j.then(b,b))}function Ui(b){do{var j;if((j=b.tag===13)&&(j=b.memoizedState,j=j!==null?j.dehydrated!==null:!0),j)return b;b=b.return}while(b!==null);return null}function Vi(b,j,$,_e,et){return b.mode&1?(b.flags|=65536,b.lanes=et,b):(b===j?b.flags|=65536:(b.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(j=mh(-1,1),j.tag=2,nh($,j,1))),$.lanes|=1),b)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(b,j,$,_e){j.child=b===null?Vg(j,null,$,_e):Ug(j,b.child,$,_e)}function Yi(b,j,$,_e,et){$=$.render;var tt=j.ref;return ch(j,et),_e=Nh(b,j,$,_e,tt,et),$=Sh(),b!==null&&!dh?(j.updateQueue=b.updateQueue,j.flags&=-2053,b.lanes&=~et,Zi(b,j,et)):(I&&$&&vg(j),j.flags|=1,Xi(b,j,_e,et),j.child)}function $i(b,j,$,_e,et){if(b===null){var tt=$.type;return typeof tt=="function"&&!aj(tt)&&tt.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(j.tag=15,j.type=tt,bj(b,j,tt,_e,et)):(b=Rg($.type,null,_e,j,j.mode,et),b.ref=j.ref,b.return=j,j.child=b)}if(tt=b.child,!(b.lanes&et)){var nt=tt.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(nt,_e)&&b.ref===j.ref)return Zi(b,j,et)}return j.flags|=1,b=Pg(tt,_e),b.ref=j.ref,b.return=j,j.child=b}function bj(b,j,$,_e,et){if(b!==null){var tt=b.memoizedProps;if(Ie(tt,_e)&&b.ref===j.ref)if(dh=!1,j.pendingProps=_e=tt,(b.lanes&et)!==0)b.flags&131072&&(dh=!0);else return j.lanes=b.lanes,Zi(b,j,et)}return cj(b,j,$,_e,et)}function dj(b,j,$){var _e=j.pendingProps,et=_e.children,tt=b!==null?b.memoizedState:null;if(_e.mode==="hidden")if(!(j.mode&1))j.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=$;else{if(!($&1073741824))return b=tt!==null?tt.baseLanes|$:$,j.lanes=j.childLanes=1073741824,j.memoizedState={baseLanes:b,cachePool:null,transitions:null},j.updateQueue=null,G(ej,fj),fj|=b,null;j.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e=tt!==null?tt.baseLanes:$,G(ej,fj),fj|=_e}else tt!==null?(_e=tt.baseLanes|$,j.memoizedState=null):_e=$,G(ej,fj),fj|=_e;return Xi(b,j,et,$),j.child}function gj(b,j){var $=j.ref;(b===null&&$!==null||b!==null&&b.ref!==$)&&(j.flags|=512,j.flags|=2097152)}function cj(b,j,$,_e,et){var tt=Zf($)?Xf:H.current;return tt=Yf(j,tt),ch(j,et),$=Nh(b,j,$,_e,tt,et),_e=Sh(),b!==null&&!dh?(j.updateQueue=b.updateQueue,j.flags&=-2053,b.lanes&=~et,Zi(b,j,et)):(I&&_e&&vg(j),j.flags|=1,Xi(b,j,$,et),j.child)}function hj(b,j,$,_e,et){if(Zf($)){var tt=!0;cg(j)}else tt=!1;if(ch(j,et),j.stateNode===null)ij(b,j),Gi(j,$,_e),Ii(j,$,_e,et),_e=!0;else if(b===null){var nt=j.stateNode,rt=j.memoizedProps;nt.props=rt;var st=nt.context,it=$.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf($)?Xf:H.current,it=Yf(j,it));var ct=$.getDerivedStateFromProps,ot=typeof ct=="function"||typeof nt.getSnapshotBeforeUpdate=="function";ot||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(rt!==_e||st!==it)&&Hi(j,nt,_e,it),jh=!1;var at=j.memoizedState;nt.state=at,qh(j,_e,nt,et),st=j.memoizedState,rt!==_e||at!==st||Wf.current||jh?(typeof ct=="function"&&(Di(j,$,ct,_e),st=j.memoizedState),(rt=jh||Fi(j,$,rt,_e,at,st,it))?(ot||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount()),typeof nt.componentDidMount=="function"&&(j.flags|=4194308)):(typeof nt.componentDidMount=="function"&&(j.flags|=4194308),j.memoizedProps=_e,j.memoizedState=st),nt.props=_e,nt.state=st,nt.context=it,_e=rt):(typeof nt.componentDidMount=="function"&&(j.flags|=4194308),_e=!1)}else{nt=j.stateNode,lh(b,j),rt=j.memoizedProps,it=j.type===j.elementType?rt:Ci(j.type,rt),nt.props=it,ot=j.pendingProps,at=nt.context,st=$.contextType,typeof st=="object"&&st!==null?st=eh(st):(st=Zf($)?Xf:H.current,st=Yf(j,st));var ft=$.getDerivedStateFromProps;(ct=typeof ft=="function"||typeof nt.getSnapshotBeforeUpdate=="function")||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(rt!==ot||at!==st)&&Hi(j,nt,_e,st),jh=!1,at=j.memoizedState,nt.state=at,qh(j,_e,nt,et);var dt=j.memoizedState;rt!==ot||at!==dt||Wf.current||jh?(typeof ft=="function"&&(Di(j,$,ft,_e),dt=j.memoizedState),(it=jh||Fi(j,$,it,_e,at,dt,st)||!1)?(ct||typeof nt.UNSAFE_componentWillUpdate!="function"&&typeof nt.componentWillUpdate!="function"||(typeof nt.componentWillUpdate=="function"&&nt.componentWillUpdate(_e,dt,st),typeof nt.UNSAFE_componentWillUpdate=="function"&&nt.UNSAFE_componentWillUpdate(_e,dt,st)),typeof nt.componentDidUpdate=="function"&&(j.flags|=4),typeof nt.getSnapshotBeforeUpdate=="function"&&(j.flags|=1024)):(typeof nt.componentDidUpdate!="function"||rt===b.memoizedProps&&at===b.memoizedState||(j.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||rt===b.memoizedProps&&at===b.memoizedState||(j.flags|=1024),j.memoizedProps=_e,j.memoizedState=dt),nt.props=_e,nt.state=dt,nt.context=st,_e=it):(typeof nt.componentDidUpdate!="function"||rt===b.memoizedProps&&at===b.memoizedState||(j.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||rt===b.memoizedProps&&at===b.memoizedState||(j.flags|=1024),_e=!1)}return jj(b,j,$,_e,tt,et)}function jj(b,j,$,_e,et,tt){gj(b,j);var nt=(j.flags&128)!==0;if(!_e&&!nt)return et&&dg(j,$,!1),Zi(b,j,tt);_e=j.stateNode,Wi.current=j;var rt=nt&&typeof $.getDerivedStateFromError!="function"?null:_e.render();return j.flags|=1,b!==null&&nt?(j.child=Ug(j,b.child,null,tt),j.child=Ug(j,null,rt,tt)):Xi(b,j,rt,tt),j.memoizedState=_e.state,et&&dg(j,$,!0),j.child}function kj(b){var j=b.stateNode;j.pendingContext?ag(b,j.pendingContext,j.pendingContext!==j.context):j.context&&ag(b,j.context,!1),yh(b,j.containerInfo)}function lj(b,j,$,_e,et){return Ig(),Jg(et),j.flags|=256,Xi(b,j,$,_e),j.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(b){return{baseLanes:b,cachePool:null,transitions:null}}function oj(b,j,$){var _e=j.pendingProps,et=L.current,tt=!1,nt=(j.flags&128)!==0,rt;if((rt=nt)||(rt=b!==null&&b.memoizedState===null?!1:(et&2)!==0),rt?(tt=!0,j.flags&=-129):(b===null||b.memoizedState!==null)&&(et|=1),G(L,et&1),b===null)return Eg(j),b=j.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?(j.mode&1?b.data==="$!"?j.lanes=8:j.lanes=1073741824:j.lanes=1,null):(nt=_e.children,b=_e.fallback,tt?(_e=j.mode,tt=j.child,nt={mode:"hidden",children:nt},!(_e&1)&&tt!==null?(tt.childLanes=0,tt.pendingProps=nt):tt=pj(nt,_e,0,null),b=Tg(b,_e,$,null),tt.return=j,b.return=j,tt.sibling=b,j.child=tt,j.child.memoizedState=nj($),j.memoizedState=mj,b):qj(j,nt));if(et=b.memoizedState,et!==null&&(rt=et.dehydrated,rt!==null))return rj(b,j,nt,_e,rt,et,$);if(tt){tt=_e.fallback,nt=j.mode,et=b.child,rt=et.sibling;var st={mode:"hidden",children:_e.children};return!(nt&1)&&j.child!==et?(_e=j.child,_e.childLanes=0,_e.pendingProps=st,j.deletions=null):(_e=Pg(et,st),_e.subtreeFlags=et.subtreeFlags&14680064),rt!==null?tt=Pg(rt,tt):(tt=Tg(tt,nt,$,null),tt.flags|=2),tt.return=j,_e.return=j,_e.sibling=tt,j.child=_e,_e=tt,tt=j.child,nt=b.child.memoizedState,nt=nt===null?nj($):{baseLanes:nt.baseLanes|$,cachePool:null,transitions:nt.transitions},tt.memoizedState=nt,tt.childLanes=b.childLanes&~$,j.memoizedState=mj,_e}return tt=b.child,b=tt.sibling,_e=Pg(tt,{mode:"visible",children:_e.children}),!(j.mode&1)&&(_e.lanes=$),_e.return=j,_e.sibling=null,b!==null&&($=j.deletions,$===null?(j.deletions=[b],j.flags|=16):$.push(b)),j.child=_e,j.memoizedState=null,_e}function qj(b,j){return j=pj({mode:"visible",children:j},b.mode,0,null),j.return=b,b.child=j}function sj(b,j,$,_e){return _e!==null&&Jg(_e),Ug(j,b.child,null,$),b=qj(j,j.pendingProps.children),b.flags|=2,j.memoizedState=null,b}function rj(b,j,$,_e,et,tt,nt){if($)return j.flags&256?(j.flags&=-257,_e=Ki(Error(p$2(422))),sj(b,j,nt,_e)):j.memoizedState!==null?(j.child=b.child,j.flags|=128,null):(tt=_e.fallback,et=j.mode,_e=pj({mode:"visible",children:_e.children},et,0,null),tt=Tg(tt,et,nt,null),tt.flags|=2,_e.return=j,tt.return=j,_e.sibling=tt,j.child=_e,j.mode&1&&Ug(j,b.child,null,nt),j.child.memoizedState=nj(nt),j.memoizedState=mj,tt);if(!(j.mode&1))return sj(b,j,nt,null);if(et.data==="$!"){if(_e=et.nextSibling&&et.nextSibling.dataset,_e)var rt=_e.dgst;return _e=rt,tt=Error(p$2(419)),_e=Ki(tt,_e,void 0),sj(b,j,nt,_e)}if(rt=(nt&b.childLanes)!==0,dh||rt){if(_e=Q,_e!==null){switch(nt&-nt){case 4:et=2;break;case 16:et=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:et=32;break;case 536870912:et=268435456;break;default:et=0}et=et&(_e.suspendedLanes|nt)?0:et,et!==0&&et!==tt.retryLane&&(tt.retryLane=et,ih(b,et),gi(_e,b,et,-1))}return tj(),_e=Ki(Error(p$2(421))),sj(b,j,nt,_e)}return et.data==="$?"?(j.flags|=128,j.child=b.child,j=uj.bind(null,b),et._reactRetry=j,null):(b=tt.treeContext,yg=Lf(et.nextSibling),xg=j,I=!0,zg=null,b!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=b.id,sg=b.overflow,qg=j),j=qj(j,_e.children),j.flags|=4096,j)}function vj(b,j,$){b.lanes|=j;var _e=b.alternate;_e!==null&&(_e.lanes|=j),bh(b.return,j,$)}function wj(b,j,$,_e,et){var tt=b.memoizedState;tt===null?b.memoizedState={isBackwards:j,rendering:null,renderingStartTime:0,last:_e,tail:$,tailMode:et}:(tt.isBackwards=j,tt.rendering=null,tt.renderingStartTime=0,tt.last=_e,tt.tail=$,tt.tailMode=et)}function xj(b,j,$){var _e=j.pendingProps,et=_e.revealOrder,tt=_e.tail;if(Xi(b,j,_e.children,$),_e=L.current,_e&2)_e=_e&1|2,j.flags|=128;else{if(b!==null&&b.flags&128)e:for(b=j.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&vj(b,$,j);else if(b.tag===19)vj(b,$,j);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===j)break e;for(;b.sibling===null;){if(b.return===null||b.return===j)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}_e&=1}if(G(L,_e),!(j.mode&1))j.memoizedState=null;else switch(et){case"forwards":for($=j.child,et=null;$!==null;)b=$.alternate,b!==null&&Ch(b)===null&&(et=$),$=$.sibling;$=et,$===null?(et=j.child,j.child=null):(et=$.sibling,$.sibling=null),wj(j,!1,et,$,tt);break;case"backwards":for($=null,et=j.child,j.child=null;et!==null;){if(b=et.alternate,b!==null&&Ch(b)===null){j.child=et;break}b=et.sibling,et.sibling=$,$=et,et=b}wj(j,!0,$,null,tt);break;case"together":wj(j,!1,null,null,void 0);break;default:j.memoizedState=null}return j.child}function ij(b,j){!(j.mode&1)&&b!==null&&(b.alternate=null,j.alternate=null,j.flags|=2)}function Zi(b,j,$){if(b!==null&&(j.dependencies=b.dependencies),rh|=j.lanes,!($&j.childLanes))return null;if(b!==null&&j.child!==b.child)throw Error(p$2(153));if(j.child!==null){for(b=j.child,$=Pg(b,b.pendingProps),j.child=$,$.return=j;b.sibling!==null;)b=b.sibling,$=$.sibling=Pg(b,b.pendingProps),$.return=j;$.sibling=null}return j.child}function yj(b,j,$){switch(j.tag){case 3:kj(j),Ig();break;case 5:Ah(j);break;case 1:Zf(j.type)&&cg(j);break;case 4:yh(j,j.stateNode.containerInfo);break;case 10:var _e=j.type._context,et=j.memoizedProps.value;G(Wg,_e._currentValue),_e._currentValue=et;break;case 13:if(_e=j.memoizedState,_e!==null)return _e.dehydrated!==null?(G(L,L.current&1),j.flags|=128,null):$&j.child.childLanes?oj(b,j,$):(G(L,L.current&1),b=Zi(b,j,$),b!==null?b.sibling:null);G(L,L.current&1);break;case 19:if(_e=($&j.childLanes)!==0,b.flags&128){if(_e)return xj(b,j,$);j.flags|=128}if(et=j.memoizedState,et!==null&&(et.rendering=null,et.tail=null,et.lastEffect=null),G(L,L.current),_e)break;return null;case 22:case 23:return j.lanes=0,dj(b,j,$)}return Zi(b,j,$)}var zj,Aj,Bj,Cj;zj=function(b,j){for(var $=j.child;$!==null;){if($.tag===5||$.tag===6)b.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===j)break;for(;$.sibling===null;){if($.return===null||$.return===j)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Aj=function(){};Bj=function(b,j,$,_e){var et=b.memoizedProps;if(et!==_e){b=j.stateNode,xh(uh.current);var tt=null;switch($){case"input":et=Ya(b,et),_e=Ya(b,_e),tt=[];break;case"select":et=A({},et,{value:void 0}),_e=A({},_e,{value:void 0}),tt=[];break;case"textarea":et=gb(b,et),_e=gb(b,_e),tt=[];break;default:typeof et.onClick!="function"&&typeof _e.onClick=="function"&&(b.onclick=Bf)}ub($,_e);var nt;$=null;for(it in et)if(!_e.hasOwnProperty(it)&&et.hasOwnProperty(it)&&et[it]!=null)if(it==="style"){var rt=et[it];for(nt in rt)rt.hasOwnProperty(nt)&&($||($={}),$[nt]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?tt||(tt=[]):(tt=tt||[]).push(it,null));for(it in _e){var st=_e[it];if(rt=et!=null?et[it]:void 0,_e.hasOwnProperty(it)&&st!==rt&&(st!=null||rt!=null))if(it==="style")if(rt){for(nt in rt)!rt.hasOwnProperty(nt)||st&&st.hasOwnProperty(nt)||($||($={}),$[nt]="");for(nt in st)st.hasOwnProperty(nt)&&rt[nt]!==st[nt]&&($||($={}),$[nt]=st[nt])}else $||(tt||(tt=[]),tt.push(it,$)),$=st;else it==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,rt=rt?rt.__html:void 0,st!=null&&rt!==st&&(tt=tt||[]).push(it,st)):it==="children"?typeof st!="string"&&typeof st!="number"||(tt=tt||[]).push(it,""+st):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(st!=null&&it==="onScroll"&&D("scroll",b),tt||rt===st||(tt=[])):(tt=tt||[]).push(it,st))}$&&(tt=tt||[]).push("style",$);var it=tt;(j.updateQueue=it)&&(j.flags|=4)}};Cj=function(b,j,$,_e){$!==_e&&(j.flags|=4)};function Dj(b,j){if(!I)switch(b.tailMode){case"hidden":j=b.tail;for(var $=null;j!==null;)j.alternate!==null&&($=j),j=j.sibling;$===null?b.tail=null:$.sibling=null;break;case"collapsed":$=b.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?j||b.tail===null?b.tail=null:b.tail.sibling=null:_e.sibling=null}}function S$1(b){var j=b.alternate!==null&&b.alternate.child===b.child,$=0,_e=0;if(j)for(var et=b.child;et!==null;)$|=et.lanes|et.childLanes,_e|=et.subtreeFlags&14680064,_e|=et.flags&14680064,et.return=b,et=et.sibling;else for(et=b.child;et!==null;)$|=et.lanes|et.childLanes,_e|=et.subtreeFlags,_e|=et.flags,et.return=b,et=et.sibling;return b.subtreeFlags|=_e,b.childLanes=$,j}function Ej(b,j,$){var _e=j.pendingProps;switch(wg(j),j.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(j),null;case 1:return Zf(j.type)&&$f(),S$1(j),null;case 3:return _e=j.stateNode,zh(),E$1(Wf),E$1(H),Eh(),_e.pendingContext&&(_e.context=_e.pendingContext,_e.pendingContext=null),(b===null||b.child===null)&&(Gg(j)?j.flags|=4:b===null||b.memoizedState.isDehydrated&&!(j.flags&256)||(j.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(b,j),S$1(j),null;case 5:Bh(j);var et=xh(wh.current);if($=j.type,b!==null&&j.stateNode!=null)Bj(b,j,$,_e,et),b.ref!==j.ref&&(j.flags|=512,j.flags|=2097152);else{if(!_e){if(j.stateNode===null)throw Error(p$2(166));return S$1(j),null}if(b=xh(uh.current),Gg(j)){_e=j.stateNode,$=j.type;var tt=j.memoizedProps;switch(_e[Of]=j,_e[Pf]=tt,b=(j.mode&1)!==0,$){case"dialog":D("cancel",_e),D("close",_e);break;case"iframe":case"object":case"embed":D("load",_e);break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],_e);break;case"source":D("error",_e);break;case"img":case"image":case"link":D("error",_e),D("load",_e);break;case"details":D("toggle",_e);break;case"input":Za(_e,tt),D("invalid",_e);break;case"select":_e._wrapperState={wasMultiple:!!tt.multiple},D("invalid",_e);break;case"textarea":hb(_e,tt),D("invalid",_e)}ub($,tt),et=null;for(var nt in tt)if(tt.hasOwnProperty(nt)){var rt=tt[nt];nt==="children"?typeof rt=="string"?_e.textContent!==rt&&(tt.suppressHydrationWarning!==!0&&Af(_e.textContent,rt,b),et=["children",rt]):typeof rt=="number"&&_e.textContent!==""+rt&&(tt.suppressHydrationWarning!==!0&&Af(_e.textContent,rt,b),et=["children",""+rt]):ea.hasOwnProperty(nt)&&rt!=null&&nt==="onScroll"&&D("scroll",_e)}switch($){case"input":Va(_e),db(_e,tt,!0);break;case"textarea":Va(_e),jb(_e);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(_e.onclick=Bf)}_e=et,j.updateQueue=_e,_e!==null&&(j.flags|=4)}else{nt=et.nodeType===9?et:et.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=kb($)),b==="http://www.w3.org/1999/xhtml"?$==="script"?(b=nt.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof _e.is=="string"?b=nt.createElement($,{is:_e.is}):(b=nt.createElement($),$==="select"&&(nt=b,_e.multiple?nt.multiple=!0:_e.size&&(nt.size=_e.size))):b=nt.createElementNS(b,$),b[Of]=j,b[Pf]=_e,zj(b,j,!1,!1),j.stateNode=b;e:{switch(nt=vb($,_e),$){case"dialog":D("cancel",b),D("close",b),et=_e;break;case"iframe":case"object":case"embed":D("load",b),et=_e;break;case"video":case"audio":for(et=0;et<lf.length;et++)D(lf[et],b);et=_e;break;case"source":D("error",b),et=_e;break;case"img":case"image":case"link":D("error",b),D("load",b),et=_e;break;case"details":D("toggle",b),et=_e;break;case"input":Za(b,_e),et=Ya(b,_e),D("invalid",b);break;case"option":et=_e;break;case"select":b._wrapperState={wasMultiple:!!_e.multiple},et=A({},_e,{value:void 0}),D("invalid",b);break;case"textarea":hb(b,_e),et=gb(b,_e),D("invalid",b);break;default:et=_e}ub($,et),rt=et;for(tt in rt)if(rt.hasOwnProperty(tt)){var st=rt[tt];tt==="style"?sb(b,st):tt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(b,st)):tt==="children"?typeof st=="string"?($!=="textarea"||st!=="")&&ob(b,st):typeof st=="number"&&ob(b,""+st):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea.hasOwnProperty(tt)?st!=null&&tt==="onScroll"&&D("scroll",b):st!=null&&ta(b,tt,st,nt))}switch($){case"input":Va(b),db(b,_e,!1);break;case"textarea":Va(b),jb(b);break;case"option":_e.value!=null&&b.setAttribute("value",""+Sa(_e.value));break;case"select":b.multiple=!!_e.multiple,tt=_e.value,tt!=null?fb(b,!!_e.multiple,tt,!1):_e.defaultValue!=null&&fb(b,!!_e.multiple,_e.defaultValue,!0);break;default:typeof et.onClick=="function"&&(b.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":_e=!!_e.autoFocus;break e;case"img":_e=!0;break e;default:_e=!1}}_e&&(j.flags|=4)}j.ref!==null&&(j.flags|=512,j.flags|=2097152)}return S$1(j),null;case 6:if(b&&j.stateNode!=null)Cj(b,j,b.memoizedProps,_e);else{if(typeof _e!="string"&&j.stateNode===null)throw Error(p$2(166));if($=xh(wh.current),xh(uh.current),Gg(j)){if(_e=j.stateNode,$=j.memoizedProps,_e[Of]=j,(tt=_e.nodeValue!==$)&&(b=xg,b!==null))switch(b.tag){case 3:Af(_e.nodeValue,$,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&Af(_e.nodeValue,$,(b.mode&1)!==0)}tt&&(j.flags|=4)}else _e=($.nodeType===9?$:$.ownerDocument).createTextNode(_e),_e[Of]=j,j.stateNode=_e}return S$1(j),null;case 13:if(E$1(L),_e=j.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(I&&yg!==null&&j.mode&1&&!(j.flags&128))Hg(),Ig(),j.flags|=98560,tt=!1;else if(tt=Gg(j),_e!==null&&_e.dehydrated!==null){if(b===null){if(!tt)throw Error(p$2(318));if(tt=j.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$2(317));tt[Of]=j}else Ig(),!(j.flags&128)&&(j.memoizedState=null),j.flags|=4;S$1(j),tt=!1}else zg!==null&&(Fj(zg),zg=null),tt=!0;if(!tt)return j.flags&65536?j:null}return j.flags&128?(j.lanes=$,j):(_e=_e!==null,_e!==(b!==null&&b.memoizedState!==null)&&_e&&(j.child.flags|=8192,j.mode&1&&(b===null||L.current&1?T===0&&(T=3):tj())),j.updateQueue!==null&&(j.flags|=4),S$1(j),null);case 4:return zh(),Aj(b,j),b===null&&sf(j.stateNode.containerInfo),S$1(j),null;case 10:return ah(j.type._context),S$1(j),null;case 17:return Zf(j.type)&&$f(),S$1(j),null;case 19:if(E$1(L),tt=j.memoizedState,tt===null)return S$1(j),null;if(_e=(j.flags&128)!==0,nt=tt.rendering,nt===null)if(_e)Dj(tt,!1);else{if(T!==0||b!==null&&b.flags&128)for(b=j.child;b!==null;){if(nt=Ch(b),nt!==null){for(j.flags|=128,Dj(tt,!1),_e=nt.updateQueue,_e!==null&&(j.updateQueue=_e,j.flags|=4),j.subtreeFlags=0,_e=$,$=j.child;$!==null;)tt=$,b=_e,tt.flags&=14680066,nt=tt.alternate,nt===null?(tt.childLanes=0,tt.lanes=b,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=nt.childLanes,tt.lanes=nt.lanes,tt.child=nt.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=nt.memoizedProps,tt.memoizedState=nt.memoizedState,tt.updateQueue=nt.updateQueue,tt.type=nt.type,b=nt.dependencies,tt.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),$=$.sibling;return G(L,L.current&1|2),j.child}b=b.sibling}tt.tail!==null&&B()>Gj&&(j.flags|=128,_e=!0,Dj(tt,!1),j.lanes=4194304)}else{if(!_e)if(b=Ch(nt),b!==null){if(j.flags|=128,_e=!0,$=b.updateQueue,$!==null&&(j.updateQueue=$,j.flags|=4),Dj(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!nt.alternate&&!I)return S$1(j),null}else 2*B()-tt.renderingStartTime>Gj&&$!==1073741824&&(j.flags|=128,_e=!0,Dj(tt,!1),j.lanes=4194304);tt.isBackwards?(nt.sibling=j.child,j.child=nt):($=tt.last,$!==null?$.sibling=nt:j.child=nt,tt.last=nt)}return tt.tail!==null?(j=tt.tail,tt.rendering=j,tt.tail=j.sibling,tt.renderingStartTime=B(),j.sibling=null,$=L.current,G(L,_e?$&1|2:$&1),j):(S$1(j),null);case 22:case 23:return Hj(),_e=j.memoizedState!==null,b!==null&&b.memoizedState!==null!==_e&&(j.flags|=8192),_e&&j.mode&1?fj&1073741824&&(S$1(j),j.subtreeFlags&6&&(j.flags|=8192)):S$1(j),null;case 24:return null;case 25:return null}throw Error(p$2(156,j.tag))}function Ij(b,j){switch(wg(j),j.tag){case 1:return Zf(j.type)&&$f(),b=j.flags,b&65536?(j.flags=b&-65537|128,j):null;case 3:return zh(),E$1(Wf),E$1(H),Eh(),b=j.flags,b&65536&&!(b&128)?(j.flags=b&-65537|128,j):null;case 5:return Bh(j),null;case 13:if(E$1(L),b=j.memoizedState,b!==null&&b.dehydrated!==null){if(j.alternate===null)throw Error(p$2(340));Ig()}return b=j.flags,b&65536?(j.flags=b&-65537|128,j):null;case 19:return E$1(L),null;case 4:return zh(),null;case 10:return ah(j.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(b,j){var $=b.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(_e){W(b,j,_e)}else $.current=null}function Mj(b,j,$){try{$()}catch(_e){W(b,j,_e)}}var Nj=!1;function Oj(b,j){if(Cf=dd,b=Me(),Ne(b)){if("selectionStart"in b)var $={start:b.selectionStart,end:b.selectionEnd};else e:{$=($=b.ownerDocument)&&$.defaultView||window;var _e=$.getSelection&&$.getSelection();if(_e&&_e.rangeCount!==0){$=_e.anchorNode;var et=_e.anchorOffset,tt=_e.focusNode;_e=_e.focusOffset;try{$.nodeType,tt.nodeType}catch{$=null;break e}var nt=0,rt=-1,st=-1,it=0,ct=0,ot=b,at=null;t:for(;;){for(var ft;ot!==$||et!==0&&ot.nodeType!==3||(rt=nt+et),ot!==tt||_e!==0&&ot.nodeType!==3||(st=nt+_e),ot.nodeType===3&&(nt+=ot.nodeValue.length),(ft=ot.firstChild)!==null;)at=ot,ot=ft;for(;;){if(ot===b)break t;if(at===$&&++it===et&&(rt=nt),at===tt&&++ct===_e&&(st=nt),(ft=ot.nextSibling)!==null)break;ot=at,at=ot.parentNode}ot=ft}$=rt===-1||st===-1?null:{start:rt,end:st}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:b,selectionRange:$},dd=!1,V=j;V!==null;)if(j=V,b=j.child,(j.subtreeFlags&1028)!==0&&b!==null)b.return=j,V=b;else for(;V!==null;){j=V;try{var dt=j.alternate;if(j.flags&1024)switch(j.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var mt=dt.memoizedProps,xt=dt.memoizedState,ht=j.stateNode,gt=ht.getSnapshotBeforeUpdate(j.elementType===j.type?mt:Ci(j.type,mt),xt);ht.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var Et=j.stateNode.containerInfo;Et.nodeType===1?Et.textContent="":Et.nodeType===9&&Et.documentElement&&Et.removeChild(Et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(St){W(j,j.return,St)}if(b=j.sibling,b!==null){b.return=j.return,V=b;break}V=j.return}return dt=Nj,Nj=!1,dt}function Pj(b,j,$){var _e=j.updateQueue;if(_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&b)===b){var tt=et.destroy;et.destroy=void 0,tt!==void 0&&Mj(j,$,tt)}et=et.next}while(et!==_e)}}function Qj(b,j){if(j=j.updateQueue,j=j!==null?j.lastEffect:null,j!==null){var $=j=j.next;do{if(($.tag&b)===b){var _e=$.create;$.destroy=_e()}$=$.next}while($!==j)}}function Rj(b){var j=b.ref;if(j!==null){var $=b.stateNode;switch(b.tag){case 5:b=$;break;default:b=$}typeof j=="function"?j(b):j.current=b}}function Sj(b){var j=b.alternate;j!==null&&(b.alternate=null,Sj(j)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&(j=b.stateNode,j!==null&&(delete j[Of],delete j[Pf],delete j[of],delete j[Qf],delete j[Rf])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function Tj(b){return b.tag===5||b.tag===3||b.tag===4}function Uj(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||Tj(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Vj(b,j,$){var _e=b.tag;if(_e===5||_e===6)b=b.stateNode,j?$.nodeType===8?$.parentNode.insertBefore(b,j):$.insertBefore(b,j):($.nodeType===8?(j=$.parentNode,j.insertBefore(b,$)):(j=$,j.appendChild(b)),$=$._reactRootContainer,$!=null||j.onclick!==null||(j.onclick=Bf));else if(_e!==4&&(b=b.child,b!==null))for(Vj(b,j,$),b=b.sibling;b!==null;)Vj(b,j,$),b=b.sibling}function Wj(b,j,$){var _e=b.tag;if(_e===5||_e===6)b=b.stateNode,j?$.insertBefore(b,j):$.appendChild(b);else if(_e!==4&&(b=b.child,b!==null))for(Wj(b,j,$),b=b.sibling;b!==null;)Wj(b,j,$),b=b.sibling}var X=null,Xj=!1;function Yj(b,j,$){for($=$.child;$!==null;)Zj(b,j,$),$=$.sibling}function Zj(b,j,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Lj($,j);case 6:var _e=X,et=Xj;X=null,Yj(b,j,$),X=_e,Xj=et,X!==null&&(Xj?(b=X,$=$.stateNode,b.nodeType===8?b.parentNode.removeChild($):b.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Xj?(b=X,$=$.stateNode,b.nodeType===8?Kf(b.parentNode,$):b.nodeType===1&&Kf(b,$),bd(b)):Kf(X,$.stateNode));break;case 4:_e=X,et=Xj,X=$.stateNode.containerInfo,Xj=!0,Yj(b,j,$),X=_e,Xj=et;break;case 0:case 11:case 14:case 15:if(!U&&(_e=$.updateQueue,_e!==null&&(_e=_e.lastEffect,_e!==null))){et=_e=_e.next;do{var tt=et,nt=tt.destroy;tt=tt.tag,nt!==void 0&&(tt&2||tt&4)&&Mj($,j,nt),et=et.next}while(et!==_e)}Yj(b,j,$);break;case 1:if(!U&&(Lj($,j),_e=$.stateNode,typeof _e.componentWillUnmount=="function"))try{_e.props=$.memoizedProps,_e.state=$.memoizedState,_e.componentWillUnmount()}catch(rt){W($,j,rt)}Yj(b,j,$);break;case 21:Yj(b,j,$);break;case 22:$.mode&1?(U=(_e=U)||$.memoizedState!==null,Yj(b,j,$),U=_e):Yj(b,j,$);break;default:Yj(b,j,$)}}function ak(b){var j=b.updateQueue;if(j!==null){b.updateQueue=null;var $=b.stateNode;$===null&&($=b.stateNode=new Kj),j.forEach(function(_e){var et=bk.bind(null,b,_e);$.has(_e)||($.add(_e),_e.then(et,et))})}}function ck(b,j){var $=j.deletions;if($!==null)for(var _e=0;_e<$.length;_e++){var et=$[_e];try{var tt=b,nt=j,rt=nt;e:for(;rt!==null;){switch(rt.tag){case 5:X=rt.stateNode,Xj=!1;break e;case 3:X=rt.stateNode.containerInfo,Xj=!0;break e;case 4:X=rt.stateNode.containerInfo,Xj=!0;break e}rt=rt.return}if(X===null)throw Error(p$2(160));Zj(tt,nt,et),X=null,Xj=!1;var st=et.alternate;st!==null&&(st.return=null),et.return=null}catch(it){W(et,j,it)}}if(j.subtreeFlags&12854)for(j=j.child;j!==null;)dk(j,b),j=j.sibling}function dk(b,j){var $=b.alternate,_e=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(ck(j,b),ek(b),_e&4){try{Pj(3,b,b.return),Qj(3,b)}catch(mt){W(b,b.return,mt)}try{Pj(5,b,b.return)}catch(mt){W(b,b.return,mt)}}break;case 1:ck(j,b),ek(b),_e&512&&$!==null&&Lj($,$.return);break;case 5:if(ck(j,b),ek(b),_e&512&&$!==null&&Lj($,$.return),b.flags&32){var et=b.stateNode;try{ob(et,"")}catch(mt){W(b,b.return,mt)}}if(_e&4&&(et=b.stateNode,et!=null)){var tt=b.memoizedProps,nt=$!==null?$.memoizedProps:tt,rt=b.type,st=b.updateQueue;if(b.updateQueue=null,st!==null)try{rt==="input"&&tt.type==="radio"&&tt.name!=null&&ab(et,tt),vb(rt,nt);var it=vb(rt,tt);for(nt=0;nt<st.length;nt+=2){var ct=st[nt],ot=st[nt+1];ct==="style"?sb(et,ot):ct==="dangerouslySetInnerHTML"?nb(et,ot):ct==="children"?ob(et,ot):ta(et,ct,ot,it)}switch(rt){case"input":bb(et,tt);break;case"textarea":ib(et,tt);break;case"select":var at=et._wrapperState.wasMultiple;et._wrapperState.wasMultiple=!!tt.multiple;var ft=tt.value;ft!=null?fb(et,!!tt.multiple,ft,!1):at!==!!tt.multiple&&(tt.defaultValue!=null?fb(et,!!tt.multiple,tt.defaultValue,!0):fb(et,!!tt.multiple,tt.multiple?[]:"",!1))}et[Pf]=tt}catch(mt){W(b,b.return,mt)}}break;case 6:if(ck(j,b),ek(b),_e&4){if(b.stateNode===null)throw Error(p$2(162));et=b.stateNode,tt=b.memoizedProps;try{et.nodeValue=tt}catch(mt){W(b,b.return,mt)}}break;case 3:if(ck(j,b),ek(b),_e&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(j.containerInfo)}catch(mt){W(b,b.return,mt)}break;case 4:ck(j,b),ek(b);break;case 13:ck(j,b),ek(b),et=b.child,et.flags&8192&&(tt=et.memoizedState!==null,et.stateNode.isHidden=tt,!tt||et.alternate!==null&&et.alternate.memoizedState!==null||(fk=B())),_e&4&&ak(b);break;case 22:if(ct=$!==null&&$.memoizedState!==null,b.mode&1?(U=(it=U)||ct,ck(j,b),U=it):ck(j,b),ek(b),_e&8192){if(it=b.memoizedState!==null,(b.stateNode.isHidden=it)&&!ct&&b.mode&1)for(V=b,ct=b.child;ct!==null;){for(ot=V=ct;V!==null;){switch(at=V,ft=at.child,at.tag){case 0:case 11:case 14:case 15:Pj(4,at,at.return);break;case 1:Lj(at,at.return);var dt=at.stateNode;if(typeof dt.componentWillUnmount=="function"){_e=at,$=at.return;try{j=_e,dt.props=j.memoizedProps,dt.state=j.memoizedState,dt.componentWillUnmount()}catch(mt){W(_e,$,mt)}}break;case 5:Lj(at,at.return);break;case 22:if(at.memoizedState!==null){gk(ot);continue}}ft!==null?(ft.return=at,V=ft):gk(ot)}ct=ct.sibling}e:for(ct=null,ot=b;;){if(ot.tag===5){if(ct===null){ct=ot;try{et=ot.stateNode,it?(tt=et.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(rt=ot.stateNode,st=ot.memoizedProps.style,nt=st!=null&&st.hasOwnProperty("display")?st.display:null,rt.style.display=rb("display",nt))}catch(mt){W(b,b.return,mt)}}}else if(ot.tag===6){if(ct===null)try{ot.stateNode.nodeValue=it?"":ot.memoizedProps}catch(mt){W(b,b.return,mt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===b)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===b)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===b)break e;ct===ot&&(ct=null),ot=ot.return}ct===ot&&(ct=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:ck(j,b),ek(b),_e&4&&ak(b);break;case 21:break;default:ck(j,b),ek(b)}}function ek(b){var j=b.flags;if(j&2){try{e:{for(var $=b.return;$!==null;){if(Tj($)){var _e=$;break e}$=$.return}throw Error(p$2(160))}switch(_e.tag){case 5:var et=_e.stateNode;_e.flags&32&&(ob(et,""),_e.flags&=-33);var tt=Uj(b);Wj(b,tt,et);break;case 3:case 4:var nt=_e.stateNode.containerInfo,rt=Uj(b);Vj(b,rt,nt);break;default:throw Error(p$2(161))}}catch(st){W(b,b.return,st)}b.flags&=-3}j&4096&&(b.flags&=-4097)}function hk(b,j,$){V=b,ik(b)}function ik(b,j,$){for(var _e=(b.mode&1)!==0;V!==null;){var et=V,tt=et.child;if(et.tag===22&&_e){var nt=et.memoizedState!==null||Jj;if(!nt){var rt=et.alternate,st=rt!==null&&rt.memoizedState!==null||U;rt=Jj;var it=U;if(Jj=nt,(U=st)&&!it)for(V=et;V!==null;)nt=V,st=nt.child,nt.tag===22&&nt.memoizedState!==null?jk(et):st!==null?(st.return=nt,V=st):jk(et);for(;tt!==null;)V=tt,ik(tt),tt=tt.sibling;V=et,Jj=rt,U=it}kk(b)}else et.subtreeFlags&8772&&tt!==null?(tt.return=et,V=tt):kk(b)}}function kk(b){for(;V!==null;){var j=V;if(j.flags&8772){var $=j.alternate;try{if(j.flags&8772)switch(j.tag){case 0:case 11:case 15:U||Qj(5,j);break;case 1:var _e=j.stateNode;if(j.flags&4&&!U)if($===null)_e.componentDidMount();else{var et=j.elementType===j.type?$.memoizedProps:Ci(j.type,$.memoizedProps);_e.componentDidUpdate(et,$.memoizedState,_e.__reactInternalSnapshotBeforeUpdate)}var tt=j.updateQueue;tt!==null&&sh(j,tt,_e);break;case 3:var nt=j.updateQueue;if(nt!==null){if($=null,j.child!==null)switch(j.child.tag){case 5:$=j.child.stateNode;break;case 1:$=j.child.stateNode}sh(j,nt,$)}break;case 5:var rt=j.stateNode;if($===null&&j.flags&4){$=rt;var st=j.memoizedProps;switch(j.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&$.focus();break;case"img":st.src&&($.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(j.memoizedState===null){var it=j.alternate;if(it!==null){var ct=it.memoizedState;if(ct!==null){var ot=ct.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||j.flags&512&&Rj(j)}catch(at){W(j,j.return,at)}}if(j===b){V=null;break}if($=j.sibling,$!==null){$.return=j.return,V=$;break}V=j.return}}function gk(b){for(;V!==null;){var j=V;if(j===b){V=null;break}var $=j.sibling;if($!==null){$.return=j.return,V=$;break}V=j.return}}function jk(b){for(;V!==null;){var j=V;try{switch(j.tag){case 0:case 11:case 15:var $=j.return;try{Qj(4,j)}catch(st){W(j,$,st)}break;case 1:var _e=j.stateNode;if(typeof _e.componentDidMount=="function"){var et=j.return;try{_e.componentDidMount()}catch(st){W(j,et,st)}}var tt=j.return;try{Rj(j)}catch(st){W(j,tt,st)}break;case 5:var nt=j.return;try{Rj(j)}catch(st){W(j,nt,st)}}}catch(st){W(j,j.return,st)}if(j===b){V=null;break}var rt=j.sibling;if(rt!==null){rt.return=j.return,V=rt;break}V=j.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(b){return b.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(b=C,b!==0||(b=window.event,b=b===void 0?16:jd(b.type)),b):1}function gi(b,j,$,_e){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(b,$,_e),(!(K&2)||b!==Q)&&(b===Q&&(!(K&2)&&(qk|=$),T===4&&Ck(b,Z)),Dk(b,_e),$===1&&K===0&&!(j.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(b,j){var $=b.callbackNode;wc(b,j);var _e=uc(b,b===Q?Z:0);if(_e===0)$!==null&&bc($),b.callbackNode=null,b.callbackPriority=0;else if(j=_e&-_e,b.callbackPriority!==j){if($!=null&&bc($),j===1)b.tag===0?ig(Ek.bind(null,b)):hg(Ek.bind(null,b)),Jf(function(){!(K&6)&&jg()}),$=null;else{switch(Dc(_e)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Fk($,Gk.bind(null,b))}b.callbackPriority=j,b.callbackNode=$}}function Gk(b,j){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var $=b.callbackNode;if(Hk()&&b.callbackNode!==$)return null;var _e=uc(b,b===Q?Z:0);if(_e===0)return null;if(_e&30||_e&b.expiredLanes||j)j=Ik(b,_e);else{j=_e;var et=K;K|=2;var tt=Jk();(Q!==b||Z!==j)&&(uk=null,Gj=B()+500,Kk(b,j));do try{Lk();break}catch(rt){Mk(b,rt)}while(!0);$g(),mk.current=tt,K=et,Y!==null?j=0:(Q=null,Z=0,j=T)}if(j!==0){if(j===2&&(et=xc(b),et!==0&&(_e=et,j=Nk(b,et))),j===1)throw $=pk,Kk(b,0),Ck(b,_e),Dk(b,B()),$;if(j===6)Ck(b,_e);else{if(et=b.current.alternate,!(_e&30)&&!Ok(et)&&(j=Ik(b,_e),j===2&&(tt=xc(b),tt!==0&&(_e=tt,j=Nk(b,tt))),j===1))throw $=pk,Kk(b,0),Ck(b,_e),Dk(b,B()),$;switch(b.finishedWork=et,b.finishedLanes=_e,j){case 0:case 1:throw Error(p$2(345));case 2:Pk(b,tk,uk);break;case 3:if(Ck(b,_e),(_e&130023424)===_e&&(j=fk+500-B(),10<j)){if(uc(b,0)!==0)break;if(et=b.suspendedLanes,(et&_e)!==_e){R(),b.pingedLanes|=b.suspendedLanes&et;break}b.timeoutHandle=Ff(Pk.bind(null,b,tk,uk),j);break}Pk(b,tk,uk);break;case 4:if(Ck(b,_e),(_e&4194240)===_e)break;for(j=b.eventTimes,et=-1;0<_e;){var nt=31-oc(_e);tt=1<<nt,nt=j[nt],nt>et&&(et=nt),_e&=~tt}if(_e=et,_e=B()-_e,_e=(120>_e?120:480>_e?480:1080>_e?1080:1920>_e?1920:3e3>_e?3e3:4320>_e?4320:1960*lk(_e/1960))-_e,10<_e){b.timeoutHandle=Ff(Pk.bind(null,b,tk,uk),_e);break}Pk(b,tk,uk);break;case 5:Pk(b,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(b,B()),b.callbackNode===$?Gk.bind(null,b):null}function Nk(b,j){var $=sk;return b.current.memoizedState.isDehydrated&&(Kk(b,j).flags|=256),b=Ik(b,j),b!==2&&(j=tk,tk=$,j!==null&&Fj(j)),b}function Fj(b){tk===null?tk=b:tk.push.apply(tk,b)}function Ok(b){for(var j=b;;){if(j.flags&16384){var $=j.updateQueue;if($!==null&&($=$.stores,$!==null))for(var _e=0;_e<$.length;_e++){var et=$[_e],tt=et.getSnapshot;et=et.value;try{if(!He(tt(),et))return!1}catch{return!1}}}if($=j.child,j.subtreeFlags&16384&&$!==null)$.return=j,j=$;else{if(j===b)break;for(;j.sibling===null;){if(j.return===null||j.return===b)return!0;j=j.return}j.sibling.return=j.return,j=j.sibling}}return!0}function Ck(b,j){for(j&=~rk,j&=~qk,b.suspendedLanes|=j,b.pingedLanes&=~j,b=b.expirationTimes;0<j;){var $=31-oc(j),_e=1<<$;b[$]=-1,j&=~_e}}function Ek(b){if(K&6)throw Error(p$2(327));Hk();var j=uc(b,0);if(!(j&1))return Dk(b,B()),null;var $=Ik(b,j);if(b.tag!==0&&$===2){var _e=xc(b);_e!==0&&(j=_e,$=Nk(b,_e))}if($===1)throw $=pk,Kk(b,0),Ck(b,j),Dk(b,B()),$;if($===6)throw Error(p$2(345));return b.finishedWork=b.current.alternate,b.finishedLanes=j,Pk(b,tk,uk),Dk(b,B()),null}function Qk(b,j){var $=K;K|=1;try{return b(j)}finally{K=$,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(b){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var j=K;K|=1;var $=ok.transition,_e=C;try{if(ok.transition=null,C=1,b)return b()}finally{C=_e,ok.transition=$,K=j,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(b,j){b.finishedWork=null,b.finishedLanes=0;var $=b.timeoutHandle;if($!==-1&&(b.timeoutHandle=-1,Gf($)),Y!==null)for($=Y.return;$!==null;){var _e=$;switch(wg(_e),_e.tag){case 1:_e=_e.type.childContextTypes,_e!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H),Eh();break;case 5:Bh(_e);break;case 4:zh();break;case 13:E$1(L);break;case 19:E$1(L);break;case 10:ah(_e.type._context);break;case 22:case 23:Hj()}$=$.return}if(Q=b,Y=b=Pg(b.current,null),Z=fj=j,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(j=0;j<fh.length;j++)if($=fh[j],_e=$.interleaved,_e!==null){$.interleaved=null;var et=_e.next,tt=$.pending;if(tt!==null){var nt=tt.next;tt.next=et,_e.next=nt}$.pending=_e}fh=null}return b}function Mk(b,j){do{var $=Y;try{if($g(),Fh.current=Rh,Ih){for(var _e=M.memoizedState;_e!==null;){var et=_e.queue;et!==null&&(et.pending=null),_e=_e.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,$===null||$.return===null){T=1,pk=j,Y=null;break}e:{var tt=b,nt=$.return,rt=$,st=j;if(j=Z,rt.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var it=st,ct=rt,ot=ct.tag;if(!(ct.mode&1)&&(ot===0||ot===11||ot===15)){var at=ct.alternate;at?(ct.updateQueue=at.updateQueue,ct.memoizedState=at.memoizedState,ct.lanes=at.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var ft=Ui(nt);if(ft!==null){ft.flags&=-257,Vi(ft,nt,rt,tt,j),ft.mode&1&&Si(tt,it,j),j=ft,st=it;var dt=j.updateQueue;if(dt===null){var mt=new Set;mt.add(st),j.updateQueue=mt}else dt.add(st);break e}else{if(!(j&1)){Si(tt,it,j),tj();break e}st=Error(p$2(426))}}else if(I&&rt.mode&1){var xt=Ui(nt);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),Vi(xt,nt,rt,tt,j),Jg(Ji(st,rt));break e}}tt=st=Ji(st,rt),T!==4&&(T=2),sk===null?sk=[tt]:sk.push(tt),tt=nt;do{switch(tt.tag){case 3:tt.flags|=65536,j&=-j,tt.lanes|=j;var ht=Ni(tt,st,j);ph(tt,ht);break e;case 1:rt=st;var gt=tt.type,Et=tt.stateNode;if(!(tt.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Ri===null||!Ri.has(Et)))){tt.flags|=65536,j&=-j,tt.lanes|=j;var St=Qi(tt,rt,j);ph(tt,St);break e}}tt=tt.return}while(tt!==null)}Sk($)}catch(At){j=At,Y===$&&$!==null&&(Y=$=$.return);continue}break}while(!0)}function Jk(){var b=mk.current;return mk.current=Rh,b===null?Rh:b}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(b,j){var $=K;K|=2;var _e=Jk();(Q!==b||Z!==j)&&(uk=null,Kk(b,j));do try{Tk();break}catch(et){Mk(b,et)}while(!0);if($g(),K=$,mk.current=_e,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(b){var j=Vk(b.alternate,b,fj);b.memoizedProps=b.pendingProps,j===null?Sk(b):Y=j,nk.current=null}function Sk(b){var j=b;do{var $=j.alternate;if(b=j.return,j.flags&32768){if($=Ij($,j),$!==null){$.flags&=32767,Y=$;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{T=6,Y=null;return}}else if($=Ej($,j,fj),$!==null){Y=$;return}if(j=j.sibling,j!==null){Y=j;return}Y=j=b}while(j!==null);T===0&&(T=5)}function Pk(b,j,$){var _e=C,et=ok.transition;try{ok.transition=null,C=1,Wk(b,j,$,_e)}finally{ok.transition=et,C=_e}return null}function Wk(b,j,$,_e){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));$=b.finishedWork;var et=b.finishedLanes;if($===null)return null;if(b.finishedWork=null,b.finishedLanes=0,$===b.current)throw Error(p$2(177));b.callbackNode=null,b.callbackPriority=0;var tt=$.lanes|$.childLanes;if(Bc(b,tt),b===Q&&(Y=Q=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),tt=($.flags&15990)!==0,$.subtreeFlags&15990||tt){tt=ok.transition,ok.transition=null;var nt=C;C=1;var rt=K;K|=4,nk.current=null,Oj(b,$),dk($,b),Oe(Df),dd=!!Cf,Df=Cf=null,b.current=$,hk($),dc(),K=rt,C=nt,ok.transition=tt}else b.current=$;if(vk&&(vk=!1,wk=b,xk=et),tt=b.pendingLanes,tt===0&&(Ri=null),mc($.stateNode),Dk(b,B()),j!==null)for(_e=b.onRecoverableError,$=0;$<j.length;$++)et=j[$],_e(et.value,{componentStack:et.stack,digest:et.digest});if(Oi)throw Oi=!1,b=Pi,Pi=null,b;return xk&1&&b.tag!==0&&Hk(),tt=b.pendingLanes,tt&1?b===zk?yk++:(yk=0,zk=b):yk=0,jg(),null}function Hk(){if(wk!==null){var b=Dc(xk),j=ok.transition,$=C;try{if(ok.transition=null,C=16>b?16:b,wk===null)var _e=!1;else{if(b=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var et=K;for(K|=4,V=b.current;V!==null;){var tt=V,nt=tt.child;if(V.flags&16){var rt=tt.deletions;if(rt!==null){for(var st=0;st<rt.length;st++){var it=rt[st];for(V=it;V!==null;){var ct=V;switch(ct.tag){case 0:case 11:case 15:Pj(8,ct,tt)}var ot=ct.child;if(ot!==null)ot.return=ct,V=ot;else for(;V!==null;){ct=V;var at=ct.sibling,ft=ct.return;if(Sj(ct),ct===it){V=null;break}if(at!==null){at.return=ft,V=at;break}V=ft}}}var dt=tt.alternate;if(dt!==null){var mt=dt.child;if(mt!==null){dt.child=null;do{var xt=mt.sibling;mt.sibling=null,mt=xt}while(mt!==null)}}V=tt}}if(tt.subtreeFlags&2064&&nt!==null)nt.return=tt,V=nt;else e:for(;V!==null;){if(tt=V,tt.flags&2048)switch(tt.tag){case 0:case 11:case 15:Pj(9,tt,tt.return)}var ht=tt.sibling;if(ht!==null){ht.return=tt.return,V=ht;break e}V=tt.return}}var gt=b.current;for(V=gt;V!==null;){nt=V;var Et=nt.child;if(nt.subtreeFlags&2064&&Et!==null)Et.return=nt,V=Et;else e:for(nt=gt;V!==null;){if(rt=V,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Qj(9,rt)}}catch(At){W(rt,rt.return,At)}if(rt===nt){V=null;break e}var St=rt.sibling;if(St!==null){St.return=rt.return,V=St;break e}V=rt.return}}if(K=et,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,b)}catch{}_e=!0}return _e}finally{C=$,ok.transition=j}}return!1}function Xk(b,j,$){j=Ji($,j),j=Ni(b,j,1),b=nh(b,j,1),j=R(),b!==null&&(Ac(b,1,j),Dk(b,j))}function W(b,j,$){if(b.tag===3)Xk(b,b,$);else for(;j!==null;){if(j.tag===3){Xk(j,b,$);break}else if(j.tag===1){var _e=j.stateNode;if(typeof j.type.getDerivedStateFromError=="function"||typeof _e.componentDidCatch=="function"&&(Ri===null||!Ri.has(_e))){b=Ji($,b),b=Qi(j,b,1),j=nh(j,b,1),b=R(),j!==null&&(Ac(j,1,b),Dk(j,b));break}}j=j.return}}function Ti(b,j,$){var _e=b.pingCache;_e!==null&&_e.delete(j),j=R(),b.pingedLanes|=b.suspendedLanes&$,Q===b&&(Z&$)===$&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(b,0):rk|=$),Dk(b,j)}function Yk(b,j){j===0&&(b.mode&1?(j=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):j=1);var $=R();b=ih(b,j),b!==null&&(Ac(b,j,$),Dk(b,$))}function uj(b){var j=b.memoizedState,$=0;j!==null&&($=j.retryLane),Yk(b,$)}function bk(b,j){var $=0;switch(b.tag){case 13:var _e=b.stateNode,et=b.memoizedState;et!==null&&($=et.retryLane);break;case 19:_e=b.stateNode;break;default:throw Error(p$2(314))}_e!==null&&_e.delete(j),Yk(b,$)}var Vk;Vk=function(b,j,$){if(b!==null)if(b.memoizedProps!==j.pendingProps||Wf.current)dh=!0;else{if(!(b.lanes&$)&&!(j.flags&128))return dh=!1,yj(b,j,$);dh=!!(b.flags&131072)}else dh=!1,I&&j.flags&1048576&&ug(j,ng,j.index);switch(j.lanes=0,j.tag){case 2:var _e=j.type;ij(b,j),b=j.pendingProps;var et=Yf(j,H.current);ch(j,$),et=Nh(null,j,_e,b,et,$);var tt=Sh();return j.flags|=1,typeof et=="object"&&et!==null&&typeof et.render=="function"&&et.$$typeof===void 0?(j.tag=1,j.memoizedState=null,j.updateQueue=null,Zf(_e)?(tt=!0,cg(j)):tt=!1,j.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,kh(j),et.updater=Ei,j.stateNode=et,et._reactInternals=j,Ii(j,_e,b,$),j=jj(null,j,_e,!0,tt,$)):(j.tag=0,I&&tt&&vg(j),Xi(null,j,et,$),j=j.child),j;case 16:_e=j.elementType;e:{switch(ij(b,j),b=j.pendingProps,et=_e._init,_e=et(_e._payload),j.type=_e,et=j.tag=Zk(_e),b=Ci(_e,b),et){case 0:j=cj(null,j,_e,b,$);break e;case 1:j=hj(null,j,_e,b,$);break e;case 11:j=Yi(null,j,_e,b,$);break e;case 14:j=$i(null,j,_e,Ci(_e.type,b),$);break e}throw Error(p$2(306,_e,""))}return j;case 0:return _e=j.type,et=j.pendingProps,et=j.elementType===_e?et:Ci(_e,et),cj(b,j,_e,et,$);case 1:return _e=j.type,et=j.pendingProps,et=j.elementType===_e?et:Ci(_e,et),hj(b,j,_e,et,$);case 3:e:{if(kj(j),b===null)throw Error(p$2(387));_e=j.pendingProps,tt=j.memoizedState,et=tt.element,lh(b,j),qh(j,_e,null,$);var nt=j.memoizedState;if(_e=nt.element,tt.isDehydrated)if(tt={element:_e,isDehydrated:!1,cache:nt.cache,pendingSuspenseBoundaries:nt.pendingSuspenseBoundaries,transitions:nt.transitions},j.updateQueue.baseState=tt,j.memoizedState=tt,j.flags&256){et=Ji(Error(p$2(423)),j),j=lj(b,j,_e,$,et);break e}else if(_e!==et){et=Ji(Error(p$2(424)),j),j=lj(b,j,_e,$,et);break e}else for(yg=Lf(j.stateNode.containerInfo.firstChild),xg=j,I=!0,zg=null,$=Vg(j,null,_e,$),j.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),_e===et){j=Zi(b,j,$);break e}Xi(b,j,_e,$)}j=j.child}return j;case 5:return Ah(j),b===null&&Eg(j),_e=j.type,et=j.pendingProps,tt=b!==null?b.memoizedProps:null,nt=et.children,Ef(_e,et)?nt=null:tt!==null&&Ef(_e,tt)&&(j.flags|=32),gj(b,j),Xi(b,j,nt,$),j.child;case 6:return b===null&&Eg(j),null;case 13:return oj(b,j,$);case 4:return yh(j,j.stateNode.containerInfo),_e=j.pendingProps,b===null?j.child=Ug(j,null,_e,$):Xi(b,j,_e,$),j.child;case 11:return _e=j.type,et=j.pendingProps,et=j.elementType===_e?et:Ci(_e,et),Yi(b,j,_e,et,$);case 7:return Xi(b,j,j.pendingProps,$),j.child;case 8:return Xi(b,j,j.pendingProps.children,$),j.child;case 12:return Xi(b,j,j.pendingProps.children,$),j.child;case 10:e:{if(_e=j.type._context,et=j.pendingProps,tt=j.memoizedProps,nt=et.value,G(Wg,_e._currentValue),_e._currentValue=nt,tt!==null)if(He(tt.value,nt)){if(tt.children===et.children&&!Wf.current){j=Zi(b,j,$);break e}}else for(tt=j.child,tt!==null&&(tt.return=j);tt!==null;){var rt=tt.dependencies;if(rt!==null){nt=tt.child;for(var st=rt.firstContext;st!==null;){if(st.context===_e){if(tt.tag===1){st=mh(-1,$&-$),st.tag=2;var it=tt.updateQueue;if(it!==null){it=it.shared;var ct=it.pending;ct===null?st.next=st:(st.next=ct.next,ct.next=st),it.pending=st}}tt.lanes|=$,st=tt.alternate,st!==null&&(st.lanes|=$),bh(tt.return,$,j),rt.lanes|=$;break}st=st.next}}else if(tt.tag===10)nt=tt.type===j.type?null:tt.child;else if(tt.tag===18){if(nt=tt.return,nt===null)throw Error(p$2(341));nt.lanes|=$,rt=nt.alternate,rt!==null&&(rt.lanes|=$),bh(nt,$,j),nt=tt.sibling}else nt=tt.child;if(nt!==null)nt.return=tt;else for(nt=tt;nt!==null;){if(nt===j){nt=null;break}if(tt=nt.sibling,tt!==null){tt.return=nt.return,nt=tt;break}nt=nt.return}tt=nt}Xi(b,j,et.children,$),j=j.child}return j;case 9:return et=j.type,_e=j.pendingProps.children,ch(j,$),et=eh(et),_e=_e(et),j.flags|=1,Xi(b,j,_e,$),j.child;case 14:return _e=j.type,et=Ci(_e,j.pendingProps),et=Ci(_e.type,et),$i(b,j,_e,et,$);case 15:return bj(b,j,j.type,j.pendingProps,$);case 17:return _e=j.type,et=j.pendingProps,et=j.elementType===_e?et:Ci(_e,et),ij(b,j),j.tag=1,Zf(_e)?(b=!0,cg(j)):b=!1,ch(j,$),Gi(j,_e,et),Ii(j,_e,et,$),jj(null,j,_e,!0,b,$);case 19:return xj(b,j,$);case 22:return dj(b,j,$)}throw Error(p$2(156,j.tag))};function Fk(b,j){return ac(b,j)}function $k(b,j,$,_e){this.tag=b,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=j,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(b,j,$,_e){return new $k(b,j,$,_e)}function aj(b){return b=b.prototype,!(!b||!b.isReactComponent)}function Zk(b){if(typeof b=="function")return aj(b)?1:0;if(b!=null){if(b=b.$$typeof,b===Da)return 11;if(b===Ga)return 14}return 2}function Pg(b,j){var $=b.alternate;return $===null?($=Bg(b.tag,j,b.key,b.mode),$.elementType=b.elementType,$.type=b.type,$.stateNode=b.stateNode,$.alternate=b,b.alternate=$):($.pendingProps=j,$.type=b.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=b.flags&14680064,$.childLanes=b.childLanes,$.lanes=b.lanes,$.child=b.child,$.memoizedProps=b.memoizedProps,$.memoizedState=b.memoizedState,$.updateQueue=b.updateQueue,j=b.dependencies,$.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext},$.sibling=b.sibling,$.index=b.index,$.ref=b.ref,$}function Rg(b,j,$,_e,et,tt){var nt=2;if(_e=b,typeof b=="function")aj(b)&&(nt=1);else if(typeof b=="string")nt=5;else e:switch(b){case ya:return Tg($.children,et,tt,j);case za:nt=8,et|=8;break;case Aa:return b=Bg(12,$,j,et|2),b.elementType=Aa,b.lanes=tt,b;case Ea:return b=Bg(13,$,j,et),b.elementType=Ea,b.lanes=tt,b;case Fa:return b=Bg(19,$,j,et),b.elementType=Fa,b.lanes=tt,b;case Ia:return pj($,et,tt,j);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case Ba:nt=10;break e;case Ca:nt=9;break e;case Da:nt=11;break e;case Ga:nt=14;break e;case Ha:nt=16,_e=null;break e}throw Error(p$2(130,b==null?b:typeof b,""))}return j=Bg(nt,$,j,et),j.elementType=b,j.type=_e,j.lanes=tt,j}function Tg(b,j,$,_e){return b=Bg(7,b,_e,j),b.lanes=$,b}function pj(b,j,$,_e){return b=Bg(22,b,_e,j),b.elementType=Ia,b.lanes=$,b.stateNode={isHidden:!1},b}function Qg(b,j,$){return b=Bg(6,b,null,j),b.lanes=$,b}function Sg(b,j,$){return j=Bg(4,b.children!==null?b.children:[],b.key,j),j.lanes=$,j.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},j}function al(b,j,$,_e,et){this.tag=j,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_e,this.onRecoverableError=et,this.mutableSourceEagerHydrationData=null}function bl(b,j,$,_e,et,tt,nt,rt,st){return b=new al(b,j,$,rt,st),j===1?(j=1,tt===!0&&(j|=8)):j=0,tt=Bg(3,null,null,j),b.current=tt,tt.stateNode=b,tt.memoizedState={element:_e,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(tt),b}function cl(b,j,$){var _e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_e==null?null:""+_e,children:b,containerInfo:j,implementation:$}}function dl(b){if(!b)return Vf;b=b._reactInternals;e:{if(Vb(b)!==b||b.tag!==1)throw Error(p$2(170));var j=b;do{switch(j.tag){case 3:j=j.stateNode.context;break e;case 1:if(Zf(j.type)){j=j.stateNode.__reactInternalMemoizedMergedChildContext;break e}}j=j.return}while(j!==null);throw Error(p$2(171))}if(b.tag===1){var $=b.type;if(Zf($))return bg(b,$,j)}return j}function el(b,j,$,_e,et,tt,nt,rt,st){return b=bl($,_e,!0,b,et,tt,nt,rt,st),b.context=dl(null),$=b.current,_e=R(),et=yi($),tt=mh(_e,et),tt.callback=j??null,nh($,tt,et),b.current.lanes=et,Ac(b,et,_e),Dk(b,_e),b}function fl(b,j,$,_e){var et=j.current,tt=R(),nt=yi(et);return $=dl($),j.context===null?j.context=$:j.pendingContext=$,j=mh(tt,nt),j.payload={element:b},_e=_e===void 0?null:_e,_e!==null&&(j.callback=_e),b=nh(et,j,nt),b!==null&&(gi(b,et,nt,tt),oh(b,et,nt)),nt}function gl(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function hl(b,j){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var $=b.retryLane;b.retryLane=$!==0&&$<j?$:j}}function il(b,j){hl(b,j),(b=b.alternate)&&hl(b,j)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(b){console.error(b)};function ll(b){this._internalRoot=b}ml.prototype.render=ll.prototype.render=function(b){var j=this._internalRoot;if(j===null)throw Error(p$2(409));fl(b,j,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var j=b.containerInfo;Rk(function(){fl(null,b,null,null)}),j[uf]=null}};function ml(b){this._internalRoot=b}ml.prototype.unstable_scheduleHydration=function(b){if(b){var j=Hc();b={blockedOn:null,target:b,priority:j};for(var $=0;$<Qc.length&&j!==0&&j<Qc[$].priority;$++);Qc.splice($,0,b),$===0&&Vc(b)}};function nl(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function ol(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(b,j,$,_e,et){if(et){if(typeof _e=="function"){var tt=_e;_e=function(){var it=gl(nt);tt.call(it)}}var nt=el(j,_e,b,0,null,!1,!1,"",pl);return b._reactRootContainer=nt,b[uf]=nt.current,sf(b.nodeType===8?b.parentNode:b),Rk(),nt}for(;et=b.lastChild;)b.removeChild(et);if(typeof _e=="function"){var rt=_e;_e=function(){var it=gl(st);rt.call(it)}}var st=bl(b,0,!1,null,null,!1,!1,"",pl);return b._reactRootContainer=st,b[uf]=st.current,sf(b.nodeType===8?b.parentNode:b),Rk(function(){fl(j,st,$,_e)}),st}function rl(b,j,$,_e,et){var tt=$._reactRootContainer;if(tt){var nt=tt;if(typeof et=="function"){var rt=et;et=function(){var st=gl(nt);rt.call(st)}}fl(j,nt,b,et)}else nt=ql($,j,b,et,_e);return gl(nt)}Ec=function(b){switch(b.tag){case 3:var j=b.stateNode;if(j.current.memoizedState.isDehydrated){var $=tc(j.pendingLanes);$!==0&&(Cc(j,$|1),Dk(j,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var _e=ih(b,1);if(_e!==null){var et=R();gi(_e,b,1,et)}}),il(b,1)}};Fc=function(b){if(b.tag===13){var j=ih(b,134217728);if(j!==null){var $=R();gi(j,b,134217728,$)}il(b,134217728)}};Gc=function(b){if(b.tag===13){var j=yi(b),$=ih(b,j);if($!==null){var _e=R();gi($,b,j,_e)}il(b,j)}};Hc=function(){return C};Ic=function(b,j){var $=C;try{return C=b,j()}finally{C=$}};yb=function(b,j,$){switch(j){case"input":if(bb(b,$),j=$.name,$.type==="radio"&&j!=null){for($=b;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+j)+'][type="radio"]'),j=0;j<$.length;j++){var _e=$[j];if(_e!==b&&_e.form===b.form){var et=Db(_e);if(!et)throw Error(p$2(90));Wa(_e),bb(_e,et)}}}break;case"textarea":ib(b,$);break;case"select":j=$.value,j!=null&&fb(b,!!$.multiple,j,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Zb(b),b===null?null:b.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(b,j){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(j))throw Error(p$2(200));return cl(b,j,null,$)};reactDom_production_min.createRoot=function(b,j){if(!nl(b))throw Error(p$2(299));var $=!1,_e="",et=kl;return j!=null&&(j.unstable_strictMode===!0&&($=!0),j.identifierPrefix!==void 0&&(_e=j.identifierPrefix),j.onRecoverableError!==void 0&&(et=j.onRecoverableError)),j=bl(b,1,!1,null,null,$,!1,_e,et),b[uf]=j.current,sf(b.nodeType===8?b.parentNode:b),new ll(j)};reactDom_production_min.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var j=b._reactInternals;if(j===void 0)throw typeof b.render=="function"?Error(p$2(188)):(b=Object.keys(b).join(","),Error(p$2(268,b)));return b=Zb(j),b=b===null?null:b.stateNode,b};reactDom_production_min.flushSync=function(b){return Rk(b)};reactDom_production_min.hydrate=function(b,j,$){if(!ol(j))throw Error(p$2(200));return rl(null,b,j,!0,$)};reactDom_production_min.hydrateRoot=function(b,j,$){if(!nl(b))throw Error(p$2(405));var _e=$!=null&&$.hydratedSources||null,et=!1,tt="",nt=kl;if($!=null&&($.unstable_strictMode===!0&&(et=!0),$.identifierPrefix!==void 0&&(tt=$.identifierPrefix),$.onRecoverableError!==void 0&&(nt=$.onRecoverableError)),j=el(j,null,b,1,$??null,et,!1,tt,nt),b[uf]=j.current,sf(b),_e)for(b=0;b<_e.length;b++)$=_e[b],et=$._getVersion,et=et($._source),j.mutableSourceEagerHydrationData==null?j.mutableSourceEagerHydrationData=[$,et]:j.mutableSourceEagerHydrationData.push($,et);return new ml(j)};reactDom_production_min.render=function(b,j,$){if(!ol(j))throw Error(p$2(200));return rl(null,b,j,!1,$)};reactDom_production_min.unmountComponentAtNode=function(b){if(!ol(b))throw Error(p$2(40));return b._reactRootContainer?(Rk(function(){rl(null,null,b,!1,function(){b._reactRootContainer=null,b[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(b,j,$,_e){if(!ol($))throw Error(p$2(200));if(b==null||b._reactInternals===void 0)throw Error(p$2(38));return rl(b,j,$,!1,_e)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(b){console.error(b)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;try{self["workbox:window:7.0.0"]&&_()}catch{}function n$3(b,j){return new Promise(function($){var _e=new MessageChannel;_e.port1.onmessage=function(et){$(et.data)},b.postMessage(j,[_e.port2])})}function t$3(b){var j=function($,_e){if(typeof $!="object"||!$)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e);if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}(b,"string");return typeof j=="symbol"?j:j+""}function r$3(b,j){for(var $=0;$<j.length;$++){var _e=j[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(b,t$3(_e.key),_e)}}function e$3(b,j){return e$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,_e){return $.__proto__=_e,$},e$3(b,j)}function i$1(b,j){(j==null||j>b.length)&&(j=b.length);for(var $=0,_e=new Array(j);$<j;$++)_e[$]=b[$];return _e}function o$2(b,j){var $=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if($)return($=$.call(b)).next.bind($);if(Array.isArray(b)||($=function(et,tt){if(et){if(typeof et=="string")return i$1(et,tt);var nt=Object.prototype.toString.call(et).slice(8,-1);return nt==="Object"&&et.constructor&&(nt=et.constructor.name),nt==="Map"||nt==="Set"?Array.from(et):nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt)?i$1(et,tt):void 0}}(b))||j){$&&(b=$);var _e=0;return function(){return _e>=b.length?{done:!0}:{done:!1,value:b[_e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}try{self["workbox:core:7.0.0"]&&_()}catch{}var u$2=function(){var b=this;this.promise=new Promise(function(j,$){b.resolve=j,b.reject=$})};function a$1(b,j){var $=location.href;return new URL(b,$).href===new URL(j,$).href}var c$1=function(b,j){this.type=b,Object.assign(this,j)};function f$2(b,j,$){return $?j?j(b):b:(b&&b.then||(b=Promise.resolve(b)),j?b.then(j):b)}function s$2(){}var v$1={type:"SKIP_WAITING"};function h$2(b,j){return b&&b.then?b.then(s$2):Promise.resolve()}var l$2=function(b){function j(rt,st){var it,ct;return st===void 0&&(st={}),(it=b.call(this)||this).nn={},it.tn=0,it.rn=new u$2,it.en=new u$2,it.on=new u$2,it.un=0,it.an=new Set,it.cn=function(){var ot=it.fn,at=ot.installing;it.tn>0||!a$1(at.scriptURL,it.sn.toString())||performance.now()>it.un+6e4?(it.vn=at,ot.removeEventListener("updatefound",it.cn)):(it.hn=at,it.an.add(at),it.rn.resolve(at)),++it.tn,at.addEventListener("statechange",it.ln)},it.ln=function(ot){var at=it.fn,ft=ot.target,dt=ft.state,mt=ft===it.vn,xt={sw:ft,isExternal:mt,originalEvent:ot};!mt&&it.mn&&(xt.isUpdate=!0),it.dispatchEvent(new c$1(dt,xt)),dt==="installed"?it.wn=self.setTimeout(function(){dt==="installed"&&at.waiting===ft&&it.dispatchEvent(new c$1("waiting",xt))},200):dt==="activating"&&(clearTimeout(it.wn),mt||it.en.resolve(ft))},it.yn=function(ot){var at=it.hn,ft=at!==navigator.serviceWorker.controller;it.dispatchEvent(new c$1("controlling",{isExternal:ft,originalEvent:ot,sw:at,isUpdate:it.mn})),ft||it.on.resolve(at)},it.gn=(ct=function(ot){var at=ot.data,ft=ot.ports,dt=ot.source;return f$2(it.getSW(),function(){it.an.has(dt)&&it.dispatchEvent(new c$1("message",{data:at,originalEvent:ot,ports:ft,sw:dt}))})},function(){for(var ot=[],at=0;at<arguments.length;at++)ot[at]=arguments[at];try{return Promise.resolve(ct.apply(this,ot))}catch(ft){return Promise.reject(ft)}}),it.sn=rt,it.nn=st,navigator.serviceWorker.addEventListener("message",it.gn),it}var $,_e;_e=b,($=j).prototype=Object.create(_e.prototype),$.prototype.constructor=$,e$3($,_e);var et,tt,nt=j.prototype;return nt.register=function(rt){var st=(rt===void 0?{}:rt).immediate,it=st!==void 0&&st;try{var ct=this;return f$2(function(ot,at){var ft=ot();return ft&&ft.then?ft.then(at):at(ft)}(function(){if(!it&&document.readyState!=="complete")return h$2(new Promise(function(ot){return window.addEventListener("load",ot)}))},function(){return ct.mn=!!navigator.serviceWorker.controller,ct.dn=ct.pn(),f$2(ct.bn(),function(ot){ct.fn=ot,ct.dn&&(ct.hn=ct.dn,ct.en.resolve(ct.dn),ct.on.resolve(ct.dn),ct.dn.addEventListener("statechange",ct.ln,{once:!0}));var at=ct.fn.waiting;return at&&a$1(at.scriptURL,ct.sn.toString())&&(ct.hn=at,Promise.resolve().then(function(){ct.dispatchEvent(new c$1("waiting",{sw:at,wasWaitingBeforeRegister:!0}))}).then(function(){})),ct.hn&&(ct.rn.resolve(ct.hn),ct.an.add(ct.hn)),ct.fn.addEventListener("updatefound",ct.cn),navigator.serviceWorker.addEventListener("controllerchange",ct.yn),ct.fn})}))}catch(ot){return Promise.reject(ot)}},nt.update=function(){try{return this.fn?f$2(h$2(this.fn.update())):f$2()}catch(rt){return Promise.reject(rt)}},nt.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},nt.messageSW=function(rt){try{return f$2(this.getSW(),function(st){return n$3(st,rt)})}catch(st){return Promise.reject(st)}},nt.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&n$3(this.fn.waiting,v$1)},nt.pn=function(){var rt=navigator.serviceWorker.controller;return rt&&a$1(rt.scriptURL,this.sn.toString())?rt:void 0},nt.bn=function(){try{var rt=this;return f$2(function(st,it){try{var ct=st()}catch(ot){return it(ot)}return ct&&ct.then?ct.then(void 0,it):ct}(function(){return f$2(navigator.serviceWorker.register(rt.sn,rt.nn),function(st){return rt.un=performance.now(),st})},function(st){throw st}))}catch(st){return Promise.reject(st)}},et=j,(tt=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&r$3(et.prototype,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}(function(){function b(){this.Pn=new Map}var j=b.prototype;return j.addEventListener=function($,_e){this.jn($).add(_e)},j.removeEventListener=function($,_e){this.jn($).delete(_e)},j.dispatchEvent=function($){$.target=this;for(var _e,et=o$2(this.jn($.type));!(_e=et()).done;)(0,_e.value)($)},j.jn=function($){return this.Pn.has($)||this.Pn.set($,new Set),this.Pn.get($)},b}()),ProvidedComponents=(b=>(b.OpenGameButton="OpenGameButton",b))(ProvidedComponents||{});const GAME_DESCRIPTOR_NAME="game.cfg",locales$1=[{label:"English",value:"en-US"},{label:"Русский",value:"ru-RU"},{label:"Українська",value:"uk-UA"},{label:"简体中文",value:"zh"}],createEvent$1=()=>{const b=new Set;return{add:_e=>{b.add(_e)},fire:()=>{b.forEach(_e=>_e()),b.clear()}}},INTERNAL=Symbol(),shallowCopy=b=>Array.isArray(b)?b.slice():Object.create(Object.getPrototypeOf(b),Object.getOwnPropertyDescriptors(b));function getIn(b,j,$=!1,_e=0){if(_e===j.length)return b;const et=j[_e];return $&&!b[et]&&(b[et]={}),getIn(b[et],j,$,_e+1)}function setIn(b,j,$,_e=0){if(_e===j.length)return $;const et=j[_e],tt=b[et],nt=setIn(tt,j,$,_e+1);if(nt===tt)return b;const rt=shallowCopy(b);return rt[et]=nt,rt}const handler$1={get:(b,j)=>j===INTERNAL?b:new Proxy([...b,j],handler$1)},pathProxy=new Proxy([],handler$1),createFocus=(b,j)=>$=>{const _e=typeof $=="function"?$(pathProxy)[INTERNAL]:[$];b.cache||(b.cache={});const et=j.concat(_e),{get:tt}=b,nt=getIn(b.cache,et,!0);return nt[INTERNAL]||(nt[INTERNAL]=createAtom(Object.assign(Object.assign({},b),{path:et,get:()=>{const rt=tt();return rt?getIn(rt,et):void 0},set:rt=>b.atom.set(setIn(tt(),et,rt))})))},createStream=b=>(j,$)=>{let _e;const et=createInternal();let tt=!0;const nt=()=>{et.listeners.size?rt():tt=!0},rt=()=>{const st=b.get(),it=j(st,_e);tt=!1,$&&!it||(et.set(it),_e=it)};return createAtom(Object.assign(Object.assign({},et),{get:()=>(!b.isStream&&tt&&rt(),et.get()),isStream:$||b.isStream,subscribe:st=>{const it=b.subscribe(nt),ct=et.subscribe(st);return()=>{ct(),et.listeners.size||it()}}}))},tools={symbol:INTERNAL,send:()=>{},wrap:b=>b},subscribeInternal=(b,j,$)=>_e=>{const et=createEvent$1();let tt=j();const nt=st=>{const it=_e(st,tt);typeof it=="function"&&et.add(it)};$&&nt(tt);const rt=b(()=>{const st=j();st!==tt&&(et.fire(),nt(st),tt=st)});return()=>{et.fire(),rt()}},createInternal=b=>{const j=new Set,$={listeners:j,get:()=>b,set:_e=>{b!==_e&&(b=_e,tools.send($),j.forEach(et=>et()))},subscribe:_e=>(j.add(_e),()=>void j.delete(_e))};return $};function createAtom(b,j){const{get:$,subscribe:_e,atom:et}=b,tt={get value(){return tools.get&&tools.get(tt),$()},set value(rt){tt.set(rt)},get actions(){return tools.wrap(nt,tt)},set:rt=>b.set(rt),update:rt=>tt.set(rt($())),subscribe:subscribeInternal(_e,$),watch:subscribeInternal(_e,$,!0),focus:createFocus(et?et[INTERNAL]:b,b.path||[]),map:createStream(b),[INTERNAL]:b};b.atom=tt,create.plugins.forEach(rt=>rt(tt));const nt=j&&j(tt);return tt}const createGetState=(b,j)=>($,_e)=>_e?(j(_e(b)),$()):(j($.subscribe(b)),$[INTERNAL].get()),createSelector=b=>{const j=createInternal(),{get:$,set:_e,listeners:et}=j,tt=createEvent$1();let nt=!0;const rt=createGetState(()=>{et.size?st():nt=!0},tt.add),st=()=>{tt.fire(),nt=!1;const it=tools.get;tools.get=j.track?rt:null,_e(b(rt)),tools.get=it};return j.get=()=>(nt&&st(),$()),j};function atom(b,j){const $=(typeof b=="function"?createSelector:createInternal)(b);return $.isStream=!arguments.length,createAtom($,j)}atom.plugins=[];atom.internal=tools;const create=atom;var useConstant$3={};Object.defineProperty(useConstant$3,"__esModule",{value:!0});var react$1=reactExports;const useConstant$2=b=>{const j=react$1.useRef();return j.current||(j.current={c:b()}),j.current.c};var useConstant_2=useConstant$3.useConstant=useConstant$2,useAdapter$1={};const createEvent=()=>{const b=new Set;return{add:_e=>{b.add(_e)},fire:()=>{b.forEach(_e=>_e()),b.clear()}}},error=b=>{throw new Error(`[xoid] \`${b}\` cannot be used outside the setup context. To create a setup context, use the \`useSetup\` hook from a framework integration package.`)};let adapter={effect:()=>error("effect"),inject:()=>error("inject")};const inject$1=b=>adapter.inject(b),effect=b=>adapter.effect(b);function setup$1(b){const j=adapter;adapter=this;const $=b();return adapter=j,$}const createAdapter=b=>{const j=createEvent(),$=createEvent();return{inject:b.inject,mount:j.fire,unmount:$.fire,effect:_e=>j.add(()=>{const et=_e();typeof et=="function"&&$.add(et)})}},setup_esm=Object.freeze(Object.defineProperty({__proto__:null,createAdapter,effect,inject:inject$1,setup:setup$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(setup_esm);Object.defineProperty(useAdapter$1,"__esModule",{value:!0});var React=reactExports,setup=require$$1,useConstant$1=useConstant$3;function _interopDefaultLegacy(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var React__default=_interopDefaultLegacy(React);const contextMap=new Map,createProvider=(b,j)=>{const $=React.createContext(j);return contextMap.set(b,$),$.Provider},reactInternals=React__default.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,inject=b=>{if(typeof b!="symbol")throw new TypeError("An injection key should be a symbol.");return reactInternals.ReactCurrentDispatcher.current.readContext(contextMap.get(b))},useAdapter=b=>{const j=useConstant$1.useConstant(()=>setup.createAdapter({inject}));return React.useEffect(()=>(j.mount(),()=>j.unmount()),[]),useConstant$1.useConstant(()=>setup.setup.call(j,b))};useAdapter$1.createProvider=createProvider;var useAdapter_2=useAdapter$1.useAdapter=useAdapter,useAtom$1={},shim$1={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=reactExports;function h$1(b,j){return b===j&&(b!==0||1/b===1/j)||b!==b&&j!==j}var k=typeof Object.is=="function"?Object.is:h$1,l$1=e$2.useState,m$1=e$2.useEffect,n$2=e$2.useLayoutEffect,p$1=e$2.useDebugValue;function q(b,j){var $=j(),_e=l$1({inst:{value:$,getSnapshot:j}}),et=_e[0].inst,tt=_e[1];return n$2(function(){et.value=$,et.getSnapshot=j,r$2(et)&&tt({inst:et})},[b,$,j]),m$1(function(){return r$2(et)&&tt({inst:et}),b(function(){r$2(et)&&tt({inst:et})})},[b]),p$1($),$}function r$2(b){var j=b.getSnapshot;b=b.value;try{var $=j();return!k(b,$)}catch{return!0}}function t$2(b,j){return j()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$1;shim$1.exports=useSyncExternalStoreShim_production_min;var shimExports=shim$1.exports;Object.defineProperty(useAtom$1,"__esModule",{value:!0});var shim=shimExports,react=reactExports,useConstant=useConstant$3;function useAtom(b,j){const $=useConstant.useConstant(()=>typeof b=="function"&&b())||b,_e=shim.useSyncExternalStore($.subscribe,()=>$.value,()=>$.value);return react.useDebugValue(_e),j?[_e,$.actions]:_e}var useAtom_2=useAtom$1.useAtom=useAtom;const useIsoLayoutEffect=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function useSetup(b,j){let $;if(arguments.length>1){const _e=useConstant_2(()=>atom(()=>j));useIsoLayoutEffect(()=>_e.set(j),[j]),$=useAdapter_2(()=>b(_e))}else $=useAdapter_2(b);return reactExports.useDebugValue($),$}const QspiderRoot=({children:b})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:b}),storage$=create();typeof window<"u"&&typeof window.global>"u"&&(window.global=window);const ParserEND=1114112;class ParserError extends Error{constructor(j,$,_e){super("[ParserError] "+j,$,_e),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}class State{constructor(j){this.parser=j,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}let Parser$1=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State(this.parseStart)}parse(j){if(j.length===0||j.length==null)return;this._buf=String(j),this.ii=-1,this.char=-1;let $;for(;$===!1||this.nextChar();)$=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=ParserEND;let j;do j=this.state.parser,this.runOne();while(this.state.parser!==j);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(j){if(typeof j!="function")throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify(j));this.state.parser=j}goto(j){return this.next(j),this.runOne()}call(j,$){$&&this.next($),this.stack.push(this.state),this.state=new State(j)}callNow(j,$){return this.call(j,$),this.runOne()}return(j){if(this.stack.length===0)throw this.error(new ParserError("Stack underflow"));j===void 0&&(j=this.state.buf),this.state=this.stack.pop(),this.state.returned=j}returnNow(j){return this.return(j),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(j){return j.line=this.line,j.col=this.col,j.pos=this.pos,j}parseStart(){throw new ParserError("Must declare a parseStart method")}};Parser$1.END=ParserEND;Parser$1.Error=ParserError;const createDateTime=b=>{const j=new Date(b);if(isNaN(j))throw new TypeError("Invalid Datetime");return j},f$1=(b,j)=>{for(j=String(j);j.length<b;)j="0"+j;return j};class FloatingDateTime extends Date{constructor(j){super(j+"Z"),this.isFloating=!0}toISOString(){const j=`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`,$=`${f$1(2,this.getUTCHours())}:${f$1(2,this.getUTCMinutes())}:${f$1(2,this.getUTCSeconds())}.${f$1(3,this.getUTCMilliseconds())}`;return`${j}T${$}`}}const createDateTimeFloat=b=>{const j=new FloatingDateTime(b);if(isNaN(j))throw new TypeError("Invalid Datetime");return j};class Date_ extends Date{constructor(j){super(j),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`}}const createDate=b=>{const j=new Date_(b);if(isNaN(j))throw new TypeError("Invalid Datetime");return j};class Time extends Date{constructor(j){super(`0000-01-01T${j}Z`),this.isTime=!0}toISOString(){return`${f$1(2,this.getUTCHours())}:${f$1(2,this.getUTCMinutes())}:${f$1(2,this.getUTCSeconds())}.${f$1(3,this.getUTCMilliseconds())}`}}const createTime=b=>{const j=new Time(b);if(isNaN(j))throw new TypeError("Invalid Datetime");return j},TOMLParser=makeParserClass(Parser$1);class TomlError extends Error{constructor(j){super(j),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=b=>{const j=new TomlError(b.message);return j.code=b.code,j.wrapped=b,j};const CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(b){return b>=CHAR_0&&b<=CHAR_9}function isHexit(b){return b>=CHAR_A&&b<=CHAR_F||b>=CHAR_a&&b<=CHAR_f||b>=CHAR_0&&b<=CHAR_9}function isBit(b){return b===CHAR_1||b===CHAR_0}function isOctit(b){return b>=CHAR_0&&b<=CHAR_7}function isAlphaNumQuoteHyphen(b){return b>=CHAR_A&&b<=CHAR_Z||b>=CHAR_a&&b<=CHAR_z||b>=CHAR_0&&b<=CHAR_9||b===CHAR_APOS||b===CHAR_QUOT||b===CHAR_LOWBAR||b===CHAR_HYPHEN}function isAlphaNumHyphen(b){return b>=CHAR_A&&b<=CHAR_Z||b>=CHAR_a&&b<=CHAR_z||b>=CHAR_0&&b<=CHAR_9||b===CHAR_LOWBAR||b===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty$1=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(b,j){return hasOwnProperty$1.call(b,j)?!0:(j==="__proto__"&&defineProperty(b,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(b){return b===null||typeof b!="object"?!1:b[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table$1(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(b){return b===null||typeof b!="object"?!1:b[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(b){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:b}})}function isInlineList(b){return b===null||typeof b!="object"?!1:b[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(b){return b===null||typeof b!="object"?!1:b[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(b){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(j){try{this.value=global.BigInt.asIntN(64,j)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(b){let j=Number(b);return Object.is(j,-0)&&(j=0),global.BigInt&&!Number.isSafeInteger(j)?new BoxedBigInt(b):Object.defineProperties(new Number(j),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${b}]`}})}function isInteger(b){return b===null||typeof b!="object"?!1:b[_type]===INTEGER}const FLOAT=Symbol("float");function Float(b){return Object.defineProperties(new Number(b),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${b}]`}})}function isFloat(b){return b===null||typeof b!="object"?!1:b[_type]===FLOAT}function tomlType$1(b){const j=typeof b;if(j==="object"){if(b===null)return"null";if(b instanceof Date)return"datetime";if(_type in b)switch(b[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return j}function makeParserClass(b){class j extends b{constructor(){super(),this.ctx=this.obj=Table$1()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===b.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===b.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===b.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(_e){let et=this.ctx,tt=_e.key.pop();for(let nt of _e.key){if(hasKey(et,nt)&&!isTable(et[nt]))throw this.error(new TomlError("Can't redefine existing key"));et=et[nt]=et[nt]||Table$1()}if(hasKey(et,tt))throw this.error(new TomlError("Can't redefine existing key"));return et[_declared]=!0,isInteger(_e.value)||isFloat(_e.value)?et[tt]=_e.value.valueOf():et[tt]=_e.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(_e){return this.state.resultTable?this.state.resultTable.push(_e):this.state.resultTable=[_e],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(_e){return this.returnNow({key:this.state.resultTable,value:_e})}parseComment(){do{if(this.char===b.END||this.char===CTRL_J)return this.return();if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("comments")}while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(_e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,_e)&&(!isTable(this.ctx[_e])||this.ctx[_e][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[_e]=this.ctx[_e]||Table$1(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,_e))this.ctx=this.ctx[_e]=Table$1();else if(isTable(this.ctx[_e]))this.ctx=this.ctx[_e];else if(isList(this.ctx[_e]))this.ctx=this.ctx[_e][this.ctx[_e].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(_e){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,_e)||(this.ctx[_e]=List()),isInlineList(this.ctx[_e]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[_e])){const et=Table$1();this.ctx[_e].push(et),this.ctx=et}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,_e))this.ctx=this.ctx[_e]=Table$1();else{if(isInlineList(this.ctx[_e]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[_e]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[_e]))this.ctx=this.ctx[_e][this.ctx[_e].length-1];else if(isTable(this.ctx[_e]))this.ctx=this.ctx[_e];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(_e){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===b.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(_e){return this.returnNow(_e)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===b.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===b.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd3):(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd3(){return this.char===CHAR_APOS?(this.state.buf+="'",this.next(this.parseLiteralMultiEnd4)):this.returnNow()}parseLiteralMultiEnd4(){return this.char===CHAR_APOS?(this.state.buf+="'",this.return()):this.returnNow()}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}recordEscapeReplacement(_e){return this.state.buf+=_e,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===b.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}errorControlCharIn(_e){let et="\\u00";return this.char<16&&(et+="0"),et+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in ${_e}, use ${et} instead`))}recordMultiEscapeReplacement(_e){return this.state.buf+=_e,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd3):(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEnd3(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.next(this.parseMultiEnd4)):this.returnNow()}parseMultiEnd4(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.return()):this.returnNow()}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(_e){try{const et=parseInt(_e,16);if(et>=SURROGATE_FIRST&&et<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(et))}catch(et){throw this.error(TomlError.wrap(et))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const _e=Integer(this.state.buf);if(_e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(_e)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const _e=Integer(this.state.buf);if(_e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(_e)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const _e=Integer(this.state.buf);if(_e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(_e)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const _e=Integer(this.state.buf);if(_e.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(_e)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===b.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(_e){return this.state.resultArr||(this.state.resultArr=InlineList(tomlType$1(_e))),isFloat(_e)||isInteger(_e)?this.state.resultArr.push(_e.valueOf()):this.state.resultArr.push(_e),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===b.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(_e){let et=this.state.resultTable,tt=_e.key.pop();for(let nt of _e.key){if(hasKey(et,nt)&&(!isTable(et[nt])||et[nt][_declared]))throw this.error(new TomlError("Can't redefine existing key"));et=et[nt]=et[nt]||Table$1()}if(hasKey(et,tt))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(_e.value)||isFloat(_e.value)?et[tt]=_e.value.valueOf():et[tt]=_e.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===b.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTablePostComma);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTablePostComma(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===b.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)throw this.error(new TomlError("Empty elements in inline tables are not permitted"));if(this.char===CHAR_RCUB)throw this.error(new TomlError("Trailing commas in inline tables are not permitted"));return this.goto(this.parseInlineTable)}}return j}function prettyError(b,j){if(b.pos==null||b.line==null)return b;let $=b.message;if($+=` at row ${b.line+1}, col ${b.col+1}, pos ${b.pos}:
`,j&&j.split){const _e=j.split(/\n/),et=String(Math.min(_e.length,b.line+3)).length;let tt=" ";for(;tt.length<et;)tt+=" ";for(let nt=Math.max(0,b.line-1);nt<Math.min(_e.length,b.line+2);++nt){let rt=String(nt+1);if(rt.length<et&&(rt=" "+rt),b.line===nt){$+=rt+"> "+_e[nt]+`
`,$+=tt+"  ";for(let st=0;st<b.col;++st)$+=" ";$+=`^
`}else $+=rt+": "+_e[nt]+`
`}}return b.message=$+`
`,b}function parseString(b){global.Buffer&&global.Buffer.isBuffer(b)&&(b=b.toString("utf8"));const j=new TOMLParser;try{return j.parse(b),j.finish()}catch($){throw prettyError($,b)}}function stringify$1(b){if(b===null)throw typeError("null");if(b===void 0)throw typeError("undefined");if(typeof b!="object")throw typeError(typeof b);if(typeof b.toJSON=="function"&&(b=b.toJSON()),b==null)return null;const j=tomlType(b);if(j!=="table")throw typeError(j);return stringifyObject("","",b)}function typeError(b){return new Error("Can only stringify objects, not "+b)}function getInlineKeys(b){return Object.keys(b).filter(j=>isInline(b[j]))}function getComplexKeys(b){return Object.keys(b).filter(j=>!isInline(b[j]))}function toJSON(b){let j=Array.isArray(b)?[]:Object.prototype.hasOwnProperty.call(b,"__proto__")?{["__proto__"]:void 0}:{};for(let $ of Object.keys(b))b[$]&&typeof b[$].toJSON=="function"&&!("toISOString"in b[$])?j[$]=b[$].toJSON():j[$]=b[$];return j}function stringifyObject(b,j,$){$=toJSON($);let _e,et;_e=getInlineKeys($),et=getComplexKeys($);const tt=[],nt=j||"";_e.forEach(st=>{var it=tomlType($[st]);it!=="undefined"&&it!=="null"&&tt.push(nt+stringifyKey(st)+" = "+stringifyAnyInline($[st],!0))}),tt.length>0&&tt.push("");const rt=b&&_e.length>0?j+"  ":"";return et.forEach(st=>{tt.push(stringifyComplex(b,rt,st,$[st]))}),tt.join(`
`)}function isInline(b){switch(tomlType(b)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return b.length===0||tomlType(b[0])!=="table";case"table":return Object.keys(b).length===0;default:return!1}}function tomlType(b){return b===void 0?"undefined":b===null?"null":typeof b=="bigint"||Number.isInteger(b)&&!Object.is(b,-0)?"integer":typeof b=="number"?"float":typeof b=="boolean"?"boolean":typeof b=="string"?"string":"toISOString"in b?isNaN(b)?"undefined":"datetime":Array.isArray(b)?"array":"table"}function stringifyKey(b){const j=String(b);return/^[-A-Za-z0-9_]+$/.test(j)?j:stringifyBasicString(j)}function stringifyBasicString(b){return'"'+escapeString(b).replace(/"/g,'\\"')+'"'}function stringifyLiteralString(b){return"'"+b+"'"}function numpad(b,j){for(;j.length<b;)j="0"+j;return j}function escapeString(b){return b.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,j=>"\\u"+numpad(4,j.codePointAt(0).toString(16)))}function stringifyMultilineString(b){let j=b.split(/\n/).map($=>escapeString($).replace(/"(?="")/g,'\\"')).join(`
`);return j.slice(-1)==='"'&&(j+=`\\
`),`"""
`+j+'"""'}function stringifyAnyInline(b,j){let $=tomlType(b);return $==="string"&&(j&&/\n/.test(b)?$="string-multiline":!/[\b\t\n\f\r']/.test(b)&&/"/.test(b)&&($="string-literal")),stringifyInline(b,$)}function stringifyInline(b,j){switch(j||(j=tomlType(b)),j){case"string-multiline":return stringifyMultilineString(b);case"string":return stringifyBasicString(b);case"string-literal":return stringifyLiteralString(b);case"integer":return stringifyInteger(b);case"float":return stringifyFloat(b);case"boolean":return stringifyBoolean(b);case"datetime":return stringifyDatetime(b);case"array":return stringifyInlineArray(b.filter($=>tomlType($)!=="null"&&tomlType($)!=="undefined"&&tomlType($)!=="nan"));case"table":return stringifyInlineTable(b);default:throw typeError(j)}}function stringifyInteger(b){return String(b).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function stringifyFloat(b){if(b===1/0)return"inf";if(b===-1/0)return"-inf";if(Object.is(b,NaN))return"nan";if(Object.is(b,-0))return"-0.0";const[j,$]=String(b).split(".");return stringifyInteger(j)+"."+$}function stringifyBoolean(b){return String(b)}function stringifyDatetime(b){return b.toISOString()}function stringifyInlineArray(b){b=toJSON(b);let j="[";const $=b.map(_e=>stringifyInline(_e));return $.join(", ").length>60||/\n/.test($)?j+=`
  `+$.join(`,
  `)+`
`:j+=" "+$.join(", ")+($.length>0?" ":""),j+"]"}function stringifyInlineTable(b){b=toJSON(b);const j=[];return Object.keys(b).forEach($=>{j.push(stringifyKey($)+" = "+stringifyAnyInline(b[$],!1))}),"{ "+j.join(", ")+(j.length>0?" ":"")+"}"}function stringifyComplex(b,j,$,_e){const et=tomlType(_e);if(et==="array")return stringifyArrayOfTables(b,j,$,_e);if(et==="table")return stringifyComplexTable(b,j,$,_e);throw typeError(et)}function stringifyArrayOfTables(b,j,$,_e){_e=toJSON(_e);const et=tomlType(_e[0]);if(et!=="table")throw typeError(et);const tt=b+stringifyKey($);let nt="";return _e.forEach(rt=>{nt.length>0&&(nt+=`
`),nt+=j+"[["+tt+`]]
`,nt+=stringifyObject(tt+".",j,rt)}),nt}function stringifyComplexTable(b,j,$,_e){const et=b+stringifyKey($);let tt="";return getInlineKeys(_e).length>0&&(tt+=j+"["+et+`]
`),tt+stringifyObject(et+".",j,_e)}const parse$1=parseString,stringify=stringify$1;var colorString$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function b(j){return!j||typeof j=="string"?!1:j instanceof Array||Array.isArray(j)||j.length>=0&&(j.splice instanceof Function||Object.getOwnPropertyDescriptor(j,j.length-1)&&j.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice$2=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function b(j){for(var $=[],_e=0,et=j.length;_e<et;_e++){var tt=j[_e];isArrayish(tt)?$=concat.call($,slice$2.call(tt)):$.push(tt)}return $};swizzle$1.wrap=function(b){return function(){return b(swizzle$1(arguments))}};var simpleSwizzleExports=simpleSwizzle.exports,colorNames=colorName,swizzle=simpleSwizzleExports,hasOwnProperty=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(b){var j=b.substring(0,3).toLowerCase(),$,_e;switch(j){case"hsl":$=cs.get.hsl(b),_e="hsl";break;case"hwb":$=cs.get.hwb(b),_e="hwb";break;default:$=cs.get.rgb(b),_e="rgb";break}return $?{model:_e,value:$}:null};cs.get.rgb=function(b){if(!b)return null;var j=/^#([a-f0-9]{3,4})$/i,$=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,_e=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,et=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,tt=/^(\w+)$/,nt=[0,0,0,1],rt,st,it;if(rt=b.match($)){for(it=rt[2],rt=rt[1],st=0;st<3;st++){var ct=st*2;nt[st]=parseInt(rt.slice(ct,ct+2),16)}it&&(nt[3]=parseInt(it,16)/255)}else if(rt=b.match(j)){for(rt=rt[1],it=rt[3],st=0;st<3;st++)nt[st]=parseInt(rt[st]+rt[st],16);it&&(nt[3]=parseInt(it+it,16)/255)}else if(rt=b.match(_e)){for(st=0;st<3;st++)nt[st]=parseInt(rt[st+1],0);rt[4]&&(rt[5]?nt[3]=parseFloat(rt[4])*.01:nt[3]=parseFloat(rt[4]))}else if(rt=b.match(et)){for(st=0;st<3;st++)nt[st]=Math.round(parseFloat(rt[st+1])*2.55);rt[4]&&(rt[5]?nt[3]=parseFloat(rt[4])*.01:nt[3]=parseFloat(rt[4]))}else return(rt=b.match(tt))?rt[1]==="transparent"?[0,0,0,0]:hasOwnProperty.call(colorNames,rt[1])?(nt=colorNames[rt[1]],nt[3]=1,nt):null:null;for(st=0;st<3;st++)nt[st]=clamp$4(nt[st],0,255);return nt[3]=clamp$4(nt[3],0,1),nt};cs.get.hsl=function(b){if(!b)return null;var j=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,$=b.match(j);if($){var _e=parseFloat($[4]),et=(parseFloat($[1])%360+360)%360,tt=clamp$4(parseFloat($[2]),0,100),nt=clamp$4(parseFloat($[3]),0,100),rt=clamp$4(isNaN(_e)?1:_e,0,1);return[et,tt,nt,rt]}return null};cs.get.hwb=function(b){if(!b)return null;var j=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,$=b.match(j);if($){var _e=parseFloat($[4]),et=(parseFloat($[1])%360+360)%360,tt=clamp$4(parseFloat($[2]),0,100),nt=clamp$4(parseFloat($[3]),0,100),rt=clamp$4(isNaN(_e)?1:_e,0,1);return[et,tt,nt,rt]}return null};cs.to.hex=function(){var b=swizzle(arguments);return"#"+hexDouble(b[0])+hexDouble(b[1])+hexDouble(b[2])+(b[3]<1?hexDouble(Math.round(b[3]*255)):"")};cs.to.rgb=function(){var b=swizzle(arguments);return b.length<4||b[3]===1?"rgb("+Math.round(b[0])+", "+Math.round(b[1])+", "+Math.round(b[2])+")":"rgba("+Math.round(b[0])+", "+Math.round(b[1])+", "+Math.round(b[2])+", "+b[3]+")"};cs.to.rgb.percent=function(){var b=swizzle(arguments),j=Math.round(b[0]/255*100),$=Math.round(b[1]/255*100),_e=Math.round(b[2]/255*100);return b.length<4||b[3]===1?"rgb("+j+"%, "+$+"%, "+_e+"%)":"rgba("+j+"%, "+$+"%, "+_e+"%, "+b[3]+")"};cs.to.hsl=function(){var b=swizzle(arguments);return b.length<4||b[3]===1?"hsl("+b[0]+", "+b[1]+"%, "+b[2]+"%)":"hsla("+b[0]+", "+b[1]+"%, "+b[2]+"%, "+b[3]+")"};cs.to.hwb=function(){var b=swizzle(arguments),j="";return b.length>=4&&b[3]!==1&&(j=", "+b[3]),"hwb("+b[0]+", "+b[1]+"%, "+b[2]+"%"+j+")"};cs.to.keyword=function(b){return reverseNames[b.slice(0,3)]};function clamp$4(b,j,$){return Math.min(Math.max(j,b),$)}function hexDouble(b){var j=Math.round(b).toString(16).toUpperCase();return j.length<2?"0"+j:j}var colorStringExports=colorString$1.exports;const cssKeywords=colorName,reverseKeywords={};for(const b of Object.keys(cssKeywords))reverseKeywords[cssKeywords[b]]=b;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const b of Object.keys(convert$2)){if(!("channels"in convert$2[b]))throw new Error("missing channels property: "+b);if(!("labels"in convert$2[b]))throw new Error("missing channel labels property: "+b);if(convert$2[b].labels.length!==convert$2[b].channels)throw new Error("channel and label counts mismatch: "+b);const{channels:j,labels:$}=convert$2[b];delete convert$2[b].channels,delete convert$2[b].labels,Object.defineProperty(convert$2[b],"channels",{value:j}),Object.defineProperty(convert$2[b],"labels",{value:$})}convert$2.rgb.hsl=function(b){const j=b[0]/255,$=b[1]/255,_e=b[2]/255,et=Math.min(j,$,_e),tt=Math.max(j,$,_e),nt=tt-et;let rt,st;tt===et?rt=0:j===tt?rt=($-_e)/nt:$===tt?rt=2+(_e-j)/nt:_e===tt&&(rt=4+(j-$)/nt),rt=Math.min(rt*60,360),rt<0&&(rt+=360);const it=(et+tt)/2;return tt===et?st=0:it<=.5?st=nt/(tt+et):st=nt/(2-tt-et),[rt,st*100,it*100]};convert$2.rgb.hsv=function(b){let j,$,_e,et,tt;const nt=b[0]/255,rt=b[1]/255,st=b[2]/255,it=Math.max(nt,rt,st),ct=it-Math.min(nt,rt,st),ot=function(at){return(it-at)/6/ct+1/2};return ct===0?(et=0,tt=0):(tt=ct/it,j=ot(nt),$=ot(rt),_e=ot(st),nt===it?et=_e-$:rt===it?et=1/3+j-_e:st===it&&(et=2/3+$-j),et<0?et+=1:et>1&&(et-=1)),[et*360,tt*100,it*100]};convert$2.rgb.hwb=function(b){const j=b[0],$=b[1];let _e=b[2];const et=convert$2.rgb.hsl(b)[0],tt=1/255*Math.min(j,Math.min($,_e));return _e=1-1/255*Math.max(j,Math.max($,_e)),[et,tt*100,_e*100]};convert$2.rgb.cmyk=function(b){const j=b[0]/255,$=b[1]/255,_e=b[2]/255,et=Math.min(1-j,1-$,1-_e),tt=(1-j-et)/(1-et)||0,nt=(1-$-et)/(1-et)||0,rt=(1-_e-et)/(1-et)||0;return[tt*100,nt*100,rt*100,et*100]};function comparativeDistance(b,j){return(b[0]-j[0])**2+(b[1]-j[1])**2+(b[2]-j[2])**2}convert$2.rgb.keyword=function(b){const j=reverseKeywords[b];if(j)return j;let $=1/0,_e;for(const et of Object.keys(cssKeywords)){const tt=cssKeywords[et],nt=comparativeDistance(b,tt);nt<$&&($=nt,_e=et)}return _e};convert$2.keyword.rgb=function(b){return cssKeywords[b]};convert$2.rgb.xyz=function(b){let j=b[0]/255,$=b[1]/255,_e=b[2]/255;j=j>.04045?((j+.055)/1.055)**2.4:j/12.92,$=$>.04045?(($+.055)/1.055)**2.4:$/12.92,_e=_e>.04045?((_e+.055)/1.055)**2.4:_e/12.92;const et=j*.4124+$*.3576+_e*.1805,tt=j*.2126+$*.7152+_e*.0722,nt=j*.0193+$*.1192+_e*.9505;return[et*100,tt*100,nt*100]};convert$2.rgb.lab=function(b){const j=convert$2.rgb.xyz(b);let $=j[0],_e=j[1],et=j[2];$/=95.047,_e/=100,et/=108.883,$=$>.008856?$**(1/3):7.787*$+16/116,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,et=et>.008856?et**(1/3):7.787*et+16/116;const tt=116*_e-16,nt=500*($-_e),rt=200*(_e-et);return[tt,nt,rt]};convert$2.hsl.rgb=function(b){const j=b[0]/360,$=b[1]/100,_e=b[2]/100;let et,tt,nt;if($===0)return nt=_e*255,[nt,nt,nt];_e<.5?et=_e*(1+$):et=_e+$-_e*$;const rt=2*_e-et,st=[0,0,0];for(let it=0;it<3;it++)tt=j+1/3*-(it-1),tt<0&&tt++,tt>1&&tt--,6*tt<1?nt=rt+(et-rt)*6*tt:2*tt<1?nt=et:3*tt<2?nt=rt+(et-rt)*(2/3-tt)*6:nt=rt,st[it]=nt*255;return st};convert$2.hsl.hsv=function(b){const j=b[0];let $=b[1]/100,_e=b[2]/100,et=$;const tt=Math.max(_e,.01);_e*=2,$*=_e<=1?_e:2-_e,et*=tt<=1?tt:2-tt;const nt=(_e+$)/2,rt=_e===0?2*et/(tt+et):2*$/(_e+$);return[j,rt*100,nt*100]};convert$2.hsv.rgb=function(b){const j=b[0]/60,$=b[1]/100;let _e=b[2]/100;const et=Math.floor(j)%6,tt=j-Math.floor(j),nt=255*_e*(1-$),rt=255*_e*(1-$*tt),st=255*_e*(1-$*(1-tt));switch(_e*=255,et){case 0:return[_e,st,nt];case 1:return[rt,_e,nt];case 2:return[nt,_e,st];case 3:return[nt,rt,_e];case 4:return[st,nt,_e];case 5:return[_e,nt,rt]}};convert$2.hsv.hsl=function(b){const j=b[0],$=b[1]/100,_e=b[2]/100,et=Math.max(_e,.01);let tt,nt;nt=(2-$)*_e;const rt=(2-$)*et;return tt=$*et,tt/=rt<=1?rt:2-rt,tt=tt||0,nt/=2,[j,tt*100,nt*100]};convert$2.hwb.rgb=function(b){const j=b[0]/360;let $=b[1]/100,_e=b[2]/100;const et=$+_e;let tt;et>1&&($/=et,_e/=et);const nt=Math.floor(6*j),rt=1-_e;tt=6*j-nt,nt&1&&(tt=1-tt);const st=$+tt*(rt-$);let it,ct,ot;switch(nt){default:case 6:case 0:it=rt,ct=st,ot=$;break;case 1:it=st,ct=rt,ot=$;break;case 2:it=$,ct=rt,ot=st;break;case 3:it=$,ct=st,ot=rt;break;case 4:it=st,ct=$,ot=rt;break;case 5:it=rt,ct=$,ot=st;break}return[it*255,ct*255,ot*255]};convert$2.cmyk.rgb=function(b){const j=b[0]/100,$=b[1]/100,_e=b[2]/100,et=b[3]/100,tt=1-Math.min(1,j*(1-et)+et),nt=1-Math.min(1,$*(1-et)+et),rt=1-Math.min(1,_e*(1-et)+et);return[tt*255,nt*255,rt*255]};convert$2.xyz.rgb=function(b){const j=b[0]/100,$=b[1]/100,_e=b[2]/100;let et,tt,nt;return et=j*3.2406+$*-1.5372+_e*-.4986,tt=j*-.9689+$*1.8758+_e*.0415,nt=j*.0557+$*-.204+_e*1.057,et=et>.0031308?1.055*et**(1/2.4)-.055:et*12.92,tt=tt>.0031308?1.055*tt**(1/2.4)-.055:tt*12.92,nt=nt>.0031308?1.055*nt**(1/2.4)-.055:nt*12.92,et=Math.min(Math.max(0,et),1),tt=Math.min(Math.max(0,tt),1),nt=Math.min(Math.max(0,nt),1),[et*255,tt*255,nt*255]};convert$2.xyz.lab=function(b){let j=b[0],$=b[1],_e=b[2];j/=95.047,$/=100,_e/=108.883,j=j>.008856?j**(1/3):7.787*j+16/116,$=$>.008856?$**(1/3):7.787*$+16/116,_e=_e>.008856?_e**(1/3):7.787*_e+16/116;const et=116*$-16,tt=500*(j-$),nt=200*($-_e);return[et,tt,nt]};convert$2.lab.xyz=function(b){const j=b[0],$=b[1],_e=b[2];let et,tt,nt;tt=(j+16)/116,et=$/500+tt,nt=tt-_e/200;const rt=tt**3,st=et**3,it=nt**3;return tt=rt>.008856?rt:(tt-16/116)/7.787,et=st>.008856?st:(et-16/116)/7.787,nt=it>.008856?it:(nt-16/116)/7.787,et*=95.047,tt*=100,nt*=108.883,[et,tt,nt]};convert$2.lab.lch=function(b){const j=b[0],$=b[1],_e=b[2];let et;et=Math.atan2(_e,$)*360/2/Math.PI,et<0&&(et+=360);const nt=Math.sqrt($*$+_e*_e);return[j,nt,et]};convert$2.lch.lab=function(b){const j=b[0],$=b[1],et=b[2]/360*2*Math.PI,tt=$*Math.cos(et),nt=$*Math.sin(et);return[j,tt,nt]};convert$2.rgb.ansi16=function(b,j=null){const[$,_e,et]=b;let tt=j===null?convert$2.rgb.hsv(b)[2]:j;if(tt=Math.round(tt/50),tt===0)return 30;let nt=30+(Math.round(et/255)<<2|Math.round(_e/255)<<1|Math.round($/255));return tt===2&&(nt+=60),nt};convert$2.hsv.ansi16=function(b){return convert$2.rgb.ansi16(convert$2.hsv.rgb(b),b[2])};convert$2.rgb.ansi256=function(b){const j=b[0],$=b[1],_e=b[2];return j===$&&$===_e?j<8?16:j>248?231:Math.round((j-8)/247*24)+232:16+36*Math.round(j/255*5)+6*Math.round($/255*5)+Math.round(_e/255*5)};convert$2.ansi16.rgb=function(b){let j=b%10;if(j===0||j===7)return b>50&&(j+=3.5),j=j/10.5*255,[j,j,j];const $=(~~(b>50)+1)*.5,_e=(j&1)*$*255,et=(j>>1&1)*$*255,tt=(j>>2&1)*$*255;return[_e,et,tt]};convert$2.ansi256.rgb=function(b){if(b>=232){const tt=(b-232)*10+8;return[tt,tt,tt]}b-=16;let j;const $=Math.floor(b/36)/5*255,_e=Math.floor((j=b%36)/6)/5*255,et=j%6/5*255;return[$,_e,et]};convert$2.rgb.hex=function(b){const $=(((Math.round(b[0])&255)<<16)+((Math.round(b[1])&255)<<8)+(Math.round(b[2])&255)).toString(16).toUpperCase();return"000000".substring($.length)+$};convert$2.hex.rgb=function(b){const j=b.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!j)return[0,0,0];let $=j[0];j[0].length===3&&($=$.split("").map(rt=>rt+rt).join(""));const _e=parseInt($,16),et=_e>>16&255,tt=_e>>8&255,nt=_e&255;return[et,tt,nt]};convert$2.rgb.hcg=function(b){const j=b[0]/255,$=b[1]/255,_e=b[2]/255,et=Math.max(Math.max(j,$),_e),tt=Math.min(Math.min(j,$),_e),nt=et-tt;let rt,st;return nt<1?rt=tt/(1-nt):rt=0,nt<=0?st=0:et===j?st=($-_e)/nt%6:et===$?st=2+(_e-j)/nt:st=4+(j-$)/nt,st/=6,st%=1,[st*360,nt*100,rt*100]};convert$2.hsl.hcg=function(b){const j=b[1]/100,$=b[2]/100,_e=$<.5?2*j*$:2*j*(1-$);let et=0;return _e<1&&(et=($-.5*_e)/(1-_e)),[b[0],_e*100,et*100]};convert$2.hsv.hcg=function(b){const j=b[1]/100,$=b[2]/100,_e=j*$;let et=0;return _e<1&&(et=($-_e)/(1-_e)),[b[0],_e*100,et*100]};convert$2.hcg.rgb=function(b){const j=b[0]/360,$=b[1]/100,_e=b[2]/100;if($===0)return[_e*255,_e*255,_e*255];const et=[0,0,0],tt=j%1*6,nt=tt%1,rt=1-nt;let st=0;switch(Math.floor(tt)){case 0:et[0]=1,et[1]=nt,et[2]=0;break;case 1:et[0]=rt,et[1]=1,et[2]=0;break;case 2:et[0]=0,et[1]=1,et[2]=nt;break;case 3:et[0]=0,et[1]=rt,et[2]=1;break;case 4:et[0]=nt,et[1]=0,et[2]=1;break;default:et[0]=1,et[1]=0,et[2]=rt}return st=(1-$)*_e,[($*et[0]+st)*255,($*et[1]+st)*255,($*et[2]+st)*255]};convert$2.hcg.hsv=function(b){const j=b[1]/100,$=b[2]/100,_e=j+$*(1-j);let et=0;return _e>0&&(et=j/_e),[b[0],et*100,_e*100]};convert$2.hcg.hsl=function(b){const j=b[1]/100,_e=b[2]/100*(1-j)+.5*j;let et=0;return _e>0&&_e<.5?et=j/(2*_e):_e>=.5&&_e<1&&(et=j/(2*(1-_e))),[b[0],et*100,_e*100]};convert$2.hcg.hwb=function(b){const j=b[1]/100,$=b[2]/100,_e=j+$*(1-j);return[b[0],(_e-j)*100,(1-_e)*100]};convert$2.hwb.hcg=function(b){const j=b[1]/100,_e=1-b[2]/100,et=_e-j;let tt=0;return et<1&&(tt=(_e-et)/(1-et)),[b[0],et*100,tt*100]};convert$2.apple.rgb=function(b){return[b[0]/65535*255,b[1]/65535*255,b[2]/65535*255]};convert$2.rgb.apple=function(b){return[b[0]/255*65535,b[1]/255*65535,b[2]/255*65535]};convert$2.gray.rgb=function(b){return[b[0]/100*255,b[0]/100*255,b[0]/100*255]};convert$2.gray.hsl=function(b){return[0,0,b[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(b){return[0,100,b[0]]};convert$2.gray.cmyk=function(b){return[0,0,0,b[0]]};convert$2.gray.lab=function(b){return[b[0],0,0]};convert$2.gray.hex=function(b){const j=Math.round(b[0]/100*255)&255,_e=((j<<16)+(j<<8)+j).toString(16).toUpperCase();return"000000".substring(_e.length)+_e};convert$2.rgb.gray=function(b){return[(b[0]+b[1]+b[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const b={},j=Object.keys(conversions$1);for(let $=j.length,_e=0;_e<$;_e++)b[j[_e]]={distance:-1,parent:null};return b}function deriveBFS(b){const j=buildGraph(),$=[b];for(j[b].distance=0;$.length;){const _e=$.pop(),et=Object.keys(conversions$1[_e]);for(let tt=et.length,nt=0;nt<tt;nt++){const rt=et[nt],st=j[rt];st.distance===-1&&(st.distance=j[_e].distance+1,st.parent=_e,$.unshift(rt))}}return j}function link(b,j){return function($){return j(b($))}}function wrapConversion(b,j){const $=[j[b].parent,b];let _e=conversions$1[j[b].parent][b],et=j[b].parent;for(;j[et].parent;)$.unshift(j[et].parent),_e=link(conversions$1[j[et].parent][et],_e),et=j[et].parent;return _e.conversion=$,_e}var route$1=function(b){const j=deriveBFS(b),$={},_e=Object.keys(j);for(let et=_e.length,tt=0;tt<et;tt++){const nt=_e[tt];j[nt].parent!==null&&($[nt]=wrapConversion(nt,j))}return $};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(b){const j=function(...$){const _e=$[0];return _e==null?_e:(_e.length>1&&($=_e),b($))};return"conversion"in b&&(j.conversion=b.conversion),j}function wrapRounded(b){const j=function(...$){const _e=$[0];if(_e==null)return _e;_e.length>1&&($=_e);const et=b($);if(typeof et=="object")for(let tt=et.length,nt=0;nt<tt;nt++)et[nt]=Math.round(et[nt]);return et};return"conversion"in b&&(j.conversion=b.conversion),j}models.forEach(b=>{convert$1[b]={},Object.defineProperty(convert$1[b],"channels",{value:conversions[b].channels}),Object.defineProperty(convert$1[b],"labels",{value:conversions[b].labels});const j=route(b);Object.keys(j).forEach(_e=>{const et=j[_e];convert$1[b][_e]=wrapRounded(et),convert$1[b][_e].raw=wrapRaw(et)})});var colorConvert=convert$1;const colorString=colorStringExports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const b of Object.keys(convert))hashedModelKeys[[...convert[b].labels].sort().join("")]=b;const limiters={};function Color(b,j){if(!(this instanceof Color))return new Color(b,j);if(j&&j in skippedModels&&(j=null),j&&!(j in convert))throw new Error("Unknown model: "+j);let $,_e;if(b==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(b instanceof Color)this.model=b.model,this.color=[...b.color],this.valpha=b.valpha;else if(typeof b=="string"){const et=colorString.get(b);if(et===null)throw new Error("Unable to parse color from string: "+b);this.model=et.model,_e=convert[this.model].channels,this.color=et.value.slice(0,_e),this.valpha=typeof et.value[_e]=="number"?et.value[_e]:1}else if(b.length>0){this.model=j||"rgb",_e=convert[this.model].channels;const et=Array.prototype.slice.call(b,0,_e);this.color=zeroArray(et,_e),this.valpha=typeof b[_e]=="number"?b[_e]:1}else if(typeof b=="number")this.model="rgb",this.color=[b>>16&255,b>>8&255,b&255],this.valpha=1;else{this.valpha=1;const et=Object.keys(b);"alpha"in b&&(et.splice(et.indexOf("alpha"),1),this.valpha=typeof b.alpha=="number"?b.alpha:0);const tt=et.sort().join("");if(!(tt in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(b));this.model=hashedModelKeys[tt];const{labels:nt}=convert[this.model],rt=[];for($=0;$<nt.length;$++)rt.push(b[nt[$]]);this.color=zeroArray(rt)}if(limiters[this.model])for(_e=convert[this.model].channels,$=0;$<_e;$++){const et=limiters[this.model][$];et&&(this.color[$]=et(this.color[$]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(b){let j=this.model in colorString.to?this:this.rgb();j=j.round(typeof b=="number"?b:1);const $=j.valpha===1?j.color:[...j.color,this.valpha];return colorString.to[j.model]($)},percentString(b){const j=this.rgb().round(typeof b=="number"?b:1),$=j.valpha===1?j.color:[...j.color,this.valpha];return colorString.to.rgb.percent($)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const b={},{channels:j}=convert[this.model],{labels:$}=convert[this.model];for(let _e=0;_e<j;_e++)b[$[_e]]=this.color[_e];return this.valpha!==1&&(b.alpha=this.valpha),b},unitArray(){const b=this.rgb().color;return b[0]/=255,b[1]/=255,b[2]/=255,this.valpha!==1&&b.push(this.valpha),b},unitObject(){const b=this.rgb().object();return b.r/=255,b.g/=255,b.b/=255,this.valpha!==1&&(b.alpha=this.valpha),b},round(b){return b=Math.max(b||0,0),new Color([...this.color.map(roundToPlace(b)),this.valpha],this.model)},alpha(b){return b!==void 0?new Color([...this.color,Math.max(0,Math.min(1,b))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,b=>(b%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(b){return b!==void 0?new Color(b):convert[this.model].keyword(this.color)},hex(b){return b!==void 0?new Color(b):colorString.to.hex(this.rgb().round().color)},hexa(b){if(b!==void 0)return new Color(b);const j=this.rgb().round().color;let $=Math.round(this.valpha*255).toString(16).toUpperCase();return $.length===1&&($="0"+$),colorString.to.hex(j)+$},rgbNumber(){const b=this.rgb().color;return(b[0]&255)<<16|(b[1]&255)<<8|b[2]&255},luminosity(){const b=this.rgb().color,j=[];for(const[$,_e]of b.entries()){const et=_e/255;j[$]=et<=.04045?et/12.92:((et+.055)/1.055)**2.4}return .2126*j[0]+.7152*j[1]+.0722*j[2]},contrast(b){const j=this.luminosity(),$=b.luminosity();return j>$?(j+.05)/($+.05):($+.05)/(j+.05)},level(b){const j=this.contrast(b);return j>=7?"AAA":j>=4.5?"AA":""},isDark(){const b=this.rgb().color;return(b[0]*2126+b[1]*7152+b[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const b=this.rgb();for(let j=0;j<3;j++)b.color[j]=255-b.color[j];return b},lighten(b){const j=this.hsl();return j.color[2]+=j.color[2]*b,j},darken(b){const j=this.hsl();return j.color[2]-=j.color[2]*b,j},saturate(b){const j=this.hsl();return j.color[1]+=j.color[1]*b,j},desaturate(b){const j=this.hsl();return j.color[1]-=j.color[1]*b,j},whiten(b){const j=this.hwb();return j.color[1]+=j.color[1]*b,j},blacken(b){const j=this.hwb();return j.color[2]+=j.color[2]*b,j},grayscale(){const b=this.rgb().color,j=b[0]*.3+b[1]*.59+b[2]*.11;return Color.rgb(j,j,j)},fade(b){return this.alpha(this.valpha-this.valpha*b)},opaquer(b){return this.alpha(this.valpha+this.valpha*b)},rotate(b){const j=this.hsl();let $=j.color[0];return $=($+b)%360,$=$<0?360+$:$,j.color[0]=$,j},mix(b,j){if(!b||!b.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof b);const $=b.rgb(),_e=this.rgb(),et=j===void 0?.5:j,tt=2*et-1,nt=$.alpha()-_e.alpha(),rt=((tt*nt===-1?tt:(tt+nt)/(1+tt*nt))+1)/2,st=1-rt;return Color.rgb(rt*$.red()+st*_e.red(),rt*$.green()+st*_e.green(),rt*$.blue()+st*_e.blue(),$.alpha()*et+_e.alpha()*(1-et))}};for(const b of Object.keys(convert)){if(skippedModels.includes(b))continue;const{channels:j}=convert[b];Color.prototype[b]=function(...$){return this.model===b?new Color(this):$.length>0?new Color($,b):new Color([...assertArray(convert[this.model][b].raw(this.color)),this.valpha],b)},Color[b]=function(...$){let _e=$[0];return typeof _e=="number"&&(_e=zeroArray($,j)),new Color(_e,b)}}function roundTo(b,j){return Number(b.toFixed(j))}function roundToPlace(b){return function(j){return roundTo(j,b)}}function getset(b,j,$){b=Array.isArray(b)?b:[b];for(const _e of b)(limiters[_e]||(limiters[_e]=[]))[j]=$;return b=b[0],function(_e){let et;return _e!==void 0?($&&(_e=$(_e)),et=this[b](),et.color[j]=_e,et):(et=this[b]().color[j],$&&(et=$(et)),et)}}function maxfn(b){return function(j){return Math.max(0,Math.min(b,j))}}function assertArray(b){return Array.isArray(b)?b:[b]}function zeroArray(b,j){for(let $=0;$<j;$++)typeof b[$]!="number"&&(b[$]=0);return b}var color=Color;const Color$1=getDefaultExportFromCjs(color);function convertColor(b,j=!0){if(!b)return null;const $=new Uint8Array(4);if(new DataView($.buffer).setInt32(0,b),j){const[rt,st,it,ct]=$;return`rgba(${ct},${it},${st},${rt===1?1:rt/255})`}const[,et,tt,nt]=$;return`rgb(${nt},${tt},${et})`}function invertColor(b){return Color$1(b).negate().hex()}function getContrastColor(b){const j=Color$1(b),$=j.red(),_e=j.green(),et=j.blue();return($*299+_e*587+et*114)/1e3>=128?"black":"white"}function defer$1(){let b,j;const $=new Promise((_e,et)=>{b=_e,j=et});return{resolve:b,reject:j,promise:$}}const hashString=b=>b.split("").reduce((j,$)=>(j=(j<<5)-j+$.charCodeAt(0),j&j),0);function prepareBaseUrl(b){const j=new URL(b);j.search="",j.hash="";let $=j.toString();return $=$.slice(0,$.lastIndexOf("/")+1),$}function cyrb53(b,j=0){let $=3735928559^j,_e=1103547991^j;for(let et=0,tt;et<b.length;et++)tt=b.charCodeAt(et),$=Math.imul($^tt,2654435761),_e=Math.imul(_e^tt,1597334677);return $=Math.imul($^$>>>16,2246822507)^Math.imul(_e^_e>>>13,3266489909),_e=Math.imul(_e^_e>>>16,2246822507)^Math.imul($^$>>>13,3266489909),(4294967296*(2097151&_e)+($>>>0)).toString(16)}const PROXY_URL="https://proxy.qspider.xyz/";function fetchProxyFallback(b){return fetch(b).catch(()=>fetch(PROXY_URL+window.btoa(b)))}function throttle(b,j){let $,_e;return function(...et){return $||($=!0,setTimeout(()=>$=!1,j),_e=b.apply(this,et)),_e}}const scriptRel="modulepreload",assetsURL=function(b,j){return new URL(b,j).href},seen={},__vitePreload=function b(j,$,_e){let et=Promise.resolve();if($&&$.length>0){const tt=document.getElementsByTagName("link"),nt=document.querySelector("meta[property=csp-nonce]"),rt=(nt==null?void 0:nt.nonce)||(nt==null?void 0:nt.getAttribute("nonce"));et=Promise.all($.map(st=>{if(st=assetsURL(st,_e),st in seen)return;seen[st]=!0;const it=st.endsWith(".css"),ct=it?'[rel="stylesheet"]':"";if(!!_e)for(let ft=tt.length-1;ft>=0;ft--){const dt=tt[ft];if(dt.href===st&&(!it||dt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${st}"]${ct}`))return;const at=document.createElement("link");if(at.rel=it?"stylesheet":scriptRel,it||(at.as="script",at.crossOrigin=""),at.href=st,rt&&at.setAttribute("nonce",rt),document.head.appendChild(at),it)return new Promise((ft,dt)=>{at.addEventListener("load",ft),at.addEventListener("error",()=>dt(new Error(`Unable to preload CSS for ${st}`)))})}))}return et.then(()=>j()).catch(tt=>{const nt=new Event("vite:preloadError",{cancelable:!0});if(nt.payload=tt,window.dispatchEvent(nt),!nt.defaultPrevented)throw tt})};var e$1;(function(b){b[b.ACTS=0]="ACTS",b[b.OBJS=1]="OBJS",b[b.VARS=2]="VARS",b[b.INPUT=3]="INPUT"})(e$1||(e$1={}));var t$1,n$1,r$1=(t$1=import.meta.url,function(b){b===void 0&&(b={});try{var j,$,_e,et,tt,nt,rt,st,it,ct,ot,at,ft,dt,mt,xt,ht,gt,Et,St,At,$t,wt=function(){bt.print||console.log.bind(console);var Qt,tn,vn=bt.printErr||console.error.bind(console);Object.assign(bt,hn),hn=null,bt.thisProgram&&(Vt=bt.thisProgram),bt.quit&&(Xt=bt.quit),bt.wasmBinary&&(Qt=bt.wasmBinary),typeof WebAssembly!="object"&&Xn("no native wasm support detected");var un,mn,_n,Jt,gn,Zt=!1;function bn(){var Rt=tn.buffer;bt.HEAP8=mn=new Int8Array(Rt),bt.HEAP16=new Int16Array(Rt),bt.HEAPU8=_n=new Uint8Array(Rt),bt.HEAPU16=new Uint16Array(Rt),bt.HEAP32=Jt=new Int32Array(Rt),bt.HEAPU32=gn=new Uint32Array(Rt),bt.HEAPF32=new Float32Array(Rt),bt.HEAPF64=new Float64Array(Rt)}function An(){if(!Zt){var Rt=dt();Rt==0&&(Rt+=4);var nn=gn[Rt>>2],En=gn[Rt+4>>2];nn==34821223&&En==2310721022||Xn("Stack overflow! Stack cookie has been overwritten at "+_e(Rt)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+_e(En)+" "+_e(nn)),gn[0]!=1668509029&&Xn("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var xn=[],Bn=[],Yn=[],Vn=0,sr=null;function Xn(Rt){var nn;(nn=bt.onAbort)==null||nn.call(bt,Rt),vn(Rt="Aborted("+Rt+")"),Zt=!0,un=1,Rt+=". Build with -sASSERTIONS for more info.";var En=new WebAssembly.RuntimeError(Rt);throw $t(En),En}var lr,rr=null,Fr=function(Rt){return Rt.startsWith("data:application/octet-stream;base64,")};function tr(Rt){if(Rt==lr&&Qt)return new Uint8Array(Qt);if(rn)return rn(Rt);throw"both async and sync fetching of the wasm failed"}function Gr(Rt,nn,En){return function(wn){if(!Qt&&(en||cn)){if(typeof fetch=="function"&&!j(wn))return fetch(wn,{credentials:"same-origin"}).then(function(Sn){if(!Sn.ok)throw"failed to load wasm binary file at '"+wn+"'";return Sn.arrayBuffer()}).catch(function(){return tr(wn)});if(Yt)return new Promise(function(Sn,Tn){Yt(wn,function(Mn){return Sn(new Uint8Array(Mn))},Tn)})}return Promise.resolve().then(function(){return tr(wn)})}(Rt).then(function(wn){return WebAssembly.instantiate(wn,nn)}).then(function(wn){return wn}).then(En,function(wn){vn("failed to asynchronously prepare wasm: "+wn),Xn(wn)})}function Er(Rt){this.name="ExitStatus",this.message="Program terminated with exit("+Rt+")",this.status=Rt}j=function(Rt){return Rt.startsWith("file://")},bt.locateFile?Fr(lr="qsp-engine.wasm")||(lr=Pt(lr)):lr=new URL(""+new URL("qsp-engine-ChQ9IFSG.wasm",import.meta.url).href,import.meta.url).href,$=function(Rt){for(;Rt.length>0;)Rt.shift()(bt)};var so=bt.noExitRuntime||!0;_e=function(Rt){return"0x"+(Rt>>>=0).toString(16).padStart(8,"0")},et=function(){var Rt=ft(),nn=dt();xt(Rt,nn)};var Tr=function(Rt){var nn=(Rt-tn.buffer.byteLength+65535)/65536;try{return tn.grow(nn),bn(),1}catch{}},hr={};tt=function(){if(!tt.strings){var Rt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Vt||"./this.program"};for(var nn in hr)hr[nn]===void 0?delete Rt[nn]:Rt[nn]=hr[nn];var En=[];for(var nn in Rt)En.push(nn+"="+Rt[nn]);tt.strings=En}return tt.strings};var Br=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;nt={varargs:void 0,get:function(){var Rt=Jt[+nt.varargs>>2];return nt.varargs+=4,Rt},getp:function(){return nt.get()},getStr:function(Rt){return function(nn,En){return nn?function(wn,Sn,Tn){for(var Mn=Sn+void 0,kn=Sn;wn[kn]&&!(kn>=Mn);)++kn;if(kn-Sn>16&&wn.buffer&&Br)return Br.decode(wn.subarray(Sn,kn));for(var In="";Sn<kn;){var Dn=wn[Sn++];if(128&Dn){var Wn=63&wn[Sn++];if((224&Dn)!=192){var Un=63&wn[Sn++];if((Dn=(240&Dn)==224?(15&Dn)<<12|Wn<<6|Un:(7&Dn)<<18|Wn<<12|Un<<6|63&wn[Sn++])<65536)In+=String.fromCharCode(Dn);else{var On=Dn-65536;In+=String.fromCharCode(55296|On>>10,56320|1023&On)}}else In+=String.fromCharCode((31&Dn)<<6|Wn)}else In+=String.fromCharCode(Dn)}return In}(_n,nn):""}(Rt)}};var ur=function(Rt){try{return Rt()}catch(nn){Xn(nn)}},Ur=function(Rt){if(Rt instanceof Er||Rt=="unwind")return un;An(),Rt instanceof WebAssembly.RuntimeError&&mt()<=0&&vn("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),Xt(1,Rt)},Pr=function(){return so||!1};rt={instrumentWasmImports:function(Rt){for(var nn=/^(invoke_.*|__asyncjs__.*)$/,En=0,wn=Object.entries(Rt);En<wn.length;En++){var Sn=wn[En],Tn=Sn[1];typeof Tn=="function"&&(Tn.isAsync||nn.test(Sn[0]))}},instrumentWasmExports:function(Rt){for(var nn={},En=function(){var Tn=Sn[wn],Mn=Tn[0],kn=Tn[1];nn[Mn]=typeof kn=="function"?function(){rt.exportCallStack.push(Mn);try{return kn.apply(null,arguments)}finally{Zt||(rt.exportCallStack.pop(),rt.maybeStopUnwind())}}:kn},wn=0,Sn=Object.entries(Rt);wn<Sn.length;wn++)En();return nn},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:16384,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId:function(Rt){var nn=rt.callStackNameToId[Rt];return nn===void 0&&(nn=rt.callStackId++,rt.callStackNameToId[Rt]=nn,rt.callStackIdToName[nn]=Rt),nn},maybeStopUnwind:function(){rt.currData&&rt.state===rt.State.Unwinding&&rt.exportCallStack.length===0&&(rt.state=rt.State.Normal,ur(gt),typeof Fibers<"u"&&Fibers.trampoline())},whenDone:function(){return new Promise(function(Rt,nn){rt.asyncPromiseHandlers={resolve:Rt,reject:nn}})},allocateData:function(){var Rt=ot(12+rt.StackSize);return rt.setDataHeader(Rt,Rt+12,rt.StackSize),rt.setDataRewindFunc(Rt),Rt},setDataHeader:function(Rt,nn,En){gn[Rt>>2]=nn,gn[Rt+4>>2]=nn+En},setDataRewindFunc:function(Rt){var nn=rt.getCallStackId(rt.exportCallStack[0]);Jt[Rt+8>>2]=nn},getDataRewindFunc:function(Rt){return ct[rt.callStackIdToName[Jt[Rt+8>>2]]]},doRewind:function(Rt){return rt.getDataRewindFunc(Rt)()},handleSleep:function(Rt){if(!Zt){if(rt.state===rt.State.Normal){var nn=!1,En=!1;Rt(function(wn){if(wn===void 0&&(wn=0),!Zt&&(rt.handleSleepReturnValue=wn,nn=!0,En)){rt.state=rt.State.Rewinding,ur(function(){return Et(rt.currData)}),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var Sn,Tn=!1;try{Sn=rt.doRewind(rt.currData)}catch(In){Sn=In,Tn=!0}var Mn=!1;if(!rt.currData){var kn=rt.asyncPromiseHandlers;kn&&(rt.asyncPromiseHandlers=null,(Tn?kn.reject:kn.resolve)(Sn),Mn=!0)}if(Tn&&!Mn)throw Sn}}),En=!0,nn||(rt.state=rt.State.Unwinding,rt.currData=rt.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),ur(function(){return ht(rt.currData)}))}else rt.state===rt.State.Rewinding?(rt.state=rt.State.Normal,ur(St),at(rt.currData),rt.currData=null,rt.sleepCallbacks.forEach(function(wn){return function(Sn){if(!Zt)try{Sn(),function(){if(!Pr())try{un=Tn=un,un=Mn=Tn,Pr()||((kn=bt.onExit)==null||kn.call(bt,Mn),Zt=!0),Xt(Mn,new Er(Mn))}catch(In){Ur(In)}var Tn,Mn,kn}()}catch(Tn){Ur(Tn)}}(wn)})):Xn("invalid state: "+rt.state);return rt.handleSleepReturnValue}},handleAsync:function(Rt){return rt.handleSleep(function(nn){Rt().then(nn)})}};var Zn,jr=function(Rt,nn){Rt<128?nn.push(Rt):nn.push(Rt%128|128,Rt>>7)},mr=[],ir=[],yn=function(Rt,nn){Zn.set(Rt,nn),mr[Rt]=Zn.get(Rt)};it={a:function(Rt){var nn=ft(),En=dt();Xn("stack overflow (Attempt to set SP to "+_e(Rt)+", with stack limits ["+_e(En)+" - "+_e(nn)+"]). If you require more stack space build with -sSTACK_SIZE=<bytes>")},e:function(){return Date.now()},f:function(Rt,nn,En){return _n.copyWithin(Rt,nn,nn+En)},b:function(Rt){var nn=_n.length,En=2147483648;if((Rt>>>=0)>En)return!1;for(var wn,Sn=1;Sn<=4;Sn*=2){var Tn=nn*(1+.2/Sn);Tn=Math.min(Tn,Rt+100663296);var Mn=Math.min(En,(wn=Math.max(Rt,Tn))+(65536-wn%65536)%65536);if(Tr(Mn))return!0}return!1},c:function(Rt,nn){var En=0;return tt().forEach(function(wn,Sn){var Tn=nn+En;gn[Rt+4*Sn>>2]=Tn,function(Mn,kn){for(var In=0;In<Mn.length;++In)mn[kn++>>0]=Mn.charCodeAt(In);mn[kn>>0]=0}(wn,Tn),En+=wn.length+1}),0},d:function(Rt,nn){var En=tt();gn[Rt>>2]=En.length;var wn=0;return En.forEach(function(Sn){return wn+=Sn.length+1}),gn[nn>>2]=wn,0}},ct=function(){var Rt,nn,En,wn,Sn,Tn={a:it};function Mn(kn,In){return ct=rt.instrumentWasmExports(ct=kn.exports),tn=ct.g,bn(),Zn=ct.W,Bn.unshift(ct.h),function(Dn){var Wn;if(Vn--,(Wn=bt.monitorRunDependencies)==null||Wn.call(bt,Vn),Vn==0&&(sr!==null&&(clearInterval(sr),sr=null),rr)){var Un=rr;rr=null,Un()}}(),ct}if(Vn++,(Rt=bt.monitorRunDependencies)==null||Rt.call(bt,Vn),bt.instantiateWasm)try{return bt.instantiateWasm(Tn,Mn)}catch(kn){vn("Module.instantiateWasm callback failed with error: "+kn),$t(kn)}return(nn=Qt,En=lr,wn=Tn,Sn=function(kn){Mn(kn.instance)},nn||typeof WebAssembly.instantiateStreaming!="function"||Fr(En)||j(En)||qt||typeof fetch!="function"?Gr(En,wn,Sn):fetch(En,{credentials:"same-origin"}).then(function(kn){return WebAssembly.instantiateStreaming(kn,wn).then(Sn,function(In){return vn("wasm streaming compile failed: "+In),vn("falling back to ArrayBuffer instantiation"),Gr(En,wn,Sn)})})).catch($t),{}}(),bt._init=function(){return(bt._init=ct.i)()},bt._dispose=function(){return(bt._dispose=ct.j)()},bt._getVersion=function(Rt){return(bt._getVersion=ct.k)(Rt)},bt._setErrorCallback=function(Rt){return(bt._setErrorCallback=ct.l)(Rt)},bt._getMainDesc=function(Rt){return(bt._getMainDesc=ct.m)(Rt)},bt._isMainDescChanged=function(){return(bt._isMainDescChanged=ct.n)()},bt._getVarsDesc=function(Rt){return(bt._getVarsDesc=ct.o)(Rt)},bt._isVarsDescChanged=function(){return(bt._isVarsDescChanged=ct.p)()},bt._getActions=function(Rt){return(bt._getActions=ct.q)(Rt)},ot=bt._malloc=function(Rt){return(ot=bt._malloc=ct.r)(Rt)},bt._selectAction=function(Rt){return(bt._selectAction=ct.s)(Rt)},bt._executeSelAction=function(){return(bt._executeSelAction=ct.t)()},bt._isActionsChanged=function(){return(bt._isActionsChanged=ct.u)()},bt._getObjects=function(Rt){return(bt._getObjects=ct.v)(Rt)},bt._selectObject=function(Rt){return(bt._selectObject=ct.w)(Rt)},bt._isObjectsChanged=function(){return(bt._isObjectsChanged=ct.x)()},bt._loadGameData=function(Rt,nn,En){return(bt._loadGameData=ct.y)(Rt,nn,En)},bt._restartGame=function(){return(bt._restartGame=ct.z)()},bt._saveGameData=function(Rt){return(bt._saveGameData=ct.A)(Rt)},at=bt._free=function(Rt){return(at=bt._free=ct.B)(Rt)},bt._loadSavedGameData=function(Rt,nn){return(bt._loadSavedGameData=ct.C)(Rt,nn)},bt._execString=function(Rt,nn){return(bt._execString=ct.D)(Rt,nn)},bt._execExpression=function(Rt){return(bt._execExpression=ct.E)(Rt)},bt._execCounter=function(){return(bt._execCounter=ct.F)()},bt._execLoc=function(Rt){return(bt._execLoc=ct.G)(Rt)},bt._execUserInput=function(Rt){return(bt._execUserInput=ct.H)(Rt)},bt._getLastErrorNum=function(){return(bt._getLastErrorNum=ct.I)()},bt._getLastErrorLoc=function(Rt){return(bt._getLastErrorLoc=ct.J)(Rt)},bt._getLastErrorActIndex=function(){return(bt._getLastErrorActIndex=ct.K)()},bt._getLastErrorLine=function(){return(bt._getLastErrorLine=ct.L)()},bt._getErrorDesc=function(Rt,nn){return(bt._getErrorDesc=ct.M)(Rt,nn)},bt._getVarStringValue=function(Rt,nn,En){return(bt._getVarStringValue=ct.N)(Rt,nn,En)},bt._getVarNumValue=function(Rt,nn){return(bt._getVarNumValue=ct.O)(Rt,nn)},bt._getVarStringValueByKey=function(Rt,nn,En){return(bt._getVarStringValueByKey=ct.P)(Rt,nn,En)},bt._getVarNumValueByKey=function(Rt,nn){return(bt._getVarNumValueByKey=ct.Q)(Rt,nn)},bt._getVarSize=function(Rt){return(bt._getVarSize=ct.R)(Rt)},bt._initCallBacks=function(){return(bt._initCallBacks=ct.S)()},bt._setCallBack=function(Rt,nn){return(bt._setCallBack=ct.T)(Rt,nn)},bt._freeItemsList=function(Rt){return(bt._freeItemsList=ct.U)(Rt)},bt._freeSaveBuffer=function(Rt){return(bt._freeSaveBuffer=ct.V)(Rt)};var cr,fr=function(){return(fr=ct.X)()};function $r(){function Rt(){cr||(cr=!0,bt.calledRun=!0,Zt||(An(),et(),$(Bn),At(bt),bt.onRuntimeInitialized&&bt.onRuntimeInitialized(),function(){if(An(),bt.postRun)for(typeof bt.postRun=="function"&&(bt.postRun=[bt.postRun]);bt.postRun.length;)En=bt.postRun.shift(),Yn.unshift(En);var En;$(Yn)}()))}var nn;Vn>0||(fr(),(nn=dt())==0&&(nn+=4),gn[nn>>2]=34821223,gn[nn+4>>2]=2310721022,gn[0]=1668509029,function(){if(bt.preRun)for(typeof bt.preRun=="function"&&(bt.preRun=[bt.preRun]);bt.preRun.length;)En=bt.preRun.shift(),xn.unshift(En);var En;$(xn)}(),Vn>0||(bt.setStatus?(bt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){bt.setStatus("")},1),Rt()},1)):Rt(),An()))}if(ft=function(){return(ft=ct.Y)()},dt=function(){return(dt=ct.Z)()},mt=function(){return(mt=ct._)()},xt=bt.___set_stack_limits=function(Rt,nn){return(xt=bt.___set_stack_limits=ct.$)(Rt,nn)},ht=function(Rt){return(ht=ct.aa)(Rt)},gt=function(){return(gt=ct.ba)()},Et=function(Rt){return(Et=ct.ca)(Rt)},St=function(){return(St=ct.da)()},bt.addFunction=function(Rt,nn){var En=function(Tn){return st||(st=new WeakMap,function(Mn,kn){if(st)for(var In=0;In<0+kn;In++){var Dn=(Un=void 0,(Un=mr[Wn=In])||(Wn>=mr.length&&(mr.length=Wn+1),mr[Wn]=Un=Zn.get(Wn)),Un);Dn&&st.set(Dn,In)}var Wn,Un}(0,Zn.length)),st.get(Tn)||0}(Rt);if(En)return En;var wn=function(){if(ir.length)return ir.pop();try{Zn.grow(1)}catch(Tn){throw Tn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Tn}return Zn.length-1}();try{yn(wn,Rt)}catch(Tn){if(!(Tn instanceof TypeError))throw Tn;var Sn=function(Mn,kn){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(function(Un){for(var On={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Hn={parameters:[],results:Un[0]=="v"?[]:[On[Un[0]]]},gr=1;gr<Un.length;++gr)Hn.parameters.push(On[Un[gr]]);return Hn}(kn),Mn);var In=[1];(function(Un,On){var Hn=Un.slice(0,1),gr=Un.slice(1),kr={i:127,p:127,j:126,f:125,d:124,e:111};On.push(96),jr(gr.length,On);for(var _r=0;_r<gr.length;++_r)On.push(kr[gr[_r]]);Hn=="v"?On.push(0):On.push(1,kr[Hn])})(kn,In);var Dn=[0,97,115,109,1,0,0,0,1];jr(In.length,Dn),Dn.push.apply(Dn,In),Dn.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Wn=new WebAssembly.Module(new Uint8Array(Dn));return new WebAssembly.Instance(Wn,{e:{f:Mn}}).exports.f}(Rt,nn);yn(wn,Sn)}return st.set(Rt,wn),wn},bt.Asyncify=rt,rr=function Rt(){cr||$r(),cr||(rr=Rt)},bt.preInit)for(typeof bt.preInit=="function"&&(bt.preInit=[bt.preInit]);bt.preInit.length>0;)bt.preInit.pop()();return $r(),b.ready},Pt=function(Qt){return bt.locateFile?bt.locateFile(Qt,Wt):Wt+Qt},bt=b;bt.ready=new Promise(function(Qt,tn){At=Qt,$t=tn});var Bt,Yt,rn,hn=Object.assign({},bt),Vt="./this.program",Xt=function(Qt,tn){throw tn},en=typeof window=="object",cn=typeof importScripts=="function",qt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Wt="",sn=function(){if(qt)return Promise.resolve(__vitePreload(()=>import("./__vite-browser-external-D7Ct-6yo.js").then(Qt=>Qt._),[],import.meta.url)).then(function(Qt){var tn=(0,Qt.createRequire)(import.meta.url),vn=tn("fs"),un=tn("path");Wt=cn?un.dirname(Wt)+"/":tn("url").fileURLToPath(new URL("./",import.meta.url)),Bt=function(mn,_n){return mn=j(mn)?new URL(mn):un.normalize(mn),vn.readFileSync(mn,_n?void 0:"utf8")},rn=function(mn){var _n=Bt(mn,!0);return _n.buffer||(_n=new Uint8Array(_n)),_n},Yt=function(mn,_n,Jt,gn){gn===void 0&&(gn=!0),mn=j(mn)?new URL(mn):un.normalize(mn),vn.readFile(mn,gn?void 0:"utf8",function(Zt,bn){Zt?Jt(Zt):_n(gn?bn.buffer:bn)})},!bt.thisProgram&&process.argv.length>1&&(Vt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),Xt=function(mn,_n){throw process.exitCode=mn,_n},bt.inspect=function(){return"[Emscripten Module object]"}});(en||cn)&&(cn?Wt=self.location.href:typeof document<"u"&&document.currentScript&&(Wt=document.currentScript.src),t$1&&(Wt=t$1),Wt=Wt.indexOf("blob:")!==0?Wt.substr(0,Wt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Bt=function(Qt){var tn=new XMLHttpRequest;return tn.open("GET",Qt,!1),tn.send(null),tn.responseText},cn&&(rn=function(Qt){var tn=new XMLHttpRequest;return tn.open("GET",Qt,!1),tn.responseType="arraybuffer",tn.send(null),new Uint8Array(tn.response)}),Yt=function(Qt,tn,vn){var un=new XMLHttpRequest;un.open("GET",Qt,!0),un.responseType="arraybuffer",un.onload=function(){un.status==200||un.status==0&&un.response?tn(un.response):vn()},un.onerror=vn,un.send(null)})}();return Promise.resolve(sn&&sn.then?sn.then(wt):wt())}catch(Qt){return Promise.reject(Qt)}});function i(b,j){(j==null||j>b.length)&&(j=b.length);for(var $=0,_e=new Array(j);$<j;$++)_e[$]=b[$];return _e}function a(b,j){var $=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if($)return($=$.call(b)).next.bind($);if(Array.isArray(b)||($=function(et,tt){if(et){if(typeof et=="string")return i(et,tt);var nt=Object.prototype.toString.call(et).slice(8,-1);return nt==="Object"&&et.constructor&&(nt=et.constructor.name),nt==="Map"||nt==="Set"?Array.from(et):nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt)?i(et,tt):void 0}}(b))||j){$&&(b=$);var _e=0;return function(){return _e>=b.length?{done:!0}:{done:!1,value:b[_e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$1(b){return b._malloc(4)}function u(b,j){return S(b,j)}function s$1(b,j){return j===void 0&&(j=1),b+4*j}function c(b,j){b._free(j)}function l(b,j){var $=u(b,j);return $?function(_e,et,tt){for(var nt=0,rt=[];!(nt>=tt/4);){var st=_e.HEAP32[et+4*nt>>2];if(st==0)break;if(++nt,st>=65536){var it=st-65536;rt.push(String.fromCharCode(55296|it>>10,56320|1023&it))}else rt.push(String.fromCharCode(st))}return rt.join("")}(b,$,u(b,s$1(j))-$):""}function f(b,j){var $=function(et){for(var tt=0,nt=0;nt<et.length;++nt){var rt=et.charCodeAt(nt);rt>=55296&&rt<=57343&&++nt,tt+=4}return tt}(j),_e=b._malloc($+4);return _$1(b,j,_e,$+4),_e}function h(b,j){var $=function(et){return et._malloc(8)}(b);j($);var _e=l(b,$);return c(b,$),_e}function d(b,j,$){var _e=f(b,j);$(_e),b._free(_e)}function m(b,j){var $=o$1(b),_e=j($),et=function(nt,rt){return S(nt,rt)}(b,$),tt=p(b,_e,et);return b._freeItemsList(_e),c(b,$),tt}function v(b,j,$){var _e=new Uint8Array(j),et=b._malloc(_e.length);b.HEAPU8.set(_e,et),$(et,_e.length),b._free(et)}function p(b,j,$){for(var _e=[],et=j,tt=0;tt<$;tt++){var nt=l(b,et),rt=l(b,et=s$1(et,2));et=s$1(et,2),_e.push({name:rt,image:nt})}return _e}function g(b,j){return b.Asyncify.handleSleep(function($){j(function(_e){return $(_e||0)})})}function S(b,j){return b.HEAP32[j>>2]}function _$1(b,j,$,_e){if(_e===void 0&&(_e=2147483647),_e<4)return 0;for(var et=$,tt=et+_e-4,nt=0;nt<j.length;++nt){var rt=j.charCodeAt(nt);if(rt>=55296&&rt<=57343&&(rt=65536+((1023&rt)<<10)|1023&j.charCodeAt(++nt)),b.HEAP32[$>>2]=rt,($+=4)+4>tt)break}return b.HEAP32[$>>2]=0,$-et}(function(b){b[b.DEBUG=0]="DEBUG",b[b.ISPLAYINGFILE=1]="ISPLAYINGFILE",b[b.PLAYFILE=2]="PLAYFILE",b[b.CLOSEFILE=3]="CLOSEFILE",b[b.SHOWIMAGE=4]="SHOWIMAGE",b[b.SHOWWINDOW=5]="SHOWWINDOW",b[b.SHOWMENU=6]="SHOWMENU",b[b.SHOWMSGSTR=7]="SHOWMSGSTR",b[b.REFRESHINT=8]="REFRESHINT",b[b.SETTIMER=9]="SETTIMER",b[b.SETINPUTSTRTEXT=10]="SETINPUTSTRTEXT",b[b.SYSTEM=11]="SYSTEM",b[b.OPENGAME=12]="OPENGAME",b[b.OPENGAMESTATUS=13]="OPENGAMESTATUS",b[b.SAVEGAMESTATUS=14]="SAVEGAMESTATUS",b[b.SLEEP=15]="SLEEP",b[b.GETMSCOUNT=16]="GETMSCOUNT",b[b.INPUTBOX=17]="INPUTBOX",b[b.VERSION=18]="VERSION",b[b.DUMMY=19]="DUMMY"})(n$1||(n$1={}));var y=function(){function b($){var _e=this;this.module=void 0,this.listeners=new Map,this.variableWatchers=new Set,this.variableValues=new Map,this.expressionWatchers=new Set,this.expressionValues=new Map,this.time=Date.now(),this.staticStrings=new Map,this.onError=function(){var et=_e.readError();_e.emit("error",et||{code:-1,description:"Unknown error",location:"",actionIndex:-1,line:-1})},this.onRefresh=function(et){if(et||_e.module._isMainDescChanged()){var tt=h(_e.module,function(it){return _e.module._getMainDesc(it)});_e.emit("main_changed",tt)}if(et||_e.module._isVarsDescChanged()){var nt=h(_e.module,function(it){return _e.module._getVarsDesc(it)});_e.emit("stats_changed",nt)}if(et||_e.module._isActionsChanged()){var rt=m(_e.module,function(it){return _e.module._getActions(it)});_e.emit("actions_changed",rt)}if(et||_e.module._isObjectsChanged()){var st=m(_e.module,function(it){return _e.module._getObjects(it)});_e.emit("objects_changed",st)}setTimeout(function(){return _e.reportWatched()},0)},this.onShowWindow=function(et,tt){_e.emit("panel_visibility",et,tt)},this.onMenu=function(et,tt){var nt=p(_e.module,et,tt);return g(_e.module,function(rt){_e.emit("menu",nt,function(st){rt(st)})})},this.onMsg=function(et){_e.onRefresh(!1);var tt=l(_e.module,et);return g(_e.module,function(nt){_e.emit("msg",tt,function(){nt()})})},this.onInput=function(et,tt,nt){_e.onRefresh(!1);var rt=l(_e.module,et);return g(_e.module,function(st){_e.emit("input",rt,function(it){_$1(_e.module,it,tt,nt),st()})})},this.onVersion=function(et,tt,nt){var rt=l(_e.module,et);return g(_e.module,function(st){_e.emit("version",rt,function(it){_$1(_e.module,it,tt,nt),st()})})},this.onWait=function(et){return g(_e.module,function(tt){_e.emit("wait",et,function(){tt()})})},this.onSetTimer=function(et){_e.emit("timer",et)},this.onSetUserInput=function(et){var tt=l(_e.module,et);_e.emit("user_input",tt)},this.onView=function(et){var tt=l(_e.module,et);_e.emit("view",tt)},this.onDebug=function(et){var tt=l(_e.module,et);console.log("DEBUG:",tt)},this.onSystemCmd=function(et){_e.onRefresh(!1);var tt=l(_e.module,et);_e.emit("system_cmd",tt)},this.onGetMS=function(){var et=Date.now()-_e.time;return _e.time=Date.now(),et},this.onOpenGame=function(et,tt){var nt=l(_e.module,et);return g(_e.module,function(rt){_e.emit("open_game",nt,tt,function(){rt()})})},this.onOpenGameStatus=function(et){var tt=l(_e.module,et);return g(_e.module,function(nt){_e.emit("load_save",tt,function(){nt()})})},this.onSaveGameStatus=function(et){var tt=l(_e.module,et);return g(_e.module,function(nt){_e.emit("save_game",tt,function(){nt()})})},this.onIsPlay=function(et){var tt=l(_e.module,et);return g(_e.module,function(nt){_e.emit("is_play",tt,function(rt){nt(rt?1:0)})})},this.onPlayFile=function(et,tt){var nt=l(_e.module,et);return g(_e.module,function(rt){_e.emit("play_file",nt,tt,function(){rt()})})},this.onCloseFile=function(et){var tt=l(_e.module,et);return g(_e.module,function(nt){_e.emit("close_file",tt,function(){nt()})})},this.module=$,this.init()}var j=b.prototype;return j.on=function($,_e){var et,tt=(et=this.listeners.get($))!=null?et:[];tt.push(_e),this.listeners.set($,tt)},j.off=function($,_e){var et,tt=(et=this.listeners.get($))!=null?et:[];(tt=tt.filter(function(nt){return nt!==_e})).length?this.listeners.set($,tt):this.listeners.delete($)},j.watchVariable=function($,_e,et){var tt=this,nt=this.readVariable($,_e);et(nt);var rt=function(){var st=tt.readVariable($,_e);nt!==st&&et(nt=st)};return this.variableWatchers.add(rt),function(){tt.variableWatchers.delete(rt)}},j.watchVariableByKey=function($,_e,et){var tt=this,nt=this.readVariableByKey($,_e);et(nt);var rt=function(){var st=tt.readVariableByKey($,_e);nt!==st&&et(nt=st)};return this.variableWatchers.add(rt),function(){tt.variableWatchers.delete(rt)}},j.watchExpression=function($,_e){var et=this,tt=this.evalExpression($);_e(tt);var nt=function(){var rt=et.evalExpression($);tt!==rt&&_e(tt=rt)};return this.expressionWatchers.add(nt),function(){et.expressionWatchers.delete(nt)}},j.evalExpression=function($){if(this.expressionValues.has($))return this.expressionValues.get($);this.execExpression("qspider_result = "+$);var _e=this.readVariable("qspider_result",0,!1);return this.expressionValues.set($,_e),_e},j.emit=function($){var _e,et=[].slice.call(arguments,1);console.log({event:$,args:et});for(var tt,nt=(_e=this.listeners.get($))!=null?_e:[],rt=a(nt);!(tt=rt()).done;){var st=tt.value;st.apply(void 0,et)}},j.openGame=function($,_e){var et=this;v(this.module,$,function(tt,nt){return et.module._loadGameData(tt,nt,_e?1:0)})},j.saveGame=function(){var $=this;return function(_e,et){var tt=o$1(_e),nt=$.module._saveGameData(tt),rt=S(_e,tt);if(!rt)return c(_e,tt),null;var st=_e.HEAPU8.slice(nt,nt+rt);return _e._freeSaveBuffer(nt),c(_e,tt),st.buffer}(this.module)||(this.onError(),null)},j.loadSave=function($){var _e=this;v(this.module,$,function(et,tt){return _e.module._loadSavedGameData(et,tt)})},j.restartGame=function(){this.time=Date.now(),this.module._restartGame()},j.selectAction=function($){this.module._selectAction($)},j.execSelectedAction=function(){this.module._executeSelAction()},j.selectObject=function($){this.module._selectObject($)},j.version=function(){var $=this;return h(this.module,function(_e){return $.module._getVersion(_e)})},j.getStaticStringPointer=function($){var _e=$.toLocaleUpperCase(),et=this.staticStrings.get(_e);if(et)return et;var tt=f(this.module,$);return this.staticStrings.set(_e,tt),tt},j.readVariable=function($,_e,et){et===void 0&&(et=!1);var tt=$+"["+(_e||0)+"]";if(et&&this.variableValues.has(tt))return this.variableValues.get(tt);if($.startsWith("$")){var nt=this.readVariableString($,_e);return this.variableValues.set(tt,nt),nt}var rt=this.readVariableNumber($,_e);return this.variableValues.set(tt,rt),rt},j.readVariableByKey=function($,_e){var et=$+"["+_e+"]";if(this.variableValues.has(et))return this.variableValues.get(et);if($.startsWith("$")){var tt=this.readVariableStringByKey($,_e);return this.variableValues.set(et,tt),tt}var nt=this.readVariableNumberByKey($,_e);return this.variableValues.set(et,nt),nt},j.readVariableNumber=function($,_e){_e===void 0&&(_e=0);var et=this.getStaticStringPointer($.toLocaleUpperCase());return this.module._getVarNumValue(et,_e)},j.readVariableNumberByKey=function($,_e){var et=this.getStaticStringPointer($.toLocaleUpperCase()),tt=this.getStaticStringPointer(_e.toLocaleUpperCase());return this.module._getVarNumValueByKey(et,tt)},j.readVariableString=function($,_e){var et=this;_e===void 0&&(_e=0);var tt=this.getStaticStringPointer($.toLocaleUpperCase());return h(this.module,function(nt){return et.module._getVarStringValue(tt,_e,nt)})},j.readVariableStringByKey=function($,_e){var et=this,tt=this.getStaticStringPointer($.toLocaleUpperCase()),nt=this.getStaticStringPointer(_e.toLocaleUpperCase());return h(this.module,function(rt){return et.module._getVarStringValueByKey(tt,nt,rt)})},j.readVariableSize=function($){var _e=this.getStaticStringPointer($.toLocaleUpperCase());return this.module._getVarSize(_e)},j.execCode=function($,_e){var et=this;_e===void 0&&(_e=!0),d(this.module,$,function(tt){return et.module._execString(tt,_e?1:0)})},j.execExpression=function($){var _e=this;d(this.module,$,function(et){return _e.module._execExpression(et)})},j.execCounter=function(){this.module._execCounter()},j.execLoc=function($){var _e=this;d(this.module,$,function(et){return _e.module._execLoc(et)})},j.updateUserInput=function($){var _e=this;d(this.module,$,function(et){return _e.module._execUserInput(et)})},j.init=function(){this.module._init(),this.module._initCallBacks(),this.registerCallbacks()},j.registerCallbacks=function(){this.module._setErrorCallback(this.module.addFunction(this.onError,"i"));for(var $=0,_e=[[n$1.REFRESHINT,this.onRefresh,"ii"],[n$1.SHOWWINDOW,this.onShowWindow,"iii"],[n$1.SHOWMENU,this.onMenu,"iii"],[n$1.SHOWMSGSTR,this.onMsg,"ii"],[n$1.INPUTBOX,this.onInput,"iiii"],[n$1.SLEEP,this.onWait,"ii"],[n$1.SETTIMER,this.onSetTimer,"ii"],[n$1.SETINPUTSTRTEXT,this.onSetUserInput,"ii"],[n$1.SHOWIMAGE,this.onView,"ii"],[n$1.DEBUG,this.onDebug,"ii"],[n$1.GETMSCOUNT,this.onGetMS,"i"],[n$1.OPENGAME,this.onOpenGame,"iii"],[n$1.OPENGAMESTATUS,this.onOpenGameStatus,"ii"],[n$1.SAVEGAMESTATUS,this.onSaveGameStatus,"ii"],[n$1.ISPLAYINGFILE,this.onIsPlay,"ii"],[n$1.PLAYFILE,this.onPlayFile,"iii"],[n$1.CLOSEFILE,this.onCloseFile,"ii"],[n$1.SYSTEM,this.onSystemCmd,"ii"],[n$1.VERSION,this.onVersion,"iiii"]];$<_e.length;$++){var et=_e[$];this.registerCallback(et[0],et[1],et[2])}},j.registerCallback=function($,_e,et){this.module._setCallBack($,this.module.addFunction(_e,et))},j.clearCache=function(){this.variableValues.clear(),this.expressionValues.clear()},j.reportWatched=function(){this.clearCache();for(var $,_e=a(this.variableWatchers.values());!($=_e()).done;)(0,$.value)();for(var et,tt=a(this.expressionWatchers.values());!(et=tt()).done;)(0,et.value)()},j.readError=function(){var $=this,_e=this.module._getLastErrorNum();return _e?{code:_e,location:h(this.module,function(et){return $.module._getLastErrorLoc(et)}),description:h(this.module,function(et){return $.module._getErrorDesc(et,_e)}),actionIndex:this.module._getLastErrorActIndex(),line:this.module._getLastErrorLine()}:null},j.toJSON=function(){return"[QSP API]"},b}();function E(b){return new Promise(function(j){r$1({wasmBinary:b}).then(function($){j(new y($))})})}const wasmUrl=""+new URL("qsp-engine-ChQ9IFSG.wasm",import.meta.url).href,mainContent$=atom(""),nextMainContent$=atom(""),isNewLoc$=atom(!1),newLocHash$=atom(""),mainScroll$=atom(0),isStatsVisible$=atom(!1),statsContent$=atom(""),statsScroll$=atom(0),isActsVisible$=atom(!1),actions$=atom([]),selectedAction$=atom(-1);function canSelectAction(b){return b>=0&&b<actions$.value.length}function selectAction(b){var j;selectedAction$.set(b),(j=qspApi$.value)==null||j.selectAction(b)}function execSelectedAction(){var b;selectedAction$.set(-1),(b=qspApi$.value)==null||b.execSelectedAction()}const isObjsVisible$=atom(!1),objects$=atom([]);function selectObject(b){var j;(j=qspApi$.value)==null||j.selectObject(b)}const isCmdVisible$=atom(!1),cmdText$=atom("");function submitUserInput(){var b;(b=qspApi$.value)==null||b.updateUserInput(cmdText$.value)}const view$=atom({isOpen:!1,path:"",isModal:!1},b=>{const j=b.focus(_e=>_e.isOpen),$=b.focus(_e=>_e.isModal);return{open(_e){b.set({isOpen:!0,path:_e,isModal:$.value})},setIsModal(_e){$.set(_e)},close(){j.set(!1)},clear(){b.set({isOpen:!1,path:"",isModal:!1})}}}),regions$=atom({}),regionsScroll$=atom({});function reloadRegions(){var j;const b={};for(const $ of Object.keys(regions$.value))b[$]=((j=qspApi$.value)==null?void 0:j.readVariableByKey("$qspider_region",$))??"";regions$.set(b)}const layers$=atom({});function readLayerState(b){var j;return!!(((j=qspApi$.value)==null?void 0:j.readVariableByKey("qspider_layers",b))??0)}function registerLayer(b){layers$.update(j=>({...j,[b]:readLayerState(b)}))}function reloadLayers(){const b={};for(const j of Object.keys(layers$.value))b[j]=readLayerState(j);layers$.set(b)}const n=[1026,1027,8218,1107,8222,8230,8224,8225,8364,8240,1033,8249,1034,1036,1035,1039,1106,8216,8217,8220,8221,8226,8211,8212,32,8482,1113,8250,1114,1116,1115,1119,160,1038,1118,1032,164,1168,166,167,1025,169,1028,171,172,173,174,1031,176,177,1030,1110,1169,181,182,183,1105,8470,1108,187,1112,1029,1109,1111,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103];function t(b){return String.fromCharCode(b>=128?n[b-128]:b)}class e{constructor(j){this.cursor=0,this.content=void 0,this.view=void 0,this.isUnicode=void 0,this.content=j??new ArrayBuffer(256),this.view=new DataView(this.content),this.isUnicode=this.view.getUint8(1)===0}ensureSize(j){if(this.content.byteLength>=j)return;const $=new ArrayBuffer(2*this.content.byteLength);new Uint8Array($).set(new Uint8Array(this.content)),this.content=$,this.view=new DataView(this.content)}finalize(){return this.content=this.content.slice(0,this.cursor),this.content}get eof(){return this.cursor>=this.content.byteLength}read(){const j=this.cursor;return this.cursor+=this.isUnicode?Uint16Array.BYTES_PER_ELEMENT:Uint8Array.BYTES_PER_ELEMENT,this.isUnicode?this.view.getUint16(j,!0):this.view.getUint8(j)}readLine(j=!0){const $=[];for(;!this.eof;){const _e=this.read();if(_e===13){this.read();break}$.push(j?_e===-5?5:_e+5:_e)}return this.isUnicode?$.map(_e=>String.fromCharCode(_e)).join(""):$.map(t).join("")}write(j){this.ensureSize(this.cursor+Int16Array.BYTES_PER_ELEMENT);const $=this.cursor;this.cursor+=Int16Array.BYTES_PER_ELEMENT,this.view.setUint16($,j,!0)}writeString(j,$=!0){const _e=j.split("").map(et=>et.charCodeAt(0));for(const et of _e.values())this.write($?et===5?-5:et-5:et)}writeLine(j,$=!0){j&&this.writeString(j,$),this.writeString(`\r
`,!1)}seek(j){this.cursor=j}}const r=["'",'"'];function s(b){const j=[];let $=!1,_e=null,et=[];const tt=b.split(/\r?\n/);let nt="",rt=0;for(const st of tt)if($){if(!nt&&!rt&&st.startsWith("-")){$=!1,_e&&(_e.code=et,et=[],j.push(_e),_e=null);continue}et.push(st);const it=st.split("");for(let ct=0;ct<it.length;++ct){const ot=it[ct];nt?ot==nt&&(it[ct+1]==nt?ct++:nt=""):ot=="{"?++rt:ot=="}"?rt&&--rt:r.includes(ot)&&(nt=ot)}}else st.startsWith("#")&&($=!0,_e={name:st.slice(1).trim(),description:[],code:[],actions:[]});return $&&_e&&(_e.code=et,j.push(_e)),j}function o(b){const j=new e;j.writeLine("QSPGAME",!1),j.writeLine("@qsp/converters 1.0",!1),j.writeLine("No"),j.writeLine(String(b.length));for(const _e of b){j.writeLine(_e.name),j.writeLine(_e.description.join(`\r
`)),j.writeLine(_e.code.join(`\r
`)),j.writeLine(String(_e.actions.length));for(const et of _e.actions){var $;j.writeLine(($=et.image)!=null?$:""),j.writeLine(et.name),j.writeLine(et.code.join(`\r
`))}}return j.finalize()}const SevenZipWasmUrl=""+new URL("7zz-VeZPb8VL.wasm",import.meta.url).href,isSupportedArchive=b=>{const j=new Uint8Array(b);return isZip(j)||isRar(j)||is7zip(j)},isZip=b=>b[0]===80&&b[1]===75&&(b[2]===3||b[2]===5||b[2]===7)&&(b[3]===4||b[3]===6||b[3]===8),isRar=b=>b[0]===82&&b[1]===97&&b[2]===114&&b[3]===33,is7zip=b=>b[0]===55&&b[1]===122&&b[2]===188&&b[3]===175&&b[4]===39&&b[5]===28;let sevenZip=null;async function initSevenZip(){if(sevenZip)return sevenZip;const b=(await __vitePreload(async()=>{const{default:$}=await import("./7zz.es6-CM-D_io1.js");return{default:$}},__vite__mapDeps([0,1]),import.meta.url)).default;sevenZip=await b({wasmBinary:await fetch(SevenZipWasmUrl).then($=>$.arrayBuffer())});const j=sevenZip.FS.chmod;return sevenZip.FS.chmod=function($,_e,et){_e&&j($,_e,et)},sevenZip}const read7zip=async b=>{const j=await initSevenZip(),$="archive.tmp",_e=new Uint8Array(b),et=j.FS.open($,"w+");j.FS.write(et,_e,0,_e.length),j.FS.close(et),j.FS.mkdir("game"),j.callMain(["x",$,"-ogame","-y","-r"]),j.FS.chdir("game");const tt=readExtractedDirectory(j.FS,".");return removeDirRecursive(j.FS,"game"),j.FS.rmdir("game"),j.FS.unlink($),tt},readSupportedArchive=b=>read7zip(b),folderToSkip=new Set([".","..","__MACOSX"]),filesToSkip=new Set([".DS_Store"]);function readExtractedDirectory(b,j){const $={type:"dir",name:j,content:[]};b.chdir(j);for(const _e of b.readdir(".")){if(folderToSkip.has(_e)||filesToSkip.has(_e))continue;const{mode:et}=b.lookupPath(_e).node;b.isFile(et)?$.content.push({type:"file",name:_e,data:b.readFile(_e)}):b.isDir(et)&&$.content.push(readExtractedDirectory(b,_e))}return b.chdir(".."),$}function removeDirRecursive(b,j){b.chdir(j);for(const $ of b.readdir(".")){if($==="."||$==="..")continue;const{mode:_e}=b.lookupPath($).node;b.isFile(_e)?b.unlink($):b.isDir(_e)&&(removeDirRecursive(b,$),b.rmdir($))}b.chdir("..")}function convertQsps(b){const j=new Uint8Array(b.slice(0,2)),$=j[0]===255&&j[1]===254?"utf-16le":"utf-8",et=new TextDecoder($).decode(b);return o(s(et))}function cleanPath(b){return b.replace(/\\/g,"/")}function prepareContent(b){return b.replace(/&gt([^;])/gi,(j,$)=>"& gt "+$).replace(/\\"/g,"&quot;")}function prepareList(b){return b.map(j=>({name:prepareContent(j.name),image:cleanPath(j.image)}))}const clamp$3=function(b,j,$){return Math.min(Math.max(b,j),$)};async function getBinaryContent(b){const j=preparePath(b);return fetchProxyFallback(j).then($=>{if(!$.ok)throw new Error("File not found");return $.arrayBuffer()})}async function getTextContent(b){const j=preparePath(b);return fetchProxyFallback(j).then($=>{if(!$.ok)throw new Error("File not found");return $.text()})}function preparePath(b){return`${baseUrl$.value}${cleanPath(b)}`}async function loadAdditionalResources(b){if(!b)return;const{styles:j,scripts:$,fonts:_e}=b,et=[];j&&et.push(loadAdditionalStyles(j)),$&&et.push(loadAdditionalScripts($)),_e&&loadAdditionalFonts(_e),await Promise.allSettled([...et,document.fonts.ready])}async function loadAdditionalStyles(b){const j=[];for(const $ of b){const _e=document.createElement("link");_e.href=$,_e.rel="stylesheet",_e.dataset.qspiderResource="style",document.head.appendChild(_e)}await Promise.allSettled(j)}async function loadAdditionalScripts(b){const j=[];for(const $ of b){const _e=document.createElement("script");_e.type="text/javascript",_e.src=$,_e.dataset.qspiderResource="script";const et=defer$1();_e.onload=()=>et.resolve(),_e.onerror=()=>et.reject(new Error(`File not found: ${$}`)),j.push(et.promise),document.head.appendChild(_e)}await Promise.allSettled(j)}function loadAdditionalFonts(b){const j=[];for(const[_e,et,tt,nt]of b)j.push(`
    @font-face {
      font-family: "${_e}";
      src: url("${et}");
      font-display: block;
      font-style: ${nt||"normal"};
      font-weight: ${tt||"normal"};
    }
  `);const $=document.createElement("style");$.innerText=j.join(`
`),$.dataset.qspiderResource="style",document.head.appendChild($)}function clearAdditionalResources(){document.querySelectorAll("[data-qspider-resource]").forEach(b=>b.remove())}const BOOLEAN_ATTRIBUTES=new Set(["autofocus","autoplay","checked","controls","default","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","novalidate","open","readonly","required","reversed","selected"]),valueProcessors={href(b){return b.startsWith("javascript:")?"#":b}};function extractAttributes(b){const j={};return Array.from(b.attributes).forEach($=>{const{name:_e,value:et}=$;_e!=="is"&&(_e==="style"?j.style=processStyles(et):BOOLEAN_ATTRIBUTES.has(_e)?j[_e]=!0:j[_e]=_e in valueProcessors?valueProcessors[_e](et):et)}),j}function processStyles(b){const j=b.split(";"),$={};for(const _e of j){const[et,tt]=_e.trim().split(":"),nt=et.replace(/^-ms-/,"ms-").replace(/-./g,st=>st.substring(1).toUpperCase());let rt=tt;nt==="backgroundImage"&&!tt.includes("url(")?rt=`url("${tt}")`:/^[+-]?\d+(\.\d+)?$/.test(tt)&&(rt=parseFloat(tt)),$[nt]=rt}return $}const CLASSIC_THEME="qspider:classic",AERO_THEME="qspider:aero",DEFAULT_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;">%TEXT%</td></tr></table>',DEFAULT_SELECTED_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;color:#0000FF;">%TEXT%</td></tr></table>',TEXT_PLACEHOLDER="%TEXT%",IMAGE_PLACEHOLDER="%IMAGE%",themeRegistry$=atom({},b=>({add(j,$){b.update(_e=>({..._e,[j]:$}))},reset(){b.update(j=>Object.entries(j).reduce(($,[_e,et])=>(et.is_user_defined||($[_e]=et),$),{}))}})),currentTheme$=atom(CLASSIC_THEME),currentThemeData$=atom(b=>b(themeRegistry$)[b(currentTheme$)]??{}),defaultClassicTheme$=atom(b=>b(themeRegistry$)["qspider:classic"]),currentCssVariables$=atom(b=>b(currentThemeData$).css_variables??[]),currentCssLinks$=atom(b=>b(currentThemeData$).css_links??[]),currentScriptLinks$=atom(b=>b(currentThemeData$).script_links??[]),currentTranslations$=atom(b=>b(currentThemeData$).translations??[]);function useFormatVariable(b,j){return useQspVariable(b,"",0,j??"")}async function registerThemes(b){for(const j of b){const $=await getTextContent(j),_e=parseTheme($);for(const[et,tt]of Object.entries(_e))themeRegistry$.actions.add(et,tt)}}const defaultThemes=["themes/classic.html","themes/aero.html"];async function registerDefaultThemes(b){for(const j of defaultThemes){const $=await getTextContent(new URL(j,b).toString()),_e=parseTheme($,!1);for(const[et,tt]of Object.entries(_e))themeRegistry$.actions.add(et,tt)}}const parser=new DOMParser;function parseTheme(b,j=!0){const $={},et=parser.parseFromString(b,"text/html").querySelectorAll("qspider-theme");for(const tt of et){const nt=tt.getAttribute("name");if(!nt){console.error("Malformed theme definition - missing theme name in qspider-theme tag");continue}$[nt]={is_user_defined:j,css_variables:extractCssVariables(tt),translations:extractTranslations(tt),css_links:extractLinks(tt,"css-link"),script_links:extractLinks(tt,"script-link"),qsp_player:extractTagData(tt,"qsp-player")}}return $}function extractTagData(b,j){const $=b.querySelector(j);if($)return{attrs:extractAttributes($),template:$.innerHTML.replace(/[ \t]*\r?\n[ \t]*/gm,"")}}function extractCssVariables(b){const j=[];for(const $ of b.querySelectorAll("definitions qsp-css-variable")){const _e=$.getAttribute("name"),et=$.getAttribute("from");!_e||!et||j.push({name:_e,from:et,defaultValue:$.getAttribute("default-value")||"",type:$.getAttribute("type"),unit:$.getAttribute("unit"),withSize:$.hasAttribute("with-size"),withContrast:$.hasAttribute("with-contrast"),withInverted:$.hasAttribute("with-inverted")})}return j}function extractTranslations(b){const j=[];for(const $ of b.querySelectorAll("definitions qsp-translation")){const _e=$.getAttribute("lang")||"",et=$.getAttribute("tkey")||"",tt=$.getAttribute("value")||"";j.push({lang:_e,tkey:et,value:tt})}return j}function extractLinks(b,j){const $=[];for(const _e of b.querySelectorAll(j)){const et=_e.getAttribute("src");et&&$.push(et)}return $}const counterDelay$=atom(500),isPaused$=atom(!1),counterTimeout$=atom(),pauseStack=[];async function withCounterPaused(b){pauseStack.push(isPaused$.value);try{isPaused$.set(!0),await b()}finally{const j=pauseStack.pop()||!1;isPaused$.set(j)}}function scheduleCounter(){counterTimeout$.set(setTimeout(()=>{var b;(b=qspApi$.value)==null||b.execCounter(),scheduleCounter()},counterDelay$.value))}isPaused$.watch(b=>{b?clearTimeout(counterTimeout$.value):scheduleCounter()});counterDelay$.subscribe(()=>{clearTimeout(counterTimeout$.value),isPaused$.value||scheduleCounter()});var howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(b){(function(){var j=function(){this.init()};j.prototype={init:function(){var ot=this||$;return ot._counter=1e3,ot._html5AudioPool=[],ot.html5PoolSize=10,ot._codecs={},ot._howls=[],ot._muted=!1,ot._volume=1,ot._canPlayEvent="canplaythrough",ot._navigator=typeof window<"u"&&window.navigator?window.navigator:null,ot.masterGain=null,ot.noAudio=!1,ot.usingWebAudio=!0,ot.autoSuspend=!0,ot.ctx=null,ot.autoUnlock=!0,ot._setup(),ot},volume:function(ot){var at=this||$;if(ot=parseFloat(ot),at.ctx||ct(),typeof ot<"u"&&ot>=0&&ot<=1){if(at._volume=ot,at._muted)return at;at.usingWebAudio&&at.masterGain.gain.setValueAtTime(ot,$.ctx.currentTime);for(var ft=0;ft<at._howls.length;ft++)if(!at._howls[ft]._webAudio)for(var dt=at._howls[ft]._getSoundIds(),mt=0;mt<dt.length;mt++){var xt=at._howls[ft]._soundById(dt[mt]);xt&&xt._node&&(xt._node.volume=xt._volume*ot)}return at}return at._volume},mute:function(ot){var at=this||$;at.ctx||ct(),at._muted=ot,at.usingWebAudio&&at.masterGain.gain.setValueAtTime(ot?0:at._volume,$.ctx.currentTime);for(var ft=0;ft<at._howls.length;ft++)if(!at._howls[ft]._webAudio)for(var dt=at._howls[ft]._getSoundIds(),mt=0;mt<dt.length;mt++){var xt=at._howls[ft]._soundById(dt[mt]);xt&&xt._node&&(xt._node.muted=ot?!0:xt._muted)}return at},stop:function(){for(var ot=this||$,at=0;at<ot._howls.length;at++)ot._howls[at].stop();return ot},unload:function(){for(var ot=this||$,at=ot._howls.length-1;at>=0;at--)ot._howls[at].unload();return ot.usingWebAudio&&ot.ctx&&typeof ot.ctx.close<"u"&&(ot.ctx.close(),ot.ctx=null,ct()),ot},codecs:function(ot){return(this||$)._codecs[ot.replace(/^x-/,"")]},_setup:function(){var ot=this||$;if(ot.state=ot.ctx&&ot.ctx.state||"suspended",ot._autoSuspend(),!ot.usingWebAudio)if(typeof Audio<"u")try{var at=new Audio;typeof at.oncanplaythrough>"u"&&(ot._canPlayEvent="canplay")}catch{ot.noAudio=!0}else ot.noAudio=!0;try{var at=new Audio;at.muted&&(ot.noAudio=!0)}catch{}return ot.noAudio||ot._setupCodecs(),ot},_setupCodecs:function(){var ot=this||$,at=null;try{at=typeof Audio<"u"?new Audio:null}catch{return ot}if(!at||typeof at.canPlayType!="function")return ot;var ft=at.canPlayType("audio/mpeg;").replace(/^no$/,""),dt=ot._navigator?ot._navigator.userAgent:"",mt=dt.match(/OPR\/(\d+)/g),xt=mt&&parseInt(mt[0].split("/")[1],10)<33,ht=dt.indexOf("Safari")!==-1&&dt.indexOf("Chrome")===-1,gt=dt.match(/Version\/(.*?) /),Et=ht&&gt&&parseInt(gt[1],10)<15;return ot._codecs={mp3:!!(!xt&&(ft||at.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!ft,opus:!!at.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!at.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!at.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(at.canPlayType('audio/wav; codecs="1"')||at.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!at.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!at.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(at.canPlayType("audio/x-m4a;")||at.canPlayType("audio/m4a;")||at.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(at.canPlayType("audio/x-m4b;")||at.canPlayType("audio/m4b;")||at.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(at.canPlayType("audio/x-mp4;")||at.canPlayType("audio/mp4;")||at.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!Et&&at.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!Et&&at.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!at.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(at.canPlayType("audio/x-flac;")||at.canPlayType("audio/flac;")).replace(/^no$/,"")},ot},_unlockAudio:function(){var ot=this||$;if(!(ot._audioUnlocked||!ot.ctx)){ot._audioUnlocked=!1,ot.autoUnlock=!1,!ot._mobileUnloaded&&ot.ctx.sampleRate!==44100&&(ot._mobileUnloaded=!0,ot.unload()),ot._scratchBuffer=ot.ctx.createBuffer(1,1,22050);var at=function(ft){for(;ot._html5AudioPool.length<ot.html5PoolSize;)try{var dt=new Audio;dt._unlocked=!0,ot._releaseHtml5Audio(dt)}catch{ot.noAudio=!0;break}for(var mt=0;mt<ot._howls.length;mt++)if(!ot._howls[mt]._webAudio)for(var xt=ot._howls[mt]._getSoundIds(),ht=0;ht<xt.length;ht++){var gt=ot._howls[mt]._soundById(xt[ht]);gt&&gt._node&&!gt._node._unlocked&&(gt._node._unlocked=!0,gt._node.load())}ot._autoResume();var Et=ot.ctx.createBufferSource();Et.buffer=ot._scratchBuffer,Et.connect(ot.ctx.destination),typeof Et.start>"u"?Et.noteOn(0):Et.start(0),typeof ot.ctx.resume=="function"&&ot.ctx.resume(),Et.onended=function(){Et.disconnect(0),ot._audioUnlocked=!0,document.removeEventListener("touchstart",at,!0),document.removeEventListener("touchend",at,!0),document.removeEventListener("click",at,!0),document.removeEventListener("keydown",at,!0);for(var St=0;St<ot._howls.length;St++)ot._howls[St]._emit("unlock")}};return document.addEventListener("touchstart",at,!0),document.addEventListener("touchend",at,!0),document.addEventListener("click",at,!0),document.addEventListener("keydown",at,!0),ot}},_obtainHtml5Audio:function(){var ot=this||$;if(ot._html5AudioPool.length)return ot._html5AudioPool.pop();var at=new Audio().play();return at&&typeof Promise<"u"&&(at instanceof Promise||typeof at.then=="function")&&at.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(ot){var at=this||$;return ot._unlocked&&at._html5AudioPool.push(ot),at},_autoSuspend:function(){var ot=this;if(!(!ot.autoSuspend||!ot.ctx||typeof ot.ctx.suspend>"u"||!$.usingWebAudio)){for(var at=0;at<ot._howls.length;at++)if(ot._howls[at]._webAudio){for(var ft=0;ft<ot._howls[at]._sounds.length;ft++)if(!ot._howls[at]._sounds[ft]._paused)return ot}return ot._suspendTimer&&clearTimeout(ot._suspendTimer),ot._suspendTimer=setTimeout(function(){if(ot.autoSuspend){ot._suspendTimer=null,ot.state="suspending";var dt=function(){ot.state="suspended",ot._resumeAfterSuspend&&(delete ot._resumeAfterSuspend,ot._autoResume())};ot.ctx.suspend().then(dt,dt)}},3e4),ot}},_autoResume:function(){var ot=this;if(!(!ot.ctx||typeof ot.ctx.resume>"u"||!$.usingWebAudio))return ot.state==="running"&&ot.ctx.state!=="interrupted"&&ot._suspendTimer?(clearTimeout(ot._suspendTimer),ot._suspendTimer=null):ot.state==="suspended"||ot.state==="running"&&ot.ctx.state==="interrupted"?(ot.ctx.resume().then(function(){ot.state="running";for(var at=0;at<ot._howls.length;at++)ot._howls[at]._emit("resume")}),ot._suspendTimer&&(clearTimeout(ot._suspendTimer),ot._suspendTimer=null)):ot.state==="suspending"&&(ot._resumeAfterSuspend=!0),ot}};var $=new j,_e=function(ot){var at=this;if(!ot.src||ot.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}at.init(ot)};_e.prototype={init:function(ot){var at=this;return $.ctx||ct(),at._autoplay=ot.autoplay||!1,at._format=typeof ot.format!="string"?ot.format:[ot.format],at._html5=ot.html5||!1,at._muted=ot.mute||!1,at._loop=ot.loop||!1,at._pool=ot.pool||5,at._preload=typeof ot.preload=="boolean"||ot.preload==="metadata"?ot.preload:!0,at._rate=ot.rate||1,at._sprite=ot.sprite||{},at._src=typeof ot.src!="string"?ot.src:[ot.src],at._volume=ot.volume!==void 0?ot.volume:1,at._xhr={method:ot.xhr&&ot.xhr.method?ot.xhr.method:"GET",headers:ot.xhr&&ot.xhr.headers?ot.xhr.headers:null,withCredentials:ot.xhr&&ot.xhr.withCredentials?ot.xhr.withCredentials:!1},at._duration=0,at._state="unloaded",at._sounds=[],at._endTimers={},at._queue=[],at._playLock=!1,at._onend=ot.onend?[{fn:ot.onend}]:[],at._onfade=ot.onfade?[{fn:ot.onfade}]:[],at._onload=ot.onload?[{fn:ot.onload}]:[],at._onloaderror=ot.onloaderror?[{fn:ot.onloaderror}]:[],at._onplayerror=ot.onplayerror?[{fn:ot.onplayerror}]:[],at._onpause=ot.onpause?[{fn:ot.onpause}]:[],at._onplay=ot.onplay?[{fn:ot.onplay}]:[],at._onstop=ot.onstop?[{fn:ot.onstop}]:[],at._onmute=ot.onmute?[{fn:ot.onmute}]:[],at._onvolume=ot.onvolume?[{fn:ot.onvolume}]:[],at._onrate=ot.onrate?[{fn:ot.onrate}]:[],at._onseek=ot.onseek?[{fn:ot.onseek}]:[],at._onunlock=ot.onunlock?[{fn:ot.onunlock}]:[],at._onresume=[],at._webAudio=$.usingWebAudio&&!at._html5,typeof $.ctx<"u"&&$.ctx&&$.autoUnlock&&$._unlockAudio(),$._howls.push(at),at._autoplay&&at._queue.push({event:"play",action:function(){at.play()}}),at._preload&&at._preload!=="none"&&at.load(),at},load:function(){var ot=this,at=null;if($.noAudio){ot._emit("loaderror",null,"No audio support.");return}typeof ot._src=="string"&&(ot._src=[ot._src]);for(var ft=0;ft<ot._src.length;ft++){var dt,mt;if(ot._format&&ot._format[ft])dt=ot._format[ft];else{if(mt=ot._src[ft],typeof mt!="string"){ot._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}dt=/^data:audio\/([^;,]+);/i.exec(mt),dt||(dt=/\.([^.]+)$/.exec(mt.split("?",1)[0])),dt&&(dt=dt[1].toLowerCase())}if(dt||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),dt&&$.codecs(dt)){at=ot._src[ft];break}}if(!at){ot._emit("loaderror",null,"No codec support for selected audio sources.");return}return ot._src=at,ot._state="loading",window.location.protocol==="https:"&&at.slice(0,5)==="http:"&&(ot._html5=!0,ot._webAudio=!1),new et(ot),ot._webAudio&&nt(ot),ot},play:function(ot,at){var ft=this,dt=null;if(typeof ot=="number")dt=ot,ot=null;else{if(typeof ot=="string"&&ft._state==="loaded"&&!ft._sprite[ot])return null;if(typeof ot>"u"&&(ot="__default",!ft._playLock)){for(var mt=0,xt=0;xt<ft._sounds.length;xt++)ft._sounds[xt]._paused&&!ft._sounds[xt]._ended&&(mt++,dt=ft._sounds[xt]._id);mt===1?ot=null:dt=null}}var ht=dt?ft._soundById(dt):ft._inactiveSound();if(!ht)return null;if(dt&&!ot&&(ot=ht._sprite||"__default"),ft._state!=="loaded"){ht._sprite=ot,ht._ended=!1;var gt=ht._id;return ft._queue.push({event:"play",action:function(){ft.play(gt)}}),gt}if(dt&&!ht._paused)return at||ft._loadQueue("play"),ht._id;ft._webAudio&&$._autoResume();var Et=Math.max(0,ht._seek>0?ht._seek:ft._sprite[ot][0]/1e3),St=Math.max(0,(ft._sprite[ot][0]+ft._sprite[ot][1])/1e3-Et),At=St*1e3/Math.abs(ht._rate),$t=ft._sprite[ot][0]/1e3,wt=(ft._sprite[ot][0]+ft._sprite[ot][1])/1e3;ht._sprite=ot,ht._ended=!1;var Pt=function(){ht._paused=!1,ht._seek=Et,ht._start=$t,ht._stop=wt,ht._loop=!!(ht._loop||ft._sprite[ot][2])};if(Et>=wt){ft._ended(ht);return}var bt=ht._node;if(ft._webAudio){var Bt=function(){ft._playLock=!1,Pt(),ft._refreshBuffer(ht);var Vt=ht._muted||ft._muted?0:ht._volume;bt.gain.setValueAtTime(Vt,$.ctx.currentTime),ht._playStart=$.ctx.currentTime,typeof bt.bufferSource.start>"u"?ht._loop?bt.bufferSource.noteGrainOn(0,Et,86400):bt.bufferSource.noteGrainOn(0,Et,St):ht._loop?bt.bufferSource.start(0,Et,86400):bt.bufferSource.start(0,Et,St),At!==1/0&&(ft._endTimers[ht._id]=setTimeout(ft._ended.bind(ft,ht),At)),at||setTimeout(function(){ft._emit("play",ht._id),ft._loadQueue()},0)};$.state==="running"&&$.ctx.state!=="interrupted"?Bt():(ft._playLock=!0,ft.once("resume",Bt),ft._clearTimer(ht._id))}else{var Yt=function(){bt.currentTime=Et,bt.muted=ht._muted||ft._muted||$._muted||bt.muted,bt.volume=ht._volume*$.volume(),bt.playbackRate=ht._rate;try{var Vt=bt.play();if(Vt&&typeof Promise<"u"&&(Vt instanceof Promise||typeof Vt.then=="function")?(ft._playLock=!0,Pt(),Vt.then(function(){ft._playLock=!1,bt._unlocked=!0,at?ft._loadQueue():ft._emit("play",ht._id)}).catch(function(){ft._playLock=!1,ft._emit("playerror",ht._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),ht._ended=!0,ht._paused=!0})):at||(ft._playLock=!1,Pt(),ft._emit("play",ht._id)),bt.playbackRate=ht._rate,bt.paused){ft._emit("playerror",ht._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}ot!=="__default"||ht._loop?ft._endTimers[ht._id]=setTimeout(ft._ended.bind(ft,ht),At):(ft._endTimers[ht._id]=function(){ft._ended(ht),bt.removeEventListener("ended",ft._endTimers[ht._id],!1)},bt.addEventListener("ended",ft._endTimers[ht._id],!1))}catch(Xt){ft._emit("playerror",ht._id,Xt)}};bt.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(bt.src=ft._src,bt.load());var rn=window&&window.ejecta||!bt.readyState&&$._navigator.isCocoonJS;if(bt.readyState>=3||rn)Yt();else{ft._playLock=!0,ft._state="loading";var hn=function(){ft._state="loaded",Yt(),bt.removeEventListener($._canPlayEvent,hn,!1)};bt.addEventListener($._canPlayEvent,hn,!1),ft._clearTimer(ht._id)}}return ht._id},pause:function(ot){var at=this;if(at._state!=="loaded"||at._playLock)return at._queue.push({event:"pause",action:function(){at.pause(ot)}}),at;for(var ft=at._getSoundIds(ot),dt=0;dt<ft.length;dt++){at._clearTimer(ft[dt]);var mt=at._soundById(ft[dt]);if(mt&&!mt._paused&&(mt._seek=at.seek(ft[dt]),mt._rateSeek=0,mt._paused=!0,at._stopFade(ft[dt]),mt._node))if(at._webAudio){if(!mt._node.bufferSource)continue;typeof mt._node.bufferSource.stop>"u"?mt._node.bufferSource.noteOff(0):mt._node.bufferSource.stop(0),at._cleanBuffer(mt._node)}else(!isNaN(mt._node.duration)||mt._node.duration===1/0)&&mt._node.pause();arguments[1]||at._emit("pause",mt?mt._id:null)}return at},stop:function(ot,at){var ft=this;if(ft._state!=="loaded"||ft._playLock)return ft._queue.push({event:"stop",action:function(){ft.stop(ot)}}),ft;for(var dt=ft._getSoundIds(ot),mt=0;mt<dt.length;mt++){ft._clearTimer(dt[mt]);var xt=ft._soundById(dt[mt]);xt&&(xt._seek=xt._start||0,xt._rateSeek=0,xt._paused=!0,xt._ended=!0,ft._stopFade(dt[mt]),xt._node&&(ft._webAudio?xt._node.bufferSource&&(typeof xt._node.bufferSource.stop>"u"?xt._node.bufferSource.noteOff(0):xt._node.bufferSource.stop(0),ft._cleanBuffer(xt._node)):(!isNaN(xt._node.duration)||xt._node.duration===1/0)&&(xt._node.currentTime=xt._start||0,xt._node.pause(),xt._node.duration===1/0&&ft._clearSound(xt._node))),at||ft._emit("stop",xt._id))}return ft},mute:function(ot,at){var ft=this;if(ft._state!=="loaded"||ft._playLock)return ft._queue.push({event:"mute",action:function(){ft.mute(ot,at)}}),ft;if(typeof at>"u")if(typeof ot=="boolean")ft._muted=ot;else return ft._muted;for(var dt=ft._getSoundIds(at),mt=0;mt<dt.length;mt++){var xt=ft._soundById(dt[mt]);xt&&(xt._muted=ot,xt._interval&&ft._stopFade(xt._id),ft._webAudio&&xt._node?xt._node.gain.setValueAtTime(ot?0:xt._volume,$.ctx.currentTime):xt._node&&(xt._node.muted=$._muted?!0:ot),ft._emit("mute",xt._id))}return ft},volume:function(){var ot=this,at=arguments,ft,dt;if(at.length===0)return ot._volume;if(at.length===1||at.length===2&&typeof at[1]>"u"){var mt=ot._getSoundIds(),xt=mt.indexOf(at[0]);xt>=0?dt=parseInt(at[0],10):ft=parseFloat(at[0])}else at.length>=2&&(ft=parseFloat(at[0]),dt=parseInt(at[1],10));var ht;if(typeof ft<"u"&&ft>=0&&ft<=1){if(ot._state!=="loaded"||ot._playLock)return ot._queue.push({event:"volume",action:function(){ot.volume.apply(ot,at)}}),ot;typeof dt>"u"&&(ot._volume=ft),dt=ot._getSoundIds(dt);for(var gt=0;gt<dt.length;gt++)ht=ot._soundById(dt[gt]),ht&&(ht._volume=ft,at[2]||ot._stopFade(dt[gt]),ot._webAudio&&ht._node&&!ht._muted?ht._node.gain.setValueAtTime(ft,$.ctx.currentTime):ht._node&&!ht._muted&&(ht._node.volume=ft*$.volume()),ot._emit("volume",ht._id))}else return ht=dt?ot._soundById(dt):ot._sounds[0],ht?ht._volume:0;return ot},fade:function(ot,at,ft,dt){var mt=this;if(mt._state!=="loaded"||mt._playLock)return mt._queue.push({event:"fade",action:function(){mt.fade(ot,at,ft,dt)}}),mt;ot=Math.min(Math.max(0,parseFloat(ot)),1),at=Math.min(Math.max(0,parseFloat(at)),1),ft=parseFloat(ft),mt.volume(ot,dt);for(var xt=mt._getSoundIds(dt),ht=0;ht<xt.length;ht++){var gt=mt._soundById(xt[ht]);if(gt){if(dt||mt._stopFade(xt[ht]),mt._webAudio&&!gt._muted){var Et=$.ctx.currentTime,St=Et+ft/1e3;gt._volume=ot,gt._node.gain.setValueAtTime(ot,Et),gt._node.gain.linearRampToValueAtTime(at,St)}mt._startFadeInterval(gt,ot,at,ft,xt[ht],typeof dt>"u")}}return mt},_startFadeInterval:function(ot,at,ft,dt,mt,xt){var ht=this,gt=at,Et=ft-at,St=Math.abs(Et/.01),At=Math.max(4,St>0?dt/St:dt),$t=Date.now();ot._fadeTo=ft,ot._interval=setInterval(function(){var wt=(Date.now()-$t)/dt;$t=Date.now(),gt+=Et*wt,gt=Math.round(gt*100)/100,Et<0?gt=Math.max(ft,gt):gt=Math.min(ft,gt),ht._webAudio?ot._volume=gt:ht.volume(gt,ot._id,!0),xt&&(ht._volume=gt),(ft<at&&gt<=ft||ft>at&&gt>=ft)&&(clearInterval(ot._interval),ot._interval=null,ot._fadeTo=null,ht.volume(ft,ot._id),ht._emit("fade",ot._id))},At)},_stopFade:function(ot){var at=this,ft=at._soundById(ot);return ft&&ft._interval&&(at._webAudio&&ft._node.gain.cancelScheduledValues($.ctx.currentTime),clearInterval(ft._interval),ft._interval=null,at.volume(ft._fadeTo,ot),ft._fadeTo=null,at._emit("fade",ot)),at},loop:function(){var ot=this,at=arguments,ft,dt,mt;if(at.length===0)return ot._loop;if(at.length===1)if(typeof at[0]=="boolean")ft=at[0],ot._loop=ft;else return mt=ot._soundById(parseInt(at[0],10)),mt?mt._loop:!1;else at.length===2&&(ft=at[0],dt=parseInt(at[1],10));for(var xt=ot._getSoundIds(dt),ht=0;ht<xt.length;ht++)mt=ot._soundById(xt[ht]),mt&&(mt._loop=ft,ot._webAudio&&mt._node&&mt._node.bufferSource&&(mt._node.bufferSource.loop=ft,ft&&(mt._node.bufferSource.loopStart=mt._start||0,mt._node.bufferSource.loopEnd=mt._stop,ot.playing(xt[ht])&&(ot.pause(xt[ht],!0),ot.play(xt[ht],!0)))));return ot},rate:function(){var ot=this,at=arguments,ft,dt;if(at.length===0)dt=ot._sounds[0]._id;else if(at.length===1){var mt=ot._getSoundIds(),xt=mt.indexOf(at[0]);xt>=0?dt=parseInt(at[0],10):ft=parseFloat(at[0])}else at.length===2&&(ft=parseFloat(at[0]),dt=parseInt(at[1],10));var ht;if(typeof ft=="number"){if(ot._state!=="loaded"||ot._playLock)return ot._queue.push({event:"rate",action:function(){ot.rate.apply(ot,at)}}),ot;typeof dt>"u"&&(ot._rate=ft),dt=ot._getSoundIds(dt);for(var gt=0;gt<dt.length;gt++)if(ht=ot._soundById(dt[gt]),ht){ot.playing(dt[gt])&&(ht._rateSeek=ot.seek(dt[gt]),ht._playStart=ot._webAudio?$.ctx.currentTime:ht._playStart),ht._rate=ft,ot._webAudio&&ht._node&&ht._node.bufferSource?ht._node.bufferSource.playbackRate.setValueAtTime(ft,$.ctx.currentTime):ht._node&&(ht._node.playbackRate=ft);var Et=ot.seek(dt[gt]),St=(ot._sprite[ht._sprite][0]+ot._sprite[ht._sprite][1])/1e3-Et,At=St*1e3/Math.abs(ht._rate);(ot._endTimers[dt[gt]]||!ht._paused)&&(ot._clearTimer(dt[gt]),ot._endTimers[dt[gt]]=setTimeout(ot._ended.bind(ot,ht),At)),ot._emit("rate",ht._id)}}else return ht=ot._soundById(dt),ht?ht._rate:ot._rate;return ot},seek:function(){var ot=this,at=arguments,ft,dt;if(at.length===0)ot._sounds.length&&(dt=ot._sounds[0]._id);else if(at.length===1){var mt=ot._getSoundIds(),xt=mt.indexOf(at[0]);xt>=0?dt=parseInt(at[0],10):ot._sounds.length&&(dt=ot._sounds[0]._id,ft=parseFloat(at[0]))}else at.length===2&&(ft=parseFloat(at[0]),dt=parseInt(at[1],10));if(typeof dt>"u")return 0;if(typeof ft=="number"&&(ot._state!=="loaded"||ot._playLock))return ot._queue.push({event:"seek",action:function(){ot.seek.apply(ot,at)}}),ot;var ht=ot._soundById(dt);if(ht)if(typeof ft=="number"&&ft>=0){var gt=ot.playing(dt);gt&&ot.pause(dt,!0),ht._seek=ft,ht._ended=!1,ot._clearTimer(dt),!ot._webAudio&&ht._node&&!isNaN(ht._node.duration)&&(ht._node.currentTime=ft);var Et=function(){gt&&ot.play(dt,!0),ot._emit("seek",dt)};if(gt&&!ot._webAudio){var St=function(){ot._playLock?setTimeout(St,0):Et()};setTimeout(St,0)}else Et()}else if(ot._webAudio){var At=ot.playing(dt)?$.ctx.currentTime-ht._playStart:0,$t=ht._rateSeek?ht._rateSeek-ht._seek:0;return ht._seek+($t+At*Math.abs(ht._rate))}else return ht._node.currentTime;return ot},playing:function(ot){var at=this;if(typeof ot=="number"){var ft=at._soundById(ot);return ft?!ft._paused:!1}for(var dt=0;dt<at._sounds.length;dt++)if(!at._sounds[dt]._paused)return!0;return!1},duration:function(ot){var at=this,ft=at._duration,dt=at._soundById(ot);return dt&&(ft=at._sprite[dt._sprite][1]/1e3),ft},state:function(){return this._state},unload:function(){for(var ot=this,at=ot._sounds,ft=0;ft<at.length;ft++)at[ft]._paused||ot.stop(at[ft]._id),ot._webAudio||(ot._clearSound(at[ft]._node),at[ft]._node.removeEventListener("error",at[ft]._errorFn,!1),at[ft]._node.removeEventListener($._canPlayEvent,at[ft]._loadFn,!1),at[ft]._node.removeEventListener("ended",at[ft]._endFn,!1),$._releaseHtml5Audio(at[ft]._node)),delete at[ft]._node,ot._clearTimer(at[ft]._id);var dt=$._howls.indexOf(ot);dt>=0&&$._howls.splice(dt,1);var mt=!0;for(ft=0;ft<$._howls.length;ft++)if($._howls[ft]._src===ot._src||ot._src.indexOf($._howls[ft]._src)>=0){mt=!1;break}return tt&&mt&&delete tt[ot._src],$.noAudio=!1,ot._state="unloaded",ot._sounds=[],ot=null,null},on:function(ot,at,ft,dt){var mt=this,xt=mt["_on"+ot];return typeof at=="function"&&xt.push(dt?{id:ft,fn:at,once:dt}:{id:ft,fn:at}),mt},off:function(ot,at,ft){var dt=this,mt=dt["_on"+ot],xt=0;if(typeof at=="number"&&(ft=at,at=null),at||ft)for(xt=0;xt<mt.length;xt++){var ht=ft===mt[xt].id;if(at===mt[xt].fn&&ht||!at&&ht){mt.splice(xt,1);break}}else if(ot)dt["_on"+ot]=[];else{var gt=Object.keys(dt);for(xt=0;xt<gt.length;xt++)gt[xt].indexOf("_on")===0&&Array.isArray(dt[gt[xt]])&&(dt[gt[xt]]=[])}return dt},once:function(ot,at,ft){var dt=this;return dt.on(ot,at,ft,1),dt},_emit:function(ot,at,ft){for(var dt=this,mt=dt["_on"+ot],xt=mt.length-1;xt>=0;xt--)(!mt[xt].id||mt[xt].id===at||ot==="load")&&(setTimeout((function(ht){ht.call(this,at,ft)}).bind(dt,mt[xt].fn),0),mt[xt].once&&dt.off(ot,mt[xt].fn,mt[xt].id));return dt._loadQueue(ot),dt},_loadQueue:function(ot){var at=this;if(at._queue.length>0){var ft=at._queue[0];ft.event===ot&&(at._queue.shift(),at._loadQueue()),ot||ft.action()}return at},_ended:function(ot){var at=this,ft=ot._sprite;if(!at._webAudio&&ot._node&&!ot._node.paused&&!ot._node.ended&&ot._node.currentTime<ot._stop)return setTimeout(at._ended.bind(at,ot),100),at;var dt=!!(ot._loop||at._sprite[ft][2]);if(at._emit("end",ot._id),!at._webAudio&&dt&&at.stop(ot._id,!0).play(ot._id),at._webAudio&&dt){at._emit("play",ot._id),ot._seek=ot._start||0,ot._rateSeek=0,ot._playStart=$.ctx.currentTime;var mt=(ot._stop-ot._start)*1e3/Math.abs(ot._rate);at._endTimers[ot._id]=setTimeout(at._ended.bind(at,ot),mt)}return at._webAudio&&!dt&&(ot._paused=!0,ot._ended=!0,ot._seek=ot._start||0,ot._rateSeek=0,at._clearTimer(ot._id),at._cleanBuffer(ot._node),$._autoSuspend()),!at._webAudio&&!dt&&at.stop(ot._id,!0),at},_clearTimer:function(ot){var at=this;if(at._endTimers[ot]){if(typeof at._endTimers[ot]!="function")clearTimeout(at._endTimers[ot]);else{var ft=at._soundById(ot);ft&&ft._node&&ft._node.removeEventListener("ended",at._endTimers[ot],!1)}delete at._endTimers[ot]}return at},_soundById:function(ot){for(var at=this,ft=0;ft<at._sounds.length;ft++)if(ot===at._sounds[ft]._id)return at._sounds[ft];return null},_inactiveSound:function(){var ot=this;ot._drain();for(var at=0;at<ot._sounds.length;at++)if(ot._sounds[at]._ended)return ot._sounds[at].reset();return new et(ot)},_drain:function(){var ot=this,at=ot._pool,ft=0,dt=0;if(!(ot._sounds.length<at)){for(dt=0;dt<ot._sounds.length;dt++)ot._sounds[dt]._ended&&ft++;for(dt=ot._sounds.length-1;dt>=0;dt--){if(ft<=at)return;ot._sounds[dt]._ended&&(ot._webAudio&&ot._sounds[dt]._node&&ot._sounds[dt]._node.disconnect(0),ot._sounds.splice(dt,1),ft--)}}},_getSoundIds:function(ot){var at=this;if(typeof ot>"u"){for(var ft=[],dt=0;dt<at._sounds.length;dt++)ft.push(at._sounds[dt]._id);return ft}else return[ot]},_refreshBuffer:function(ot){var at=this;return ot._node.bufferSource=$.ctx.createBufferSource(),ot._node.bufferSource.buffer=tt[at._src],ot._panner?ot._node.bufferSource.connect(ot._panner):ot._node.bufferSource.connect(ot._node),ot._node.bufferSource.loop=ot._loop,ot._loop&&(ot._node.bufferSource.loopStart=ot._start||0,ot._node.bufferSource.loopEnd=ot._stop||0),ot._node.bufferSource.playbackRate.setValueAtTime(ot._rate,$.ctx.currentTime),at},_cleanBuffer:function(ot){var at=this,ft=$._navigator&&$._navigator.vendor.indexOf("Apple")>=0;if(!ot.bufferSource)return at;if($._scratchBuffer&&ot.bufferSource&&(ot.bufferSource.onended=null,ot.bufferSource.disconnect(0),ft))try{ot.bufferSource.buffer=$._scratchBuffer}catch{}return ot.bufferSource=null,at},_clearSound:function(ot){var at=/MSIE |Trident\//.test($._navigator&&$._navigator.userAgent);at||(ot.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var et=function(ot){this._parent=ot,this.init()};et.prototype={init:function(){var ot=this,at=ot._parent;return ot._muted=at._muted,ot._loop=at._loop,ot._volume=at._volume,ot._rate=at._rate,ot._seek=0,ot._paused=!0,ot._ended=!0,ot._sprite="__default",ot._id=++$._counter,at._sounds.push(ot),ot.create(),ot},create:function(){var ot=this,at=ot._parent,ft=$._muted||ot._muted||ot._parent._muted?0:ot._volume;return at._webAudio?(ot._node=typeof $.ctx.createGain>"u"?$.ctx.createGainNode():$.ctx.createGain(),ot._node.gain.setValueAtTime(ft,$.ctx.currentTime),ot._node.paused=!0,ot._node.connect($.masterGain)):$.noAudio||(ot._node=$._obtainHtml5Audio(),ot._errorFn=ot._errorListener.bind(ot),ot._node.addEventListener("error",ot._errorFn,!1),ot._loadFn=ot._loadListener.bind(ot),ot._node.addEventListener($._canPlayEvent,ot._loadFn,!1),ot._endFn=ot._endListener.bind(ot),ot._node.addEventListener("ended",ot._endFn,!1),ot._node.src=at._src,ot._node.preload=at._preload===!0?"auto":at._preload,ot._node.volume=ft*$.volume(),ot._node.load()),ot},reset:function(){var ot=this,at=ot._parent;return ot._muted=at._muted,ot._loop=at._loop,ot._volume=at._volume,ot._rate=at._rate,ot._seek=0,ot._rateSeek=0,ot._paused=!0,ot._ended=!0,ot._sprite="__default",ot._id=++$._counter,ot},_errorListener:function(){var ot=this;ot._parent._emit("loaderror",ot._id,ot._node.error?ot._node.error.code:0),ot._node.removeEventListener("error",ot._errorFn,!1)},_loadListener:function(){var ot=this,at=ot._parent;at._duration=Math.ceil(ot._node.duration*10)/10,Object.keys(at._sprite).length===0&&(at._sprite={__default:[0,at._duration*1e3]}),at._state!=="loaded"&&(at._state="loaded",at._emit("load"),at._loadQueue()),ot._node.removeEventListener($._canPlayEvent,ot._loadFn,!1)},_endListener:function(){var ot=this,at=ot._parent;at._duration===1/0&&(at._duration=Math.ceil(ot._node.duration*10)/10,at._sprite.__default[1]===1/0&&(at._sprite.__default[1]=at._duration*1e3),at._ended(ot)),ot._node.removeEventListener("ended",ot._endFn,!1)}};var tt={},nt=function(ot){var at=ot._src;if(tt[at]){ot._duration=tt[at].duration,it(ot);return}if(/^data:[^;]+;base64,/.test(at)){for(var ft=atob(at.split(",")[1]),dt=new Uint8Array(ft.length),mt=0;mt<ft.length;++mt)dt[mt]=ft.charCodeAt(mt);st(dt.buffer,ot)}else{var xt=new XMLHttpRequest;xt.open(ot._xhr.method,at,!0),xt.withCredentials=ot._xhr.withCredentials,xt.responseType="arraybuffer",ot._xhr.headers&&Object.keys(ot._xhr.headers).forEach(function(ht){xt.setRequestHeader(ht,ot._xhr.headers[ht])}),xt.onload=function(){var ht=(xt.status+"")[0];if(ht!=="0"&&ht!=="2"&&ht!=="3"){ot._emit("loaderror",null,"Failed loading audio file with status: "+xt.status+".");return}st(xt.response,ot)},xt.onerror=function(){ot._webAudio&&(ot._html5=!0,ot._webAudio=!1,ot._sounds=[],delete tt[at],ot.load())},rt(xt)}},rt=function(ot){try{ot.send()}catch{ot.onerror()}},st=function(ot,at){var ft=function(){at._emit("loaderror",null,"Decoding audio data failed.")},dt=function(mt){mt&&at._sounds.length>0?(tt[at._src]=mt,it(at,mt)):ft()};typeof Promise<"u"&&$.ctx.decodeAudioData.length===1?$.ctx.decodeAudioData(ot).then(dt).catch(ft):$.ctx.decodeAudioData(ot,dt,ft)},it=function(ot,at){at&&!ot._duration&&(ot._duration=at.duration),Object.keys(ot._sprite).length===0&&(ot._sprite={__default:[0,ot._duration*1e3]}),ot._state!=="loaded"&&(ot._state="loaded",ot._emit("load"),ot._loadQueue())},ct=function(){if($.usingWebAudio){try{typeof AudioContext<"u"?$.ctx=new AudioContext:typeof webkitAudioContext<"u"?$.ctx=new webkitAudioContext:$.usingWebAudio=!1}catch{$.usingWebAudio=!1}$.ctx||($.usingWebAudio=!1);var ot=/iP(hone|od|ad)/.test($._navigator&&$._navigator.platform),at=$._navigator&&$._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),ft=at?parseInt(at[1],10):null;if(ot&&ft&&ft<9){var dt=/safari/.test($._navigator&&$._navigator.userAgent.toLowerCase());$._navigator&&!dt&&($.usingWebAudio=!1)}$.usingWebAudio&&($.masterGain=typeof $.ctx.createGain>"u"?$.ctx.createGainNode():$.ctx.createGain(),$.masterGain.gain.setValueAtTime($._muted?0:$._volume,$.ctx.currentTime),$.masterGain.connect($.ctx.destination)),$._setup()}};b.Howler=$,b.Howl=_e,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=j,commonjsGlobal.Howler=$,commonjsGlobal.Howl=_e,commonjsGlobal.Sound=et):typeof window<"u"&&(window.HowlerGlobal=j,window.Howler=$,window.Howl=_e,window.Sound=et)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function($){var _e=this;if(!_e.ctx||!_e.ctx.listener)return _e;for(var et=_e._howls.length-1;et>=0;et--)_e._howls[et].stereo($);return _e},HowlerGlobal.prototype.pos=function($,_e,et){var tt=this;if(!tt.ctx||!tt.ctx.listener)return tt;if(_e=typeof _e!="number"?tt._pos[1]:_e,et=typeof et!="number"?tt._pos[2]:et,typeof $=="number")tt._pos=[$,_e,et],typeof tt.ctx.listener.positionX<"u"?(tt.ctx.listener.positionX.setTargetAtTime(tt._pos[0],Howler.ctx.currentTime,.1),tt.ctx.listener.positionY.setTargetAtTime(tt._pos[1],Howler.ctx.currentTime,.1),tt.ctx.listener.positionZ.setTargetAtTime(tt._pos[2],Howler.ctx.currentTime,.1)):tt.ctx.listener.setPosition(tt._pos[0],tt._pos[1],tt._pos[2]);else return tt._pos;return tt},HowlerGlobal.prototype.orientation=function($,_e,et,tt,nt,rt){var st=this;if(!st.ctx||!st.ctx.listener)return st;var it=st._orientation;if(_e=typeof _e!="number"?it[1]:_e,et=typeof et!="number"?it[2]:et,tt=typeof tt!="number"?it[3]:tt,nt=typeof nt!="number"?it[4]:nt,rt=typeof rt!="number"?it[5]:rt,typeof $=="number")st._orientation=[$,_e,et,tt,nt,rt],typeof st.ctx.listener.forwardX<"u"?(st.ctx.listener.forwardX.setTargetAtTime($,Howler.ctx.currentTime,.1),st.ctx.listener.forwardY.setTargetAtTime(_e,Howler.ctx.currentTime,.1),st.ctx.listener.forwardZ.setTargetAtTime(et,Howler.ctx.currentTime,.1),st.ctx.listener.upX.setTargetAtTime(tt,Howler.ctx.currentTime,.1),st.ctx.listener.upY.setTargetAtTime(nt,Howler.ctx.currentTime,.1),st.ctx.listener.upZ.setTargetAtTime(rt,Howler.ctx.currentTime,.1)):st.ctx.listener.setOrientation($,_e,et,tt,nt,rt);else return it;return st},Howl.prototype.init=function($){return function(_e){var et=this;return et._orientation=_e.orientation||[1,0,0],et._stereo=_e.stereo||null,et._pos=_e.pos||null,et._pannerAttr={coneInnerAngle:typeof _e.coneInnerAngle<"u"?_e.coneInnerAngle:360,coneOuterAngle:typeof _e.coneOuterAngle<"u"?_e.coneOuterAngle:360,coneOuterGain:typeof _e.coneOuterGain<"u"?_e.coneOuterGain:0,distanceModel:typeof _e.distanceModel<"u"?_e.distanceModel:"inverse",maxDistance:typeof _e.maxDistance<"u"?_e.maxDistance:1e4,panningModel:typeof _e.panningModel<"u"?_e.panningModel:"HRTF",refDistance:typeof _e.refDistance<"u"?_e.refDistance:1,rolloffFactor:typeof _e.rolloffFactor<"u"?_e.rolloffFactor:1},et._onstereo=_e.onstereo?[{fn:_e.onstereo}]:[],et._onpos=_e.onpos?[{fn:_e.onpos}]:[],et._onorientation=_e.onorientation?[{fn:_e.onorientation}]:[],$.call(this,_e)}}(Howl.prototype.init),Howl.prototype.stereo=function($,_e){var et=this;if(!et._webAudio)return et;if(et._state!=="loaded")return et._queue.push({event:"stereo",action:function(){et.stereo($,_e)}}),et;var tt=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof _e>"u")if(typeof $=="number")et._stereo=$,et._pos=[$,0,0];else return et._stereo;for(var nt=et._getSoundIds(_e),rt=0;rt<nt.length;rt++){var st=et._soundById(nt[rt]);if(st)if(typeof $=="number")st._stereo=$,st._pos=[$,0,0],st._node&&(st._pannerAttr.panningModel="equalpower",(!st._panner||!st._panner.pan)&&j(st,tt),tt==="spatial"?typeof st._panner.positionX<"u"?(st._panner.positionX.setValueAtTime($,Howler.ctx.currentTime),st._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),st._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):st._panner.setPosition($,0,0):st._panner.pan.setValueAtTime($,Howler.ctx.currentTime)),et._emit("stereo",st._id);else return st._stereo}return et},Howl.prototype.pos=function($,_e,et,tt){var nt=this;if(!nt._webAudio)return nt;if(nt._state!=="loaded")return nt._queue.push({event:"pos",action:function(){nt.pos($,_e,et,tt)}}),nt;if(_e=typeof _e!="number"?0:_e,et=typeof et!="number"?-.5:et,typeof tt>"u")if(typeof $=="number")nt._pos=[$,_e,et];else return nt._pos;for(var rt=nt._getSoundIds(tt),st=0;st<rt.length;st++){var it=nt._soundById(rt[st]);if(it)if(typeof $=="number")it._pos=[$,_e,et],it._node&&((!it._panner||it._panner.pan)&&j(it,"spatial"),typeof it._panner.positionX<"u"?(it._panner.positionX.setValueAtTime($,Howler.ctx.currentTime),it._panner.positionY.setValueAtTime(_e,Howler.ctx.currentTime),it._panner.positionZ.setValueAtTime(et,Howler.ctx.currentTime)):it._panner.setPosition($,_e,et)),nt._emit("pos",it._id);else return it._pos}return nt},Howl.prototype.orientation=function($,_e,et,tt){var nt=this;if(!nt._webAudio)return nt;if(nt._state!=="loaded")return nt._queue.push({event:"orientation",action:function(){nt.orientation($,_e,et,tt)}}),nt;if(_e=typeof _e!="number"?nt._orientation[1]:_e,et=typeof et!="number"?nt._orientation[2]:et,typeof tt>"u")if(typeof $=="number")nt._orientation=[$,_e,et];else return nt._orientation;for(var rt=nt._getSoundIds(tt),st=0;st<rt.length;st++){var it=nt._soundById(rt[st]);if(it)if(typeof $=="number")it._orientation=[$,_e,et],it._node&&(it._panner||(it._pos||(it._pos=nt._pos||[0,0,-.5]),j(it,"spatial")),typeof it._panner.orientationX<"u"?(it._panner.orientationX.setValueAtTime($,Howler.ctx.currentTime),it._panner.orientationY.setValueAtTime(_e,Howler.ctx.currentTime),it._panner.orientationZ.setValueAtTime(et,Howler.ctx.currentTime)):it._panner.setOrientation($,_e,et)),nt._emit("orientation",it._id);else return it._orientation}return nt},Howl.prototype.pannerAttr=function(){var $=this,_e=arguments,et,tt,nt;if(!$._webAudio)return $;if(_e.length===0)return $._pannerAttr;if(_e.length===1)if(typeof _e[0]=="object")et=_e[0],typeof tt>"u"&&(et.pannerAttr||(et.pannerAttr={coneInnerAngle:et.coneInnerAngle,coneOuterAngle:et.coneOuterAngle,coneOuterGain:et.coneOuterGain,distanceModel:et.distanceModel,maxDistance:et.maxDistance,refDistance:et.refDistance,rolloffFactor:et.rolloffFactor,panningModel:et.panningModel}),$._pannerAttr={coneInnerAngle:typeof et.pannerAttr.coneInnerAngle<"u"?et.pannerAttr.coneInnerAngle:$._coneInnerAngle,coneOuterAngle:typeof et.pannerAttr.coneOuterAngle<"u"?et.pannerAttr.coneOuterAngle:$._coneOuterAngle,coneOuterGain:typeof et.pannerAttr.coneOuterGain<"u"?et.pannerAttr.coneOuterGain:$._coneOuterGain,distanceModel:typeof et.pannerAttr.distanceModel<"u"?et.pannerAttr.distanceModel:$._distanceModel,maxDistance:typeof et.pannerAttr.maxDistance<"u"?et.pannerAttr.maxDistance:$._maxDistance,refDistance:typeof et.pannerAttr.refDistance<"u"?et.pannerAttr.refDistance:$._refDistance,rolloffFactor:typeof et.pannerAttr.rolloffFactor<"u"?et.pannerAttr.rolloffFactor:$._rolloffFactor,panningModel:typeof et.pannerAttr.panningModel<"u"?et.pannerAttr.panningModel:$._panningModel});else return nt=$._soundById(parseInt(_e[0],10)),nt?nt._pannerAttr:$._pannerAttr;else _e.length===2&&(et=_e[0],tt=parseInt(_e[1],10));for(var rt=$._getSoundIds(tt),st=0;st<rt.length;st++)if(nt=$._soundById(rt[st]),nt){var it=nt._pannerAttr;it={coneInnerAngle:typeof et.coneInnerAngle<"u"?et.coneInnerAngle:it.coneInnerAngle,coneOuterAngle:typeof et.coneOuterAngle<"u"?et.coneOuterAngle:it.coneOuterAngle,coneOuterGain:typeof et.coneOuterGain<"u"?et.coneOuterGain:it.coneOuterGain,distanceModel:typeof et.distanceModel<"u"?et.distanceModel:it.distanceModel,maxDistance:typeof et.maxDistance<"u"?et.maxDistance:it.maxDistance,refDistance:typeof et.refDistance<"u"?et.refDistance:it.refDistance,rolloffFactor:typeof et.rolloffFactor<"u"?et.rolloffFactor:it.rolloffFactor,panningModel:typeof et.panningModel<"u"?et.panningModel:it.panningModel};var ct=nt._panner;ct||(nt._pos||(nt._pos=$._pos||[0,0,-.5]),j(nt,"spatial"),ct=nt._panner),ct.coneInnerAngle=it.coneInnerAngle,ct.coneOuterAngle=it.coneOuterAngle,ct.coneOuterGain=it.coneOuterGain,ct.distanceModel=it.distanceModel,ct.maxDistance=it.maxDistance,ct.refDistance=it.refDistance,ct.rolloffFactor=it.rolloffFactor,ct.panningModel=it.panningModel}return $},Sound.prototype.init=function($){return function(){var _e=this,et=_e._parent;_e._orientation=et._orientation,_e._stereo=et._stereo,_e._pos=et._pos,_e._pannerAttr=et._pannerAttr,$.call(this),_e._stereo?et.stereo(_e._stereo):_e._pos&&et.pos(_e._pos[0],_e._pos[1],_e._pos[2],_e._id)}}(Sound.prototype.init),Sound.prototype.reset=function($){return function(){var _e=this,et=_e._parent;return _e._orientation=et._orientation,_e._stereo=et._stereo,_e._pos=et._pos,_e._pannerAttr=et._pannerAttr,_e._stereo?et.stereo(_e._stereo):_e._pos?et.pos(_e._pos[0],_e._pos[1],_e._pos[2],_e._id):_e._panner&&(_e._panner.disconnect(0),_e._panner=void 0,et._refreshBuffer(_e)),$.call(this)}}(Sound.prototype.reset);var j=function($,_e){_e=_e||"spatial",_e==="spatial"?($._panner=Howler.ctx.createPanner(),$._panner.coneInnerAngle=$._pannerAttr.coneInnerAngle,$._panner.coneOuterAngle=$._pannerAttr.coneOuterAngle,$._panner.coneOuterGain=$._pannerAttr.coneOuterGain,$._panner.distanceModel=$._pannerAttr.distanceModel,$._panner.maxDistance=$._pannerAttr.maxDistance,$._panner.refDistance=$._pannerAttr.refDistance,$._panner.rolloffFactor=$._pannerAttr.rolloffFactor,$._panner.panningModel=$._pannerAttr.panningModel,typeof $._panner.positionX<"u"?($._panner.positionX.setValueAtTime($._pos[0],Howler.ctx.currentTime),$._panner.positionY.setValueAtTime($._pos[1],Howler.ctx.currentTime),$._panner.positionZ.setValueAtTime($._pos[2],Howler.ctx.currentTime)):$._panner.setPosition($._pos[0],$._pos[1],$._pos[2]),typeof $._panner.orientationX<"u"?($._panner.orientationX.setValueAtTime($._orientation[0],Howler.ctx.currentTime),$._panner.orientationY.setValueAtTime($._orientation[1],Howler.ctx.currentTime),$._panner.orientationZ.setValueAtTime($._orientation[2],Howler.ctx.currentTime)):$._panner.setOrientation($._orientation[0],$._orientation[1],$._orientation[2])):($._panner=Howler.ctx.createStereoPanner(),$._panner.pan.setValueAtTime($._stereo,Howler.ctx.currentTime)),$._panner.connect($._node),$._paused||$._parent.pause($._id,!0).play($._id,!0)}})()})(howler);const normalizeVolume=b=>b>1?b*.01:b;let Sound$1=class Ns{constructor(j,$){this._state=0,this._error=null,this.isScheduled=!1,this.howl=new howler.Howl({src:[j],volume:normalizeVolume($),loop:!1,preload:!0,autoplay:!1,onload:()=>{this._state=2,this.isScheduled&&this.howl.play()},onloaderror:(_e,et)=>{console.error(j,et),this._state=1,this._error=et},onplayerror:(_e,et)=>{console.error(j,et),this._state=3,this._error=et},onplay:()=>{this._state=4},onend:()=>{this._state=6},onpause:()=>{this._state=5},onstop:()=>{this._state=6},onunlock:()=>{this._state===2&&this.isScheduled&&(this._state=4,this.howl.play())}})}static create(j,$){return new Ns(j,$)}get state(){return this._state}get error(){return this._error}get isPlaying(){return this._state===4||this._state===0}play(j){this.howl.volume(normalizeVolume(j)),this.isScheduled=!0,this.howl.state()==="loaded"&&!this.howl.playing()&&this.howl.play()}stop(){this.isScheduled=!1,this.howl.stop()}dispose(){this.isScheduled=!1,this.howl.stop(),this.howl.unload()}};const VOLUME_STEP=10,sounds$=atom(new Map,b=>({isPlaying(j){const $=getFileKey(j),_e=b.value.get($);return!!(_e!=null&&_e.isPlaying)},play(j,$){const _e=getFileKey(j);let et=b.value.get(_e);et||(et=Sound$1.create(j,$),b.value.set(_e,et)),et.play($)},close(j){const $=getFileKey(j),_e=b.value.get($);_e&&_e.stop()},closeAll(){for(const j of b.value.values())j.stop()},clear(){for(const j of b.value.values())j.dispose();b.set(new Map)}})),muted$=atom(!1),volume$=atom(100,b=>({increase(){b.update(j=>clamp$3(j+VOLUME_STEP,0,100))},decrease(){b.update(j=>clamp$3(j-VOLUME_STEP,0,100))}}));muted$.watch(b=>{howler.Howler.mute(b)});volume$.watch(b=>{howler.Howler.volume(normalizeVolume(clamp$3(b,0,100)))});function getFileKey(b){return b.replace("/","__").toUpperCase()}const saveLoadedCallback$=create(),gameSavedCallback$=create(),saveSlots$=create([]),namedSlots$=create([]),requestedAction$=create(null),QUICK_SAVE_KEY="__quicksave_qspider__";async function loadSaveList(){var _e,et;const b=currentGameEntry$.value;if(!b){saveSlots$.set([]),namedSlots$.set([]);return}const j=await((_e=storage$.value)==null?void 0:_e.getSavedSlots(b.id));saveSlots$.set(j||[]);const $=await((et=storage$.value)==null?void 0:et.getNamedSaves(b.id));namedSlots$.set($||[])}async function saveToSlot(b){var et,tt;const j=currentGameEntry$.value;if(!j)return;const $=(et=qspApi$.value)==null?void 0:et.saveGame();$&&await((tt=storage$.value)==null?void 0:tt.saveBySlot(j.id,b,$));const _e=gameSavedCallback$.value;_e==null||_e(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function saveToPath(b){var et,tt;const j=currentGameEntry$.value;if(!j)return;const $=(et=qspApi$.value)==null?void 0:et.saveGame();$&&await((tt=storage$.value)==null?void 0:tt.saveByKey(j.id,b,$));const _e=gameSavedCallback$.value;_e==null||_e(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function restoreFromSlot(b){var et,tt;const j=currentGameEntry$.value;if(!j)return;const $=await((et=storage$.value)==null?void 0:et.getSaveDataBySlot(j.id,b)),_e=saveLoadedCallback$.value;_e==null||_e(),saveLoadedCallback$.set(null),requestedAction$.set(null),$&&((tt=qspApi$.value)==null||tt.loadSave($))}async function restoreFromPath(b){var et,tt;const j=currentGameEntry$.value;if(!j)return;const $=await((et=storage$.value)==null?void 0:et.getSaveDataByKey(j.id,b)),_e=saveLoadedCallback$.value;_e==null||_e(),saveLoadedCallback$.set(null),requestedAction$.set(null),$&&((tt=qspApi$.value)==null||tt.loadSave($))}async function clearSlot(b){var $;const j=currentGameEntry$.value;j&&(await(($=storage$.value)==null?void 0:$.clearSaveSlot(j.id,b)),await loadSaveList())}async function clearPath(b){var $;const j=currentGameEntry$.value;j&&(await(($=storage$.value)==null?void 0:$.clearSaveKey(j.id,b)),await loadSaveList())}async function quickSave(){var $;if(($=qspApi$.value)==null?void 0:$.readVariable("NOSAVE"))return;const j=currentGameEntry$.value;j&&await withCounterPaused(async()=>{var et,tt;const _e=(et=qspApi$.value)==null?void 0:et.saveGame();_e&&await((tt=storage$.value)==null?void 0:tt.saveByKey(j.id,QUICK_SAVE_KEY,_e))})}async function quickLoad(){const b=currentGameEntry$.value;b&&await withCounterPaused(async()=>{var $,_e;const j=await(($=storage$.value)==null?void 0:$.getSaveDataByKey(b.id,QUICK_SAVE_KEY));j&&((_e=qspApi$.value)==null||_e.loadSave(j),onRestore())})}async function onSaveCommand(b,j){const{slot_index:$,save_path:_e}=j;switch(b){case"load":$>0?await restoreFromSlot($):_e&&await restoreFromPath(_e),onRestore(),closePauseScreen();break;case"save":$>0?await saveToSlot($):_e&&await saveToPath(_e),closePauseScreen();break;case"clear":$>0?clearSlot($):_e&&clearPath(_e);break;default:console.error(`Unknown save action: ${b}`)}}const isPauseScreenVisible$=atom(!1),pauseScreenCurrentPanel$=atom("credits");function openPauseScreen(){isPauseScreenVisible$.set(!0)}function closePauseScreen(){isPauseScreenVisible$.set(!1),saveLoadedCallback$.value&&(saveLoadedCallback$.value(),saveLoadedCallback$.set(null)),gameSavedCallback$.value&&(gameSavedCallback$.value(),gameSavedCallback$.set(null))}isPauseScreenVisible$.subscribe(b=>{b?isPaused$.set(!0):isPaused$.set(!1)});var mousetrap={exports:{}};(function(b){(function(j,$,_e){if(!j)return;for(var et={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},tt={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nt={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},rt={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},st,it=1;it<20;++it)et[111+it]="f"+it;for(it=0;it<=9;++it)et[it+96]=it.toString();function ct(wt,Pt,bt){if(wt.addEventListener){wt.addEventListener(Pt,bt,!1);return}wt.attachEvent("on"+Pt,bt)}function ot(wt){if(wt.type=="keypress"){var Pt=String.fromCharCode(wt.which);return wt.shiftKey||(Pt=Pt.toLowerCase()),Pt}return et[wt.which]?et[wt.which]:tt[wt.which]?tt[wt.which]:String.fromCharCode(wt.which).toLowerCase()}function at(wt,Pt){return wt.sort().join(",")===Pt.sort().join(",")}function ft(wt){var Pt=[];return wt.shiftKey&&Pt.push("shift"),wt.altKey&&Pt.push("alt"),wt.ctrlKey&&Pt.push("ctrl"),wt.metaKey&&Pt.push("meta"),Pt}function dt(wt){if(wt.preventDefault){wt.preventDefault();return}wt.returnValue=!1}function mt(wt){if(wt.stopPropagation){wt.stopPropagation();return}wt.cancelBubble=!0}function xt(wt){return wt=="shift"||wt=="ctrl"||wt=="alt"||wt=="meta"}function ht(){if(!st){st={};for(var wt in et)wt>95&&wt<112||et.hasOwnProperty(wt)&&(st[et[wt]]=wt)}return st}function gt(wt,Pt,bt){return bt||(bt=ht()[wt]?"keydown":"keypress"),bt=="keypress"&&Pt.length&&(bt="keydown"),bt}function Et(wt){return wt==="+"?["+"]:(wt=wt.replace(/\+{2}/g,"+plus"),wt.split("+"))}function St(wt,Pt){var bt,Bt,Yt,rn=[];for(bt=Et(wt),Yt=0;Yt<bt.length;++Yt)Bt=bt[Yt],rt[Bt]&&(Bt=rt[Bt]),Pt&&Pt!="keypress"&&nt[Bt]&&(Bt=nt[Bt],rn.push("shift")),xt(Bt)&&rn.push(Bt);return Pt=gt(Bt,rn,Pt),{key:Bt,modifiers:rn,action:Pt}}function At(wt,Pt){return wt===null||wt===$?!1:wt===Pt?!0:At(wt.parentNode,Pt)}function $t(wt){var Pt=this;if(wt=wt||$,!(Pt instanceof $t))return new $t(wt);Pt.target=wt,Pt._callbacks={},Pt._directMap={};var bt={},Bt,Yt=!1,rn=!1,hn=!1;function Vt(Qt){Qt=Qt||{};var tn=!1,vn;for(vn in bt){if(Qt[vn]){tn=!0;continue}bt[vn]=0}tn||(hn=!1)}function Xt(Qt,tn,vn,un,mn,_n){var Jt,gn,Zt=[],bn=vn.type;if(!Pt._callbacks[Qt])return[];for(bn=="keyup"&&xt(Qt)&&(tn=[Qt]),Jt=0;Jt<Pt._callbacks[Qt].length;++Jt)if(gn=Pt._callbacks[Qt][Jt],!(!un&&gn.seq&&bt[gn.seq]!=gn.level)&&bn==gn.action&&(bn=="keypress"&&!vn.metaKey&&!vn.ctrlKey||at(tn,gn.modifiers))){var An=!un&&gn.combo==mn,xn=un&&gn.seq==un&&gn.level==_n;(An||xn)&&Pt._callbacks[Qt].splice(Jt,1),Zt.push(gn)}return Zt}function en(Qt,tn,vn,un){Pt.stopCallback(tn,tn.target||tn.srcElement,vn,un)||Qt(tn,vn)===!1&&(dt(tn),mt(tn))}Pt._handleKey=function(Qt,tn,vn){var un=Xt(Qt,tn,vn),mn,_n={},Jt=0,gn=!1;for(mn=0;mn<un.length;++mn)un[mn].seq&&(Jt=Math.max(Jt,un[mn].level));for(mn=0;mn<un.length;++mn){if(un[mn].seq){if(un[mn].level!=Jt)continue;gn=!0,_n[un[mn].seq]=1,en(un[mn].callback,vn,un[mn].combo,un[mn].seq);continue}gn||en(un[mn].callback,vn,un[mn].combo)}var Zt=vn.type=="keypress"&&rn;vn.type==hn&&!xt(Qt)&&!Zt&&Vt(_n),rn=gn&&vn.type=="keydown"};function cn(Qt){typeof Qt.which!="number"&&(Qt.which=Qt.keyCode);var tn=ot(Qt);if(tn){if(Qt.type=="keyup"&&Yt===tn){Yt=!1;return}Pt.handleKey(tn,ft(Qt),Qt)}}function qt(){clearTimeout(Bt),Bt=setTimeout(Vt,1e3)}function Wt(Qt,tn,vn,un){bt[Qt]=0;function mn(bn){return function(){hn=bn,++bt[Qt],qt()}}function _n(bn){en(vn,bn,Qt),un!=="keyup"&&(Yt=ot(bn)),setTimeout(Vt,10)}for(var Jt=0;Jt<tn.length;++Jt){var gn=Jt+1===tn.length,Zt=gn?_n:mn(un||St(tn[Jt+1]).action);sn(tn[Jt],Zt,un,Qt,Jt)}}function sn(Qt,tn,vn,un,mn){Pt._directMap[Qt+":"+vn]=tn,Qt=Qt.replace(/\s+/g," ");var _n=Qt.split(" "),Jt;if(_n.length>1){Wt(Qt,_n,tn,vn);return}Jt=St(Qt,vn),Pt._callbacks[Jt.key]=Pt._callbacks[Jt.key]||[],Xt(Jt.key,Jt.modifiers,{type:Jt.action},un,Qt,mn),Pt._callbacks[Jt.key][un?"unshift":"push"]({callback:tn,modifiers:Jt.modifiers,action:Jt.action,seq:un,level:mn,combo:Qt})}Pt._bindMultiple=function(Qt,tn,vn){for(var un=0;un<Qt.length;++un)sn(Qt[un],tn,vn)},ct(wt,"keypress",cn),ct(wt,"keydown",cn),ct(wt,"keyup",cn)}$t.prototype.bind=function(wt,Pt,bt){var Bt=this;return wt=wt instanceof Array?wt:[wt],Bt._bindMultiple.call(Bt,wt,Pt,bt),Bt},$t.prototype.unbind=function(wt,Pt){var bt=this;return bt.bind.call(bt,wt,function(){},Pt)},$t.prototype.trigger=function(wt,Pt){var bt=this;return bt._directMap[wt+":"+Pt]&&bt._directMap[wt+":"+Pt]({},wt),bt},$t.prototype.reset=function(){var wt=this;return wt._callbacks={},wt._directMap={},wt},$t.prototype.stopCallback=function(wt,Pt){var bt=this;if((" "+Pt.className+" ").indexOf(" mousetrap ")>-1||At(Pt,bt.target))return!1;if("composedPath"in wt&&typeof wt.composedPath=="function"){var Bt=wt.composedPath()[0];Bt!==wt.target&&(Pt=Bt)}return Pt.tagName=="INPUT"||Pt.tagName=="SELECT"||Pt.tagName=="TEXTAREA"||Pt.isContentEditable},$t.prototype.handleKey=function(){var wt=this;return wt._handleKey.apply(wt,arguments)},$t.addKeycodes=function(wt){for(var Pt in wt)wt.hasOwnProperty(Pt)&&(et[Pt]=wt[Pt]);st=null},$t.init=function(){var wt=$t($);for(var Pt in wt)Pt.charAt(0)!=="_"&&($t[Pt]=function(bt){return function(){return wt[bt].apply(wt,arguments)}}(Pt))},$t.init(),j.Mousetrap=$t,b.exports&&(b.exports=$t)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(mousetrap);var mousetrapExports=mousetrap.exports;const Mousetrap=getDefaultExportFromCjs(mousetrapExports),windowManager$=create(),globalHotKeys$=create([{when_paused:!1,description:"Action #1",keys:"1",on_press:{type:"action",index:0}},{when_paused:!1,description:"Action #2",keys:"2",on_press:{type:"action",index:1}},{when_paused:!1,description:"Action #3",keys:"3",on_press:{type:"action",index:2}},{when_paused:!1,description:"Action #4",keys:"4",on_press:{type:"action",index:3}},{when_paused:!1,description:"Action #5",keys:"5",on_press:{type:"action",index:4}},{when_paused:!1,description:"Action #6",keys:"6",on_press:{type:"action",index:5}},{when_paused:!1,description:"Action #7",keys:"7",on_press:{type:"action",index:6}},{when_paused:!1,description:"Action #8",keys:"8",on_press:{type:"action",index:7}},{when_paused:!1,description:"Action #9",keys:"9",on_press:{type:"action",index:8}},{when_paused:!1,keys:"space",description:"Single action",on_press:()=>isPaused$.value?void 0:(actions$.value.length===1&&(selectAction(0),execSelectedAction()),!1)},{when_paused:!0,description:"Restart",keys:"mod+r",on_press:{type:"game_action",action:"restart"}},{when_paused:!1,description:"Quicksave",keys:"f5",on_press:{type:"game_action",action:"quicksave"}},{when_paused:!1,description:"Quickload",keys:"f9",on_press:{type:"game_action",action:"quickload"}},{when_paused:!1,keys:"mod+s",description:"Save",on_press:()=>{var j;if(!((j=qspApi$.value)!=null&&j.readVariable("NOSAVE")))return requestedAction$.set("save"),onGameCommand("pause:saves"),!1}},{when_paused:!1,keys:"mod+o",description:"Load",on_press:()=>(requestedAction$.set("load"),onGameCommand("pause:saves"),!1)},{when_paused:!0,keys:"pageup",description:"Increase volume",on_press:()=>(volume$.actions.increase(),!1)},{when_paused:!0,keys:"pagedown",description:"Decrease volume",on_press:()=>(volume$.actions.decrease(),!1)},{when_paused:!0,description:"Mute",keys:"home",on_press:{type:"game_action",action:"mute"}},{when_paused:!0,description:"Unmute",keys:"end",on_press:{type:"game_action",action:"unmute"}}]);function setupGlobalHotKeys(){for(const b of globalHotKeys$.value)Mousetrap.bind([b.keys],(j,$)=>{if(!(!b.when_paused&&isPaused$.value)){if(typeof b.on_press=="function")return b.on_press(j,$);if(b.on_press.type==="action"){if(canSelectAction(b.on_press.index))return selectAction(b.on_press.index),execSelectedAction(),!1}else if(b.on_press.type==="game_action")return onGameCommand(b.on_press.action),!1}})}function setupCustomHotKeys(b){for(const[j,$]of Object.entries(b))Mousetrap.bind(j,()=>{var _e;if(!isPaused$.value)return(_e=qspApi$.value)==null||_e.execLoc($),!1})}const prettySymbolsCommon={backspace:"BackSpace",tab:"Tab",enter:"↵ Enter",capslock:"CapsLock",space:"Space",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",left:"←",up:"↑",right:"→",down:"↓",ins:"Insert",del:"Delete",plus:"+",shift:"Shift",ctrl:"Ctrl",alt:"Alt",mod:"Ctrl"},prettySymbolsMacOs={shift:"⇧",ctrl:"⌃",alt:"⌥",mod:"⌘"};function prettifyHotkeys(b){var _e;const j=[],$=b.split(" ");for(let et=0;et<$.length;et++){const tt=$[et].split("+");for(let nt=0;nt<tt.length;nt++){let rt=tt[nt];rt in prettySymbolsCommon&&(rt=prettySymbolsCommon[rt]),((_e=windowManager$.value)==null?void 0:_e.platform)==="Macintosh"&&tt[nt]in prettySymbolsMacOs&&(rt=prettySymbolsMacOs[tt[nt]]),j.push({type:"key",symbol:rt}),nt<tt.length-1&&j.push({type:"separator",symbol:"+"})}et<$.length-1&&j.push({type:"separator",symbol:" "})}return j}function clearHotkeys(){Mousetrap.reset()}var WxWidgetsDirection=(b=>(b[b.top=1]="top",b[b.right=2]="right",b[b.bottom=3]="bottom",b[b.left=4]="left",b[b.center=5]="center",b))(WxWidgetsDirection||{});const CAPTION_SIZE=20,qspGuiCfg$=create(null),qspGuiLayout$=create(b=>{var tt;const j=b(qspGuiCfg$);if(!j)return null;const $=((tt=b(defaultClassicTheme$).qsp_player)==null?void 0:tt.template)??"",_e=buildLayoutTree(j.Panels);let et="";_e.layer&&(et+=convertLayer(_e.layer,j.Docks,$));for(const nt of _e.floating)et+=convertPane(nt,$,!0);return et});function buildLayoutTree(b){const j=getMaxLayer(b),$=b.filter(tt=>tt.floating&&tt.name==="imgview"),_e=b.filter(tt=>!tt.floating);let et=null;for(let tt=0;tt<=j;tt++){const nt=getLayerPanels(tt,_e);et={index:tt,top:[],right:[],bottom:[],left:[],center:et||[]};for(const rt of nt)rt.dir==="center"&&rt.name!=="desc"||et[rt.dir].push(rt)}return{layer:et?cleanEmptyLayers(et):null,floating:$}}function cleanEmptyLayers(b){return Array.isArray(b.center)?b:!b.top.length&&!b.right.length&&!b.bottom.length&&!b.left.length?cleanEmptyLayers(b.center):(b.center=cleanEmptyLayers(b.center),b)}function convertLayer(b,j,$){return`<qsp-cl-layer>${convertDock("top",b.top,j,$)}${convertDock("left",b.left,j,$)}${Array.isArray(b.center)?convertDock("center",b.center,j,$):convertLayer(b.center,j,$)}${convertDock("right",b.right,j,$)}${convertDock("bottom",b.bottom,j,$)}</qsp-cl-layer>`}function convertDock(b,j,$,_e){if(!j.length)return"";const et=j.map(it=>it.name!=="desc"?it.name:"").filter(Boolean),tt=et.length>0?` visibility="${et.join("|")}"`:"",[nt]=j,rt=`${WxWidgetsDirection[nt.dir]},${nt.layer},${nt.row}`;let st="";if(b!=="center")if($[rt])st=` size="${b==="bottom"||b==="top"?$[rt]-CAPTION_SIZE:$[rt]}"`;else{const it=b==="left"||b==="right"?"bestw":"besth";st=` size="${Math.max(...j.map(ot=>ot[it]))}"`}return`<qsp-cl-dock place="${b}"${tt}${st}>${j.map(it=>convertPane(it,_e,!1)).join("")}</qsp-cl-dock>`}function convertPane(b,j,$){return`<qsp-cl-pane visibility="${b.name!=="desc"?b.name:""}" proportion="${b.prop}">${extractFromDefaultTheme(b.name,j,$)}</qsp-cl-pane>`}function getMaxLayer(b){return Math.max(...b.map(({layer:j})=>j))}function getLayerPanels(b,j){return j.filter($=>$.layer===b).sort(($,_e)=>$.pos-_e.pos)}const paneToTagMap={imgview:"qsp-view",acts:"qsp-actions",desc:"qsp-main",objs:"qsp-objects",vars:"qsp-stats",input:"qsp-cmd"};function extractFromDefaultTheme(b,j,$){const _e=paneToTagMap[b];if(!_e)return"";const et=new RegExp(`<${_e}([\\s\\S]*?)</${_e}>`,"im"),tt=j.match(et),nt=(tt==null?void 0:tt[0])??"";return $?nt.replace(new RegExp(`<${_e}(.*?)>`,"im"),`<${_e} modal>`):nt.replace(new RegExp(`<${_e}(.*?)>`,"im"),`<${_e}>`)}const GROUP_REGEXP=/\[(.*?)\]/i,LINE_REGEXP=/(.*?)=(.*)/i,DOCK_LINE=/dock_size\((.*?)\)=(.*)/,IS_FLOATABLE_MASK=1,asNumber=(b,j)=>({[b]:Number(j)}),asString=(b,j)=>({[b]:j}),converters={BackColor:asNumber,FontColor:asNumber,LinkColor:asNumber,FontSize:asNumber,FontName:asString,Panels:parsePanels,dir:(b,j)=>({[b]:WxWidgetsDirection[j]}),layer:asNumber,name:asString,pos:asNumber,row:asNumber,prop:asNumber,bestw:asNumber,besth:asNumber};function processData(b,j){const $=converters[b];return($==null?void 0:$(b,j))??{}}function parsePanels(b,j){const $=[],_e={};for(const et of j.split("|").filter(Boolean))if(et!=="layout2")if(et.startsWith("dock_size")){const tt=et.match(DOCK_LINE);if(tt){const[,nt,rt]=tt;nt&&rt&&(_e[nt]=Number(rt))}}else{const tt=et.split(";").map(extractLineData).reduce((nt,[rt,st])=>{if(rt==="state")nt.floating=(Number(st)&IS_FLOATABLE_MASK)!==0;else if(rt&&st&&rt in converters)return{...nt,...processData(rt,st)};return nt},{});$.push(tt)}return{Panels:$,Docks:_e}}function extractLineData(b){const j=b.match(LINE_REGEXP);if(j){const[,$,_e]=j;return[$,_e]}return[]}function parseCfg(b){let j={};for(const $ of b.split(/\r?\n/gim).filter(Boolean)){if(GROUP_REGEXP.test($))continue;const[_e,et]=extractLineData($);_e&&et&&_e in converters&&(j={...j,...processData(_e,et)})}return j}const consoleLogger={type:"logger",log(b){this.output("log",b)},warn(b){this.output("warn",b)},error(b){this.output("error",b)},output(b,j){console&&console[b]&&console[b].apply(console,j)}};class Logger{constructor(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(j,$)}init(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=$.prefix||"i18next:",this.logger=j||consoleLogger,this.options=$,this.debug=$.debug}log(){for(var j=arguments.length,$=new Array(j),_e=0;_e<j;_e++)$[_e]=arguments[_e];return this.forward($,"log","",!0)}warn(){for(var j=arguments.length,$=new Array(j),_e=0;_e<j;_e++)$[_e]=arguments[_e];return this.forward($,"warn","",!0)}error(){for(var j=arguments.length,$=new Array(j),_e=0;_e<j;_e++)$[_e]=arguments[_e];return this.forward($,"error","")}deprecate(){for(var j=arguments.length,$=new Array(j),_e=0;_e<j;_e++)$[_e]=arguments[_e];return this.forward($,"warn","WARNING DEPRECATED: ",!0)}forward(j,$,_e,et){return et&&!this.debug?null:(typeof j[0]=="string"&&(j[0]=`${_e}${this.prefix} ${j[0]}`),this.logger[$](j))}create(j){return new Logger(this.logger,{prefix:`${this.prefix}:${j}:`,...this.options})}clone(j){return j=j||this.options,j.prefix=j.prefix||this.prefix,new Logger(this.logger,j)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(j,$){return j.split(" ").forEach(_e=>{this.observers[_e]||(this.observers[_e]=new Map);const et=this.observers[_e].get($)||0;this.observers[_e].set($,et+1)}),this}off(j,$){if(this.observers[j]){if(!$){delete this.observers[j];return}this.observers[j].delete($)}}emit(j){for(var $=arguments.length,_e=new Array($>1?$-1:0),et=1;et<$;et++)_e[et-1]=arguments[et];this.observers[j]&&Array.from(this.observers[j].entries()).forEach(nt=>{let[rt,st]=nt;for(let it=0;it<st;it++)rt(..._e)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(nt=>{let[rt,st]=nt;for(let it=0;it<st;it++)rt.apply(rt,[j,..._e])})}}function defer(){let b,j;const $=new Promise((_e,et)=>{b=_e,j=et});return $.resolve=b,$.reject=j,$}function makeString(b){return b==null?"":""+b}function copy(b,j,$){b.forEach(_e=>{j[_e]&&($[_e]=j[_e])})}const lastOfPathSeparatorRegExp=/###/g;function getLastOfPath(b,j,$){function _e(rt){return rt&&rt.indexOf("###")>-1?rt.replace(lastOfPathSeparatorRegExp,"."):rt}function et(){return!b||typeof b=="string"}const tt=typeof j!="string"?j:j.split(".");let nt=0;for(;nt<tt.length-1;){if(et())return{};const rt=_e(tt[nt]);!b[rt]&&$&&(b[rt]=new $),Object.prototype.hasOwnProperty.call(b,rt)?b=b[rt]:b={},++nt}return et()?{}:{obj:b,k:_e(tt[nt])}}function setPath(b,j,$){const{obj:_e,k:et}=getLastOfPath(b,j,Object);if(_e!==void 0||j.length===1){_e[et]=$;return}let tt=j[j.length-1],nt=j.slice(0,j.length-1),rt=getLastOfPath(b,nt,Object);for(;rt.obj===void 0&&nt.length;)tt=`${nt[nt.length-1]}.${tt}`,nt=nt.slice(0,nt.length-1),rt=getLastOfPath(b,nt,Object),rt&&rt.obj&&typeof rt.obj[`${rt.k}.${tt}`]<"u"&&(rt.obj=void 0);rt.obj[`${rt.k}.${tt}`]=$}function pushPath(b,j,$,_e){const{obj:et,k:tt}=getLastOfPath(b,j,Object);et[tt]=et[tt]||[],et[tt].push($)}function getPath(b,j){const{obj:$,k:_e}=getLastOfPath(b,j);if($)return $[_e]}function getPathWithDefaults(b,j,$){const _e=getPath(b,$);return _e!==void 0?_e:getPath(j,$)}function deepExtend(b,j,$){for(const _e in j)_e!=="__proto__"&&_e!=="constructor"&&(_e in b?typeof b[_e]=="string"||b[_e]instanceof String||typeof j[_e]=="string"||j[_e]instanceof String?$&&(b[_e]=j[_e]):deepExtend(b[_e],j[_e],$):b[_e]=j[_e]);return b}function regexEscape(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(b){return typeof b=="string"?b.replace(/[&<>"'\/]/g,j=>_entityMap[j]):b}class RegExpCache{constructor(j){this.capacity=j,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(j){const $=this.regExpMap.get(j);if($!==void 0)return $;const _e=new RegExp(j);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(j,_e),this.regExpQueue.push(j),_e}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20);function looksLikeObjectPath(b,j,$){j=j||"",$=$||"";const _e=chars.filter(nt=>j.indexOf(nt)<0&&$.indexOf(nt)<0);if(_e.length===0)return!0;const et=looksLikeObjectPathRegExpCache.getRegExp(`(${_e.map(nt=>nt==="?"?"\\?":nt).join("|")})`);let tt=!et.test(b);if(!tt){const nt=b.indexOf($);nt>0&&!et.test(b.substring(0,nt))&&(tt=!0)}return tt}function deepFind(b,j){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!b)return;if(b[j])return b[j];const _e=j.split($);let et=b;for(let tt=0;tt<_e.length;){if(!et||typeof et!="object")return;let nt,rt="";for(let st=tt;st<_e.length;++st)if(st!==tt&&(rt+=$),rt+=_e[st],nt=et[rt],nt!==void 0){if(["string","number","boolean"].indexOf(typeof nt)>-1&&st<_e.length-1)continue;tt+=st-tt+1;break}et=nt}return et}function getCleanedCode(b){return b&&b.indexOf("_")>0?b.replace("_","-"):b}class ResourceStore extends EventEmitter{constructor(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=j||{},this.options=$,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(j){this.options.ns.indexOf(j)<0&&this.options.ns.push(j)}removeNamespaces(j){const $=this.options.ns.indexOf(j);$>-1&&this.options.ns.splice($,1)}getResource(j,$,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const tt=et.keySeparator!==void 0?et.keySeparator:this.options.keySeparator,nt=et.ignoreJSONStructure!==void 0?et.ignoreJSONStructure:this.options.ignoreJSONStructure;let rt;j.indexOf(".")>-1?rt=j.split("."):(rt=[j,$],_e&&(Array.isArray(_e)?rt.push(..._e):typeof _e=="string"&&tt?rt.push(..._e.split(tt)):rt.push(_e)));const st=getPath(this.data,rt);return!st&&!$&&!_e&&j.indexOf(".")>-1&&(j=rt[0],$=rt[1],_e=rt.slice(2).join(".")),st||!nt||typeof _e!="string"?st:deepFind(this.data&&this.data[j]&&this.data[j][$],_e,tt)}addResource(j,$,_e,et){let tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const nt=tt.keySeparator!==void 0?tt.keySeparator:this.options.keySeparator;let rt=[j,$];_e&&(rt=rt.concat(nt?_e.split(nt):_e)),j.indexOf(".")>-1&&(rt=j.split("."),et=$,$=rt[1]),this.addNamespaces($),setPath(this.data,rt,et),tt.silent||this.emit("added",j,$,_e,et)}addResources(j,$,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const tt in _e)(typeof _e[tt]=="string"||Array.isArray(_e[tt]))&&this.addResource(j,$,tt,_e[tt],{silent:!0});et.silent||this.emit("added",j,$,_e)}addResourceBundle(j,$,_e,et,tt){let nt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},rt=[j,$];j.indexOf(".")>-1&&(rt=j.split("."),et=_e,_e=$,$=rt[1]),this.addNamespaces($);let st=getPath(this.data,rt)||{};nt.skipCopy||(_e=JSON.parse(JSON.stringify(_e))),et?deepExtend(st,_e,tt):st={...st,..._e},setPath(this.data,rt,st),nt.silent||this.emit("added",j,$,_e)}removeResourceBundle(j,$){this.hasResourceBundle(j,$)&&delete this.data[j][$],this.removeNamespaces($),this.emit("removed",j,$)}hasResourceBundle(j,$){return this.getResource(j,$)!==void 0}getResourceBundle(j,$){return $||($=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(j,$)}:this.getResource(j,$)}getDataByLanguage(j){return this.data[j]}hasLanguageSomeTranslations(j){const $=this.getDataByLanguage(j);return!!($&&Object.keys($)||[]).find(et=>$[et]&&Object.keys($[et]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(b){this.processors[b.name]=b},handle(b,j,$,_e,et){return b.forEach(tt=>{this.processors[tt]&&(j=this.processors[tt].process(j,$,_e,et))}),j}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],j,this),this.options=$,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(j){j&&(this.language=j)}exists(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(j==null)return!1;const _e=this.resolve(j,$);return _e&&_e.res!==void 0}extractFromKey(j,$){let _e=$.nsSeparator!==void 0?$.nsSeparator:this.options.nsSeparator;_e===void 0&&(_e=":");const et=$.keySeparator!==void 0?$.keySeparator:this.options.keySeparator;let tt=$.ns||this.options.defaultNS||[];const nt=_e&&j.indexOf(_e)>-1,rt=!this.options.userDefinedKeySeparator&&!$.keySeparator&&!this.options.userDefinedNsSeparator&&!$.nsSeparator&&!looksLikeObjectPath(j,_e,et);if(nt&&!rt){const st=j.match(this.interpolator.nestingRegexp);if(st&&st.length>0)return{key:j,namespaces:tt};const it=j.split(_e);(_e!==et||_e===et&&this.options.ns.indexOf(it[0])>-1)&&(tt=it.shift()),j=it.join(et)}return typeof tt=="string"&&(tt=[tt]),{key:j,namespaces:tt}}translate(j,$,_e){if(typeof $!="object"&&this.options.overloadTranslationOptionHandler&&($=this.options.overloadTranslationOptionHandler(arguments)),typeof $=="object"&&($={...$}),$||($={}),j==null)return"";Array.isArray(j)||(j=[String(j)]);const et=$.returnDetails!==void 0?$.returnDetails:this.options.returnDetails,tt=$.keySeparator!==void 0?$.keySeparator:this.options.keySeparator,{key:nt,namespaces:rt}=this.extractFromKey(j[j.length-1],$),st=rt[rt.length-1],it=$.lng||this.language,ct=$.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(it&&it.toLowerCase()==="cimode"){if(ct){const St=$.nsSeparator||this.options.nsSeparator;return et?{res:`${st}${St}${nt}`,usedKey:nt,exactUsedKey:nt,usedLng:it,usedNS:st,usedParams:this.getUsedParamsDetails($)}:`${st}${St}${nt}`}return et?{res:nt,usedKey:nt,exactUsedKey:nt,usedLng:it,usedNS:st,usedParams:this.getUsedParamsDetails($)}:nt}const ot=this.resolve(j,$);let at=ot&&ot.res;const ft=ot&&ot.usedKey||nt,dt=ot&&ot.exactUsedKey||nt,mt=Object.prototype.toString.apply(at),xt=["[object Number]","[object Function]","[object RegExp]"],ht=$.joinArrays!==void 0?$.joinArrays:this.options.joinArrays,gt=!this.i18nFormat||this.i18nFormat.handleAsObject;if(gt&&at&&(typeof at!="string"&&typeof at!="boolean"&&typeof at!="number")&&xt.indexOf(mt)<0&&!(typeof ht=="string"&&Array.isArray(at))){if(!$.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const St=this.options.returnedObjectHandler?this.options.returnedObjectHandler(ft,at,{...$,ns:rt}):`key '${nt} (${this.language})' returned an object instead of string.`;return et?(ot.res=St,ot.usedParams=this.getUsedParamsDetails($),ot):St}if(tt){const St=Array.isArray(at),At=St?[]:{},$t=St?dt:ft;for(const wt in at)if(Object.prototype.hasOwnProperty.call(at,wt)){const Pt=`${$t}${tt}${wt}`;At[wt]=this.translate(Pt,{...$,joinArrays:!1,ns:rt}),At[wt]===Pt&&(At[wt]=at[wt])}at=At}}else if(gt&&typeof ht=="string"&&Array.isArray(at))at=at.join(ht),at&&(at=this.extendTranslation(at,j,$,_e));else{let St=!1,At=!1;const $t=$.count!==void 0&&typeof $.count!="string",wt=Translator.hasDefaultValue($),Pt=$t?this.pluralResolver.getSuffix(it,$.count,$):"",bt=$.ordinal&&$t?this.pluralResolver.getSuffix(it,$.count,{ordinal:!1}):"",Bt=$t&&!$.ordinal&&$.count===0&&this.pluralResolver.shouldUseIntlApi(),Yt=Bt&&$[`defaultValue${this.options.pluralSeparator}zero`]||$[`defaultValue${Pt}`]||$[`defaultValue${bt}`]||$.defaultValue;!this.isValidLookup(at)&&wt&&(St=!0,at=Yt),this.isValidLookup(at)||(At=!0,at=nt);const hn=($.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&At?void 0:at,Vt=wt&&Yt!==at&&this.options.updateMissing;if(At||St||Vt){if(this.logger.log(Vt?"updateKey":"missingKey",it,st,nt,Vt?Yt:at),tt){const qt=this.resolve(nt,{...$,keySeparator:!1});qt&&qt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Xt=[];const en=this.languageUtils.getFallbackCodes(this.options.fallbackLng,$.lng||this.language);if(this.options.saveMissingTo==="fallback"&&en&&en[0])for(let qt=0;qt<en.length;qt++)Xt.push(en[qt]);else this.options.saveMissingTo==="all"?Xt=this.languageUtils.toResolveHierarchy($.lng||this.language):Xt.push($.lng||this.language);const cn=(qt,Wt,sn)=>{const Qt=wt&&sn!==at?sn:hn;this.options.missingKeyHandler?this.options.missingKeyHandler(qt,st,Wt,Qt,Vt,$):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(qt,st,Wt,Qt,Vt,$),this.emit("missingKey",qt,st,Wt,at)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$t?Xt.forEach(qt=>{const Wt=this.pluralResolver.getSuffixes(qt,$);Bt&&$[`defaultValue${this.options.pluralSeparator}zero`]&&Wt.indexOf(`${this.options.pluralSeparator}zero`)<0&&Wt.push(`${this.options.pluralSeparator}zero`),Wt.forEach(sn=>{cn([qt],nt+sn,$[`defaultValue${sn}`]||Yt)})}):cn(Xt,nt,Yt))}at=this.extendTranslation(at,j,$,ot,_e),At&&at===nt&&this.options.appendNamespaceToMissingKey&&(at=`${st}:${nt}`),(At||St)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?at=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${st}:${nt}`:nt,St?at:void 0):at=this.options.parseMissingKeyHandler(at))}return et?(ot.res=at,ot.usedParams=this.getUsedParamsDetails($),ot):at}extendTranslation(j,$,_e,et,tt){var nt=this;if(this.i18nFormat&&this.i18nFormat.parse)j=this.i18nFormat.parse(j,{...this.options.interpolation.defaultVariables,..._e},_e.lng||this.language||et.usedLng,et.usedNS,et.usedKey,{resolved:et});else if(!_e.skipInterpolation){_e.interpolation&&this.interpolator.init({..._e,interpolation:{...this.options.interpolation,..._e.interpolation}});const it=typeof j=="string"&&(_e&&_e.interpolation&&_e.interpolation.skipOnVariables!==void 0?_e.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let ct;if(it){const at=j.match(this.interpolator.nestingRegexp);ct=at&&at.length}let ot=_e.replace&&typeof _e.replace!="string"?_e.replace:_e;if(this.options.interpolation.defaultVariables&&(ot={...this.options.interpolation.defaultVariables,...ot}),j=this.interpolator.interpolate(j,ot,_e.lng||this.language,_e),it){const at=j.match(this.interpolator.nestingRegexp),ft=at&&at.length;ct<ft&&(_e.nest=!1)}!_e.lng&&this.options.compatibilityAPI!=="v1"&&et&&et.res&&(_e.lng=et.usedLng),_e.nest!==!1&&(j=this.interpolator.nest(j,function(){for(var at=arguments.length,ft=new Array(at),dt=0;dt<at;dt++)ft[dt]=arguments[dt];return tt&&tt[0]===ft[0]&&!_e.context?(nt.logger.warn(`It seems you are nesting recursively key: ${ft[0]} in key: ${$[0]}`),null):nt.translate(...ft,$)},_e)),_e.interpolation&&this.interpolator.reset()}const rt=_e.postProcess||this.options.postProcess,st=typeof rt=="string"?[rt]:rt;return j!=null&&st&&st.length&&_e.applyPostProcessor!==!1&&(j=postProcessor.handle(st,j,$,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...et,usedParams:this.getUsedParamsDetails(_e)},..._e}:_e,this)),j}resolve(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e,et,tt,nt,rt;return typeof j=="string"&&(j=[j]),j.forEach(st=>{if(this.isValidLookup(_e))return;const it=this.extractFromKey(st,$),ct=it.key;et=ct;let ot=it.namespaces;this.options.fallbackNS&&(ot=ot.concat(this.options.fallbackNS));const at=$.count!==void 0&&typeof $.count!="string",ft=at&&!$.ordinal&&$.count===0&&this.pluralResolver.shouldUseIntlApi(),dt=$.context!==void 0&&(typeof $.context=="string"||typeof $.context=="number")&&$.context!=="",mt=$.lngs?$.lngs:this.languageUtils.toResolveHierarchy($.lng||this.language,$.fallbackLng);ot.forEach(xt=>{this.isValidLookup(_e)||(rt=xt,!checkedLoadedFor[`${mt[0]}-${xt}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(rt)&&(checkedLoadedFor[`${mt[0]}-${xt}`]=!0,this.logger.warn(`key "${et}" for languages "${mt.join(", ")}" won't get resolved as namespace "${rt}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),mt.forEach(ht=>{if(this.isValidLookup(_e))return;nt=ht;const gt=[ct];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(gt,ct,ht,xt,$);else{let St;at&&(St=this.pluralResolver.getSuffix(ht,$.count,$));const At=`${this.options.pluralSeparator}zero`,$t=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(at&&(gt.push(ct+St),$.ordinal&&St.indexOf($t)===0&&gt.push(ct+St.replace($t,this.options.pluralSeparator)),ft&&gt.push(ct+At)),dt){const wt=`${ct}${this.options.contextSeparator}${$.context}`;gt.push(wt),at&&(gt.push(wt+St),$.ordinal&&St.indexOf($t)===0&&gt.push(wt+St.replace($t,this.options.pluralSeparator)),ft&&gt.push(wt+At))}}let Et;for(;Et=gt.pop();)this.isValidLookup(_e)||(tt=Et,_e=this.getResource(ht,xt,Et,$))}))})}),{res:_e,usedKey:et,exactUsedKey:tt,usedLng:nt,usedNS:rt}}isValidLookup(j){return j!==void 0&&!(!this.options.returnNull&&j===null)&&!(!this.options.returnEmptyString&&j==="")}getResource(j,$,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(j,$,_e,et):this.resourceStore.getResource(j,$,_e,et)}getUsedParamsDetails(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const $=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],_e=j.replace&&typeof j.replace!="string";let et=_e?j.replace:j;if(_e&&typeof j.count<"u"&&(et.count=j.count),this.options.interpolation.defaultVariables&&(et={...this.options.interpolation.defaultVariables,...et}),!_e){et={...et};for(const tt of $)delete et[tt]}return et}static hasDefaultValue(j){const $="defaultValue";for(const _e in j)if(Object.prototype.hasOwnProperty.call(j,_e)&&$===_e.substring(0,$.length)&&j[_e]!==void 0)return!0;return!1}}function capitalize(b){return b.charAt(0).toUpperCase()+b.slice(1)}class LanguageUtil{constructor(j){this.options=j,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(j){if(j=getCleanedCode(j),!j||j.indexOf("-")<0)return null;const $=j.split("-");return $.length===2||($.pop(),$[$.length-1].toLowerCase()==="x")?null:this.formatLanguageCode($.join("-"))}getLanguagePartFromCode(j){if(j=getCleanedCode(j),!j||j.indexOf("-")<0)return j;const $=j.split("-");return this.formatLanguageCode($[0])}formatLanguageCode(j){if(typeof j=="string"&&j.indexOf("-")>-1){const $=["hans","hant","latn","cyrl","cans","mong","arab"];let _e=j.split("-");return this.options.lowerCaseLng?_e=_e.map(et=>et.toLowerCase()):_e.length===2?(_e[0]=_e[0].toLowerCase(),_e[1]=_e[1].toUpperCase(),$.indexOf(_e[1].toLowerCase())>-1&&(_e[1]=capitalize(_e[1].toLowerCase()))):_e.length===3&&(_e[0]=_e[0].toLowerCase(),_e[1].length===2&&(_e[1]=_e[1].toUpperCase()),_e[0]!=="sgn"&&_e[2].length===2&&(_e[2]=_e[2].toUpperCase()),$.indexOf(_e[1].toLowerCase())>-1&&(_e[1]=capitalize(_e[1].toLowerCase())),$.indexOf(_e[2].toLowerCase())>-1&&(_e[2]=capitalize(_e[2].toLowerCase()))),_e.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?j.toLowerCase():j}isSupportedCode(j){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(j=this.getLanguagePartFromCode(j)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(j)>-1}getBestMatchFromCodes(j){if(!j)return null;let $;return j.forEach(_e=>{if($)return;const et=this.formatLanguageCode(_e);(!this.options.supportedLngs||this.isSupportedCode(et))&&($=et)}),!$&&this.options.supportedLngs&&j.forEach(_e=>{if($)return;const et=this.getLanguagePartFromCode(_e);if(this.isSupportedCode(et))return $=et;$=this.options.supportedLngs.find(tt=>{if(tt===et)return tt;if(!(tt.indexOf("-")<0&&et.indexOf("-")<0)&&(tt.indexOf("-")>0&&et.indexOf("-")<0&&tt.substring(0,tt.indexOf("-"))===et||tt.indexOf(et)===0&&et.length>1))return tt})}),$||($=this.getFallbackCodes(this.options.fallbackLng)[0]),$}getFallbackCodes(j,$){if(!j)return[];if(typeof j=="function"&&(j=j($)),typeof j=="string"&&(j=[j]),Array.isArray(j))return j;if(!$)return j.default||[];let _e=j[$];return _e||(_e=j[this.getScriptPartFromCode($)]),_e||(_e=j[this.formatLanguageCode($)]),_e||(_e=j[this.getLanguagePartFromCode($)]),_e||(_e=j.default),_e||[]}toResolveHierarchy(j,$){const _e=this.getFallbackCodes($||this.options.fallbackLng||[],j),et=[],tt=nt=>{nt&&(this.isSupportedCode(nt)?et.push(nt):this.logger.warn(`rejecting language code not found in supportedLngs: ${nt}`))};return typeof j=="string"&&(j.indexOf("-")>-1||j.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&tt(this.formatLanguageCode(j)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&tt(this.getScriptPartFromCode(j)),this.options.load!=="currentOnly"&&tt(this.getLanguagePartFromCode(j))):typeof j=="string"&&tt(this.formatLanguageCode(j)),_e.forEach(nt=>{et.indexOf(nt)<0&&tt(this.formatLanguageCode(nt))}),et}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(b){return+(b>1)},2:function(b){return+(b!=1)},3:function(b){return 0},4:function(b){return b%10==1&&b%100!=11?0:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?1:2},5:function(b){return b==0?0:b==1?1:b==2?2:b%100>=3&&b%100<=10?3:b%100>=11?4:5},6:function(b){return b==1?0:b>=2&&b<=4?1:2},7:function(b){return b==1?0:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?1:2},8:function(b){return b==1?0:b==2?1:b!=8&&b!=11?2:3},9:function(b){return+(b>=2)},10:function(b){return b==1?0:b==2?1:b<7?2:b<11?3:4},11:function(b){return b==1||b==11?0:b==2||b==12?1:b>2&&b<20?2:3},12:function(b){return+(b%10!=1||b%100==11)},13:function(b){return+(b!==0)},14:function(b){return b==1?0:b==2?1:b==3?2:3},15:function(b){return b%10==1&&b%100!=11?0:b%10>=2&&(b%100<10||b%100>=20)?1:2},16:function(b){return b%10==1&&b%100!=11?0:b!==0?1:2},17:function(b){return b==1||b%10==1&&b%100!=11?0:1},18:function(b){return b==0?0:b==1?1:2},19:function(b){return b==1?0:b==0||b%100>1&&b%100<11?1:b%100>10&&b%100<20?2:3},20:function(b){return b==1?0:b==0||b%100>0&&b%100<20?1:2},21:function(b){return b%100==1?1:b%100==2?2:b%100==3||b%100==4?3:0},22:function(b){return b==1?0:b==2?1:(b<0||b>10)&&b%10==0?2:3}};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){const b={};return sets.forEach(j=>{j.lngs.forEach($=>{b[$]={numbers:j.nr,plurals:_rulesPluralsTypes[j.fc]}})}),b}class PluralResolver{constructor(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=j,this.options=$,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}addRule(j,$){this.rules[j]=$}getRule(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode(j==="dev"?"en":j),{type:$.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[j]||this.rules[this.languageUtils.getLanguagePartFromCode(j)]}needsPlural(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _e=this.getRule(j,$);return this.shouldUseIntlApi()?_e&&_e.resolvedOptions().pluralCategories.length>1:_e&&_e.numbers.length>1}getPluralFormsOfKey(j,$){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(j,_e).map(et=>`${$}${et}`)}getSuffixes(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _e=this.getRule(j,$);return _e?this.shouldUseIntlApi()?_e.resolvedOptions().pluralCategories.sort((et,tt)=>suffixesOrder[et]-suffixesOrder[tt]).map(et=>`${this.options.prepend}${$.ordinal?`ordinal${this.options.prepend}`:""}${et}`):_e.numbers.map(et=>this.getSuffix(j,et,$)):[]}getSuffix(j,$){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const et=this.getRule(j,_e);return et?this.shouldUseIntlApi()?`${this.options.prepend}${_e.ordinal?`ordinal${this.options.prepend}`:""}${et.select($)}`:this.getSuffixRetroCompatible(et,$):(this.logger.warn(`no plural rule found for: ${j}`),"")}getSuffixRetroCompatible(j,$){const _e=j.noAbs?j.plurals($):j.plurals(Math.abs($));let et=j.numbers[_e];this.options.simplifyPluralSuffix&&j.numbers.length===2&&j.numbers[0]===1&&(et===2?et="plural":et===1&&(et=""));const tt=()=>this.options.prepend&&et.toString()?this.options.prepend+et.toString():et.toString();return this.options.compatibilityJSON==="v1"?et===1?"":typeof et=="number"?`_plural_${et.toString()}`:tt():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&j.numbers.length===2&&j.numbers[0]===1?tt():this.options.prepend&&_e.toString()?this.options.prepend+_e.toString():_e.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}function deepFindWithDefaults(b,j,$){let _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,tt=getPathWithDefaults(b,j,$);return!tt&&et&&typeof $=="string"&&(tt=deepFind(b,$,_e),tt===void 0&&(tt=deepFind(j,$,_e))),tt}class Interpolator{constructor(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=j,this.format=j.interpolation&&j.interpolation.format||($=>$),this.init(j)}init(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j.interpolation||(j.interpolation={escapeValue:!0});const{escape:$,escapeValue:_e,useRawValueToEscape:et,prefix:tt,prefixEscaped:nt,suffix:rt,suffixEscaped:st,formatSeparator:it,unescapeSuffix:ct,unescapePrefix:ot,nestingPrefix:at,nestingPrefixEscaped:ft,nestingSuffix:dt,nestingSuffixEscaped:mt,nestingOptionsSeparator:xt,maxReplaces:ht,alwaysFormat:gt}=j.interpolation;this.escape=$!==void 0?$:escape,this.escapeValue=_e!==void 0?_e:!0,this.useRawValueToEscape=et!==void 0?et:!1,this.prefix=tt?regexEscape(tt):nt||"{{",this.suffix=rt?regexEscape(rt):st||"}}",this.formatSeparator=it||",",this.unescapePrefix=ct?"":ot||"-",this.unescapeSuffix=this.unescapePrefix?"":ct||"",this.nestingPrefix=at?regexEscape(at):ft||regexEscape("$t("),this.nestingSuffix=dt?regexEscape(dt):mt||regexEscape(")"),this.nestingOptionsSeparator=xt||",",this.maxReplaces=ht||1e3,this.alwaysFormat=gt!==void 0?gt:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const j=($,_e)=>$&&$.source===_e?($.lastIndex=0,$):new RegExp(_e,"g");this.regexp=j(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=j(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=j(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(j,$,_e,et){let tt,nt,rt;const st=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function it(dt){return dt.replace(/\$/g,"$$$$")}const ct=dt=>{if(dt.indexOf(this.formatSeparator)<0){const gt=deepFindWithDefaults($,st,dt,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(gt,void 0,_e,{...et,...$,interpolationkey:dt}):gt}const mt=dt.split(this.formatSeparator),xt=mt.shift().trim(),ht=mt.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults($,st,xt,this.options.keySeparator,this.options.ignoreJSONStructure),ht,_e,{...et,...$,interpolationkey:xt})};this.resetRegExp();const ot=et&&et.missingInterpolationHandler||this.options.missingInterpolationHandler,at=et&&et.interpolation&&et.interpolation.skipOnVariables!==void 0?et.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:dt=>it(dt)},{regex:this.regexp,safeValue:dt=>this.escapeValue?it(this.escape(dt)):it(dt)}].forEach(dt=>{for(rt=0;tt=dt.regex.exec(j);){const mt=tt[1].trim();if(nt=ct(mt),nt===void 0)if(typeof ot=="function"){const ht=ot(j,tt,et);nt=typeof ht=="string"?ht:""}else if(et&&Object.prototype.hasOwnProperty.call(et,mt))nt="";else if(at){nt=tt[0];continue}else this.logger.warn(`missed to pass in variable ${mt} for interpolating ${j}`),nt="";else typeof nt!="string"&&!this.useRawValueToEscape&&(nt=makeString(nt));const xt=dt.safeValue(nt);if(j=j.replace(tt[0],xt),at?(dt.regex.lastIndex+=nt.length,dt.regex.lastIndex-=tt[0].length):dt.regex.lastIndex=0,rt++,rt>=this.maxReplaces)break}}),j}nest(j,$){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},et,tt,nt;function rt(st,it){const ct=this.nestingOptionsSeparator;if(st.indexOf(ct)<0)return st;const ot=st.split(new RegExp(`${ct}[ ]*{`));let at=`{${ot[1]}`;st=ot[0],at=this.interpolate(at,nt);const ft=at.match(/'/g),dt=at.match(/"/g);(ft&&ft.length%2===0&&!dt||dt.length%2!==0)&&(at=at.replace(/'/g,'"'));try{nt=JSON.parse(at),it&&(nt={...it,...nt})}catch(mt){return this.logger.warn(`failed parsing options string in nesting for key ${st}`,mt),`${st}${ct}${at}`}return nt.defaultValue&&nt.defaultValue.indexOf(this.prefix)>-1&&delete nt.defaultValue,st}for(;et=this.nestingRegexp.exec(j);){let st=[];nt={..._e},nt=nt.replace&&typeof nt.replace!="string"?nt.replace:nt,nt.applyPostProcessor=!1,delete nt.defaultValue;let it=!1;if(et[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(et[1])){const ct=et[1].split(this.formatSeparator).map(ot=>ot.trim());et[1]=ct.shift(),st=ct,it=!0}if(tt=$(rt.call(this,et[1].trim(),nt),nt),tt&&et[0]===j&&typeof tt!="string")return tt;typeof tt!="string"&&(tt=makeString(tt)),tt||(this.logger.warn(`missed to resolve ${et[1]} for nesting ${j}`),tt=""),it&&(tt=st.reduce((ct,ot)=>this.format(ct,ot,_e.lng,{..._e,interpolationkey:et[1].trim()}),tt.trim())),j=j.replace(et[0],tt),this.regexp.lastIndex=0}return j}}function parseFormatStr(b){let j=b.toLowerCase().trim();const $={};if(b.indexOf("(")>-1){const _e=b.split("(");j=_e[0].toLowerCase().trim();const et=_e[1].substring(0,_e[1].length-1);j==="currency"&&et.indexOf(":")<0?$.currency||($.currency=et.trim()):j==="relativetime"&&et.indexOf(":")<0?$.range||($.range=et.trim()):et.split(";").forEach(nt=>{if(nt){const[rt,...st]=nt.split(":"),it=st.join(":").trim().replace(/^'+|'+$/g,""),ct=rt.trim();$[ct]||($[ct]=it),it==="false"&&($[ct]=!1),it==="true"&&($[ct]=!0),isNaN(it)||($[ct]=parseInt(it,10))}})}return{formatName:j,formatOptions:$}}function createCachedFormatter(b){const j={};return function(_e,et,tt){const nt=et+JSON.stringify(tt);let rt=j[nt];return rt||(rt=b(getCleanedCode(et),tt),j[nt]=rt),rt(_e)}}class Formatter{constructor(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=j,this.formats={number:createCachedFormatter(($,_e)=>{const et=new Intl.NumberFormat($,{..._e});return tt=>et.format(tt)}),currency:createCachedFormatter(($,_e)=>{const et=new Intl.NumberFormat($,{..._e,style:"currency"});return tt=>et.format(tt)}),datetime:createCachedFormatter(($,_e)=>{const et=new Intl.DateTimeFormat($,{..._e});return tt=>et.format(tt)}),relativetime:createCachedFormatter(($,_e)=>{const et=new Intl.RelativeTimeFormat($,{..._e});return tt=>et.format(tt,_e.range||"day")}),list:createCachedFormatter(($,_e)=>{const et=new Intl.ListFormat($,{..._e});return tt=>et.format(tt)})},this.init(j)}init(j){const _e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=_e.formatSeparator?_e.formatSeparator:_e.formatSeparator||","}add(j,$){this.formats[j.toLowerCase().trim()]=$}addCached(j,$){this.formats[j.toLowerCase().trim()]=createCachedFormatter($)}format(j,$,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return $.split(this.formatSeparator).reduce((rt,st)=>{const{formatName:it,formatOptions:ct}=parseFormatStr(st);if(this.formats[it]){let ot=rt;try{const at=et&&et.formatParams&&et.formatParams[et.interpolationkey]||{},ft=at.locale||at.lng||et.locale||et.lng||_e;ot=this.formats[it](rt,ft,{...ct,...et,...at})}catch(at){this.logger.warn(at)}return ot}else this.logger.warn(`there was no format function for ${it}`);return rt},j)}}function removePending(b,j){b.pending[j]!==void 0&&(delete b.pending[j],b.pendingCount--)}class Connector extends EventEmitter{constructor(j,$,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=j,this.store=$,this.services=_e,this.languageUtils=_e.languageUtils,this.options=et,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=et.maxParallelReads||10,this.readingCalls=0,this.maxRetries=et.maxRetries>=0?et.maxRetries:5,this.retryTimeout=et.retryTimeout>=1?et.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(_e,et.backend,et)}queueLoad(j,$,_e,et){const tt={},nt={},rt={},st={};return j.forEach(it=>{let ct=!0;$.forEach(ot=>{const at=`${it}|${ot}`;!_e.reload&&this.store.hasResourceBundle(it,ot)?this.state[at]=2:this.state[at]<0||(this.state[at]===1?nt[at]===void 0&&(nt[at]=!0):(this.state[at]=1,ct=!1,nt[at]===void 0&&(nt[at]=!0),tt[at]===void 0&&(tt[at]=!0),st[ot]===void 0&&(st[ot]=!0)))}),ct||(rt[it]=!0)}),(Object.keys(tt).length||Object.keys(nt).length)&&this.queue.push({pending:nt,pendingCount:Object.keys(nt).length,loaded:{},errors:[],callback:et}),{toLoad:Object.keys(tt),pending:Object.keys(nt),toLoadLanguages:Object.keys(rt),toLoadNamespaces:Object.keys(st)}}loaded(j,$,_e){const et=j.split("|"),tt=et[0],nt=et[1];$&&this.emit("failedLoading",tt,nt,$),_e&&this.store.addResourceBundle(tt,nt,_e,void 0,void 0,{skipCopy:!0}),this.state[j]=$?-1:2;const rt={};this.queue.forEach(st=>{pushPath(st.loaded,[tt],nt),removePending(st,j),$&&st.errors.push($),st.pendingCount===0&&!st.done&&(Object.keys(st.loaded).forEach(it=>{rt[it]||(rt[it]={});const ct=st.loaded[it];ct.length&&ct.forEach(ot=>{rt[it][ot]===void 0&&(rt[it][ot]=!0)})}),st.done=!0,st.errors.length?st.callback(st.errors):st.callback())}),this.emit("loaded",rt),this.queue=this.queue.filter(st=>!st.done)}read(j,$,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,nt=arguments.length>5?arguments[5]:void 0;if(!j.length)return nt(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:j,ns:$,fcName:_e,tried:et,wait:tt,callback:nt});return}this.readingCalls++;const rt=(it,ct)=>{if(this.readingCalls--,this.waitingReads.length>0){const ot=this.waitingReads.shift();this.read(ot.lng,ot.ns,ot.fcName,ot.tried,ot.wait,ot.callback)}if(it&&ct&&et<this.maxRetries){setTimeout(()=>{this.read.call(this,j,$,_e,et+1,tt*2,nt)},tt);return}nt(it,ct)},st=this.backend[_e].bind(this.backend);if(st.length===2){try{const it=st(j,$);it&&typeof it.then=="function"?it.then(ct=>rt(null,ct)).catch(rt):rt(null,it)}catch(it){rt(it)}return}return st(j,$,rt)}prepareLoading(j,$){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},et=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),et&&et();typeof j=="string"&&(j=this.languageUtils.toResolveHierarchy(j)),typeof $=="string"&&($=[$]);const tt=this.queueLoad(j,$,_e,et);if(!tt.toLoad.length)return tt.pending.length||et(),null;tt.toLoad.forEach(nt=>{this.loadOne(nt)})}load(j,$,_e){this.prepareLoading(j,$,{},_e)}reload(j,$,_e){this.prepareLoading(j,$,{reload:!0},_e)}loadOne(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const _e=j.split("|"),et=_e[0],tt=_e[1];this.read(et,tt,"read",void 0,void 0,(nt,rt)=>{nt&&this.logger.warn(`${$}loading namespace ${tt} for language ${et} failed`,nt),!nt&&rt&&this.logger.log(`${$}loaded namespace ${tt} for language ${et}`,rt),this.loaded(j,nt,rt)})}saveMissing(j,$,_e,et,tt){let nt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},rt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace($)){this.logger.warn(`did not save key "${_e}" as the namespace "${$}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(_e==null||_e==="")){if(this.backend&&this.backend.create){const st={...nt,isUpdate:tt},it=this.backend.create.bind(this.backend);if(it.length<6)try{let ct;it.length===5?ct=it(j,$,_e,et,st):ct=it(j,$,_e,et),ct&&typeof ct.then=="function"?ct.then(ot=>rt(null,ot)).catch(rt):rt(null,ct)}catch(ct){rt(ct)}else it(j,$,_e,et,rt,st)}!j||!j[0]||this.store.addResource(j[0],$,_e,et)}}}function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(j){let $={};if(typeof j[1]=="object"&&($=j[1]),typeof j[1]=="string"&&($.defaultValue=j[1]),typeof j[2]=="string"&&($.tDescription=j[2]),typeof j[2]=="object"||typeof j[3]=="object"){const _e=j[3]||j[2];Object.keys(_e).forEach(et=>{$[et]=_e[et]})}return $},interpolation:{escapeValue:!0,format:b=>b,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(b){return typeof b.ns=="string"&&(b.ns=[b.ns]),typeof b.fallbackLng=="string"&&(b.fallbackLng=[b.fallbackLng]),typeof b.fallbackNS=="string"&&(b.fallbackNS=[b.fallbackNS]),b.supportedLngs&&b.supportedLngs.indexOf("cimode")<0&&(b.supportedLngs=b.supportedLngs.concat(["cimode"])),b}function noop$2(){}function bindMemberFunctions(b){Object.getOwnPropertyNames(Object.getPrototypeOf(b)).forEach($=>{typeof b[$]=="function"&&(b[$]=b[$].bind(b))})}class I18n extends EventEmitter{constructor(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(j),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),$&&!this.isInitialized&&!j.isClone){if(!this.options.initImmediate)return this.init(j,$),this;setTimeout(()=>{this.init(j,$)},0)}}init(){var j=this;let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof $=="function"&&(_e=$,$={}),!$.defaultNS&&$.defaultNS!==!1&&$.ns&&(typeof $.ns=="string"?$.defaultNS=$.ns:$.ns.indexOf("translation")<0&&($.defaultNS=$.ns[0]));const et=get();this.options={...et,...this.options,...transformOptions($)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...et.interpolation,...this.options.interpolation}),$.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=$.keySeparator),$.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=$.nsSeparator);function tt(ct){return ct?typeof ct=="function"?new ct:ct:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(tt(this.modules.logger),this.options):baseLogger.init(null,this.options);let ct;this.modules.formatter?ct=this.modules.formatter:typeof Intl<"u"&&(ct=Formatter);const ot=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const at=this.services;at.logger=baseLogger,at.resourceStore=this.store,at.languageUtils=ot,at.pluralResolver=new PluralResolver(ot,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ct&&(!this.options.interpolation.format||this.options.interpolation.format===et.interpolation.format)&&(at.formatter=tt(ct),at.formatter.init(at,this.options),this.options.interpolation.format=at.formatter.format.bind(at.formatter)),at.interpolator=new Interpolator(this.options),at.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},at.backendConnector=new Connector(tt(this.modules.backend),at.resourceStore,at,this.options),at.backendConnector.on("*",function(ft){for(var dt=arguments.length,mt=new Array(dt>1?dt-1:0),xt=1;xt<dt;xt++)mt[xt-1]=arguments[xt];j.emit(ft,...mt)}),this.modules.languageDetector&&(at.languageDetector=tt(this.modules.languageDetector),at.languageDetector.init&&at.languageDetector.init(at,this.options.detection,this.options)),this.modules.i18nFormat&&(at.i18nFormat=tt(this.modules.i18nFormat),at.i18nFormat.init&&at.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(ft){for(var dt=arguments.length,mt=new Array(dt>1?dt-1:0),xt=1;xt<dt;xt++)mt[xt-1]=arguments[xt];j.emit(ft,...mt)}),this.modules.external.forEach(ft=>{ft.init&&ft.init(this)})}if(this.format=this.options.interpolation.format,_e||(_e=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const ct=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ct.length>0&&ct[0]!=="dev"&&(this.options.lng=ct[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(ct=>{this[ct]=function(){return j.store[ct](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(ct=>{this[ct]=function(){return j.store[ct](...arguments),j}});const st=defer(),it=()=>{const ct=(ot,at)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),st.resolve(at),_e(ot,at)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return ct(null,this.t.bind(this));this.changeLanguage(this.options.lng,ct)};return this.options.resources||!this.options.initImmediate?it():setTimeout(it,0),st}loadResources(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const et=typeof j=="string"?j:this.language;if(typeof j=="function"&&(_e=j),!this.options.resources||this.options.partialBundledLanguages){if(et&&et.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return _e();const tt=[],nt=rt=>{if(!rt||rt==="cimode")return;this.services.languageUtils.toResolveHierarchy(rt).forEach(it=>{it!=="cimode"&&tt.indexOf(it)<0&&tt.push(it)})};et?nt(et):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(st=>nt(st)),this.options.preload&&this.options.preload.forEach(rt=>nt(rt)),this.services.backendConnector.load(tt,this.options.ns,rt=>{!rt&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),_e(rt)})}else _e(null)}reloadResources(j,$,_e){const et=defer();return j||(j=this.languages),$||($=this.options.ns),_e||(_e=noop$2),this.services.backendConnector.reload(j,$,tt=>{et.resolve(),_e(tt)}),et}use(j){if(!j)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!j.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return j.type==="backend"&&(this.modules.backend=j),(j.type==="logger"||j.log&&j.warn&&j.error)&&(this.modules.logger=j),j.type==="languageDetector"&&(this.modules.languageDetector=j),j.type==="i18nFormat"&&(this.modules.i18nFormat=j),j.type==="postProcessor"&&postProcessor.addPostProcessor(j),j.type==="formatter"&&(this.modules.formatter=j),j.type==="3rdParty"&&this.modules.external.push(j),this}setResolvedLanguage(j){if(!(!j||!this.languages)&&!(["cimode","dev"].indexOf(j)>-1))for(let $=0;$<this.languages.length;$++){const _e=this.languages[$];if(!(["cimode","dev"].indexOf(_e)>-1)&&this.store.hasLanguageSomeTranslations(_e)){this.resolvedLanguage=_e;break}}}changeLanguage(j,$){var _e=this;this.isLanguageChangingTo=j;const et=defer();this.emit("languageChanging",j);const tt=st=>{this.language=st,this.languages=this.services.languageUtils.toResolveHierarchy(st),this.resolvedLanguage=void 0,this.setResolvedLanguage(st)},nt=(st,it)=>{it?(tt(it),this.translator.changeLanguage(it),this.isLanguageChangingTo=void 0,this.emit("languageChanged",it),this.logger.log("languageChanged",it)):this.isLanguageChangingTo=void 0,et.resolve(function(){return _e.t(...arguments)}),$&&$(st,function(){return _e.t(...arguments)})},rt=st=>{!j&&!st&&this.services.languageDetector&&(st=[]);const it=typeof st=="string"?st:this.services.languageUtils.getBestMatchFromCodes(st);it&&(this.language||tt(it),this.translator.language||this.translator.changeLanguage(it),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(it)),this.loadResources(it,ct=>{nt(ct,it)})};return!j&&this.services.languageDetector&&!this.services.languageDetector.async?rt(this.services.languageDetector.detect()):!j&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(rt):this.services.languageDetector.detect(rt):rt(j),et}getFixedT(j,$,_e){var et=this;const tt=function(nt,rt){let st;if(typeof rt!="object"){for(var it=arguments.length,ct=new Array(it>2?it-2:0),ot=2;ot<it;ot++)ct[ot-2]=arguments[ot];st=et.options.overloadTranslationOptionHandler([nt,rt].concat(ct))}else st={...rt};st.lng=st.lng||tt.lng,st.lngs=st.lngs||tt.lngs,st.ns=st.ns||tt.ns,st.keyPrefix!==""&&(st.keyPrefix=st.keyPrefix||_e||tt.keyPrefix);const at=et.options.keySeparator||".";let ft;return st.keyPrefix&&Array.isArray(nt)?ft=nt.map(dt=>`${st.keyPrefix}${at}${dt}`):ft=st.keyPrefix?`${st.keyPrefix}${at}${nt}`:nt,et.t(ft,st)};return typeof j=="string"?tt.lng=j:tt.lngs=j,tt.ns=$,tt.keyPrefix=_e,tt}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(j){this.options.defaultNS=j}hasLoadedNamespace(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const _e=$.lng||this.resolvedLanguage||this.languages[0],et=this.options?this.options.fallbackLng:!1,tt=this.languages[this.languages.length-1];if(_e.toLowerCase()==="cimode")return!0;const nt=(rt,st)=>{const it=this.services.backendConnector.state[`${rt}|${st}`];return it===-1||it===2};if($.precheck){const rt=$.precheck(this,nt);if(rt!==void 0)return rt}return!!(this.hasResourceBundle(_e,j)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||nt(_e,j)&&(!et||nt(tt,j)))}loadNamespaces(j,$){const _e=defer();return this.options.ns?(typeof j=="string"&&(j=[j]),j.forEach(et=>{this.options.ns.indexOf(et)<0&&this.options.ns.push(et)}),this.loadResources(et=>{_e.resolve(),$&&$(et)}),_e):($&&$(),Promise.resolve())}loadLanguages(j,$){const _e=defer();typeof j=="string"&&(j=[j]);const et=this.options.preload||[],tt=j.filter(nt=>et.indexOf(nt)<0&&this.services.languageUtils.isSupportedCode(nt));return tt.length?(this.options.preload=et.concat(tt),this.loadResources(nt=>{_e.resolve(),$&&$(nt)}),_e):($&&$(),Promise.resolve())}dir(j){if(j||(j=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!j)return"rtl";const $=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],_e=this.services&&this.services.languageUtils||new LanguageUtil(get());return $.indexOf(_e.getLanguagePartFromCode(j))>-1||j.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1?arguments[1]:void 0;return new I18n(j,$)}cloneInstance(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const _e=j.forkResourceStore;_e&&delete j.forkResourceStore;const et={...this.options,...j,isClone:!0},tt=new I18n(et);return(j.debug!==void 0||j.prefix!==void 0)&&(tt.logger=tt.logger.clone(j)),["store","services","language"].forEach(rt=>{tt[rt]=this[rt]}),tt.services={...this.services},tt.services.utils={hasLoadedNamespace:tt.hasLoadedNamespace.bind(tt)},_e&&(tt.store=new ResourceStore(this.store.data,et),tt.services.resourceStore=tt.store),tt.translator=new Translator(tt.services,et),tt.translator.on("*",function(rt){for(var st=arguments.length,it=new Array(st>1?st-1:0),ct=1;ct<st;ct++)it[ct-1]=arguments[ct];tt.emit(rt,...it)}),tt.init(et,$),tt.translator.options=et,tt.translator.backendConnector.services.utils={hasLoadedNamespace:tt.hasLoadedNamespace.bind(tt)},tt}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;function warn(){if(console&&console.warn){for(var b=arguments.length,j=new Array(b),$=0;$<b;$++)j[$]=arguments[$];typeof j[0]=="string"&&(j[0]=`react-i18next:: ${j[0]}`),console.warn(...j)}}const alreadyWarned={};function warnOnce(){for(var b=arguments.length,j=new Array(b),$=0;$<b;$++)j[$]=arguments[$];typeof j[0]=="string"&&alreadyWarned[j[0]]||(typeof j[0]=="string"&&(alreadyWarned[j[0]]=new Date),warn(...j))}const loadedClb=(b,j)=>()=>{if(b.isInitialized)j();else{const $=()=>{setTimeout(()=>{b.off("initialized",$)},0),j()};b.on("initialized",$)}};function loadNamespaces(b,j,$){b.loadNamespaces(j,loadedClb(b,$))}function loadLanguages(b,j,$,_e){typeof $=="string"&&($=[$]),$.forEach(et=>{b.options.ns.indexOf(et)<0&&b.options.ns.push(et)}),b.loadLanguages(j,loadedClb(b,_e))}function oldI18nextHasLoadedNamespace(b,j){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _e=j.languages[0],et=j.options?j.options.fallbackLng:!1,tt=j.languages[j.languages.length-1];if(_e.toLowerCase()==="cimode")return!0;const nt=(rt,st)=>{const it=j.services.backendConnector.state[`${rt}|${st}`];return it===-1||it===2};return $.bindI18n&&$.bindI18n.indexOf("languageChanging")>-1&&j.services.backendConnector.backend&&j.isLanguageChangingTo&&!nt(j.isLanguageChangingTo,b)?!1:!!(j.hasResourceBundle(_e,b)||!j.services.backendConnector.backend||j.options.resources&&!j.options.partialBundledLanguages||nt(_e,b)&&(!et||nt(tt,b)))}function hasLoadedNamespace(b,j){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!j.languages||!j.languages.length?(warnOnce("i18n.languages were undefined or empty",j.languages),!0):j.options.ignoreJSONStructure!==void 0?j.hasLoadedNamespace(b,{lng:$.lng,precheck:(et,tt)=>{if($.bindI18n&&$.bindI18n.indexOf("languageChanging")>-1&&et.services.backendConnector.backend&&et.isLanguageChangingTo&&!tt(et.isLanguageChangingTo,b))return!1}}):oldI18nextHasLoadedNamespace(b,j,$)}const matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=b=>htmlEntities[b],unescape=b=>b.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};function setDefaults(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions={...defaultOptions,...b}}function getDefaults$2(){return defaultOptions}let i18nInstance;function setI18n(b){i18nInstance=b}function getI18n(){return i18nInstance}const initReactI18next={type:"3rdParty",init(b){setDefaults(b.options.react),setI18n(b)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(j){j.forEach($=>{this.usedNamespaces[$]||(this.usedNamespaces[$]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious$2=(b,j)=>{const $=reactExports.useRef();return reactExports.useEffect(()=>{$.current=b},[b,j]),$.current};function alwaysNewT(b,j,$,_e){return b.getFixedT(j,$,_e)}function useMemoizedT(b,j,$,_e){return reactExports.useCallback(alwaysNewT(b,j,$,_e),[b,j,$,_e])}function useTranslation(b){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:$}=j,{i18n:_e,defaultNS:et}=reactExports.useContext(I18nContext)||{},tt=$||_e||getI18n();if(tt&&!tt.reportNamespaces&&(tt.reportNamespaces=new ReportNamespaces),!tt){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const St=($t,wt)=>typeof wt=="string"?wt:wt&&typeof wt=="object"&&typeof wt.defaultValue=="string"?wt.defaultValue:Array.isArray($t)?$t[$t.length-1]:$t,At=[St,{},!1];return At.t=St,At.i18n={},At.ready=!1,At}tt.options.react&&tt.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const nt={...getDefaults$2(),...tt.options.react,...j},{useSuspense:rt,keyPrefix:st}=nt;let it=et||tt.options&&tt.options.defaultNS;it=typeof it=="string"?[it]:it||["translation"],tt.reportNamespaces.addUsedNamespaces&&tt.reportNamespaces.addUsedNamespaces(it);const ct=(tt.isInitialized||tt.initializedStoreOnce)&&it.every(St=>hasLoadedNamespace(St,tt,nt)),ot=useMemoizedT(tt,j.lng||null,nt.nsMode==="fallback"?it:it[0],st),at=()=>ot,ft=()=>alwaysNewT(tt,j.lng||null,nt.nsMode==="fallback"?it:it[0],st),[dt,mt]=reactExports.useState(at);let xt=it.join();j.lng&&(xt=`${j.lng}${xt}`);const ht=usePrevious$2(xt),gt=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:St,bindI18nStore:At}=nt;gt.current=!0,!ct&&!rt&&(j.lng?loadLanguages(tt,j.lng,it,()=>{gt.current&&mt(ft)}):loadNamespaces(tt,it,()=>{gt.current&&mt(ft)})),ct&&ht&&ht!==xt&&gt.current&&mt(ft);function $t(){gt.current&&mt(ft)}return St&&tt&&tt.on(St,$t),At&&tt&&tt.store.on(At,$t),()=>{gt.current=!1,St&&tt&&St.split(" ").forEach(wt=>tt.off(wt,$t)),At&&tt&&At.split(" ").forEach(wt=>tt.store.off(wt,$t))}},[tt,xt]),reactExports.useEffect(()=>{gt.current&&ct&&mt(at)},[tt,st,ct]);const Et=[dt,tt,ct];if(Et.t=dt,Et.i18n=tt,Et.ready=ct,ct||!ct&&!rt)return Et;throw new Promise(St=>{j.lng?loadLanguages(tt,j.lng,it,()=>St()):loadNamespaces(tt,it,()=>St())})}function _classCallCheck(b,j){if(!(b instanceof j))throw new TypeError("Cannot call a class as a function")}function _typeof(b){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof(b)}function toPrimitive(b,j){if(_typeof(b)!="object"||!b)return b;var $=b[Symbol.toPrimitive];if($!==void 0){var _e=$.call(b,j);if(_typeof(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}function toPropertyKey(b){var j=toPrimitive(b,"string");return _typeof(j)=="symbol"?j:String(j)}function _defineProperties(b,j){for(var $=0;$<j.length;$++){var _e=j[$];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(b,toPropertyKey(_e.key),_e)}}function _createClass(b,j,$){return j&&_defineProperties(b.prototype,j),Object.defineProperty(b,"prototype",{writable:!1}),b}var arr=[],each$1=arr.forEach,slice$1=arr.slice;function defaults$3(b){return each$1.call(slice$1.call(arguments,1),function(j){if(j)for(var $ in j)b[$]===void 0&&(b[$]=j[$])}),b}function createClassOnDemand(b){return b?typeof b=="function"?new b:b:null}function getDefaults$1(){return{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}}function handleCorrectReadFunction(b,j,$,_e){var et=b.read.bind(b);if(et.length===2){try{var tt=et(j,$);tt&&typeof tt.then=="function"?tt.then(function(nt){return _e(null,nt)}).catch(_e):_e(null,tt)}catch(nt){_e(nt)}return}et(j,$,_e)}var Backend$1=function(){function b(j){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,b),this.backends=[],this.type="backend",this.allOptions=_e,this.init(j,$)}return _createClass(b,[{key:"init",value:function($){var _e=this,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=$,this.options=defaults$3(et,this.options||{},getDefaults$1()),this.allOptions=tt,this.options.backends&&this.options.backends.forEach(function(nt,rt){_e.backends[rt]=_e.backends[rt]||createClassOnDemand(nt),_e.backends[rt].init($,_e.options.backendOptions&&_e.options.backendOptions[rt]||{},tt)}),this.services&&this.options.reloadInterval&&setInterval(function(){return _e.reload()},this.options.reloadInterval)}},{key:"read",value:function($,_e,et){var tt=this,nt=this.backends.length,rt=function it(ct){if(ct>=nt)return et(new Error("non of the backend loaded data",!0));var ot=ct===nt-1,at=tt.options.handleEmptyResourcesAsFailed&&!ot?0:-1,ft=tt.backends[ct];ft.read?handleCorrectReadFunction(ft,$,_e,function(dt,mt,xt){if(!dt&&mt&&Object.keys(mt).length>at){if(et(null,mt,ct),st(ct-1,mt),ft.save&&tt.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(tt.options.cacheHitMode)>-1){if(xt&&tt.options.refreshExpirationTime&&xt+tt.options.refreshExpirationTime>Date.now())return;var ht=tt.backends[ct+1];ht&&ht.read&&handleCorrectReadFunction(ht,$,_e,function(gt,Et){gt||Et&&(Object.keys(Et).length<=at||(st(ct,Et),tt.options.cacheHitMode==="refreshAndUpdateStore"&&tt.services&&tt.services.resourceStore&&tt.services.resourceStore.addResourceBundle($,_e,Et)))})}}else it(ct+1)}):it(ct+1)},st=function it(ct,ot){if(!(ct<0)){var at=tt.backends[ct];at.save&&at.save($,_e,ot),it(ct-1,ot)}};rt(0)}},{key:"create",value:function($,_e,et,tt){var nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.backends.forEach(function(st){if(st.create){var it=st.create.bind(st);if(it.length<6){try{var ct;it.length===5?ct=it($,_e,et,tt,rt):ct=it($,_e,et,tt),ct&&typeof ct.then=="function"?ct.then(function(ot){return nt(null,ot)}).catch(nt):nt(null,ct)}catch(ot){nt(ot)}return}it($,_e,et,tt,nt,rt)}})}},{key:"reload",value:function(){var $=this,_e=this.services,et=_e.backendConnector,tt=_e.languageUtils,nt=_e.logger,rt=et.language;if(!(rt&&rt.toLowerCase()==="cimode")){var st=[],it=function(ot){var at=tt.toResolveHierarchy(ot);at.forEach(function(ft){st.indexOf(ft)<0&&st.push(ft)})};it(rt),this.allOptions.preload&&this.allOptions.preload.forEach(function(ct){return it(ct)}),st.forEach(function(ct){$.allOptions.ns.forEach(function(ot){et.read(ct,ot,"read",null,null,function(at,ft){at&&nt.warn("loading namespace ".concat(ot," for language ").concat(ct," failed"),at),!at&&ft&&nt.log("loaded namespace ".concat(ot," for language ").concat(ct),ft),et.loaded("".concat(ct,"|").concat(ot),at,ft)})})})}}}]),b}();Backend$1.type="backend";const defaults$2={loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",multiSeparator:"+",allowMultiLoading:!1,fetch:typeof fetch>"u"?void 0:fetch,parse:JSON.parse,stringify:JSON.stringify,requestOptions:{}},arrify=b=>Array.isArray(b)?b:[b],normalize=(b,...j)=>typeof b=="function"?b(...j):b;class BackendError extends Error{constructor($,_e=!1){super($);Ao(this,"retry",null);this.retry=_e}}class Backend{constructor(j,$){Ao(this,"type","backend");this.init(j,$)}init(j,$={}){this.services=j,this.options={...defaults$2,...this.options,...$}}getLoadPath(j,$){return normalize(this.options.loadPath,j,$)}read(j,$,_e){const et=this.getLoadPath(j,$),tt=this.services.interpolator.interpolate(et,{lng:j,ns:$});this.loadUrl(tt,_e)}readMulti(j,$,_e){const et=this.getLoadPath(j,$),{multiSeparator:tt}=this.options,nt=this.services.interpolator.interpolate(et,{lng:j.join(tt),ns:$.join(tt)});this.loadUrl(nt,_e)}loadUrl(j,$){const{fetch:_e,requestOptions:et,parse:tt}=this.options;_e(j,et).then(nt=>{const{ok:rt,status:st}=nt;if(!rt){const it=st>=500&&st<600;throw new BackendError(`failed loading ${j}`,it)}return nt.text()},()=>{throw new BackendError(`failed loading ${j}`)}).then(nt=>{try{return $(null,tt(nt,j))}catch{throw new BackendError(`failed parsing ${j} to json`,!1)}}).catch(nt=>{nt instanceof BackendError&&$(nt.message,nt.retry)})}create(j,$,_e,et){const tt={[_e]:et||""};arrify(j).forEach(nt=>{const{addPath:rt,requestOptions:st,fetch:it,stringify:ct}=this.options,ot=this.services.interpolator.interpolate(rt,{lng:nt,ns:$});try{it(ot,{method:"POST",body:ct(tt),...st})}catch(at){console.error(at)}})}}Ao(Backend,"type","backend");const{slice,forEach}=[];function defaults$1(b){return forEach.call(slice.call(arguments,1),j=>{if(j)for(const $ in j)b[$]===void 0&&(b[$]=j[$])}),b}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=(b,j,$)=>{const _e=$||{};_e.path=_e.path||"/";const et=encodeURIComponent(j);let tt=`${b}=${et}`;if(_e.maxAge>0){const nt=_e.maxAge-0;if(Number.isNaN(nt))throw new Error("maxAge should be a Number");tt+=`; Max-Age=${Math.floor(nt)}`}if(_e.domain){if(!fieldContentRegExp.test(_e.domain))throw new TypeError("option domain is invalid");tt+=`; Domain=${_e.domain}`}if(_e.path){if(!fieldContentRegExp.test(_e.path))throw new TypeError("option path is invalid");tt+=`; Path=${_e.path}`}if(_e.expires){if(typeof _e.expires.toUTCString!="function")throw new TypeError("option expires is invalid");tt+=`; Expires=${_e.expires.toUTCString()}`}if(_e.httpOnly&&(tt+="; HttpOnly"),_e.secure&&(tt+="; Secure"),_e.sameSite)switch(typeof _e.sameSite=="string"?_e.sameSite.toLowerCase():_e.sameSite){case!0:tt+="; SameSite=Strict";break;case"lax":tt+="; SameSite=Lax";break;case"strict":tt+="; SameSite=Strict";break;case"none":tt+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return tt},cookie={create(b,j,$,_e){let et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};$&&(et.expires=new Date,et.expires.setTime(et.expires.getTime()+$*60*1e3)),_e&&(et.domain=_e),document.cookie=serializeCookie(b,encodeURIComponent(j),et)},read(b){const j=`${b}=`,$=document.cookie.split(";");for(let _e=0;_e<$.length;_e++){let et=$[_e];for(;et.charAt(0)===" ";)et=et.substring(1,et.length);if(et.indexOf(j)===0)return et.substring(j.length,et.length)}return null},remove(b){this.create(b,"",-1)}};var cookie$1={name:"cookie",lookup(b){let{lookupCookie:j}=b;if(j&&typeof document<"u")return cookie.read(j)||void 0},cacheUserLanguage(b,j){let{lookupCookie:$,cookieMinutes:_e,cookieDomain:et,cookieOptions:tt}=j;$&&typeof document<"u"&&cookie.create($,b,_e,et,tt)}},querystring={name:"querystring",lookup(b){var _e;let{lookupQuerystring:j}=b,$;if(typeof window<"u"){let{search:et}=window.location;!window.location.search&&((_e=window.location.hash)==null?void 0:_e.indexOf("?"))>-1&&(et=window.location.hash.substring(window.location.hash.indexOf("?")));const nt=et.substring(1).split("&");for(let rt=0;rt<nt.length;rt++){const st=nt[rt].indexOf("=");st>0&&nt[rt].substring(0,st)===j&&($=nt[rt].substring(st+1))}}return $}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;const b="i18next.translate.boo";window.localStorage.setItem(b,"foo"),window.localStorage.removeItem(b)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(b){let{lookupLocalStorage:j}=b;if(j&&localStorageAvailable())return window.localStorage.getItem(j)||void 0},cacheUserLanguage(b,j){let{lookupLocalStorage:$}=j;$&&localStorageAvailable()&&window.localStorage.setItem($,b)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;const b="i18next.translate.boo";window.sessionStorage.setItem(b,"foo"),window.sessionStorage.removeItem(b)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(b){let{lookupSessionStorage:j}=b;if(j&&sessionStorageAvailable())return window.sessionStorage.getItem(j)||void 0},cacheUserLanguage(b,j){let{lookupSessionStorage:$}=j;$&&sessionStorageAvailable()&&window.sessionStorage.setItem($,b)}},navigator$1={name:"navigator",lookup(b){const j=[];if(typeof navigator<"u"){const{languages:$,userLanguage:_e,language:et}=navigator;if($)for(let tt=0;tt<$.length;tt++)j.push($[tt]);_e&&j.push(_e),et&&j.push(et)}return j.length>0?j:void 0}},htmlTag={name:"htmlTag",lookup(b){let{htmlTag:j}=b,$;const _e=j||(typeof document<"u"?document.documentElement:null);return _e&&typeof _e.getAttribute=="function"&&($=_e.getAttribute("lang")),$}},path={name:"path",lookup(b){var et;let{lookupFromPathIndex:j}=b;if(typeof window>"u")return;const $=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray($)?(et=$[typeof j=="number"?j:0])==null?void 0:et.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(b){var et,tt;let{lookupFromSubdomainIndex:j}=b;const $=typeof j=="number"?j+1:1,_e=typeof window<"u"&&((tt=(et=window.location)==null?void 0:et.hostname)==null?void 0:tt.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(_e)return _e[$]}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:b=>b}}let Browser$1=class{constructor(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(j,$)}init(j){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=j||{languageUtils:{}},this.options=defaults$1($,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=et=>et.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=_e,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}addDetector(j){return this.detectors[j.name]=j,this}detect(j){j||(j=this.options.order);let $=[];return j.forEach(_e=>{if(this.detectors[_e]){let et=this.detectors[_e].lookup(this.options);et&&typeof et=="string"&&(et=[et]),et&&($=$.concat(et))}}),$=$.map(_e=>this.options.convertDetectedLanguage(_e)),this.services.languageUtils.getBestMatchFromCodes?$:$.length>0?$[0]:null}cacheUserLanguage(j,$){$||($=this.options.caches),$&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(j)>-1||$.forEach(_e=>{this.detectors[_e]&&this.detectors[_e].cacheUserLanguage(j,this.options)}))}};Browser$1.type="languageDetector";const locales=["en-US","en","ru-RU","uk-UA","zh"];instance.use(Backend$1).use(Browser$1).use(initReactI18next).init({fallbackLng:"en",supportedLngs:locales,defaultNS:"theme",fallbackNS:"translation",load:"currentOnly",debug:!0,interpolation:{escapeValue:!1},backend:{backends:[Backend],backendOptions:[{loadPath:new URL("locales/",window.location.href).href+"{{lng}}/{{ns}}.json"}]}});function loadThemeTranslations(b){const j={};for(const $ of b){if(!locales.includes($.lang))continue;const _e=j[$.lang]??{};_e[$.tkey]=$.value,j[$.lang]=_e}for(const[$,_e]of Object.entries(j))instance.addResourceBundle($,"theme",_e,!0,!0)}function unloadThemeTranslations(){for(const b of locales)instance.removeResourceBundle(b,"theme")}function formatDate(b){return new Intl.DateTimeFormat(instance.language,{dateStyle:"long",timeStyle:"short"}).format(b)}const baseInit$=atom(!1),initDeferred$=atom(defer$1()),initialBaseUrl$=atom("/"),input$=create({isOpen:!1,content:"",entered:"",onfinished:null},b=>{const j=b.focus(_e=>_e.isOpen),$=b.focus(_e=>_e.entered);return{open(_e,et){isPaused$.set(!0),b.set({isOpen:!0,content:_e,entered:"",onfinished:et})},enter(_e){$.set(_e)},finish(){var _e,et;j.value&&(j.set(!1),isPaused$.set(!1),(et=(_e=b.value).onfinished)==null||et.call(_e,$.value))},close(){var _e,et;j.value&&(j.set(!1),isPaused$.set(!1),(et=(_e=b.value).onfinished)==null||et.call(_e,""))},clear(){var _e,et;j.value&&((et=(_e=b.value).onfinished)==null||et.call(_e,""),isPaused$.set(!1)),b.set({isOpen:!1,content:"",entered:"",onfinished:null})}}}),menu$=create({isOpen:!1,items:[],onselect:null},b=>{const j=b.focus($=>$.isOpen);return{open($,_e){b.set({isOpen:!0,items:$,onselect:_e})},select($){var _e,et;j.set(!1),(et=(_e=b.value).onselect)==null||et.call(_e,$),b.value.onselect=null},close(){var $,_e;j.set(!1),(_e=($=b.value).onselect)==null||_e.call($,-1),b.value.onselect=null},clear(){var $,_e;j.value&&((_e=($=b.value).onselect)==null||_e.call($,-1)),b.set({isOpen:!1,items:[],onselect:null})}}}),msg$=create({isOpen:!1,content:"",onclosed:null},b=>{const j=b.focus($=>$.isOpen);return{open($,_e){isPaused$.set(!0),b.set({isOpen:!0,content:$,onclosed:_e})},close(){var $,_e;j.value&&(isPaused$.set(!1),j.set(!1),(_e=($=b.value).onclosed)==null||_e.call($))},clear(){var $,_e;j.value&&(isPaused$.set(!1),(_e=($=b.value).onclosed)==null||_e.call($)),b.set({isOpen:!1,content:"",onclosed:null})}}}),errorMessage$=atom(""),isErrorShown$=atom(!1);function showError(b){errorMessage$.set(b),isErrorShown$.set(!0)}const noticeMessage$=atom(""),isNoticeShown$=atom(!1);let noticeTimeout=null;function showNotice(b){noticeMessage$.set(b),isNoticeShown$.set(!0),noticeTimeout&&clearTimeout(noticeTimeout),noticeTimeout=setTimeout(()=>{isNoticeShown$.set(!1)},3e3)}const currentGameEntry$=atom(null),currentGame$=atom(),currentGameMode$=atom(b=>{var j;return((j=b(currentGame$))==null?void 0:j.mode)||"classic"}),currentAeroWidth$=atom(b=>{var j,$;return(($=(j=b(currentGame$))==null?void 0:j.aero)==null?void 0:$.width)??800}),currentAeroHeight$=atom(b=>{var j,$;return(($=(j=b(currentGame$))==null?void 0:j.aero)==null?void 0:$.height)??600}),saveSlotsCount$=atom(b=>{var j;return((j=b(currentGame$))==null?void 0:j.save_slots)??9}),onGameEnd$=atom(null),baseUrl$=atom("");async function runGame(b){var et,tt,nt,rt,st,it,ct;if(!b)throw new Error("Game not found");baseUrl$.set(b.loadConfig.url);let j=b.loadConfig.descriptor||{id:b.id,mode:b.mode,title:b.title,file:""};try{const ot=await fetchProxyFallback("game.cfg").then(ft=>ft.text()),at=parse$1(ot);if(((et=at.game)==null?void 0:et.length)===1)[j]=at.game;else{const ft=(tt=at.game)==null?void 0:tt.find(dt=>dt.id===b.id);if(!ft)throw new Error("Config not found");j=ft}}catch{}if((j==null?void 0:j.mode)==="classic"||!(j!=null&&j.mode))try{const ot=await fetchProxyFallback("qspgui.cfg");if(!ot.ok)throw new Error("No config file");const at=await ot.text(),ft=parseCfg(at);if(!ft||!Object.keys(ft).length)throw new Error("Invalid config file");qspGuiCfg$.set(ft)}catch{}if(j.mode==="aero")if(j.aero)j.window={...j.window??{},...j.aero,resizable:!1};else try{const ot=await fetchProxyFallback("config.xml");if(!ot.ok)throw new Error("No config file");const at=await ot.text(),mt=new DOMParser().parseFromString(at,"application/xml").querySelector("game");if(mt){const xt=parseInt(mt.getAttribute("width")||"800"),ht=parseInt(mt.getAttribute("height")||"600");j.aero={width:xt,height:ht},j.window={...j.window??{},width:xt,height:ht,resizable:!1}}}catch{j.aero={width:800,height:600},j.window={...j.window??{},width:800,height:600,resizable:!1}}(nt=windowManager$.value)==null||nt.setTitle(b.title),setupGlobalHotKeys(),j!=null&&j.hotkeys&&setupCustomHotKeys(j.hotkeys),(rt=j==null?void 0:j.resources)!=null&&rt.icon&&((st=windowManager$.value)==null||st.setIcon(j.resources.icon)),loadAdditionalResources(j==null?void 0:j.resources),j!=null&&j.themes&&await registerThemes(j.themes),j!=null&&j.defaultTheme?themeRegistry$.value[j.defaultTheme]?currentTheme$.set(j.defaultTheme):showNotice(`Theme ${j.defaultTheme} not found`):(j==null?void 0:j.mode)==="aero"?currentTheme$.set(AERO_THEME):currentTheme$.set(CLASSIC_THEME),loadThemeTranslations(currentTranslations$.value),j&&applyWindowSettings(j.window);let $=await fetchProxyFallback(b.loadConfig.entrypoint).then(ot=>ot.arrayBuffer());if(!$)throw new Error("Failed to load game");b.loadConfig.entrypoint.toLowerCase().endsWith(".qsps")&&($=convertQsps($)),(it=qspApi$.value)==null||it.openGame($,!0),(ct=qspApi$.value)==null||ct.restartGame(),currentGameEntry$.set(b),j&&currentGame$.set(j),loadSaveList()}let wasResized=!1;async function applyWindowSettings(b){var j,$,_e,et;if(b){b.width&&b.height&&(await((j=windowManager$.value)==null?void 0:j.resize(b.width,b.height)),wasResized=!0);const tt=b.resizable??!0;($=windowManager$.value)==null||$.setResizable(tt),tt&&(b.minWidth&&b.minHeight&&await((_e=windowManager$.value)==null?void 0:_e.setMinSize(b.minWidth,b.minHeight)),b.maxWidth&&b.maxHeight&&await((et=windowManager$.value)==null?void 0:et.setMaxSize(b.maxWidth,b.maxHeight))),b.fullscreen&&setTimeout(()=>{var nt;return(nt=windowManager$.value)==null?void 0:nt.goFullscreen()},0)}}baseUrl$.subscribe(b=>{const j=document.querySelector("#page-base");j.href=b||"/"});function stopCurrentGame(){var j;baseUrl$.set(initialBaseUrl$.value),currentGameEntry$.set(null),currentGame$.set(null),qspGuiCfg$.set(null),closePauseScreen(),pauseScreenCurrentPanel$.set("credits"),isPaused$.set(!0),input$.actions.clear(),menu$.actions.clear(),msg$.actions.clear(),mainContent$.set(""),statsContent$.set(""),actions$.set([]),objects$.set([]),cmdText$.set("");const b=windowManager$.value;b&&(b.setTitle("qSpider"),b.setIcon("favicon.ico"),b.setResizable(!0),b.unsetMaxSize(),b.unsetMinSize(),wasResized&&b.resize(1024,768)),sounds$.actions.clear(),regions$.set({}),layers$.set({}),clearAdditionalResources(),clearHotkeys(),unloadThemeTranslations(),currentTheme$.set(CLASSIC_THEME),themeRegistry$.actions.reset(),window.dispatchEvent(new Event("game-unload")),wasResized=!1,(j=onGameEnd$.value)==null||j.call(onGameEnd$)}function onRestart(){reloadRegions(),reloadLayers()}function onRestore(){reloadRegions(),reloadLayers()}function onGameCommand(b){var j;if(b.startsWith("pause:")){const[,$]=b.split(":");isPauseScreenVisible$.value||openPauseScreen(),pauseScreenCurrentPanel$.set($)}else if(b.startsWith("scroll:")){const[,$,_e]=b.split(":");switch($){case"main":mainScroll$.update(et=>_e==="top"?-1:Math.max(et,0)+1);break;case"stats":statsScroll$.update(et=>_e==="top"?-1:Math.max(et,0)+1);break}}switch(b){case"quit":stopCurrentGame();break;case"restart":isPaused$.set(!0),(j=qspApi$.value)==null||j.restartGame(),onRestart(),closePauseScreen(),pauseScreenCurrentPanel$.set("credits");break;case"resume":closePauseScreen();break;case"mute":muted$.set(!0);break;case"unmute":muted$.set(!1);break;case"toggle-mute":muted$.update($=>!$);break;case"quicksave":quickSave();break;case"quickload":quickLoad();break}}const wait$=create(null),waitTimeout$=create();function finishWait(){const b=wait$.value;b&&(clearTimeout(waitTimeout$.value),isPaused$.set(!1),wait$.set(null),b.finish())}wait$.subscribe(b=>{b&&(clearTimeout(waitTimeout$.value),isPaused$.set(!0),waitTimeout$.set(setTimeout(()=>{finishWait()},b.ms)))});const qspiderCommands={"action:"(b){onGameCommand(b)},"event:"(b){setTimeout(()=>{const j=b.trim().match(/(.*?)(\[(.*?)\])/i);if(j){const $=j[1],_e=j[3].split(",").map(et=>{const tt=et.trim();return tt.startsWith('"')||tt.startsWith("'")?tt.replace(/['"](.*?)['"]/gim,(nt,rt)=>rt):parseInt(tt)});window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:$,args:_e}}))}else window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:b.trim()}}))},0)},"change_theme:"(b){if(!themeRegistry$.value[b]){errorMessage$.set(`Theme ${b} is not registered`);return}currentTheme$.set(b)},"update_region:"(b){var $;regions$.focus(_e=>_e[b]).set((($=qspApi$.value)==null?void 0:$.readVariableByKey("$qspider_region",b))??"")},"scroll_region:"(b){const[j,$]=b.split(":"),_e=regionsScroll$.focus(et=>et[j]);$==="top"?_e.set(-1):_e.update(et=>Math.max(et,0)+1)},"update_layer:"(b){layers$.focus($=>$[b]).set(readLayerState(b))},update_layers(){const b=layers$.value??{},j={};for(const $ of Object.keys(b))j[$]=readLayerState($);layers$.set(j)},"fullscreen:"(b){var j,$;b==="on"?(j=windowManager$.value)==null||j.goFullscreen():($=windowManager$.value)==null||$.goWindowed()},quit(){stopCurrentGame()}},qspiderModuleContent=`# qspider_change_theme
! $args[0] - theme name
exec('qspider.change_theme:<<$args[0]>>')
---

# qspider_update_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_append_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] += $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_prepend_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1] + $qspider_region[$args[0]]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_scroll_region
! $args[0] - region name
! $args[1] - direction (top or bottom)
exec('qspider.scroll_region:<<$args[0]>>:<<$args[1]>>')
---
# qspider_clear_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = ''
exec('qspider.update_region:<<$args[0]>>')
---

# qspider_show_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 1
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_hide_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 0
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_show_only_layer
! $args[0] - layer name
killvar 'qspider_layers'
qspider_layers[$args[0]] = 1
exec('qspider.update_layers')
---

# qspider_quicksave
exec('qspider.action:quicksave')
---

# qspider_quickload
exec('qspider.action:quickload')
---

# qspider_restart
exec('qspider.action:restart')
---

# qspider_resume
exec('qspider.action:resume')
---

# qspider_quit
exec('qspider.action:quit')
---

# qspider_mute
exec('qspider.action:mute')
---

# qspider_unmute
exec('qspider.action:unmute')
---

# qspider_toggle_mute
exec('qspider.action:toggle-mute')
---

# qspider_open_pause_screen
! $args[0] - panel name
exec('qspider.action:pause:<<$args[0]>>')
---

# qspider_scroll
! $args[0] - panel (main or stats)
! $args[1] - direction (top or bottom)
exec('qspider.action:scroll:<<$args[0]>>:<<$args[1]>>')
---

#qspider_event
! $args[0] - event name
! any further args will be added as event args

local $event_args = ''
if ARRSIZE('$args') > 1:
  loop local i = 1 while i < ARRSIZE('$args') step i += 1:
    if LEN($event_args) > 0:  $event_args += ','
    if args[i] <> 0:
      $event_args += args[i]
    else:
      $event_args += '"<<$args[i]>>"'
    end
  end
end

if $event_args <> '':
  exec('qspider.event: <<$args[0]>>[<<$event_args>>]')
else:
  exec('qspider.event: <<$args[0]>>')
end
---
`,qspApi$=atom(),qspApiInitialized$=atom(!1),qspError$=atom(null),qspiderModule$=atom(o(s(qspiderModuleContent)));async function initQspApi(){const b=await fetch(wasmUrl).then($=>$.arrayBuffer()),j=await E(b);console.log(`QSP version: ${j.version()}`),qspApi$.set(j),qspApiInitialized$.set(!0)}function execCode(b){var j;(j=qspApi$.value)==null||j.execCode(b)}function onLinkClicked(b){b.toLowerCase().startsWith("exec:")?execCode(b.substring(5)):window.location.href=b}function useQspVariable(b,j,$,_e){const[et,tt]=reactExports.useState(_e);return reactExports.useEffect(()=>{var rt,st;if(!b)return;const nt=j?(rt=qspApi$.value)==null?void 0:rt.watchVariableByKey(b,j,it=>tt(it||_e)):(st=qspApi$.value)==null?void 0:st.watchVariable(b,$,it=>tt(it||_e));return()=>{nt==null||nt()}},[b,j,$,_e]),et}function useQspExpression(b){const[j,$]=reactExports.useState(!1);return reactExports.useEffect(()=>{var et;if(!b)return;const _e=(et=qspApi$.value)==null?void 0:et.watchExpression(b,tt=>$(!!tt));return()=>{_e==null||_e()}},[b]),j}qspApi$.subscribe(b=>{b.on("version",(j,$)=>{var _e,et;switch(j){case"player":return $("qSpider");case"platform":return $((_e=windowManager$.value)!=null&&_e.isBrowser?"browser":((et=windowManager$.value)==null?void 0:et.platform)||"unknown")}return $(b.version())}),b.on("error",qspError$.set),b.on("system_cmd",j=>{if(!j.startsWith("qspider"))return;const[,$]=j.split(".");for(const[_e,et]of Object.entries(qspiderCommands))if($.trim().startsWith(_e)){const tt=$.replace(_e,"");et(tt)}}),b.on("is_play",(j,$)=>{$(sounds$.actions.isPlaying(j))}),b.on("play_file",(j,$,_e)=>{sounds$.actions.play(j,$),_e()}),b.on("close_file",(j,$)=>{j?sounds$.actions.close(j):sounds$.actions.closeAll(),$()}),b.on("timer",j=>{counterDelay$.set(j)}),b.on("open_game",async(j,$,_e)=>{if(j==="qspider"){b.openGame(qspiderModule$.value,!1),_e();return}withCounterPaused(async()=>{const et=await getBinaryContent(j);let tt=et;if(j.toLowerCase().endsWith(".qsps")&&(tt=convertQsps(et)),$){const rt=cleanPath(j);baseUrl$.update(st=>st+rt.slice(0,rt.lastIndexOf("/")+1))}b.openGame(tt,$),_e()})}),b.on("input",(j,$)=>{input$.actions.open(j,$)}),b.on("menu",(j,$)=>{menu$.actions.open(prepareList(j),$)}),b.on("msg",(j,$)=>{msg$.actions.open(j,$)}),b.on("main_changed",j=>{const $=mainContent$.value,_e=prepareContent(j),et=!$||_e!==$&&!_e.startsWith($);isNewLoc$.set(et),nextMainContent$.set(_e),et?newLocHash$.set(String(hashString(nextMainContent$.value))):mainContent$.set(_e)}),b.on("stats_changed",j=>{statsContent$.set(prepareContent(j))}),b.on("actions_changed",j=>{actions$.set(prepareList(j))}),b.on("objects_changed",j=>{objects$.set(prepareList(j))}),b.on("user_input",j=>{cmdText$.set(j)}),b.on("view",j=>{j?view$.actions.open(j):view$.actions.close()}),b.on("panel_visibility",(j,$)=>{switch(j){case e$1.VARS:isStatsVisible$.set($);break;case e$1.ACTS:isActsVisible$.set($);break;case e$1.OBJS:isObjsVisible$.set($);break;case e$1.INPUT:isCmdVisible$.set($);break}}),b.on("load_save",async(j,$)=>{if(!currentGameEntry$.value)return $();saveLoadedCallback$.set(()=>{$()}),j?await restoreFromPath(j):(requestedAction$.set("load"),onGameCommand("pause:saves"))}),b.on("save_game",async(j,$)=>{if(!currentGameEntry$.value)return $();gameSavedCallback$.set(()=>{$()}),j?await saveToPath(j):(requestedAction$.set("save"),onGameCommand("pause:saves"))}),b.on("wait",(j,$)=>{wait$.set({ms:j,finish:$})})});function usePrevious$1(b){const j=reactExports.useRef();return reactExports.useEffect(()=>{j.current=b},[b]),j.current}const playerTheme$=create("light");function initTheme(){var j;let b=localStorage.getItem("qspider-theme");!b&&((j=window.matchMedia)!=null&&j.call(window,"(prefers-color-scheme: dark)").matches)?b="dark":b="light",playerTheme$.set(b)}function toggleTheme(){playerTheme$.update(b=>b==="dark"?"light":"dark")}playerTheme$.subscribe(b=>{b==="dark"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),localStorage.setItem("qspider-theme",b)});const componentsRegistry$=atom(new Map,b=>({register(j,$){b.value.set(j,$)}})),useComponent=b=>componentsRegistry$.value.get(b)||(()=>null);async function importArchive(b,j,$){var rt,st,it;const _e=storage$.value;if(!_e)throw new Error("missing storage");if(!isSupportedArchive(j))throw new Error("unsupporter archive format");const et=await readSupportedArchive(j),tt=findRootDescriptorFolder(et);if(tt){const[ct,ot]=tt,at=await readGameDescriptor(ot);for(const ft of at)try{const dt=getGameFolder(ct,ft.file);await storeFolderContent(ft.id,dt);const mt=dt.content.find(xt=>xt.type==="file"&&xt.name===GAME_DESCRIPTOR_NAME);if(mt){const[xt]=await readGameDescriptor(mt.data);Object.assign(ft,xt)}else{const xt=stringify({game:[ft]});await((rt=storage$.value)==null?void 0:rt.addGameResource(ft.id,GAME_DESCRIPTOR_NAME,new TextEncoder().encode(xt)))}}catch(dt){console.error(dt)}return Promise.all(at.map(async ft=>{var ht;const dt=ft.file.slice(ft.file.lastIndexOf("/")+1),mt=await _e.prepareLoadConfig(ft.id,dt);let xt=(ht=ft.resources)==null?void 0:ht.icon;return xt&&(xt=`${mt.url}${xt}`),{id:ft.id,mode:ft.mode,title:ft.title,author:ft.author,ported_by:ft.ported_by,version:ft.version,description:ft.description,icon:xt,loadConfig:{...mt,descriptor:ft}}}))}const nt=findRootGameFileFolder(et);if(nt){const[ct,ot]=nt,at=($==null?void 0:$.id)||cyrb53(b);if(await storeFolderContent(at,ct),$){const mt=stringify({game:[$]});await((st=storage$.value)==null?void 0:st.addGameResource(at,GAME_DESCRIPTOR_NAME,new TextEncoder().encode(mt)))}const ft=await _e.prepareLoadConfig(at,ot);let dt=(it=$==null?void 0:$.resources)==null?void 0:it.icon;return dt&&(dt=`${ft.url}${dt}`),[{id:at,title:($==null?void 0:$.title)||b.slice(b.lastIndexOf("/")+1),mode:($==null?void 0:$.mode)||(b.endsWith("aqsp")?"aero":"classic"),author:$==null?void 0:$.author,ported_by:$==null?void 0:$.ported_by,version:$==null?void 0:$.version,description:$==null?void 0:$.description,icon:dt,loadConfig:ft}]}throw new Error("Game files not found inside archive")}function findRootDescriptorFolder(b){for(const j of b.content)if(j.type==="file"&&j.name===GAME_DESCRIPTOR_NAME)return[b,j.data];for(const j of b.content)if(j.type==="dir"){const $=findRootDescriptorFolder(j);if($)return $}return null}function findRootGameFileFolder(b){let j=null,$=null;for(const _e of b.content)_e.type==="file"&&((_e.name.endsWith(".qsp")||_e.name.endsWith(".gam"))&&(j=_e.name),_e.name.endsWith(".qsps")&&($=_e.name));if(j)return[b,j];if($)return[b,$];for(const _e of b.content)if(_e.type==="dir"){const et=findRootGameFileFolder(_e);if(et)return et}return null}function getGameFolder(b,j){const $=j.split("/");$.pop();let _e=b;for(const et of $){const tt=_e.content.find(nt=>nt.type==="dir"&&nt.name===et);if(!tt)throw new Error(`Failed to find game file ${j} in archvive`);_e=tt}return _e}async function readGameDescriptor(b){const $=await new Blob([b]).text();return parse$1($).game}async function storeFolderContent(b,j,$=""){var _e;for(const et of j.content)if(et.type==="dir")await storeFolderContent(b,et,`${$}${et.name}/`);else{if(et.name===".DS_Store")continue;await((_e=storage$.value)==null?void 0:_e.addGameResource(b,`${$}${et.name}`,et.data))}}async function importUrl(b,j,$){const _e=new URL(b);_e.hash="",_e.search="";const et=_e.toString(),tt=await fetchProxyFallback(b).then(st=>{if(!st.ok)throw new Error(`Failed to load url ${b}`);return st.arrayBuffer()});if(isSupportedArchive(tt))return importArchive(j||et,tt,$);const nt=et.slice(0,et.lastIndexOf("/")+1),rt=et.replace(nt,"");if(rt.endsWith(".cfg")){const st=new TextDecoder().decode(tt),it=parse$1(st),ct=[];for(const ot of it.game){const at=`${nt}${ot.file}`;ct.push(...await importUrl(at,ot.file,ot))}return ct}else{const st=`${nt}game.cfg`;try{const it=await fetchProxyFallback(st).then(at=>at.text()),ot=parse$1(it).game.find(at=>at.file===rt);if(!ot)throw new Error("Config not found");return[{id:ot.id,mode:ot.mode,title:ot.title,author:ot.author,ported_by:ot.ported_by,version:ot.version,description:ot.description,loadConfig:{url:nt,entrypoint:ot.file}}]}catch{return[{id:($==null?void 0:$.id)||cyrb53(et),title:($==null?void 0:$.title)||rt,mode:($==null?void 0:$.mode)||"classic",author:$==null?void 0:$.author,ported_by:$==null?void 0:$.ported_by,version:$==null?void 0:$.version,description:$==null?void 0:$.description,loadConfig:{url:nt,entrypoint:rt,descriptor:$}}]}}}async function importFile(b,j){var _e;if(!storage$.value)throw new Error("missing storage");if(isSupportedArchive(j))return importArchive(b,j);const $=cyrb53(b);return await((_e=storage$.value)==null?void 0:_e.addGameResource($,b,j)),[{id:cyrb53(b),title:b,mode:"classic",loadConfig:await storage$.value.prepareLoadConfig($,b)}]}const fontSizeMap={"-2":"x-small","-1":"small","+0":"medium","+1":"large","+2":"x-large","+3":"xx-large","+4":"xxx-large",0:"medium",1:"x-small",2:"small",3:"medium",4:"large",5:"x-large",6:"xx-large",7:"xxx-large"},Font=({size:b,children:j,attrs:$})=>{const[,_e,et]=useAttributes($,"span"),tt={..._e,fontSize:b!=null?fontSizeMap[b]||"medium":"inherit"};return jsxRuntimeExports.jsx("span",{...et,style:tt,children:j})},ATTRIBUTES_TO_PROPS$1=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",usemap:"useMap",cellspacing:"cellSpacing",cellpadding:"cellPadding",autoplay:"autoPlay","xlink:href":"xlinkHref","xmlns:xlink":"xmlnsXlink",for:"htmlFor",minlength:"minLength",maxlength:"maxLength"}),attributeToStyle={size:"fontSize",color:"color",face:"fontFace",valign:"verticalAlign",bgcolor:"backgroundColor",width:"width",height:"height"},imgAlignMap={texttop:"text-top",center:"middle",abscenter:"middle",bottom:"bottom"},attributeToStyleConverters={width:b=>/^\d+$/.test(b)?`${b}px`:b,height:b=>/^\d+$/.test(b)?`${b}px`:b,fontSize:b=>/^[+-]?\d+$/.test(b)?fontSizeMap[b]:b},attributesToStyle=(b,j)=>{var _e;const $={};for(const et of Object.keys(b)){const tt=attributeToStyle[et];if(j==="img"&&et==="align"){const nt=(_e=b[et])==null?void 0:_e.toLowerCase();if(nt){const rt=imgAlignMap[nt];rt&&($.verticalAlign=rt)}}if(tt){const nt=b[et];if(!nt)continue;attributeToStyleConverters[tt]?$[tt]=attributeToStyleConverters[tt](nt):$[tt]=nt}}return $},supportedEvents=["click","mouseenter","mouseleave","contextmenu","dblclick","wheel"],eventsMap={click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},useAttributes=(b,j,$=j)=>{const _e={};$.includes("-")&&(_e["data-qsp"]=$.replace("qsp-",""));const{tag:et=j,style:tt={},"qsp-command":nt,"qsp-save-command":rt,...st}=b;for(const[ct,ot]of Object.entries(st)){if(ct.startsWith("on"))continue;if(ct.startsWith("qsp-on")){const ft=ot.slice(5),[,dt]=ct.split(":");supportedEvents.includes(dt)&&(_e[eventsMap[dt]]=mt=>{mt.preventDefault(),execCode(ft)});continue}let at=ATTRIBUTES_TO_PROPS$1[ct]||ct;at.includes("-")&&!at.startsWith("aria-")&&!at.startsWith("data-")&&at!=="mask-type"&&(at=at.replace(/-([a-z])/g,function(ft,dt){return dt.toUpperCase()})),_e[at]=ot}et.includes("-")&&_e.className&&(_e.class=_e.className,delete _e.className),et==="iframe"&&(_e.sandbox="allow-scripts allow-same-origin"),nt?(_e.onClick=ct=>{ct.preventDefault(),onGameCommand(nt)},_e["data-qsp-command"]=nt):rt&&(_e["data-qsp-save-command"]=rt,_e.onClick=ct=>{if(ct.preventDefault(),!ct.target)return;const ot=getSaveContext(ct.target);ot&&onSaveCommand(rt,ot)});const it=attributesToStyle(b,et);return[et,{...tt,...it},_e]};function getSaveContext(b){const j=b.closest("[data-qsp-save]");if(!j)return console.error("qsp-save-command used on element outside of save tag"),null;const $="qspSaveIndex"in j.dataset?parseInt(j.dataset.qspSaveIndex??"-1",0):-1,_e=j.dataset.qspSavePath??"";return{slot_index:$,save_path:_e}}const TYPE_FLOW=1,TYPE_SECTION=2,TYPE_HEADING=4,TYPE_PHRASING=8,TYPE_EMBEDDED=16,TYPE_INTERACTIVE=32,TYPE_PALPABLE=64,tagConfigs={a:{content:TYPE_FLOW|TYPE_PHRASING,self:!1,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:TYPE_FLOW|TYPE_PHRASING,void:!0},body:{content:TYPE_FLOW|TYPE_SECTION|TYPE_HEADING|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_INTERACTIVE|TYPE_PALPABLE},button:{content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},caption:{content:TYPE_FLOW,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:TYPE_FLOW|TYPE_INTERACTIVE|TYPE_PALPABLE},dd:{content:TYPE_FLOW,parent:["dl"]},dl:{children:["dt","dd"],type:TYPE_FLOW},dt:{content:TYPE_FLOW,invalid:["footer","header"],parent:["dl"]},figcaption:{content:TYPE_FLOW,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:TYPE_FLOW,void:!0},img:{void:!0},li:{content:TYPE_FLOW,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:TYPE_FLOW},picture:{children:["source","img"],type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:TYPE_PHRASING,parent:["ruby","rtc"]},rtc:{content:TYPE_PHRASING,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:TYPE_PHRASING,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:TYPE_FLOW},tbody:{parent:["table"],children:["tr"]},td:{content:TYPE_FLOW,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:TYPE_FLOW,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:TYPE_FLOW},video:{children:["track","source"]},wbr:{type:TYPE_FLOW|TYPE_PHRASING,void:!0}};function createConfigBuilder(b){return j=>{tagConfigs[j]={...b,...tagConfigs[j]}}}["address","main","div","figure","p","pre"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_PALPABLE}));["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_PALPABLE}));["p","pre"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PALPABLE}));["s","small","span","del","ins"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING}));["article","aside","footer","header","nav","section","blockquote"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_SECTION|TYPE_PALPABLE}));["h1","h2","h3","h4","h5","h6"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_HEADING|TYPE_PALPABLE}));["audio","canvas","iframe","img","video"].forEach(createConfigBuilder({type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_PALPABLE}));const TAGS=Object.freeze(tagConfigs),BANNED_TAG_LIST=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],ALLOWED_TAG_LIST=Object.keys(TAGS).filter(b=>b!=="canvas"&&b!=="iframe"),FILTER_ALLOW=1,FILTER_DENY=2,FILTER_CAST_NUMBER=3,FILTER_CAST_BOOL=4,FILTER_NO_CAST=5,ATTRIBUTES=Object.freeze({alt:FILTER_ALLOW,cite:FILTER_ALLOW,class:FILTER_ALLOW,colspan:FILTER_CAST_NUMBER,controls:FILTER_CAST_BOOL,datetime:FILTER_ALLOW,default:FILTER_CAST_BOOL,disabled:FILTER_CAST_BOOL,dir:FILTER_ALLOW,height:FILTER_ALLOW,href:FILTER_ALLOW,id:FILTER_ALLOW,kind:FILTER_ALLOW,label:FILTER_ALLOW,lang:FILTER_ALLOW,loading:FILTER_ALLOW,loop:FILTER_CAST_BOOL,media:FILTER_ALLOW,muted:FILTER_CAST_BOOL,poster:FILTER_ALLOW,rel:FILTER_ALLOW,role:FILTER_ALLOW,rowspan:FILTER_CAST_NUMBER,scope:FILTER_ALLOW,sizes:FILTER_ALLOW,span:FILTER_CAST_NUMBER,start:FILTER_CAST_NUMBER,style:FILTER_NO_CAST,src:FILTER_ALLOW,srclang:FILTER_ALLOW,srcset:FILTER_ALLOW,tabindex:FILTER_ALLOW,target:FILTER_ALLOW,title:FILTER_ALLOW,type:FILTER_ALLOW,width:FILTER_ALLOW}),ATTRIBUTES_TO_PROPS=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex"});function _extends$1(){return _extends$1=Object.assign||function(b){for(var j=1;j<arguments.length;j++){var $=arguments[j];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(b[_e]=$[_e])}return b},_extends$1.apply(this,arguments)}function Element$2({attributes:b={},className:j,children:$=null,selfClose:_e=!1,tagName:et}){const tt=et;return _e?React$1.createElement(tt,_extends$1({className:j},b)):React$1.createElement(tt,_extends$1({className:j},b),$)}class Filter{attribute(j,$){return $}node(j,$){return $}}/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var matchHtmlRegExp=/["'&<>]/,escapeHtml_1=escapeHtml;function escapeHtml(b){var j=""+b,$=matchHtmlRegExp.exec(j);if(!$)return j;var _e,et="",tt=0,nt=0;for(tt=$.index;tt<j.length;tt++){switch(j.charCodeAt(tt)){case 34:_e="&quot;";break;case 38:_e="&amp;";break;case 39:_e="&#39;";break;case 60:_e="&lt;";break;case 62:_e="&gt;";break;default:continue}nt!==tt&&(et+=j.substring(nt,tt)),nt=tt+1,et+=_e}return nt!==tt?et+j.substring(nt,tt):et}const escapeHtml$1=getDefaultExportFromCjs(escapeHtml_1);function _defineProperty(b,j,$){return j in b?Object.defineProperty(b,j,{value:$,enumerable:!0,configurable:!0,writable:!0}):b[j]=$,b}const INVALID_STYLES=/(url|image|image-set)\(/i;class StyleFilter extends Filter{attribute(j,$){return j==="style"&&Object.keys($).forEach(_e=>{String($[_e]).match(INVALID_STYLES)&&delete $[_e]}),$}}const ELEMENT_NODE=1,TEXT_NODE=3,INVALID_ROOTS=/^<(!doctype|(html|head|body)(\s|>))/i,ALLOWED_ATTRS=/^(aria-|data-|\w+:)/iu,OPEN_TOKEN=/{{{(\w+)\/?}}}/;function createDocument(){if(!(typeof window>"u"||typeof document>"u"))return document.implementation.createHTMLDocument("Interweave")}class Parser{constructor(j,$={},_e=[],et=[]){var tt;_defineProperty(this,"allowed",void 0),_defineProperty(this,"banned",void 0),_defineProperty(this,"blocked",void 0),_defineProperty(this,"container",void 0),_defineProperty(this,"content",[]),_defineProperty(this,"props",void 0),_defineProperty(this,"matchers",void 0),_defineProperty(this,"filters",void 0),_defineProperty(this,"keyIndex",void 0),this.props=$,this.matchers=_e,this.filters=[...et,new StyleFilter],this.keyIndex=-1,this.container=this.createContainer(j||""),this.allowed=new Set((tt=$.allowList)!==null&&tt!==void 0?tt:ALLOWED_TAG_LIST),this.banned=new Set(BANNED_TAG_LIST),this.blocked=new Set($.blockList)}applyAttributeFilters(j,$){return this.filters.reduce((_e,et)=>_e!==null&&typeof et.attribute=="function"?et.attribute(j,_e):_e,$)}applyNodeFilters(j,$){return this.filters.reduce((_e,et)=>_e!==null&&typeof et.node=="function"?et.node(j,_e):_e,$)}applyMatchers(j,$){const _e={},{props:et}=this;let tt=j,nt=0,rt=null;return this.matchers.forEach(st=>{const it=st.asTag().toLowerCase(),ct=this.getTagConfig(it);if(et[st.inverseName]||!this.isTagAllowed(it)||!this.canRenderChild($,ct))return;let ot="";for(;tt&&(rt=st.match(tt));){const{index:at,length:ft,match:dt,valid:mt,void:xt,...ht}=rt,gt=st.propName+String(nt);at>0&&(ot+=tt.slice(0,at)),mt?(ot+=xt?`{{{${gt}/}}}`:`{{{${gt}}}}${dt}{{{/${gt}}}}`,this.keyIndex+=1,nt+=1,_e[gt]={children:dt,matcher:st,props:{...et,...ht,key:this.keyIndex}}):ot+=dt,st.greedy?(tt=ot+tt.slice(at+ft),ot=""):tt=tt.slice(at+(ft||dt.length))}st.greedy||(tt=ot+tt)}),nt===0?j:this.replaceTokens(tt,_e)}canRenderChild(j,$){return!j.tagName||!$.tagName||j.void?!1:j.children.length>0?j.children.includes($.tagName):j.invalid.length>0&&j.invalid.includes($.tagName)?!1:$.parent.length>0?$.parent.includes(j.tagName):!j.self&&j.tagName===$.tagName?!1:!!(j&&j.content&$.type)}convertLineBreaks(j){const{noHtml:$,disableLineBreaks:_e}=this.props;if($||_e||j.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return j;let et=j.replace(/\r\n/g,`
`);return et=et.replace(/\n{3,}/g,`


`),et=et.replace(/\n/g,"<br/>"),et}createContainer(j){var $;const et=(typeof global<"u"&&global.INTERWEAVE_SSR_POLYFILL||createDocument)();if(!et)return;const tt=($=this.props.containerTagName)!==null&&$!==void 0?$:"body",nt=tt==="body"||tt==="fragment"?et.body:et.createElement(tt);return j.match(INVALID_ROOTS)||(nt.innerHTML=this.convertLineBreaks(this.props.escapeHtml?escapeHtml$1(j):j)),nt}extractAttributes(j){const{allowAttributes:$}=this.props,_e={};let et=0;return j.nodeType!==ELEMENT_NODE||!j.attributes||([...j.attributes].forEach(tt=>{const{name:nt,value:rt}=tt,st=nt.toLowerCase(),it=ATTRIBUTES[st]||ATTRIBUTES[nt];if(!this.isSafe(j)||!st.match(ALLOWED_ATTRS)&&(!$&&(!it||it===FILTER_DENY)||st.startsWith("on")||rt.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i)))return;let ct=st==="style"?this.extractStyleAttribute(j):rt;it===FILTER_CAST_BOOL?ct=!0:it===FILTER_CAST_NUMBER?ct=Number.parseFloat(String(ct)):it!==FILTER_NO_CAST&&(ct=String(ct)),_e[ATTRIBUTES_TO_PROPS[st]||st]=this.applyAttributeFilters(st,ct),et+=1}),et===0)?null:_e}extractStyleAttribute(j){const $={};return Array.from(j.style).forEach(_e=>{const et=j.style[_e];(typeof et=="string"||typeof et=="number")&&($[_e.replace(/-([a-z])/g,(tt,nt)=>String(nt).toUpperCase())]=et)}),$}getTagConfig(j){const $={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return TAGS[j]?{...$,...TAGS[j],tagName:j}:$}isSafe(j){if(typeof HTMLAnchorElement<"u"&&j instanceof HTMLAnchorElement){const $=j.getAttribute("href");if($!=null&&$.startsWith("#"))return!0;const _e=j.protocol.toLowerCase();return _e===":"||_e==="http:"||_e==="https:"||_e==="mailto:"||_e==="tel:"}return!0}isTagAllowed(j){return this.banned.has(j)||this.blocked.has(j)?!1:this.props.allowElements||this.allowed.has(j)}parse(){return this.container?this.parseNode(this.container,this.getTagConfig(this.container.nodeName.toLowerCase())):[]}parseNode(j,$){const{noHtml:_e,noHtmlExceptMatchers:et,allowElements:tt,transform:nt,transformOnlyAllowList:rt}=this.props;let st=[],it="";return[...j.childNodes].forEach(ct=>{if(ct.nodeType===ELEMENT_NODE){const at=ct.nodeName.toLowerCase(),ft=this.getTagConfig(at);it&&(st.push(it),it="");const dt=this.applyNodeFilters(at,ct);if(!dt)return;let mt;if(nt&&!(rt&&!this.isTagAllowed(at))){this.keyIndex+=1;const xt=this.keyIndex;mt=this.parseNode(dt,ft);const ht=nt(dt,mt,ft);if(ht===null)return;if(typeof ht<"u"){st.push(React$1.cloneElement(ht,{key:xt}));return}this.keyIndex=xt-1}if(this.banned.has(at))return;if(!(_e||et&&at!=="br")&&this.isTagAllowed(at)&&(tt||this.canRenderChild($,ft))){var ot;this.keyIndex+=1;const xt=this.extractAttributes(dt),ht={tagName:at};xt&&(ht.attributes=xt),ft.void&&(ht.selfClose=ft.void),st.push(React$1.createElement(Element$2,{...ht,key:this.keyIndex},(ot=mt)!==null&&ot!==void 0?ot:this.parseNode(dt,ft)))}else st=[...st,...this.parseNode(dt,ft.tagName?ft:$)]}else if(ct.nodeType===TEXT_NODE){const at=_e&&!et?ct.textContent:this.applyMatchers(ct.textContent||"",$);Array.isArray(at)?st=[...st,...at]:it+=at}}),it&&st.push(it),st}replaceTokens(j,$){if(!j.includes("{{{"))return j;const _e=[];let et=j,tt=null;for(;tt=et.match(OPEN_TOKEN);){const[nt,rt]=tt,st=tt.index,it=nt.includes("/");st>0&&(_e.push(et.slice(0,st)),et=et.slice(st));const{children:ct,matcher:ot,props:at}=$[rt];let ft;if(it)ft=nt.length,_e.push(ot.createElement(ct,at));else{const dt=et.match(new RegExp(`{{{/${rt}}}}`));ft=dt.index+dt[0].length,_e.push(ot.createElement(this.replaceTokens(et.slice(nt.length,dt.index),$),at))}et=et.slice(ft)}return et.length>0&&_e.push(et),_e.length===0?"":_e.length===1&&typeof _e[0]=="string"?_e[0]:_e}}function Markup(b){var j;const{attributes:$,className:_e,containerTagName:et,content:tt,emptyContent:nt,parsedContent:rt,tagName:st,noWrap:it}=b,ct=(j=et??st)!==null&&j!==void 0?j:"span",ot=ct==="fragment"?!0:it;let at;if(rt)at=rt;else{const ft=new Parser(tt??"",b).parse();ft.length>0&&(at=ft)}return at||(at=nt),ot?React$1.createElement(React$1.Fragment,null,at):React$1.createElement(Element$2,{attributes:$,className:_e,tagName:ct},at)}const blockList$1=["script","object"],ContentRenderer=({content:b})=>jsxRuntimeExports.jsx(Markup,{content:b,transform,blockList:blockList$1,noWrap:!0,allowElements:!0,allowAttributes:!0,transformOnlyAllowList:!0}),actionContext=reactExports.createContext({action:{name:"unknown",image:""},index:-1}),QspActions=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-actions");return useAtom_2(isActsVisible$)?jsxRuntimeExports.jsx($,{style:_e,...et,children:j}):null},QspActionsList=({attrs:b,children:j})=>{const $=useAtom_2(actions$),[_e,et,tt]=useAttributes(b,"qsp-actions-list");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$.map((nt,rt)=>jsxRuntimeExports.jsx(actionContext.Provider,{value:{action:nt,index:rt},children:React$1.Children.map(j,st=>React$1.cloneElement(st))},rt))})},QspActionItem=({attrs:b,children:j})=>{const $=useAtom_2(selectedAction$),{action:_e,index:et}=reactExports.useContext(actionContext),[tt,nt,{useFormat:rt,...st}]=useAttributes(b,"qsp-action"),it={...nt,"--action-image":_e.image?`url("${_e.image}")`:""},ct=()=>{selectAction(et)},ot=()=>{selectAction(-1)},at=dt=>{dt.preventDefault(),selectedAction$.value<0&&selectAction(et),execSelectedAction()},ft=$===et;return jsxRuntimeExports.jsx(tt,{...st,style:it,"data-qsp-selected":ft?"":null,onMouseOver:ct,onMouseLeave:ot,onClick:at,children:j})},QspActionName=({attrs:b})=>{const[j,$,_e]=useAttributes(b,"qsp-action-name"),{action:et}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx(j,{..._e,style:$,children:jsxRuntimeExports.jsx(ContentRenderer,{content:et.name})})},QspActionImage=({attrs:b})=>{const{action:j}=reactExports.useContext(actionContext),[,$,_e]=useAttributes(b,"img","qsp-action-image");return j.image?jsxRuntimeExports.jsx("img",{alt:"",style:$,..._e,src:j.image}):null},QspActionIndex=({attrs:b})=>{const[j,$,_e]=useAttributes(b,"qsp-action-index"),{index:et}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx(j,{..._e,style:$,children:et+1})};function composeEventHandlers(b,j,{checkForDefaultPrevented:$=!0}={}){return function(et){if(b==null||b(et),$===!1||!et.defaultPrevented)return j==null?void 0:j(et)}}function setRef(b,j){typeof b=="function"?b(j):b!=null&&(b.current=j)}function composeRefs(...b){return j=>b.forEach($=>setRef($,j))}function useComposedRefs(...b){return reactExports.useCallback(composeRefs(...b),b)}function createContext2(b,j){const $=reactExports.createContext(j);function _e(tt){const{children:nt,...rt}=tt,st=reactExports.useMemo(()=>rt,Object.values(rt));return jsxRuntimeExports.jsx($.Provider,{value:st,children:nt})}function et(tt){const nt=reactExports.useContext($);if(nt)return nt;if(j!==void 0)return j;throw new Error(`\`${tt}\` must be used within \`${b}\``)}return _e.displayName=b+"Provider",[_e,et]}function createContextScope(b,j=[]){let $=[];function _e(tt,nt){const rt=reactExports.createContext(nt),st=$.length;$=[...$,nt];function it(ot){const{scope:at,children:ft,...dt}=ot,mt=(at==null?void 0:at[b][st])||rt,xt=reactExports.useMemo(()=>dt,Object.values(dt));return jsxRuntimeExports.jsx(mt.Provider,{value:xt,children:ft})}function ct(ot,at){const ft=(at==null?void 0:at[b][st])||rt,dt=reactExports.useContext(ft);if(dt)return dt;if(nt!==void 0)return nt;throw new Error(`\`${ot}\` must be used within \`${tt}\``)}return it.displayName=tt+"Provider",[it,ct]}const et=()=>{const tt=$.map(nt=>reactExports.createContext(nt));return function(rt){const st=(rt==null?void 0:rt[b])||tt;return reactExports.useMemo(()=>({[`__scope${b}`]:{...rt,[b]:st}}),[rt,st])}};return et.scopeName=b,[_e,composeContextScopes(et,...j)]}function composeContextScopes(...b){const j=b[0];if(b.length===1)return j;const $=()=>{const _e=b.map(et=>({useScope:et(),scopeName:et.scopeName}));return function(tt){const nt=_e.reduce((rt,{useScope:st,scopeName:it})=>{const ot=st(tt)[`__scope${it}`];return{...rt,...ot}},{});return reactExports.useMemo(()=>({[`__scope${j.scopeName}`]:nt}),[nt])}};return $.scopeName=j.scopeName,$}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$2.useId||(()=>{}),count$1=0;function useId(b){const[j,$]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{b||$(_e=>_e??String(count$1++))},[b]),b||(j?`radix-${j}`:"")}function useCallbackRef$1(b){const j=reactExports.useRef(b);return reactExports.useEffect(()=>{j.current=b}),reactExports.useMemo(()=>(...$)=>{var _e;return(_e=j.current)==null?void 0:_e.call(j,...$)},[])}function useControllableState({prop:b,defaultProp:j,onChange:$=()=>{}}){const[_e,et]=useUncontrolledState({defaultProp:j,onChange:$}),tt=b!==void 0,nt=tt?b:_e,rt=useCallbackRef$1($),st=reactExports.useCallback(it=>{if(tt){const ot=typeof it=="function"?it(b):it;ot!==b&&rt(ot)}else et(it)},[tt,b,et,rt]);return[nt,st]}function useUncontrolledState({defaultProp:b,onChange:j}){const $=reactExports.useState(b),[_e]=$,et=reactExports.useRef(_e),tt=useCallbackRef$1(j);return reactExports.useEffect(()=>{et.current!==_e&&(tt(_e),et.current=_e)},[_e,et,tt]),$}var Slot=reactExports.forwardRef((b,j)=>{const{children:$,..._e}=b,et=reactExports.Children.toArray($),tt=et.find(isSlottable);if(tt){const nt=tt.props.children,rt=et.map(st=>st===tt?reactExports.Children.count(nt)>1?reactExports.Children.only(null):reactExports.isValidElement(nt)?nt.props.children:null:st);return jsxRuntimeExports.jsx(SlotClone,{..._e,ref:j,children:reactExports.isValidElement(nt)?reactExports.cloneElement(nt,void 0,rt):null})}return jsxRuntimeExports.jsx(SlotClone,{..._e,ref:j,children:$})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((b,j)=>{const{children:$,..._e}=b;if(reactExports.isValidElement($)){const et=getElementRef$1($);return reactExports.cloneElement($,{...mergeProps(_e,$.props),ref:j?composeRefs(j,et):et})}return reactExports.Children.count($)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:b})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:b});function isSlottable(b){return reactExports.isValidElement(b)&&b.type===Slottable}function mergeProps(b,j){const $={...j};for(const _e in j){const et=b[_e],tt=j[_e];/^on[A-Z]/.test(_e)?et&&tt?$[_e]=(...rt)=>{tt(...rt),et(...rt)}:et&&($[_e]=et):_e==="style"?$[_e]={...et,...tt}:_e==="className"&&($[_e]=[et,tt].filter(Boolean).join(" "))}return{...b,...$}}function getElementRef$1(b){var _e,et;let j=(_e=Object.getOwnPropertyDescriptor(b.props,"ref"))==null?void 0:_e.get,$=j&&"isReactWarning"in j&&j.isReactWarning;return $?b.ref:(j=(et=Object.getOwnPropertyDescriptor(b,"ref"))==null?void 0:et.get,$=j&&"isReactWarning"in j&&j.isReactWarning,$?b.props.ref:b.props.ref||b.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((b,j)=>{const $=reactExports.forwardRef((_e,et)=>{const{asChild:tt,...nt}=_e,rt=tt?Slot:j;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(rt,{...nt,ref:et})});return $.displayName=`Primitive.${j}`,{...b,[j]:$}},{});function dispatchDiscreteCustomEvent(b,j){b&&reactDomExports.flushSync(()=>b.dispatchEvent(j))}function useEscapeKeydown(b,j=globalThis==null?void 0:globalThis.document){const $=useCallbackRef$1(b);reactExports.useEffect(()=>{const _e=et=>{et.key==="Escape"&&$(et)};return j.addEventListener("keydown",_e,{capture:!0}),()=>j.removeEventListener("keydown",_e,{capture:!0})},[$,j])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((b,j)=>{const{disableOutsidePointerEvents:$=!1,onEscapeKeyDown:_e,onPointerDownOutside:et,onFocusOutside:tt,onInteractOutside:nt,onDismiss:rt,...st}=b,it=reactExports.useContext(DismissableLayerContext),[ct,ot]=reactExports.useState(null),at=(ct==null?void 0:ct.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,ft]=reactExports.useState({}),dt=useComposedRefs(j,wt=>ot(wt)),mt=Array.from(it.layers),[xt]=[...it.layersWithOutsidePointerEventsDisabled].slice(-1),ht=mt.indexOf(xt),gt=ct?mt.indexOf(ct):-1,Et=it.layersWithOutsidePointerEventsDisabled.size>0,St=gt>=ht,At=usePointerDownOutside(wt=>{const Pt=wt.target,bt=[...it.branches].some(Bt=>Bt.contains(Pt));!St||bt||(et==null||et(wt),nt==null||nt(wt),wt.defaultPrevented||rt==null||rt())},at),$t=useFocusOutside(wt=>{const Pt=wt.target;[...it.branches].some(Bt=>Bt.contains(Pt))||(tt==null||tt(wt),nt==null||nt(wt),wt.defaultPrevented||rt==null||rt())},at);return useEscapeKeydown(wt=>{gt===it.layers.size-1&&(_e==null||_e(wt),!wt.defaultPrevented&&rt&&(wt.preventDefault(),rt()))},at),reactExports.useEffect(()=>{if(ct)return $&&(it.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=at.body.style.pointerEvents,at.body.style.pointerEvents="none"),it.layersWithOutsidePointerEventsDisabled.add(ct)),it.layers.add(ct),dispatchUpdate(),()=>{$&&it.layersWithOutsidePointerEventsDisabled.size===1&&(at.body.style.pointerEvents=originalBodyPointerEvents)}},[ct,at,$,it]),reactExports.useEffect(()=>()=>{ct&&(it.layers.delete(ct),it.layersWithOutsidePointerEventsDisabled.delete(ct),dispatchUpdate())},[ct,it]),reactExports.useEffect(()=>{const wt=()=>ft({});return document.addEventListener(CONTEXT_UPDATE,wt),()=>document.removeEventListener(CONTEXT_UPDATE,wt)},[]),jsxRuntimeExports.jsx(Primitive.div,{...st,ref:dt,style:{pointerEvents:Et?St?"auto":"none":void 0,...b.style},onFocusCapture:composeEventHandlers(b.onFocusCapture,$t.onFocusCapture),onBlurCapture:composeEventHandlers(b.onBlurCapture,$t.onBlurCapture),onPointerDownCapture:composeEventHandlers(b.onPointerDownCapture,At.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((b,j)=>{const $=reactExports.useContext(DismissableLayerContext),_e=reactExports.useRef(null),et=useComposedRefs(j,_e);return reactExports.useEffect(()=>{const tt=_e.current;if(tt)return $.branches.add(tt),()=>{$.branches.delete(tt)}},[$.branches]),jsxRuntimeExports.jsx(Primitive.div,{...b,ref:et})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(b,j=globalThis==null?void 0:globalThis.document){const $=useCallbackRef$1(b),_e=reactExports.useRef(!1),et=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const tt=rt=>{if(rt.target&&!_e.current){let st=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,$,it,{discrete:!0})};const it={originalEvent:rt};rt.pointerType==="touch"?(j.removeEventListener("click",et.current),et.current=st,j.addEventListener("click",et.current,{once:!0})):st()}else j.removeEventListener("click",et.current);_e.current=!1},nt=window.setTimeout(()=>{j.addEventListener("pointerdown",tt)},0);return()=>{window.clearTimeout(nt),j.removeEventListener("pointerdown",tt),j.removeEventListener("click",et.current)}},[j,$]),{onPointerDownCapture:()=>_e.current=!0}}function useFocusOutside(b,j=globalThis==null?void 0:globalThis.document){const $=useCallbackRef$1(b),_e=reactExports.useRef(!1);return reactExports.useEffect(()=>{const et=tt=>{tt.target&&!_e.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,$,{originalEvent:tt},{discrete:!1})};return j.addEventListener("focusin",et),()=>j.removeEventListener("focusin",et)},[j,$]),{onFocusCapture:()=>_e.current=!0,onBlurCapture:()=>_e.current=!1}}function dispatchUpdate(){const b=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(b)}function handleAndDispatchCustomEvent$1(b,j,$,{discrete:_e}){const et=$.originalEvent.target,tt=new CustomEvent(b,{bubbles:!1,cancelable:!0,detail:$});j&&et.addEventListener(b,j,{once:!0}),_e?dispatchDiscreteCustomEvent(et,tt):et.dispatchEvent(tt)}var Root$7=DismissableLayer,Branch=DismissableLayerBranch,AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((b,j)=>{const{loop:$=!1,trapped:_e=!1,onMountAutoFocus:et,onUnmountAutoFocus:tt,...nt}=b,[rt,st]=reactExports.useState(null),it=useCallbackRef$1(et),ct=useCallbackRef$1(tt),ot=reactExports.useRef(null),at=useComposedRefs(j,mt=>st(mt)),ft=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(_e){let mt=function(Et){if(ft.paused||!rt)return;const St=Et.target;rt.contains(St)?ot.current=St:focus(ot.current,{select:!0})},xt=function(Et){if(ft.paused||!rt)return;const St=Et.relatedTarget;St!==null&&(rt.contains(St)||focus(ot.current,{select:!0}))},ht=function(Et){if(document.activeElement===document.body)for(const At of Et)At.removedNodes.length>0&&focus(rt)};document.addEventListener("focusin",mt),document.addEventListener("focusout",xt);const gt=new MutationObserver(ht);return rt&&gt.observe(rt,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",mt),document.removeEventListener("focusout",xt),gt.disconnect()}}},[_e,rt,ft.paused]),reactExports.useEffect(()=>{if(rt){focusScopesStack.add(ft);const mt=document.activeElement;if(!rt.contains(mt)){const ht=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);rt.addEventListener(AUTOFOCUS_ON_MOUNT,it),rt.dispatchEvent(ht),ht.defaultPrevented||(focusFirst$3(removeLinks(getTabbableCandidates$1(rt)),{select:!0}),document.activeElement===mt&&focus(rt))}return()=>{rt.removeEventListener(AUTOFOCUS_ON_MOUNT,it),setTimeout(()=>{const ht=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);rt.addEventListener(AUTOFOCUS_ON_UNMOUNT,ct),rt.dispatchEvent(ht),ht.defaultPrevented||focus(mt??document.body,{select:!0}),rt.removeEventListener(AUTOFOCUS_ON_UNMOUNT,ct),focusScopesStack.remove(ft)},0)}}},[rt,it,ct,ft]);const dt=reactExports.useCallback(mt=>{if(!$&&!_e||ft.paused)return;const xt=mt.key==="Tab"&&!mt.altKey&&!mt.ctrlKey&&!mt.metaKey,ht=document.activeElement;if(xt&&ht){const gt=mt.currentTarget,[Et,St]=getTabbableEdges(gt);Et&&St?!mt.shiftKey&&ht===St?(mt.preventDefault(),$&&focus(Et,{select:!0})):mt.shiftKey&&ht===Et&&(mt.preventDefault(),$&&focus(St,{select:!0})):ht===gt&&mt.preventDefault()}},[$,_e,ft.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...nt,ref:at,onKeyDown:dt})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$3(b,{select:j=!1}={}){const $=document.activeElement;for(const _e of b)if(focus(_e,{select:j}),document.activeElement!==$)return}function getTabbableEdges(b){const j=getTabbableCandidates$1(b),$=findVisible(j,b),_e=findVisible(j.reverse(),b);return[$,_e]}function getTabbableCandidates$1(b){const j=[],$=document.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,{acceptNode:_e=>{const et=_e.tagName==="INPUT"&&_e.type==="hidden";return _e.disabled||_e.hidden||et?NodeFilter.FILTER_SKIP:_e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;$.nextNode();)j.push($.currentNode);return j}function findVisible(b,j){for(const $ of b)if(!isHidden($,{upTo:j}))return $}function isHidden(b,{upTo:j}){if(getComputedStyle(b).visibility==="hidden")return!0;for(;b;){if(j!==void 0&&b===j)return!1;if(getComputedStyle(b).display==="none")return!0;b=b.parentElement}return!1}function isSelectableInput(b){return b instanceof HTMLInputElement&&"select"in b}function focus(b,{select:j=!1}={}){if(b&&b.focus){const $=document.activeElement;b.focus({preventScroll:!0}),b!==$&&isSelectableInput(b)&&j&&b.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let b=[];return{add(j){const $=b[0];j!==$&&($==null||$.pause()),b=arrayRemove(b,j),b.unshift(j)},remove(j){var $;b=arrayRemove(b,j),($=b[0])==null||$.resume()}}}function arrayRemove(b,j){const $=[...b],_e=$.indexOf(j);return _e!==-1&&$.splice(_e,1),$}function removeLinks(b){return b.filter(j=>j.tagName!=="A")}var PORTAL_NAME$6="Portal",Portal$4=reactExports.forwardRef((b,j)=>{var rt;const{container:$,..._e}=b,[et,tt]=reactExports.useState(!1);useLayoutEffect2(()=>tt(!0),[]);const nt=$||et&&((rt=globalThis==null?void 0:globalThis.document)==null?void 0:rt.body);return nt?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:j}),nt):null});Portal$4.displayName=PORTAL_NAME$6;function useStateMachine$1(b,j){return reactExports.useReducer(($,_e)=>j[$][_e]??$,b)}var Presence=b=>{const{present:j,children:$}=b,_e=usePresence(j),et=typeof $=="function"?$({present:_e.isPresent}):reactExports.Children.only($),tt=useComposedRefs(_e.ref,getElementRef(et));return typeof $=="function"||_e.isPresent?reactExports.cloneElement(et,{ref:tt}):null};Presence.displayName="Presence";function usePresence(b){const[j,$]=reactExports.useState(),_e=reactExports.useRef({}),et=reactExports.useRef(b),tt=reactExports.useRef("none"),nt=b?"mounted":"unmounted",[rt,st]=useStateMachine$1(nt,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const it=getAnimationName(_e.current);tt.current=rt==="mounted"?it:"none"},[rt]),useLayoutEffect2(()=>{const it=_e.current,ct=et.current;if(ct!==b){const at=tt.current,ft=getAnimationName(it);b?st("MOUNT"):ft==="none"||(it==null?void 0:it.display)==="none"?st("UNMOUNT"):st(ct&&at!==ft?"ANIMATION_OUT":"UNMOUNT"),et.current=b}},[b,st]),useLayoutEffect2(()=>{if(j){const it=ot=>{const ft=getAnimationName(_e.current).includes(ot.animationName);ot.target===j&&ft&&reactDomExports.flushSync(()=>st("ANIMATION_END"))},ct=ot=>{ot.target===j&&(tt.current=getAnimationName(_e.current))};return j.addEventListener("animationstart",ct),j.addEventListener("animationcancel",it),j.addEventListener("animationend",it),()=>{j.removeEventListener("animationstart",ct),j.removeEventListener("animationcancel",it),j.removeEventListener("animationend",it)}}else st("ANIMATION_END")},[j,st]),{isPresent:["mounted","unmountSuspended"].includes(rt),ref:reactExports.useCallback(it=>{it&&(_e.current=getComputedStyle(it)),$(it)},[])}}function getAnimationName(b){return(b==null?void 0:b.animationName)||"none"}function getElementRef(b){var _e,et;let j=(_e=Object.getOwnPropertyDescriptor(b.props,"ref"))==null?void 0:_e.get,$=j&&"isReactWarning"in j&&j.isReactWarning;return $?b.ref:(j=(et=Object.getOwnPropertyDescriptor(b,"ref"))==null?void 0:et.get,$=j&&"isReactWarning"in j&&j.isReactWarning,$?b.props.ref:b.props.ref||b.ref)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const b=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",b[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",b[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(j=>j.remove()),count--}},[])}function createFocusGuard(){const b=document.createElement("span");return b.setAttribute("data-radix-focus-guard",""),b.tabIndex=0,b.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",b}var __assign=function(){return __assign=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++){$=arguments[_e];for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt])}return j},__assign.apply(this,arguments)};function __rest(b,j){var $={};for(var _e in b)Object.prototype.hasOwnProperty.call(b,_e)&&j.indexOf(_e)<0&&($[_e]=b[_e]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,_e=Object.getOwnPropertySymbols(b);et<_e.length;et++)j.indexOf(_e[et])<0&&Object.prototype.propertyIsEnumerable.call(b,_e[et])&&($[_e[et]]=b[_e[et]]);return $}function __spreadArray(b,j,$){if($||arguments.length===2)for(var _e=0,et=j.length,tt;_e<et;_e++)(tt||!(_e in j))&&(tt||(tt=Array.prototype.slice.call(j,0,_e)),tt[_e]=j[_e]);return b.concat(tt||Array.prototype.slice.call(j))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(b,j){return typeof b=="function"?b(j):b&&(b.current=j),b}function useCallbackRef(b,j){var $=reactExports.useState(function(){return{value:b,callback:j,facade:{get current(){return $.value},set current(_e){var et=$.value;et!==_e&&($.value=_e,$.callback(_e,et))}}}})[0];return $.callback=j,$.facade}function useMergeRefs(b,j){return useCallbackRef(null,function($){return b.forEach(function(_e){return assignRef(_e,$)})})}function ItoI(b){return b}function innerCreateMedium(b,j){j===void 0&&(j=ItoI);var $=[],_e=!1,et={read:function(){if(_e)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return $.length?$[$.length-1]:b},useMedium:function(tt){var nt=j(tt,_e);return $.push(nt),function(){$=$.filter(function(rt){return rt!==nt})}},assignSyncMedium:function(tt){for(_e=!0;$.length;){var nt=$;$=[],nt.forEach(tt)}$={push:function(rt){return tt(rt)},filter:function(){return $}}},assignMedium:function(tt){_e=!0;var nt=[];if($.length){var rt=$;$=[],rt.forEach(tt),nt=$}var st=function(){var ct=nt;nt=[],ct.forEach(tt)},it=function(){return Promise.resolve().then(st)};it(),$={push:function(ct){nt.push(ct),it()},filter:function(ct){return nt=nt.filter(ct),$}}}};return et}function createSidecarMedium(b){b===void 0&&(b={});var j=innerCreateMedium(null);return j.options=__assign({async:!0,ssr:!1},b),j}var SideCar$1=function(b){var j=b.sideCar,$=__rest(b,["sideCar"]);if(!j)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var _e=j.read();if(!_e)throw new Error("Sidecar medium not found");return reactExports.createElement(_e,__assign({},$))};SideCar$1.isSideCarExport=!0;function exportSidecar(b,j){return b.useMedium(j),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(b,j){var $=reactExports.useRef(null),_e=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),et=_e[0],tt=_e[1],nt=b.forwardProps,rt=b.children,st=b.className,it=b.removeScrollBar,ct=b.enabled,ot=b.shards,at=b.sideCar,ft=b.noIsolation,dt=b.inert,mt=b.allowPinchZoom,xt=b.as,ht=xt===void 0?"div":xt,gt=b.gapMode,Et=__rest(b,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),St=at,At=useMergeRefs([$,j]),$t=__assign(__assign({},Et),et);return reactExports.createElement(reactExports.Fragment,null,ct&&reactExports.createElement(St,{sideCar:effectCar,removeScrollBar:it,shards:ot,noIsolation:ft,inert:dt,setCallbacks:tt,allowPinchZoom:!!mt,lockRef:$,gapMode:gt}),nt?reactExports.cloneElement(reactExports.Children.only(rt),__assign(__assign({},$t),{ref:At})):reactExports.createElement(ht,__assign({},$t,{className:st,ref:At}),rt))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var b=document.createElement("style");b.type="text/css";var j=getNonce();return j&&b.setAttribute("nonce",j),b}function injectStyles(b,j){b.styleSheet?b.styleSheet.cssText=j:b.appendChild(document.createTextNode(j))}function insertStyleTag(b){var j=document.head||document.getElementsByTagName("head")[0];j.appendChild(b)}var stylesheetSingleton=function(){var b=0,j=null;return{add:function($){b==0&&(j=makeStyleTag())&&(injectStyles(j,$),insertStyleTag(j)),b++},remove:function(){b--,!b&&j&&(j.parentNode&&j.parentNode.removeChild(j),j=null)}}},styleHookSingleton=function(){var b=stylesheetSingleton();return function(j,$){reactExports.useEffect(function(){return b.add(j),function(){b.remove()}},[j&&$])}},styleSingleton=function(){var b=styleHookSingleton(),j=function($){var _e=$.styles,et=$.dynamic;return b(_e,et),null};return j},zeroGap={left:0,top:0,right:0,gap:0},parse=function(b){return parseInt(b||"",10)||0},getOffset=function(b){var j=window.getComputedStyle(document.body),$=j[b==="padding"?"paddingLeft":"marginLeft"],_e=j[b==="padding"?"paddingTop":"marginTop"],et=j[b==="padding"?"paddingRight":"marginRight"];return[parse($),parse(_e),parse(et)]},getGapWidth=function(b){if(b===void 0&&(b="margin"),typeof window>"u")return zeroGap;var j=getOffset(b),$=document.documentElement.clientWidth,_e=window.innerWidth;return{left:j[0],top:j[1],right:j[2],gap:Math.max(0,_e-$+j[2]-j[0])}},Style=styleSingleton(),getStyles=function(b,j,$,_e){var et=b.left,tt=b.top,nt=b.right,rt=b.gap;return $===void 0&&($="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(_e,`;
   padding-right: `).concat(rt,"px ").concat(_e,`;
  }
  body {
    overflow: hidden `).concat(_e,`;
    overscroll-behavior: contain;
    `).concat([j&&"position: relative ".concat(_e,";"),$==="margin"&&`
    padding-left: `.concat(et,`px;
    padding-top: `).concat(tt,`px;
    padding-right: `).concat(nt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(rt,"px ").concat(_e,`;
    `),$==="padding"&&"padding-right: ".concat(rt,"px ").concat(_e,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(rt,"px ").concat(_e,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(rt,"px ").concat(_e,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(_e,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(_e,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(rt,`px;
  }
`)},RemoveScrollBar=function(b){var j=b.noRelative,$=b.noImportant,_e=b.gapMode,et=_e===void 0?"margin":_e,tt=reactExports.useMemo(function(){return getGapWidth(et)},[et]);return reactExports.createElement(Style,{styles:getStyles(tt,!j,et,$?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(b){return b.tagName==="TEXTAREA"},elementCanBeScrolled=function(b,j){var $=window.getComputedStyle(b);return $[j]!=="hidden"&&!($.overflowY===$.overflowX&&!alwaysContainsScroll(b)&&$[j]==="visible")},elementCouldBeVScrolled=function(b){return elementCanBeScrolled(b,"overflowY")},elementCouldBeHScrolled=function(b){return elementCanBeScrolled(b,"overflowX")},locationCouldBeScrolled=function(b,j){var $=j.ownerDocument,_e=j;do{typeof ShadowRoot<"u"&&_e instanceof ShadowRoot&&(_e=_e.host);var et=elementCouldBeScrolled(b,_e);if(et){var tt=getScrollVariables(b,_e),nt=tt[1],rt=tt[2];if(nt>rt)return!0}_e=_e.parentNode}while(_e&&_e!==$.body);return!1},getVScrollVariables=function(b){var j=b.scrollTop,$=b.scrollHeight,_e=b.clientHeight;return[j,$,_e]},getHScrollVariables=function(b){var j=b.scrollLeft,$=b.scrollWidth,_e=b.clientWidth;return[j,$,_e]},elementCouldBeScrolled=function(b,j){return b==="v"?elementCouldBeVScrolled(j):elementCouldBeHScrolled(j)},getScrollVariables=function(b,j){return b==="v"?getVScrollVariables(j):getHScrollVariables(j)},getDirectionFactor=function(b,j){return b==="h"&&j==="rtl"?-1:1},handleScroll=function(b,j,$,_e,et){var tt=getDirectionFactor(b,window.getComputedStyle(j).direction),nt=tt*_e,rt=$.target,st=j.contains(rt),it=!1,ct=nt>0,ot=0,at=0;do{var ft=getScrollVariables(b,rt),dt=ft[0],mt=ft[1],xt=ft[2],ht=mt-xt-tt*dt;(dt||ht)&&elementCouldBeScrolled(b,rt)&&(ot+=ht,at+=dt),rt instanceof ShadowRoot?rt=rt.host:rt=rt.parentNode}while(!st&&rt!==document.body||st&&(j.contains(rt)||j===rt));return(ct&&(Math.abs(ot)<1||!et)||!ct&&(Math.abs(at)<1||!et))&&(it=!0),it},getTouchXY=function(b){return"changedTouches"in b?[b.changedTouches[0].clientX,b.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(b){return[b.deltaX,b.deltaY]},extractRef=function(b){return b&&"current"in b?b.current:b},deltaCompare=function(b,j){return b[0]===j[0]&&b[1]===j[1]},generateStyle=function(b){return`
  .block-interactivity-`.concat(b,` {pointer-events: none;}
  .allow-interactivity-`).concat(b,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(b){var j=reactExports.useRef([]),$=reactExports.useRef([0,0]),_e=reactExports.useRef(),et=reactExports.useState(idCounter++)[0],tt=reactExports.useState(styleSingleton)[0],nt=reactExports.useRef(b);reactExports.useEffect(function(){nt.current=b},[b]),reactExports.useEffect(function(){if(b.inert){document.body.classList.add("block-interactivity-".concat(et));var mt=__spreadArray([b.lockRef.current],(b.shards||[]).map(extractRef),!0).filter(Boolean);return mt.forEach(function(xt){return xt.classList.add("allow-interactivity-".concat(et))}),function(){document.body.classList.remove("block-interactivity-".concat(et)),mt.forEach(function(xt){return xt.classList.remove("allow-interactivity-".concat(et))})}}},[b.inert,b.lockRef.current,b.shards]);var rt=reactExports.useCallback(function(mt,xt){if("touches"in mt&&mt.touches.length===2)return!nt.current.allowPinchZoom;var ht=getTouchXY(mt),gt=$.current,Et="deltaX"in mt?mt.deltaX:gt[0]-ht[0],St="deltaY"in mt?mt.deltaY:gt[1]-ht[1],At,$t=mt.target,wt=Math.abs(Et)>Math.abs(St)?"h":"v";if("touches"in mt&&wt==="h"&&$t.type==="range")return!1;var Pt=locationCouldBeScrolled(wt,$t);if(!Pt)return!0;if(Pt?At=wt:(At=wt==="v"?"h":"v",Pt=locationCouldBeScrolled(wt,$t)),!Pt)return!1;if(!_e.current&&"changedTouches"in mt&&(Et||St)&&(_e.current=At),!At)return!0;var bt=_e.current||At;return handleScroll(bt,xt,mt,bt==="h"?Et:St,!0)},[]),st=reactExports.useCallback(function(mt){var xt=mt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==tt)){var ht="deltaY"in xt?getDeltaXY(xt):getTouchXY(xt),gt=j.current.filter(function(At){return At.name===xt.type&&(At.target===xt.target||xt.target===At.shadowParent)&&deltaCompare(At.delta,ht)})[0];if(gt&&gt.should){xt.cancelable&&xt.preventDefault();return}if(!gt){var Et=(nt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(At){return At.contains(xt.target)}),St=Et.length>0?rt(xt,Et[0]):!nt.current.noIsolation;St&&xt.cancelable&&xt.preventDefault()}}},[]),it=reactExports.useCallback(function(mt,xt,ht,gt){var Et={name:mt,delta:xt,target:ht,should:gt,shadowParent:getOutermostShadowParent(ht)};j.current.push(Et),setTimeout(function(){j.current=j.current.filter(function(St){return St!==Et})},1)},[]),ct=reactExports.useCallback(function(mt){$.current=getTouchXY(mt),_e.current=void 0},[]),ot=reactExports.useCallback(function(mt){it(mt.type,getDeltaXY(mt),mt.target,rt(mt,b.lockRef.current))},[]),at=reactExports.useCallback(function(mt){it(mt.type,getTouchXY(mt),mt.target,rt(mt,b.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(tt),b.setCallbacks({onScrollCapture:ot,onWheelCapture:ot,onTouchMoveCapture:at}),document.addEventListener("wheel",st,nonPassive),document.addEventListener("touchmove",st,nonPassive),document.addEventListener("touchstart",ct,nonPassive),function(){lockStack=lockStack.filter(function(mt){return mt!==tt}),document.removeEventListener("wheel",st,nonPassive),document.removeEventListener("touchmove",st,nonPassive),document.removeEventListener("touchstart",ct,nonPassive)}},[]);var ft=b.removeScrollBar,dt=b.inert;return reactExports.createElement(reactExports.Fragment,null,dt?reactExports.createElement(tt,{styles:generateStyle(et)}):null,ft?reactExports.createElement(RemoveScrollBar,{gapMode:b.gapMode}):null)}function getOutermostShadowParent(b){for(var j=null;b!==null;)b instanceof ShadowRoot&&(j=b.host,b=b.host),b=b.parentNode;return j}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(b,j){return reactExports.createElement(RemoveScroll,__assign({},b,{ref:j,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(b){if(typeof document>"u")return null;var j=Array.isArray(b)?b[0]:b;return j.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(b){return b&&(b.host||unwrapHost(b.parentNode))},correctTargets=function(b,j){return j.map(function($){if(b.contains($))return $;var _e=unwrapHost($);return _e&&b.contains(_e)?_e:(console.error("aria-hidden",$,"in not contained inside",b,". Doing nothing"),null)}).filter(function($){return!!$})},applyAttributeToOthers=function(b,j,$,_e){var et=correctTargets(j,Array.isArray(b)?b:[b]);markerMap[$]||(markerMap[$]=new WeakMap);var tt=markerMap[$],nt=[],rt=new Set,st=new Set(et),it=function(ot){!ot||rt.has(ot)||(rt.add(ot),it(ot.parentNode))};et.forEach(it);var ct=function(ot){!ot||st.has(ot)||Array.prototype.forEach.call(ot.children,function(at){if(rt.has(at))ct(at);else{var ft=at.getAttribute(_e),dt=ft!==null&&ft!=="false",mt=(counterMap.get(at)||0)+1,xt=(tt.get(at)||0)+1;counterMap.set(at,mt),tt.set(at,xt),nt.push(at),mt===1&&dt&&uncontrolledNodes.set(at,!0),xt===1&&at.setAttribute($,"true"),dt||at.setAttribute(_e,"true")}})};return ct(j),rt.clear(),lockCount++,function(){nt.forEach(function(ot){var at=counterMap.get(ot)-1,ft=tt.get(ot)-1;counterMap.set(ot,at),tt.set(ot,ft),at||(uncontrolledNodes.has(ot)||ot.removeAttribute(_e),uncontrolledNodes.delete(ot)),ft||ot.removeAttribute($)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(b,j,$){$===void 0&&($="data-aria-hidden");var _e=Array.from(Array.isArray(b)?b:[b]),et=getDefaultParent(b);return et?(_e.push.apply(_e,Array.from(et.querySelectorAll("[aria-live]"))),applyAttributeToOthers(_e,et,$,"aria-hidden")):function(){return null}},DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog=b=>{const{__scopeDialog:j,children:$,open:_e,defaultOpen:et,onOpenChange:tt,modal:nt=!0}=b,rt=reactExports.useRef(null),st=reactExports.useRef(null),[it=!1,ct]=useControllableState({prop:_e,defaultProp:et,onChange:tt});return jsxRuntimeExports.jsx(DialogProvider,{scope:j,triggerRef:rt,contentRef:st,contentId:useId(),titleId:useId(),descriptionId:useId(),open:it,onOpenChange:ct,onOpenToggle:reactExports.useCallback(()=>ct(ot=>!ot),[ct]),modal:nt,children:$})};Dialog.displayName=DIALOG_NAME;var TRIGGER_NAME$4="DialogTrigger",DialogTrigger=reactExports.forwardRef((b,j)=>{const{__scopeDialog:$,..._e}=b,et=useDialogContext(TRIGGER_NAME$4,$),tt=useComposedRefs(j,et.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":et.open,"aria-controls":et.contentId,"data-state":getState$1(et.open),..._e,ref:tt,onClick:composeEventHandlers(b.onClick,et.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$4;var PORTAL_NAME$5="DialogPortal",[PortalProvider$2,usePortalContext$2]=createDialogContext(PORTAL_NAME$5,{forceMount:void 0}),DialogPortal=b=>{const{__scopeDialog:j,forceMount:$,children:_e,container:et}=b,tt=useDialogContext(PORTAL_NAME$5,j);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:j,forceMount:$,children:reactExports.Children.map(_e,nt=>jsxRuntimeExports.jsx(Presence,{present:$||tt.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:et,children:nt})}))})};DialogPortal.displayName=PORTAL_NAME$5;var OVERLAY_NAME$1="DialogOverlay",DialogOverlay=reactExports.forwardRef((b,j)=>{const $=usePortalContext$2(OVERLAY_NAME$1,b.__scopeDialog),{forceMount:_e=$.forceMount,...et}=b,tt=useDialogContext(OVERLAY_NAME$1,b.__scopeDialog);return tt.modal?jsxRuntimeExports.jsx(Presence,{present:_e||tt.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...et,ref:j})}):null});DialogOverlay.displayName=OVERLAY_NAME$1;var DialogOverlayImpl=reactExports.forwardRef((b,j)=>{const{__scopeDialog:$,..._e}=b,et=useDialogContext(OVERLAY_NAME$1,$);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[et.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$1(et.open),..._e,ref:j,style:{pointerEvents:"auto",..._e.style}})})}),CONTENT_NAME$6="DialogContent",DialogContent=reactExports.forwardRef((b,j)=>{const $=usePortalContext$2(CONTENT_NAME$6,b.__scopeDialog),{forceMount:_e=$.forceMount,...et}=b,tt=useDialogContext(CONTENT_NAME$6,b.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:_e||tt.open,children:tt.modal?jsxRuntimeExports.jsx(DialogContentModal,{...et,ref:j}):jsxRuntimeExports.jsx(DialogContentNonModal,{...et,ref:j})})});DialogContent.displayName=CONTENT_NAME$6;var DialogContentModal=reactExports.forwardRef((b,j)=>{const $=useDialogContext(CONTENT_NAME$6,b.__scopeDialog),_e=reactExports.useRef(null),et=useComposedRefs(j,$.contentRef,_e);return reactExports.useEffect(()=>{const tt=_e.current;if(tt)return hideOthers(tt)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...b,ref:et,trapFocus:$.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(b.onCloseAutoFocus,tt=>{var nt;tt.preventDefault(),(nt=$.triggerRef.current)==null||nt.focus()}),onPointerDownOutside:composeEventHandlers(b.onPointerDownOutside,tt=>{const nt=tt.detail.originalEvent,rt=nt.button===0&&nt.ctrlKey===!0;(nt.button===2||rt)&&tt.preventDefault()}),onFocusOutside:composeEventHandlers(b.onFocusOutside,tt=>tt.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((b,j)=>{const $=useDialogContext(CONTENT_NAME$6,b.__scopeDialog),_e=reactExports.useRef(!1),et=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...b,ref:j,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:tt=>{var nt,rt;(nt=b.onCloseAutoFocus)==null||nt.call(b,tt),tt.defaultPrevented||(_e.current||(rt=$.triggerRef.current)==null||rt.focus(),tt.preventDefault()),_e.current=!1,et.current=!1},onInteractOutside:tt=>{var st,it;(st=b.onInteractOutside)==null||st.call(b,tt),tt.defaultPrevented||(_e.current=!0,tt.detail.originalEvent.type==="pointerdown"&&(et.current=!0));const nt=tt.target;((it=$.triggerRef.current)==null?void 0:it.contains(nt))&&tt.preventDefault(),tt.detail.originalEvent.type==="focusin"&&et.current&&tt.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((b,j)=>{const{__scopeDialog:$,trapFocus:_e,onOpenAutoFocus:et,onCloseAutoFocus:tt,...nt}=b,rt=useDialogContext(CONTENT_NAME$6,$),st=reactExports.useRef(null),it=useComposedRefs(j,st);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:_e,onMountAutoFocus:et,onUnmountAutoFocus:tt,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:rt.contentId,"aria-describedby":rt.descriptionId,"aria-labelledby":rt.titleId,"data-state":getState$1(rt.open),...nt,ref:it,onDismiss:()=>rt.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:rt.titleId}),jsxRuntimeExports.jsx(DescriptionWarning$1,{contentRef:st,descriptionId:rt.descriptionId})]})]})}),TITLE_NAME$2="DialogTitle",DialogTitle=reactExports.forwardRef((b,j)=>{const{__scopeDialog:$,..._e}=b,et=useDialogContext(TITLE_NAME$2,$);return jsxRuntimeExports.jsx(Primitive.h2,{id:et.titleId,..._e,ref:j})});DialogTitle.displayName=TITLE_NAME$2;var DESCRIPTION_NAME$2="DialogDescription",DialogDescription=reactExports.forwardRef((b,j)=>{const{__scopeDialog:$,..._e}=b,et=useDialogContext(DESCRIPTION_NAME$2,$);return jsxRuntimeExports.jsx(Primitive.p,{id:et.descriptionId,..._e,ref:j})});DialogDescription.displayName=DESCRIPTION_NAME$2;var CLOSE_NAME$1="DialogClose",DialogClose=reactExports.forwardRef((b,j)=>{const{__scopeDialog:$,..._e}=b,et=useDialogContext(CLOSE_NAME$1,$);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._e,ref:j,onClick:composeEventHandlers(b.onClick,()=>et.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME$1;function getState$1(b){return b?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$6,titleName:TITLE_NAME$2,docsSlug:"dialog"}),TitleWarning=({titleId:b})=>{const j=useWarningContext(TITLE_WARNING_NAME),$=`\`${j.contentName}\` requires a \`${j.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${j.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${j.docsSlug}`;return reactExports.useEffect(()=>{b&&(document.getElementById(b)||console.error($))},[$,b]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning$1=({contentRef:b,descriptionId:j})=>{const _e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var tt;const et=(tt=b.current)==null?void 0:tt.getAttribute("aria-describedby");j&&et&&(document.getElementById(j)||console.warn(_e))},[_e,b,j]),null},Root$6=Dialog,Trigger$3=DialogTrigger,Portal$3=DialogPortal,Overlay=DialogOverlay,Content$1=DialogContent,Title=DialogTitle,Description$1=DialogDescription,Close$1=DialogClose;const noop$1=b=>{},buttonContext=reactExports.createContext({okAction:noop$1,cancelAction:noop$1}),QspCloseButton=({attrs:b,children:j})=>{const[,$,_e]=useAttributes(b,"button","qsp-close-button");return jsxRuntimeExports.jsx(Close$1,{asChild:!0,children:jsxRuntimeExports.jsx("button",{style:$,..._e,children:j})})},QspOkButton=({attrs:b,children:j})=>{const[,$,_e]=useAttributes(b,"button","qsp-ok-button"),{okAction:et}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:$,..._e,onClick:et,children:j})},QspCancelButton=({attrs:b,children:j})=>{const[,$,_e]=useAttributes(b,"button","qsp-cancel-button"),{cancelAction:et}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:$,..._e,onClick:et,children:j})},QspCmd=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-cmd"),tt=useAtom_2(isCmdVisible$),nt=rt=>{rt.preventDefault(),submitUserInput()};return tt?jsxRuntimeExports.jsx($,{style:_e,...et,children:jsxRuntimeExports.jsx("form",{onSubmit:nt,children:j})}):null},QspCmdInput=({attrs:b})=>{const j=useAtom_2(cmdText$),[,$,_e]=useAttributes(b,"input","qsp-cmd-input"),et=tt=>{cmdText$.set(tt.target.value)};return jsxRuntimeExports.jsx("input",{style:$,..._e,type:"text",value:j,onInput:et})};var DirectionContext=reactExports.createContext(void 0);function useDirection(b){const j=reactExports.useContext(DirectionContext);return b||j||"ltr"}function clamp$2(b,[j,$]){return Math.min($,Math.max(j,b))}function useStateMachine(b,j){return reactExports.useReducer(($,_e)=>j[$][_e]??$,b)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea=reactExports.forwardRef((b,j)=>{const{__scopeScrollArea:$,type:_e="hover",dir:et,scrollHideDelay:tt=600,...nt}=b,[rt,st]=reactExports.useState(null),[it,ct]=reactExports.useState(null),[ot,at]=reactExports.useState(null),[ft,dt]=reactExports.useState(null),[mt,xt]=reactExports.useState(null),[ht,gt]=reactExports.useState(0),[Et,St]=reactExports.useState(0),[At,$t]=reactExports.useState(!1),[wt,Pt]=reactExports.useState(!1),bt=useComposedRefs(j,Yt=>st(Yt)),Bt=useDirection(et);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:$,type:_e,dir:Bt,scrollHideDelay:tt,scrollArea:rt,viewport:it,onViewportChange:ct,content:ot,onContentChange:at,scrollbarX:ft,onScrollbarXChange:dt,scrollbarXEnabled:At,onScrollbarXEnabledChange:$t,scrollbarY:mt,onScrollbarYChange:xt,scrollbarYEnabled:wt,onScrollbarYEnabledChange:Pt,onCornerWidthChange:gt,onCornerHeightChange:St,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Bt,...nt,ref:bt,style:{position:"relative","--radix-scroll-area-corner-width":ht+"px","--radix-scroll-area-corner-height":Et+"px",...b.style}})})});ScrollArea.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME$2="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((b,j)=>{const{__scopeScrollArea:$,children:_e,nonce:et,...tt}=b,nt=useScrollAreaContext(VIEWPORT_NAME$2,$),rt=reactExports.useRef(null),st=useComposedRefs(j,rt,nt.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:et}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...tt,ref:st,style:{overflowX:nt.scrollbarXEnabled?"scroll":"hidden",overflowY:nt.scrollbarYEnabled?"scroll":"hidden",...b.style},children:jsxRuntimeExports.jsx("div",{ref:nt.onContentChange,style:{minWidth:"100%",display:"table"},children:_e})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME$2;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((b,j)=>{const{forceMount:$,..._e}=b,et=useScrollAreaContext(SCROLLBAR_NAME,b.__scopeScrollArea),{onScrollbarXEnabledChange:tt,onScrollbarYEnabledChange:nt}=et,rt=b.orientation==="horizontal";return reactExports.useEffect(()=>(rt?tt(!0):nt(!0),()=>{rt?tt(!1):nt(!1)}),[rt,tt,nt]),et.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{..._e,ref:j,forceMount:$}):et.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{..._e,ref:j,forceMount:$}):et.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{..._e,ref:j,forceMount:$}):et.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{..._e,ref:j}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((b,j)=>{const{forceMount:$,..._e}=b,et=useScrollAreaContext(SCROLLBAR_NAME,b.__scopeScrollArea),[tt,nt]=reactExports.useState(!1);return reactExports.useEffect(()=>{const rt=et.scrollArea;let st=0;if(rt){const it=()=>{window.clearTimeout(st),nt(!0)},ct=()=>{st=window.setTimeout(()=>nt(!1),et.scrollHideDelay)};return rt.addEventListener("pointerenter",it),rt.addEventListener("pointerleave",ct),()=>{window.clearTimeout(st),rt.removeEventListener("pointerenter",it),rt.removeEventListener("pointerleave",ct)}}},[et.scrollArea,et.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:$||tt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":tt?"visible":"hidden",..._e,ref:j})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((b,j)=>{const{forceMount:$,..._e}=b,et=useScrollAreaContext(SCROLLBAR_NAME,b.__scopeScrollArea),tt=b.orientation==="horizontal",nt=useDebounceCallback(()=>st("SCROLL_END"),100),[rt,st]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(rt==="idle"){const it=window.setTimeout(()=>st("HIDE"),et.scrollHideDelay);return()=>window.clearTimeout(it)}},[rt,et.scrollHideDelay,st]),reactExports.useEffect(()=>{const it=et.viewport,ct=tt?"scrollLeft":"scrollTop";if(it){let ot=it[ct];const at=()=>{const ft=it[ct];ot!==ft&&(st("SCROLL"),nt()),ot=ft};return it.addEventListener("scroll",at),()=>it.removeEventListener("scroll",at)}},[et.viewport,tt,st,nt]),jsxRuntimeExports.jsx(Presence,{present:$||rt!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":rt==="hidden"?"hidden":"visible",..._e,ref:j,onPointerEnter:composeEventHandlers(b.onPointerEnter,()=>st("POINTER_ENTER")),onPointerLeave:composeEventHandlers(b.onPointerLeave,()=>st("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((b,j)=>{const $=useScrollAreaContext(SCROLLBAR_NAME,b.__scopeScrollArea),{forceMount:_e,...et}=b,[tt,nt]=reactExports.useState(!1),rt=b.orientation==="horizontal",st=useDebounceCallback(()=>{if($.viewport){const it=$.viewport.offsetWidth<$.viewport.scrollWidth,ct=$.viewport.offsetHeight<$.viewport.scrollHeight;nt(rt?it:ct)}},10);return useResizeObserver($.viewport,st),useResizeObserver($.content,st),jsxRuntimeExports.jsx(Presence,{present:_e||tt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":tt?"visible":"hidden",...et,ref:j})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((b,j)=>{const{orientation:$="vertical",..._e}=b,et=useScrollAreaContext(SCROLLBAR_NAME,b.__scopeScrollArea),tt=reactExports.useRef(null),nt=reactExports.useRef(0),[rt,st]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),it=getThumbRatio(rt.viewport,rt.content),ct={..._e,sizes:rt,onSizesChange:st,hasThumb:it>0&&it<1,onThumbChange:at=>tt.current=at,onThumbPointerUp:()=>nt.current=0,onThumbPointerDown:at=>nt.current=at};function ot(at,ft){return getScrollPositionFromPointer(at,nt.current,rt,ft)}return $==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...ct,ref:j,onThumbPositionChange:()=>{if(et.viewport&&tt.current){const at=et.viewport.scrollLeft,ft=getThumbOffsetFromScroll(at,rt,et.dir);tt.current.style.transform=`translate3d(${ft}px, 0, 0)`}},onWheelScroll:at=>{et.viewport&&(et.viewport.scrollLeft=at)},onDragScroll:at=>{et.viewport&&(et.viewport.scrollLeft=ot(at,et.dir))}}):$==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...ct,ref:j,onThumbPositionChange:()=>{if(et.viewport&&tt.current){const at=et.viewport.scrollTop,ft=getThumbOffsetFromScroll(at,rt);tt.current.style.transform=`translate3d(0, ${ft}px, 0)`}},onWheelScroll:at=>{et.viewport&&(et.viewport.scrollTop=at)},onDragScroll:at=>{et.viewport&&(et.viewport.scrollTop=ot(at))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((b,j)=>{const{sizes:$,onSizesChange:_e,...et}=b,tt=useScrollAreaContext(SCROLLBAR_NAME,b.__scopeScrollArea),[nt,rt]=reactExports.useState(),st=reactExports.useRef(null),it=useComposedRefs(j,st,tt.onScrollbarXChange);return reactExports.useEffect(()=>{st.current&&rt(getComputedStyle(st.current))},[st]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...et,ref:it,sizes:$,style:{bottom:0,left:tt.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:tt.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize($)+"px",...b.style},onThumbPointerDown:ct=>b.onThumbPointerDown(ct.x),onDragScroll:ct=>b.onDragScroll(ct.x),onWheelScroll:(ct,ot)=>{if(tt.viewport){const at=tt.viewport.scrollLeft+ct.deltaX;b.onWheelScroll(at),isScrollingWithinScrollbarBounds(at,ot)&&ct.preventDefault()}},onResize:()=>{st.current&&tt.viewport&&nt&&_e({content:tt.viewport.scrollWidth,viewport:tt.viewport.offsetWidth,scrollbar:{size:st.current.clientWidth,paddingStart:toInt(nt.paddingLeft),paddingEnd:toInt(nt.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((b,j)=>{const{sizes:$,onSizesChange:_e,...et}=b,tt=useScrollAreaContext(SCROLLBAR_NAME,b.__scopeScrollArea),[nt,rt]=reactExports.useState(),st=reactExports.useRef(null),it=useComposedRefs(j,st,tt.onScrollbarYChange);return reactExports.useEffect(()=>{st.current&&rt(getComputedStyle(st.current))},[st]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...et,ref:it,sizes:$,style:{top:0,right:tt.dir==="ltr"?0:void 0,left:tt.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize($)+"px",...b.style},onThumbPointerDown:ct=>b.onThumbPointerDown(ct.y),onDragScroll:ct=>b.onDragScroll(ct.y),onWheelScroll:(ct,ot)=>{if(tt.viewport){const at=tt.viewport.scrollTop+ct.deltaY;b.onWheelScroll(at),isScrollingWithinScrollbarBounds(at,ot)&&ct.preventDefault()}},onResize:()=>{st.current&&tt.viewport&&nt&&_e({content:tt.viewport.scrollHeight,viewport:tt.viewport.offsetHeight,scrollbar:{size:st.current.clientHeight,paddingStart:toInt(nt.paddingTop),paddingEnd:toInt(nt.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((b,j)=>{const{__scopeScrollArea:$,sizes:_e,hasThumb:et,onThumbChange:tt,onThumbPointerUp:nt,onThumbPointerDown:rt,onThumbPositionChange:st,onDragScroll:it,onWheelScroll:ct,onResize:ot,...at}=b,ft=useScrollAreaContext(SCROLLBAR_NAME,$),[dt,mt]=reactExports.useState(null),xt=useComposedRefs(j,bt=>mt(bt)),ht=reactExports.useRef(null),gt=reactExports.useRef(""),Et=ft.viewport,St=_e.content-_e.viewport,At=useCallbackRef$1(ct),$t=useCallbackRef$1(st),wt=useDebounceCallback(ot,10);function Pt(bt){if(ht.current){const Bt=bt.clientX-ht.current.left,Yt=bt.clientY-ht.current.top;it({x:Bt,y:Yt})}}return reactExports.useEffect(()=>{const bt=Bt=>{const Yt=Bt.target;(dt==null?void 0:dt.contains(Yt))&&At(Bt,St)};return document.addEventListener("wheel",bt,{passive:!1}),()=>document.removeEventListener("wheel",bt,{passive:!1})},[Et,dt,St,At]),reactExports.useEffect($t,[_e,$t]),useResizeObserver(dt,wt),useResizeObserver(ft.content,wt),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:$,scrollbar:dt,hasThumb:et,onThumbChange:useCallbackRef$1(tt),onThumbPointerUp:useCallbackRef$1(nt),onThumbPositionChange:$t,onThumbPointerDown:useCallbackRef$1(rt),children:jsxRuntimeExports.jsx(Primitive.div,{...at,ref:xt,style:{position:"absolute",...at.style},onPointerDown:composeEventHandlers(b.onPointerDown,bt=>{bt.button===0&&(bt.target.setPointerCapture(bt.pointerId),ht.current=dt.getBoundingClientRect(),gt.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",ft.viewport&&(ft.viewport.style.scrollBehavior="auto"),Pt(bt))}),onPointerMove:composeEventHandlers(b.onPointerMove,Pt),onPointerUp:composeEventHandlers(b.onPointerUp,bt=>{const Bt=bt.target;Bt.hasPointerCapture(bt.pointerId)&&Bt.releasePointerCapture(bt.pointerId),document.body.style.webkitUserSelect=gt.current,ft.viewport&&(ft.viewport.style.scrollBehavior=""),ht.current=null})})})}),THUMB_NAME$2="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((b,j)=>{const{forceMount:$,..._e}=b,et=useScrollbarContext(THUMB_NAME$2,b.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:$||et.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:j,..._e})})}),ScrollAreaThumbImpl=reactExports.forwardRef((b,j)=>{const{__scopeScrollArea:$,style:_e,...et}=b,tt=useScrollAreaContext(THUMB_NAME$2,$),nt=useScrollbarContext(THUMB_NAME$2,$),{onThumbPositionChange:rt}=nt,st=useComposedRefs(j,ot=>nt.onThumbChange(ot)),it=reactExports.useRef(),ct=useDebounceCallback(()=>{it.current&&(it.current(),it.current=void 0)},100);return reactExports.useEffect(()=>{const ot=tt.viewport;if(ot){const at=()=>{if(ct(),!it.current){const ft=addUnlinkedScrollListener(ot,rt);it.current=ft,rt()}};return rt(),ot.addEventListener("scroll",at),()=>ot.removeEventListener("scroll",at)}},[tt.viewport,ct,rt]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":nt.hasThumb?"visible":"hidden",...et,ref:st,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",..._e},onPointerDownCapture:composeEventHandlers(b.onPointerDownCapture,ot=>{const ft=ot.target.getBoundingClientRect(),dt=ot.clientX-ft.left,mt=ot.clientY-ft.top;nt.onThumbPointerDown({x:dt,y:mt})}),onPointerUp:composeEventHandlers(b.onPointerUp,nt.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME$2;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((b,j)=>{const $=useScrollAreaContext(CORNER_NAME,b.__scopeScrollArea),_e=!!($.scrollbarX&&$.scrollbarY);return $.type!=="scroll"&&_e?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...b,ref:j}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((b,j)=>{const{__scopeScrollArea:$,..._e}=b,et=useScrollAreaContext(CORNER_NAME,$),[tt,nt]=reactExports.useState(0),[rt,st]=reactExports.useState(0),it=!!(tt&&rt);return useResizeObserver(et.scrollbarX,()=>{var ot;const ct=((ot=et.scrollbarX)==null?void 0:ot.offsetHeight)||0;et.onCornerHeightChange(ct),st(ct)}),useResizeObserver(et.scrollbarY,()=>{var ot;const ct=((ot=et.scrollbarY)==null?void 0:ot.offsetWidth)||0;et.onCornerWidthChange(ct),nt(ct)}),it?jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:j,style:{width:tt,height:rt,position:"absolute",right:et.dir==="ltr"?0:void 0,left:et.dir==="rtl"?0:void 0,bottom:0,...b.style}}):null});function toInt(b){return b?parseInt(b,10):0}function getThumbRatio(b,j){const $=b/j;return isNaN($)?0:$}function getThumbSize(b){const j=getThumbRatio(b.viewport,b.content),$=b.scrollbar.paddingStart+b.scrollbar.paddingEnd,_e=(b.scrollbar.size-$)*j;return Math.max(_e,18)}function getScrollPositionFromPointer(b,j,$,_e="ltr"){const et=getThumbSize($),tt=et/2,nt=j||tt,rt=et-nt,st=$.scrollbar.paddingStart+nt,it=$.scrollbar.size-$.scrollbar.paddingEnd-rt,ct=$.content-$.viewport,ot=_e==="ltr"?[0,ct]:[ct*-1,0];return linearScale$1([st,it],ot)(b)}function getThumbOffsetFromScroll(b,j,$="ltr"){const _e=getThumbSize(j),et=j.scrollbar.paddingStart+j.scrollbar.paddingEnd,tt=j.scrollbar.size-et,nt=j.content-j.viewport,rt=tt-_e,st=$==="ltr"?[0,nt]:[nt*-1,0],it=clamp$2(b,st);return linearScale$1([0,nt],[0,rt])(it)}function linearScale$1(b,j){return $=>{if(b[0]===b[1]||j[0]===j[1])return j[0];const _e=(j[1]-j[0])/(b[1]-b[0]);return j[0]+_e*($-b[0])}}function isScrollingWithinScrollbarBounds(b,j){return b>0&&b<j}var addUnlinkedScrollListener=(b,j=()=>{})=>{let $={left:b.scrollLeft,top:b.scrollTop},_e=0;return function et(){const tt={left:b.scrollLeft,top:b.scrollTop},nt=$.left!==tt.left,rt=$.top!==tt.top;(nt||rt)&&j(),$=tt,_e=window.requestAnimationFrame(et)}(),()=>window.cancelAnimationFrame(_e)};function useDebounceCallback(b,j){const $=useCallbackRef$1(b),_e=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(_e.current),[]),reactExports.useCallback(()=>{window.clearTimeout(_e.current),_e.current=window.setTimeout($,j)},[$,j])}function useResizeObserver(b,j){const $=useCallbackRef$1(j);useLayoutEffect2(()=>{let _e=0;if(b){const et=new ResizeObserver(()=>{cancelAnimationFrame(_e),_e=window.requestAnimationFrame($)});return et.observe(b),()=>{window.cancelAnimationFrame(_e),et.unobserve(b)}}},[b,$])}var Root$5=ScrollArea,Viewport$2=ScrollAreaViewport,Scrollbar=ScrollAreaScrollbar,Thumb$2=ScrollAreaThumb,Corner=ScrollAreaCorner;const noopScrollAtom$=atom(0),scrollContext=reactExports.createContext(noopScrollAtom$),isScrollType=b=>typeof b=="string"&&["both","horizontal","vertical"].includes(b),QspScrollable=({children:b,attrs:j,scroll:$="both"})=>{const[,_e,{className:et="",...tt}]=useAttributes(j,"div","qsp-scrollable"),nt=reactExports.useRef(null),rt=useAtom_2(reactExports.useContext(scrollContext)),st=useSetup(()=>atom(!1)),it=useAtom_2(st),ct=useSetup(()=>atom(!1)),ot=useAtom_2(ct);return reactExports.useEffect(()=>{nt.current&&rt&&(nt.current.scrollTop=rt>0?nt.current.scrollHeight:0)},[rt]),reactExports.useLayoutEffect(()=>{const at=nt.current;if(!at)return;function ft(){const mt=nt.current?nt.current.scrollTop>0:!1;st.value!==mt&&st.set(mt);const xt=nt.current?nt.current.offsetHeight+nt.current.scrollTop<nt.current.scrollHeight:!0;xt!==ct.value&&ct.set(xt)}ft();const dt=setInterval(ft,300);return at.addEventListener("scroll",ft,{passive:!0}),()=>{at.removeEventListener("scroll",ft),clearInterval(dt)}},[]),jsxRuntimeExports.jsxs(Root$5,{style:_e,...tt,className:et+" qsp-scroll-root","data-upscroll":it||void 0,"data-downscroll":ot||void 0,children:[jsxRuntimeExports.jsx(Viewport$2,{ref:nt,className:"qsp-scroll-area",children:b}),$==="both"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:"horizontal",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:"vertical",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qsp-scrollbar-thumb"})})]}):jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:$,children:jsxRuntimeExports.jsx(Thumb$2,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx(Corner,{className:"qsp-scrollbar-corner"})]})};var __defProp=Object.defineProperty,__export=(b,j)=>{for(var $ in j)__defProp(b,$,{get:j[$],enumerable:!0})},globals_exports={};__export(globals_exports,{assign:()=>assign,colors:()=>colors,createStringInterpolator:()=>createStringInterpolator,skipAnimation:()=>skipAnimation,to:()=>to,willAdvance:()=>willAdvance});var updateQueue=makeQueue(),raf=b=>schedule(b,updateQueue),writeQueue=makeQueue();raf.write=b=>schedule(b,writeQueue);var onStartQueue=makeQueue();raf.onStart=b=>schedule(b,onStartQueue);var onFrameQueue=makeQueue();raf.onFrame=b=>schedule(b,onFrameQueue);var onFinishQueue=makeQueue();raf.onFinish=b=>schedule(b,onFinishQueue);var timeouts=[];raf.setTimeout=(b,j)=>{const $=raf.now()+j,_e=()=>{const tt=timeouts.findIndex(nt=>nt.cancel==_e);~tt&&timeouts.splice(tt,1),pendingCount-=~tt?1:0},et={time:$,handler:b,cancel:_e};return timeouts.splice(findTimeout($),0,et),pendingCount+=1,start(),et};var findTimeout=b=>~(~timeouts.findIndex(j=>j.time>b)||~timeouts.length);raf.cancel=b=>{onStartQueue.delete(b),onFrameQueue.delete(b),onFinishQueue.delete(b),updateQueue.delete(b),writeQueue.delete(b)};raf.sync=b=>{sync=!0,raf.batchedUpdates(b),sync=!1};raf.throttle=b=>{let j;function $(){try{b(...j)}finally{j=null}}function _e(...et){j=et,raf.onStart($)}return _e.handler=b,_e.cancel=()=>{onStartQueue.delete($),j=null},_e};var nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=b=>nativeRaf=b;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=b=>b();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};var ts=-1,pendingCount=0,sync=!1;function schedule(b,j){sync?(j.delete(b),b(0)):(j.add(b),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop))}function stop(){ts=-1}function loop(){~ts&&(nativeRaf(loop),raf.batchedUpdates(update))}function update(){const b=ts;ts=raf.now();const j=findTimeout(ts);if(j&&(eachSafely(timeouts.splice(0,j),$=>$.handler()),pendingCount-=j),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush(b?Math.min(64,ts-b):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let b=new Set,j=b;return{add($){pendingCount+=j==b&&!b.has($)?1:0,b.add($)},delete($){return pendingCount-=j==b&&b.has($)?1:0,b.delete($)},flush($){j.size&&(b=new Set,pendingCount-=j.size,eachSafely(j,_e=>_e($)&&b.add(_e)),pendingCount+=b.size,j=b)}}}function eachSafely(b,j){b.forEach($=>{try{j($)}catch(_e){raf.catch(_e)}})}function noop(){}var defineHidden=(b,j,$)=>Object.defineProperty(b,j,{value:$,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:b=>!!b&&b.constructor.name==="Object",fun:b=>typeof b=="function",str:b=>typeof b=="string",num:b=>typeof b=="number",und:b=>b===void 0};function isEqual(b,j){if(is.arr(b)){if(!is.arr(j)||b.length!==j.length)return!1;for(let $=0;$<b.length;$++)if(b[$]!==j[$])return!1;return!0}return b===j}var each=(b,j)=>b.forEach(j);function eachProp(b,j,$){if(is.arr(b)){for(let _e=0;_e<b.length;_e++)j.call($,b[_e],`${_e}`);return}for(const _e in b)b.hasOwnProperty(_e)&&j.call($,b[_e],_e)}var toArray=b=>is.und(b)?[]:is.arr(b)?b:[b];function flush(b,j){if(b.size){const $=Array.from(b);b.clear(),each($,j)}}var flushCalls=(b,...j)=>flush(b,$=>$(...j)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator,to,colors=null,skipAnimation=!1,willAdvance=noop,assign=b=>{b.to&&(to=b.to),b.now&&(raf.now=b.now),b.colors!==void 0&&(colors=b.colors),b.skipAnimation!=null&&(skipAnimation=b.skipAnimation),b.createStringInterpolator&&(createStringInterpolator=b.createStringInterpolator),b.requestAnimationFrame&&raf.use(b.requestAnimationFrame),b.batchedUpdates&&(raf.batchedUpdates=b.batchedUpdates),b.willAdvance&&(willAdvance=b.willAdvance),b.frameLoop&&(raf.frameLoop=b.frameLoop)},startQueue=new Set,currentFrame=[],prevFrame=[],priority=0,frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start(b){priority>b.priority?(startQueue.add(b),raf.onStart(flushStartQueue)):(startSafely(b),raf(advance))},advance,sort(b){if(priority)raf.onFrame(()=>frameLoop.sort(b));else{const j=currentFrame.indexOf(b);~j&&(currentFrame.splice(j,1),startUnsafely(b))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely(b){currentFrame.includes(b)||startUnsafely(b)}function startUnsafely(b){currentFrame.splice(findIndex(currentFrame,j=>j.priority>b.priority),0,b)}function advance(b){const j=prevFrame;for(let $=0;$<currentFrame.length;$++){const _e=currentFrame[$];priority=_e.priority,_e.idle||(willAdvance(_e),_e.advance(b),_e.idle||j.push(_e))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=j,currentFrame.length>0}function findIndex(b,j){const $=b.findIndex(j);return $<0?b.length:$}var clamp$1=(b,j,$)=>Math.min(Math.max($,b),j),colors2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call(...b){return"\\(\\s*("+b.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(b){let j;return typeof b=="number"?b>>>0===b&&b>=0&&b<=4294967295?b:null:(j=hex6.exec(b))?parseInt(j[1]+"ff",16)>>>0:colors&&colors[b]!==void 0?colors[b]:(j=rgb.exec(b))?(parse255(j[1])<<24|parse255(j[2])<<16|parse255(j[3])<<8|255)>>>0:(j=rgba.exec(b))?(parse255(j[1])<<24|parse255(j[2])<<16|parse255(j[3])<<8|parse1(j[4]))>>>0:(j=hex3.exec(b))?parseInt(j[1]+j[1]+j[2]+j[2]+j[3]+j[3]+"ff",16)>>>0:(j=hex8.exec(b))?parseInt(j[1],16)>>>0:(j=hex4.exec(b))?parseInt(j[1]+j[1]+j[2]+j[2]+j[3]+j[3]+j[4]+j[4],16)>>>0:(j=hsl.exec(b))?(hslToRgb(parse360(j[1]),parsePercentage(j[2]),parsePercentage(j[3]))|255)>>>0:(j=hsla.exec(b))?(hslToRgb(parse360(j[1]),parsePercentage(j[2]),parsePercentage(j[3]))|parse1(j[4]))>>>0:null}function hue2rgb(b,j,$){return $<0&&($+=1),$>1&&($-=1),$<1/6?b+(j-b)*6*$:$<1/2?j:$<2/3?b+(j-b)*(2/3-$)*6:b}function hslToRgb(b,j,$){const _e=$<.5?$*(1+j):$+j-$*j,et=2*$-_e,tt=hue2rgb(et,_e,b+1/3),nt=hue2rgb(et,_e,b),rt=hue2rgb(et,_e,b-1/3);return Math.round(tt*255)<<24|Math.round(nt*255)<<16|Math.round(rt*255)<<8}function parse255(b){const j=parseInt(b,10);return j<0?0:j>255?255:j}function parse360(b){return(parseFloat(b)%360+360)%360/360}function parse1(b){const j=parseFloat(b);return j<0?0:j>1?255:Math.round(j*255)}function parsePercentage(b){const j=parseFloat(b);return j<0?0:j>100?1:j/100}function colorToRgba(b){let j=normalizeColor(b);if(j===null)return b;j=j||0;const $=(j&4278190080)>>>24,_e=(j&16711680)>>>16,et=(j&65280)>>>8,tt=(j&255)/255;return`rgba(${$}, ${_e}, ${et}, ${tt})`}var createInterpolator=(b,j,$)=>{if(is.fun(b))return b;if(is.arr(b))return createInterpolator({range:b,output:j,extrapolate:$});if(is.str(b.output[0]))return createStringInterpolator(b);const _e=b,et=_e.output,tt=_e.range||[0,1],nt=_e.extrapolateLeft||_e.extrapolate||"extend",rt=_e.extrapolateRight||_e.extrapolate||"extend",st=_e.easing||(it=>it);return it=>{const ct=findRange(it,tt);return interpolate(it,tt[ct],tt[ct+1],et[ct],et[ct+1],st,nt,rt,_e.map)}};function interpolate(b,j,$,_e,et,tt,nt,rt,st){let it=st?st(b):b;if(it<j){if(nt==="identity")return it;nt==="clamp"&&(it=j)}if(it>$){if(rt==="identity")return it;rt==="clamp"&&(it=$)}return _e===et?_e:j===$?b<=j?_e:et:(j===-1/0?it=-it:$===1/0?it=it-j:it=(it-j)/($-j),it=tt(it),_e===-1/0?it=-it:et===1/0?it=it+_e:it=it*(et-_e)+_e,it)}function findRange(b,j){for(var $=1;$<j.length-1&&!(j[$]>=b);++$);return $-1}var steps=(b,j="end")=>$=>{$=j==="end"?Math.min($,.999):Math.max($,.001);const _e=$*b,et=j==="end"?Math.floor(_e):Math.ceil(_e);return clamp$1(0,1,et/b)},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=b=>b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375,easings={linear:b=>b,easeInQuad:b=>b*b,easeOutQuad:b=>1-(1-b)*(1-b),easeInOutQuad:b=>b<.5?2*b*b:1-Math.pow(-2*b+2,2)/2,easeInCubic:b=>b*b*b,easeOutCubic:b=>1-Math.pow(1-b,3),easeInOutCubic:b=>b<.5?4*b*b*b:1-Math.pow(-2*b+2,3)/2,easeInQuart:b=>b*b*b*b,easeOutQuart:b=>1-Math.pow(1-b,4),easeInOutQuart:b=>b<.5?8*b*b*b*b:1-Math.pow(-2*b+2,4)/2,easeInQuint:b=>b*b*b*b*b,easeOutQuint:b=>1-Math.pow(1-b,5),easeInOutQuint:b=>b<.5?16*b*b*b*b*b:1-Math.pow(-2*b+2,5)/2,easeInSine:b=>1-Math.cos(b*Math.PI/2),easeOutSine:b=>Math.sin(b*Math.PI/2),easeInOutSine:b=>-(Math.cos(Math.PI*b)-1)/2,easeInExpo:b=>b===0?0:Math.pow(2,10*b-10),easeOutExpo:b=>b===1?1:1-Math.pow(2,-10*b),easeInOutExpo:b=>b===0?0:b===1?1:b<.5?Math.pow(2,20*b-10)/2:(2-Math.pow(2,-20*b+10))/2,easeInCirc:b=>1-Math.sqrt(1-Math.pow(b,2)),easeOutCirc:b=>Math.sqrt(1-Math.pow(b-1,2)),easeInOutCirc:b=>b<.5?(1-Math.sqrt(1-Math.pow(2*b,2)))/2:(Math.sqrt(1-Math.pow(-2*b+2,2))+1)/2,easeInBack:b=>c3*b*b*b-c1*b*b,easeOutBack:b=>1+c3*Math.pow(b-1,3)+c1*Math.pow(b-1,2),easeInOutBack:b=>b<.5?Math.pow(2*b,2)*((c2+1)*2*b-c2)/2:(Math.pow(2*b-2,2)*((c2+1)*(b*2-2)+c2)+2)/2,easeInElastic:b=>b===0?0:b===1?1:-Math.pow(2,10*b-10)*Math.sin((b*10-10.75)*c4),easeOutElastic:b=>b===0?0:b===1?1:Math.pow(2,-10*b)*Math.sin((b*10-.75)*c4)+1,easeInOutElastic:b=>b===0?0:b===1?1:b<.5?-(Math.pow(2,20*b-10)*Math.sin((20*b-11.125)*c5))/2:Math.pow(2,-20*b+10)*Math.sin((20*b-11.125)*c5)/2+1,easeInBounce:b=>1-bounceOut(1-b),easeOutBounce:bounceOut,easeInOutBounce:b=>b<.5?(1-bounceOut(1-2*b))/2:(1+bounceOut(2*b-1))/2,steps},$get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=b=>!!(b&&b[$get]),getFluidValue=b=>b&&b[$get]?b[$get]():b,getFluidObservers=b=>b[$observers]||null;function callFluidObserver(b,j){b.eventObserved?b.eventObserved(j):b(j)}function callFluidObservers(b,j){const $=b[$observers];$&&$.forEach(_e=>{callFluidObserver(_e,j)})}var FluidValue=class{constructor(b){if(!b&&!(b=this.get))throw Error("Unknown getter");setFluidGetter(this,b)}},setFluidGetter=(b,j)=>setHidden(b,$get,j);function addFluidObserver(b,j){if(b[$get]){let $=b[$observers];$||setHidden(b,$observers,$=new Set),$.has(j)||($.add(j),b.observerAdded&&b.observerAdded($.size,j))}return j}function removeFluidObserver(b,j){const $=b[$observers];if($&&$.has(j)){const _e=$.size-1;_e?$.delete(j):b[$observers]=null,b.observerRemoved&&b.observerRemoved(_e,j)}}var setHidden=(b,j,$)=>Object.defineProperty(b,j,{value:$,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=b=>{const[j,$]=parseCSSVariable(b);if(!j||isSSR())return b;const _e=window.getComputedStyle(document.documentElement).getPropertyValue(j);if(_e)return _e.trim();if($&&$.startsWith("--")){const et=window.getComputedStyle(document.documentElement).getPropertyValue($);return et||b}else{if($&&cssVariableRegex.test($))return variableToRgba($);if($)return $}return b},parseCSSVariable=b=>{const j=cssVariableRegex.exec(b);if(!j)return[,];const[,$,_e]=j;return[$,_e]},namedColorRegex,rgbaRound=(b,j,$,_e,et)=>`rgba(${Math.round(j)}, ${Math.round($)}, ${Math.round(_e)}, ${et})`,createStringInterpolator2=b=>{namedColorRegex||(namedColorRegex=colors?new RegExp(`(${Object.keys(colors).join("|")})(?!\\w)`,"g"):/^\b$/);const j=b.output.map(tt=>getFluidValue(tt).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),$=j.map(tt=>tt.match(numberRegex).map(Number)),et=$[0].map((tt,nt)=>$.map(rt=>{if(!(nt in rt))throw Error('The arity of each "output" value must be equal');return rt[nt]})).map(tt=>createInterpolator({...b,output:tt}));return tt=>{var st;const nt=!unitRegex.test(j[0])&&((st=j.find(it=>unitRegex.test(it)))==null?void 0:st.replace(numberRegex,""));let rt=0;return j[0].replace(numberRegex,()=>`${et[rt++](tt)}${nt||""}`).replace(rgbaRegex,rgbaRound)}},prefix="react-spring: ",once=b=>{const j=b;let $=!1;if(typeof j!="function")throw new TypeError(`${prefix}once requires a function parameter`);return(..._e)=>{$||(j(..._e),$=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString(b){return is.str(b)&&(b[0]=="#"||/\d/.test(b)||!isSSR()&&cssVariableRegex.test(b)||b in(colors||{}))}var useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const b=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(b.current=!0,()=>{b.current=!1}),[]),b};function useForceUpdate(){const b=reactExports.useState()[1],j=useIsMounted();return()=>{j.current&&b(Math.random())}}function useMemoOne(b,j){const[$]=reactExports.useState(()=>({inputs:j,result:b()})),_e=reactExports.useRef(),et=_e.current;let tt=et;return tt?j&&tt.inputs&&areInputsEqual(j,tt.inputs)||(tt={inputs:j,result:b()}):tt=$,reactExports.useEffect(()=>{_e.current=tt,et==$&&($.inputs=$.result=void 0)},[tt]),tt.result}function areInputsEqual(b,j){if(b.length!==j.length)return!1;for(let $=0;$<b.length;$++)if(b[$]!==j[$])return!1;return!0}var useOnce=b=>reactExports.useEffect(b,emptyDeps),emptyDeps=[];function usePrev(b){const j=reactExports.useRef();return reactExports.useEffect(()=>{j.current=b}),j.current}var $node=Symbol.for("Animated:node"),isAnimated=b=>!!b&&b[$node]===b,getAnimated=b=>b&&b[$node],setAnimated=(b,j)=>defineHidden(b,$node,j),getPayload=b=>b&&b[$node]&&b[$node].getPayload(),Animated=class{constructor(){setAnimated(this,this)}getPayload(){return this.payload||[]}},AnimatedValue=class extends Animated{constructor(b){super(),this._value=b,this.done=!0,this.durationProgress=0,is.num(this._value)&&(this.lastPosition=this._value)}static create(b){return new AnimatedValue(b)}getPayload(){return[this]}getValue(){return this._value}setValue(b,j){return is.num(b)&&(this.lastPosition=b,j&&(b=Math.round(b/j)*j,this.done&&(this.lastPosition=b))),this._value===b?!1:(this._value=b,!0)}reset(){const{done:b}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,b&&(this.lastVelocity=null),this.v0=null)}},AnimatedString=class extends AnimatedValue{constructor(b){super(0),this._string=null,this._toString=createInterpolator({output:[b,b]})}static create(b){return new AnimatedString(b)}getValue(){const b=this._string;return b??(this._string=this._toString(this._value))}setValue(b){if(is.str(b)){if(b==this._string)return!1;this._string=b,this._value=1}else if(super.setValue(b))this._string=null;else return!1;return!0}reset(b){b&&(this._toString=createInterpolator({output:[this.getValue(),b]})),this._value=0,super.reset()}},TreeContext={dependencies:null},AnimatedObject=class extends Animated{constructor(b){super(),this.source=b,this.setValue(b)}getValue(b){const j={};return eachProp(this.source,($,_e)=>{isAnimated($)?j[_e]=$.getValue(b):hasFluidValue($)?j[_e]=getFluidValue($):b||(j[_e]=$)}),j}setValue(b){this.source=b,this.payload=this._makePayload(b)}reset(){this.payload&&each(this.payload,b=>b.reset())}_makePayload(b){if(b){const j=new Set;return eachProp(b,this._addToPayload,j),Array.from(j)}}_addToPayload(b){TreeContext.dependencies&&hasFluidValue(b)&&TreeContext.dependencies.add(b);const j=getPayload(b);j&&each(j,$=>this.add($))}},AnimatedArray=class extends AnimatedObject{constructor(b){super(b)}static create(b){return new AnimatedArray(b)}getValue(){return this.source.map(b=>b.getValue())}setValue(b){const j=this.getPayload();return b.length==j.length?j.map(($,_e)=>$.setValue(b[_e])).some(Boolean):(super.setValue(b.map(makeAnimated)),!0)}};function makeAnimated(b){return(isAnimatedString(b)?AnimatedString:AnimatedValue).create(b)}function getAnimatedType(b){const j=getAnimated(b);return j?j.constructor:is.arr(b)?AnimatedArray:isAnimatedString(b)?AnimatedString:AnimatedValue}var withAnimated=(b,j)=>{const $=!is.fun(b)||b.prototype&&b.prototype.isReactComponent;return reactExports.forwardRef((_e,et)=>{const tt=reactExports.useRef(null),nt=$&&reactExports.useCallback(dt=>{tt.current=updateRef(et,dt)},[et]),[rt,st]=getAnimatedState(_e,j),it=useForceUpdate(),ct=()=>{const dt=tt.current;if($&&!dt)return;(dt?j.applyAnimatedValues(dt,rt.getValue(!0)):!1)===!1&&it()},ot=new PropsObserver(ct,st),at=reactExports.useRef();useIsomorphicLayoutEffect(()=>(at.current=ot,each(st,dt=>addFluidObserver(dt,ot)),()=>{at.current&&(each(at.current.deps,dt=>removeFluidObserver(dt,at.current)),raf.cancel(at.current.update))})),reactExports.useEffect(ct,[]),useOnce(()=>()=>{const dt=at.current;each(dt.deps,mt=>removeFluidObserver(mt,dt))});const ft=j.getComponentProps(rt.getValue());return reactExports.createElement(b,{...ft,ref:nt})})},PropsObserver=class{constructor(b,j){this.update=b,this.deps=j}eventObserved(b){b.type=="change"&&raf.write(this.update)}};function getAnimatedState(b,j){const $=new Set;return TreeContext.dependencies=$,b.style&&(b={...b,style:j.createAnimatedStyle(b.style)}),b=new AnimatedObject(b),TreeContext.dependencies=null,[b,$]}function updateRef(b,j){return b&&(is.fun(b)?b(j):b.current=j),j}var cacheKey=Symbol.for("AnimatedComponent"),createHost=(b,{applyAnimatedValues:j=()=>!1,createAnimatedStyle:$=et=>new AnimatedObject(et),getComponentProps:_e=et=>et}={})=>{const et={applyAnimatedValues:j,createAnimatedStyle:$,getComponentProps:_e},tt=nt=>{const rt=getDisplayName(nt)||"Anonymous";return is.str(nt)?nt=tt[nt]||(tt[nt]=withAnimated(nt,et)):nt=nt[cacheKey]||(nt[cacheKey]=withAnimated(nt,et)),nt.displayName=`Animated(${rt})`,nt};return eachProp(b,(nt,rt)=>{is.arr(b)&&(rt=getDisplayName(nt)),tt[rt]=tt(nt)}),{animated:tt}},getDisplayName=b=>is.str(b)?b:b&&is.str(b.displayName)?b.displayName:is.fun(b)&&b.name||null;function callProp(b,...j){return is.fun(b)?b(...j):b}var matchProp=(b,j)=>b===!0||!!(j&&b&&(is.fun(b)?b(j):toArray(b).includes(j))),resolveProp=(b,j)=>is.obj(b)?j&&b[j]:b,getDefaultProp=(b,j)=>b.default===!0?b[j]:b.default?b.default[j]:void 0,noopTransform=b=>b,getDefaultProps=(b,j=noopTransform)=>{let $=DEFAULT_PROPS;b.default&&b.default!==!0&&(b=b.default,$=Object.keys(b));const _e={};for(const et of $){const tt=j(b[et],et);is.und(tt)||(_e[et]=tt)}return _e},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(b){const j={};let $=0;if(eachProp(b,(_e,et)=>{RESERVED_PROPS[et]||(j[et]=_e,$++)}),$)return j}function inferTo(b){const j=getForwardProps(b);if(j){const $={to:j};return eachProp(b,(_e,et)=>et in j||($[et]=_e)),$}return{...b}}function computeGoal(b){return b=getFluidValue(b),is.arr(b)?b.map(computeGoal):isAnimatedString(b)?globals_exports.createStringInterpolator({range:[0,1],output:[b,b]})(1):b}function hasProps(b){for(const j in b)return!0;return!1}function isAsyncTo(b){return is.fun(b)||is.arr(b)&&is.obj(b[0])}function detachRefs(b,j){var $;($=b.ref)==null||$.delete(b),j==null||j.delete(b)}function replaceRef(b,j){var $;j&&b.ref!==j&&(($=b.ref)==null||$.delete(b),j.add(b),b.ref=j)}var config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults={...config.default,mass:1,damping:1,easing:easings.linear,clamp:!1},AnimationConfig=class{constructor(){this.velocity=0,Object.assign(this,defaults)}};function mergeConfig(b,j,$){$&&($={...$},sanitizeConfig($,j),j={...$,...j}),sanitizeConfig(b,j),Object.assign(b,j);for(const nt in defaults)b[nt]==null&&(b[nt]=defaults[nt]);let{frequency:_e,damping:et}=b;const{mass:tt}=b;return is.und(_e)||(_e<.01&&(_e=.01),et<0&&(et=0),b.tension=Math.pow(2*Math.PI/_e,2)*tt,b.friction=4*Math.PI*et*tt/_e),b}function sanitizeConfig(b,j){if(!is.und(j.decay))b.duration=void 0;else{const $=!is.und(j.tension)||!is.und(j.friction);($||!is.und(j.frequency)||!is.und(j.damping)||!is.und(j.mass))&&(b.duration=void 0,b.decay=void 0),$&&(b.frequency=void 0)}}var emptyArray=[],Animation=class{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.config=new AnimationConfig,this.immediate=!1}};function scheduleProps(b,{key:j,props:$,defaultProps:_e,state:et,actions:tt}){return new Promise((nt,rt)=>{let st,it,ct=matchProp($.cancel??(_e==null?void 0:_e.cancel),j);if(ct)ft();else{is.und($.pause)||(et.paused=matchProp($.pause,j));let dt=_e==null?void 0:_e.pause;dt!==!0&&(dt=et.paused||matchProp(dt,j)),st=callProp($.delay||0,j),dt?(et.resumeQueue.add(at),tt.pause()):(tt.resume(),at())}function ot(){et.resumeQueue.add(at),et.timeouts.delete(it),it.cancel(),st=it.time-raf.now()}function at(){st>0&&!globals_exports.skipAnimation?(et.delayed=!0,it=raf.setTimeout(ft,st),et.pauseQueue.add(ot),et.timeouts.add(it)):ft()}function ft(){et.delayed&&(et.delayed=!1),et.pauseQueue.delete(ot),et.timeouts.delete(it),b<=(et.cancelId||0)&&(ct=!0);try{tt.start({...$,callId:b,cancel:ct},nt)}catch(dt){rt(dt)}}})}var getCombinedResult=(b,j)=>j.length==1?j[0]:j.some($=>$.cancelled)?getCancelledResult(b.get()):j.every($=>$.noop)?getNoopResult(b.get()):getFinishedResult(b.get(),j.every($=>$.finished)),getNoopResult=b=>({value:b,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=(b,j,$=!1)=>({value:b,finished:j,cancelled:$}),getCancelledResult=b=>({value:b,cancelled:!0,finished:!1});function runAsync(b,j,$,_e){const{callId:et,parentId:tt,onRest:nt}=j,{asyncTo:rt,promise:st}=$;return!tt&&b===rt&&!j.reset?st:$.promise=(async()=>{$.asyncId=et,$.asyncTo=b;const it=getDefaultProps(j,(xt,ht)=>ht==="onRest"?void 0:xt);let ct,ot;const at=new Promise((xt,ht)=>(ct=xt,ot=ht)),ft=xt=>{const ht=et<=($.cancelId||0)&&getCancelledResult(_e)||et!==$.asyncId&&getFinishedResult(_e,!1);if(ht)throw xt.result=ht,ot(xt),xt},dt=(xt,ht)=>{const gt=new BailSignal,Et=new SkipAnimationSignal;return(async()=>{if(globals_exports.skipAnimation)throw stopAsync($),Et.result=getFinishedResult(_e,!1),ot(Et),Et;ft(gt);const St=is.obj(xt)?{...xt}:{...ht,to:xt};St.parentId=et,eachProp(it,($t,wt)=>{is.und(St[wt])&&(St[wt]=$t)});const At=await _e.start(St);return ft(gt),$.paused&&await new Promise($t=>{$.resumeQueue.add($t)}),At})()};let mt;if(globals_exports.skipAnimation)return stopAsync($),getFinishedResult(_e,!1);try{let xt;is.arr(b)?xt=(async ht=>{for(const gt of ht)await dt(gt)})(b):xt=Promise.resolve(b(dt,_e.stop.bind(_e))),await Promise.all([xt.then(ct),at]),mt=getFinishedResult(_e.get(),!0,!1)}catch(xt){if(xt instanceof BailSignal)mt=xt.result;else if(xt instanceof SkipAnimationSignal)mt=xt.result;else throw xt}finally{et==$.asyncId&&($.asyncId=tt,$.asyncTo=tt?rt:void 0,$.promise=tt?st:void 0)}return is.fun(nt)&&raf.batchedUpdates(()=>{nt(mt,_e,_e.item)}),mt})()}function stopAsync(b,j){flush(b.timeouts,$=>$.cancel()),b.pauseQueue.clear(),b.resumeQueue.clear(),b.asyncId=b.asyncTo=b.promise=void 0,j&&(b.cancelId=j)}var BailSignal=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue=b=>b instanceof FrameValue,nextId=1,FrameValue=class extends FluidValue{constructor(){super(...arguments),this.id=nextId++,this._priority=0}get priority(){return this._priority}set priority(b){this._priority!=b&&(this._priority=b,this._onPriorityChange(b))}get(){const b=getAnimated(this);return b&&b.getValue()}to(...b){return globals_exports.to(this,b)}interpolate(...b){return deprecateInterpolate(),globals_exports.to(this,b)}toJSON(){return this.get()}observerAdded(b){b==1&&this._attach()}observerRemoved(b){b==0&&this._detach()}_attach(){}_detach(){}_onChange(b,j=!1){callFluidObservers(this,{type:"change",parent:this,value:b,idle:j})}_onPriorityChange(b){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:b})}},$P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=b=>(b[$P]&HAS_ANIMATED)>0,isAnimating=b=>(b[$P]&IS_ANIMATING)>0,isPaused=b=>(b[$P]&IS_PAUSED)>0,setActiveBit=(b,j)=>j?b[$P]|=IS_ANIMATING|HAS_ANIMATED:b[$P]&=~IS_ANIMATING,setPausedBit=(b,j)=>j?b[$P]|=IS_PAUSED:b[$P]&=~IS_PAUSED,SpringValue=class extends FrameValue{constructor(b,j){if(super(),this.animation=new Animation,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und(b)||!is.und(j)){const $=is.obj(b)?{...b}:{...j,from:b};is.und($.default)&&($.default=!0),this.start($)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const b=getAnimated(this);return b instanceof AnimatedValue?b.lastVelocity||0:b.getPayload().map(j=>j.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance(b){let j=!0,$=!1;const _e=this.animation;let{toValues:et}=_e;const{config:tt}=_e,nt=getPayload(_e.to);!nt&&hasFluidValue(_e.to)&&(et=toArray(getFluidValue(_e.to))),_e.values.forEach((it,ct)=>{if(it.done)return;const ot=it.constructor==AnimatedString?1:nt?nt[ct].lastPosition:et[ct];let at=_e.immediate,ft=ot;if(!at){if(ft=it.lastPosition,tt.tension<=0){it.done=!0;return}let dt=it.elapsedTime+=b;const mt=_e.fromValues[ct],xt=it.v0!=null?it.v0:it.v0=is.arr(tt.velocity)?tt.velocity[ct]:tt.velocity;let ht;const gt=tt.precision||(mt==ot?.005:Math.min(1,Math.abs(ot-mt)*.001));if(is.und(tt.duration))if(tt.decay){const Et=tt.decay===!0?.998:tt.decay,St=Math.exp(-(1-Et)*dt);ft=mt+xt/(1-Et)*(1-St),at=Math.abs(it.lastPosition-ft)<=gt,ht=xt*St}else{ht=it.lastVelocity==null?xt:it.lastVelocity;const Et=tt.restVelocity||gt/10,St=tt.clamp?0:tt.bounce,At=!is.und(St),$t=mt==ot?it.v0>0:mt<ot;let wt,Pt=!1;const bt=1,Bt=Math.ceil(b/bt);for(let Yt=0;Yt<Bt&&(wt=Math.abs(ht)>Et,!(!wt&&(at=Math.abs(ot-ft)<=gt,at)));++Yt){At&&(Pt=ft==ot||ft>ot==$t,Pt&&(ht=-ht*St,ft=ot));const rn=-tt.tension*1e-6*(ft-ot),hn=-tt.friction*.001*ht,Vt=(rn+hn)/tt.mass;ht=ht+Vt*bt,ft=ft+ht*bt}}else{let Et=1;tt.duration>0&&(this._memoizedDuration!==tt.duration&&(this._memoizedDuration=tt.duration,it.durationProgress>0&&(it.elapsedTime=tt.duration*it.durationProgress,dt=it.elapsedTime+=b)),Et=(tt.progress||0)+dt/this._memoizedDuration,Et=Et>1?1:Et<0?0:Et,it.durationProgress=Et),ft=mt+tt.easing(Et)*(ot-mt),ht=(ft-it.lastPosition)/b,at=Et==1}it.lastVelocity=ht,Number.isNaN(ft)&&(console.warn("Got NaN while animating:",this),at=!0)}nt&&!nt[ct].done&&(at=!1),at?it.done=!0:j=!1,it.setValue(ft,tt.round)&&($=!0)});const rt=getAnimated(this),st=rt.getValue();if(j){const it=getFluidValue(_e.to);(st!==it||$)&&!tt.decay?(rt.setValue(it),this._onChange(it)):$&&tt.decay&&this._onChange(st),this._stop()}else $&&this._onChange(st)}set(b){return raf.batchedUpdates(()=>{this._stop(),this._focus(b),this._set(b)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:b,config:j}=this.animation;raf.batchedUpdates(()=>{this._onStart(),j.decay||this._set(b,!1),this._stop()})}return this}update(b){return(this.queue||(this.queue=[])).push(b),this}start(b,j){let $;return is.und(b)?($=this.queue||[],this.queue=[]):$=[is.obj(b)?b:{...j,to:b}],Promise.all($.map(_e=>this._update(_e))).then(_e=>getCombinedResult(this,_e))}stop(b){const{to:j}=this.animation;return this._focus(this.get()),stopAsync(this._state,b&&this._lastCallId),raf.batchedUpdates(()=>this._stop(j,b)),this}reset(){this._update({reset:!0})}eventObserved(b){b.type=="change"?this._start():b.type=="priority"&&(this.priority=b.priority+1)}_prepareNode(b){const j=this.key||"";let{to:$,from:_e}=b;$=is.obj($)?$[j]:$,($==null||isAsyncTo($))&&($=void 0),_e=is.obj(_e)?_e[j]:_e,_e==null&&(_e=void 0);const et={to:$,from:_e};return hasAnimated(this)||(b.reverse&&([$,_e]=[_e,$]),_e=getFluidValue(_e),is.und(_e)?getAnimated(this)||this._set($):this._set(_e)),et}_update({...b},j){const{key:$,defaultProps:_e}=this;b.default&&Object.assign(_e,getDefaultProps(b,(nt,rt)=>/^on/.test(rt)?resolveProp(nt,$):nt)),mergeActiveFn(this,b,"onProps"),sendEvent(this,"onProps",b,this);const et=this._prepareNode(b);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const tt=this._state;return scheduleProps(++this._lastCallId,{key:$,props:b,defaultProps:_e,state:tt,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(tt.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(tt.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,et)}}).then(nt=>{if(b.loop&&nt.finished&&!(j&&nt.noop)){const rt=createLoopUpdate(b);if(rt)return this._update(rt,!0)}return nt})}_merge(b,j,$){if(j.cancel)return this.stop(!0),$(getCancelledResult(this));const _e=!is.und(b.to),et=!is.und(b.from);if(_e||et)if(j.callId>this._lastToId)this._lastToId=j.callId;else return $(getCancelledResult(this));const{key:tt,defaultProps:nt,animation:rt}=this,{to:st,from:it}=rt;let{to:ct=st,from:ot=it}=b;et&&!_e&&(!j.default||is.und(ct))&&(ct=ot),j.reverse&&([ct,ot]=[ot,ct]);const at=!isEqual(ot,it);at&&(rt.from=ot),ot=getFluidValue(ot);const ft=!isEqual(ct,st);ft&&this._focus(ct);const dt=isAsyncTo(j.to),{config:mt}=rt,{decay:xt,velocity:ht}=mt;(_e||et)&&(mt.velocity=0),j.config&&!dt&&mergeConfig(mt,callProp(j.config,tt),j.config!==nt.config?callProp(nt.config,tt):void 0);let gt=getAnimated(this);if(!gt||is.und(ct))return $(getFinishedResult(this,!0));const Et=is.und(j.reset)?et&&!j.default:!is.und(ot)&&matchProp(j.reset,tt),St=Et?ot:this.get(),At=computeGoal(ct),$t=is.num(At)||is.arr(At)||isAnimatedString(At),wt=!dt&&(!$t||matchProp(nt.immediate||j.immediate,tt));if(ft){const Yt=getAnimatedType(ct);if(Yt!==gt.constructor)if(wt)gt=this._set(At);else throw Error(`Cannot animate between ${gt.constructor.name} and ${Yt.name}, as the "to" prop suggests`)}const Pt=gt.constructor;let bt=hasFluidValue(ct),Bt=!1;if(!bt){const Yt=Et||!hasAnimated(this)&&at;(ft||Yt)&&(Bt=isEqual(computeGoal(St),At),bt=!Bt),(!isEqual(rt.immediate,wt)&&!wt||!isEqual(mt.decay,xt)||!isEqual(mt.velocity,ht))&&(bt=!0)}if(Bt&&isAnimating(this)&&(rt.changed&&!Et?bt=!0:bt||this._stop(st)),!dt&&((bt||hasFluidValue(st))&&(rt.values=gt.getPayload(),rt.toValues=hasFluidValue(ct)?null:Pt==AnimatedString?[1]:toArray(At)),rt.immediate!=wt&&(rt.immediate=wt,!wt&&!Et&&this._set(st)),bt)){const{onRest:Yt}=rt;each(ACTIVE_EVENTS,hn=>mergeActiveFn(this,j,hn));const rn=getFinishedResult(this,checkFinished(this,st));flushCalls(this._pendingCalls,rn),this._pendingCalls.add($),rt.changed&&raf.batchedUpdates(()=>{var hn;rt.changed=!Et,Yt==null||Yt(rn,this),Et?callProp(nt.onRest,rn):(hn=rt.onStart)==null||hn.call(rt,rn,this)})}Et&&this._set(St),dt?$(runAsync(j.to,j,this._state,this)):bt?this._start():isAnimating(this)&&!ft?this._pendingCalls.add($):$(getNoopResult(St))}_focus(b){const j=this.animation;b!==j.to&&(getFluidObservers(this)&&this._detach(),j.to=b,getFluidObservers(this)&&this._attach())}_attach(){let b=0;const{to:j}=this.animation;hasFluidValue(j)&&(addFluidObserver(j,this),isFrameValue(j)&&(b=j.priority+1)),this.priority=b}_detach(){const{to:b}=this.animation;hasFluidValue(b)&&removeFluidObserver(b,this)}_set(b,j=!0){const $=getFluidValue(b);if(!is.und($)){const _e=getAnimated(this);if(!_e||!isEqual($,_e.getValue())){const et=getAnimatedType($);!_e||_e.constructor!=et?setAnimated(this,et.create($)):_e.setValue($),_e&&raf.batchedUpdates(()=>{this._onChange($,j)})}}return getAnimated(this)}_onStart(){const b=this.animation;b.changed||(b.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,b.to)),this))}_onChange(b,j){j||(this._onStart(),callProp(this.animation.onChange,b,this)),callProp(this.defaultProps.onChange,b,this),super._onChange(b,j)}_start(){const b=this.animation;getAnimated(this).reset(getFluidValue(b.to)),b.immediate||(b.fromValues=b.values.map(j=>j.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals_exports.skipAnimation?this.finish():frameLoop.start(this)}_stop(b,j){if(isAnimating(this)){setActiveBit(this,!1);const $=this.animation;each($.values,et=>{et.done=!0}),$.toValues&&($.onChange=$.onPause=$.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const _e=j?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,b??$.to));flushCalls(this._pendingCalls,_e),$.changed&&($.changed=!1,sendEvent(this,"onRest",_e,this))}}};function checkFinished(b,j){const $=computeGoal(j),_e=computeGoal(b.get());return isEqual(_e,$)}function createLoopUpdate(b,j=b.loop,$=b.to){const _e=callProp(j);if(_e){const et=_e!==!0&&inferTo(_e),tt=(et||b).reverse,nt=!et||et.reset;return createUpdate({...b,loop:j,default:!1,pause:void 0,to:!tt||isAsyncTo($)?$:void 0,from:nt?b.from:void 0,reset:nt,...et})}}function createUpdate(b){const{to:j,from:$}=b=inferTo(b),_e=new Set;return is.obj(j)&&findDefined(j,_e),is.obj($)&&findDefined($,_e),b.keys=_e.size?Array.from(_e):null,b}function declareUpdate(b){const j=createUpdate(b);return is.und(j.default)&&(j.default=getDefaultProps(j)),j}function findDefined(b,j){eachProp(b,($,_e)=>$!=null&&j.add(_e))}var ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn(b,j,$){b.animation[$]=j[$]!==getDefaultProp(j,$)?resolveProp(j[$],b.key):void 0}function sendEvent(b,j,...$){var _e,et,tt,nt;(et=(_e=b.animation)[j])==null||et.call(_e,...$),(nt=(tt=b.defaultProps)[j])==null||nt.call(tt,...$)}var BATCHED_EVENTS=["onStart","onChange","onRest"],nextId2=1,Controller=class{constructor(b,j){this.id=nextId2++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),j&&(this._flush=j),b&&this.start({default:!0,...b})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(b=>b.idle&&!b.isDelayed&&!b.isPaused)}get item(){return this._item}set item(b){this._item=b}get(){const b={};return this.each((j,$)=>b[$]=j.get()),b}set(b){for(const j in b){const $=b[j];is.und($)||this.springs[j].set($)}}update(b){return b&&this.queue.push(createUpdate(b)),this}start(b){let{queue:j}=this;return b?j=toArray(b).map(createUpdate):this.queue=[],this._flush?this._flush(this,j):(prepareKeys(this,j),flushUpdateQueue(this,j))}stop(b,j){if(b!==!!b&&(j=b),j){const $=this.springs;each(toArray(j),_e=>$[_e].stop(!!b))}else stopAsync(this._state,this._lastAsyncId),this.each($=>$.stop(!!b));return this}pause(b){if(is.und(b))this.start({pause:!0});else{const j=this.springs;each(toArray(b),$=>j[$].pause())}return this}resume(b){if(is.und(b))this.start({pause:!1});else{const j=this.springs;each(toArray(b),$=>j[$].resume())}return this}each(b){eachProp(this.springs,b)}_onFrame(){const{onStart:b,onChange:j,onRest:$}=this._events,_e=this._active.size>0,et=this._changed.size>0;(_e&&!this._started||et&&!this._started)&&(this._started=!0,flush(b,([rt,st])=>{st.value=this.get(),rt(st,this,this._item)}));const tt=!_e&&this._started,nt=et||tt&&$.size?this.get():null;et&&j.size&&flush(j,([rt,st])=>{st.value=nt,rt(st,this,this._item)}),tt&&(this._started=!1,flush($,([rt,st])=>{st.value=nt,rt(st,this,this._item)}))}eventObserved(b){if(b.type=="change")this._changed.add(b.parent),b.idle||this._active.add(b.parent);else if(b.type=="idle")this._active.delete(b.parent);else return;raf.onFrame(this._onFrame)}};function flushUpdateQueue(b,j){return Promise.all(j.map($=>flushUpdate(b,$))).then($=>getCombinedResult(b,$))}async function flushUpdate(b,j,$){const{keys:_e,to:et,from:tt,loop:nt,onRest:rt,onResolve:st}=j,it=is.obj(j.default)&&j.default;nt&&(j.loop=!1),et===!1&&(j.to=null),tt===!1&&(j.from=null);const ct=is.arr(et)||is.fun(et)?et:void 0;ct?(j.to=void 0,j.onRest=void 0,it&&(it.onRest=void 0)):each(BATCHED_EVENTS,mt=>{const xt=j[mt];if(is.fun(xt)){const ht=b._events[mt];j[mt]=({finished:gt,cancelled:Et})=>{const St=ht.get(xt);St?(gt||(St.finished=!1),Et&&(St.cancelled=!0)):ht.set(xt,{value:null,finished:gt||!1,cancelled:Et||!1})},it&&(it[mt]=j[mt])}});const ot=b._state;j.pause===!ot.paused?(ot.paused=j.pause,flushCalls(j.pause?ot.pauseQueue:ot.resumeQueue)):ot.paused&&(j.pause=!0);const at=(_e||Object.keys(b.springs)).map(mt=>b.springs[mt].start(j)),ft=j.cancel===!0||getDefaultProp(j,"cancel")===!0;(ct||ft&&ot.asyncId)&&at.push(scheduleProps(++b._lastAsyncId,{props:j,state:ot,actions:{pause:noop,resume:noop,start(mt,xt){ft?(stopAsync(ot,b._lastAsyncId),xt(getCancelledResult(b))):(mt.onRest=rt,xt(runAsync(ct,mt,ot,b)))}}})),ot.paused&&await new Promise(mt=>{ot.resumeQueue.add(mt)});const dt=getCombinedResult(b,await Promise.all(at));if(nt&&dt.finished&&!($&&dt.noop)){const mt=createLoopUpdate(j,nt,et);if(mt)return prepareKeys(b,[mt]),flushUpdate(b,mt,!0)}return st&&raf.batchedUpdates(()=>st(dt,b,b.item)),dt}function getSprings(b,j){const $={...b.springs};return j&&each(toArray(j),_e=>{is.und(_e.keys)&&(_e=createUpdate(_e)),is.obj(_e.to)||(_e={..._e,to:void 0}),prepareSprings($,_e,et=>createSpring(et))}),setSprings(b,$),$}function setSprings(b,j){eachProp(j,($,_e)=>{b.springs[_e]||(b.springs[_e]=$,addFluidObserver($,b))})}function createSpring(b,j){const $=new SpringValue;return $.key=b,j&&addFluidObserver($,j),$}function prepareSprings(b,j,$){j.keys&&each(j.keys,_e=>{(b[_e]||(b[_e]=$(_e)))._prepareNode(j)})}function prepareKeys(b,j){each(j,$=>{prepareSprings(b.springs,$,_e=>createSpring(_e,b))})}var SpringContext=({children:b,...j})=>{const $=reactExports.useContext(ctx),_e=j.pause||!!$.pause,et=j.immediate||!!$.immediate;j=useMemoOne(()=>({pause:_e,immediate:et}),[_e,et]);const{Provider:tt}=ctx;return reactExports.createElement(tt,{value:j},b)},ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext(b,j){return Object.assign(b,reactExports.createContext(j)),b.Provider._context=b,b.Consumer._context=b,b}var SpringRef=()=>{const b=[],j=function(_e){deprecateDirectCall();const et=[];return each(b,(tt,nt)=>{if(is.und(_e))et.push(tt.start());else{const rt=$(_e,tt,nt);rt&&et.push(tt.start(rt))}}),et};j.current=b,j.add=function(_e){b.includes(_e)||b.push(_e)},j.delete=function(_e){const et=b.indexOf(_e);~et&&b.splice(et,1)},j.pause=function(){return each(b,_e=>_e.pause(...arguments)),this},j.resume=function(){return each(b,_e=>_e.resume(...arguments)),this},j.set=function(_e){each(b,(et,tt)=>{const nt=is.fun(_e)?_e(tt,et):_e;nt&&et.set(nt)})},j.start=function(_e){const et=[];return each(b,(tt,nt)=>{if(is.und(_e))et.push(tt.start());else{const rt=this._getProps(_e,tt,nt);rt&&et.push(tt.start(rt))}}),et},j.stop=function(){return each(b,_e=>_e.stop(...arguments)),this},j.update=function(_e){return each(b,(et,tt)=>et.update(this._getProps(_e,et,tt))),this};const $=function(_e,et,tt){return is.fun(_e)?_e(tt,et):_e};return j._getProps=$,j};function useSprings(b,j,$){const _e=is.fun(j)&&j;_e&&!$&&($=[]);const et=reactExports.useMemo(()=>_e||arguments.length==3?SpringRef():void 0,[]),tt=reactExports.useRef(0),nt=useForceUpdate(),rt=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(ht,gt){const Et=getSprings(ht,gt);return tt.current>0&&!rt.queue.length&&!Object.keys(Et).some(At=>!ht.springs[At])?flushUpdateQueue(ht,gt):new Promise(At=>{setSprings(ht,Et),rt.queue.push(()=>{At(flushUpdateQueue(ht,gt))}),nt()})}}),[]),st=reactExports.useRef([...rt.ctrls]),it=[],ct=usePrev(b)||0;reactExports.useMemo(()=>{each(st.current.slice(b,ct),ht=>{detachRefs(ht,et),ht.stop(!0)}),st.current.length=b,ot(ct,b)},[b]),reactExports.useMemo(()=>{ot(0,Math.min(ct,b))},$);function ot(ht,gt){for(let Et=ht;Et<gt;Et++){const St=st.current[Et]||(st.current[Et]=new Controller(null,rt.flush)),At=_e?_e(Et,St):j[Et];At&&(it[Et]=declareUpdate(At))}}const at=st.current.map((ht,gt)=>getSprings(ht,it[gt])),ft=reactExports.useContext(SpringContext),dt=usePrev(ft),mt=ft!==dt&&hasProps(ft);useIsomorphicLayoutEffect(()=>{tt.current++,rt.ctrls=st.current;const{queue:ht}=rt;ht.length&&(rt.queue=[],each(ht,gt=>gt())),each(st.current,(gt,Et)=>{et==null||et.add(gt),mt&&gt.start({default:ft});const St=it[Et];St&&(replaceRef(gt,St.ref),gt.ref?gt.queue.push(St):gt.start(St))})}),useOnce(()=>()=>{each(rt.ctrls,ht=>ht.stop(!0))});const xt=at.map(ht=>({...ht}));return et?[xt,et]:xt}function useSpring(b,j){const $=is.fun(b),[[_e],et]=useSprings(1,$?b:[b],$?[]:j);return $||arguments.length==2?[_e,et]:_e}function useTransition(b,j,$){const _e=is.fun(j)&&j,{reset:et,sort:tt,trail:nt=0,expires:rt=!0,exitBeforeEnter:st=!1,onDestroyed:it,ref:ct,config:ot}=_e?_e():j,at=reactExports.useMemo(()=>_e||arguments.length==3?SpringRef():void 0,[]),ft=toArray(b),dt=[],mt=reactExports.useRef(null),xt=et?null:mt.current;useIsomorphicLayoutEffect(()=>{mt.current=dt}),useOnce(()=>(each(dt,Vt=>{at==null||at.add(Vt.ctrl),Vt.ctrl.ref=at}),()=>{each(mt.current,Vt=>{Vt.expired&&clearTimeout(Vt.expirationId),detachRefs(Vt.ctrl,at),Vt.ctrl.stop(!0)})}));const ht=getKeys(ft,_e?_e():j,xt),gt=et&&mt.current||[];useIsomorphicLayoutEffect(()=>each(gt,({ctrl:Vt,item:Xt,key:en})=>{detachRefs(Vt,at),callProp(it,Xt,en)}));const Et=[];if(xt&&each(xt,(Vt,Xt)=>{Vt.expired?(clearTimeout(Vt.expirationId),gt.push(Vt)):(Xt=Et[Xt]=ht.indexOf(Vt.key),~Xt&&(dt[Xt]=Vt))}),each(ft,(Vt,Xt)=>{dt[Xt]||(dt[Xt]={key:ht[Xt],item:Vt,phase:"mount",ctrl:new Controller},dt[Xt].ctrl.item=Vt)}),Et.length){let Vt=-1;const{leave:Xt}=_e?_e():j;each(Et,(en,cn)=>{const qt=xt[cn];~en?(Vt=dt.indexOf(qt),dt[Vt]={...qt,item:ft[en]}):Xt&&dt.splice(++Vt,0,qt)})}is.fun(tt)&&dt.sort((Vt,Xt)=>tt(Vt.item,Xt.item));let St=-nt;const At=useForceUpdate(),$t=getDefaultProps(j),wt=new Map,Pt=reactExports.useRef(new Map),bt=reactExports.useRef(!1);each(dt,(Vt,Xt)=>{const en=Vt.key,cn=Vt.phase,qt=_e?_e():j;let Wt,sn;const Qt=callProp(qt.delay||0,en);if(cn=="mount")Wt=qt.enter,sn="enter";else{const mn=ht.indexOf(en)<0;if(cn!="leave")if(mn)Wt=qt.leave,sn="leave";else if(Wt=qt.update)sn="update";else return;else if(!mn)Wt=qt.enter,sn="enter";else return}if(Wt=callProp(Wt,Vt.item,Xt),Wt=is.obj(Wt)?inferTo(Wt):{to:Wt},!Wt.config){const mn=ot||$t.config;Wt.config=callProp(mn,Vt.item,Xt,sn)}St+=nt;const tn={...$t,delay:Qt+St,ref:ct,immediate:qt.immediate,reset:!1,...Wt};if(sn=="enter"&&is.und(tn.from)){const mn=_e?_e():j,_n=is.und(mn.initial)||xt?mn.from:mn.initial;tn.from=callProp(_n,Vt.item,Xt)}const{onResolve:vn}=tn;tn.onResolve=mn=>{callProp(vn,mn);const _n=mt.current,Jt=_n.find(gn=>gn.key===en);if(Jt&&!(mn.cancelled&&Jt.phase!="update")&&Jt.ctrl.idle){const gn=_n.every(Zt=>Zt.ctrl.idle);if(Jt.phase=="leave"){const Zt=callProp(rt,Jt.item);if(Zt!==!1){const bn=Zt===!0?0:Zt;if(Jt.expired=!0,!gn&&bn>0){bn<=2147483647&&(Jt.expirationId=setTimeout(At,bn));return}}}gn&&_n.some(Zt=>Zt.expired)&&(Pt.current.delete(Jt),st&&(bt.current=!0),At())}};const un=getSprings(Vt.ctrl,tn);sn==="leave"&&st?Pt.current.set(Vt,{phase:sn,springs:un,payload:tn}):wt.set(Vt,{phase:sn,springs:un,payload:tn})});const Bt=reactExports.useContext(SpringContext),Yt=usePrev(Bt),rn=Bt!==Yt&&hasProps(Bt);useIsomorphicLayoutEffect(()=>{rn&&each(dt,Vt=>{Vt.ctrl.start({default:Bt})})},[Bt]),each(wt,(Vt,Xt)=>{if(Pt.current.size){const en=dt.findIndex(cn=>cn.key===Xt.key);dt.splice(en,1)}}),useIsomorphicLayoutEffect(()=>{each(Pt.current.size?Pt.current:wt,({phase:Vt,payload:Xt},en)=>{const{ctrl:cn}=en;en.phase=Vt,at==null||at.add(cn),rn&&Vt=="enter"&&cn.start({default:Bt}),Xt&&(replaceRef(cn,Xt.ref),(cn.ref||at)&&!bt.current?cn.update(Xt):(cn.start(Xt),bt.current&&(bt.current=!1)))})},et?void 0:$);const hn=Vt=>reactExports.createElement(reactExports.Fragment,null,dt.map((Xt,en)=>{const{springs:cn}=wt.get(Xt)||Xt.ctrl,qt=Vt({...cn},Xt.item,Xt,en);return qt&&qt.type?reactExports.createElement(qt.type,{...qt.props,key:is.str(Xt.key)||is.num(Xt.key)?Xt.key:Xt.ctrl.id,ref:qt.ref}):qt}));return at?[hn,at]:hn}var nextKey=1;function getKeys(b,{key:j,keys:$=j},_e){if($===null){const et=new Set;return b.map(tt=>{const nt=_e&&_e.find(rt=>rt.item===tt&&rt.phase!=="leave"&&!et.has(rt));return nt?(et.add(nt),nt.key):nextKey++})}return is.und($)?b:is.fun($)?b.map($):toArray($)}var Interpolation=class extends FrameValue{constructor(b,j){super(),this.source=b,this.idle=!0,this._active=new Set,this.calc=createInterpolator(...j);const $=this._get(),_e=getAnimatedType($);setAnimated(this,_e.create($))}advance(b){const j=this._get(),$=this.get();isEqual(j,$)||(getAnimated(this).setValue(j),this._onChange(j,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const b=is.arr(this.source)?this.source.map(getFluidValue):toArray(getFluidValue(this.source));return this.calc(...b)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each(getPayload(this),b=>{b.done=!1}),globals_exports.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let b=1;each(toArray(this.source),j=>{hasFluidValue(j)&&addFluidObserver(j,this),isFrameValue(j)&&(j.idle||this._active.add(j),b=Math.max(b,j.priority+1))}),this.priority=b,this._start()}_detach(){each(toArray(this.source),b=>{hasFluidValue(b)&&removeFluidObserver(b,this)}),this._active.clear(),becomeIdle(this)}eventObserved(b){b.type=="change"?b.idle?this.advance():(this._active.add(b.parent),this._start()):b.type=="idle"?this._active.delete(b.parent):b.type=="priority"&&(this.priority=toArray(this.source).reduce((j,$)=>Math.max(j,(isFrameValue($)?$.priority:0)+1),0))}};function isIdle(b){return b.idle!==!1}function checkIdle(b){return!b.size||Array.from(b).every(isIdle)}function becomeIdle(b){b.idle||(b.idle=!0,each(getPayload(b),j=>{j.done=!0}),callFluidObservers(b,{type:"idle",parent:b}))}globals_exports.assign({createStringInterpolator:createStringInterpolator2,to:(b,j)=>new Interpolation(b,j)});var isCustomPropRE=/^--/;function dangerousStyleValue(b,j){return j==null||typeof j=="boolean"||j===""?"":typeof j=="number"&&j!==0&&!isCustomPropRE.test(b)&&!(isUnitlessNumber.hasOwnProperty(b)&&isUnitlessNumber[b])?j+"px":(""+j).trim()}var attributeCache={};function applyAnimatedValues(b,j){if(!b.nodeType||!b.setAttribute)return!1;const $=b.nodeName==="filter"||b.parentNode&&b.parentNode.nodeName==="filter",{style:_e,children:et,scrollTop:tt,scrollLeft:nt,viewBox:rt,...st}=j,it=Object.values(st),ct=Object.keys(st).map(ot=>$||b.hasAttribute(ot)?ot:attributeCache[ot]||(attributeCache[ot]=ot.replace(/([A-Z])/g,at=>"-"+at.toLowerCase())));et!==void 0&&(b.textContent=et);for(const ot in _e)if(_e.hasOwnProperty(ot)){const at=dangerousStyleValue(ot,_e[ot]);isCustomPropRE.test(ot)?b.style.setProperty(ot,at):b.style[ot]=at}ct.forEach((ot,at)=>{b.setAttribute(ot,it[at])}),tt!==void 0&&(b.scrollTop=tt),nt!==void 0&&(b.scrollLeft=nt),rt!==void 0&&b.setAttribute("viewBox",rt)}var isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey=(b,j)=>b+j.charAt(0).toUpperCase()+j.substring(1),prefixes=["Webkit","Ms","Moz","O"];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce((b,j)=>(prefixes.forEach($=>b[prefixKey($,j)]=b[j]),b),isUnitlessNumber);var domTransforms=/^(matrix|translate|scale|rotate|skew)/,pxTransforms=/^(translate)/,degTransforms=/^(rotate|skew)/,addUnit=(b,j)=>is.num(b)&&b!==0?b+j:b,isValueIdentity=(b,j)=>is.arr(b)?b.every($=>isValueIdentity($,j)):is.num(b)?b===j:parseFloat(b)===j,AnimatedStyle=class extends AnimatedObject{constructor({x:b,y:j,z:$,..._e}){const et=[],tt=[];(b||j||$)&&(et.push([b||0,j||0,$||0]),tt.push(nt=>[`translate3d(${nt.map(rt=>addUnit(rt,"px")).join(",")})`,isValueIdentity(nt,0)])),eachProp(_e,(nt,rt)=>{if(rt==="transform")et.push([nt||""]),tt.push(st=>[st,st===""]);else if(domTransforms.test(rt)){if(delete _e[rt],is.und(nt))return;const st=pxTransforms.test(rt)?"px":degTransforms.test(rt)?"deg":"";et.push(toArray(nt)),tt.push(rt==="rotate3d"?([it,ct,ot,at])=>[`rotate3d(${it},${ct},${ot},${addUnit(at,st)})`,isValueIdentity(at,0)]:it=>[`${rt}(${it.map(ct=>addUnit(ct,st)).join(",")})`,isValueIdentity(it,rt.startsWith("scale")?1:0)])}}),et.length&&(_e.transform=new FluidTransform(et,tt)),super(_e)}},FluidTransform=class extends FluidValue{constructor(b,j){super(),this.inputs=b,this.transforms=j,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let b="",j=!0;return each(this.inputs,($,_e)=>{const et=getFluidValue($[0]),[tt,nt]=this.transforms[_e](is.arr(et)?et:$.map(getFluidValue));b+=" "+tt,j=j&&nt}),j?"none":b}observerAdded(b){b==1&&each(this.inputs,j=>each(j,$=>hasFluidValue($)&&addFluidObserver($,this)))}observerRemoved(b){b==0&&each(this.inputs,j=>each(j,$=>hasFluidValue($)&&removeFluidObserver($,this)))}eventObserved(b){b.type=="change"&&(this._value=null),callFluidObservers(this,b)}},primitives=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2,colors:colors2});var host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:b=>new AnimatedStyle(b),getComponentProps:({scrollTop:b,scrollLeft:j,...$})=>$}),animated=host.animated;function useFadeTransition(b){return useTransition(b,{from:{opacity:0,transform:"translate(0, -2%) scale(0.96)"},enter:{opacity:1,transform:"translate(0, 0) scale(1)"},leave:{opacity:0,transform:"translate(0, -2%) scale(0.96)"}})}const QspInput=({attrs:b,children:j})=>{const $=useAtom_2(input$),[_e,et,tt]=useAttributes(b,"qsp-input"),nt=useFadeTransition($.isOpen);return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:rt=>{rt.preventDefault(),input$.actions.finish()},cancelAction:rt=>{rt.preventDefault(),input$.actions.close()}},children:jsxRuntimeExports.jsx(Root$6,{open:$.isOpen,onOpenChange:()=>input$.actions.close(),children:nt((rt,st)=>st?jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:rt,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:jsxRuntimeExports.jsx("form",{onSubmit:it=>{it.preventDefault(),input$.actions.finish()},children:j})})})})]}):null)})})},QspInputContent=({attrs:b})=>{const j=useAtom_2(input$),[$,_e,{useFormat:et,...tt}]=useAttributes(b,"qsp-input-content");return jsxRuntimeExports.jsx(Description$1,{asChild:!0,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx($,{style:_e,...tt,children:jsxRuntimeExports.jsx(ContentRenderer,{content:j.content})})})})},QspInputTag=({attrs:b})=>{const[,j,$]=useAttributes(b,"input","qsp-input-tag"),_e=useAtom_2(input$),et=tt=>{input$.actions.enter(tt.target.value)};return jsxRuntimeExports.jsx("input",{style:j,...$,type:"text",value:_e.entered,onInput:et,autoFocus:!0})};function createCollection(b){const j=b+"CollectionProvider",[$,_e]=createContextScope(j),[et,tt]=$(j,{collectionRef:{current:null},itemMap:new Map}),nt=ft=>{const{scope:dt,children:mt}=ft,xt=React$1.useRef(null),ht=React$1.useRef(new Map).current;return jsxRuntimeExports.jsx(et,{scope:dt,itemMap:ht,collectionRef:xt,children:mt})};nt.displayName=j;const rt=b+"CollectionSlot",st=React$1.forwardRef((ft,dt)=>{const{scope:mt,children:xt}=ft,ht=tt(rt,mt),gt=useComposedRefs(dt,ht.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:gt,children:xt})});st.displayName=rt;const it=b+"CollectionItemSlot",ct="data-radix-collection-item",ot=React$1.forwardRef((ft,dt)=>{const{scope:mt,children:xt,...ht}=ft,gt=React$1.useRef(null),Et=useComposedRefs(dt,gt),St=tt(it,mt);return React$1.useEffect(()=>(St.itemMap.set(gt,{ref:gt,...ht}),()=>void St.itemMap.delete(gt))),jsxRuntimeExports.jsx(Slot,{[ct]:"",ref:Et,children:xt})});ot.displayName=it;function at(ft){const dt=tt(b+"CollectionConsumer",ft);return React$1.useCallback(()=>{const xt=dt.collectionRef.current;if(!xt)return[];const ht=Array.from(xt.querySelectorAll(`[${ct}]`));return Array.from(dt.itemMap.values()).sort((St,At)=>ht.indexOf(St.ref.current)-ht.indexOf(At.ref.current))},[dt.collectionRef,dt.itemMap])}return[{Provider:nt,Slot:st,ItemSlot:ot},at,_e]}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=b=>({x:b,y:b}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(b,j,$){return max(b,min(j,$))}function evaluate(b,j){return typeof b=="function"?b(j):b}function getSide(b){return b.split("-")[0]}function getAlignment(b){return b.split("-")[1]}function getOppositeAxis(b){return b==="x"?"y":"x"}function getAxisLength(b){return b==="y"?"height":"width"}function getSideAxis(b){return["top","bottom"].includes(getSide(b))?"y":"x"}function getAlignmentAxis(b){return getOppositeAxis(getSideAxis(b))}function getAlignmentSides(b,j,$){$===void 0&&($=!1);const _e=getAlignment(b),et=getAlignmentAxis(b),tt=getAxisLength(et);let nt=et==="x"?_e===($?"end":"start")?"right":"left":_e==="start"?"bottom":"top";return j.reference[tt]>j.floating[tt]&&(nt=getOppositePlacement(nt)),[nt,getOppositePlacement(nt)]}function getExpandedPlacements(b){const j=getOppositePlacement(b);return[getOppositeAlignmentPlacement(b),j,getOppositeAlignmentPlacement(j)]}function getOppositeAlignmentPlacement(b){return b.replace(/start|end/g,j=>oppositeAlignmentMap[j])}function getSideList(b,j,$){const _e=["left","right"],et=["right","left"],tt=["top","bottom"],nt=["bottom","top"];switch(b){case"top":case"bottom":return $?j?et:_e:j?_e:et;case"left":case"right":return j?tt:nt;default:return[]}}function getOppositeAxisPlacements(b,j,$,_e){const et=getAlignment(b);let tt=getSideList(getSide(b),$==="start",_e);return et&&(tt=tt.map(nt=>nt+"-"+et),j&&(tt=tt.concat(tt.map(getOppositeAlignmentPlacement)))),tt}function getOppositePlacement(b){return b.replace(/left|right|bottom|top/g,j=>oppositeSideMap[j])}function expandPaddingObject(b){return{top:0,right:0,bottom:0,left:0,...b}}function getPaddingObject(b){return typeof b!="number"?expandPaddingObject(b):{top:b,right:b,bottom:b,left:b}}function rectToClientRect(b){return{...b,top:b.y,left:b.x,right:b.x+b.width,bottom:b.y+b.height}}function computeCoordsFromPlacement(b,j,$){let{reference:_e,floating:et}=b;const tt=getSideAxis(j),nt=getAlignmentAxis(j),rt=getAxisLength(nt),st=getSide(j),it=tt==="y",ct=_e.x+_e.width/2-et.width/2,ot=_e.y+_e.height/2-et.height/2,at=_e[rt]/2-et[rt]/2;let ft;switch(st){case"top":ft={x:ct,y:_e.y-et.height};break;case"bottom":ft={x:ct,y:_e.y+_e.height};break;case"right":ft={x:_e.x+_e.width,y:ot};break;case"left":ft={x:_e.x-et.width,y:ot};break;default:ft={x:_e.x,y:_e.y}}switch(getAlignment(j)){case"start":ft[nt]-=at*($&&it?-1:1);break;case"end":ft[nt]+=at*($&&it?-1:1);break}return ft}const computePosition$1=async(b,j,$)=>{const{placement:_e="bottom",strategy:et="absolute",middleware:tt=[],platform:nt}=$,rt=tt.filter(Boolean),st=await(nt.isRTL==null?void 0:nt.isRTL(j));let it=await nt.getElementRects({reference:b,floating:j,strategy:et}),{x:ct,y:ot}=computeCoordsFromPlacement(it,_e,st),at=_e,ft={},dt=0;for(let mt=0;mt<rt.length;mt++){const{name:xt,fn:ht}=rt[mt],{x:gt,y:Et,data:St,reset:At}=await ht({x:ct,y:ot,initialPlacement:_e,placement:at,strategy:et,middlewareData:ft,rects:it,platform:nt,elements:{reference:b,floating:j}});if(ct=gt??ct,ot=Et??ot,ft={...ft,[xt]:{...ft[xt],...St}},At&&dt<=50){dt++,typeof At=="object"&&(At.placement&&(at=At.placement),At.rects&&(it=At.rects===!0?await nt.getElementRects({reference:b,floating:j,strategy:et}):At.rects),{x:ct,y:ot}=computeCoordsFromPlacement(it,at,st)),mt=-1;continue}}return{x:ct,y:ot,placement:at,strategy:et,middlewareData:ft}};async function detectOverflow(b,j){var $;j===void 0&&(j={});const{x:_e,y:et,platform:tt,rects:nt,elements:rt,strategy:st}=b,{boundary:it="clippingAncestors",rootBoundary:ct="viewport",elementContext:ot="floating",altBoundary:at=!1,padding:ft=0}=evaluate(j,b),dt=getPaddingObject(ft),xt=rt[at?ot==="floating"?"reference":"floating":ot],ht=rectToClientRect(await tt.getClippingRect({element:($=await(tt.isElement==null?void 0:tt.isElement(xt)))==null||$?xt:xt.contextElement||await(tt.getDocumentElement==null?void 0:tt.getDocumentElement(rt.floating)),boundary:it,rootBoundary:ct,strategy:st})),gt=ot==="floating"?{...nt.floating,x:_e,y:et}:nt.reference,Et=await(tt.getOffsetParent==null?void 0:tt.getOffsetParent(rt.floating)),St=await(tt.isElement==null?void 0:tt.isElement(Et))?await(tt.getScale==null?void 0:tt.getScale(Et))||{x:1,y:1}:{x:1,y:1},At=rectToClientRect(tt.convertOffsetParentRelativeRectToViewportRelativeRect?await tt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:gt,offsetParent:Et,strategy:st}):gt);return{top:(ht.top-At.top+dt.top)/St.y,bottom:(At.bottom-ht.bottom+dt.bottom)/St.y,left:(ht.left-At.left+dt.left)/St.x,right:(At.right-ht.right+dt.right)/St.x}}const arrow$1=b=>({name:"arrow",options:b,async fn(j){const{x:$,y:_e,placement:et,rects:tt,platform:nt,elements:rt,middlewareData:st}=j,{element:it,padding:ct=0}=evaluate(b,j)||{};if(it==null)return{};const ot=getPaddingObject(ct),at={x:$,y:_e},ft=getAlignmentAxis(et),dt=getAxisLength(ft),mt=await nt.getDimensions(it),xt=ft==="y",ht=xt?"top":"left",gt=xt?"bottom":"right",Et=xt?"clientHeight":"clientWidth",St=tt.reference[dt]+tt.reference[ft]-at[ft]-tt.floating[dt],At=at[ft]-tt.reference[ft],$t=await(nt.getOffsetParent==null?void 0:nt.getOffsetParent(it));let wt=$t?$t[Et]:0;(!wt||!await(nt.isElement==null?void 0:nt.isElement($t)))&&(wt=rt.floating[Et]||tt.floating[dt]);const Pt=St/2-At/2,bt=wt/2-mt[dt]/2-1,Bt=min(ot[ht],bt),Yt=min(ot[gt],bt),rn=Bt,hn=wt-mt[dt]-Yt,Vt=wt/2-mt[dt]/2+Pt,Xt=clamp(rn,Vt,hn),en=!st.arrow&&getAlignment(et)!=null&&Vt!=Xt&&tt.reference[dt]/2-(Vt<rn?Bt:Yt)-mt[dt]/2<0,cn=en?Vt<rn?Vt-rn:Vt-hn:0;return{[ft]:at[ft]+cn,data:{[ft]:Xt,centerOffset:Vt-Xt-cn,...en&&{alignmentOffset:cn}},reset:en}}}),flip=function(b){return b===void 0&&(b={}),{name:"flip",options:b,async fn(j){var $,_e;const{placement:et,middlewareData:tt,rects:nt,initialPlacement:rt,platform:st,elements:it}=j,{mainAxis:ct=!0,crossAxis:ot=!0,fallbackPlacements:at,fallbackStrategy:ft="bestFit",fallbackAxisSideDirection:dt="none",flipAlignment:mt=!0,...xt}=evaluate(b,j);if(($=tt.arrow)!=null&&$.alignmentOffset)return{};const ht=getSide(et),gt=getSide(rt)===rt,Et=await(st.isRTL==null?void 0:st.isRTL(it.floating)),St=at||(gt||!mt?[getOppositePlacement(rt)]:getExpandedPlacements(rt));!at&&dt!=="none"&&St.push(...getOppositeAxisPlacements(rt,mt,dt,Et));const At=[rt,...St],$t=await detectOverflow(j,xt),wt=[];let Pt=((_e=tt.flip)==null?void 0:_e.overflows)||[];if(ct&&wt.push($t[ht]),ot){const rn=getAlignmentSides(et,nt,Et);wt.push($t[rn[0]],$t[rn[1]])}if(Pt=[...Pt,{placement:et,overflows:wt}],!wt.every(rn=>rn<=0)){var bt,Bt;const rn=(((bt=tt.flip)==null?void 0:bt.index)||0)+1,hn=At[rn];if(hn)return{data:{index:rn,overflows:Pt},reset:{placement:hn}};let Vt=(Bt=Pt.filter(Xt=>Xt.overflows[0]<=0).sort((Xt,en)=>Xt.overflows[1]-en.overflows[1])[0])==null?void 0:Bt.placement;if(!Vt)switch(ft){case"bestFit":{var Yt;const Xt=(Yt=Pt.map(en=>[en.placement,en.overflows.filter(cn=>cn>0).reduce((cn,qt)=>cn+qt,0)]).sort((en,cn)=>en[1]-cn[1])[0])==null?void 0:Yt[0];Xt&&(Vt=Xt);break}case"initialPlacement":Vt=rt;break}if(et!==Vt)return{reset:{placement:Vt}}}return{}}}};function getSideOffsets(b,j){return{top:b.top-j.height,right:b.right-j.width,bottom:b.bottom-j.height,left:b.left-j.width}}function isAnySideFullyClipped(b){return sides.some(j=>b[j]>=0)}const hide=function(b){return b===void 0&&(b={}),{name:"hide",options:b,async fn(j){const{rects:$}=j,{strategy:_e="referenceHidden",...et}=evaluate(b,j);switch(_e){case"referenceHidden":{const tt=await detectOverflow(j,{...et,elementContext:"reference"}),nt=getSideOffsets(tt,$.reference);return{data:{referenceHiddenOffsets:nt,referenceHidden:isAnySideFullyClipped(nt)}}}case"escaped":{const tt=await detectOverflow(j,{...et,altBoundary:!0}),nt=getSideOffsets(tt,$.floating);return{data:{escapedOffsets:nt,escaped:isAnySideFullyClipped(nt)}}}default:return{}}}}};async function convertValueToCoords(b,j){const{placement:$,platform:_e,elements:et}=b,tt=await(_e.isRTL==null?void 0:_e.isRTL(et.floating)),nt=getSide($),rt=getAlignment($),st=getSideAxis($)==="y",it=["left","top"].includes(nt)?-1:1,ct=tt&&st?-1:1,ot=evaluate(j,b);let{mainAxis:at,crossAxis:ft,alignmentAxis:dt}=typeof ot=="number"?{mainAxis:ot,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ot};return rt&&typeof dt=="number"&&(ft=rt==="end"?dt*-1:dt),st?{x:ft*ct,y:at*it}:{x:at*it,y:ft*ct}}const offset=function(b){return b===void 0&&(b=0),{name:"offset",options:b,async fn(j){var $,_e;const{x:et,y:tt,placement:nt,middlewareData:rt}=j,st=await convertValueToCoords(j,b);return nt===(($=rt.offset)==null?void 0:$.placement)&&(_e=rt.arrow)!=null&&_e.alignmentOffset?{}:{x:et+st.x,y:tt+st.y,data:{...st,placement:nt}}}}},shift=function(b){return b===void 0&&(b={}),{name:"shift",options:b,async fn(j){const{x:$,y:_e,placement:et}=j,{mainAxis:tt=!0,crossAxis:nt=!1,limiter:rt={fn:xt=>{let{x:ht,y:gt}=xt;return{x:ht,y:gt}}},...st}=evaluate(b,j),it={x:$,y:_e},ct=await detectOverflow(j,st),ot=getSideAxis(getSide(et)),at=getOppositeAxis(ot);let ft=it[at],dt=it[ot];if(tt){const xt=at==="y"?"top":"left",ht=at==="y"?"bottom":"right",gt=ft+ct[xt],Et=ft-ct[ht];ft=clamp(gt,ft,Et)}if(nt){const xt=ot==="y"?"top":"left",ht=ot==="y"?"bottom":"right",gt=dt+ct[xt],Et=dt-ct[ht];dt=clamp(gt,dt,Et)}const mt=rt.fn({...j,[at]:ft,[ot]:dt});return{...mt,data:{x:mt.x-$,y:mt.y-_e}}}}},limitShift=function(b){return b===void 0&&(b={}),{options:b,fn(j){const{x:$,y:_e,placement:et,rects:tt,middlewareData:nt}=j,{offset:rt=0,mainAxis:st=!0,crossAxis:it=!0}=evaluate(b,j),ct={x:$,y:_e},ot=getSideAxis(et),at=getOppositeAxis(ot);let ft=ct[at],dt=ct[ot];const mt=evaluate(rt,j),xt=typeof mt=="number"?{mainAxis:mt,crossAxis:0}:{mainAxis:0,crossAxis:0,...mt};if(st){const Et=at==="y"?"height":"width",St=tt.reference[at]-tt.floating[Et]+xt.mainAxis,At=tt.reference[at]+tt.reference[Et]-xt.mainAxis;ft<St?ft=St:ft>At&&(ft=At)}if(it){var ht,gt;const Et=at==="y"?"width":"height",St=["top","left"].includes(getSide(et)),At=tt.reference[ot]-tt.floating[Et]+(St&&((ht=nt.offset)==null?void 0:ht[ot])||0)+(St?0:xt.crossAxis),$t=tt.reference[ot]+tt.reference[Et]+(St?0:((gt=nt.offset)==null?void 0:gt[ot])||0)-(St?xt.crossAxis:0);dt<At?dt=At:dt>$t&&(dt=$t)}return{[at]:ft,[ot]:dt}}}},size=function(b){return b===void 0&&(b={}),{name:"size",options:b,async fn(j){const{placement:$,rects:_e,platform:et,elements:tt}=j,{apply:nt=()=>{},...rt}=evaluate(b,j),st=await detectOverflow(j,rt),it=getSide($),ct=getAlignment($),ot=getSideAxis($)==="y",{width:at,height:ft}=_e.floating;let dt,mt;it==="top"||it==="bottom"?(dt=it,mt=ct===(await(et.isRTL==null?void 0:et.isRTL(tt.floating))?"start":"end")?"left":"right"):(mt=it,dt=ct==="end"?"top":"bottom");const xt=ft-st[dt],ht=at-st[mt],gt=!j.middlewareData.shift;let Et=xt,St=ht;if(ot){const $t=at-st.left-st.right;St=ct||gt?min(ht,$t):$t}else{const $t=ft-st.top-st.bottom;Et=ct||gt?min(xt,$t):$t}if(gt&&!ct){const $t=max(st.left,0),wt=max(st.right,0),Pt=max(st.top,0),bt=max(st.bottom,0);ot?St=at-2*($t!==0||wt!==0?$t+wt:max(st.left,st.right)):Et=ft-2*(Pt!==0||bt!==0?Pt+bt:max(st.top,st.bottom))}await nt({...j,availableWidth:St,availableHeight:Et});const At=await et.getDimensions(tt.floating);return at!==At.width||ft!==At.height?{reset:{rects:!0}}:{}}}};function getNodeName(b){return isNode(b)?(b.nodeName||"").toLowerCase():"#document"}function getWindow(b){var j;return(b==null||(j=b.ownerDocument)==null?void 0:j.defaultView)||window}function getDocumentElement(b){var j;return(j=(isNode(b)?b.ownerDocument:b.document)||window.document)==null?void 0:j.documentElement}function isNode(b){return b instanceof Node||b instanceof getWindow(b).Node}function isElement(b){return b instanceof Element||b instanceof getWindow(b).Element}function isHTMLElement$1(b){return b instanceof HTMLElement||b instanceof getWindow(b).HTMLElement}function isShadowRoot(b){return typeof ShadowRoot>"u"?!1:b instanceof ShadowRoot||b instanceof getWindow(b).ShadowRoot}function isOverflowElement(b){const{overflow:j,overflowX:$,overflowY:_e,display:et}=getComputedStyle$1(b);return/auto|scroll|overlay|hidden|clip/.test(j+_e+$)&&!["inline","contents"].includes(et)}function isTableElement(b){return["table","td","th"].includes(getNodeName(b))}function isContainingBlock(b){const j=isWebKit(),$=getComputedStyle$1(b);return $.transform!=="none"||$.perspective!=="none"||($.containerType?$.containerType!=="normal":!1)||!j&&($.backdropFilter?$.backdropFilter!=="none":!1)||!j&&($.filter?$.filter!=="none":!1)||["transform","perspective","filter"].some(_e=>($.willChange||"").includes(_e))||["paint","layout","strict","content"].some(_e=>($.contain||"").includes(_e))}function getContainingBlock(b){let j=getParentNode(b);for(;isHTMLElement$1(j)&&!isLastTraversableNode(j);){if(isContainingBlock(j))return j;j=getParentNode(j)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(b){return["html","body","#document"].includes(getNodeName(b))}function getComputedStyle$1(b){return getWindow(b).getComputedStyle(b)}function getNodeScroll(b){return isElement(b)?{scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}:{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function getParentNode(b){if(getNodeName(b)==="html")return b;const j=b.assignedSlot||b.parentNode||isShadowRoot(b)&&b.host||getDocumentElement(b);return isShadowRoot(j)?j.host:j}function getNearestOverflowAncestor(b){const j=getParentNode(b);return isLastTraversableNode(j)?b.ownerDocument?b.ownerDocument.body:b.body:isHTMLElement$1(j)&&isOverflowElement(j)?j:getNearestOverflowAncestor(j)}function getOverflowAncestors(b,j,$){var _e;j===void 0&&(j=[]),$===void 0&&($=!0);const et=getNearestOverflowAncestor(b),tt=et===((_e=b.ownerDocument)==null?void 0:_e.body),nt=getWindow(et);return tt?j.concat(nt,nt.visualViewport||[],isOverflowElement(et)?et:[],nt.frameElement&&$?getOverflowAncestors(nt.frameElement):[]):j.concat(et,getOverflowAncestors(et,[],$))}function getCssDimensions(b){const j=getComputedStyle$1(b);let $=parseFloat(j.width)||0,_e=parseFloat(j.height)||0;const et=isHTMLElement$1(b),tt=et?b.offsetWidth:$,nt=et?b.offsetHeight:_e,rt=round($)!==tt||round(_e)!==nt;return rt&&($=tt,_e=nt),{width:$,height:_e,$:rt}}function unwrapElement(b){return isElement(b)?b:b.contextElement}function getScale(b){const j=unwrapElement(b);if(!isHTMLElement$1(j))return createCoords(1);const $=j.getBoundingClientRect(),{width:_e,height:et,$:tt}=getCssDimensions(j);let nt=(tt?round($.width):$.width)/_e,rt=(tt?round($.height):$.height)/et;return(!nt||!Number.isFinite(nt))&&(nt=1),(!rt||!Number.isFinite(rt))&&(rt=1),{x:nt,y:rt}}const noOffsets=createCoords(0);function getVisualOffsets(b){const j=getWindow(b);return!isWebKit()||!j.visualViewport?noOffsets:{x:j.visualViewport.offsetLeft,y:j.visualViewport.offsetTop}}function shouldAddVisualOffsets(b,j,$){return j===void 0&&(j=!1),!$||j&&$!==getWindow(b)?!1:j}function getBoundingClientRect(b,j,$,_e){j===void 0&&(j=!1),$===void 0&&($=!1);const et=b.getBoundingClientRect(),tt=unwrapElement(b);let nt=createCoords(1);j&&(_e?isElement(_e)&&(nt=getScale(_e)):nt=getScale(b));const rt=shouldAddVisualOffsets(tt,$,_e)?getVisualOffsets(tt):createCoords(0);let st=(et.left+rt.x)/nt.x,it=(et.top+rt.y)/nt.y,ct=et.width/nt.x,ot=et.height/nt.y;if(tt){const at=getWindow(tt),ft=_e&&isElement(_e)?getWindow(_e):_e;let dt=at.frameElement;for(;dt&&_e&&ft!==at;){const mt=getScale(dt),xt=dt.getBoundingClientRect(),ht=getComputedStyle$1(dt),gt=xt.left+(dt.clientLeft+parseFloat(ht.paddingLeft))*mt.x,Et=xt.top+(dt.clientTop+parseFloat(ht.paddingTop))*mt.y;st*=mt.x,it*=mt.y,ct*=mt.x,ot*=mt.y,st+=gt,it+=Et,dt=getWindow(dt).frameElement}}return rectToClientRect({width:ct,height:ot,x:st,y:it})}function convertOffsetParentRelativeRectToViewportRelativeRect(b){let{rect:j,offsetParent:$,strategy:_e}=b;const et=isHTMLElement$1($),tt=getDocumentElement($);if($===tt)return j;let nt={scrollLeft:0,scrollTop:0},rt=createCoords(1);const st=createCoords(0);if((et||!et&&_e!=="fixed")&&((getNodeName($)!=="body"||isOverflowElement(tt))&&(nt=getNodeScroll($)),isHTMLElement$1($))){const it=getBoundingClientRect($);rt=getScale($),st.x=it.x+$.clientLeft,st.y=it.y+$.clientTop}return{width:j.width*rt.x,height:j.height*rt.y,x:j.x*rt.x-nt.scrollLeft*rt.x+st.x,y:j.y*rt.y-nt.scrollTop*rt.y+st.y}}function getClientRects(b){return Array.from(b.getClientRects())}function getWindowScrollBarX(b){return getBoundingClientRect(getDocumentElement(b)).left+getNodeScroll(b).scrollLeft}function getDocumentRect(b){const j=getDocumentElement(b),$=getNodeScroll(b),_e=b.ownerDocument.body,et=max(j.scrollWidth,j.clientWidth,_e.scrollWidth,_e.clientWidth),tt=max(j.scrollHeight,j.clientHeight,_e.scrollHeight,_e.clientHeight);let nt=-$.scrollLeft+getWindowScrollBarX(b);const rt=-$.scrollTop;return getComputedStyle$1(_e).direction==="rtl"&&(nt+=max(j.clientWidth,_e.clientWidth)-et),{width:et,height:tt,x:nt,y:rt}}function getViewportRect(b,j){const $=getWindow(b),_e=getDocumentElement(b),et=$.visualViewport;let tt=_e.clientWidth,nt=_e.clientHeight,rt=0,st=0;if(et){tt=et.width,nt=et.height;const it=isWebKit();(!it||it&&j==="fixed")&&(rt=et.offsetLeft,st=et.offsetTop)}return{width:tt,height:nt,x:rt,y:st}}function getInnerBoundingClientRect(b,j){const $=getBoundingClientRect(b,!0,j==="fixed"),_e=$.top+b.clientTop,et=$.left+b.clientLeft,tt=isHTMLElement$1(b)?getScale(b):createCoords(1),nt=b.clientWidth*tt.x,rt=b.clientHeight*tt.y,st=et*tt.x,it=_e*tt.y;return{width:nt,height:rt,x:st,y:it}}function getClientRectFromClippingAncestor(b,j,$){let _e;if(j==="viewport")_e=getViewportRect(b,$);else if(j==="document")_e=getDocumentRect(getDocumentElement(b));else if(isElement(j))_e=getInnerBoundingClientRect(j,$);else{const et=getVisualOffsets(b);_e={...j,x:j.x-et.x,y:j.y-et.y}}return rectToClientRect(_e)}function hasFixedPositionAncestor(b,j){const $=getParentNode(b);return $===j||!isElement($)||isLastTraversableNode($)?!1:getComputedStyle$1($).position==="fixed"||hasFixedPositionAncestor($,j)}function getClippingElementAncestors(b,j){const $=j.get(b);if($)return $;let _e=getOverflowAncestors(b,[],!1).filter(rt=>isElement(rt)&&getNodeName(rt)!=="body"),et=null;const tt=getComputedStyle$1(b).position==="fixed";let nt=tt?getParentNode(b):b;for(;isElement(nt)&&!isLastTraversableNode(nt);){const rt=getComputedStyle$1(nt),st=isContainingBlock(nt);!st&&rt.position==="fixed"&&(et=null),(tt?!st&&!et:!st&&rt.position==="static"&&!!et&&["absolute","fixed"].includes(et.position)||isOverflowElement(nt)&&!st&&hasFixedPositionAncestor(b,nt))?_e=_e.filter(ct=>ct!==nt):et=rt,nt=getParentNode(nt)}return j.set(b,_e),_e}function getClippingRect(b){let{element:j,boundary:$,rootBoundary:_e,strategy:et}=b;const nt=[...$==="clippingAncestors"?getClippingElementAncestors(j,this._c):[].concat($),_e],rt=nt[0],st=nt.reduce((it,ct)=>{const ot=getClientRectFromClippingAncestor(j,ct,et);return it.top=max(ot.top,it.top),it.right=min(ot.right,it.right),it.bottom=min(ot.bottom,it.bottom),it.left=max(ot.left,it.left),it},getClientRectFromClippingAncestor(j,rt,et));return{width:st.right-st.left,height:st.bottom-st.top,x:st.left,y:st.top}}function getDimensions(b){return getCssDimensions(b)}function getRectRelativeToOffsetParent(b,j,$){const _e=isHTMLElement$1(j),et=getDocumentElement(j),tt=$==="fixed",nt=getBoundingClientRect(b,!0,tt,j);let rt={scrollLeft:0,scrollTop:0};const st=createCoords(0);if(_e||!_e&&!tt)if((getNodeName(j)!=="body"||isOverflowElement(et))&&(rt=getNodeScroll(j)),_e){const it=getBoundingClientRect(j,!0,tt,j);st.x=it.x+j.clientLeft,st.y=it.y+j.clientTop}else et&&(st.x=getWindowScrollBarX(et));return{x:nt.left+rt.scrollLeft-st.x,y:nt.top+rt.scrollTop-st.y,width:nt.width,height:nt.height}}function getTrueOffsetParent(b,j){return!isHTMLElement$1(b)||getComputedStyle$1(b).position==="fixed"?null:j?j(b):b.offsetParent}function getOffsetParent(b,j){const $=getWindow(b);if(!isHTMLElement$1(b))return $;let _e=getTrueOffsetParent(b,j);for(;_e&&isTableElement(_e)&&getComputedStyle$1(_e).position==="static";)_e=getTrueOffsetParent(_e,j);return _e&&(getNodeName(_e)==="html"||getNodeName(_e)==="body"&&getComputedStyle$1(_e).position==="static"&&!isContainingBlock(_e))?$:_e||getContainingBlock(b)||$}const getElementRects=async function(b){let{reference:j,floating:$,strategy:_e}=b;const et=this.getOffsetParent||getOffsetParent,tt=this.getDimensions;return{reference:getRectRelativeToOffsetParent(j,await et($),_e),floating:{x:0,y:0,...await tt($)}}};function isRTL(b){return getComputedStyle$1(b).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(b,j){let $=null,_e;const et=getDocumentElement(b);function tt(){clearTimeout(_e),$&&$.disconnect(),$=null}function nt(rt,st){rt===void 0&&(rt=!1),st===void 0&&(st=1),tt();const{left:it,top:ct,width:ot,height:at}=b.getBoundingClientRect();if(rt||j(),!ot||!at)return;const ft=floor(ct),dt=floor(et.clientWidth-(it+ot)),mt=floor(et.clientHeight-(ct+at)),xt=floor(it),gt={rootMargin:-ft+"px "+-dt+"px "+-mt+"px "+-xt+"px",threshold:max(0,min(1,st))||1};let Et=!0;function St(At){const $t=At[0].intersectionRatio;if($t!==st){if(!Et)return nt();$t?nt(!1,$t):_e=setTimeout(()=>{nt(!1,1e-7)},100)}Et=!1}try{$=new IntersectionObserver(St,{...gt,root:et.ownerDocument})}catch{$=new IntersectionObserver(St,gt)}$.observe(b)}return nt(!0),tt}function autoUpdate(b,j,$,_e){_e===void 0&&(_e={});const{ancestorScroll:et=!0,ancestorResize:tt=!0,elementResize:nt=typeof ResizeObserver=="function",layoutShift:rt=typeof IntersectionObserver=="function",animationFrame:st=!1}=_e,it=unwrapElement(b),ct=et||tt?[...it?getOverflowAncestors(it):[],...getOverflowAncestors(j)]:[];ct.forEach(ht=>{et&&ht.addEventListener("scroll",$,{passive:!0}),tt&&ht.addEventListener("resize",$)});const ot=it&&rt?observeMove(it,$):null;let at=-1,ft=null;nt&&(ft=new ResizeObserver(ht=>{let[gt]=ht;gt&&gt.target===it&&ft&&(ft.unobserve(j),cancelAnimationFrame(at),at=requestAnimationFrame(()=>{ft&&ft.observe(j)})),$()}),it&&!st&&ft.observe(it),ft.observe(j));let dt,mt=st?getBoundingClientRect(b):null;st&&xt();function xt(){const ht=getBoundingClientRect(b);mt&&(ht.x!==mt.x||ht.y!==mt.y||ht.width!==mt.width||ht.height!==mt.height)&&$(),mt=ht,dt=requestAnimationFrame(xt)}return $(),()=>{ct.forEach(ht=>{et&&ht.removeEventListener("scroll",$),tt&&ht.removeEventListener("resize",$)}),ot&&ot(),ft&&ft.disconnect(),ft=null,st&&cancelAnimationFrame(dt)}}const computePosition=(b,j,$)=>{const _e=new Map,et={platform,...$},tt={...et.platform,_c:_e};return computePosition$1(b,j,{...et,platform:tt})},arrow=b=>{function j($){return{}.hasOwnProperty.call($,"current")}return{name:"arrow",options:b,fn($){const{element:_e,padding:et}=typeof b=="function"?b($):b;return _e&&j(_e)?_e.current!=null?arrow$1({element:_e.current,padding:et}).fn($):{}:_e?arrow$1({element:_e,padding:et}).fn($):{}}}};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(b,j){if(b===j)return!0;if(typeof b!=typeof j)return!1;if(typeof b=="function"&&b.toString()===j.toString())return!0;let $,_e,et;if(b&&j&&typeof b=="object"){if(Array.isArray(b)){if($=b.length,$!=j.length)return!1;for(_e=$;_e--!==0;)if(!deepEqual(b[_e],j[_e]))return!1;return!0}if(et=Object.keys(b),$=et.length,$!==Object.keys(j).length)return!1;for(_e=$;_e--!==0;)if(!{}.hasOwnProperty.call(j,et[_e]))return!1;for(_e=$;_e--!==0;){const tt=et[_e];if(!(tt==="_owner"&&b.$$typeof)&&!deepEqual(b[tt],j[tt]))return!1}return!0}return b!==b&&j!==j}function getDPR(b){return typeof window>"u"?1:(b.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(b,j){const $=getDPR(b);return Math.round(j*$)/$}function useLatestRef(b){const j=reactExports.useRef(b);return index(()=>{j.current=b}),j}function useFloating(b){b===void 0&&(b={});const{placement:j="bottom",strategy:$="absolute",middleware:_e=[],platform:et,elements:{reference:tt,floating:nt}={},transform:rt=!0,whileElementsMounted:st,open:it}=b,[ct,ot]=reactExports.useState({x:0,y:0,strategy:$,placement:j,middlewareData:{},isPositioned:!1}),[at,ft]=reactExports.useState(_e);deepEqual(at,_e)||ft(_e);const[dt,mt]=reactExports.useState(null),[xt,ht]=reactExports.useState(null),gt=reactExports.useCallback(en=>{en!=$t.current&&($t.current=en,mt(en))},[mt]),Et=reactExports.useCallback(en=>{en!==wt.current&&(wt.current=en,ht(en))},[ht]),St=tt||dt,At=nt||xt,$t=reactExports.useRef(null),wt=reactExports.useRef(null),Pt=reactExports.useRef(ct),bt=useLatestRef(st),Bt=useLatestRef(et),Yt=reactExports.useCallback(()=>{if(!$t.current||!wt.current)return;const en={placement:j,strategy:$,middleware:at};Bt.current&&(en.platform=Bt.current),computePosition($t.current,wt.current,en).then(cn=>{const qt={...cn,isPositioned:!0};rn.current&&!deepEqual(Pt.current,qt)&&(Pt.current=qt,reactDomExports.flushSync(()=>{ot(qt)}))})},[at,j,$,Bt]);index(()=>{it===!1&&Pt.current.isPositioned&&(Pt.current.isPositioned=!1,ot(en=>({...en,isPositioned:!1})))},[it]);const rn=reactExports.useRef(!1);index(()=>(rn.current=!0,()=>{rn.current=!1}),[]),index(()=>{if(St&&($t.current=St),At&&(wt.current=At),St&&At){if(bt.current)return bt.current(St,At,Yt);Yt()}},[St,At,Yt,bt]);const hn=reactExports.useMemo(()=>({reference:$t,floating:wt,setReference:gt,setFloating:Et}),[gt,Et]),Vt=reactExports.useMemo(()=>({reference:St,floating:At}),[St,At]),Xt=reactExports.useMemo(()=>{const en={position:$,left:0,top:0};if(!Vt.floating)return en;const cn=roundByDPR(Vt.floating,ct.x),qt=roundByDPR(Vt.floating,ct.y);return rt?{...en,transform:"translate("+cn+"px, "+qt+"px)",...getDPR(Vt.floating)>=1.5&&{willChange:"transform"}}:{position:$,left:cn,top:qt}},[$,rt,Vt.floating,ct.x,ct.y]);return reactExports.useMemo(()=>({...ct,update:Yt,refs:hn,elements:Vt,floatingStyles:Xt}),[ct,Yt,hn,Vt,Xt])}var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((b,j)=>{const{children:$,width:_e=10,height:et=5,...tt}=b;return jsxRuntimeExports.jsx(Primitive.svg,{...tt,ref:j,width:_e,height:et,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:b.asChild?$:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$4=Arrow$1;function useSize(b){const[j,$]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(b){$({width:b.offsetWidth,height:b.offsetHeight});const _e=new ResizeObserver(et=>{if(!Array.isArray(et)||!et.length)return;const tt=et[0];let nt,rt;if("borderBoxSize"in tt){const st=tt.borderBoxSize,it=Array.isArray(st)?st[0]:st;nt=it.inlineSize,rt=it.blockSize}else nt=b.offsetWidth,rt=b.offsetHeight;$({width:nt,height:rt})});return _e.observe(b,{box:"border-box"}),()=>_e.unobserve(b)}else $(void 0)},[b]),j}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=b=>{const{__scopePopper:j,children:$}=b,[_e,et]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:j,anchor:_e,onAnchorChange:et,children:$})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((b,j)=>{const{__scopePopper:$,virtualRef:_e,...et}=b,tt=usePopperContext(ANCHOR_NAME$1,$),nt=reactExports.useRef(null),rt=useComposedRefs(j,nt);return reactExports.useEffect(()=>{tt.onAnchorChange((_e==null?void 0:_e.current)||nt.current)}),_e?null:jsxRuntimeExports.jsx(Primitive.div,{...et,ref:rt})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$5="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$5),PopperContent=reactExports.forwardRef((b,j)=>{var Jt,gn,Zt,bn,An,xn;const{__scopePopper:$,side:_e="bottom",sideOffset:et=0,align:tt="center",alignOffset:nt=0,arrowPadding:rt=0,avoidCollisions:st=!0,collisionBoundary:it=[],collisionPadding:ct=0,sticky:ot="partial",hideWhenDetached:at=!1,updatePositionStrategy:ft="optimized",onPlaced:dt,...mt}=b,xt=usePopperContext(CONTENT_NAME$5,$),[ht,gt]=reactExports.useState(null),Et=useComposedRefs(j,Bn=>gt(Bn)),[St,At]=reactExports.useState(null),$t=useSize(St),wt=($t==null?void 0:$t.width)??0,Pt=($t==null?void 0:$t.height)??0,bt=_e+(tt!=="center"?"-"+tt:""),Bt=typeof ct=="number"?ct:{top:0,right:0,bottom:0,left:0,...ct},Yt=Array.isArray(it)?it:[it],rn=Yt.length>0,hn={padding:Bt,boundary:Yt.filter(isNotNull),altBoundary:rn},{refs:Vt,floatingStyles:Xt,placement:en,isPositioned:cn,middlewareData:qt}=useFloating({strategy:"fixed",placement:bt,whileElementsMounted:(...Bn)=>autoUpdate(...Bn,{animationFrame:ft==="always"}),elements:{reference:xt.anchor},middleware:[offset({mainAxis:et+Pt,alignmentAxis:nt}),st&&shift({mainAxis:!0,crossAxis:!1,limiter:ot==="partial"?limitShift():void 0,...hn}),st&&flip({...hn}),size({...hn,apply:({elements:Bn,rects:Yn,availableWidth:Vn,availableHeight:sr})=>{const{width:Xn,height:lr}=Yn.reference,rr=Bn.floating.style;rr.setProperty("--radix-popper-available-width",`${Vn}px`),rr.setProperty("--radix-popper-available-height",`${sr}px`),rr.setProperty("--radix-popper-anchor-width",`${Xn}px`),rr.setProperty("--radix-popper-anchor-height",`${lr}px`)}}),St&&arrow({element:St,padding:rt}),transformOrigin({arrowWidth:wt,arrowHeight:Pt}),at&&hide({strategy:"referenceHidden",...hn})]}),[Wt,sn]=getSideAndAlignFromPlacement(en),Qt=useCallbackRef$1(dt);useLayoutEffect2(()=>{cn&&(Qt==null||Qt())},[cn,Qt]);const tn=(Jt=qt.arrow)==null?void 0:Jt.x,vn=(gn=qt.arrow)==null?void 0:gn.y,un=((Zt=qt.arrow)==null?void 0:Zt.centerOffset)!==0,[mn,_n]=reactExports.useState();return useLayoutEffect2(()=>{ht&&_n(window.getComputedStyle(ht).zIndex)},[ht]),jsxRuntimeExports.jsx("div",{ref:Vt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Xt,transform:cn?Xt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:mn,"--radix-popper-transform-origin":[(bn=qt.transformOrigin)==null?void 0:bn.x,(An=qt.transformOrigin)==null?void 0:An.y].join(" "),...((xn=qt.hide)==null?void 0:xn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:b.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:$,placedSide:Wt,onArrowChange:At,arrowX:tn,arrowY:vn,shouldHideArrow:un,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Wt,"data-align":sn,...mt,ref:Et,style:{...mt.style,animation:cn?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$5;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function b(j,$){const{__scopePopper:_e,...et}=j,tt=useContentContext(ARROW_NAME$4,_e),nt=OPPOSITE_SIDE[tt.placedSide];return jsxRuntimeExports.jsx("span",{ref:tt.onArrowChange,style:{position:"absolute",left:tt.arrowX,top:tt.arrowY,[nt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[tt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[tt.placedSide],visibility:tt.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$4,{...et,ref:$,style:{...et.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$4;function isNotNull(b){return b!==null}var transformOrigin=b=>({name:"transformOrigin",options:b,fn(j){var xt,ht,gt;const{placement:$,rects:_e,middlewareData:et}=j,nt=((xt=et.arrow)==null?void 0:xt.centerOffset)!==0,rt=nt?0:b.arrowWidth,st=nt?0:b.arrowHeight,[it,ct]=getSideAndAlignFromPlacement($),ot={start:"0%",center:"50%",end:"100%"}[ct],at=(((ht=et.arrow)==null?void 0:ht.x)??0)+rt/2,ft=(((gt=et.arrow)==null?void 0:gt.y)??0)+st/2;let dt="",mt="";return it==="bottom"?(dt=nt?ot:`${at}px`,mt=`${-st}px`):it==="top"?(dt=nt?ot:`${at}px`,mt=`${_e.floating.height+st}px`):it==="right"?(dt=`${-st}px`,mt=nt?ot:`${ft}px`):it==="left"&&(dt=`${_e.floating.width+st}px`,mt=nt?ot:`${ft}px`),{data:{x:dt,y:mt}}}});function getSideAndAlignFromPlacement(b){const[j,$="center"]=b.split("-");return[j,$]}var Root2$4=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$3="RovingFocusGroup",[Collection$4,useCollection$4,createCollectionScope$4]=createCollection(GROUP_NAME$3),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$3,[createCollectionScope$4]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$3),RovingFocusGroup=reactExports.forwardRef((b,j)=>jsxRuntimeExports.jsx(Collection$4.Provider,{scope:b.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$4.Slot,{scope:b.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...b,ref:j})})}));RovingFocusGroup.displayName=GROUP_NAME$3;var RovingFocusGroupImpl=reactExports.forwardRef((b,j)=>{const{__scopeRovingFocusGroup:$,orientation:_e,loop:et=!1,dir:tt,currentTabStopId:nt,defaultCurrentTabStopId:rt,onCurrentTabStopIdChange:st,onEntryFocus:it,preventScrollOnEntryFocus:ct=!1,...ot}=b,at=reactExports.useRef(null),ft=useComposedRefs(j,at),dt=useDirection(tt),[mt=null,xt]=useControllableState({prop:nt,defaultProp:rt,onChange:st}),[ht,gt]=reactExports.useState(!1),Et=useCallbackRef$1(it),St=useCollection$4($),At=reactExports.useRef(!1),[$t,wt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Pt=at.current;if(Pt)return Pt.addEventListener(ENTRY_FOCUS,Et),()=>Pt.removeEventListener(ENTRY_FOCUS,Et)},[Et]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:$,orientation:_e,dir:dt,loop:et,currentTabStopId:mt,onItemFocus:reactExports.useCallback(Pt=>xt(Pt),[xt]),onItemShiftTab:reactExports.useCallback(()=>gt(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>wt(Pt=>Pt+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>wt(Pt=>Pt-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:ht||$t===0?-1:0,"data-orientation":_e,...ot,ref:ft,style:{outline:"none",...b.style},onMouseDown:composeEventHandlers(b.onMouseDown,()=>{At.current=!0}),onFocus:composeEventHandlers(b.onFocus,Pt=>{const bt=!At.current;if(Pt.target===Pt.currentTarget&&bt&&!ht){const Bt=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(Pt.currentTarget.dispatchEvent(Bt),!Bt.defaultPrevented){const Yt=St().filter(en=>en.focusable),rn=Yt.find(en=>en.active),hn=Yt.find(en=>en.id===mt),Xt=[rn,hn,...Yt].filter(Boolean).map(en=>en.ref.current);focusFirst$2(Xt,ct)}}At.current=!1}),onBlur:composeEventHandlers(b.onBlur,()=>gt(!1))})})}),ITEM_NAME$3="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((b,j)=>{const{__scopeRovingFocusGroup:$,focusable:_e=!0,active:et=!1,tabStopId:tt,...nt}=b,rt=useId(),st=tt||rt,it=useRovingFocusContext(ITEM_NAME$3,$),ct=it.currentTabStopId===st,ot=useCollection$4($),{onFocusableItemAdd:at,onFocusableItemRemove:ft}=it;return reactExports.useEffect(()=>{if(_e)return at(),()=>ft()},[_e,at,ft]),jsxRuntimeExports.jsx(Collection$4.ItemSlot,{scope:$,id:st,focusable:_e,active:et,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:ct?0:-1,"data-orientation":it.orientation,...nt,ref:j,onMouseDown:composeEventHandlers(b.onMouseDown,dt=>{_e?it.onItemFocus(st):dt.preventDefault()}),onFocus:composeEventHandlers(b.onFocus,()=>it.onItemFocus(st)),onKeyDown:composeEventHandlers(b.onKeyDown,dt=>{if(dt.key==="Tab"&&dt.shiftKey){it.onItemShiftTab();return}if(dt.target!==dt.currentTarget)return;const mt=getFocusIntent(dt,it.orientation,it.dir);if(mt!==void 0){if(dt.metaKey||dt.ctrlKey||dt.altKey||dt.shiftKey)return;dt.preventDefault();let ht=ot().filter(gt=>gt.focusable).map(gt=>gt.ref.current);if(mt==="last")ht.reverse();else if(mt==="prev"||mt==="next"){mt==="prev"&&ht.reverse();const gt=ht.indexOf(dt.currentTarget);ht=it.loop?wrapArray$2(ht,gt+1):ht.slice(gt+1)}setTimeout(()=>focusFirst$2(ht))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME$3;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(b,j){return j!=="rtl"?b:b==="ArrowLeft"?"ArrowRight":b==="ArrowRight"?"ArrowLeft":b}function getFocusIntent(b,j,$){const _e=getDirectionAwareKey(b.key,$);if(!(j==="vertical"&&["ArrowLeft","ArrowRight"].includes(_e))&&!(j==="horizontal"&&["ArrowUp","ArrowDown"].includes(_e)))return MAP_KEY_TO_FOCUS_INTENT[_e]}function focusFirst$2(b,j=!1){const $=document.activeElement;for(const _e of b)if(_e===$||(_e.focus({preventScroll:j}),document.activeElement!==$))return}function wrapArray$2(b,j){return b.map(($,_e)=>b[(j+_e)%b.length])}var Root$3=RovingFocusGroup,Item$1=RovingFocusGroupItem,SELECTION_KEYS$1=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS$1,"ArrowRight"],rtl:[...SELECTION_KEYS$1,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope$3,createPopperScope,createRovingFocusGroupScope]),usePopperScope$2=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=b=>{const{__scopeMenu:j,open:$=!1,children:_e,dir:et,onOpenChange:tt,modal:nt=!0}=b,rt=usePopperScope$2(j),[st,it]=reactExports.useState(null),ct=reactExports.useRef(!1),ot=useCallbackRef$1(tt),at=useDirection(et);return reactExports.useEffect(()=>{const ft=()=>{ct.current=!0,document.addEventListener("pointerdown",dt,{capture:!0,once:!0}),document.addEventListener("pointermove",dt,{capture:!0,once:!0})},dt=()=>ct.current=!1;return document.addEventListener("keydown",ft,{capture:!0}),()=>{document.removeEventListener("keydown",ft,{capture:!0}),document.removeEventListener("pointerdown",dt,{capture:!0}),document.removeEventListener("pointermove",dt,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$4,{...rt,children:jsxRuntimeExports.jsx(MenuProvider,{scope:j,open:$,onOpenChange:ot,content:st,onContentChange:it,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:j,onClose:reactExports.useCallback(()=>ot(!1),[ot]),isUsingKeyboardRef:ct,dir:at,modal:nt,children:_e})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,..._e}=b,et=usePopperScope$2($);return jsxRuntimeExports.jsx(Anchor,{...et,..._e,ref:j})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$4="MenuPortal",[PortalProvider$1,usePortalContext$1]=createMenuContext(PORTAL_NAME$4,{forceMount:void 0}),MenuPortal=b=>{const{__scopeMenu:j,forceMount:$,children:_e,container:et}=b,tt=useMenuContext(PORTAL_NAME$4,j);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:j,forceMount:$,children:jsxRuntimeExports.jsx(Presence,{present:$||tt.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:et,children:_e})})})};MenuPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$4="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$4),MenuContent=reactExports.forwardRef((b,j)=>{const $=usePortalContext$1(CONTENT_NAME$4,b.__scopeMenu),{forceMount:_e=$.forceMount,...et}=b,tt=useMenuContext(CONTENT_NAME$4,b.__scopeMenu),nt=useMenuRootContext(CONTENT_NAME$4,b.__scopeMenu);return jsxRuntimeExports.jsx(Collection$3.Provider,{scope:b.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:_e||tt.open,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:b.__scopeMenu,children:nt.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...et,ref:j}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...et,ref:j})})})})}),MenuRootContentModal=reactExports.forwardRef((b,j)=>{const $=useMenuContext(CONTENT_NAME$4,b.__scopeMenu),_e=reactExports.useRef(null),et=useComposedRefs(j,_e);return reactExports.useEffect(()=>{const tt=_e.current;if(tt)return hideOthers(tt)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...b,ref:et,trapFocus:$.open,disableOutsidePointerEvents:$.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(b.onFocusOutside,tt=>tt.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>$.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((b,j)=>{const $=useMenuContext(CONTENT_NAME$4,b.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...b,ref:j,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>$.onOpenChange(!1)})}),MenuContentImpl=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,loop:_e=!1,trapFocus:et,onOpenAutoFocus:tt,onCloseAutoFocus:nt,disableOutsidePointerEvents:rt,onEntryFocus:st,onEscapeKeyDown:it,onPointerDownOutside:ct,onFocusOutside:ot,onInteractOutside:at,onDismiss:ft,disableOutsideScroll:dt,...mt}=b,xt=useMenuContext(CONTENT_NAME$4,$),ht=useMenuRootContext(CONTENT_NAME$4,$),gt=usePopperScope$2($),Et=useRovingFocusGroupScope($),St=useCollection$3($),[At,$t]=reactExports.useState(null),wt=reactExports.useRef(null),Pt=useComposedRefs(j,wt,xt.onContentChange),bt=reactExports.useRef(0),Bt=reactExports.useRef(""),Yt=reactExports.useRef(0),rn=reactExports.useRef(null),hn=reactExports.useRef("right"),Vt=reactExports.useRef(0),Xt=dt?ReactRemoveScroll:reactExports.Fragment,en=dt?{as:Slot,allowPinchZoom:!0}:void 0,cn=Wt=>{var Jt,gn;const sn=Bt.current+Wt,Qt=St().filter(Zt=>!Zt.disabled),tn=document.activeElement,vn=(Jt=Qt.find(Zt=>Zt.ref.current===tn))==null?void 0:Jt.textValue,un=Qt.map(Zt=>Zt.textValue),mn=getNextMatch(un,sn,vn),_n=(gn=Qt.find(Zt=>Zt.textValue===mn))==null?void 0:gn.ref.current;(function Zt(bn){Bt.current=bn,window.clearTimeout(bt.current),bn!==""&&(bt.current=window.setTimeout(()=>Zt(""),1e3))})(sn),_n&&setTimeout(()=>_n.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(bt.current),[]),useFocusGuards();const qt=reactExports.useCallback(Wt=>{var Qt,tn;return hn.current===((Qt=rn.current)==null?void 0:Qt.side)&&isPointerInGraceArea(Wt,(tn=rn.current)==null?void 0:tn.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:$,searchRef:Bt,onItemEnter:reactExports.useCallback(Wt=>{qt(Wt)&&Wt.preventDefault()},[qt]),onItemLeave:reactExports.useCallback(Wt=>{var sn;qt(Wt)||((sn=wt.current)==null||sn.focus(),$t(null))},[qt]),onTriggerLeave:reactExports.useCallback(Wt=>{qt(Wt)&&Wt.preventDefault()},[qt]),pointerGraceTimerRef:Yt,onPointerGraceIntentChange:reactExports.useCallback(Wt=>{rn.current=Wt},[]),children:jsxRuntimeExports.jsx(Xt,{...en,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:et,onMountAutoFocus:composeEventHandlers(tt,Wt=>{var sn;Wt.preventDefault(),(sn=wt.current)==null||sn.focus({preventScroll:!0})}),onUnmountAutoFocus:nt,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:rt,onEscapeKeyDown:it,onPointerDownOutside:ct,onFocusOutside:ot,onInteractOutside:at,onDismiss:ft,children:jsxRuntimeExports.jsx(Root$3,{asChild:!0,...Et,dir:ht.dir,orientation:"vertical",loop:_e,currentTabStopId:At,onCurrentTabStopIdChange:$t,onEntryFocus:composeEventHandlers(st,Wt=>{ht.isUsingKeyboardRef.current||Wt.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(xt.open),"data-radix-menu-content":"",dir:ht.dir,...gt,...mt,ref:Pt,style:{outline:"none",...mt.style},onKeyDown:composeEventHandlers(mt.onKeyDown,Wt=>{const Qt=Wt.target.closest("[data-radix-menu-content]")===Wt.currentTarget,tn=Wt.ctrlKey||Wt.altKey||Wt.metaKey,vn=Wt.key.length===1;Qt&&(Wt.key==="Tab"&&Wt.preventDefault(),!tn&&vn&&cn(Wt.key));const un=wt.current;if(Wt.target!==un||!FIRST_LAST_KEYS.includes(Wt.key))return;Wt.preventDefault();const _n=St().filter(Jt=>!Jt.disabled).map(Jt=>Jt.ref.current);LAST_KEYS.includes(Wt.key)&&_n.reverse(),focusFirst$1(_n)}),onBlur:composeEventHandlers(b.onBlur,Wt=>{Wt.currentTarget.contains(Wt.target)||(window.clearTimeout(bt.current),Bt.current="")}),onPointerMove:composeEventHandlers(b.onPointerMove,whenMouse(Wt=>{const sn=Wt.target,Qt=Vt.current!==Wt.clientX;if(Wt.currentTarget.contains(sn)&&Qt){const tn=Wt.clientX>Vt.current?"right":"left";hn.current=tn,Vt.current=Wt.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$4;var GROUP_NAME$2="MenuGroup",MenuGroup=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,..._e}=b;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",..._e,ref:j})});MenuGroup.displayName=GROUP_NAME$2;var LABEL_NAME$2="MenuLabel",MenuLabel=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,..._e}=b;return jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:j})});MenuLabel.displayName=LABEL_NAME$2;var ITEM_NAME$2="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((b,j)=>{const{disabled:$=!1,onSelect:_e,...et}=b,tt=reactExports.useRef(null),nt=useMenuRootContext(ITEM_NAME$2,b.__scopeMenu),rt=useMenuContentContext(ITEM_NAME$2,b.__scopeMenu),st=useComposedRefs(j,tt),it=reactExports.useRef(!1),ct=()=>{const ot=tt.current;if(!$&&ot){const at=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});ot.addEventListener(ITEM_SELECT,ft=>_e==null?void 0:_e(ft),{once:!0}),dispatchDiscreteCustomEvent(ot,at),at.defaultPrevented?it.current=!1:nt.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...et,ref:st,disabled:$,onClick:composeEventHandlers(b.onClick,ct),onPointerDown:ot=>{var at;(at=b.onPointerDown)==null||at.call(b,ot),it.current=!0},onPointerUp:composeEventHandlers(b.onPointerUp,ot=>{var at;it.current||(at=ot.currentTarget)==null||at.click()}),onKeyDown:composeEventHandlers(b.onKeyDown,ot=>{const at=rt.searchRef.current!=="";$||at&&ot.key===" "||SELECTION_KEYS$1.includes(ot.key)&&(ot.currentTarget.click(),ot.preventDefault())})})});MenuItem.displayName=ITEM_NAME$2;var MenuItemImpl=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,disabled:_e=!1,textValue:et,...tt}=b,nt=useMenuContentContext(ITEM_NAME$2,$),rt=useRovingFocusGroupScope($),st=reactExports.useRef(null),it=useComposedRefs(j,st),[ct,ot]=reactExports.useState(!1),[at,ft]=reactExports.useState("");return reactExports.useEffect(()=>{const dt=st.current;dt&&ft((dt.textContent??"").trim())},[tt.children]),jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:$,disabled:_e,textValue:et??at,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...rt,focusable:!_e,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":ct?"":void 0,"aria-disabled":_e||void 0,"data-disabled":_e?"":void 0,...tt,ref:it,onPointerMove:composeEventHandlers(b.onPointerMove,whenMouse(dt=>{_e?nt.onItemLeave(dt):(nt.onItemEnter(dt),dt.defaultPrevented||dt.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(b.onPointerLeave,whenMouse(dt=>nt.onItemLeave(dt))),onFocus:composeEventHandlers(b.onFocus,()=>ot(!0)),onBlur:composeEventHandlers(b.onBlur,()=>ot(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((b,j)=>{const{checked:$=!1,onCheckedChange:_e,...et}=b;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:b.__scopeMenu,checked:$,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate($)?"mixed":$,...et,ref:j,"data-state":getCheckedState($),onSelect:composeEventHandlers(et.onSelect,()=>_e==null?void 0:_e(isIndeterminate($)?!0:!$),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((b,j)=>{const{value:$,onValueChange:_e,...et}=b,tt=useCallbackRef$1(_e);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:b.__scopeMenu,value:$,onValueChange:tt,children:jsxRuntimeExports.jsx(MenuGroup,{...et,ref:j})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((b,j)=>{const{value:$,..._e}=b,et=useRadioGroupContext(RADIO_ITEM_NAME$1,b.__scopeMenu),tt=$===et.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:b.__scopeMenu,checked:tt,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":tt,..._e,ref:j,"data-state":getCheckedState(tt),onSelect:composeEventHandlers(_e.onSelect,()=>{var nt;return(nt=et.onValueChange)==null?void 0:nt.call(et,$)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME$1="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME$1,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,forceMount:_e,...et}=b,tt=useItemIndicatorContext(ITEM_INDICATOR_NAME$1,$);return jsxRuntimeExports.jsx(Presence,{present:_e||isIndeterminate(tt.checked)||tt.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...et,ref:j,"data-state":getCheckedState(tt.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SEPARATOR_NAME$2="MenuSeparator",MenuSeparator=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,..._e}=b;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",..._e,ref:j})});MenuSeparator.displayName=SEPARATOR_NAME$2;var ARROW_NAME$3="MenuArrow",MenuArrow=reactExports.forwardRef((b,j)=>{const{__scopeMenu:$,..._e}=b,et=usePopperScope$2($);return jsxRuntimeExports.jsx(Arrow,{...et,..._e,ref:j})});MenuArrow.displayName=ARROW_NAME$3;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((b,j)=>{const $=useMenuContext(SUB_TRIGGER_NAME$1,b.__scopeMenu),_e=useMenuRootContext(SUB_TRIGGER_NAME$1,b.__scopeMenu),et=useMenuSubContext(SUB_TRIGGER_NAME$1,b.__scopeMenu),tt=useMenuContentContext(SUB_TRIGGER_NAME$1,b.__scopeMenu),nt=reactExports.useRef(null),{pointerGraceTimerRef:rt,onPointerGraceIntentChange:st}=tt,it={__scopeMenu:b.__scopeMenu},ct=reactExports.useCallback(()=>{nt.current&&window.clearTimeout(nt.current),nt.current=null},[]);return reactExports.useEffect(()=>ct,[ct]),reactExports.useEffect(()=>{const ot=rt.current;return()=>{window.clearTimeout(ot),st(null)}},[rt,st]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...it,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:et.triggerId,"aria-haspopup":"menu","aria-expanded":$.open,"aria-controls":et.contentId,"data-state":getOpenState($.open),...b,ref:composeRefs(j,et.onTriggerChange),onClick:ot=>{var at;(at=b.onClick)==null||at.call(b,ot),!(b.disabled||ot.defaultPrevented)&&(ot.currentTarget.focus(),$.open||$.onOpenChange(!0))},onPointerMove:composeEventHandlers(b.onPointerMove,whenMouse(ot=>{tt.onItemEnter(ot),!ot.defaultPrevented&&!b.disabled&&!$.open&&!nt.current&&(tt.onPointerGraceIntentChange(null),nt.current=window.setTimeout(()=>{$.onOpenChange(!0),ct()},100))})),onPointerLeave:composeEventHandlers(b.onPointerLeave,whenMouse(ot=>{var ft,dt;ct();const at=(ft=$.content)==null?void 0:ft.getBoundingClientRect();if(at){const mt=(dt=$.content)==null?void 0:dt.dataset.side,xt=mt==="right",ht=xt?-5:5,gt=at[xt?"left":"right"],Et=at[xt?"right":"left"];tt.onPointerGraceIntentChange({area:[{x:ot.clientX+ht,y:ot.clientY},{x:gt,y:at.top},{x:Et,y:at.top},{x:Et,y:at.bottom},{x:gt,y:at.bottom}],side:mt}),window.clearTimeout(rt.current),rt.current=window.setTimeout(()=>tt.onPointerGraceIntentChange(null),300)}else{if(tt.onTriggerLeave(ot),ot.defaultPrevented)return;tt.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(b.onKeyDown,ot=>{var ft;const at=tt.searchRef.current!=="";b.disabled||at&&ot.key===" "||SUB_OPEN_KEYS[_e.dir].includes(ot.key)&&($.onOpenChange(!0),(ft=$.content)==null||ft.focus(),ot.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((b,j)=>{const $=usePortalContext$1(CONTENT_NAME$4,b.__scopeMenu),{forceMount:_e=$.forceMount,...et}=b,tt=useMenuContext(CONTENT_NAME$4,b.__scopeMenu),nt=useMenuRootContext(CONTENT_NAME$4,b.__scopeMenu),rt=useMenuSubContext(SUB_CONTENT_NAME$1,b.__scopeMenu),st=reactExports.useRef(null),it=useComposedRefs(j,st);return jsxRuntimeExports.jsx(Collection$3.Provider,{scope:b.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:_e||tt.open,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:b.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:rt.contentId,"aria-labelledby":rt.triggerId,...et,ref:it,align:"start",side:nt.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:ct=>{var ot;nt.isUsingKeyboardRef.current&&((ot=st.current)==null||ot.focus()),ct.preventDefault()},onCloseAutoFocus:ct=>ct.preventDefault(),onFocusOutside:composeEventHandlers(b.onFocusOutside,ct=>{ct.target!==rt.trigger&&tt.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(b.onEscapeKeyDown,ct=>{nt.onClose(),ct.preventDefault()}),onKeyDown:composeEventHandlers(b.onKeyDown,ct=>{var ft;const ot=ct.currentTarget.contains(ct.target),at=SUB_CLOSE_KEYS[nt.dir].includes(ct.key);ot&&at&&(tt.onOpenChange(!1),(ft=rt.trigger)==null||ft.focus(),ct.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(b){return b?"open":"closed"}function isIndeterminate(b){return b==="indeterminate"}function getCheckedState(b){return isIndeterminate(b)?"indeterminate":b?"checked":"unchecked"}function focusFirst$1(b){const j=document.activeElement;for(const $ of b)if($===j||($.focus(),document.activeElement!==j))return}function wrapArray$1(b,j){return b.map(($,_e)=>b[(j+_e)%b.length])}function getNextMatch(b,j,$){const et=j.length>1&&Array.from(j).every(it=>it===j[0])?j[0]:j,tt=$?b.indexOf($):-1;let nt=wrapArray$1(b,Math.max(tt,0));et.length===1&&(nt=nt.filter(it=>it!==$));const st=nt.find(it=>it.toLowerCase().startsWith(et.toLowerCase()));return st!==$?st:void 0}function isPointInPolygon$1(b,j){const{x:$,y:_e}=b;let et=!1;for(let tt=0,nt=j.length-1;tt<j.length;nt=tt++){const rt=j[tt].x,st=j[tt].y,it=j[nt].x,ct=j[nt].y;st>_e!=ct>_e&&$<(it-rt)*(_e-st)/(ct-st)+rt&&(et=!et)}return et}function isPointerInGraceArea(b,j){if(!j)return!1;const $={x:b.clientX,y:b.clientY};return isPointInPolygon$1($,j)}function whenMouse(b){return j=>j.pointerType==="mouse"?b(j):void 0}var Root3$1=Menu,Anchor2=MenuAnchor,Portal$2=MenuPortal,Content2$4=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator$1=MenuItemIndicator,Separator=MenuSeparator,Arrow2$1=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu=b=>{const{__scopeDropdownMenu:j,children:$,dir:_e,open:et,defaultOpen:tt,onOpenChange:nt,modal:rt=!0}=b,st=useMenuScope(j),it=reactExports.useRef(null),[ct=!1,ot]=useControllableState({prop:et,defaultProp:tt,onChange:nt});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:j,triggerId:useId(),triggerRef:it,contentId:useId(),open:ct,onOpenChange:ot,onOpenToggle:reactExports.useCallback(()=>ot(at=>!at),[ot]),modal:rt,children:jsxRuntimeExports.jsx(Root3$1,{...st,open:ct,onOpenChange:ot,dir:_e,modal:rt,children:$})})};DropdownMenu.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$3="DropdownMenuTrigger",DropdownMenuTrigger=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,disabled:_e=!1,...et}=b,tt=useDropdownMenuContext(TRIGGER_NAME$3,$),nt=useMenuScope($);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...nt,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:tt.triggerId,"aria-haspopup":"menu","aria-expanded":tt.open,"aria-controls":tt.open?tt.contentId:void 0,"data-state":tt.open?"open":"closed","data-disabled":_e?"":void 0,disabled:_e,...et,ref:composeRefs(j,tt.triggerRef),onPointerDown:composeEventHandlers(b.onPointerDown,rt=>{!_e&&rt.button===0&&rt.ctrlKey===!1&&(tt.onOpenToggle(),tt.open||rt.preventDefault())}),onKeyDown:composeEventHandlers(b.onKeyDown,rt=>{_e||(["Enter"," "].includes(rt.key)&&tt.onOpenToggle(),rt.key==="ArrowDown"&&tt.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(rt.key)&&rt.preventDefault())})})})});DropdownMenuTrigger.displayName=TRIGGER_NAME$3;var PORTAL_NAME$3="DropdownMenuPortal",DropdownMenuPortal=b=>{const{__scopeDropdownMenu:j,...$}=b,_e=useMenuScope(j);return jsxRuntimeExports.jsx(Portal$2,{..._e,...$})};DropdownMenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$3="DropdownMenuContent",DropdownMenuContent=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useDropdownMenuContext(CONTENT_NAME$3,$),tt=useMenuScope($),nt=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$4,{id:et.contentId,"aria-labelledby":et.triggerId,...tt,..._e,ref:j,onCloseAutoFocus:composeEventHandlers(b.onCloseAutoFocus,rt=>{var st;nt.current||(st=et.triggerRef.current)==null||st.focus(),nt.current=!1,rt.preventDefault()}),onInteractOutside:composeEventHandlers(b.onInteractOutside,rt=>{const st=rt.detail.originalEvent,it=st.button===0&&st.ctrlKey===!0,ct=st.button===2||it;(!et.modal||ct)&&(nt.current=!0)}),style:{...b.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent.displayName=CONTENT_NAME$3;var GROUP_NAME$1="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(Group,{...et,..._e,ref:j})});DropdownMenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="DropdownMenuLabel",DropdownMenuLabel=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(Label,{...et,..._e,ref:j})});DropdownMenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="DropdownMenuItem",DropdownMenuItem=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(Item2$1,{...et,..._e,ref:j})});DropdownMenuItem.displayName=ITEM_NAME$1;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(CheckboxItem,{...et,..._e,ref:j})});DropdownMenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(RadioGroup,{...et,..._e,ref:j})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(RadioItem,{...et,..._e,ref:j})});DropdownMenuRadioItem.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(ItemIndicator$1,{...et,..._e,ref:j})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME$1="DropdownMenuSeparator",DropdownMenuSeparator=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(Separator,{...et,..._e,ref:j})});DropdownMenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$2="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(Arrow2$1,{...et,..._e,ref:j})});DropdownMenuArrow.displayName=ARROW_NAME$2;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(SubTrigger,{...et,..._e,ref:j})});DropdownMenuSubTrigger.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent=reactExports.forwardRef((b,j)=>{const{__scopeDropdownMenu:$,..._e}=b,et=useMenuScope($);return jsxRuntimeExports.jsx(SubContent,{...et,..._e,ref:j,style:{...b.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent.displayName=SUB_CONTENT_NAME;var Root2$3=DropdownMenu,Trigger$2=DropdownMenuTrigger,Portal2$1=DropdownMenuPortal,Content2$3=DropdownMenuContent,Item2=DropdownMenuItem;function useEventListener(b,j,$=window,_e){const et=reactExports.useRef(),{capture:tt,passive:nt,once:rt}=_e||{};reactExports.useEffect(()=>{et.current=j},[j]),reactExports.useEffect(()=>{if(!($&&$.addEventListener))return;const it=ot=>{et.current&&et.current(ot)},ct={capture:tt,passive:nt,once:rt};return $.addEventListener(b,it,ct),()=>{$.removeEventListener(b,it)}},[b,$,tt,nt,rt])}function useClickCoordinates(){const[b,j]=reactExports.useState({x:0,y:0}),$=reactExports.useCallback(({clientX:_e,clientY:et})=>{j({x:_e,y:et})},[j]);return useEventListener("mouseup",$),useEventListener("touchend",$),b}const menuContext=reactExports.createContext({item:{name:"unknown",image:""},index:-1,displayIndex:-1}),QspMenu=({attrs:b,showAs:j,showAt:$,offsetX:_e,offsetY:et,children:tt})=>{const[nt,rt,st]=useAttributes(b,"qsp-menu"),it=useAtom_2(menu$),ct=useClickCoordinates(),ot={position:"fixed"},at=useFadeTransition(it.isOpen);let ft="start",dt="bottom";if(j==="fixed"){const[mt,xt]=($??"left top").split(" ");switch(mt){case"left":ot.left=_e;break;case"center":ot.left=`calc(50% - ${_e}px)`,ft="center";break;case"right":ot.right=_e,ft="end";break}switch(xt){case"top":ot.top=et;break;case"center":ot.top=`calc(50% - ${et}px)`,dt="left";break;case"bottom":ot.bottom=et,dt="top";break}}else ot.left=ct.x??0,ot.top=ct.y??0;return jsxRuntimeExports.jsxs(Root2$3,{open:it.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx(Trigger$2,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:ot})}),at((mt,xt)=>xt?jsxRuntimeExports.jsx(Portal2$1,{container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx(Content2$3,{forceMount:!0,asChild:!0,align:ft,side:dt,loop:!0,children:jsxRuntimeExports.jsx(animated.div,{style:mt,children:jsxRuntimeExports.jsx(nt,{style:rt,...st,children:tt})})})}):null)]})},QspMenuList=({attrs:b,children:j})=>{const $=useAtom_2(menu$),[_e,et,tt]=useAttributes(b,"qsp-menu-list");let nt=1;return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$.items.map((rt,st)=>rt.name==="-"?jsxRuntimeExports.jsx("qsp-menu-separator",{},st):jsxRuntimeExports.jsx(menuContext.Provider,{value:{item:rt,index:st,displayIndex:nt++},children:React$1.Children.map(j,it=>React$1.cloneElement(it))},st))})},QspMenuItem=({attrs:b,children:j})=>{const[$,_e]=reactExports.useState(!1),[et,tt,{useFormat:nt,...rt}]=useAttributes(b,"qsp-menu-item"),{item:st,index:it}=reactExports.useContext(menuContext),ct={...tt,"--menu-item-image":st.image?`url("${st.image}")`:""},ot=()=>{_e(!0)},at=()=>{_e(!1)},ft=dt=>{dt.preventDefault(),menu$.actions.select(it)};return jsxRuntimeExports.jsx(Item2,{asChild:!0,children:jsxRuntimeExports.jsx(et,{...rt,style:ct,"data-qsp-selected":$?"":null,onClick:ft,onMouseOver:ot,onMouseLeave:at,children:j})})},QspMenuItemName=({attrs:b})=>{const{item:j}=reactExports.useContext(menuContext),[$,_e,et]=useAttributes(b,"qsp-menu-name");return jsxRuntimeExports.jsx($,{style:_e,...et,children:jsxRuntimeExports.jsx(ContentRenderer,{content:j.name})})},QspMenuItemImage=({attrs:b})=>{const{item:j}=reactExports.useContext(menuContext),[,$,_e]=useAttributes(b,"img","qsp-menu-image");return j.image?jsxRuntimeExports.jsx("img",{alt:"",..._e,style:$,src:j.image}):null},QspMenuItemIndex=({attrs:b})=>{const{displayIndex:j}=reactExports.useContext(menuContext),[$,_e,et]=useAttributes(b,"qsp-menu-index");return jsxRuntimeExports.jsx($,{style:_e,...et,children:j})},QspMsg=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-msg"),tt=useAtom_2(msg$),nt=useFadeTransition(tt.isOpen);function rt(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:rt,cancelAction:rt},children:jsxRuntimeExports.jsx(Root$6,{open:tt.isOpen,onOpenChange:rt,children:nt((st,it)=>it?jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:st,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx($,{style:_e,...et,children:j})})})]}):null)})})},QspMsgContent=({attrs:b})=>{const j=useAtom_2(msg$),[$,_e,{useFormat:et,...tt}]=useAttributes(b,"qsp-msg-content");return jsxRuntimeExports.jsx(Description$1,{asChild:!0,children:jsxRuntimeExports.jsx($,{style:_e,...tt,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:j.content})})})})},objectContext=reactExports.createContext({object:{name:"unknown",image:""},index:-1}),QspObjects=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-objects");return useAtom_2(isObjsVisible$)?jsxRuntimeExports.jsx($,{style:_e,...et,children:j}):null},QspObjectsList=({attrs:b,children:j})=>{const $=useAtom_2(objects$),[_e,et,tt]=useAttributes(b,"qsp-objects-list");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$.map((nt,rt)=>jsxRuntimeExports.jsx(objectContext.Provider,{value:{object:nt,index:rt},children:React$1.Children.map(j,st=>React$1.cloneElement(st))},rt))})},QspObjectItem=({attrs:b,children:j})=>{const[$,_e]=reactExports.useState(!1),[et,tt,{useFormat:nt,...rt}]=useAttributes(b,"qsp-object"),{object:st,index:it}=reactExports.useContext(objectContext),ct={...tt,"--object-image":st.image?`url("${st.image}")`:""},ot=()=>{_e(!0)},at=()=>{_e(!1)},ft=()=>{selectObject(it)};return jsxRuntimeExports.jsx(et,{...rt,style:ct,"data-qsp-selected":$?"":null,onClick:ft,onMouseOver:ot,onMouseLeave:at,children:j})},QspObjectName=({attrs:b})=>{const[j,$,_e]=useAttributes(b,"qsp-object-name"),{object:et}=reactExports.useContext(objectContext);return jsxRuntimeExports.jsx(j,{..._e,style:$,children:jsxRuntimeExports.jsx(ContentRenderer,{content:et.name})})},QspObjectImage=({attrs:b})=>{const{object:j}=reactExports.useContext(objectContext),[$,_e,et]=useAttributes(b,"img","qsp-object-image");return j.image?jsxRuntimeExports.jsx($,{...et,style:_e,src:j.image}):null},QspObjectIndex=({attrs:b})=>{const{index:j}=reactExports.useContext(objectContext),[$,_e,et]=useAttributes(b,"qsp-object-index");return jsxRuntimeExports.jsx($,{...et,style:_e,children:j+1})},QspPauseScreen=({attrs:b,children:j})=>{const $=useAtom_2(isPauseScreenVisible$),_e=useAtom_2(currentGameEntry$),[et,tt,nt]=useAttributes(b,"qsp-pause-screen"),rt=useFadeTransition($);return jsxRuntimeExports.jsx(Root$6,{modal:!0,open:$,onOpenChange:st=>st?openPauseScreen():closePauseScreen(),children:rt((st,it)=>it?jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{className:"qsp-dialog-container",style:st,children:jsxRuntimeExports.jsxs("div",{className:"qsp-pause-dialog",children:[jsxRuntimeExports.jsx(Title,{children:(_e==null?void 0:_e.title)||"Pause"}),jsxRuntimeExports.jsx(et,{style:tt,...nt,children:j})]})})})]}):null)})},QspPauseScreenContent=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-pause-screen-content"),tt=useAtom_2(requestedAction$);return jsxRuntimeExports.jsx($,{style:_e,...et,"data-requested-save-command":tt,children:j})},slotContentContext=reactExports.createContext({index:-1}),baseSlots$=atom(b=>Array.from({length:b(saveSlotsCount$)},(j,$)=>$+1)),QspSlotsList=({attrs:b,children:j})=>{const $=useAtom_2(baseSlots$),_e=useAtom_2(saveSlots$),[et,tt,nt]=useAttributes(b,"qsp-slots-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:$.map(rt=>{const st=_e.find(it=>it.slot===rt);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:rt,date:st==null?void 0:st.timestamp},children:React$1.Children.map(j,it=>React$1.cloneElement(it))},rt)})})},QspSlot=({attrs:b,children:j})=>{const{index:$,date:_e}=reactExports.useContext(slotContentContext),[et,tt,nt]=useAttributes(b,"qsp-save-slot"),rt={...tt,"--slot-index":`${$}`};return jsxRuntimeExports.jsx(et,{...nt,style:rt,"data-qsp-save":!0,"data-qsp-save-index":$,"data-save-empty":_e?null:"",children:j})},QspSlotIndex=({attrs:b})=>{const{index:j}=reactExports.useContext(slotContentContext),[$,_e,et]=useAttributes(b,"qsp-slot-index");return jsxRuntimeExports.jsx($,{...et,style:_e,children:j})},QspSlotDate=({children:b,attrs:j})=>{const{date:$}=reactExports.useContext(slotContentContext),[_e,et,tt]=useAttributes(j,"qsp-slot-date");return $?jsxRuntimeExports.jsx(_e,{...tt,style:et,children:formatDate(new Date($))}):jsxRuntimeExports.jsx(_e,{...tt,style:et,children:b})},QspPauseScreenPanel=({name:b,attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-pause-screen-panel");return useAtom_2(pauseScreenCurrentPanel$)===b?jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$}):null},QspStats=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-stats"),tt=useAtom_2(isStatsVisible$),nt=useAtom_2(statsContent$),rt=usePrevious$1(nt),st=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{st||(rt&&nt!==rt&&nt.startsWith(rt)?statsScroll$.update(it=>Math.max(it,0)+1):statsScroll$.set(-1))},[rt,nt]),tt?jsxRuntimeExports.jsx(scrollContext.Provider,{value:statsScroll$,children:jsxRuntimeExports.jsx($,{style:_e,...et,children:j})}):null},QspStatsContent=({attrs:b})=>{const[j,$,{useFormat:_e,...et}]=useAttributes(b,"qsp-stats-content"),tt=useAtom_2(statsContent$);return jsxRuntimeExports.jsx(j,{style:$,...et,children:jsxRuntimeExports.jsx(ContentRenderer,{content:tt})})},QspView=({attrs:b,modal:j,children:$})=>{const[_e,et,tt]=useAttributes(b,"qsp-view"),nt=useAtom_2(view$),rt={...et,"--view-image":`url("${nt.path}")`};return j?jsxRuntimeExports.jsx(Root$6,{open:nt.isOpen,onOpenChange:()=>view$.actions.close(),children:jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(_e,{...tt,style:rt,children:$})})]})}):jsxRuntimeExports.jsx(_e,{...tt,style:rt,children:$})},QspViewImage=({attrs:b})=>{const[,j,$]=useAttributes(b,"img","qsp-view-image"),_e=useAtom_2(view$);return _e.path?jsxRuntimeExports.jsx("img",{src:_e.path,alt:"",style:j,...$}):null},Link=({exec:b,act:j,children:$,attrs:_e})=>{const et=reactExports.useCallback(rt=>{rt.preventDefault(),rt.stopPropagation(),b?execCode(b):j&&(selectAction(j-1),execSelectedAction())},[b,j]),[,tt,nt]=useAttributes(_e,"a");return jsxRuntimeExports.jsx("a",{...nt,style:tt,href:"#",onClick:et,children:$})},HtmlLink=({children:b,attrs:j})=>{const[,$,{href:_e,...et}]=useAttributes(j,"a"),tt=nt=>{if(et.onClick)return et.onClick(nt);_e.startsWith("#")&&(nt.preventDefault(),_e!=="#"&&(window.location.hash=_e))};return jsxRuntimeExports.jsx("a",{...et,style:$,href:_e,onClick:tt,children:b})},voidTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],TAGS_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},Element$1=({attrs:b={},children:j=null,tagName:$})=>{const _e=$ in TAGS_MAP?TAGS_MAP[$]:$,[et,tt,nt]=useAttributes(b,_e);return voidTags.includes($)?jsxRuntimeExports.jsx(et,{style:tt,...nt}):jsxRuntimeExports.jsx(et,{style:tt,...nt,children:j})},QspT=({children:b})=>{const[j]=useTranslation();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j(b)})},QspMain=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-main"),tt=useAtom_2(mainContent$),nt=useAtom_2(isNewLoc$),rt=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{rt||mainScroll$.update(st=>nt?-1:Math.max(st,0)+1)},[nt,tt]),jsxRuntimeExports.jsx(scrollContext.Provider,{value:mainScroll$,children:jsxRuntimeExports.jsx($,{style:_e,...et,children:j})})},QspMainContent=({attrs:b})=>{const j=useAtom_2(mainContent$),$=useAtom_2(newLocHash$),[_e,et,{useFormat:tt,...nt}]=useAttributes(b,"qsp-main-content");return reactExports.useEffect(()=>{mainContent$.set(nextMainContent$.value)},[$]),jsxRuntimeExports.jsx(_e,{style:et,...nt,children:jsxRuntimeExports.jsx(ContentRenderer,{content:j})})};function useQspBind(b,j,$){return[useQspVariable(b,j,$,""),tt=>{var ot;const rt=tt.target.type==="checkbox"?tt.target.checked?tt.target.value:"":tt.target.value,st=[b];(j||$)&&(st.push("["),j?st.push(`"${j}"`):st.push(String($)),st.push("]"));const it=st.join(""),ct=it.startsWith("$")?`"${rt}"`:rt||0;(ot=qspApi$.value)==null||ot.execCode(`${it} = ${ct}`)}]}const QspBoundSelect=({attributes:b,style:j,bind:$,bindKey:_e,bindIndex:et,children:tt})=>{const[nt,rt]=useQspBind($,_e,et);return jsxRuntimeExports.jsx("select",{...b,style:j,value:nt,onChange:rt,children:tt})},HtmlSelect=({attrs:b,children:j})=>{const[,$,{value:_e,qspBind:et,qspBindKey:tt,qspBindIndex:nt,...rt}]=useAttributes(b,"select");if(et){const st=parseInt(nt||"0",10);return jsxRuntimeExports.jsx(QspBoundSelect,{attributes:rt,style:$,bind:et,bindKey:tt,bindIndex:st,children:j})}return jsxRuntimeExports.jsx("select",{...rt,style:$,defaultValue:_e,children:j})},QspBoundTextarea=({attributes:b,style:j,bind:$,bindKey:_e,bindIndex:et})=>{const[tt,nt]=useQspBind($,_e,et);return jsxRuntimeExports.jsx("textarea",{...b,style:j,value:tt,onChange:nt})},HtmlTextarea=({attrs:b})=>{const[,j,{value:$,qspBind:_e,qspBindKey:et,qspBindIndex:tt,...nt}]=useAttributes(b,"textarea");if(_e){const rt=parseInt(tt||"0",10);return jsxRuntimeExports.jsx(QspBoundTextarea,{attributes:nt,style:j,bind:_e,bindKey:et,bindIndex:rt})}return jsxRuntimeExports.jsx("textarea",{...nt,style:j,defaultValue:$})},QspBoundInput=({attributes:b,style:j,bind:$,bindKey:_e,bindIndex:et,value:tt})=>{const[nt,rt]=useQspBind($,_e,et),st=b.type||"text";return st==="radio"?jsxRuntimeExports.jsx("input",{...b,style:j,type:"radio",value:tt,checked:nt===tt,onChange:rt}):st==="checkbox"?jsxRuntimeExports.jsx("input",{...b,style:j,type:"checkbox",value:tt,checked:!!nt,onChange:rt}):jsxRuntimeExports.jsx("input",{...b,style:j,value:nt,onChange:rt})},HtmlInput=({attrs:b})=>{const[,j,{value:$,qspBind:_e,qspBindKey:et,qspBindIndex:tt,...nt}]=useAttributes(b,"input");if(_e){const rt=parseInt(tt||"0",10);return jsxRuntimeExports.jsx(QspBoundInput,{attributes:nt,style:j,bind:_e,bindKey:et,bindIndex:rt,value:$})}return jsxRuntimeExports.jsx("input",{...nt,style:j,defaultValue:$})},HtmlForm=({attrs:b,children:j})=>{const[,$,_e]=useAttributes(b,"form"),et=_e["qspOn:submit"];delete _e["qspOn:submit"];function tt(nt){var rt;nt.preventDefault(),et!=null&&et.toLowerCase().startsWith("exec:")&&((rt=qspApi$.value)==null||rt.execCode(et.substring(5)))}return jsxRuntimeExports.jsx("form",{..._e,style:$,onSubmit:tt,children:j})},HtmlImg=({attrs:b,src:j})=>{const[,$,_e]=useAttributes(b,"img");return jsxRuntimeExports.jsx("img",{src:j.replace("\\","/"),alt:"",style:$,..._e})},QspLayer=b=>{const j=useSetup(nt=>{const rt=atom(st=>st(nt).name);return atom(st=>st(layers$)[st(rt)])},b),$=useAtom_2(j),[_e,et,tt]=useAttributes(b.attrs,"qsp-layer");return reactExports.useEffect(()=>registerLayer(b.name),[]),$?(et.zIndex=b.index,jsxRuntimeExports.jsx(_e,{...tt,style:et,"data-layer-name":b.name,children:b.children})):null},QspRegion=b=>{const j=useSetup(rt=>{const st=atom(it=>it(rt).name);return atom(it=>it(regions$)[it(st)])},b),$=useSetup(rt=>{const st=atom(it=>it(rt).name);return atom(it=>it(regionsScroll$)[it(st)]??0)},b),_e=useAtom_2(j),[et,tt,nt]=useAttributes(b.attrs,"qsp-region");return b.scrollable?jsxRuntimeExports.jsx(scrollContext.Provider,{value:$,children:jsxRuntimeExports.jsx(et,{"data-region-name":b.name,style:tt,...nt,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:_e})})})}):jsxRuntimeExports.jsx(et,{"data-region-name":b.name,style:tt,...nt,children:jsxRuntimeExports.jsx(ContentRenderer,{content:_e})})},QspShow=({condition:b,children:j})=>useQspExpression(b||"")?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j}):null,QspStyle=({from:b})=>{const j=useQspVariable(b,"",0,"");return j?jsxRuntimeExports.jsx("style",{"data-qsp-from":b,children:j}):null},QspVariable=({name:b,vkey:j="",index:$=0})=>{const _e=b.startsWith("$")?"":0,et=useQspVariable(b,j,$,_e);return jsxRuntimeExports.jsx("qsp-variable",{"data-name":b,"data-key":j||$,children:et})},namedSlotContentContext=reactExports.createContext({path:""}),QspNamedSlot=b=>{const{attrs:j,children:$,path:_e}=b,[et,tt,nt]=useAttributes(j,"qsp-save-slot"),rt=useSetup(it=>{const ct=it.focus(ot=>ot.path);return atom(ot=>{const at=ot(ct);return ot(namedSlots$).find(dt=>dt.key===at)})},b),st=useAtom_2(rt);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:-1,date:st==null?void 0:st.timestamp},children:jsxRuntimeExports.jsx(namedSlotContentContext.Provider,{value:{path:b.path},children:jsxRuntimeExports.jsx(et,{...nt,style:tt,"data-qsp-save":!0,"data-qsp-save-path":_e,"data-save-empty":st?null:"",children:$})})})};function usePrevious(b){const j=reactExports.useRef({value:b,previous:b});return reactExports.useMemo(()=>(j.current.value!==b&&(j.current.previous=j.current.value,j.current.value=b),j.current.previous),[b])}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope(SLIDER_NAME,[createCollectionScope$2]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider=reactExports.forwardRef((b,j)=>{const{name:$,min:_e=0,max:et=100,step:tt=1,orientation:nt="horizontal",disabled:rt=!1,minStepsBetweenThumbs:st=0,defaultValue:it=[_e],value:ct,onValueChange:ot=()=>{},onValueCommit:at=()=>{},inverted:ft=!1,...dt}=b,mt=reactExports.useRef(new Set),xt=reactExports.useRef(0),gt=nt==="horizontal"?SliderHorizontal:SliderVertical,[Et=[],St]=useControllableState({prop:ct,defaultProp:it,onChange:Bt=>{var rn;(rn=[...mt.current][xt.current])==null||rn.focus(),ot(Bt)}}),At=reactExports.useRef(Et);function $t(Bt){const Yt=getClosestValueIndex(Et,Bt);bt(Bt,Yt)}function wt(Bt){bt(Bt,xt.current)}function Pt(){const Bt=At.current[xt.current];Et[xt.current]!==Bt&&at(Et)}function bt(Bt,Yt,{commit:rn}={commit:!1}){const hn=getDecimalCount(tt),Vt=roundValue(Math.round((Bt-_e)/tt)*tt+_e,hn),Xt=clamp$2(Vt,[_e,et]);St((en=[])=>{const cn=getNextSortedValues(en,Xt,Yt);if(hasMinStepsBetweenValues(cn,st*tt)){xt.current=cn.indexOf(Xt);const qt=String(cn)!==String(en);return qt&&rn&&at(cn),qt?cn:en}else return en})}return jsxRuntimeExports.jsx(SliderProvider,{scope:b.__scopeSlider,name:$,disabled:rt,min:_e,max:et,valueIndexToChangeRef:xt,thumbs:mt.current,values:Et,orientation:nt,children:jsxRuntimeExports.jsx(Collection$2.Provider,{scope:b.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:b.__scopeSlider,children:jsxRuntimeExports.jsx(gt,{"aria-disabled":rt,"data-disabled":rt?"":void 0,...dt,ref:j,onPointerDown:composeEventHandlers(dt.onPointerDown,()=>{rt||(At.current=Et)}),min:_e,max:et,inverted:ft,onSlideStart:rt?void 0:$t,onSlideMove:rt?void 0:wt,onSlideEnd:rt?void 0:Pt,onHomeKeyDown:()=>!rt&&bt(_e,0,{commit:!0}),onEndKeyDown:()=>!rt&&bt(et,Et.length-1,{commit:!0}),onStepKeyDown:({event:Bt,direction:Yt})=>{if(!rt){const Vt=PAGE_KEYS.includes(Bt.key)||Bt.shiftKey&&ARROW_KEYS.includes(Bt.key)?10:1,Xt=xt.current,en=Et[Xt],cn=tt*Vt*Yt;bt(en+cn,Xt,{commit:!0})}}})})})})});Slider.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((b,j)=>{const{min:$,max:_e,dir:et,inverted:tt,onSlideStart:nt,onSlideMove:rt,onSlideEnd:st,onStepKeyDown:it,...ct}=b,[ot,at]=reactExports.useState(null),ft=useComposedRefs(j,Et=>at(Et)),dt=reactExports.useRef(),mt=useDirection(et),xt=mt==="ltr",ht=xt&&!tt||!xt&&tt;function gt(Et){const St=dt.current||ot.getBoundingClientRect(),At=[0,St.width],wt=linearScale(At,ht?[$,_e]:[_e,$]);return dt.current=St,wt(Et-St.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:b.__scopeSlider,startEdge:ht?"left":"right",endEdge:ht?"right":"left",direction:ht?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:mt,"data-orientation":"horizontal",...ct,ref:ft,style:{...ct.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:Et=>{const St=gt(Et.clientX);nt==null||nt(St)},onSlideMove:Et=>{const St=gt(Et.clientX);rt==null||rt(St)},onSlideEnd:()=>{dt.current=void 0,st==null||st()},onStepKeyDown:Et=>{const At=BACK_KEYS[ht?"from-left":"from-right"].includes(Et.key);it==null||it({event:Et,direction:At?-1:1})}})})}),SliderVertical=reactExports.forwardRef((b,j)=>{const{min:$,max:_e,inverted:et,onSlideStart:tt,onSlideMove:nt,onSlideEnd:rt,onStepKeyDown:st,...it}=b,ct=reactExports.useRef(null),ot=useComposedRefs(j,ct),at=reactExports.useRef(),ft=!et;function dt(mt){const xt=at.current||ct.current.getBoundingClientRect(),ht=[0,xt.height],Et=linearScale(ht,ft?[_e,$]:[$,_e]);return at.current=xt,Et(mt-xt.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:b.__scopeSlider,startEdge:ft?"bottom":"top",endEdge:ft?"top":"bottom",size:"height",direction:ft?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...it,ref:ot,style:{...it.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:mt=>{const xt=dt(mt.clientY);tt==null||tt(xt)},onSlideMove:mt=>{const xt=dt(mt.clientY);nt==null||nt(xt)},onSlideEnd:()=>{at.current=void 0,rt==null||rt()},onStepKeyDown:mt=>{const ht=BACK_KEYS[ft?"from-bottom":"from-top"].includes(mt.key);st==null||st({event:mt,direction:ht?-1:1})}})})}),SliderImpl=reactExports.forwardRef((b,j)=>{const{__scopeSlider:$,onSlideStart:_e,onSlideMove:et,onSlideEnd:tt,onHomeKeyDown:nt,onEndKeyDown:rt,onStepKeyDown:st,...it}=b,ct=useSliderContext(SLIDER_NAME,$);return jsxRuntimeExports.jsx(Primitive.span,{...it,ref:j,onKeyDown:composeEventHandlers(b.onKeyDown,ot=>{ot.key==="Home"?(nt(ot),ot.preventDefault()):ot.key==="End"?(rt(ot),ot.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(ot.key)&&(st(ot),ot.preventDefault())}),onPointerDown:composeEventHandlers(b.onPointerDown,ot=>{const at=ot.target;at.setPointerCapture(ot.pointerId),ot.preventDefault(),ct.thumbs.has(at)?at.focus():_e(ot)}),onPointerMove:composeEventHandlers(b.onPointerMove,ot=>{ot.target.hasPointerCapture(ot.pointerId)&&et(ot)}),onPointerUp:composeEventHandlers(b.onPointerUp,ot=>{const at=ot.target;at.hasPointerCapture(ot.pointerId)&&(at.releasePointerCapture(ot.pointerId),tt(ot))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((b,j)=>{const{__scopeSlider:$,..._e}=b,et=useSliderContext(TRACK_NAME,$);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":et.disabled?"":void 0,"data-orientation":et.orientation,..._e,ref:j})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((b,j)=>{const{__scopeSlider:$,..._e}=b,et=useSliderContext(RANGE_NAME,$),tt=useSliderOrientationContext(RANGE_NAME,$),nt=reactExports.useRef(null),rt=useComposedRefs(j,nt),st=et.values.length,it=et.values.map(at=>convertValueToPercentage(at,et.min,et.max)),ct=st>1?Math.min(...it):0,ot=100-Math.max(...it);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":et.orientation,"data-disabled":et.disabled?"":void 0,..._e,ref:rt,style:{...b.style,[tt.startEdge]:ct+"%",[tt.endEdge]:ot+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((b,j)=>{const $=useCollection$2(b.__scopeSlider),[_e,et]=reactExports.useState(null),tt=useComposedRefs(j,rt=>et(rt)),nt=reactExports.useMemo(()=>_e?$().findIndex(rt=>rt.ref.current===_e):-1,[$,_e]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...b,ref:tt,index:nt})}),SliderThumbImpl=reactExports.forwardRef((b,j)=>{const{__scopeSlider:$,index:_e,name:et,...tt}=b,nt=useSliderContext(THUMB_NAME$1,$),rt=useSliderOrientationContext(THUMB_NAME$1,$),[st,it]=reactExports.useState(null),ct=useComposedRefs(j,gt=>it(gt)),ot=st?!!st.closest("form"):!0,at=useSize(st),ft=nt.values[_e],dt=ft===void 0?0:convertValueToPercentage(ft,nt.min,nt.max),mt=getLabel(_e,nt.values.length),xt=at==null?void 0:at[rt.size],ht=xt?getThumbInBoundsOffset(xt,dt,rt.direction):0;return reactExports.useEffect(()=>{if(st)return nt.thumbs.add(st),()=>{nt.thumbs.delete(st)}},[st,nt.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[rt.startEdge]:`calc(${dt}% + ${ht}px)`},children:[jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:b.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":b["aria-label"]||mt,"aria-valuemin":nt.min,"aria-valuenow":ft,"aria-valuemax":nt.max,"aria-orientation":nt.orientation,"data-orientation":nt.orientation,"data-disabled":nt.disabled?"":void 0,tabIndex:nt.disabled?void 0:0,...tt,ref:ct,style:ft===void 0?{display:"none"}:b.style,onFocus:composeEventHandlers(b.onFocus,()=>{nt.valueIndexToChangeRef.current=_e})})}),ot&&jsxRuntimeExports.jsx(BubbleInput$1,{name:et??(nt.name?nt.name+(nt.values.length>1?"[]":""):void 0),value:ft},_e)]})});SliderThumb.displayName=THUMB_NAME$1;var BubbleInput$1=b=>{const{value:j,...$}=b,_e=reactExports.useRef(null),et=usePrevious(j);return reactExports.useEffect(()=>{const tt=_e.current,nt=window.HTMLInputElement.prototype,st=Object.getOwnPropertyDescriptor(nt,"value").set;if(et!==j&&st){const it=new Event("input",{bubbles:!0});st.call(tt,j),tt.dispatchEvent(it)}},[et,j]),jsxRuntimeExports.jsx("input",{style:{display:"none"},...$,ref:_e,defaultValue:j})};function getNextSortedValues(b=[],j,$){const _e=[...b];return _e[$]=j,_e.sort((et,tt)=>et-tt)}function convertValueToPercentage(b,j,$){const tt=100/($-j)*(b-j);return clamp$2(tt,[0,100])}function getLabel(b,j){return j>2?`Value ${b+1} of ${j}`:j===2?["Minimum","Maximum"][b]:void 0}function getClosestValueIndex(b,j){if(b.length===1)return 0;const $=b.map(et=>Math.abs(et-j)),_e=Math.min(...$);return $.indexOf(_e)}function getThumbInBoundsOffset(b,j,$){const _e=b/2,tt=linearScale([0,50],[0,_e]);return(_e-tt(j)*$)*$}function getStepsBetweenValues(b){return b.slice(0,-1).map((j,$)=>b[$+1]-j)}function hasMinStepsBetweenValues(b,j){if(j>0){const $=getStepsBetweenValues(b);return Math.min(...$)>=j}return!0}function linearScale(b,j){return $=>{if(b[0]===b[1]||j[0]===j[1])return j[0];const _e=(j[1]-j[0])/(b[1]-b[0]);return j[0]+_e*($-b[0])}}function getDecimalCount(b){return(String(b).split(".")[1]||"").length}function roundValue(b,j){const $=Math.pow(10,j);return Math.round(b*$)/$}var Root$2=Slider,Track=SliderTrack,Range=SliderRange,Thumb$1=SliderThumb;const QspVolumeSlider=({attrs:b})=>{const j=useAtom_2(volume$),[$]=useTranslation(),[,_e,et]=useAttributes(b,"span");return jsxRuntimeExports.jsxs(Root$2,{className:"qsp-volume-root",defaultValue:[j],max:100,step:1,style:_e,...et,onValueChange:([tt])=>volume$.set(tt),children:[jsxRuntimeExports.jsx(Track,{className:"qsp-volume-slider-track",children:jsxRuntimeExports.jsx(Range,{className:"qsp-volume-slider-range"})}),jsxRuntimeExports.jsx(Thumb$1,{className:"qsp-volume-slider-thumb","aria-label":$("Volume")||void 0})]})},QspMuteToggle=({attrs:b})=>{const[j]=useTranslation(),[$,_e,et]=useAttributes(b,"qsp-mute-toggle"),tt=useAtom_2(muted$);return jsxRuntimeExports.jsx($,{role:"button",style:_e,...et,onClick:()=>muted$.update(nt=>!nt),children:j(tt?"Unmute":"Mute")})},QspGlobalHotkeys=({attrs:b})=>{const[j,$,_e]=useAttributes(b,"qsp-global-hotkeys"),{t:et}=useTranslation(),tt=useAtom_2(globalHotKeys$);return jsxRuntimeExports.jsx(j,{style:$,..._e,children:tt.map((nt,rt)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:et(nt.description)}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:prettifyHotkeys(nt.keys).map((st,it)=>st.type==="key"?jsxRuntimeExports.jsx("qsp-hotkey-key",{children:st.symbol},it):st.symbol)})]},rt))})},QspGameHotkeys=({attrs:b})=>{const[j,$,_e]=useAttributes(b,"qsp-game-hotkeys"),et=useAtom_2(currentGame$);if(!et)return null;const{hotkeys:tt}=et;return tt?jsxRuntimeExports.jsx(j,{style:$,..._e,children:Object.entries(tt).map(([nt,rt],st)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:rt}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:prettifyHotkeys(nt).map((it,ct)=>it.type==="key"?jsxRuntimeExports.jsx("qsp-hotkey-key",{children:it.symbol},ct):it.symbol)})]},st))}):null},QspLocaleSelect=({attrs:b})=>{const{i18n:j}=useTranslation(),[,$,_e]=useAttributes(b,"qsp-locale-select"),et=tt=>{j.changeLanguage(tt.target.value)};return jsxRuntimeExports.jsx("select",{value:j.language,..._e,style:$,onChange:et,children:locales$1.map(tt=>jsxRuntimeExports.jsx("option",{value:tt.value,children:tt.label},tt.value))})},QspGameTitle=({attrs:b})=>{const[j]=useTranslation(),[$,_e,et]=useAttributes(b,"qsp-game-title"),tt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx($,{...et,style:_e,children:(tt==null?void 0:tt.author)||j("n/a")})},QspGameAuthor=({attrs:b})=>{const[j]=useTranslation(),[$,_e,et]=useAttributes(b,"qsp-game-author"),tt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx($,{...et,style:_e,children:(tt==null?void 0:tt.author)||j("n/a")})},QspGameVersion=({attrs:b})=>{const[j]=useTranslation(),[$,_e,et]=useAttributes(b,"qsp-game-version"),tt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx($,{...et,style:_e,children:(tt==null?void 0:tt.version)||j("n/a")})},QspGameDescription=({attrs:b})=>{const[j,$,_e]=useAttributes(b,"qsp-game-description"),et=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(j,{..._e,style:$,children:et!=null&&et.description?jsxRuntimeExports.jsx(ContentRenderer,{content:et.description}):""})};function defaultTransform(b,j){const $=b.tagName.toLowerCase(),_e=extractAttributes(b);return jsxRuntimeExports.jsx(Element$1,{tagName:$,attrs:_e,children:j})}const defaultTransformers={"qsp-scrollable"(b,j){const{scroll:$,..._e}=extractAttributes(b),et=isScrollType($)?$:void 0;return jsxRuntimeExports.jsx(QspScrollable,{scroll:et,attrs:_e,children:j})},"qsp-main"(b,j){return jsxRuntimeExports.jsx(QspMain,{attrs:extractAttributes(b),children:j})},"qsp-main-content"(b){return jsxRuntimeExports.jsx(QspMainContent,{attrs:extractAttributes(b)})},"qsp-stats"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspStats,{attrs:$,children:j})},"qsp-stats-content"(b){return jsxRuntimeExports.jsx(QspStatsContent,{attrs:extractAttributes(b)})},"qsp-actions"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspActions,{attrs:$,children:j})},"qsp-actions-list"(b,j){return jsxRuntimeExports.jsx(QspActionsList,{attrs:extractAttributes(b),children:j})},"qsp-action"(b,j){return jsxRuntimeExports.jsx(QspActionItem,{attrs:extractAttributes(b),children:j})},"qsp-action-name"(b){return jsxRuntimeExports.jsx(QspActionName,{attrs:extractAttributes(b)})},"qsp-action-image"(b){return jsxRuntimeExports.jsx(QspActionImage,{attrs:extractAttributes(b)})},"qsp-action-index"(b){return jsxRuntimeExports.jsx(QspActionIndex,{attrs:extractAttributes(b)})},"qsp-objects"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspObjects,{attrs:$,children:j})},"qsp-objects-list"(b,j){return jsxRuntimeExports.jsx(QspObjectsList,{attrs:extractAttributes(b),children:j})},"qsp-object"(b,j){return jsxRuntimeExports.jsx(QspObjectItem,{attrs:extractAttributes(b),children:j})},"qsp-object-name"(b){return jsxRuntimeExports.jsx(QspObjectName,{attrs:extractAttributes(b)})},"qsp-object-image"(b){return jsxRuntimeExports.jsx(QspObjectImage,{attrs:extractAttributes(b)})},"qsp-object-index"(b){return jsxRuntimeExports.jsx(QspObjectIndex,{attrs:extractAttributes(b)})},"qsp-cmd"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspCmd,{attrs:$,children:j})},"qsp-cmd-input"(b){const j=extractAttributes(b);return jsxRuntimeExports.jsx(QspCmdInput,{attrs:j})},"qsp-view"(b,j){const $=extractAttributes(b),_e="modal"in $;return view$.actions.setIsModal(_e),jsxRuntimeExports.jsx(QspView,{attrs:$,modal:_e,children:j})},"qsp-view-image"(b){const j=extractAttributes(b);return jsxRuntimeExports.jsx(QspViewImage,{attrs:j})},"qsp-menu"(b,j){const{"show-as":$,"show-at":_e,"offset-x":et,"offset-y":tt,...nt}=extractAttributes(b);return jsxRuntimeExports.jsx(QspMenu,{showAs:$,showAt:_e,offsetX:et?parseInt(et,10):0,offsetY:tt?parseInt(tt,10):0,attrs:nt,children:j})},"qsp-menu-list"(b,j){return jsxRuntimeExports.jsx(QspMenuList,{attrs:extractAttributes(b),children:j})},"qsp-menu-item"(b,j){return jsxRuntimeExports.jsx(QspMenuItem,{attrs:extractAttributes(b),children:j})},"qsp-menu-name"(b){return jsxRuntimeExports.jsx(QspMenuItemName,{attrs:extractAttributes(b)})},"qsp-menu-image"(b){return jsxRuntimeExports.jsx(QspMenuItemImage,{attrs:extractAttributes(b)})},"qsp-menu-index"(b){return jsxRuntimeExports.jsx(QspMenuItemIndex,{attrs:extractAttributes(b)})},"qsp-msg"(b,j){return jsxRuntimeExports.jsx(QspMsg,{attrs:extractAttributes(b),children:j})},"qsp-msg-content"(b){return jsxRuntimeExports.jsx(QspMsgContent,{attrs:extractAttributes(b)})},"qsp-input"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspInput,{attrs:$,children:j})},"qsp-input-content"(b){return jsxRuntimeExports.jsx(QspInputContent,{attrs:extractAttributes(b)})},"qsp-input-tag"(b){const j=extractAttributes(b);return jsxRuntimeExports.jsx(QspInputTag,{attrs:j})},"qsp-close-button"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspCloseButton,{attrs:$,children:j})},"qsp-ok-button"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspOkButton,{attrs:$,children:j})},"qsp-cancel-button"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspCancelButton,{attrs:$,children:j})},"qsp-pause-screen"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspPauseScreen,{attrs:$,children:j})},"qsp-pause-screen-content"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(QspPauseScreenContent,{attrs:$,children:j})},"qsp-pause-screen-panel"(b,j){const{name:$,..._e}=extractAttributes(b);return $?jsxRuntimeExports.jsx(QspPauseScreenPanel,{name:$,attrs:_e,children:j}):null},"qsp-slots-list"(b,j){return jsxRuntimeExports.jsx(QspSlotsList,{attrs:extractAttributes(b),children:j})},"qsp-save-slot"(b,j){return jsxRuntimeExports.jsx(QspSlot,{attrs:extractAttributes(b),index:-1,children:j})},"qsp-save-file"(b,j){const{path:$,..._e}=extractAttributes(b);return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:_e,path:$,children:j})},"qsp-quick-save"(b,j){return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:extractAttributes(b),path:QUICK_SAVE_KEY,children:j})},"qsp-slot-index"(b){return jsxRuntimeExports.jsx(QspSlotIndex,{attrs:extractAttributes(b)})},"qsp-slot-date"(b,j){return jsxRuntimeExports.jsx(QspSlotDate,{attrs:extractAttributes(b),children:j})},"qsp-variable"(b){const{name:j,key:$,index:_e}=extractAttributes(b);return jsxRuntimeExports.jsx(QspVariable,{name:j,vkey:$,index:_e?parseInt(_e,10):void 0})},"qsp-region"(b){const{name:j,...$}=extractAttributes(b),_e="scrollable"in $;return jsxRuntimeExports.jsx(QspRegion,{name:j,scrollable:_e,attrs:$})},"qsp-layer"(b,j){const{name:$,index:_e,...et}=extractAttributes(b);return jsxRuntimeExports.jsx(QspLayer,{name:$,index:parseInt(_e),attrs:et,children:j})},"qsp-show"(b,j){const $=b.getAttribute("when")||"";return jsxRuntimeExports.jsx(QspShow,{condition:$,children:j})},"qsp-style"(b){const j=b.getAttribute("from")||"";return jsxRuntimeExports.jsx(QspStyle,{from:j})},"qsp-t"(b){const j=b.innerText;return jsxRuntimeExports.jsx(QspT,{children:j})},a:(b,j)=>{const{href:$,..._e}=extractAttributes(b);if($){if($.toLowerCase().startsWith("exec:"))return jsxRuntimeExports.jsx(Link,{attrs:_e,exec:$.substring(5),children:j});if(parseInt($)>0)return jsxRuntimeExports.jsx(Link,{attrs:_e,act:parseInt($),children:j})}const et={href:$,..._e};return jsxRuntimeExports.jsx(HtmlLink,{attrs:et,children:j})},select(b,j){return jsxRuntimeExports.jsx(HtmlSelect,{attrs:extractAttributes(b),children:j})},textarea(b){const j=extractAttributes(b);return j.value=b.innerText,jsxRuntimeExports.jsx(HtmlTextarea,{attrs:j})},input(b){return jsxRuntimeExports.jsx(HtmlInput,{attrs:extractAttributes(b)})},img(b){const{src:j,...$}=extractAttributes(b);return jsxRuntimeExports.jsx(HtmlImg,{src:j,attrs:$})},form(b,j){return jsxRuntimeExports.jsx(HtmlForm,{attrs:extractAttributes(b),children:j})},"qsp-volume-slider"(b){return jsxRuntimeExports.jsx(QspVolumeSlider,{attrs:extractAttributes(b)})},"qsp-mute-toggle"(b){return jsxRuntimeExports.jsx(QspMuteToggle,{attrs:extractAttributes(b)})},"qsp-global-hotkeys"(b){return jsxRuntimeExports.jsx(QspGlobalHotkeys,{attrs:extractAttributes(b)})},"qsp-game-hotkeys"(b){return jsxRuntimeExports.jsx(QspGameHotkeys,{attrs:extractAttributes(b)})},"qsp-locale-select"(b){return jsxRuntimeExports.jsx(QspLocaleSelect,{attrs:extractAttributes(b)})},"qsp-game-title"(b){return jsxRuntimeExports.jsx(QspGameTitle,{attrs:extractAttributes(b)})},"qsp-game-author"(b){return jsxRuntimeExports.jsx(QspGameAuthor,{attrs:extractAttributes(b)})},"qsp-game-version"(b){return jsxRuntimeExports.jsx(QspGameVersion,{attrs:extractAttributes(b)})},"qsp-game-description"(b){return jsxRuntimeExports.jsx(QspGameDescription,{attrs:extractAttributes(b)})}},Strike=({children:b,attrs:j})=>{const[,$,_e]=useAttributes(j,"span"),et={...$,textDecoration:"line-through"};return jsxRuntimeExports.jsx("span",{..._e,style:et,children:b})},Big=({children:b,attrs:j})=>{const[,$,_e]=useAttributes(j,"span"),et={...$,fontSize:"larger"};return jsxRuntimeExports.jsx("span",{..._e,style:et,children:b})},Tt=({children:b,attrs:j})=>{const[,$,_e]=useAttributes(j,"span"),et={...$,fontFamily:"monospace"};return jsxRuntimeExports.jsx("span",{..._e,style:et,children:b})},Hr=({attrs:b,width:j,size:$,noshade:_e})=>{const[,et,tt]=useAttributes(b,"hr"),nt={...et,borderWidth:Number($)>0?"1px":"1px 0 0 0",borderStyle:_e?"solid":"inset",borderColor:"rgb(128, 128, 128)",borderRadius:"1px",height:`${$||"0"}px`,margin:"0.5em auto",width:j||"100%",backgroundColor:_e?"rgb(128, 128, 128)":"transparent"};return jsxRuntimeExports.jsx("div",{...tt,style:nt})},Table=({border:b,cellspacing:j,cellpadding:$,align:_e,valign:et,attrs:tt,children:nt})=>{const[,rt,{className:st,...it}]=useAttributes(tt,"table"),ct={...rt,textAlign:_e??"left",verticalAlign:et??"top","--table-border-width":`${b||0}px`,"--table-cellspacing":`${j||0}px`,"--table-cellpadding":`${$||0}px`},ot=st?`${st} classic-table`:"classic-table";return jsxRuntimeExports.jsx("table",{...it,style:ct,className:ot,children:nt})},Area=({href:b,attrs:j})=>{const $=reactExports.useCallback(tt=>{tt.preventDefault(),tt.stopPropagation(),onLinkClicked(b)},[b]),[,_e,et]=useAttributes(j,"area");return jsxRuntimeExports.jsx("area",{...et,style:_e,href:"#",onClick:$,alt:""})},Video=({children:b,attrs:j})=>{const[,$,_e]=useAttributes(j,"video");return jsxRuntimeExports.jsx("video",{style:$,..._e,preload:"auto",loop:!0,autoPlay:!0,children:b})},QspCL=({children:b})=>{const j=useAtom_2(qspGuiLayout$);return j?jsxRuntimeExports.jsx("qsp-cl",{children:jsxRuntimeExports.jsx(TemplateRenderer,{template:j})}):jsxRuntimeExports.jsx("qsp-cl",{children:b})},QspCLLayer=b=>{const j=useSetup(_e=>{const et=_e==null?void 0:_e.focus(rt=>rt.children),tt=atom(rt=>{const st={};return React$1.Children.forEach(rt(et),it=>{reactExports.isValidElement(it)&&it.type===QspCLDock&&(st[it.props.place]={visibility:it.props.visibility,size:it.props.size})}),st}),nt=atom(rt=>{var ct;const st=rt(tt),it={};for(const[ot,at]of Object.entries(st))(((ct=at.visibility)==null?void 0:ct.split("|").some(dt=>{const mt=penelAtoms[dt];return mt?rt(mt):!1}))??!0)&&(it[ot]=at);return it});return atom(rt=>{const st=rt(nt),it=["center"];let ct="1fr",ot=1,at="1fr";return st.left&&(it[0]="left "+it[0],ot++,ct=`${st.left.size}px `+ct),st.right&&(it[0]+=" right",ot++,ct+=` ${st.right.size}px`),st.top&&(at=`${st.top.size}px `+at,it.unshift("top ".repeat(ot).trim())),st.bottom&&(at+=` ${st.bottom.size}px`,it.push("bottom ".repeat(ot).trim())),{gridTemplateColumns:ct,gridTemplateRows:at,gridTemplateAreas:'"'+it.join('" "')+'"'}})},b),$=useAtom_2(j);return jsxRuntimeExports.jsx("qsp-cl-layer",{style:$,children:b.children})},penelAtoms={input:isCmdVisible$,imgview:view$.focus(b=>b.isOpen),objs:isObjsVisible$,acts:isActsVisible$,vars:isStatsVisible$},QspCLDock=b=>{const j=useSetup(_e=>atom(et=>{const tt=_e.focus(rt=>rt.visibility),nt=et(tt);return nt?nt.split("|").some(rt=>{const st=penelAtoms[rt];return st?et(st):!1}):!0}),b);return useAtom_2(j)?jsxRuntimeExports.jsx("qsp-cl-dock",{"data-place":b.place,children:b.children}):null},QspCLPane=b=>{const j=useSetup(_e=>atom(et=>{const tt=_e.focus(st=>st.visibility),nt=et(tt);if(!nt)return!0;const rt=penelAtoms[nt];return rt?et(rt):!1}),b);return useAtom_2(j)?jsxRuntimeExports.jsx("qsp-cl-pane",{style:{flexGrow:b.proportion},children:b.children}):null},QspCLDefaults=()=>{const b=useAtom_2(qspGuiCfg$);if(!b)return null;const j=[];if(b.BackColor){const _e=convertColor(b.BackColor,!1);if(_e){const et=invertColor(_e);j.push(`--cl-background-color: ${_e}`),j.push(`--cl-background-color-contrast: ${getContrastColor(_e)}`),j.push(`--cl-background-color-inverted: ${et}`),j.push(`--cl-background-color-inverted-contrast: ${getContrastColor(et)}`)}}if(b.FontColor){const _e=convertColor(b.FontColor,!1);_e&&j.push(`--cl-color: ${_e}`)}if(b.LinkColor){const _e=convertColor(b.LinkColor,!1);_e&&j.push(`--cl-link-color: ${_e}`)}b.FontSize&&j.push(`--cl-font-size: ${b.FontSize}pt`),b.FontName&&j.push(`--cl-font-name: ${b.FontName}`);const $=`qsp-game-root, #portal-container {${j.join(";")}}`;return jsxRuntimeExports.jsx("style",{children:$})},classicTransformers={font:(b,j)=>jsxRuntimeExports.jsx(Font,{size:b.getAttribute("size"),attrs:extractAttributes(b),children:j}),big:(b,j)=>jsxRuntimeExports.jsx(Big,{attrs:extractAttributes(b),children:j}),hr:b=>{const{width:j,size:$,noshade:_e,...et}=extractAttributes(b);return jsxRuntimeExports.jsx(Hr,{attrs:et,width:j,size:$,noshade:!!_e})},tt:(b,j)=>jsxRuntimeExports.jsx(Tt,{attrs:extractAttributes(b),children:j}),strike:(b,j)=>jsxRuntimeExports.jsx(Strike,{attrs:extractAttributes(b),children:j}),tbody:(b,j)=>jsxRuntimeExports.jsx("tbody",{children:j.filter($=>typeof $!="string")}),table:(b,j)=>{const{border:$="0",cellspacing:_e="0",cellpadding:et="1",align:tt,valign:nt,...rt}=extractAttributes(b);return jsxRuntimeExports.jsx(Table,{align:tt,valign:nt,border:Number($),cellspacing:Number(_e),cellpadding:Number(et),attrs:rt,children:j.filter(st=>typeof st!="string")})},area:b=>{const{href:j,...$}=extractAttributes(b);return jsxRuntimeExports.jsx(Area,{href:j||"",attrs:$})},video:(b,j)=>jsxRuntimeExports.jsx(Video,{attrs:extractAttributes(b),children:j}),"qsp-cl":(b,j)=>jsxRuntimeExports.jsx(QspCL,{children:j}),"qsp-cl-layer":(b,j)=>jsxRuntimeExports.jsx(QspCLLayer,{children:j}),"qsp-cl-dock":(b,j)=>{const $=b.getAttribute("place")||"center",_e=b.getAttribute("visibility"),et=b.getAttribute("size")??0;return jsxRuntimeExports.jsx(QspCLDock,{place:$,visibility:_e,size:Number(et),children:j})},"qsp-cl-pane":(b,j)=>{const $=b.getAttribute("proportion")??1,_e=b.getAttribute("visibility");return jsxRuntimeExports.jsx(QspCLPane,{visibility:_e,proportion:Number($),children:j})},"qsp-cl-defaults"(){return jsxRuntimeExports.jsx(QspCLDefaults,{})}},AERO_EFFECTS={fade:{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},blur:{from:{opacity:0,filter:"blur(15px)"},enter:{opacity:1,filter:"blur(0px)"},leave:{opacity:0,filter:"blur(15px)"}},l_slide:{from:{transform:"translate3d(-100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(-100%, 0, 0)"}},r_slide:{from:{transform:"translate3d(100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(100%, 0, 0)"}},u_slide:{from:{transform:"translate3d(0, 100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, 100%, 0)"}},d_slide:{from:{transform:"translate3d(0, -100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, -100%, 0)"}},iris:{from:{clipPath:"circle(0% at center)"},enter:{clipPath:"circle(120% at center)"},leave:{clipPath:"circle(0% at center)"}},photo:{from:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"},enter:{opacity:1,boxShadow:"inset 0 0 0 0px #fff"},leave:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"}},rotate:{from:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0},enter:{transform:"rotate3d(0, 0, 1, 0deg)",opacity:1},leave:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0}},v_squeeze:{from:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"}},h_squeeze:{from:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"}},zoom:{from:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"}},wipe1:{from:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"},enter:{clipPath:"polygon(0 0, 0 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"}},wipe2:{from:{clipPath:"polygon(100% 0, 100% 0%, 100% 0%, 100% 0)"},enter:{clipPath:"polygon(0% 0, 0% 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(100% 0, 100% 0, 100% 0%, 100% 0)"}},wipe3:{from:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"}},wipe4:{from:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"}},quake:{from:{transform:"translate3d(0px, 0px, 0)",opacity:0},enter:[{transform:"translate3d(-2px, 3px, 0)",opacity:.1},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-2px, 3px, 0)",opacity:.9}],leave:[{transform:"translate3d(-2px, 3px, 0)",opacity:.9},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-2px, 3px, 0)",opacity:.1}]}};function useAeroEffect(b,j,$){const _e=useQspVariable(j,"",0,"");let et=useQspVariable($,"",0,500);const tt=AERO_EFFECTS[_e]??{};return tt.enter&&Array.isArray(tt.enter)&&(et/=tt.enter.length),useTransition(b,{...tt,config:{duration:et}})}const AeroQspMenu=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-menu"),tt=useAtom_2(menu$),nt=useClickCoordinates(),rt=useQspVariable("FIXED_SIZE_MENU","",0,0),st=useQspVariable("MENU_X","",0,-1),it=useQspVariable("MENU_Y","",0,-1),ct=useAeroEffect(tt.isOpen,"$MENU_EFFECT","MENU_EFFECT_TIME"),ot=st<0||it<0,at=ot?nt.x:st,ft=ot?nt.y:it;let dt=et.className||"";return rt&&(dt+=" aero-fixed-menu"),jsxRuntimeExports.jsxs(Root2$3,{open:tt.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx(Trigger$2,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:at,top:ft}})}),ct((mt,xt)=>xt?jsxRuntimeExports.jsx(Portal2$1,{forceMount:!0,container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx(Content2$3,{align:"start",forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:mt,children:jsxRuntimeExports.jsx($,{style:_e,...et,className:dt.trim(),children:j})})})}):null)]})},AeroQspMenuItem=({attrs:b})=>{const[j,$]=reactExports.useState(!1),{item:_e,index:et}=reactExports.useContext(menuContext),[tt,nt,{useFormat:rt,useSelectedFormat:st,...it}]=useAttributes(b,"qsp-menu-item"),ct={...nt,"--menu-item-image":_e.image?`url("${_e.image}")`:""},ot=useFormatVariable(rt,DEFAULT_LIST_FORMAT).replace(TEXT_PLACEHOLDER,_e.name).replace(IMAGE_PLACEHOLDER,_e.image?_e.image:""),at=useFormatVariable(st,DEFAULT_SELECTED_LIST_FORMAT).replace(TEXT_PLACEHOLDER,_e.name).replace(IMAGE_PLACEHOLDER,_e.image?_e.image:""),ft=()=>{$(!0)},dt=()=>{$(!1)},mt=xt=>{xt.preventDefault(),menu$.actions.select(et)};return jsxRuntimeExports.jsx(Item2,{asChild:!0,children:jsxRuntimeExports.jsx(tt,{...it,style:ct,onClick:mt,onMouseOver:ft,onMouseLeave:dt,children:jsxRuntimeExports.jsx(ContentRenderer,{content:j?at:ot})})})},AeroStyles=()=>{const b=useAtom_2(currentAeroWidth$),j=useAtom_2(currentAeroHeight$),$=`
  qsp-game-root, #portal-container {
    --aero-player-width: ${b}px;
    --aero-player-height: ${j}px;
  }`;return jsxRuntimeExports.jsx("style",{children:$})},AeroQspView=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-view"),tt=useAtom_2(view$),nt=useQspVariable("ALWAYS_SHOW_VIEW","",0,0),rt=useAeroEffect(tt.isOpen,"$VIEW_EFFECT","VIEW_EFFECT_TIME"),st={..._e,"--view-image":`url("${tt.path}")`},it=()=>{nt||view$.actions.close()};return rt((ct,ot)=>ot?jsxRuntimeExports.jsx(animated.div,{style:ct,children:jsxRuntimeExports.jsx($,{...et,style:st,onClick:it,children:j})}):null)},AeroQspActionItem=({attrs:b})=>{const j=useAtom_2(selectedAction$),{action:$,index:_e}=reactExports.useContext(actionContext),[et,tt,{useFormat:nt,useSelectedFormat:rt,...st}]=useAttributes(b,"qsp-action"),it=$.image?$.image:"",ct={...tt,"--action-image":$.image?`url("${it}")`:""},ot=useFormatVariable(nt,DEFAULT_LIST_FORMAT).replace(TEXT_PLACEHOLDER,$.name).replace(IMAGE_PLACEHOLDER,$.image?it:""),at=useFormatVariable(rt,DEFAULT_SELECTED_LIST_FORMAT).replace(TEXT_PLACEHOLDER,$.name).replace(IMAGE_PLACEHOLDER,$.image?it:""),ft=()=>{selectAction(_e)},dt=()=>{selectAction(-1)},mt=ht=>{ht.preventDefault(),selectedAction$.value<0&&selectAction(_e),execSelectedAction()},xt=j===_e;return jsxRuntimeExports.jsx(et,{...st,style:ct,onMouseOver:ft,onMouseLeave:dt,onClick:mt,children:jsxRuntimeExports.jsx(ContentRenderer,{content:xt?at:ot})})},AeroQspStatsContent=({attrs:b})=>{const[j,$,{useFormat:_e,...et}]=useAttributes(b,"qsp-stats-content"),tt=useAtom_2(statsContent$),nt=useFormatVariable(_e),rt=nt?nt.replace(TEXT_PLACEHOLDER,tt):tt;return jsxRuntimeExports.jsx(j,{style:$,...et,children:jsxRuntimeExports.jsx(ContentRenderer,{content:rt})})},AeroQspMainContent=({attrs:b})=>{const j=useAtom_2(mainContent$),[$,_e,{useFormat:et,...tt}]=useAttributes(b,"qsp-main-content"),nt=useFormatVariable(et),rt=nt?nt.replace(TEXT_PLACEHOLDER,j):j;return jsxRuntimeExports.jsx($,{style:_e,...tt,children:jsxRuntimeExports.jsx(ContentRenderer,{content:rt})})},AeroOverlay=reactExports.forwardRef(()=>{const b=useQspVariable("DISABLESHADE","",0,0),j=useSpring({from:{opacity:0},to:{opacity:.8}});return b?null:jsxRuntimeExports.jsx(Overlay,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:j,className:"qsp-overlay"})})}),AeroQspMsg=({attrs:b,children:j})=>{const[$,_e,et]=useAttributes(b,"qsp-msg"),tt=useAtom_2(msg$),nt=useClickCoordinates(),rt=useQspVariable("MSG_X","",0,200),st=useQspVariable("MSG_Y","",0,165),it=useAeroEffect(tt.isOpen,"$MSG_EFFECT","MSG_EFFECT_TIME"),ct=rt<0||st<0,ot={"--aero-msg-x":`${ct?nt.x:rt}px`,"--aero-msg-y":`${ct?nt.y:st}px`},at=`qsp-dialog-container${ct?" at-mouse":""}`;function ft(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:ft,cancelAction:ft},children:jsxRuntimeExports.jsx(Root$6,{open:tt.isOpen,onOpenChange:ft,children:it((dt,mt)=>mt?jsxRuntimeExports.jsxs(Portal$3,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,style:ot,children:jsxRuntimeExports.jsx(animated.div,{style:dt,className:at,children:jsxRuntimeExports.jsx($,{style:_e,...et,children:j})})})]}):null)})})},AeroQspMsgContent=({attrs:b})=>{const j=useAtom_2(msg$),[$,_e,{useFormat:et,...tt}]=useAttributes(b,"qsp-msg-content"),nt=useFormatVariable(et),rt=nt?nt.replace(TEXT_PLACEHOLDER,j.content):j.content;return jsxRuntimeExports.jsx($,{style:_e,...tt,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:rt})})})},AeroQspInput=({attrs:b,children:j})=>{const $=useAtom_2(input$),[_e,et,tt]=useAttributes(b,"qsp-input"),nt=useClickCoordinates(),rt=useQspVariable("INPUT_X","",0,200),st=useQspVariable("INPUT_Y","",0,165),it=useAeroEffect($.isOpen,"$INPUT_EFFECT","INPUT_EFFECT_TIME"),ct=rt<0||st<0,ot={"--aero-input-x":`${ct?nt.x:rt}px`,"--aero-input-y":`${ct?nt.y:st}px`},at=`qsp-dialog-container${ct?" at-mouse":""}`;return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:ft=>{ft.preventDefault(),input$.actions.finish()},cancelAction:ft=>{ft.preventDefault(),input$.actions.close()}},children:jsxRuntimeExports.jsx(Root$6,{open:$.isOpen,onOpenChange:()=>input$.actions.close(),children:it((ft,dt)=>dt?jsxRuntimeExports.jsxs(Portal$3,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,style:ot,children:jsxRuntimeExports.jsx(animated.div,{style:ft,className:at,children:jsxRuntimeExports.jsx("form",{onSubmit:mt=>{mt.preventDefault(),input$.actions.finish()},children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j})})})})]}):null)})})},AeroQspInputContent=({attrs:b})=>{const j=useAtom_2(input$),[$,_e,{useFormat:et,...tt}]=useAttributes(b,"qsp-input-content"),nt=useFormatVariable(et),rt=nt?nt.replace(TEXT_PLACEHOLDER,j.content):j.content;return jsxRuntimeExports.jsx(Description$1,{asChild:!0,children:jsxRuntimeExports.jsx($,{style:_e,...tt,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:rt})})})})},AeroQspObjectItem=({attrs:b})=>{const[j,$]=reactExports.useState(!1),[_e,et,{useFormat:tt,useSelectedFormat:nt,...rt}]=useAttributes(b,"qsp-object"),{object:st,index:it}=reactExports.useContext(objectContext),ct={...et,"--object-image":st.image?`url("${st.image}")`:""},ot=useFormatVariable(tt,DEFAULT_LIST_FORMAT).replace(TEXT_PLACEHOLDER,st.name).replace(IMAGE_PLACEHOLDER,st.image?st.image:""),at=useFormatVariable(nt,DEFAULT_SELECTED_LIST_FORMAT).replace(TEXT_PLACEHOLDER,st.name).replace(IMAGE_PLACEHOLDER,st.image?st.image:""),ft=()=>{$(!0)},dt=()=>{$(!1)},mt=()=>{selectObject(it)};return jsxRuntimeExports.jsx(_e,{...rt,style:ct,onClick:mt,onMouseOver:ft,onMouseLeave:dt,children:jsxRuntimeExports.jsx(ContentRenderer,{content:j?at:ot})})},AeroNewlocEffect=({children:b})=>{const j=useQspVariable("$NEWLOC_EFFECT","",0,"");let $=useQspVariable("NEWLOC_EFFECT_TIME","",0,500);const _e=!!useQspVariable("NEWLOC_EFFECT_SEQ","",0,0),et=AERO_EFFECTS[j]??{};et.enter&&Array.isArray(et.enter)&&($/=et.enter.length);const tt=useAtom_2(newLocHash$),nt=useTransition(tt,{...et,key:tt,exitBeforeEnter:_e,..._e?{}:{leave:{...et.leave,config:{duration:0}}},config:{duration:$},onRest(){mainContent$.set(nextMainContent$.value)}});return reactExports.useEffect(()=>{(!j||!_e)&&mainContent$.set(nextMainContent$.value)},[j,tt]),j?nt((rt,st)=>jsxRuntimeExports.jsx(animated.div,{style:rt,children:b},st)):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:b})},aeroTransformers={"aero-newloc-effect"(b,j){return jsxRuntimeExports.jsx(AeroNewlocEffect,{children:j})},"aero-styles"(){return jsxRuntimeExports.jsx(AeroStyles,{})},"qsp-main-content"(b){return jsxRuntimeExports.jsx(AeroQspMainContent,{attrs:extractAttributes(b)})},"qsp-stats-content"(b){return jsxRuntimeExports.jsx(AeroQspStatsContent,{attrs:extractAttributes(b)})},"qsp-action"(b){return jsxRuntimeExports.jsx(AeroQspActionItem,{attrs:extractAttributes(b)})},"qsp-object"(b,j){return jsxRuntimeExports.jsx(AeroQspObjectItem,{attrs:extractAttributes(b),children:j})},"qsp-menu"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(AeroQspMenu,{attrs:$,children:j})},"qsp-menu-item"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(AeroQspMenuItem,{attrs:$,children:j})},"qsp-msg"(b,j){return jsxRuntimeExports.jsx(AeroQspMsg,{attrs:extractAttributes(b),children:j})},"qsp-msg-content"(b){return jsxRuntimeExports.jsx(AeroQspMsgContent,{attrs:extractAttributes(b)})},"qsp-input"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(AeroQspInput,{attrs:$,children:j})},"qsp-input-content"(b){return jsxRuntimeExports.jsx(AeroQspInputContent,{attrs:extractAttributes(b)})},"qsp-view"(b,j){const $=extractAttributes(b);return jsxRuntimeExports.jsx(AeroQspView,{attrs:$,modal:"modal"in $,children:j})}},currentTransformers$=atom(b=>{switch(b(currentGameMode$)){case"classic":return{...defaultTransformers,...classicTransformers};case"aero":return{...defaultTransformers,...classicTransformers,...aeroTransformers};case"qspider":default:return defaultTransformers}}),transform=(b,j)=>{const $=currentTransformers$.value[b.tagName.toLowerCase()];return $?$(b,j):defaultTransform(b,j)},blockList=["script"],TemplateRenderer=({template:b})=>jsxRuntimeExports.jsx(Markup,{content:b,transform,blockList,noWrap:!0,allowElements:!0,allowAttributes:!0,disableLineBreaks:!0}),QspPlayer=()=>{const j=useAtom_2(currentThemeData$).qsp_player??{template:"",attrs:{}},{attrs:$,template:_e}=j,[et,tt,nt]=useAttributes($,"qsp-player");return j.template?jsxRuntimeExports.jsx(et,{style:tt,...nt,children:jsxRuntimeExports.jsx(TemplateRenderer,{template:_e})}):"No qsp-player in theme defined"},loadingMessage$=atom(""),QspiderLoader=()=>{const b=useAtom_2(loadingMessage$);return jsxRuntimeExports.jsxs("div",{className:"q-loader",children:[jsxRuntimeExports.jsxs("div",{className:"q-book",children:[jsxRuntimeExports.jsxs("div",{className:"q-inner",children:[jsxRuntimeExports.jsx("div",{className:"q-left"})," ",jsxRuntimeExports.jsx("div",{className:"q-middle"})," ",jsxRuntimeExports.jsx("div",{className:"q-right"})]}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{}),jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})]})]}),b&&jsxRuntimeExports.jsx("div",{className:"q-loader__message",children:b})]})},ClickCoordinates=()=>{const{x:b,y:j}=useClickCoordinates(),$=`qsp-game-root {--mouse-x: ${b}px;--mouse-y:${j}px;}`;return jsxRuntimeExports.jsx("style",{children:$})};var ROOT_NAME="AlertDialog",[createAlertDialogContext,createAlertDialogScope]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog=b=>{const{__scopeAlertDialog:j,...$}=b,_e=useDialogScope(j);return jsxRuntimeExports.jsx(Root$6,{..._e,...$,modal:!0})};AlertDialog.displayName=ROOT_NAME;var TRIGGER_NAME$2="AlertDialogTrigger",AlertDialogTrigger=reactExports.forwardRef((b,j)=>{const{__scopeAlertDialog:$,..._e}=b,et=useDialogScope($);return jsxRuntimeExports.jsx(Trigger$3,{...et,..._e,ref:j})});AlertDialogTrigger.displayName=TRIGGER_NAME$2;var PORTAL_NAME$2="AlertDialogPortal",AlertDialogPortal=b=>{const{__scopeAlertDialog:j,...$}=b,_e=useDialogScope(j);return jsxRuntimeExports.jsx(Portal$3,{..._e,...$})};AlertDialogPortal.displayName=PORTAL_NAME$2;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay=reactExports.forwardRef((b,j)=>{const{__scopeAlertDialog:$,..._e}=b,et=useDialogScope($);return jsxRuntimeExports.jsx(Overlay,{...et,..._e,ref:j})});AlertDialogOverlay.displayName=OVERLAY_NAME;var CONTENT_NAME$2="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME$2),AlertDialogContent=reactExports.forwardRef((b,j)=>{const{__scopeAlertDialog:$,children:_e,...et}=b,tt=useDialogScope($),nt=reactExports.useRef(null),rt=useComposedRefs(j,nt),st=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME$2,titleName:TITLE_NAME$1,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:$,cancelRef:st,children:jsxRuntimeExports.jsxs(Content$1,{role:"alertdialog",...tt,...et,ref:rt,onOpenAutoFocus:composeEventHandlers(et.onOpenAutoFocus,it=>{var ct;it.preventDefault(),(ct=st.current)==null||ct.focus({preventScroll:!0})}),onPointerDownOutside:it=>it.preventDefault(),onInteractOutside:it=>it.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:_e}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:nt})]})})})});AlertDialogContent.displayName=CONTENT_NAME$2;var TITLE_NAME$1="AlertDialogTitle",AlertDialogTitle=reactExports.forwardRef((b,j)=>{const{__scopeAlertDialog:$,..._e}=b,et=useDialogScope($);return jsxRuntimeExports.jsx(Title,{...et,..._e,ref:j})});AlertDialogTitle.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="AlertDialogDescription",AlertDialogDescription=reactExports.forwardRef((b,j)=>{const{__scopeAlertDialog:$,..._e}=b,et=useDialogScope($);return jsxRuntimeExports.jsx(Description$1,{...et,..._e,ref:j})});AlertDialogDescription.displayName=DESCRIPTION_NAME$1;var ACTION_NAME$1="AlertDialogAction",AlertDialogAction=reactExports.forwardRef((b,j)=>{const{__scopeAlertDialog:$,..._e}=b,et=useDialogScope($);return jsxRuntimeExports.jsx(Close$1,{...et,..._e,ref:j})});AlertDialogAction.displayName=ACTION_NAME$1;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel=reactExports.forwardRef((b,j)=>{const{__scopeAlertDialog:$,..._e}=b,{cancelRef:et}=useAlertDialogContentContext(CANCEL_NAME,$),tt=useDialogScope($),nt=useComposedRefs(j,et);return jsxRuntimeExports.jsx(Close$1,{...tt,..._e,ref:nt})});AlertDialogCancel.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:b})=>{const j=`\`${CONTENT_NAME$2}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME$2}\` by passing a \`${DESCRIPTION_NAME$1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME$2}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var _e;document.getElementById((_e=b.current)==null?void 0:_e.getAttribute("aria-describedby"))||console.warn(j)},[j,b]),null},Root2$2=AlertDialog,Portal2=AlertDialogPortal,Overlay2=AlertDialogOverlay,Content2$2=AlertDialogContent,Cancel=AlertDialogCancel,Title2=AlertDialogTitle,Description2=AlertDialogDescription;const QspErrorAlert=()=>{const b=useAtom_2(qspError$),{t:j}=useTranslation();return b?jsxRuntimeExports.jsx(Root2$2,{open:!0,onOpenChange:()=>qspError$.set(null),children:jsxRuntimeExports.jsxs(Portal2,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay2,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content2$2,{className:"qsp-dialog-container qsp-error-container",children:jsxRuntimeExports.jsxs("div",{className:"qsp-error",children:[jsxRuntimeExports.jsx(Title2,{children:j("Error")}),jsxRuntimeExports.jsxs(Description2,{children:[j("Error"),": ",j(b.description),jsxRuntimeExports.jsx("br",{}),b.code>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[j("Error code"),": ",b.code,jsxRuntimeExports.jsx("br",{})]}):"",b.location&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[j("Location"),": ",b.location,jsxRuntimeExports.jsx("br",{})]}),b.actionIndex>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[j("Action index"),": ",b.actionIndex," ",jsxRuntimeExports.jsx("br",{})]}):"",b.line>=0?j("Line")+": "+b.line:""]}),jsxRuntimeExports.jsx("div",{className:"qsp-dialog-buttons",children:jsxRuntimeExports.jsx(Cancel,{className:"qsp-button",children:j("Close")})})]})})]})}):null},QspCSSVariables=()=>{const b=useAtom_2(currentCssVariables$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:b.map(j=>jsxRuntimeExports.jsx(QspCssVariable,{definition:j},j.name))})},imageSizes$=atom({}),QspCssVariableResource=b=>{const j=useSetup(rt=>{const st=rt.focus(it=>it.url);return st.watch(it=>{if(it=prepareUrl(it),!!it&&!imageSizes$.value[it]){const ct=document.createElement("img");ct.onload=()=>{const ot={width:ct.naturalWidth,height:ct.naturalHeight};imageSizes$.update(at=>({...at,[it]:ot}))},ct.src=it}}),atom(it=>{const ct=prepareUrl(it(st));return it(imageSizes$)[ct]??{width:0,height:0}})},b),$=useAtom_2(j);let{url:_e}=b;_e=prepareUrl(_e);const{name:et}=b,tt=b.withSize?`${et}-w: ${$.width}px; ${et}-h: ${$.height}px`:"",nt=`qsp-game-root, #portal-container {${et}: ${_e?`url("${_e}")`:"none"};${tt}}`;return jsxRuntimeExports.jsx("style",{children:nt})};function prepareUrl(b){return b.startsWith("qspider:")?b=b.replace("qspider:",initialBaseUrl$.value):b=baseUrl$.value+b,b.replace("\\","/")}const QspCssVariable=({definition:b})=>{const j=useQspVariable(b.from,"",0,""),$=[];if(b.type==="color"){const et=j?convertColor(Number(j)):b.defaultValue;if(et&&($.push(`${b.name}: ${et}`),b.withContrast&&$.push(`${b.name}-contrast: ${getContrastColor(et)}`),b.withInverted)){const tt=invertColor(et);$.push(`${b.name}-inverted: ${tt}`),b.withContrast&&$.push(`${b.name}-inverted-contrast: ${getContrastColor(tt)}`)}}else if(b.type==="unit"){const et=`${j||b.defaultValue}${b.unit||""}`;$.push(`${b.name}: ${et}`)}else{if(b.type==="resource")return!j&&!b.defaultValue?null:jsxRuntimeExports.jsx(QspCssVariableResource,{name:b.name,url:j||b.defaultValue,withSize:b.withSize});j&&$.push(`${b.name}: ${j}`)}if(!$.length)return null;const _e=`qsp-game-root, #portal-container {${$.join("; ")}}`;return jsxRuntimeExports.jsx("style",{children:_e})},WaitLock=()=>{const b=useAtom_2(wait$);return useEventListener("keypress",j=>{wait$.value&&(j.preventDefault(),j.stopPropagation(),finishWait())},document),b?jsxRuntimeExports.jsx("div",{className:"wait-lock",onClick:finishWait}):null},QspCSSLinks=()=>{const b=useAtom_2(currentCssLinks$),j=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:b.map($=>jsxRuntimeExports.jsx("link",{rel:"stylesheet",href:$.startsWith("qspider:")?$.replace("qspider:",j):$},$))})},QspScriptLinks=()=>{const b=useAtom_2(currentScriptLinks$),j=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:b.map($=>jsxRuntimeExports.jsx("script",{src:$.startsWith("qspider:")?$.replace("qspider:",j):$},$))})},handler=throttle(b=>{var j;if(b.key==="Escape"){if(!currentGameEntry$.value||wait$.value||msg$.value.isOpen||input$.value.isOpen||menu$.value.isOpen||isPauseScreenVisible$.value||view$.value.isOpen&&view$.value.isModal)return;b.preventDefault(),b.stopPropagation(),((j=qspApi$.value)==null?void 0:j.readVariable("NOSAVE"))&&requestedAction$.set("load"),openPauseScreen()}},10),GameRunner=()=>{const b=useAtom_2(currentGameEntry$);return useEventListener("keydown",handler,document,{capture:!0}),b?jsxRuntimeExports.jsxs("qsp-game-root",{children:[jsxRuntimeExports.jsx(ClickCoordinates,{}),jsxRuntimeExports.jsx(QspCSSVariables,{}),jsxRuntimeExports.jsx(QspCSSLinks,{}),jsxRuntimeExports.jsx(QspPlayer,{}),jsxRuntimeExports.jsx(WaitLock,{}),jsxRuntimeExports.jsx(QspErrorAlert,{}),jsxRuntimeExports.jsx(QspScriptLinks,{})]}):jsxRuntimeExports.jsx(QspiderLoader,{})};function _extends(){return _extends=Object.assign||function(b){for(var j=1;j<arguments.length;j++){var $=arguments[j];for(var _e in $)Object.prototype.hasOwnProperty.call($,_e)&&(b[_e]=$[_e])}return b},_extends.apply(this,arguments)}var Action;(function(b){b.Pop="POP",b.Push="PUSH",b.Replace="REPLACE"})(Action||(Action={}));var readOnly=function(b){return b},BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory(b){b===void 0&&(b={});var j=b,$=j.window,_e=$===void 0?document.defaultView:$,et=_e.history;function tt(){var wt=_e.location,Pt=wt.pathname,bt=wt.search,Bt=wt.hash,Yt=et.state||{};return[Yt.idx,readOnly({pathname:Pt,search:bt,hash:Bt,state:Yt.usr||null,key:Yt.key||"default"})]}var nt=null;function rt(){if(nt)ft.call(nt),nt=null;else{var wt=Action.Pop,Pt=tt(),bt=Pt[0],Bt=Pt[1];if(ft.length){if(bt!=null){var Yt=ct-bt;Yt&&(nt={action:wt,location:Bt,retry:function(){At(Yt*-1)}},At(Yt))}}else gt(wt)}}_e.addEventListener(PopStateEventType,rt);var st=Action.Pop,it=tt(),ct=it[0],ot=it[1],at=createEvents(),ft=createEvents();ct==null&&(ct=0,et.replaceState(_extends({},et.state,{idx:ct}),""));function dt(wt){return typeof wt=="string"?wt:createPath(wt)}function mt(wt,Pt){return Pt===void 0&&(Pt=null),readOnly(_extends({pathname:ot.pathname,hash:"",search:""},typeof wt=="string"?parsePath(wt):wt,{state:Pt,key:createKey()}))}function xt(wt,Pt){return[{usr:wt.state,key:wt.key,idx:Pt},dt(wt)]}function ht(wt,Pt,bt){return!ft.length||(ft.call({action:wt,location:Pt,retry:bt}),!1)}function gt(wt){st=wt;var Pt=tt();ct=Pt[0],ot=Pt[1],at.call({action:st,location:ot})}function Et(wt,Pt){var bt=Action.Push,Bt=mt(wt,Pt);function Yt(){Et(wt,Pt)}if(ht(bt,Bt,Yt)){var rn=xt(Bt,ct+1),hn=rn[0],Vt=rn[1];try{et.pushState(hn,"",Vt)}catch{_e.location.assign(Vt)}gt(bt)}}function St(wt,Pt){var bt=Action.Replace,Bt=mt(wt,Pt);function Yt(){St(wt,Pt)}if(ht(bt,Bt,Yt)){var rn=xt(Bt,ct),hn=rn[0],Vt=rn[1];et.replaceState(hn,"",Vt),gt(bt)}}function At(wt){et.go(wt)}var $t={get action(){return st},get location(){return ot},createHref:dt,push:Et,replace:St,go:At,back:function(){At(-1)},forward:function(){At(1)},listen:function(Pt){return at.push(Pt)},block:function(Pt){var bt=ft.push(Pt);return ft.length===1&&_e.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){bt(),ft.length||_e.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return $t}function promptBeforeUnload(b){b.preventDefault(),b.returnValue=""}function createEvents(){var b=[];return{get length(){return b.length},push:function($){return b.push($),function(){b=b.filter(function(_e){return _e!==$})}},call:function($){b.forEach(function(_e){return _e&&_e($)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(b){var j=b.pathname,$=j===void 0?"/":j,_e=b.search,et=_e===void 0?"":_e,tt=b.hash,nt=tt===void 0?"":tt;return et&&et!=="?"&&($+=et.charAt(0)==="?"?et:"?"+et),nt&&nt!=="#"&&($+=nt.charAt(0)==="#"?nt:"#"+nt),$}function parsePath(b){var j={};if(b){var $=b.indexOf("#");$>=0&&(j.hash=b.substr($),b=b.substr(0,$));var _e=b.indexOf("?");_e>=0&&(j.search=b.substr(_e),b=b.substr(0,_e)),b&&(j.pathname=b)}return j}var browser=createBrowserHistory();function navigateTo(b){browser.push(`?${b}`)}function goToGame(b){browser.push(`${initialBaseUrl$.value}?run=${b}`)}const currentMode$=atom("shelf"),games$=atom({},b=>({add(j,$){var _e;(_e=storage$.value)==null||_e.addGame(j,$).catch(console.error),b.update(et=>({...et,[j]:$}))},update(j,$){var _e;(_e=storage$.value)==null||_e.updateGame(j,$).catch(console.error),b.update(et=>({...et,[j]:{...et[j]||{},...$}}))},remove(j){var $;($=storage$.value)==null||$.removeGame(j).catch(console.error),b.update(_e=>{const{[j]:et,...tt}=_e;return tt})}})),gamesList$=atom(b=>Object.values(b(games$)).sort((j,$)=>j.title.localeCompare($.title))),gameSourceMap$=atom(b=>{var $;const j=new Map;for(const _e of Object.values(b(games$)))if(($=_e.meta)!=null&&$.source){const et=j.get(_e.meta.source)??new Set;et.add(_e.meta.source_id),j.set(_e.meta.source,et)}return j});browser.listen(({location:b})=>{processLocationChange(b.search)});async function processLocationChange(b){const j=new URLSearchParams(b),$=j.get("run");if($){await initDeferred$.value.promise;const _e=games$.value[$];await runGame(_e),currentMode$.set("game")}else j.has("catalog")?(currentGameEntry$.value&&stopCurrentGame(),currentMode$.set("catalog")):(currentGameEntry$.value&&stopCurrentGame(),currentMode$.set("shelf"))}async function loadGamesFromStorage(){var j;const b=await((j=storage$.value)==null?void 0:j.getGames());b&&games$.set(b)}function _objectWithoutPropertiesLoose(b,j){if(b==null)return{};var $={},_e=Object.keys(b),et,tt;for(tt=0;tt<_e.length;tt++)et=_e[tt],!(j.indexOf(et)>=0)&&($[et]=b[et]);return $}var _excluded$T=["color"],CheckIcon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$T);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$W=["color"],ChevronDownIcon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$W);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$Z=["color"],ChevronUpIcon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$Z);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1q=["color"],Cross1Icon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$1q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1L=["color"],DoubleArrowDownIcon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$1L);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M3.85355 2.14645C3.65829 1.95118 3.34171 1.95118 3.14645 2.14645C2.95118 2.34171 2.95118 2.65829 3.14645 2.85355L7.14645 6.85355C7.34171 7.04882 7.65829 7.04882 7.85355 6.85355L11.8536 2.85355C12.0488 2.65829 12.0488 2.34171 11.8536 2.14645C11.6583 1.95118 11.3417 1.95118 11.1464 2.14645L7.5 5.79289L3.85355 2.14645ZM3.85355 8.14645C3.65829 7.95118 3.34171 7.95118 3.14645 8.14645C2.95118 8.34171 2.95118 8.65829 3.14645 8.85355L7.14645 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L11.8536 8.85355C12.0488 8.65829 12.0488 8.34171 11.8536 8.14645C11.6583 7.95118 11.3417 7.95118 11.1464 8.14645L7.5 11.7929L3.85355 8.14645Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1O=["color"],DoubleArrowUpIcon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$1O);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M11.1464 6.85355C11.3417 7.04882 11.6583 7.04882 11.8536 6.85355C12.0488 6.65829 12.0488 6.34171 11.8536 6.14645L7.85355 2.14645C7.65829 1.95118 7.34171 1.95118 7.14645 2.14645L3.14645 6.14645C2.95118 6.34171 2.95118 6.65829 3.14645 6.85355C3.34171 7.04882 3.65829 7.04882 3.85355 6.85355L7.5 3.20711L11.1464 6.85355ZM11.1464 12.8536C11.3417 13.0488 11.6583 13.0488 11.8536 12.8536C12.0488 12.6583 12.0488 12.3417 11.8536 12.1464L7.85355 8.14645C7.65829 7.95118 7.34171 7.95118 7.14645 8.14645L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L7.5 9.20711L11.1464 12.8536Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4i=["color"],SunIcon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$4i);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M7.5 0C7.77614 0 8 0.223858 8 0.5V2.5C8 2.77614 7.77614 3 7.5 3C7.22386 3 7 2.77614 7 2.5V0.5C7 0.223858 7.22386 0 7.5 0ZM2.1967 2.1967C2.39196 2.00144 2.70854 2.00144 2.90381 2.1967L4.31802 3.61091C4.51328 3.80617 4.51328 4.12276 4.31802 4.31802C4.12276 4.51328 3.80617 4.51328 3.61091 4.31802L2.1967 2.90381C2.00144 2.70854 2.00144 2.39196 2.1967 2.1967ZM0.5 7C0.223858 7 0 7.22386 0 7.5C0 7.77614 0.223858 8 0.5 8H2.5C2.77614 8 3 7.77614 3 7.5C3 7.22386 2.77614 7 2.5 7H0.5ZM2.1967 12.8033C2.00144 12.608 2.00144 12.2915 2.1967 12.0962L3.61091 10.682C3.80617 10.4867 4.12276 10.4867 4.31802 10.682C4.51328 10.8772 4.51328 11.1938 4.31802 11.3891L2.90381 12.8033C2.70854 12.9986 2.39196 12.9986 2.1967 12.8033ZM12.5 7C12.2239 7 12 7.22386 12 7.5C12 7.77614 12.2239 8 12.5 8H14.5C14.7761 8 15 7.77614 15 7.5C15 7.22386 14.7761 7 14.5 7H12.5ZM10.682 4.31802C10.4867 4.12276 10.4867 3.80617 10.682 3.61091L12.0962 2.1967C12.2915 2.00144 12.608 2.00144 12.8033 2.1967C12.9986 2.39196 12.9986 2.70854 12.8033 2.90381L11.3891 4.31802C11.1938 4.51328 10.8772 4.51328 10.682 4.31802ZM8 12.5C8 12.2239 7.77614 12 7.5 12C7.22386 12 7 12.2239 7 12.5V14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5V12.5ZM10.682 10.682C10.8772 10.4867 11.1938 10.4867 11.3891 10.682L12.8033 12.0962C12.9986 12.2915 12.9986 12.608 12.8033 12.8033C12.608 12.9986 12.2915 12.9986 12.0962 12.8033L10.682 11.3891C10.4867 11.1938 10.4867 10.8772 10.682 10.682ZM5.5 7.5C5.5 6.39543 6.39543 5.5 7.5 5.5C8.60457 5.5 9.5 6.39543 9.5 7.5C9.5 8.60457 8.60457 9.5 7.5 9.5C6.39543 9.5 5.5 8.60457 5.5 7.5ZM7.5 4.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5C9.15685 10.5 10.5 9.15685 10.5 7.5C10.5 5.84315 9.15685 4.5 7.5 4.5Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4N=["color"],UpdateIcon=reactExports.forwardRef(function(b,j){var $=b.color,_e=$===void 0?"currentColor":$,et=_objectWithoutPropertiesLoose(b,_excluded$4N);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},et,{ref:j}),reactExports.createElement("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:_e,fillRule:"evenodd",clipRule:"evenodd"}))});const qspCatalogList$=atom([]),qspAuthorFilter$=atom(""),qspSortByField$=atom("title"),qspSortDirection$=atom("asc"),qspTitleSearch$=atom(""),onlyAero$=atom(!1),qspCatalogPreparedList$=atom(b=>{const j=b(qspCatalogList$),$=b(qspAuthorFilter$),_e=b(qspSortByField$),et=b(qspSortDirection$),tt=b(qspTitleSearch$).toLocaleLowerCase(),nt=b(onlyAero$);let rt=$?j.filter(st=>st.author.includes($)):j.slice();return nt&&(rt=rt.filter(st=>st.file_ext==="aqsp")),tt&&(rt=rt.filter(st=>st.title.toLocaleLowerCase().includes(tt))),rt.sort(sortByField(_e)),et==="desc"&&rt.reverse(),rt}),qspAuthors$=atom(b=>{const j=b(qspCatalogList$),$=new Set;for(const _e of j){const et=_e.author.split(",");for(const tt of et)tt.trim()&&$.add(tt.trim())}return[...$].sort((_e,et)=>_e.localeCompare(et))}),catalogLoading$=atom("pending"),sourceName="org.qsp.games",CATALOG_URL="https://catalog.qspider.xyz/",catalogLoadingDeferred=defer$1();async function loadQspCatalog(){if(catalogLoading$.value==="loading")return catalogLoadingDeferred.promise;catalogLoading$.value="loading";try{const b=await fetch(CATALOG_URL);if(!b.ok)throw new Error("Failed to load catalog");const j=await b.json();qspCatalogList$.value=j,catalogLoading$.value="loaded"}catch{catalogLoading$.value="failed"}return catalogLoadingDeferred.resolve(),catalogLoadingDeferred.promise}async function moveToShelf(b){try{const j=await importUrl(`${CATALOG_URL}game-source?id=${b.id}`,`qsp-game-${b.id}.${b.file_ext}`);for(const $ of j)$.title=b.title,$.description=b.description,$.icon=`https://qsp.su/gamestock/image.php?name=${b.icon}`,$.author=b.author,$.ported_by=b.ported_by,$.version=b.version,$.meta={source:"org.qsp.games",source_id:String(b.id),source_date:b.mod_date},games$.actions.add($.id,$),showNotice(instance.t("{{ name }} added to shelf",{name:b.title}));return j}catch(j){console.error(j),showError(`Failed to load source for game ${b.title}`)}return[]}function toggleSortDirection(){qspSortDirection$.update(b=>b==="asc"?"desc":"asc")}function sortByField(b){return(j,$)=>{const _e=j[b],et=$[b];return typeof _e=="number"&&typeof et=="number"?_e-et:typeof _e=="string"&&typeof et=="string"?_e.localeCompare(et):_e===et?0:_e<et?1:-1}}const GameCard=b=>{const{game:j}=b,{t:$}=useTranslation(),_e=reactExports.useCallback(()=>{games$.actions.remove(j.id)},[j.id]),et=useSetup(st=>{const it=st.focus(ct=>ct.game);return atom(ct=>{var ft;const ot=(ft=ct(it).meta)==null?void 0:ft.source_id;if(!ot)return null;const at=parseInt(ot);return ct(qspCatalogList$).find(dt=>dt.id===at)})},b),tt=useAtom_2(et),nt=j.meta&&tt?j.meta.source_date<tt.mod_date:!1,rt=()=>{!nt||!tt||moveToShelf(tt)};return jsxRuntimeExports.jsx(Root$6,{children:jsxRuntimeExports.jsxs("div",{className:"game-shelf__card","data-qa":`game-${j.id}`,children:[jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-content",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"q-ghost-button q-remove-game-button",title:"Remove from Game Shelf",onClick:_e,children:jsxRuntimeExports.jsx(Cross1Icon,{})}),jsxRuntimeExports.jsxs("h3",{className:"game-shelf__card-title",children:[j.icon&&jsxRuntimeExports.jsx("img",{alt:"",src:j.icon,loading:"lazy"}),j.title]})]}),jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details",children:[j.author&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[$("Author"),": ",j.author]}),j.ported_by&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[$("Ported by"),": ",j.ported_by]}),j.version&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[$("Version"),": ",j.version]})]}),nt&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-actions",children:[$("Game has been updated in catalog"),jsxRuntimeExports.jsx("button",{className:"q-button",onClick:rt,children:$("Update on shelf")})]}),jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-actions",children:[j.description?jsxRuntimeExports.jsx(Trigger$3,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",children:$("Read Description")})}):jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("a",{href:"#",onClick:st=>{st.preventDefault(),goToGame(j.id)},children:$("Run")})]}),j.description&&jsxRuntimeExports.jsxs(Portal$3,{children:[jsxRuntimeExports.jsx(Overlay,{className:"qspider-dialog-overlay"}),jsxRuntimeExports.jsxs(Content$1,{className:"qspider-dialog-content",children:[jsxRuntimeExports.jsxs(Root$5,{className:"qspider-scroll-root",children:[jsxRuntimeExports.jsx(Viewport$2,{className:"qspider-scroll-area",children:jsxRuntimeExports.jsx(ContentRenderer,{content:j.description})}),jsxRuntimeExports.jsx(Scrollbar,{className:"qspider-scroll-bar",orientation:"vertical",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qspider-scroll-thumb"})})]}),jsxRuntimeExports.jsx(Close$1,{className:"q-ghost-button q-dialog-close","aria-label":"Close",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]})]})]})})},GameShelf=()=>{const b=useAtom_2(gamesList$),{t:j}=useTranslation();return jsxRuntimeExports.jsx("div",{className:"game-shelf",children:b.length>0?jsxRuntimeExports.jsx("div",{className:"game-shelf__list",children:b.map($=>jsxRuntimeExports.jsx(GameCard,{game:$},$.id))}):jsxRuntimeExports.jsx("div",{className:"game-shelf__empty",children:j("Game shelf is empty")})})},sizes=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],byteSize=1024;function formatBytes(b,j=2){if(b===0)return"0 Bytes";const $=Math.floor(Math.log(b)/Math.log(byteSize));return parseFloat((b/Math.pow(byteSize,$)).toFixed(j))+" "+sizes[$]}const CatalogGameCard=b=>{const{t:j}=useTranslation(),$=useSetup(it=>{const ct=it.focus(ot=>ot.game.id);return atom(ot=>{const at=ot(gameSourceMap$).get(sourceName),ft=String(ot(ct));return at==null?void 0:at.has(ft)})},b),_e=useAtom_2($),{game:et}=b,tt=et.icon?et.icon.substring(et.icon.lastIndexOf("com_sobi2")):null,[nt,rt]=reactExports.useState(!1),st=reactExports.useCallback(async()=>{rt(!0),await moveToShelf(et),rt(!1)},[et]);return jsxRuntimeExports.jsx(Root$6,{children:jsxRuntimeExports.jsxs("div",{className:"q-catalog__card","data-id":et.id,children:[jsxRuntimeExports.jsxs("h5",{className:"q-title",children:[et.icon&&jsxRuntimeExports.jsx("img",{alt:"",src:"https://qsp.su/gamestock/image.php?name="+tt,loading:"lazy"}),et.title]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[j("Author"),": ",et.author]}),et.ported_by&&jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[j("Ported by"),": ",et.ported_by]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[j("Version"),": ",et.version]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[j("Size"),": ",formatBytes(et.file_size)]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[j("Type"),": ",et.file_ext]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[j("Last update"),": ",formatDate(new Date(et.mod_date))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-buttons",children:[et.description?jsxRuntimeExports.jsx(Trigger$3,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",children:j("Read Description")})}):jsxRuntimeExports.jsx("div",{}),_e?jsxRuntimeExports.jsx("span",{children:j("On Shelf")}):jsxRuntimeExports.jsx("button",{className:"q-button",disabled:nt,onClick:st,children:nt?jsxRuntimeExports.jsx("span",{className:"q-spin",children:jsxRuntimeExports.jsx(UpdateIcon,{})}):j("Add to shelf")})]}),et.description?jsxRuntimeExports.jsxs(Portal$3,{children:[jsxRuntimeExports.jsx(Overlay,{className:"qspider-dialog-overlay"}),jsxRuntimeExports.jsxs(Content$1,{className:"qspider-dialog-content",children:[jsxRuntimeExports.jsxs(Root$5,{className:"qspider-scroll-root",children:[jsxRuntimeExports.jsx(Viewport$2,{className:"qspider-scroll-area",children:jsxRuntimeExports.jsx(ContentRenderer,{content:et.description})}),jsxRuntimeExports.jsx(Scrollbar,{className:"qspider-scroll-bar",orientation:"vertical",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qspider-scroll-thumb"})})]}),jsxRuntimeExports.jsx(Close$1,{className:"q-ghost-button q-dialog-close","aria-label":"Close",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]})]}):null]})})};var NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((b,j)=>jsxRuntimeExports.jsx(Primitive.span,{...b,ref:j,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...b.style}}));VisuallyHidden.displayName=NAME;var Root$1=VisuallyHidden,OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope$1=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=b=>{const{__scopeSelect:j,children:$,open:_e,defaultOpen:et,onOpenChange:tt,value:nt,defaultValue:rt,onValueChange:st,dir:it,name:ct,autoComplete:ot,disabled:at,required:ft}=b,dt=usePopperScope$1(j),[mt,xt]=reactExports.useState(null),[ht,gt]=reactExports.useState(null),[Et,St]=reactExports.useState(!1),At=useDirection(it),[$t=!1,wt]=useControllableState({prop:_e,defaultProp:et,onChange:tt}),[Pt,bt]=useControllableState({prop:nt,defaultProp:rt,onChange:st}),Bt=reactExports.useRef(null),Yt=mt?!!mt.closest("form"):!0,[rn,hn]=reactExports.useState(new Set),Vt=Array.from(rn).map(Xt=>Xt.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...dt,children:jsxRuntimeExports.jsxs(SelectProvider,{required:ft,scope:j,trigger:mt,onTriggerChange:xt,valueNode:ht,onValueNodeChange:gt,valueNodeHasChildren:Et,onValueNodeHasChildrenChange:St,contentId:useId(),value:Pt,onValueChange:bt,open:$t,onOpenChange:wt,dir:At,triggerPointerDownPosRef:Bt,disabled:at,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:j,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:b.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Xt=>{hn(en=>new Set(en).add(Xt))},[]),onNativeOptionRemove:reactExports.useCallback(Xt=>{hn(en=>{const cn=new Set(en);return cn.delete(Xt),cn})},[]),children:$})}),Yt?jsxRuntimeExports.jsxs(BubbleSelect,{"aria-hidden":!0,required:ft,tabIndex:-1,name:ct,autoComplete:ot,value:Pt,onChange:Xt=>bt(Xt.target.value),disabled:at,children:[Pt===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(rn)]},Vt):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,disabled:_e=!1,...et}=b,tt=usePopperScope$1($),nt=useSelectContext(TRIGGER_NAME$1,$),rt=nt.disabled||_e,st=useComposedRefs(j,nt.onTriggerChange),it=useCollection$1($),[ct,ot,at]=useTypeaheadSearch(dt=>{const mt=it().filter(gt=>!gt.disabled),xt=mt.find(gt=>gt.value===nt.value),ht=findNextItem(mt,dt,xt);ht!==void 0&&nt.onValueChange(ht.value)}),ft=()=>{rt||(nt.onOpenChange(!0),at())};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...tt,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":nt.contentId,"aria-expanded":nt.open,"aria-required":nt.required,"aria-autocomplete":"none",dir:nt.dir,"data-state":nt.open?"open":"closed",disabled:rt,"data-disabled":rt?"":void 0,"data-placeholder":shouldShowPlaceholder(nt.value)?"":void 0,...et,ref:st,onClick:composeEventHandlers(et.onClick,dt=>{dt.currentTarget.focus()}),onPointerDown:composeEventHandlers(et.onPointerDown,dt=>{const mt=dt.target;mt.hasPointerCapture(dt.pointerId)&&mt.releasePointerCapture(dt.pointerId),dt.button===0&&dt.ctrlKey===!1&&(ft(),nt.triggerPointerDownPosRef.current={x:Math.round(dt.pageX),y:Math.round(dt.pageY)},dt.preventDefault())}),onKeyDown:composeEventHandlers(et.onKeyDown,dt=>{const mt=ct.current!=="";!(dt.ctrlKey||dt.altKey||dt.metaKey)&&dt.key.length===1&&ot(dt.key),!(mt&&dt.key===" ")&&OPEN_KEYS.includes(dt.key)&&(ft(),dt.preventDefault())})})})});SelectTrigger.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,className:_e,style:et,children:tt,placeholder:nt="",...rt}=b,st=useSelectContext(VALUE_NAME,$),{onValueNodeHasChildrenChange:it}=st,ct=tt!==void 0,ot=useComposedRefs(j,st.onValueNodeChange);return useLayoutEffect2(()=>{it(ct)},[it,ct]),jsxRuntimeExports.jsx(Primitive.span,{...rt,ref:ot,style:{pointerEvents:"none"},children:shouldShowPlaceholder(st.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt}):tt})});SelectValue.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,children:_e,...et}=b;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...et,ref:j,children:_e||"▼"})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=b=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...b});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="SelectContent",SelectContent=reactExports.forwardRef((b,j)=>{const $=useSelectContext(CONTENT_NAME$1,b.__scopeSelect),[_e,et]=reactExports.useState();if(useLayoutEffect2(()=>{et(new DocumentFragment)},[]),!$.open){const tt=_e;return tt?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:b.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:b.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:b.children})})}),tt):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...b,ref:j})});SelectContent.displayName=CONTENT_NAME$1;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$1),CONTENT_IMPL_NAME="SelectContentImpl",SelectContentImpl=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,position:_e="item-aligned",onCloseAutoFocus:et,onEscapeKeyDown:tt,onPointerDownOutside:nt,side:rt,sideOffset:st,align:it,alignOffset:ct,arrowPadding:ot,collisionBoundary:at,collisionPadding:ft,sticky:dt,hideWhenDetached:mt,avoidCollisions:xt,...ht}=b,gt=useSelectContext(CONTENT_NAME$1,$),[Et,St]=reactExports.useState(null),[At,$t]=reactExports.useState(null),wt=useComposedRefs(j,Jt=>St(Jt)),[Pt,bt]=reactExports.useState(null),[Bt,Yt]=reactExports.useState(null),rn=useCollection$1($),[hn,Vt]=reactExports.useState(!1),Xt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(Et)return hideOthers(Et)},[Et]),useFocusGuards();const en=reactExports.useCallback(Jt=>{const[gn,...Zt]=rn().map(xn=>xn.ref.current),[bn]=Zt.slice(-1),An=document.activeElement;for(const xn of Jt)if(xn===An||(xn==null||xn.scrollIntoView({block:"nearest"}),xn===gn&&At&&(At.scrollTop=0),xn===bn&&At&&(At.scrollTop=At.scrollHeight),xn==null||xn.focus(),document.activeElement!==An))return},[rn,At]),cn=reactExports.useCallback(()=>en([Pt,Et]),[en,Pt,Et]);reactExports.useEffect(()=>{hn&&cn()},[hn,cn]);const{onOpenChange:qt,triggerPointerDownPosRef:Wt}=gt;reactExports.useEffect(()=>{if(Et){let Jt={x:0,y:0};const gn=bn=>{var An,xn;Jt={x:Math.abs(Math.round(bn.pageX)-(((An=Wt.current)==null?void 0:An.x)??0)),y:Math.abs(Math.round(bn.pageY)-(((xn=Wt.current)==null?void 0:xn.y)??0))}},Zt=bn=>{Jt.x<=10&&Jt.y<=10?bn.preventDefault():Et.contains(bn.target)||qt(!1),document.removeEventListener("pointermove",gn),Wt.current=null};return Wt.current!==null&&(document.addEventListener("pointermove",gn),document.addEventListener("pointerup",Zt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",gn),document.removeEventListener("pointerup",Zt,{capture:!0})}}},[Et,qt,Wt]),reactExports.useEffect(()=>{const Jt=()=>qt(!1);return window.addEventListener("blur",Jt),window.addEventListener("resize",Jt),()=>{window.removeEventListener("blur",Jt),window.removeEventListener("resize",Jt)}},[qt]);const[sn,Qt]=useTypeaheadSearch(Jt=>{const gn=rn().filter(An=>!An.disabled),Zt=gn.find(An=>An.ref.current===document.activeElement),bn=findNextItem(gn,Jt,Zt);bn&&setTimeout(()=>bn.ref.current.focus())}),tn=reactExports.useCallback((Jt,gn,Zt)=>{const bn=!Xt.current&&!Zt;(gt.value!==void 0&&gt.value===gn||bn)&&(bt(Jt),bn&&(Xt.current=!0))},[gt.value]),vn=reactExports.useCallback(()=>Et==null?void 0:Et.focus(),[Et]),un=reactExports.useCallback((Jt,gn,Zt)=>{const bn=!Xt.current&&!Zt;(gt.value!==void 0&&gt.value===gn||bn)&&Yt(Jt)},[gt.value]),mn=_e==="popper"?SelectPopperPosition:SelectItemAlignedPosition,_n=mn===SelectPopperPosition?{side:rt,sideOffset:st,align:it,alignOffset:ct,arrowPadding:ot,collisionBoundary:at,collisionPadding:ft,sticky:dt,hideWhenDetached:mt,avoidCollisions:xt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:$,content:Et,viewport:At,onViewportChange:$t,itemRefCallback:tn,selectedItem:Pt,onItemLeave:vn,itemTextRefCallback:un,focusSelectedItem:cn,selectedItemText:Bt,position:_e,isPositioned:hn,searchRef:sn,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:gt.open,onMountAutoFocus:Jt=>{Jt.preventDefault()},onUnmountAutoFocus:composeEventHandlers(et,Jt=>{var gn;(gn=gt.trigger)==null||gn.focus({preventScroll:!0}),Jt.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:tt,onPointerDownOutside:nt,onFocusOutside:Jt=>Jt.preventDefault(),onDismiss:()=>gt.onOpenChange(!1),children:jsxRuntimeExports.jsx(mn,{role:"listbox",id:gt.contentId,"data-state":gt.open?"open":"closed",dir:gt.dir,onContextMenu:Jt=>Jt.preventDefault(),...ht,..._n,onPlaced:()=>Vt(!0),ref:wt,style:{display:"flex",flexDirection:"column",outline:"none",...ht.style},onKeyDown:composeEventHandlers(ht.onKeyDown,Jt=>{const gn=Jt.ctrlKey||Jt.altKey||Jt.metaKey;if(Jt.key==="Tab"&&Jt.preventDefault(),!gn&&Jt.key.length===1&&Qt(Jt.key),["ArrowUp","ArrowDown","Home","End"].includes(Jt.key)){let bn=rn().filter(An=>!An.disabled).map(An=>An.ref.current);if(["ArrowUp","End"].includes(Jt.key)&&(bn=bn.slice().reverse()),["ArrowUp","ArrowDown"].includes(Jt.key)){const An=Jt.target,xn=bn.indexOf(An);bn=bn.slice(xn+1)}setTimeout(()=>en(bn)),Jt.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,onPlaced:_e,...et}=b,tt=useSelectContext(CONTENT_NAME$1,$),nt=useSelectContentContext(CONTENT_NAME$1,$),[rt,st]=reactExports.useState(null),[it,ct]=reactExports.useState(null),ot=useComposedRefs(j,wt=>ct(wt)),at=useCollection$1($),ft=reactExports.useRef(!1),dt=reactExports.useRef(!0),{viewport:mt,selectedItem:xt,selectedItemText:ht,focusSelectedItem:gt}=nt,Et=reactExports.useCallback(()=>{if(tt.trigger&&tt.valueNode&&rt&&it&&mt&&xt&&ht){const wt=tt.trigger.getBoundingClientRect(),Pt=it.getBoundingClientRect(),bt=tt.valueNode.getBoundingClientRect(),Bt=ht.getBoundingClientRect();if(tt.dir!=="rtl"){const An=Bt.left-Pt.left,xn=bt.left-An,Bn=wt.left-xn,Yn=wt.width+Bn,Vn=Math.max(Yn,Pt.width),sr=window.innerWidth-CONTENT_MARGIN,Xn=clamp$2(xn,[CONTENT_MARGIN,sr-Vn]);rt.style.minWidth=Yn+"px",rt.style.left=Xn+"px"}else{const An=Pt.right-Bt.right,xn=window.innerWidth-bt.right-An,Bn=window.innerWidth-wt.right-xn,Yn=wt.width+Bn,Vn=Math.max(Yn,Pt.width),sr=window.innerWidth-CONTENT_MARGIN,Xn=clamp$2(xn,[CONTENT_MARGIN,sr-Vn]);rt.style.minWidth=Yn+"px",rt.style.right=Xn+"px"}const Yt=at(),rn=window.innerHeight-CONTENT_MARGIN*2,hn=mt.scrollHeight,Vt=window.getComputedStyle(it),Xt=parseInt(Vt.borderTopWidth,10),en=parseInt(Vt.paddingTop,10),cn=parseInt(Vt.borderBottomWidth,10),qt=parseInt(Vt.paddingBottom,10),Wt=Xt+en+hn+qt+cn,sn=Math.min(xt.offsetHeight*5,Wt),Qt=window.getComputedStyle(mt),tn=parseInt(Qt.paddingTop,10),vn=parseInt(Qt.paddingBottom,10),un=wt.top+wt.height/2-CONTENT_MARGIN,mn=rn-un,_n=xt.offsetHeight/2,Jt=xt.offsetTop+_n,gn=Xt+en+Jt,Zt=Wt-gn;if(gn<=un){const An=xt===Yt[Yt.length-1].ref.current;rt.style.bottom="0px";const xn=it.clientHeight-mt.offsetTop-mt.offsetHeight,Bn=Math.max(mn,_n+(An?vn:0)+xn+cn),Yn=gn+Bn;rt.style.height=Yn+"px"}else{const An=xt===Yt[0].ref.current;rt.style.top="0px";const Bn=Math.max(un,Xt+mt.offsetTop+(An?tn:0)+_n)+Zt;rt.style.height=Bn+"px",mt.scrollTop=gn-un+mt.offsetTop}rt.style.margin=`${CONTENT_MARGIN}px 0`,rt.style.minHeight=sn+"px",rt.style.maxHeight=rn+"px",_e==null||_e(),requestAnimationFrame(()=>ft.current=!0)}},[at,tt.trigger,tt.valueNode,rt,it,mt,xt,ht,tt.dir,_e]);useLayoutEffect2(()=>Et(),[Et]);const[St,At]=reactExports.useState();useLayoutEffect2(()=>{it&&At(window.getComputedStyle(it).zIndex)},[it]);const $t=reactExports.useCallback(wt=>{wt&&dt.current===!0&&(Et(),gt==null||gt(),dt.current=!1)},[Et,gt]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:$,contentWrapper:rt,shouldExpandOnScrollRef:ft,onScrollButtonChange:$t,children:jsxRuntimeExports.jsx("div",{ref:st,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:St},children:jsxRuntimeExports.jsx(Primitive.div,{...et,ref:ot,style:{boxSizing:"border-box",maxHeight:"100%",...et.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,align:_e="start",collisionPadding:et=CONTENT_MARGIN,...tt}=b,nt=usePopperScope$1($);return jsxRuntimeExports.jsx(Content,{...nt,...tt,ref:j,align:_e,collisionPadding:et,style:{boxSizing:"border-box",...tt.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$1,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,nonce:_e,...et}=b,tt=useSelectContentContext(VIEWPORT_NAME$1,$),nt=useSelectViewportContext(VIEWPORT_NAME$1,$),rt=useComposedRefs(j,tt.onViewportChange),st=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:_e}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:$,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...et,ref:rt,style:{position:"relative",flex:1,overflow:"auto",...et.style},onScroll:composeEventHandlers(et.onScroll,it=>{const ct=it.currentTarget,{contentWrapper:ot,shouldExpandOnScrollRef:at}=nt;if(at!=null&&at.current&&ot){const ft=Math.abs(st.current-ct.scrollTop);if(ft>0){const dt=window.innerHeight-CONTENT_MARGIN*2,mt=parseFloat(ot.style.minHeight),xt=parseFloat(ot.style.height),ht=Math.max(mt,xt);if(ht<dt){const gt=ht+ft,Et=Math.min(dt,gt),St=gt-Et;ot.style.height=Et+"px",ot.style.bottom==="0px"&&(ct.scrollTop=St>0?St:0,ot.style.justifyContent="flex-end")}}}st.current=ct.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,..._e}=b,et=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:$,id:et,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":et,..._e,ref:j})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,..._e}=b,et=useSelectGroupContext(LABEL_NAME,$);return jsxRuntimeExports.jsx(Primitive.div,{id:et.id,..._e,ref:j})});SelectLabel.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,value:_e,disabled:et=!1,textValue:tt,...nt}=b,rt=useSelectContext(ITEM_NAME,$),st=useSelectContentContext(ITEM_NAME,$),it=rt.value===_e,[ct,ot]=reactExports.useState(tt??""),[at,ft]=reactExports.useState(!1),dt=useComposedRefs(j,ht=>{var gt;return(gt=st.itemRefCallback)==null?void 0:gt.call(st,ht,_e,et)}),mt=useId(),xt=()=>{et||(rt.onValueChange(_e),rt.onOpenChange(!1))};if(_e==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:$,value:_e,disabled:et,textId:mt,isSelected:it,onItemTextChange:reactExports.useCallback(ht=>{ot(gt=>gt||((ht==null?void 0:ht.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:$,value:_e,disabled:et,textValue:ct,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":mt,"data-highlighted":at?"":void 0,"aria-selected":it&&at,"data-state":it?"checked":"unchecked","aria-disabled":et||void 0,"data-disabled":et?"":void 0,tabIndex:et?void 0:-1,...nt,ref:dt,onFocus:composeEventHandlers(nt.onFocus,()=>ft(!0)),onBlur:composeEventHandlers(nt.onBlur,()=>ft(!1)),onPointerUp:composeEventHandlers(nt.onPointerUp,xt),onPointerMove:composeEventHandlers(nt.onPointerMove,ht=>{var gt;et?(gt=st.onItemLeave)==null||gt.call(st):ht.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(nt.onPointerLeave,ht=>{var gt;ht.currentTarget===document.activeElement&&((gt=st.onItemLeave)==null||gt.call(st))}),onKeyDown:composeEventHandlers(nt.onKeyDown,ht=>{var Et;((Et=st.searchRef)==null?void 0:Et.current)!==""&&ht.key===" "||(SELECTION_KEYS.includes(ht.key)&&xt(),ht.key===" "&&ht.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,className:_e,style:et,...tt}=b,nt=useSelectContext(ITEM_TEXT_NAME,$),rt=useSelectContentContext(ITEM_TEXT_NAME,$),st=useSelectItemContext(ITEM_TEXT_NAME,$),it=useSelectNativeOptionsContext(ITEM_TEXT_NAME,$),[ct,ot]=reactExports.useState(null),at=useComposedRefs(j,ht=>ot(ht),st.onItemTextChange,ht=>{var gt;return(gt=rt.itemTextRefCallback)==null?void 0:gt.call(rt,ht,st.value,st.disabled)}),ft=ct==null?void 0:ct.textContent,dt=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:st.value,disabled:st.disabled,children:ft},st.value),[st.disabled,st.value,ft]),{onNativeOptionAdd:mt,onNativeOptionRemove:xt}=it;return useLayoutEffect2(()=>(mt(dt),()=>xt(dt)),[mt,xt,dt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:st.textId,...tt,ref:at}),st.isSelected&&nt.valueNode&&!nt.valueNodeHasChildren?reactDomExports.createPortal(tt.children,nt.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,..._e}=b;return useSelectItemContext(ITEM_INDICATOR_NAME,$).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,..._e,ref:j}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton=reactExports.forwardRef((b,j)=>{const $=useSelectContentContext(SCROLL_UP_BUTTON_NAME,b.__scopeSelect),_e=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,b.__scopeSelect),[et,tt]=reactExports.useState(!1),nt=useComposedRefs(j,_e.onScrollButtonChange);return useLayoutEffect2(()=>{if($.viewport&&$.isPositioned){let rt=function(){const it=st.scrollTop>0;tt(it)};const st=$.viewport;return rt(),st.addEventListener("scroll",rt),()=>st.removeEventListener("scroll",rt)}},[$.viewport,$.isPositioned]),et?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...b,ref:nt,onAutoScroll:()=>{const{viewport:rt,selectedItem:st}=$;rt&&st&&(rt.scrollTop=rt.scrollTop-st.offsetHeight)}}):null});SelectScrollUpButton.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton=reactExports.forwardRef((b,j)=>{const $=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,b.__scopeSelect),_e=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,b.__scopeSelect),[et,tt]=reactExports.useState(!1),nt=useComposedRefs(j,_e.onScrollButtonChange);return useLayoutEffect2(()=>{if($.viewport&&$.isPositioned){let rt=function(){const it=st.scrollHeight-st.clientHeight,ct=Math.ceil(st.scrollTop)<it;tt(ct)};const st=$.viewport;return rt(),st.addEventListener("scroll",rt),()=>st.removeEventListener("scroll",rt)}},[$.viewport,$.isPositioned]),et?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...b,ref:nt,onAutoScroll:()=>{const{viewport:rt,selectedItem:st}=$;rt&&st&&(rt.scrollTop=rt.scrollTop+st.offsetHeight)}}):null});SelectScrollDownButton.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,onAutoScroll:_e,...et}=b,tt=useSelectContentContext("SelectScrollButton",$),nt=reactExports.useRef(null),rt=useCollection$1($),st=reactExports.useCallback(()=>{nt.current!==null&&(window.clearInterval(nt.current),nt.current=null)},[]);return reactExports.useEffect(()=>()=>st(),[st]),useLayoutEffect2(()=>{var ct;const it=rt().find(ot=>ot.ref.current===document.activeElement);(ct=it==null?void 0:it.ref.current)==null||ct.scrollIntoView({block:"nearest"})},[rt]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...et,ref:j,style:{flexShrink:0,...et.style},onPointerDown:composeEventHandlers(et.onPointerDown,()=>{nt.current===null&&(nt.current=window.setInterval(_e,50))}),onPointerMove:composeEventHandlers(et.onPointerMove,()=>{var it;(it=tt.onItemLeave)==null||it.call(tt),nt.current===null&&(nt.current=window.setInterval(_e,50))}),onPointerLeave:composeEventHandlers(et.onPointerLeave,()=>{st()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,..._e}=b;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,..._e,ref:j})});SelectSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME$1="SelectArrow",SelectArrow=reactExports.forwardRef((b,j)=>{const{__scopeSelect:$,..._e}=b,et=usePopperScope$1($),tt=useSelectContext(ARROW_NAME$1,$),nt=useSelectContentContext(ARROW_NAME$1,$);return tt.open&&nt.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...et,..._e,ref:j}):null});SelectArrow.displayName=ARROW_NAME$1;function shouldShowPlaceholder(b){return b===""||b===void 0}var BubbleSelect=reactExports.forwardRef((b,j)=>{const{value:$,..._e}=b,et=reactExports.useRef(null),tt=useComposedRefs(j,et),nt=usePrevious($);return reactExports.useEffect(()=>{const rt=et.current,st=window.HTMLSelectElement.prototype,ct=Object.getOwnPropertyDescriptor(st,"value").set;if(nt!==$&&ct){const ot=new Event("change",{bubbles:!0});ct.call(rt,$),rt.dispatchEvent(ot)}},[nt,$]),jsxRuntimeExports.jsx(VisuallyHidden,{asChild:!0,children:jsxRuntimeExports.jsx("select",{..._e,ref:tt,defaultValue:$})})});BubbleSelect.displayName="BubbleSelect";function useTypeaheadSearch(b){const j=useCallbackRef$1(b),$=reactExports.useRef(""),_e=reactExports.useRef(0),et=reactExports.useCallback(nt=>{const rt=$.current+nt;j(rt),function st(it){$.current=it,window.clearTimeout(_e.current),it!==""&&(_e.current=window.setTimeout(()=>st(""),1e3))}(rt)},[j]),tt=reactExports.useCallback(()=>{$.current="",window.clearTimeout(_e.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(_e.current),[]),[$,et,tt]}function findNextItem(b,j,$){const et=j.length>1&&Array.from(j).every(it=>it===j[0])?j[0]:j,tt=$?b.indexOf($):-1;let nt=wrapArray(b,Math.max(tt,0));et.length===1&&(nt=nt.filter(it=>it!==$));const st=nt.find(it=>it.textValue.toLowerCase().startsWith(et.toLowerCase()));return st!==$?st:void 0}function wrapArray(b,j){return b.map(($,_e)=>b[(j+_e)%b.length])}var Root2$1=Select$1,Trigger$1=SelectTrigger,Value=SelectValue,Icon=SelectIcon,Portal$1=SelectPortal,Content2$1=SelectContent,Viewport$1=SelectViewport,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton,ScrollDownButton=SelectScrollDownButton;const SelectItem=({children:b,...j})=>jsxRuntimeExports.jsxs(Item,{className:"q-select-item",...j,children:[jsxRuntimeExports.jsx(ItemText,{children:b}),jsxRuntimeExports.jsx(ItemIndicator,{className:"q-select-item-indicator",children:jsxRuntimeExports.jsx(CheckIcon,{})})]}),Select=({options:b,placeholder:j,label:$,value:_e,name:et,onValueChange:tt})=>jsxRuntimeExports.jsxs(Root2$1,{value:_e,onValueChange:tt,name:et,children:[jsxRuntimeExports.jsxs(Trigger$1,{className:"q-select","aria-label":$,children:[jsxRuntimeExports.jsx(Value,{placeholder:j}),jsxRuntimeExports.jsx(Icon,{className:"q-select-icon",children:jsxRuntimeExports.jsx(ChevronDownIcon,{})})]}),jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$1,{className:"q-select-content",children:[jsxRuntimeExports.jsx(ScrollUpButton,{className:"q-select-scroll-button",children:jsxRuntimeExports.jsx(ChevronUpIcon,{})}),jsxRuntimeExports.jsx(Viewport$1,{className:"SelectViewport",children:b.map(nt=>jsxRuntimeExports.jsx(SelectItem,{value:nt.value,children:nt.label},nt.value))}),jsxRuntimeExports.jsx(ScrollDownButton,{className:"q-select-scroll-button",children:jsxRuntimeExports.jsx(ChevronDownIcon,{})})]})})]});var[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME$1="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME$1),TooltipProvider=b=>{const{__scopeTooltip:j,delayDuration:$=DEFAULT_DELAY_DURATION,skipDelayDuration:_e=300,disableHoverableContent:et=!1,children:tt}=b,[nt,rt]=reactExports.useState(!0),st=reactExports.useRef(!1),it=reactExports.useRef(0);return reactExports.useEffect(()=>{const ct=it.current;return()=>window.clearTimeout(ct)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:j,isOpenDelayed:nt,delayDuration:$,onOpen:reactExports.useCallback(()=>{window.clearTimeout(it.current),rt(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(it.current),it.current=window.setTimeout(()=>rt(!0),_e)},[_e]),isPointerInTransitRef:st,onPointerInTransitChange:reactExports.useCallback(ct=>{st.current=ct},[]),disableHoverableContent:et,children:tt})};TooltipProvider.displayName=PROVIDER_NAME$1;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip$1=b=>{const{__scopeTooltip:j,children:$,open:_e,defaultOpen:et=!1,onOpenChange:tt,disableHoverableContent:nt,delayDuration:rt}=b,st=useTooltipProviderContext(TOOLTIP_NAME,b.__scopeTooltip),it=usePopperScope(j),[ct,ot]=reactExports.useState(null),at=useId(),ft=reactExports.useRef(0),dt=nt??st.disableHoverableContent,mt=rt??st.delayDuration,xt=reactExports.useRef(!1),[ht=!1,gt]=useControllableState({prop:_e,defaultProp:et,onChange:wt=>{wt?(st.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):st.onClose(),tt==null||tt(wt)}}),Et=reactExports.useMemo(()=>ht?xt.current?"delayed-open":"instant-open":"closed",[ht]),St=reactExports.useCallback(()=>{window.clearTimeout(ft.current),xt.current=!1,gt(!0)},[gt]),At=reactExports.useCallback(()=>{window.clearTimeout(ft.current),gt(!1)},[gt]),$t=reactExports.useCallback(()=>{window.clearTimeout(ft.current),ft.current=window.setTimeout(()=>{xt.current=!0,gt(!0)},mt)},[mt,gt]);return reactExports.useEffect(()=>()=>window.clearTimeout(ft.current),[]),jsxRuntimeExports.jsx(Root2$4,{...it,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:j,contentId:at,open:ht,stateAttribute:Et,trigger:ct,onTriggerChange:ot,onTriggerEnter:reactExports.useCallback(()=>{st.isOpenDelayed?$t():St()},[st.isOpenDelayed,$t,St]),onTriggerLeave:reactExports.useCallback(()=>{dt?At():window.clearTimeout(ft.current)},[At,dt]),onOpen:St,onClose:At,disableHoverableContent:dt,children:$})})};Tooltip$1.displayName=TOOLTIP_NAME;var TRIGGER_NAME="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((b,j)=>{const{__scopeTooltip:$,..._e}=b,et=useTooltipContext(TRIGGER_NAME,$),tt=useTooltipProviderContext(TRIGGER_NAME,$),nt=usePopperScope($),rt=reactExports.useRef(null),st=useComposedRefs(j,rt,et.onTriggerChange),it=reactExports.useRef(!1),ct=reactExports.useRef(!1),ot=reactExports.useCallback(()=>it.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",ot),[ot]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...nt,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":et.open?et.contentId:void 0,"data-state":et.stateAttribute,..._e,ref:st,onPointerMove:composeEventHandlers(b.onPointerMove,at=>{at.pointerType!=="touch"&&!ct.current&&!tt.isPointerInTransitRef.current&&(et.onTriggerEnter(),ct.current=!0)}),onPointerLeave:composeEventHandlers(b.onPointerLeave,()=>{et.onTriggerLeave(),ct.current=!1}),onPointerDown:composeEventHandlers(b.onPointerDown,()=>{it.current=!0,document.addEventListener("pointerup",ot,{once:!0})}),onFocus:composeEventHandlers(b.onFocus,()=>{it.current||et.onOpen()}),onBlur:composeEventHandlers(b.onBlur,et.onClose),onClick:composeEventHandlers(b.onClick,et.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),TooltipPortal=b=>{const{__scopeTooltip:j,forceMount:$,children:_e,container:et}=b,tt=useTooltipContext(PORTAL_NAME,j);return jsxRuntimeExports.jsx(PortalProvider,{scope:j,forceMount:$,children:jsxRuntimeExports.jsx(Presence,{present:$||tt.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:et,children:_e})})})};TooltipPortal.displayName=PORTAL_NAME;var CONTENT_NAME="TooltipContent",TooltipContent=reactExports.forwardRef((b,j)=>{const $=usePortalContext(CONTENT_NAME,b.__scopeTooltip),{forceMount:_e=$.forceMount,side:et="top",...tt}=b,nt=useTooltipContext(CONTENT_NAME,b.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:_e||nt.open,children:nt.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:et,...tt,ref:j}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:et,...tt,ref:j})})}),TooltipContentHoverable=reactExports.forwardRef((b,j)=>{const $=useTooltipContext(CONTENT_NAME,b.__scopeTooltip),_e=useTooltipProviderContext(CONTENT_NAME,b.__scopeTooltip),et=reactExports.useRef(null),tt=useComposedRefs(j,et),[nt,rt]=reactExports.useState(null),{trigger:st,onClose:it}=$,ct=et.current,{onPointerInTransitChange:ot}=_e,at=reactExports.useCallback(()=>{rt(null),ot(!1)},[ot]),ft=reactExports.useCallback((dt,mt)=>{const xt=dt.currentTarget,ht={x:dt.clientX,y:dt.clientY},gt=getExitSideFromRect(ht,xt.getBoundingClientRect()),Et=getPaddedExitPoints(ht,gt),St=getPointsFromRect(mt.getBoundingClientRect()),At=getHull([...Et,...St]);rt(At),ot(!0)},[ot]);return reactExports.useEffect(()=>()=>at(),[at]),reactExports.useEffect(()=>{if(st&&ct){const dt=xt=>ft(xt,ct),mt=xt=>ft(xt,st);return st.addEventListener("pointerleave",dt),ct.addEventListener("pointerleave",mt),()=>{st.removeEventListener("pointerleave",dt),ct.removeEventListener("pointerleave",mt)}}},[st,ct,ft,at]),reactExports.useEffect(()=>{if(nt){const dt=mt=>{const xt=mt.target,ht={x:mt.clientX,y:mt.clientY},gt=(st==null?void 0:st.contains(xt))||(ct==null?void 0:ct.contains(xt)),Et=!isPointInPolygon(ht,nt);gt?at():Et&&(at(),it())};return document.addEventListener("pointermove",dt),()=>document.removeEventListener("pointermove",dt)}},[st,ct,nt,it,at]),jsxRuntimeExports.jsx(TooltipContentImpl,{...b,ref:tt})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((b,j)=>{const{__scopeTooltip:$,children:_e,"aria-label":et,onEscapeKeyDown:tt,onPointerDownOutside:nt,...rt}=b,st=useTooltipContext(CONTENT_NAME,$),it=usePopperScope($),{onClose:ct}=st;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,ct),()=>document.removeEventListener(TOOLTIP_OPEN,ct)),[ct]),reactExports.useEffect(()=>{if(st.trigger){const ot=at=>{const ft=at.target;ft!=null&&ft.contains(st.trigger)&&ct()};return window.addEventListener("scroll",ot,{capture:!0}),()=>window.removeEventListener("scroll",ot,{capture:!0})}},[st.trigger,ct]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:tt,onPointerDownOutside:nt,onFocusOutside:ot=>ot.preventDefault(),onDismiss:ct,children:jsxRuntimeExports.jsxs(Content,{"data-state":st.stateAttribute,...it,...rt,ref:j,style:{...rt.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:_e}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:$,isInside:!0,children:jsxRuntimeExports.jsx(Root$1,{id:st.contentId,role:"tooltip",children:et||_e})})]})})});TooltipContent.displayName=CONTENT_NAME;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((b,j)=>{const{__scopeTooltip:$,..._e}=b,et=usePopperScope($);return useVisuallyHiddenContentContext(ARROW_NAME,$).isInside?null:jsxRuntimeExports.jsx(Arrow,{...et,..._e,ref:j})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(b,j){const $=Math.abs(j.top-b.y),_e=Math.abs(j.bottom-b.y),et=Math.abs(j.right-b.x),tt=Math.abs(j.left-b.x);switch(Math.min($,_e,et,tt)){case tt:return"left";case et:return"right";case $:return"top";case _e:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(b,j,$=5){const _e=[];switch(j){case"top":_e.push({x:b.x-$,y:b.y+$},{x:b.x+$,y:b.y+$});break;case"bottom":_e.push({x:b.x-$,y:b.y-$},{x:b.x+$,y:b.y-$});break;case"left":_e.push({x:b.x+$,y:b.y-$},{x:b.x+$,y:b.y+$});break;case"right":_e.push({x:b.x-$,y:b.y-$},{x:b.x-$,y:b.y+$});break}return _e}function getPointsFromRect(b){const{top:j,right:$,bottom:_e,left:et}=b;return[{x:et,y:j},{x:$,y:j},{x:$,y:_e},{x:et,y:_e}]}function isPointInPolygon(b,j){const{x:$,y:_e}=b;let et=!1;for(let tt=0,nt=j.length-1;tt<j.length;nt=tt++){const rt=j[tt].x,st=j[tt].y,it=j[nt].x,ct=j[nt].y;st>_e!=ct>_e&&$<(it-rt)*(_e-st)/(ct-st)+rt&&(et=!et)}return et}function getHull(b){const j=b.slice();return j.sort(($,_e)=>$.x<_e.x?-1:$.x>_e.x?1:$.y<_e.y?-1:$.y>_e.y?1:0),getHullPresorted(j)}function getHullPresorted(b){if(b.length<=1)return b.slice();const j=[];for(let _e=0;_e<b.length;_e++){const et=b[_e];for(;j.length>=2;){const tt=j[j.length-1],nt=j[j.length-2];if((tt.x-nt.x)*(et.y-nt.y)>=(tt.y-nt.y)*(et.x-nt.x))j.pop();else break}j.push(et)}j.pop();const $=[];for(let _e=b.length-1;_e>=0;_e--){const et=b[_e];for(;$.length>=2;){const tt=$[$.length-1],nt=$[$.length-2];if((tt.x-nt.x)*(et.y-nt.y)>=(tt.y-nt.y)*(et.x-nt.x))$.pop();else break}$.push(et)}return $.pop(),j.length===1&&$.length===1&&j[0].x===$[0].x&&j[0].y===$[0].y?j:j.concat($)}var Provider$1=TooltipProvider,Root3=Tooltip$1,Trigger=TooltipTrigger,Portal=TooltipPortal,Content2=TooltipContent,Arrow2=TooltipArrow;const Tooltip=({children:b,content:j})=>jsxRuntimeExports.jsx(Provider$1,{children:jsxRuntimeExports.jsxs(Root3,{children:[jsxRuntimeExports.jsx(Trigger,{asChild:!0,children:b}),jsxRuntimeExports.jsx(Portal,{container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsxs(Content2,{className:"q-tooltip",sideOffset:5,children:[j,jsxRuntimeExports.jsx(Arrow2,{className:"q-tooltip-arrow"})]})})]})});var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((b,j)=>{const{__scopeSwitch:$,name:_e,checked:et,defaultChecked:tt,required:nt,disabled:rt,value:st="on",onCheckedChange:it,...ct}=b,[ot,at]=reactExports.useState(null),ft=useComposedRefs(j,gt=>at(gt)),dt=reactExports.useRef(!1),mt=ot?!!ot.closest("form"):!0,[xt=!1,ht]=useControllableState({prop:et,defaultProp:tt,onChange:it});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:$,checked:xt,disabled:rt,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":xt,"aria-required":nt,"data-state":getState(xt),"data-disabled":rt?"":void 0,disabled:rt,value:st,...ct,ref:ft,onClick:composeEventHandlers(b.onClick,gt=>{ht(Et=>!Et),mt&&(dt.current=gt.isPropagationStopped(),dt.current||gt.stopPropagation())})}),mt&&jsxRuntimeExports.jsx(BubbleInput,{control:ot,bubbles:!dt.current,name:_e,value:st,checked:xt,required:nt,disabled:rt,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((b,j)=>{const{__scopeSwitch:$,..._e}=b,et=useSwitchContext(THUMB_NAME,$);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(et.checked),"data-disabled":et.disabled?"":void 0,..._e,ref:j})});SwitchThumb.displayName=THUMB_NAME;var BubbleInput=b=>{const{control:j,checked:$,bubbles:_e=!0,...et}=b,tt=reactExports.useRef(null),nt=usePrevious($),rt=useSize(j);return reactExports.useEffect(()=>{const st=tt.current,it=window.HTMLInputElement.prototype,ot=Object.getOwnPropertyDescriptor(it,"checked").set;if(nt!==$&&ot){const at=new Event("click",{bubbles:_e});ot.call(st,$),st.dispatchEvent(at)}},[nt,$,_e]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:$,...et,tabIndex:-1,ref:tt,style:{...b.style,...rt,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState(b){return b?"checked":"unchecked"}var Root=Switch$1,Thumb=SwitchThumb;const Switch=({checked:b,disabled:j,onChange:$})=>jsxRuntimeExports.jsx(Root,{className:"q-switch",checked:b,disabled:j,onCheckedChange:$,children:jsxRuntimeExports.jsx(Thumb,{className:"q-switch-thumb"})}),sortOptions=[{label:"Title",value:"title"},{label:"Size",value:"file_size"},{label:"Last Updated",value:"mod_date"}];loadQspCatalog();const QspCatalog=()=>{const{t:b}=useTranslation(),j=useAtom_2(catalogLoading$),$=useAtom_2(qspCatalogPreparedList$),_e=useAtom_2(qspAuthors$),et=useAtom_2(qspAuthorFilter$),tt=useAtom_2(qspSortByField$),nt=useAtom_2(qspSortDirection$),rt=useAtom_2(qspTitleSearch$),st=useAtom_2(onlyAero$);return(j==="pending"||j==="loading")&&!$.length?jsxRuntimeExports.jsx(QspiderLoader,{}):j==="failed"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[b("Loading failed"),jsxRuntimeExports.jsx("button",{onClick:()=>{loadQspCatalog()},children:b("Retry")})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar",children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{children:[b("Filter by Author"),":"]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-group",children:[jsxRuntimeExports.jsx(Select,{name:"author-filter",options:_e.map(it=>({label:it,value:it})),placeholder:"",label:"Author",value:et,onValueChange:it=>qspAuthorFilter$.set(it)}),et?jsxRuntimeExports.jsx(Tooltip,{content:b("Clear Author filter"),children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button","aria-label":b("Clear Author filter")??"",onClick:()=>qspAuthorFilter$.set(""),children:jsxRuntimeExports.jsx(Cross1Icon,{})})}):null]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{children:[b("Sort by"),":"]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-group",children:[jsxRuntimeExports.jsx(Select,{options:sortOptions.map(it=>({...it,label:b(it.label)})),placeholder:b("Sort by"),label:b("Sort field"),value:tt,onValueChange:it=>qspSortByField$.set(it)}),jsxRuntimeExports.jsx(Tooltip,{content:nt==="asc"?b("Sort Ascending")||"":b("Sort Descending")||"",children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",onClick:toggleSortDirection,"aria-label":nt==="asc"?b("Sort Ascending")||"":b("Sort Descending")||"",children:nt==="asc"?jsxRuntimeExports.jsx(DoubleArrowDownIcon,{}):jsxRuntimeExports.jsx(DoubleArrowUpIcon,{})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsx("label",{htmlFor:"only-aero",children:b("Aero games")}),jsxRuntimeExports.jsx(Switch,{checked:st,onChange:it=>onlyAero$.set(it)})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"search-input",children:[b("Search"),":"]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{name:"search-input",type:"text",className:"q-input",value:rt,onInput:it=>qspTitleSearch$.set(it.target.value)})})]})]}),jsxRuntimeExports.jsx("div",{className:"q-catalog__list",children:$.map(it=>jsxRuntimeExports.jsx(CatalogGameCard,{game:it},it.id))})]})},QspiderThemeSwitch=()=>{const{t:b}=useTranslation();return jsxRuntimeExports.jsx(Tooltip,{content:b("Toggle theme")??"",children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button","aria-label":b("toggle a light and dark color scheme")??"",onClick:toggleTheme,children:jsxRuntimeExports.jsx(SunIcon,{})})})},LocaleSelector=()=>{const{i18n:b}=useTranslation();return jsxRuntimeExports.jsx(Select,{options:locales$1,placeholder:"",label:"",value:b.language,onValueChange:j=>{b.changeLanguage(j)}})},QspiderPlayer=()=>{const{t:b}=useTranslation(),j=useComponent(ProvidedComponents.OpenGameButton),$=useAtom_2(currentMode$);return jsxRuntimeExports.jsxs("div",{className:"qspider-player",children:[jsxRuntimeExports.jsxs("nav",{className:"qspider-navbar",children:[jsxRuntimeExports.jsx("div",{className:"qspider-logo",children:"spider"}),jsxRuntimeExports.jsxs("div",{className:"qspider-nav",children:[jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",onClick:_e=>{_e.preventDefault(),navigateTo("")},className:$==="shelf"?"qspider-active":"",children:b("Game Shelf")})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",onClick:_e=>{_e.preventDefault(),navigateTo("catalog")},className:$==="catalog"?"qspider-active":"",children:b("Qsp Game Catalog")})})]}),jsxRuntimeExports.jsxs("div",{className:"qspider-block",children:[jsxRuntimeExports.jsx(j,{}),jsxRuntimeExports.jsx(LocaleSelector,{}),jsxRuntimeExports.jsx(QspiderThemeSwitch,{})]})]})]}),jsxRuntimeExports.jsxs("main",{className:"qspider-player-main",children:[$==="shelf"&&jsxRuntimeExports.jsx(GameShelf,{}),$==="catalog"&&jsxRuntimeExports.jsx(QspCatalog,{})]})]})},PlayerWithShelf=()=>useAtom_2(currentMode$)==="game"?jsxRuntimeExports.jsx(GameRunner,{}):jsxRuntimeExports.jsx(QspiderPlayer,{});var PROVIDER_NAME="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),ToastProvider=b=>{const{__scopeToast:j,label:$="Notification",duration:_e=5e3,swipeDirection:et="right",swipeThreshold:tt=50,children:nt}=b,[rt,st]=reactExports.useState(null),[it,ct]=reactExports.useState(0),ot=reactExports.useRef(!1),at=reactExports.useRef(!1);return $.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:j,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:j,label:$,duration:_e,swipeDirection:et,swipeThreshold:tt,toastCount:it,viewport:rt,onViewportChange:st,onToastAdd:reactExports.useCallback(()=>ct(ft=>ft+1),[]),onToastRemove:reactExports.useCallback(()=>ct(ft=>ft-1),[]),isFocusedToastEscapeKeyDownRef:ot,isClosePausedRef:at,children:nt})})};ToastProvider.displayName=PROVIDER_NAME;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport=reactExports.forwardRef((b,j)=>{const{__scopeToast:$,hotkey:_e=VIEWPORT_DEFAULT_HOTKEY,label:et="Notifications ({hotkey})",...tt}=b,nt=useToastProviderContext(VIEWPORT_NAME,$),rt=useCollection($),st=reactExports.useRef(null),it=reactExports.useRef(null),ct=reactExports.useRef(null),ot=reactExports.useRef(null),at=useComposedRefs(j,ot,nt.onViewportChange),ft=_e.join("+").replace(/Key/g,"").replace(/Digit/g,""),dt=nt.toastCount>0;reactExports.useEffect(()=>{const xt=ht=>{var Et;_e.every(St=>ht[St]||ht.code===St)&&((Et=ot.current)==null||Et.focus())};return document.addEventListener("keydown",xt),()=>document.removeEventListener("keydown",xt)},[_e]),reactExports.useEffect(()=>{const xt=st.current,ht=ot.current;if(dt&&xt&&ht){const gt=()=>{if(!nt.isClosePausedRef.current){const $t=new CustomEvent(VIEWPORT_PAUSE);ht.dispatchEvent($t),nt.isClosePausedRef.current=!0}},Et=()=>{if(nt.isClosePausedRef.current){const $t=new CustomEvent(VIEWPORT_RESUME);ht.dispatchEvent($t),nt.isClosePausedRef.current=!1}},St=$t=>{!xt.contains($t.relatedTarget)&&Et()},At=()=>{xt.contains(document.activeElement)||Et()};return xt.addEventListener("focusin",gt),xt.addEventListener("focusout",St),xt.addEventListener("pointermove",gt),xt.addEventListener("pointerleave",At),window.addEventListener("blur",gt),window.addEventListener("focus",Et),()=>{xt.removeEventListener("focusin",gt),xt.removeEventListener("focusout",St),xt.removeEventListener("pointermove",gt),xt.removeEventListener("pointerleave",At),window.removeEventListener("blur",gt),window.removeEventListener("focus",Et)}}},[dt,nt.isClosePausedRef]);const mt=reactExports.useCallback(({tabbingDirection:xt})=>{const gt=rt().map(Et=>{const St=Et.ref.current,At=[St,...getTabbableCandidates(St)];return xt==="forwards"?At:At.reverse()});return(xt==="forwards"?gt.reverse():gt).flat()},[rt]);return reactExports.useEffect(()=>{const xt=ot.current;if(xt){const ht=gt=>{var At,$t,wt;const Et=gt.altKey||gt.ctrlKey||gt.metaKey;if(gt.key==="Tab"&&!Et){const Pt=document.activeElement,bt=gt.shiftKey;if(gt.target===xt&&bt){(At=it.current)==null||At.focus();return}const rn=mt({tabbingDirection:bt?"backwards":"forwards"}),hn=rn.findIndex(Vt=>Vt===Pt);focusFirst(rn.slice(hn+1))?gt.preventDefault():bt?($t=it.current)==null||$t.focus():(wt=ct.current)==null||wt.focus()}};return xt.addEventListener("keydown",ht),()=>xt.removeEventListener("keydown",ht)}},[rt,mt]),jsxRuntimeExports.jsxs(Branch,{ref:st,role:"region","aria-label":et.replace("{hotkey}",ft),tabIndex:-1,style:{pointerEvents:dt?void 0:"none"},children:[dt&&jsxRuntimeExports.jsx(FocusProxy,{ref:it,onFocusFromOutsideViewport:()=>{const xt=mt({tabbingDirection:"forwards"});focusFirst(xt)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:$,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...tt,ref:at})}),dt&&jsxRuntimeExports.jsx(FocusProxy,{ref:ct,onFocusFromOutsideViewport:()=>{const xt=mt({tabbingDirection:"backwards"});focusFirst(xt)}})]})});ToastViewport.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((b,j)=>{const{__scopeToast:$,onFocusFromOutsideViewport:_e,...et}=b,tt=useToastProviderContext(FOCUS_PROXY_NAME,$);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...et,ref:j,style:{position:"fixed"},onFocus:nt=>{var it;const rt=nt.relatedTarget;!((it=tt.viewport)!=null&&it.contains(rt))&&_e()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast=reactExports.forwardRef((b,j)=>{const{forceMount:$,open:_e,defaultOpen:et,onOpenChange:tt,...nt}=b,[rt=!0,st]=useControllableState({prop:_e,defaultProp:et,onChange:tt});return jsxRuntimeExports.jsx(Presence,{present:$||rt,children:jsxRuntimeExports.jsx(ToastImpl,{open:rt,...nt,ref:j,onClose:()=>st(!1),onPause:useCallbackRef$1(b.onPause),onResume:useCallbackRef$1(b.onResume),onSwipeStart:composeEventHandlers(b.onSwipeStart,it=>{it.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(b.onSwipeMove,it=>{const{x:ct,y:ot}=it.detail.delta;it.currentTarget.setAttribute("data-swipe","move"),it.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${ct}px`),it.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${ot}px`)}),onSwipeCancel:composeEventHandlers(b.onSwipeCancel,it=>{it.currentTarget.setAttribute("data-swipe","cancel"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),it.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),it.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(b.onSwipeEnd,it=>{const{x:ct,y:ot}=it.detail.delta;it.currentTarget.setAttribute("data-swipe","end"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),it.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),it.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${ct}px`),it.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${ot}px`),st(!1)})})})});Toast.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((b,j)=>{const{__scopeToast:$,type:_e="foreground",duration:et,open:tt,onClose:nt,onEscapeKeyDown:rt,onPause:st,onResume:it,onSwipeStart:ct,onSwipeMove:ot,onSwipeCancel:at,onSwipeEnd:ft,...dt}=b,mt=useToastProviderContext(TOAST_NAME,$),[xt,ht]=reactExports.useState(null),gt=useComposedRefs(j,Vt=>ht(Vt)),Et=reactExports.useRef(null),St=reactExports.useRef(null),At=et||mt.duration,$t=reactExports.useRef(0),wt=reactExports.useRef(At),Pt=reactExports.useRef(0),{onToastAdd:bt,onToastRemove:Bt}=mt,Yt=useCallbackRef$1(()=>{var Xt;(xt==null?void 0:xt.contains(document.activeElement))&&((Xt=mt.viewport)==null||Xt.focus()),nt()}),rn=reactExports.useCallback(Vt=>{!Vt||Vt===1/0||(window.clearTimeout(Pt.current),$t.current=new Date().getTime(),Pt.current=window.setTimeout(Yt,Vt))},[Yt]);reactExports.useEffect(()=>{const Vt=mt.viewport;if(Vt){const Xt=()=>{rn(wt.current),it==null||it()},en=()=>{const cn=new Date().getTime()-$t.current;wt.current=wt.current-cn,window.clearTimeout(Pt.current),st==null||st()};return Vt.addEventListener(VIEWPORT_PAUSE,en),Vt.addEventListener(VIEWPORT_RESUME,Xt),()=>{Vt.removeEventListener(VIEWPORT_PAUSE,en),Vt.removeEventListener(VIEWPORT_RESUME,Xt)}}},[mt.viewport,At,st,it,rn]),reactExports.useEffect(()=>{tt&&!mt.isClosePausedRef.current&&rn(At)},[tt,At,mt.isClosePausedRef,rn]),reactExports.useEffect(()=>(bt(),()=>Bt()),[bt,Bt]);const hn=reactExports.useMemo(()=>xt?getAnnounceTextContent(xt):null,[xt]);return mt.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[hn&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:$,role:"status","aria-live":_e==="foreground"?"assertive":"polite","aria-atomic":!0,children:hn}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:$,onClose:Yt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:$,children:jsxRuntimeExports.jsx(Root$7,{asChild:!0,onEscapeKeyDown:composeEventHandlers(rt,()=>{mt.isFocusedToastEscapeKeyDownRef.current||Yt(),mt.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":tt?"open":"closed","data-swipe-direction":mt.swipeDirection,...dt,ref:gt,style:{userSelect:"none",touchAction:"none",...b.style},onKeyDown:composeEventHandlers(b.onKeyDown,Vt=>{Vt.key==="Escape"&&(rt==null||rt(Vt.nativeEvent),Vt.nativeEvent.defaultPrevented||(mt.isFocusedToastEscapeKeyDownRef.current=!0,Yt()))}),onPointerDown:composeEventHandlers(b.onPointerDown,Vt=>{Vt.button===0&&(Et.current={x:Vt.clientX,y:Vt.clientY})}),onPointerMove:composeEventHandlers(b.onPointerMove,Vt=>{if(!Et.current)return;const Xt=Vt.clientX-Et.current.x,en=Vt.clientY-Et.current.y,cn=!!St.current,qt=["left","right"].includes(mt.swipeDirection),Wt=["left","up"].includes(mt.swipeDirection)?Math.min:Math.max,sn=qt?Wt(0,Xt):0,Qt=qt?0:Wt(0,en),tn=Vt.pointerType==="touch"?10:2,vn={x:sn,y:Qt},un={originalEvent:Vt,delta:vn};cn?(St.current=vn,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,ot,un,{discrete:!1})):isDeltaInDirection(vn,mt.swipeDirection,tn)?(St.current=vn,handleAndDispatchCustomEvent(TOAST_SWIPE_START,ct,un,{discrete:!1}),Vt.target.setPointerCapture(Vt.pointerId)):(Math.abs(Xt)>tn||Math.abs(en)>tn)&&(Et.current=null)}),onPointerUp:composeEventHandlers(b.onPointerUp,Vt=>{const Xt=St.current,en=Vt.target;if(en.hasPointerCapture(Vt.pointerId)&&en.releasePointerCapture(Vt.pointerId),St.current=null,Et.current=null,Xt){const cn=Vt.currentTarget,qt={originalEvent:Vt,delta:Xt};isDeltaInDirection(Xt,mt.swipeDirection,mt.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,ft,qt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,at,qt,{discrete:!0}),cn.addEventListener("click",Wt=>Wt.preventDefault(),{once:!0})}})})})}),mt.viewport)})]}):null}),ToastAnnounce=b=>{const{__scopeToast:j,children:$,..._e}=b,et=useToastProviderContext(TOAST_NAME,j),[tt,nt]=reactExports.useState(!1),[rt,st]=reactExports.useState(!1);return useNextFrame(()=>nt(!0)),reactExports.useEffect(()=>{const it=window.setTimeout(()=>st(!0),1e3);return()=>window.clearTimeout(it)},[]),rt?null:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{..._e,children:tt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et.label," ",$]})})})},TITLE_NAME="ToastTitle",ToastTitle=reactExports.forwardRef((b,j)=>{const{__scopeToast:$,..._e}=b;return jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:j})});ToastTitle.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription=reactExports.forwardRef((b,j)=>{const{__scopeToast:$,..._e}=b;return jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:j})});ToastDescription.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction=reactExports.forwardRef((b,j)=>{const{altText:$,..._e}=b;return $.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:$,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose,{..._e,ref:j})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose=reactExports.forwardRef((b,j)=>{const{__scopeToast:$,..._e}=b,et=useToastInteractiveContext(CLOSE_NAME,$);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._e,ref:j,onClick:composeEventHandlers(b.onClick,et.onClose)})})});ToastClose.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((b,j)=>{const{__scopeToast:$,altText:_e,...et}=b;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":_e||void 0,...et,ref:j})});function getAnnounceTextContent(b){const j=[];return Array.from(b.childNodes).forEach(_e=>{if(_e.nodeType===_e.TEXT_NODE&&_e.textContent&&j.push(_e.textContent),isHTMLElement(_e)){const et=_e.ariaHidden||_e.hidden||_e.style.display==="none",tt=_e.dataset.radixToastAnnounceExclude==="";if(!et)if(tt){const nt=_e.dataset.radixToastAnnounceAlt;nt&&j.push(nt)}else j.push(...getAnnounceTextContent(_e))}}),j}function handleAndDispatchCustomEvent(b,j,$,{discrete:_e}){const et=$.originalEvent.currentTarget,tt=new CustomEvent(b,{bubbles:!0,cancelable:!0,detail:$});j&&et.addEventListener(b,j,{once:!0}),_e?dispatchDiscreteCustomEvent(et,tt):et.dispatchEvent(tt)}var isDeltaInDirection=(b,j,$=0)=>{const _e=Math.abs(b.x),et=Math.abs(b.y),tt=_e>et;return j==="left"||j==="right"?tt&&_e>$:!tt&&et>$};function useNextFrame(b=()=>{}){const j=useCallbackRef$1(b);useLayoutEffect2(()=>{let $=0,_e=0;return $=window.requestAnimationFrame(()=>_e=window.requestAnimationFrame(j)),()=>{window.cancelAnimationFrame($),window.cancelAnimationFrame(_e)}},[j])}function isHTMLElement(b){return b.nodeType===b.ELEMENT_NODE}function getTabbableCandidates(b){const j=[],$=document.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,{acceptNode:_e=>{const et=_e.tagName==="INPUT"&&_e.type==="hidden";return _e.disabled||_e.hidden||et?NodeFilter.FILTER_SKIP:_e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;$.nextNode();)j.push($.currentNode);return j}function focusFirst(b){const j=document.activeElement;return b.some($=>$===j?!0:($.focus(),document.activeElement!==j))}var Provider=ToastProvider,Viewport=ToastViewport,Root2=Toast,Description=ToastDescription,Close=ToastClose;const ErrorAlert=()=>{const{t:b}=useTranslation(),j=useAtom_2(isErrorShown$),$=useAtom_2(errorMessage$);return j?jsxRuntimeExports.jsxs(Provider,{children:[jsxRuntimeExports.jsxs(Root2,{className:"qsp-toast-root error",open:j,onOpenChange:()=>isErrorShown$.set(!1),children:[jsxRuntimeExports.jsx(Description,{className:"qsp-toast-description",children:b($)}),jsxRuntimeExports.jsx(Close,{className:"q-ghost-button",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]}),jsxRuntimeExports.jsx(Viewport,{className:"qsp-toast-viewport"})]}):null},NoticeToast=()=>{const b=useAtom_2(isNoticeShown$),j=useAtom_2(noticeMessage$),{t:$}=useTranslation();return b?jsxRuntimeExports.jsxs(Provider,{children:[jsxRuntimeExports.jsx(Root2,{className:"qsp-toast-root",open:b,children:jsxRuntimeExports.jsx(Description,{className:"qsp-toast-description",children:$(j)})}),jsxRuntimeExports.jsx(Viewport,{className:"qsp-toast-viewport"})]}):null};var dexie_min={exports:{}};(function(b,j){(function($,_e){b.exports=_e()})(commonjsGlobal,function(){var $=function(lt,ut){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pt,vt){pt.__proto__=vt}||function(pt,vt){for(var yt in vt)Object.prototype.hasOwnProperty.call(vt,yt)&&(pt[yt]=vt[yt])})(lt,ut)},_e=function(){return(_e=Object.assign||function(lt){for(var ut,pt=1,vt=arguments.length;pt<vt;pt++)for(var yt in ut=arguments[pt])Object.prototype.hasOwnProperty.call(ut,yt)&&(lt[yt]=ut[yt]);return lt}).apply(this,arguments)};function et(lt,ut,pt){for(var vt,yt=0,_t=ut.length;yt<_t;yt++)!vt&&yt in ut||((vt=vt||Array.prototype.slice.call(ut,0,yt))[yt]=ut[yt]);return lt.concat(vt||Array.prototype.slice.call(ut))}var tt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,nt=Object.keys,rt=Array.isArray;function st(lt,ut){return typeof ut!="object"||nt(ut).forEach(function(pt){lt[pt]=ut[pt]}),lt}typeof Promise>"u"||tt.Promise||(tt.Promise=Promise);var it=Object.getPrototypeOf,ct={}.hasOwnProperty;function ot(lt,ut){return ct.call(lt,ut)}function at(lt,ut){typeof ut=="function"&&(ut=ut(it(lt))),(typeof Reflect>"u"?nt:Reflect.ownKeys)(ut).forEach(function(pt){dt(lt,pt,ut[pt])})}var ft=Object.defineProperty;function dt(lt,ut,pt,vt){ft(lt,ut,st(pt&&ot(pt,"get")&&typeof pt.get=="function"?{get:pt.get,set:pt.set,configurable:!0}:{value:pt,configurable:!0,writable:!0},vt))}function mt(lt){return{from:function(ut){return lt.prototype=Object.create(ut.prototype),dt(lt.prototype,"constructor",lt),{extend:at.bind(null,lt.prototype)}}}}var xt=Object.getOwnPropertyDescriptor,ht=[].slice;function gt(lt,ut,pt){return ht.call(lt,ut,pt)}function Et(lt,ut){return ut(lt)}function St(lt){if(!lt)throw new Error("Assertion Failed")}function At(lt){tt.setImmediate?setImmediate(lt):setTimeout(lt,0)}function $t(lt,ut){if(typeof ut=="string"&&ot(lt,ut))return lt[ut];if(!ut)return lt;if(typeof ut!="string"){for(var pt=[],vt=0,yt=ut.length;vt<yt;++vt){var _t=$t(lt,ut[vt]);pt.push(_t)}return pt}var Ct=ut.indexOf(".");if(Ct!==-1){var jt=lt[ut.substr(0,Ct)];return jt==null?void 0:$t(jt,ut.substr(Ct+1))}}function wt(lt,ut,pt){if(lt&&ut!==void 0&&!("isFrozen"in Object&&Object.isFrozen(lt)))if(typeof ut!="string"&&"length"in ut){St(typeof pt!="string"&&"length"in pt);for(var vt=0,yt=ut.length;vt<yt;++vt)wt(lt,ut[vt],pt[vt])}else{var _t,Ct,jt=ut.indexOf(".");jt!==-1?(_t=ut.substr(0,jt),(Ct=ut.substr(jt+1))===""?pt===void 0?rt(lt)&&!isNaN(parseInt(_t))?lt.splice(_t,1):delete lt[_t]:lt[_t]=pt:wt(jt=!(jt=lt[_t])||!ot(lt,_t)?lt[_t]={}:jt,Ct,pt)):pt===void 0?rt(lt)&&!isNaN(parseInt(ut))?lt.splice(ut,1):delete lt[ut]:lt[ut]=pt}}function Pt(lt){var ut,pt={};for(ut in lt)ot(lt,ut)&&(pt[ut]=lt[ut]);return pt}var bt=[].concat;function Bt(lt){return bt.apply([],lt)}var xr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Bt([8,16,32,64].map(function(lt){return["Int","Uint","Float"].map(function(ut){return ut+lt+"Array"})}))).filter(function(lt){return tt[lt]}),Yt=new Set(xr.map(function(lt){return tt[lt]})),rn=null;function hn(lt){return rn=new WeakMap,lt=function ut(pt){if(!pt||typeof pt!="object")return pt;var vt=rn.get(pt);if(vt)return vt;if(rt(pt)){vt=[],rn.set(pt,vt);for(var yt=0,_t=pt.length;yt<_t;++yt)vt.push(ut(pt[yt]))}else if(Yt.has(pt.constructor))vt=pt;else{var Ct,jt=it(pt);for(Ct in vt=jt===Object.prototype?{}:Object.create(jt),rn.set(pt,vt),pt)ot(pt,Ct)&&(vt[Ct]=ut(pt[Ct]))}return vt}(lt),rn=null,lt}var Vt={}.toString;function Xt(lt){return Vt.call(lt).slice(8,-1)}var en=typeof Symbol<"u"?Symbol.iterator:"@@iterator",cn=typeof en=="symbol"?function(lt){var ut;return lt!=null&&(ut=lt[en])&&ut.apply(lt)}:function(){return null};function qt(lt,ut){return ut=lt.indexOf(ut),0<=ut&&lt.splice(ut,1),0<=ut}var Wt={};function sn(lt){var ut,pt,vt,yt;if(arguments.length===1){if(rt(lt))return lt.slice();if(this===Wt&&typeof lt=="string")return[lt];if(yt=cn(lt)){for(pt=[];!(vt=yt.next()).done;)pt.push(vt.value);return pt}if(lt==null)return[lt];if(typeof(ut=lt.length)!="number")return[lt];for(pt=new Array(ut);ut--;)pt[ut]=lt[ut];return pt}for(ut=arguments.length,pt=new Array(ut);ut--;)pt[ut]=arguments[ut];return pt}var Qt=typeof Symbol<"u"?function(lt){return lt[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Tr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],or=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Tr),tn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function vn(lt,ut){this.name=lt,this.message=ut}function un(lt,ut){return lt+". Errors: "+Object.keys(ut).map(function(pt){return ut[pt].toString()}).filter(function(pt,vt,yt){return yt.indexOf(pt)===vt}).join(`
`)}function mn(lt,ut,pt,vt){this.failures=ut,this.failedKeys=vt,this.successCount=pt,this.message=un(lt,ut)}function _n(lt,ut){this.name="BulkError",this.failures=Object.keys(ut).map(function(pt){return ut[pt]}),this.failuresByPos=ut,this.message=un(lt,this.failures)}mt(vn).from(Error).extend({toString:function(){return this.name+": "+this.message}}),mt(mn).from(vn),mt(_n).from(vn);var Jt=or.reduce(function(lt,ut){return lt[ut]=ut+"Error",lt},{}),gn=vn,Zt=or.reduce(function(lt,ut){var pt=ut+"Error";function vt(yt,_t){this.name=pt,yt?typeof yt=="string"?(this.message="".concat(yt).concat(_t?`
 `+_t:""),this.inner=_t||null):typeof yt=="object"&&(this.message="".concat(yt.name," ").concat(yt.message),this.inner=yt):(this.message=tn[ut]||pt,this.inner=null)}return mt(vt).from(gn),lt[ut]=vt,lt},{});Zt.Syntax=SyntaxError,Zt.Type=TypeError,Zt.Range=RangeError;var bn=Tr.reduce(function(lt,ut){return lt[ut+"Error"]=Zt[ut],lt},{}),An=or.reduce(function(lt,ut){return["Syntax","Type","Range"].indexOf(ut)===-1&&(lt[ut+"Error"]=Zt[ut]),lt},{});function xn(){}function Bn(lt){return lt}function Yn(lt,ut){return lt==null||lt===Bn?ut:function(pt){return ut(lt(pt))}}function Vn(lt,ut){return function(){lt.apply(this,arguments),ut.apply(this,arguments)}}function sr(lt,ut){return lt===xn?ut:function(){var pt=lt.apply(this,arguments);pt!==void 0&&(arguments[0]=pt);var vt=this.onsuccess,yt=this.onerror;this.onsuccess=null,this.onerror=null;var _t=ut.apply(this,arguments);return vt&&(this.onsuccess=this.onsuccess?Vn(vt,this.onsuccess):vt),yt&&(this.onerror=this.onerror?Vn(yt,this.onerror):yt),_t!==void 0?_t:pt}}function Xn(lt,ut){return lt===xn?ut:function(){lt.apply(this,arguments);var pt=this.onsuccess,vt=this.onerror;this.onsuccess=this.onerror=null,ut.apply(this,arguments),pt&&(this.onsuccess=this.onsuccess?Vn(pt,this.onsuccess):pt),vt&&(this.onerror=this.onerror?Vn(vt,this.onerror):vt)}}function lr(lt,ut){return lt===xn?ut:function(pt){var vt=lt.apply(this,arguments);st(pt,vt);var yt=this.onsuccess,_t=this.onerror;return this.onsuccess=null,this.onerror=null,pt=ut.apply(this,arguments),yt&&(this.onsuccess=this.onsuccess?Vn(yt,this.onsuccess):yt),_t&&(this.onerror=this.onerror?Vn(_t,this.onerror):_t),vt===void 0?pt===void 0?void 0:pt:st(vt,pt)}}function rr(lt,ut){return lt===xn?ut:function(){return ut.apply(this,arguments)!==!1&&lt.apply(this,arguments)}}function Fr(lt,ut){return lt===xn?ut:function(){var pt=lt.apply(this,arguments);if(pt&&typeof pt.then=="function"){for(var vt=this,yt=arguments.length,_t=new Array(yt);yt--;)_t[yt]=arguments[yt];return pt.then(function(){return ut.apply(vt,_t)})}return ut.apply(this,arguments)}}An.ModifyError=mn,An.DexieError=vn,An.BulkError=_n;var tr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Gr(lt){tr=lt}var Er={},so=100,xr=typeof Promise>"u"?[]:function(){var lt=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[lt,it(lt),lt];var ut=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[ut,it(ut),lt]}(),Tr=xr[0],or=xr[1],xr=xr[2],or=or&&or.then,hr=Tr&&Tr.constructor,Br=!!xr,ur=function(lt,ut){cr.push([lt,ut]),Pr&&(queueMicrotask(kn),Pr=!1)},Ur=!0,Pr=!0,Zn=[],jr=[],mr=Bn,ir={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xn,pgp:!1,env:{},finalize:xn},yn=ir,cr=[],fr=0,$r=[];function Rt(lt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var ut=this._PSD=yn;if(typeof lt!="function"){if(lt!==Er)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&wn(this,this._value))}this._state=null,this._value=null,++ut.ref,function pt(vt,yt){try{yt(function(_t){if(vt._state===null){if(_t===vt)throw new TypeError("A promise cannot be resolved with itself.");var Ct=vt._lib&&In();_t&&typeof _t.then=="function"?pt(vt,function(jt,It){_t instanceof Rt?_t._then(jt,It):_t.then(jt,It)}):(vt._state=!0,vt._value=_t,Sn(vt)),Ct&&Dn()}},wn.bind(null,vt))}catch(_t){wn(vt,_t)}}(this,lt)}var nn={get:function(){var lt=yn,ut=io;function pt(vt,yt){var _t=this,Ct=!lt.global&&(lt!==yn||ut!==io),jt=Ct&&!br(),It=new Rt(function(Ot,Dt){Tn(_t,new En(os(vt,lt,Ct,jt),os(yt,lt,Ct,jt),Ot,Dt,lt))});return this._consoleTask&&(It._consoleTask=this._consoleTask),It}return pt.prototype=Er,pt},set:function(lt){dt(this,"then",lt&&lt.prototype===Er?nn:{get:function(){return lt},set:nn.set})}};function En(lt,ut,pt,vt,yt){this.onFulfilled=typeof lt=="function"?lt:null,this.onRejected=typeof ut=="function"?ut:null,this.resolve=pt,this.reject=vt,this.psd=yt}function wn(lt,ut){var pt,vt;jr.push(ut),lt._state===null&&(pt=lt._lib&&In(),ut=mr(ut),lt._state=!1,lt._value=ut,vt=lt,Zn.some(function(yt){return yt._value===vt._value})||Zn.push(vt),Sn(lt),pt&&Dn())}function Sn(lt){var ut=lt._listeners;lt._listeners=[];for(var pt=0,vt=ut.length;pt<vt;++pt)Tn(lt,ut[pt]);var yt=lt._PSD;--yt.ref||yt.finalize(),fr===0&&(++fr,ur(function(){--fr==0&&Wn()},[]))}function Tn(lt,ut){if(lt._state!==null){var pt=lt._state?ut.onFulfilled:ut.onRejected;if(pt===null)return(lt._state?ut.resolve:ut.reject)(lt._value);++ut.psd.ref,++fr,ur(Mn,[pt,lt,ut])}else lt._listeners.push(ut)}function Mn(lt,ut,pt){try{var vt,yt=ut._value;!ut._state&&jr.length&&(jr=[]),vt=tr&&ut._consoleTask?ut._consoleTask.run(function(){return lt(yt)}):lt(yt),ut._state||jr.indexOf(yt)!==-1||function(_t){for(var Ct=Zn.length;Ct;)if(Zn[--Ct]._value===_t._value)return Zn.splice(Ct,1)}(ut),pt.resolve(vt)}catch(_t){pt.reject(_t)}finally{--fr==0&&Wn(),--pt.psd.ref||pt.psd.finalize()}}function kn(){Or(ir,function(){In()&&Dn()})}function In(){var lt=Ur;return Pr=Ur=!1,lt}function Dn(){var lt,ut,pt;do for(;0<cr.length;)for(lt=cr,cr=[],pt=lt.length,ut=0;ut<pt;++ut){var vt=lt[ut];vt[0].apply(null,vt[1])}while(0<cr.length);Pr=Ur=!0}function Wn(){var lt=Zn;Zn=[],lt.forEach(function(vt){vt._PSD.onunhandled.call(null,vt._value,vt)});for(var ut=$r.slice(0),pt=ut.length;pt;)ut[--pt]()}function Un(lt){return new Rt(Er,!1,lt)}function On(lt,ut){var pt=yn;return function(){var vt=In(),yt=yn;try{return Sr(pt,!0),lt.apply(this,arguments)}catch(_t){ut&&ut(_t)}finally{Sr(yt,!1),vt&&Dn()}}}at(Rt.prototype,{then:nn,_then:function(lt,ut){Tn(this,new En(null,null,lt,ut,yn))},catch:function(lt){if(arguments.length===1)return this.then(null,lt);var ut=lt,pt=arguments[1];return typeof ut=="function"?this.then(null,function(vt){return(vt instanceof ut?pt:Un)(vt)}):this.then(null,function(vt){return(vt&&vt.name===ut?pt:Un)(vt)})},finally:function(lt){return this.then(function(ut){return Rt.resolve(lt()).then(function(){return ut})},function(ut){return Rt.resolve(lt()).then(function(){return Un(ut)})})},timeout:function(lt,ut){var pt=this;return lt<1/0?new Rt(function(vt,yt){var _t=setTimeout(function(){return yt(new Zt.Timeout(ut))},lt);pt.then(vt,yt).finally(clearTimeout.bind(null,_t))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&dt(Rt.prototype,Symbol.toStringTag,"Dexie.Promise"),ir.env=rs(),at(Rt,{all:function(){var lt=sn.apply(null,arguments).map(ao);return new Rt(function(ut,pt){lt.length===0&&ut([]);var vt=lt.length;lt.forEach(function(yt,_t){return Rt.resolve(yt).then(function(Ct){lt[_t]=Ct,--vt||ut(lt)},pt)})})},resolve:function(lt){return lt instanceof Rt?lt:lt&&typeof lt.then=="function"?new Rt(function(ut,pt){lt.then(ut,pt)}):new Rt(Er,!0,lt)},reject:Un,race:function(){var lt=sn.apply(null,arguments).map(ao);return new Rt(function(ut,pt){lt.map(function(vt){return Rt.resolve(vt).then(ut,pt)})})},PSD:{get:function(){return yn},set:function(lt){return yn=lt}},totalEchoes:{get:function(){return io}},newPSD:wr,usePSD:Or,scheduler:{get:function(){return ur},set:function(lt){ur=lt}},rejectionMapper:{get:function(){return mr},set:function(lt){mr=lt}},follow:function(lt,ut){return new Rt(function(pt,vt){return wr(function(yt,_t){var Ct=yn;Ct.unhandleds=[],Ct.onunhandled=_t,Ct.finalize=Vn(function(){var jt,It=this;jt=function(){It.unhandleds.length===0?yt():_t(It.unhandleds[0])},$r.push(function Ot(){jt(),$r.splice($r.indexOf(Ot),1)}),++fr,ur(function(){--fr==0&&Wn()},[])},Ct.finalize),lt()},ut,pt,vt)})}}),hr&&(hr.allSettled&&dt(Rt,"allSettled",function(){var lt=sn.apply(null,arguments).map(ao);return new Rt(function(ut){lt.length===0&&ut([]);var pt=lt.length,vt=new Array(pt);lt.forEach(function(yt,_t){return Rt.resolve(yt).then(function(Ct){return vt[_t]={status:"fulfilled",value:Ct}},function(Ct){return vt[_t]={status:"rejected",reason:Ct}}).then(function(){return--pt||ut(vt)})})})}),hr.any&&typeof AggregateError<"u"&&dt(Rt,"any",function(){var lt=sn.apply(null,arguments).map(ao);return new Rt(function(ut,pt){lt.length===0&&pt(new AggregateError([]));var vt=lt.length,yt=new Array(vt);lt.forEach(function(_t,Ct){return Rt.resolve(_t).then(function(jt){return ut(jt)},function(jt){yt[Ct]=jt,--vt||pt(new AggregateError(yt))})})})}));var Hn={awaits:0,echoes:0,id:0},gr=0,kr=[],_r=0,io=0,Is=0;function wr(lt,ut,pt,vt){var yt=yn,_t=Object.create(yt);return _t.parent=yt,_t.ref=0,_t.global=!1,_t.id=++Is,ir.env,_t.env=Br?{Promise:Rt,PromiseProp:{value:Rt,configurable:!0,writable:!0},all:Rt.all,race:Rt.race,allSettled:Rt.allSettled,any:Rt.any,resolve:Rt.resolve,reject:Rt.reject}:{},ut&&st(_t,ut),++yt.ref,_t.finalize=function(){--this.parent.ref||this.parent.finalize()},vt=Or(_t,lt,pt,vt),_t.ref===0&&_t.finalize(),vt}function Vr(){return Hn.id||(Hn.id=++gr),++Hn.awaits,Hn.echoes+=so,Hn.id}function br(){return!!Hn.awaits&&(--Hn.awaits==0&&(Hn.id=0),Hn.echoes=Hn.awaits*so,!0)}function ao(lt){return Hn.echoes&&lt&&lt.constructor===hr?(Vr(),lt.then(function(ut){return br(),ut},function(ut){return br(),qn(ut)})):lt}function Ls(){var lt=kr[kr.length-1];kr.pop(),Sr(lt,!1)}function Sr(lt,ut){var pt,vt=yn;(ut?!Hn.echoes||_r++&&lt===yn:!_r||--_r&&lt===yn)||queueMicrotask(ut?(function(yt){++io,Hn.echoes&&--Hn.echoes!=0||(Hn.echoes=Hn.awaits=Hn.id=0),kr.push(yn),Sr(yt,!0)}).bind(null,lt):Ls),lt!==yn&&(yn=lt,vt===ir&&(ir.env=rs()),Br&&(pt=ir.env.Promise,ut=lt.env,(vt.global||lt.global)&&(Object.defineProperty(tt,"Promise",ut.PromiseProp),pt.all=ut.all,pt.race=ut.race,pt.resolve=ut.resolve,pt.reject=ut.reject,ut.allSettled&&(pt.allSettled=ut.allSettled),ut.any&&(pt.any=ut.any))))}function rs(){var lt=tt.Promise;return Br?{Promise:lt,PromiseProp:Object.getOwnPropertyDescriptor(tt,"Promise"),all:lt.all,race:lt.race,allSettled:lt.allSettled,any:lt.any,resolve:lt.resolve,reject:lt.reject}:{}}function Or(lt,ut,pt,vt,yt){var _t=yn;try{return Sr(lt,!0),ut(pt,vt,yt)}finally{Sr(_t,!1)}}function os(lt,ut,pt,vt){return typeof lt!="function"?lt:function(){var yt=yn;pt&&Vr(),Sr(ut,!0);try{return lt.apply(this,arguments)}finally{Sr(yt,!1),vt&&queueMicrotask(br)}}}function To(lt){Promise===hr&&Hn.echoes===0?_r===0?lt():enqueueNativeMicroTask(lt):setTimeout(lt,0)}(""+or).indexOf("[native code]")===-1&&(Vr=br=xn);var qn=Rt.reject,Nr="￿",vr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ss="String expected.",qr=[],lo="__dbnames",Po="readonly",jo="readwrite";function Ir(lt,ut){return lt?ut?function(){return lt.apply(this,arguments)&&ut.apply(this,arguments)}:lt:ut}var as={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function uo(lt){return typeof lt!="string"||/\./.test(lt)?function(ut){return ut}:function(ut){return ut[lt]===void 0&&lt in ut&&delete(ut=hn(ut))[lt],ut}}function ls(){throw Zt.Type()}function Nn(lt,ut){try{var pt=us(lt),vt=us(ut);if(pt!==vt)return pt==="Array"?1:vt==="Array"?-1:pt==="binary"?1:vt==="binary"?-1:pt==="string"?1:vt==="string"?-1:pt==="Date"?1:vt!=="Date"?NaN:-1;switch(pt){case"number":case"Date":case"string":return ut<lt?1:lt<ut?-1:0;case"binary":return function(yt,_t){for(var Ct=yt.length,jt=_t.length,It=Ct<jt?Ct:jt,Ot=0;Ot<It;++Ot)if(yt[Ot]!==_t[Ot])return yt[Ot]<_t[Ot]?-1:1;return Ct===jt?0:Ct<jt?-1:1}(fs(lt),fs(ut));case"Array":return function(yt,_t){for(var Ct=yt.length,jt=_t.length,It=Ct<jt?Ct:jt,Ot=0;Ot<It;++Ot){var Dt=Nn(yt[Ot],_t[Ot]);if(Dt!==0)return Dt}return Ct===jt?0:Ct<jt?-1:1}(lt,ut)}}catch{}return NaN}function us(lt){var ut=typeof lt;return ut!="object"?ut:ArrayBuffer.isView(lt)?"binary":(lt=Xt(lt),lt==="ArrayBuffer"?"binary":lt)}function fs(lt){return lt instanceof Uint8Array?lt:ArrayBuffer.isView(lt)?new Uint8Array(lt.buffer,lt.byteOffset,lt.byteLength):new Uint8Array(lt)}var ds=(Fn.prototype._trans=function(lt,ut,pt){var vt=this._tx||yn.trans,yt=this.name,_t=tr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(lt==="readonly"?"read":"write"," ").concat(this.name));function Ct(Ot,Dt,kt){if(!kt.schema[yt])throw new Zt.NotFound("Table "+yt+" not part of transaction");return ut(kt.idbtrans,kt)}var jt=In();try{var It=vt&&vt.db._novip===this.db._novip?vt===yn.trans?vt._promise(lt,Ct,pt):wr(function(){return vt._promise(lt,Ct,pt)},{trans:vt,transless:yn.transless||yn}):function Ot(Dt,kt,Ft,Nt){if(Dt.idbdb&&(Dt._state.openComplete||yn.letThrough||Dt._vip)){var Mt=Dt._createTransaction(kt,Ft,Dt._dbSchema);try{Mt.create(),Dt._state.PR1398_maxLoop=3}catch(Ht){return Ht.name===Jt.InvalidState&&Dt.isOpen()&&0<--Dt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Dt.close({disableAutoOpen:!1}),Dt.open().then(function(){return Ot(Dt,kt,Ft,Nt)})):qn(Ht)}return Mt._promise(kt,function(Ht,Lt){return wr(function(){return yn.trans=Mt,Nt(Ht,Lt,Mt)})}).then(function(Ht){if(kt==="readwrite")try{Mt.idbtrans.commit()}catch{}return kt==="readonly"?Ht:Mt._completion.then(function(){return Ht})})}if(Dt._state.openComplete)return qn(new Zt.DatabaseClosed(Dt._state.dbOpenError));if(!Dt._state.isBeingOpened){if(!Dt._state.autoOpen)return qn(new Zt.DatabaseClosed);Dt.open().catch(xn)}return Dt._state.dbReadyPromise.then(function(){return Ot(Dt,kt,Ft,Nt)})}(this.db,lt,[this.name],Ct);return _t&&(It._consoleTask=_t,It=It.catch(function(Ot){return console.trace(Ot),qn(Ot)})),It}finally{jt&&Dn()}},Fn.prototype.get=function(lt,ut){var pt=this;return lt&&lt.constructor===Object?this.where(lt).first(ut):lt==null?qn(new Zt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(vt){return pt.core.get({trans:vt,key:lt}).then(function(yt){return pt.hook.reading.fire(yt)})}).then(ut)},Fn.prototype.where=function(lt){if(typeof lt=="string")return new this.db.WhereClause(this,lt);if(rt(lt))return new this.db.WhereClause(this,"[".concat(lt.join("+"),"]"));var ut=nt(lt);if(ut.length===1)return this.where(ut[0]).equals(lt[ut[0]]);var pt=this.schema.indexes.concat(this.schema.primKey).filter(function(It){if(It.compound&&ut.every(function(Dt){return 0<=It.keyPath.indexOf(Dt)})){for(var Ot=0;Ot<ut.length;++Ot)if(ut.indexOf(It.keyPath[Ot])===-1)return!1;return!0}return!1}).sort(function(It,Ot){return It.keyPath.length-Ot.keyPath.length})[0];if(pt&&this.db._maxKey!==Nr){var Ct=pt.keyPath.slice(0,ut.length);return this.where(Ct).equals(Ct.map(function(Ot){return lt[Ot]}))}!pt&&tr&&console.warn("The query ".concat(JSON.stringify(lt)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(ut.join("+"),"]"));var vt=this.schema.idxByName,yt=this.db._deps.indexedDB;function _t(It,Ot){return yt.cmp(It,Ot)===0}var jt=ut.reduce(function(Ft,Ot){var Dt=Ft[0],kt=Ft[1],Ft=vt[Ot],Nt=lt[Ot];return[Dt||Ft,Dt||!Ft?Ir(kt,Ft&&Ft.multi?function(Mt){return Mt=$t(Mt,Ot),rt(Mt)&&Mt.some(function(Ht){return _t(Nt,Ht)})}:function(Mt){return _t(Nt,$t(Mt,Ot))}):kt]},[null,null]),Ct=jt[0],jt=jt[1];return Ct?this.where(Ct.name).equals(lt[Ct.keyPath]).filter(jt):pt?this.filter(jt):this.where(ut).equals("")},Fn.prototype.filter=function(lt){return this.toCollection().and(lt)},Fn.prototype.count=function(lt){return this.toCollection().count(lt)},Fn.prototype.offset=function(lt){return this.toCollection().offset(lt)},Fn.prototype.limit=function(lt){return this.toCollection().limit(lt)},Fn.prototype.each=function(lt){return this.toCollection().each(lt)},Fn.prototype.toArray=function(lt){return this.toCollection().toArray(lt)},Fn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Fn.prototype.orderBy=function(lt){return new this.db.Collection(new this.db.WhereClause(this,rt(lt)?"[".concat(lt.join("+"),"]"):lt))},Fn.prototype.reverse=function(){return this.toCollection().reverse()},Fn.prototype.mapToClass=function(lt){var ut,pt=this.db,vt=this.name;function yt(){return ut!==null&&ut.apply(this,arguments)||this}(this.schema.mappedClass=lt).prototype instanceof ls&&(function(It,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Class extends value "+String(Ot)+" is not a constructor or null");function Dt(){this.constructor=It}$(It,Ot),It.prototype=Ot===null?Object.create(Ot):(Dt.prototype=Ot.prototype,new Dt)}(yt,ut=lt),Object.defineProperty(yt.prototype,"db",{get:function(){return pt},enumerable:!1,configurable:!0}),yt.prototype.table=function(){return vt},lt=yt);for(var _t=new Set,Ct=lt.prototype;Ct;Ct=it(Ct))Object.getOwnPropertyNames(Ct).forEach(function(It){return _t.add(It)});function jt(It){if(!It)return It;var Ot,Dt=Object.create(lt.prototype);for(Ot in It)if(!_t.has(Ot))try{Dt[Ot]=It[Ot]}catch{}return Dt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=jt,this.hook("reading",jt),lt},Fn.prototype.defineClass=function(){return this.mapToClass(function(lt){st(this,lt)})},Fn.prototype.add=function(lt,ut){var pt=this,vt=this.schema.primKey,yt=vt.auto,_t=vt.keyPath,Ct=lt;return _t&&yt&&(Ct=uo(_t)(lt)),this._trans("readwrite",function(jt){return pt.core.mutate({trans:jt,type:"add",keys:ut!=null?[ut]:null,values:[Ct]})}).then(function(jt){return jt.numFailures?Rt.reject(jt.failures[0]):jt.lastResult}).then(function(jt){if(_t)try{wt(lt,_t,jt)}catch{}return jt})},Fn.prototype.update=function(lt,ut){return typeof lt!="object"||rt(lt)?this.where(":id").equals(lt).modify(ut):(lt=$t(lt,this.schema.primKey.keyPath),lt===void 0?qn(new Zt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(lt).modify(ut))},Fn.prototype.put=function(lt,ut){var pt=this,vt=this.schema.primKey,yt=vt.auto,_t=vt.keyPath,Ct=lt;return _t&&yt&&(Ct=uo(_t)(lt)),this._trans("readwrite",function(jt){return pt.core.mutate({trans:jt,type:"put",values:[Ct],keys:ut!=null?[ut]:null})}).then(function(jt){return jt.numFailures?Rt.reject(jt.failures[0]):jt.lastResult}).then(function(jt){if(_t)try{wt(lt,_t,jt)}catch{}return jt})},Fn.prototype.delete=function(lt){var ut=this;return this._trans("readwrite",function(pt){return ut.core.mutate({trans:pt,type:"delete",keys:[lt]})}).then(function(pt){return pt.numFailures?Rt.reject(pt.failures[0]):void 0})},Fn.prototype.clear=function(){var lt=this;return this._trans("readwrite",function(ut){return lt.core.mutate({trans:ut,type:"deleteRange",range:as})}).then(function(ut){return ut.numFailures?Rt.reject(ut.failures[0]):void 0})},Fn.prototype.bulkGet=function(lt){var ut=this;return this._trans("readonly",function(pt){return ut.core.getMany({keys:lt,trans:pt}).then(function(vt){return vt.map(function(yt){return ut.hook.reading.fire(yt)})})})},Fn.prototype.bulkAdd=function(lt,ut,pt){var vt=this,yt=Array.isArray(ut)?ut:void 0,_t=(pt=pt||(yt?void 0:ut))?pt.allKeys:void 0;return this._trans("readwrite",function(Ct){var Ot=vt.schema.primKey,jt=Ot.auto,Ot=Ot.keyPath;if(Ot&&yt)throw new Zt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(yt&&yt.length!==lt.length)throw new Zt.InvalidArgument("Arguments objects and keys must have the same length");var It=lt.length,Ot=Ot&&jt?lt.map(uo(Ot)):lt;return vt.core.mutate({trans:Ct,type:"add",keys:yt,values:Ot,wantResults:_t}).then(function(Mt){var kt=Mt.numFailures,Ft=Mt.results,Nt=Mt.lastResult,Mt=Mt.failures;if(kt===0)return _t?Ft:Nt;throw new _n("".concat(vt.name,".bulkAdd(): ").concat(kt," of ").concat(It," operations failed"),Mt)})})},Fn.prototype.bulkPut=function(lt,ut,pt){var vt=this,yt=Array.isArray(ut)?ut:void 0,_t=(pt=pt||(yt?void 0:ut))?pt.allKeys:void 0;return this._trans("readwrite",function(Ct){var Ot=vt.schema.primKey,jt=Ot.auto,Ot=Ot.keyPath;if(Ot&&yt)throw new Zt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(yt&&yt.length!==lt.length)throw new Zt.InvalidArgument("Arguments objects and keys must have the same length");var It=lt.length,Ot=Ot&&jt?lt.map(uo(Ot)):lt;return vt.core.mutate({trans:Ct,type:"put",keys:yt,values:Ot,wantResults:_t}).then(function(Mt){var kt=Mt.numFailures,Ft=Mt.results,Nt=Mt.lastResult,Mt=Mt.failures;if(kt===0)return _t?Ft:Nt;throw new _n("".concat(vt.name,".bulkPut(): ").concat(kt," of ").concat(It," operations failed"),Mt)})})},Fn.prototype.bulkUpdate=function(lt){var ut=this,pt=this.core,vt=lt.map(function(Ct){return Ct.key}),yt=lt.map(function(Ct){return Ct.changes}),_t=[];return this._trans("readwrite",function(Ct){return pt.getMany({trans:Ct,keys:vt,cache:"clone"}).then(function(jt){var It=[],Ot=[];lt.forEach(function(kt,Ft){var Nt=kt.key,Mt=kt.changes,Ht=jt[Ft];if(Ht){for(var Lt=0,Ut=Object.keys(Mt);Lt<Ut.length;Lt++){var zt=Ut[Lt],Kt=Mt[zt];if(zt===ut.schema.primKey.keyPath){if(Nn(Kt,Nt)!==0)throw new Zt.Constraint("Cannot update primary key in bulkUpdate()")}else wt(Ht,zt,Kt)}_t.push(Ft),It.push(Nt),Ot.push(Ht)}});var Dt=It.length;return pt.mutate({trans:Ct,type:"put",keys:It,values:Ot,updates:{keys:vt,changeSpecs:yt}}).then(function(kt){var Ft=kt.numFailures,Nt=kt.failures;if(Ft===0)return Dt;for(var Mt=0,Ht=Object.keys(Nt);Mt<Ht.length;Mt++){var Lt,Ut=Ht[Mt],zt=_t[Number(Ut)];zt!=null&&(Lt=Nt[Ut],delete Nt[Ut],Nt[zt]=Lt)}throw new _n("".concat(ut.name,".bulkUpdate(): ").concat(Ft," of ").concat(Dt," operations failed"),Nt)})})})},Fn.prototype.bulkDelete=function(lt){var ut=this,pt=lt.length;return this._trans("readwrite",function(vt){return ut.core.mutate({trans:vt,type:"delete",keys:lt})}).then(function(Ct){var yt=Ct.numFailures,_t=Ct.lastResult,Ct=Ct.failures;if(yt===0)return _t;throw new _n("".concat(ut.name,".bulkDelete(): ").concat(yt," of ").concat(pt," operations failed"),Ct)})},Fn);function Fn(){}function Qr(lt){function ut(Ct,jt){if(jt){for(var It=arguments.length,Ot=new Array(It-1);--It;)Ot[It-1]=arguments[It];return pt[Ct].subscribe.apply(null,Ot),lt}if(typeof Ct=="string")return pt[Ct]}var pt={};ut.addEventType=_t;for(var vt=1,yt=arguments.length;vt<yt;++vt)_t(arguments[vt]);return ut;function _t(Ct,jt,It){if(typeof Ct!="object"){var Ot;jt=jt||rr;var Dt={subscribers:[],fire:It=It||xn,subscribe:function(kt){Dt.subscribers.indexOf(kt)===-1&&(Dt.subscribers.push(kt),Dt.fire=jt(Dt.fire,kt))},unsubscribe:function(kt){Dt.subscribers=Dt.subscribers.filter(function(Ft){return Ft!==kt}),Dt.fire=Dt.subscribers.reduce(jt,It)}};return pt[Ct]=ut[Ct]=Dt}nt(Ot=Ct).forEach(function(kt){var Ft=Ot[kt];if(rt(Ft))_t(kt,Ot[kt][0],Ot[kt][1]);else{if(Ft!=="asap")throw new Zt.InvalidArgument("Invalid event config");var Nt=_t(kt,Bn,function(){for(var Mt=arguments.length,Ht=new Array(Mt);Mt--;)Ht[Mt]=arguments[Mt];Nt.subscribers.forEach(function(Lt){At(function(){Lt.apply(null,Ht)})})})}})}}function Yr(lt,ut){return mt(ut).from({prototype:lt}),ut}function zr(lt,ut){return!(lt.filter||lt.algorithm||lt.or)&&(ut?lt.justLimit:!lt.replayFilter)}function $o(lt,ut){lt.filter=Ir(lt.filter,ut)}function ko(lt,ut,pt){var vt=lt.replayFilter;lt.replayFilter=vt?function(){return Ir(vt(),ut())}:ut,lt.justLimit=pt&&!vt}function co(lt,ut){if(lt.isPrimKey)return ut.primaryKey;var pt=ut.getIndexByKeyPath(lt.index);if(!pt)throw new Zt.Schema("KeyPath "+lt.index+" on object store "+ut.name+" is not indexed");return pt}function ps(lt,ut,pt){var vt=co(lt,ut.schema);return ut.openCursor({trans:pt,values:!lt.keysOnly,reverse:lt.dir==="prev",unique:!!lt.unique,query:{index:vt,range:lt.range}})}function fo(lt,ut,pt,vt){var yt=lt.replayFilter?Ir(lt.filter,lt.replayFilter()):lt.filter;if(lt.or){var _t={},Ct=function(jt,It,Ot){var Dt,kt;yt&&!yt(It,Ot,function(Ft){return It.stop(Ft)},function(Ft){return It.fail(Ft)})||((kt=""+(Dt=It.primaryKey))=="[object ArrayBuffer]"&&(kt=""+new Uint8Array(Dt)),ot(_t,kt)||(_t[kt]=!0,ut(jt,It,Ot)))};return Promise.all([lt.or._iterate(Ct,pt),hs(ps(lt,vt,pt),lt.algorithm,Ct,!lt.keysOnly&&lt.valueMapper)])}return hs(ps(lt,vt,pt),Ir(lt.algorithm,yt),ut,!lt.keysOnly&&lt.valueMapper)}function hs(lt,ut,pt,vt){var yt=On(vt?function(_t,Ct,jt){return pt(vt(_t),Ct,jt)}:pt);return lt.then(function(_t){if(_t)return _t.start(function(){var Ct=function(){return _t.continue()};ut&&!ut(_t,function(jt){return Ct=jt},function(jt){_t.stop(jt),Ct=xn},function(jt){_t.fail(jt),Ct=xn})||yt(_t.value,_t,function(jt){return Ct=jt}),Ct()})})}var xr=Symbol(),Xr=(ms.prototype.execute=function(lt){if(this.add!==void 0){var ut=this.add;if(rt(ut))return et(et([],rt(lt)?lt:[],!0),ut).sort();if(typeof ut=="number")return(Number(lt)||0)+ut;if(typeof ut=="bigint")try{return BigInt(lt)+ut}catch{return BigInt(0)+ut}throw new TypeError("Invalid term ".concat(ut))}if(this.remove!==void 0){var pt=this.remove;if(rt(pt))return rt(lt)?lt.filter(function(vt){return!pt.includes(vt)}).sort():[];if(typeof pt=="number")return Number(lt)-pt;if(typeof pt=="bigint")try{return BigInt(lt)-pt}catch{return BigInt(0)-pt}throw new TypeError("Invalid subtrahend ".concat(pt))}return ut=(ut=this.replacePrefix)===null||ut===void 0?void 0:ut[0],ut&&typeof lt=="string"&&lt.startsWith(ut)?this.replacePrefix[1]+lt.substring(ut.length):lt},ms);function ms(lt){Object.assign(this,lt)}var Ms=(Ln.prototype._read=function(lt,ut){var pt=this._ctx;return pt.error?pt.table._trans(null,qn.bind(null,pt.error)):pt.table._trans("readonly",lt).then(ut)},Ln.prototype._write=function(lt){var ut=this._ctx;return ut.error?ut.table._trans(null,qn.bind(null,ut.error)):ut.table._trans("readwrite",lt,"locked")},Ln.prototype._addAlgorithm=function(lt){var ut=this._ctx;ut.algorithm=Ir(ut.algorithm,lt)},Ln.prototype._iterate=function(lt,ut){return fo(this._ctx,lt,ut,this._ctx.table.core)},Ln.prototype.clone=function(lt){var ut=Object.create(this.constructor.prototype),pt=Object.create(this._ctx);return lt&&st(pt,lt),ut._ctx=pt,ut},Ln.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ln.prototype.each=function(lt){var ut=this._ctx;return this._read(function(pt){return fo(ut,lt,pt,ut.table.core)})},Ln.prototype.count=function(lt){var ut=this;return this._read(function(pt){var vt=ut._ctx,yt=vt.table.core;if(zr(vt,!0))return yt.count({trans:pt,query:{index:co(vt,yt.schema),range:vt.range}}).then(function(Ct){return Math.min(Ct,vt.limit)});var _t=0;return fo(vt,function(){return++_t,!1},pt,yt).then(function(){return _t})}).then(lt)},Ln.prototype.sortBy=function(lt,ut){var pt=lt.split(".").reverse(),vt=pt[0],yt=pt.length-1;function _t(It,Ot){return Ot?_t(It[pt[Ot]],Ot-1):It[vt]}var Ct=this._ctx.dir==="next"?1:-1;function jt(It,Ot){return It=_t(It,yt),Ot=_t(Ot,yt),It<Ot?-Ct:Ot<It?Ct:0}return this.toArray(function(It){return It.sort(jt)}).then(ut)},Ln.prototype.toArray=function(lt){var ut=this;return this._read(function(pt){var vt=ut._ctx;if(vt.dir==="next"&&zr(vt,!0)&&0<vt.limit){var yt=vt.valueMapper,_t=co(vt,vt.table.core.schema);return vt.table.core.query({trans:pt,limit:vt.limit,values:!0,query:{index:_t,range:vt.range}}).then(function(jt){return jt=jt.result,yt?jt.map(yt):jt})}var Ct=[];return fo(vt,function(jt){return Ct.push(jt)},pt,vt.table.core).then(function(){return Ct})},lt)},Ln.prototype.offset=function(lt){var ut=this._ctx;return lt<=0||(ut.offset+=lt,zr(ut)?ko(ut,function(){var pt=lt;return function(vt,yt){return pt===0||(pt===1?--pt:yt(function(){vt.advance(pt),pt=0}),!1)}}):ko(ut,function(){var pt=lt;return function(){return--pt<0}})),this},Ln.prototype.limit=function(lt){return this._ctx.limit=Math.min(this._ctx.limit,lt),ko(this._ctx,function(){var ut=lt;return function(pt,vt,yt){return--ut<=0&&vt(yt),0<=ut}},!0),this},Ln.prototype.until=function(lt,ut){return $o(this._ctx,function(pt,vt,yt){return!lt(pt.value)||(vt(yt),ut)}),this},Ln.prototype.first=function(lt){return this.limit(1).toArray(function(ut){return ut[0]}).then(lt)},Ln.prototype.last=function(lt){return this.reverse().first(lt)},Ln.prototype.filter=function(lt){var ut;return $o(this._ctx,function(pt){return lt(pt.value)}),(ut=this._ctx).isMatch=Ir(ut.isMatch,lt),this},Ln.prototype.and=function(lt){return this.filter(lt)},Ln.prototype.or=function(lt){return new this.db.WhereClause(this._ctx.table,lt,this)},Ln.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ln.prototype.desc=function(){return this.reverse()},Ln.prototype.eachKey=function(lt){var ut=this._ctx;return ut.keysOnly=!ut.isMatch,this.each(function(pt,vt){lt(vt.key,vt)})},Ln.prototype.eachUniqueKey=function(lt){return this._ctx.unique="unique",this.eachKey(lt)},Ln.prototype.eachPrimaryKey=function(lt){var ut=this._ctx;return ut.keysOnly=!ut.isMatch,this.each(function(pt,vt){lt(vt.primaryKey,vt)})},Ln.prototype.keys=function(lt){var ut=this._ctx;ut.keysOnly=!ut.isMatch;var pt=[];return this.each(function(vt,yt){pt.push(yt.key)}).then(function(){return pt}).then(lt)},Ln.prototype.primaryKeys=function(lt){var ut=this._ctx;if(ut.dir==="next"&&zr(ut,!0)&&0<ut.limit)return this._read(function(vt){var yt=co(ut,ut.table.core.schema);return ut.table.core.query({trans:vt,values:!1,limit:ut.limit,query:{index:yt,range:ut.range}})}).then(function(vt){return vt.result}).then(lt);ut.keysOnly=!ut.isMatch;var pt=[];return this.each(function(vt,yt){pt.push(yt.primaryKey)}).then(function(){return pt}).then(lt)},Ln.prototype.uniqueKeys=function(lt){return this._ctx.unique="unique",this.keys(lt)},Ln.prototype.firstKey=function(lt){return this.limit(1).keys(function(ut){return ut[0]}).then(lt)},Ln.prototype.lastKey=function(lt){return this.reverse().firstKey(lt)},Ln.prototype.distinct=function(){var lt=this._ctx,lt=lt.index&&lt.table.schema.idxByName[lt.index];if(!lt||!lt.multi)return this;var ut={};return $o(this._ctx,function(yt){var vt=yt.primaryKey.toString(),yt=ot(ut,vt);return ut[vt]=!0,!yt}),this},Ln.prototype.modify=function(lt){var ut=this,pt=this._ctx;return this._write(function(vt){var yt,_t,Ct;Ct=typeof lt=="function"?lt:(yt=nt(lt),_t=yt.length,function(Lt){for(var Ut=!1,zt=0;zt<_t;++zt){var Kt=yt[zt],Gt=lt[Kt],an=$t(Lt,Kt);Gt instanceof Xr?(wt(Lt,Kt,Gt.execute(an)),Ut=!0):an!==Gt&&(wt(Lt,Kt,Gt),Ut=!0)}return Ut});function jt(Lt,Kt){var zt=Kt.failures,Kt=Kt.numFailures;Mt+=Lt-Kt;for(var Gt=0,an=nt(zt);Gt<an.length;Gt++){var dn=an[Gt];Nt.push(zt[dn])}}var It=pt.table.core,Ot=It.schema.primaryKey,Dt=Ot.outbound,kt=Ot.extractKey,Ft=ut.db._options.modifyChunkSize||200,Nt=[],Mt=0,Ht=[];return ut.clone().primaryKeys().then(function(Lt){function Ut(Kt){var Gt=Math.min(Ft,Lt.length-Kt);return It.getMany({trans:vt,keys:Lt.slice(Kt,Kt+Gt),cache:"immutable"}).then(function(an){for(var dn=[],ln=[],fn=Dt?[]:null,pn=[],on=0;on<Gt;++on){var Cn=an[on],Rn={value:hn(Cn),primKey:Lt[Kt+on]};Ct.call(Rn,Rn.value,Rn)!==!1&&(Rn.value==null?pn.push(Lt[Kt+on]):Dt||Nn(kt(Cn),kt(Rn.value))===0?(ln.push(Rn.value),Dt&&fn.push(Lt[Kt+on])):(pn.push(Lt[Kt+on]),dn.push(Rn.value)))}return Promise.resolve(0<dn.length&&It.mutate({trans:vt,type:"add",values:dn}).then(function($n){for(var Pn in $n.failures)pn.splice(parseInt(Pn),1);jt(dn.length,$n)})).then(function(){return(0<ln.length||zt&&typeof lt=="object")&&It.mutate({trans:vt,type:"put",keys:fn,values:ln,criteria:zt,changeSpec:typeof lt!="function"&&lt,isAdditionalChunk:0<Kt}).then(function($n){return jt(ln.length,$n)})}).then(function(){return(0<pn.length||zt&&lt===Oo)&&It.mutate({trans:vt,type:"delete",keys:pn,criteria:zt,isAdditionalChunk:0<Kt}).then(function($n){return jt(pn.length,$n)})}).then(function(){return Lt.length>Kt+Gt&&Ut(Kt+Ft)})})}var zt=zr(pt)&&pt.limit===1/0&&(typeof lt!="function"||lt===Oo)&&{index:pt.index,range:pt.range};return Ut(0).then(function(){if(0<Nt.length)throw new mn("Error modifying one or more objects",Nt,Mt,Ht);return Lt.length})})})},Ln.prototype.delete=function(){var lt=this._ctx,ut=lt.range;return zr(lt)&&(lt.isPrimKey||ut.type===3)?this._write(function(pt){var vt=lt.table.core.schema.primaryKey,yt=ut;return lt.table.core.count({trans:pt,query:{index:vt,range:yt}}).then(function(_t){return lt.table.core.mutate({trans:pt,type:"deleteRange",range:yt}).then(function(Ct){var jt=Ct.failures;if(Ct.lastResult,Ct.results,Ct=Ct.numFailures,Ct)throw new mn("Could not delete some values",Object.keys(jt).map(function(It){return jt[It]}),_t-Ct);return _t-Ct})})}):this.modify(Oo)},Ln);function Ln(){}var Oo=function(lt,ut){return ut.value=null};function Ds(lt,ut){return lt<ut?-1:lt===ut?0:1}function Fs(lt,ut){return ut<lt?-1:lt===ut?0:1}function nr(lt,ut,pt){return lt=lt instanceof vs?new lt.Collection(lt):lt,lt._ctx.error=new(pt||TypeError)(ut),lt}function Wr(lt){return new lt.Collection(lt,function(){return gs("")}).limit(0)}function po(lt,ut,pt,vt){var yt,_t,Ct,jt,It,Ot,Dt,kt=pt.length;if(!pt.every(function(Mt){return typeof Mt=="string"}))return nr(lt,ss);function Ft(Mt){yt=Mt==="next"?function(Lt){return Lt.toUpperCase()}:function(Lt){return Lt.toLowerCase()},_t=Mt==="next"?function(Lt){return Lt.toLowerCase()}:function(Lt){return Lt.toUpperCase()},Ct=Mt==="next"?Ds:Fs;var Ht=pt.map(function(Lt){return{lower:_t(Lt),upper:yt(Lt)}}).sort(function(Lt,Ut){return Ct(Lt.lower,Ut.lower)});jt=Ht.map(function(Lt){return Lt.upper}),It=Ht.map(function(Lt){return Lt.lower}),Dt=(Ot=Mt)==="next"?"":vt}Ft("next"),lt=new lt.Collection(lt,function(){return Cr(jt[0],It[kt-1]+vt)}),lt._ondirectionchange=function(Mt){Ft(Mt)};var Nt=0;return lt._addAlgorithm(function(Mt,Ht,Lt){var Ut=Mt.key;if(typeof Ut!="string")return!1;var zt=_t(Ut);if(ut(zt,It,Nt))return!0;for(var Kt=null,Gt=Nt;Gt<kt;++Gt){var an=function(dn,ln,fn,pn,on,Cn){for(var Rn=Math.min(dn.length,pn.length),$n=-1,Pn=0;Pn<Rn;++Pn){var ar=ln[Pn];if(ar!==pn[Pn])return on(dn[Pn],fn[Pn])<0?dn.substr(0,Pn)+fn[Pn]+fn.substr(Pn+1):on(dn[Pn],pn[Pn])<0?dn.substr(0,Pn)+pn[Pn]+fn.substr(Pn+1):0<=$n?dn.substr(0,$n)+ln[$n]+fn.substr($n+1):null;on(dn[Pn],ar)<0&&($n=Pn)}return Rn<pn.length&&Cn==="next"?dn+fn.substr(dn.length):Rn<dn.length&&Cn==="prev"?dn.substr(0,fn.length):$n<0?null:dn.substr(0,$n)+pn[$n]+fn.substr($n+1)}(Ut,zt,jt[Gt],It[Gt],Ct,Ot);an===null&&Kt===null?Nt=Gt+1:(Kt===null||0<Ct(Kt,an))&&(Kt=an)}return Ht(Kt!==null?function(){Mt.continue(Kt+Dt)}:Lt),!1}),lt}function Cr(lt,ut,pt,vt){return{type:2,lower:lt,upper:ut,lowerOpen:pt,upperOpen:vt}}function gs(lt){return{type:1,lower:lt,upper:lt}}var vs=(Object.defineProperty(Kn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kn.prototype.between=function(lt,ut,pt,vt){pt=pt!==!1,vt=vt===!0;try{return 0<this._cmp(lt,ut)||this._cmp(lt,ut)===0&&(pt||vt)&&(!pt||!vt)?Wr(this):new this.Collection(this,function(){return Cr(lt,ut,!pt,!vt)})}catch{return nr(this,vr)}},Kn.prototype.equals=function(lt){return lt==null?nr(this,vr):new this.Collection(this,function(){return gs(lt)})},Kn.prototype.above=function(lt){return lt==null?nr(this,vr):new this.Collection(this,function(){return Cr(lt,void 0,!0)})},Kn.prototype.aboveOrEqual=function(lt){return lt==null?nr(this,vr):new this.Collection(this,function(){return Cr(lt,void 0,!1)})},Kn.prototype.below=function(lt){return lt==null?nr(this,vr):new this.Collection(this,function(){return Cr(void 0,lt,!1,!0)})},Kn.prototype.belowOrEqual=function(lt){return lt==null?nr(this,vr):new this.Collection(this,function(){return Cr(void 0,lt)})},Kn.prototype.startsWith=function(lt){return typeof lt!="string"?nr(this,ss):this.between(lt,lt+Nr,!0,!0)},Kn.prototype.startsWithIgnoreCase=function(lt){return lt===""?this.startsWith(lt):po(this,function(ut,pt){return ut.indexOf(pt[0])===0},[lt],Nr)},Kn.prototype.equalsIgnoreCase=function(lt){return po(this,function(ut,pt){return ut===pt[0]},[lt],"")},Kn.prototype.anyOfIgnoreCase=function(){var lt=sn.apply(Wt,arguments);return lt.length===0?Wr(this):po(this,function(ut,pt){return pt.indexOf(ut)!==-1},lt,"")},Kn.prototype.startsWithAnyOfIgnoreCase=function(){var lt=sn.apply(Wt,arguments);return lt.length===0?Wr(this):po(this,function(ut,pt){return pt.some(function(vt){return ut.indexOf(vt)===0})},lt,Nr)},Kn.prototype.anyOf=function(){var lt=this,ut=sn.apply(Wt,arguments),pt=this._cmp;try{ut.sort(pt)}catch{return nr(this,vr)}if(ut.length===0)return Wr(this);var vt=new this.Collection(this,function(){return Cr(ut[0],ut[ut.length-1])});vt._ondirectionchange=function(_t){pt=_t==="next"?lt._ascending:lt._descending,ut.sort(pt)};var yt=0;return vt._addAlgorithm(function(_t,Ct,jt){for(var It=_t.key;0<pt(It,ut[yt]);)if(++yt===ut.length)return Ct(jt),!1;return pt(It,ut[yt])===0||(Ct(function(){_t.continue(ut[yt])}),!1)}),vt},Kn.prototype.notEqual=function(lt){return this.inAnyRange([[-1/0,lt],[lt,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kn.prototype.noneOf=function(){var lt=sn.apply(Wt,arguments);if(lt.length===0)return new this.Collection(this);try{lt.sort(this._ascending)}catch{return nr(this,vr)}var ut=lt.reduce(function(pt,vt){return pt?pt.concat([[pt[pt.length-1][1],vt]]):[[-1/0,vt]]},null);return ut.push([lt[lt.length-1],this.db._maxKey]),this.inAnyRange(ut,{includeLowers:!1,includeUppers:!1})},Kn.prototype.inAnyRange=function(Ut,ut){var pt=this,vt=this._cmp,yt=this._ascending,_t=this._descending,Ct=this._min,jt=this._max;if(Ut.length===0)return Wr(this);if(!Ut.every(function(zt){return zt[0]!==void 0&&zt[1]!==void 0&&yt(zt[0],zt[1])<=0}))return nr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Zt.InvalidArgument);var It=!ut||ut.includeLowers!==!1,Ot=ut&&ut.includeUppers===!0,Dt,kt=yt;function Ft(zt,Kt){return kt(zt[0],Kt[0])}try{(Dt=Ut.reduce(function(zt,Kt){for(var Gt=0,an=zt.length;Gt<an;++Gt){var dn=zt[Gt];if(vt(Kt[0],dn[1])<0&&0<vt(Kt[1],dn[0])){dn[0]=Ct(dn[0],Kt[0]),dn[1]=jt(dn[1],Kt[1]);break}}return Gt===an&&zt.push(Kt),zt},[])).sort(Ft)}catch{return nr(this,vr)}var Nt=0,Mt=Ot?function(zt){return 0<yt(zt,Dt[Nt][1])}:function(zt){return 0<=yt(zt,Dt[Nt][1])},Ht=It?function(zt){return 0<_t(zt,Dt[Nt][0])}:function(zt){return 0<=_t(zt,Dt[Nt][0])},Lt=Mt,Ut=new this.Collection(this,function(){return Cr(Dt[0][0],Dt[Dt.length-1][1],!It,!Ot)});return Ut._ondirectionchange=function(zt){kt=zt==="next"?(Lt=Mt,yt):(Lt=Ht,_t),Dt.sort(Ft)},Ut._addAlgorithm(function(zt,Kt,Gt){for(var an,dn=zt.key;Lt(dn);)if(++Nt===Dt.length)return Kt(Gt),!1;return!Mt(an=dn)&&!Ht(an)||(pt._cmp(dn,Dt[Nt][1])===0||pt._cmp(dn,Dt[Nt][0])===0||Kt(function(){kt===yt?zt.continue(Dt[Nt][0]):zt.continue(Dt[Nt][1])}),!1)}),Ut},Kn.prototype.startsWithAnyOf=function(){var lt=sn.apply(Wt,arguments);return lt.every(function(ut){return typeof ut=="string"})?lt.length===0?Wr(this):this.inAnyRange(lt.map(function(ut){return[ut,ut+Nr]})):nr(this,"startsWithAnyOf() only works with strings")},Kn);function Kn(){}function dr(lt){return On(function(ut){return Zr(ut),lt(ut.target.error),!1})}function Zr(lt){lt.stopPropagation&&lt.stopPropagation(),lt.preventDefault&&lt.preventDefault()}var Jr="storagemutated",No="x-storagemutated-1",Rr=Qr(null,Jr),Hs=(pr.prototype._lock=function(){return St(!yn.global),++this._reculock,this._reculock!==1||yn.global||(yn.lockOwnerFor=this),this},pr.prototype._unlock=function(){if(St(!yn.global),--this._reculock==0)for(yn.global||(yn.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var lt=this._blockedFuncs.shift();try{Or(lt[1],lt[0])}catch{}}return this},pr.prototype._locked=function(){return this._reculock&&yn.lockOwnerFor!==this},pr.prototype.create=function(lt){var ut=this;if(!this.mode)return this;var pt=this.db.idbdb,vt=this.db._state.dbOpenError;if(St(!this.idbtrans),!lt&&!pt)switch(vt&&vt.name){case"DatabaseClosedError":throw new Zt.DatabaseClosed(vt);case"MissingAPIError":throw new Zt.MissingAPI(vt.message,vt);default:throw new Zt.OpenFailed(vt)}if(!this.active)throw new Zt.TransactionInactive;return St(this._completion._state===null),(lt=this.idbtrans=lt||(this.db.core||pt).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=On(function(yt){Zr(yt),ut._reject(lt.error)}),lt.onabort=On(function(yt){Zr(yt),ut.active&&ut._reject(new Zt.Abort(lt.error)),ut.active=!1,ut.on("abort").fire(yt)}),lt.oncomplete=On(function(){ut.active=!1,ut._resolve(),"mutatedParts"in lt&&Rr.storagemutated.fire(lt.mutatedParts)}),this},pr.prototype._promise=function(lt,ut,pt){var vt=this;if(lt==="readwrite"&&this.mode!=="readwrite")return qn(new Zt.ReadOnly("Transaction is readonly"));if(!this.active)return qn(new Zt.TransactionInactive);if(this._locked())return new Rt(function(_t,Ct){vt._blockedFuncs.push([function(){vt._promise(lt,ut,pt).then(_t,Ct)},yn])});if(pt)return wr(function(){var _t=new Rt(function(Ct,jt){vt._lock();var It=ut(Ct,jt,vt);It&&It.then&&It.then(Ct,jt)});return _t.finally(function(){return vt._unlock()}),_t._lib=!0,_t});var yt=new Rt(function(_t,Ct){var jt=ut(_t,Ct,vt);jt&&jt.then&&jt.then(_t,Ct)});return yt._lib=!0,yt},pr.prototype._root=function(){return this.parent?this.parent._root():this},pr.prototype.waitFor=function(lt){var ut,pt=this._root(),vt=Rt.resolve(lt);pt._waitingFor?pt._waitingFor=pt._waitingFor.then(function(){return vt}):(pt._waitingFor=vt,pt._waitingQueue=[],ut=pt.idbtrans.objectStore(pt.storeNames[0]),function _t(){for(++pt._spinCount;pt._waitingQueue.length;)pt._waitingQueue.shift()();pt._waitingFor&&(ut.get(-1/0).onsuccess=_t)}());var yt=pt._waitingFor;return new Rt(function(_t,Ct){vt.then(function(jt){return pt._waitingQueue.push(On(_t.bind(null,jt)))},function(jt){return pt._waitingQueue.push(On(Ct.bind(null,jt)))}).finally(function(){pt._waitingFor===yt&&(pt._waitingFor=null)})})},pr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Zt.Abort))},pr.prototype.table=function(lt){var ut=this._memoizedTables||(this._memoizedTables={});if(ot(ut,lt))return ut[lt];var pt=this.schema[lt];if(!pt)throw new Zt.NotFound("Table "+lt+" not part of transaction");return pt=new this.db.Table(lt,pt,this),pt.core=this.db.core.table(lt),ut[lt]=pt},pr);function pr(){}function Io(lt,ut,pt,vt,yt,_t,Ct){return{name:lt,keyPath:ut,unique:pt,multi:vt,auto:yt,compound:_t,src:(pt&&!Ct?"&":"")+(vt?"*":"")+(yt?"++":"")+xs(ut)}}function xs(lt){return typeof lt=="string"?lt:lt?"["+[].join.call(lt,"+")+"]":""}function Lo(lt,ut,pt){return{name:lt,primKey:ut,indexes:pt,mappedClass:null,idxByName:(vt=function(yt){return[yt.name,yt]},pt.reduce(function(yt,_t,Ct){return Ct=vt(_t,Ct),Ct&&(yt[Ct[0]]=Ct[1]),yt},{}))};var vt}var eo=function(lt){try{return lt.only([[]]),eo=function(){return[[]]},[[]]}catch{return eo=function(){return Nr},Nr}};function Mo(lt){return lt==null?function(){}:typeof lt=="string"?(ut=lt).split(".").length===1?function(pt){return pt[ut]}:function(pt){return $t(pt,ut)}:function(pt){return $t(pt,lt)};var ut}function ys(lt){return[].slice.call(lt)}var Bs=0;function no(lt){return lt==null?":id":typeof lt=="string"?lt:"[".concat(lt.join("+"),"]")}function Us(lt,ut,It){function vt(Lt){if(Lt.type===3)return null;if(Lt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Nt=Lt.lower,Mt=Lt.upper,Ht=Lt.lowerOpen,Lt=Lt.upperOpen;return Nt===void 0?Mt===void 0?null:ut.upperBound(Mt,!!Lt):Mt===void 0?ut.lowerBound(Nt,!!Ht):ut.bound(Nt,Mt,!!Ht,!!Lt)}function yt(Ft){var Nt,Mt=Ft.name;return{name:Mt,schema:Ft,mutate:function(Ht){var Lt=Ht.trans,Ut=Ht.type,zt=Ht.keys,Kt=Ht.values,Gt=Ht.range;return new Promise(function(an,dn){an=On(an);var ln=Lt.objectStore(Mt),fn=ln.keyPath==null,pn=Ut==="put"||Ut==="add";if(!pn&&Ut!=="delete"&&Ut!=="deleteRange")throw new Error("Invalid operation type: "+Ut);var on,Cn=(zt||Kt||{length:1}).length;if(zt&&Kt&&zt.length!==Kt.length)throw new Error("Given keys array must have same length as given values array.");if(Cn===0)return an({numFailures:0,failures:{},results:[],lastResult:void 0});function Rn(er){++ar,Zr(er)}var $n=[],Pn=[],ar=0;if(Ut==="deleteRange"){if(Gt.type===4)return an({numFailures:ar,failures:Pn,results:[],lastResult:void 0});Gt.type===3?$n.push(on=ln.clear()):$n.push(on=ln.delete(vt(Gt)))}else{var fn=pn?fn?[Kt,zt]:[Kt,null]:[zt,null],jn=fn[0],Gn=fn[1];if(pn)for(var Qn=0;Qn<Cn;++Qn)$n.push(on=Gn&&Gn[Qn]!==void 0?ln[Ut](jn[Qn],Gn[Qn]):ln[Ut](jn[Qn])),on.onerror=Rn;else for(Qn=0;Qn<Cn;++Qn)$n.push(on=ln[Ut](jn[Qn])),on.onerror=Rn}function Ro(er){er=er.target.result,$n.forEach(function(Dr,ns){return Dr.error!=null&&(Pn[ns]=Dr.error)}),an({numFailures:ar,failures:Pn,results:Ut==="delete"?zt:$n.map(function(Dr){return Dr.result}),lastResult:er})}on.onerror=function(er){Rn(er),Ro(er)},on.onsuccess=Ro})},getMany:function(Ht){var Lt=Ht.trans,Ut=Ht.keys;return new Promise(function(zt,Kt){zt=On(zt);for(var Gt,an=Lt.objectStore(Mt),dn=Ut.length,ln=new Array(dn),fn=0,pn=0,on=function($n){$n=$n.target,ln[$n._pos]=$n.result,++pn===fn&&zt(ln)},Cn=dr(Kt),Rn=0;Rn<dn;++Rn)Ut[Rn]!=null&&((Gt=an.get(Ut[Rn]))._pos=Rn,Gt.onsuccess=on,Gt.onerror=Cn,++fn);fn===0&&zt(ln)})},get:function(Ht){var Lt=Ht.trans,Ut=Ht.key;return new Promise(function(zt,Kt){zt=On(zt);var Gt=Lt.objectStore(Mt).get(Ut);Gt.onsuccess=function(an){return zt(an.target.result)},Gt.onerror=dr(Kt)})},query:(Nt=Ot,function(Ht){return new Promise(function(Lt,Ut){Lt=On(Lt);var zt,Kt,Gt,fn=Ht.trans,an=Ht.values,dn=Ht.limit,on=Ht.query,ln=dn===1/0?void 0:dn,pn=on.index,on=on.range,fn=fn.objectStore(Mt),pn=pn.isPrimaryKey?fn:fn.index(pn.name),on=vt(on);if(dn===0)return Lt({result:[]});Nt?((ln=an?pn.getAll(on,ln):pn.getAllKeys(on,ln)).onsuccess=function(Cn){return Lt({result:Cn.target.result})},ln.onerror=dr(Ut)):(zt=0,Kt=!an&&"openKeyCursor"in pn?pn.openKeyCursor(on):pn.openCursor(on),Gt=[],Kt.onsuccess=function(Cn){var Rn=Kt.result;return Rn?(Gt.push(an?Rn.value:Rn.primaryKey),++zt===dn?Lt({result:Gt}):void Rn.continue()):Lt({result:Gt})},Kt.onerror=dr(Ut))})}),openCursor:function(Ht){var Lt=Ht.trans,Ut=Ht.values,zt=Ht.query,Kt=Ht.reverse,Gt=Ht.unique;return new Promise(function(an,dn){an=On(an);var pn=zt.index,ln=zt.range,fn=Lt.objectStore(Mt),fn=pn.isPrimaryKey?fn:fn.index(pn.name),pn=Kt?Gt?"prevunique":"prev":Gt?"nextunique":"next",on=!Ut&&"openKeyCursor"in fn?fn.openKeyCursor(vt(ln),pn):fn.openCursor(vt(ln),pn);on.onerror=dr(dn),on.onsuccess=On(function(Cn){var Rn,$n,Pn,ar,jn=on.result;jn?(jn.___id=++Bs,jn.done=!1,Rn=jn.continue.bind(jn),$n=($n=jn.continuePrimaryKey)&&$n.bind(jn),Pn=jn.advance.bind(jn),ar=function(){throw new Error("Cursor not stopped")},jn.trans=Lt,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=On(dn),jn.next=function(){var Gn=this,Qn=1;return this.start(function(){return Qn--?Gn.continue():Gn.stop()}).then(function(){return Gn})},jn.start=function(Gn){function Qn(){if(on.result)try{Gn()}catch(er){jn.fail(er)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var Ro=new Promise(function(er,Dr){er=On(er),on.onerror=dr(Dr),jn.fail=Dr,jn.stop=function(ns){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=ar,er(ns)}});return on.onsuccess=On(function(er){on.onsuccess=Qn,Qn()}),jn.continue=Rn,jn.continuePrimaryKey=$n,jn.advance=Pn,Qn(),Ro},an(jn)):an(null)},dn)})},count:function(Ht){var Lt=Ht.query,Ut=Ht.trans,zt=Lt.index,Kt=Lt.range;return new Promise(function(Gt,an){var dn=Ut.objectStore(Mt),ln=zt.isPrimaryKey?dn:dn.index(zt.name),dn=vt(Kt),ln=dn?ln.count(dn):ln.count();ln.onsuccess=On(function(fn){return Gt(fn.target.result)}),ln.onerror=dr(an)})}}}var _t,Ct,jt,Dt=(Ct=It,jt=ys((_t=lt).objectStoreNames),{schema:{name:_t.name,tables:jt.map(function(Ft){return Ct.objectStore(Ft)}).map(function(Ft){var Nt=Ft.keyPath,Lt=Ft.autoIncrement,Mt=rt(Nt),Ht={},Lt={name:Ft.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Nt==null,compound:Mt,keyPath:Nt,autoIncrement:Lt,unique:!0,extractKey:Mo(Nt)},indexes:ys(Ft.indexNames).map(function(Ut){return Ft.index(Ut)}).map(function(Gt){var zt=Gt.name,Kt=Gt.unique,an=Gt.multiEntry,Gt=Gt.keyPath,an={name:zt,compound:rt(Gt),keyPath:Gt,unique:Kt,multiEntry:an,extractKey:Mo(Gt)};return Ht[no(Gt)]=an}),getIndexByKeyPath:function(Ut){return Ht[no(Ut)]}};return Ht[":id"]=Lt.primaryKey,Nt!=null&&(Ht[no(Nt)]=Lt.primaryKey),Lt})},hasGetAll:0<jt.length&&"getAll"in Ct.objectStore(jt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),It=Dt.schema,Ot=Dt.hasGetAll,Dt=It.tables.map(yt),kt={};return Dt.forEach(function(Ft){return kt[Ft.name]=Ft}),{stack:"dbcore",transaction:lt.transaction.bind(lt),table:function(Ft){if(!kt[Ft])throw new Error("Table '".concat(Ft,"' not found"));return kt[Ft]},MIN_KEY:-1/0,MAX_KEY:eo(ut),schema:It}}function Vs(lt,ut,pt,vt){var yt=pt.IDBKeyRange;return pt.indexedDB,{dbcore:(vt=Us(ut,yt,vt),lt.dbcore.reduce(function(_t,Ct){return Ct=Ct.create,_e(_e({},_t),Ct(_t))},vt))}}function ho(lt,vt){var pt=vt.db,vt=Vs(lt._middlewares,pt,lt._deps,vt);lt.core=vt.dbcore,lt.tables.forEach(function(yt){var _t=yt.name;lt.core.schema.tables.some(function(Ct){return Ct.name===_t})&&(yt.core=lt.core.table(_t),lt[_t]instanceof lt.Table&&(lt[_t].core=yt.core))})}function mo(lt,ut,pt,vt){pt.forEach(function(yt){var _t=vt[yt];ut.forEach(function(Ct){var jt=function It(Ot,Dt){return xt(Ot,Dt)||(Ot=it(Ot))&&It(Ot,Dt)}(Ct,yt);(!jt||"value"in jt&&jt.value===void 0)&&(Ct===lt.Transaction.prototype||Ct instanceof lt.Transaction?dt(Ct,yt,{get:function(){return this.table(yt)},set:function(It){ft(this,yt,{value:It,writable:!0,configurable:!0,enumerable:!0})}}):Ct[yt]=new lt.Table(yt,_t))})})}function Do(lt,ut){ut.forEach(function(pt){for(var vt in pt)pt[vt]instanceof lt.Table&&delete pt[vt]})}function qs(lt,ut){return lt._cfg.version-ut._cfg.version}function zs(lt,ut,pt,vt){var yt=lt._dbSchema;pt.objectStoreNames.contains("$meta")&&!yt.$meta&&(yt.$meta=Lo("$meta",_s("")[0],[]),lt._storeNames.push("$meta"));var _t=lt._createTransaction("readwrite",lt._storeNames,yt);_t.create(pt),_t._completion.catch(vt);var Ct=_t._reject.bind(_t),jt=yn.transless||yn;wr(function(){return yn.trans=_t,yn.transless=jt,ut!==0?(ho(lt,pt),Ot=ut,((It=_t).storeNames.includes("$meta")?It.table("$meta").get("version").then(function(Dt){return Dt??Ot}):Rt.resolve(Ot)).then(function(Dt){return Ft=Dt,Nt=_t,Mt=pt,Ht=[],Dt=(kt=lt)._versions,Lt=kt._dbSchema=vo(0,kt.idbdb,Mt),(Dt=Dt.filter(function(Ut){return Ut._cfg.version>=Ft})).length!==0?(Dt.forEach(function(Ut){Ht.push(function(){var zt=Lt,Kt=Ut._cfg.dbschema;xo(kt,zt,Mt),xo(kt,Kt,Mt),Lt=kt._dbSchema=Kt;var Gt=Fo(zt,Kt);Gt.add.forEach(function(pn){Ho(Mt,pn[0],pn[1].primKey,pn[1].indexes)}),Gt.change.forEach(function(pn){if(pn.recreate)throw new Zt.Upgrade("Not yet support for changing primary key");var on=Mt.objectStore(pn.name);pn.add.forEach(function(Cn){return go(on,Cn)}),pn.change.forEach(function(Cn){on.deleteIndex(Cn.name),go(on,Cn)}),pn.del.forEach(function(Cn){return on.deleteIndex(Cn)})});var an=Ut._cfg.contentUpgrade;if(an&&Ut._cfg.version>Ft){ho(kt,Mt),Nt._memoizedTables={};var dn=Pt(Kt);Gt.del.forEach(function(pn){dn[pn]=zt[pn]}),Do(kt,[kt.Transaction.prototype]),mo(kt,[kt.Transaction.prototype],nt(dn),dn),Nt.schema=dn;var ln,fn=Qt(an);return fn&&Vr(),Gt=Rt.follow(function(){var pn;(ln=an(Nt))&&fn&&(pn=br.bind(null,null),ln.then(pn,pn))}),ln&&typeof ln.then=="function"?Rt.resolve(ln):Gt.then(function(){return ln})}}),Ht.push(function(zt){var Kt,Gt,an=Ut._cfg.dbschema;Kt=an,Gt=zt,[].slice.call(Gt.db.objectStoreNames).forEach(function(dn){return Kt[dn]==null&&Gt.db.deleteObjectStore(dn)}),Do(kt,[kt.Transaction.prototype]),mo(kt,[kt.Transaction.prototype],kt._storeNames,kt._dbSchema),Nt.schema=kt._dbSchema}),Ht.push(function(zt){kt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(kt.idbdb.version/10)===Ut._cfg.version?(kt.idbdb.deleteObjectStore("$meta"),delete kt._dbSchema.$meta,kt._storeNames=kt._storeNames.filter(function(Kt){return Kt!=="$meta"})):zt.objectStore("$meta").put(Ut._cfg.version,"version"))})}),function Ut(){return Ht.length?Rt.resolve(Ht.shift()(Nt.idbtrans)).then(Ut):Rt.resolve()}().then(function(){Es(Lt,Mt)})):Rt.resolve();var kt,Ft,Nt,Mt,Ht,Lt}).catch(Ct)):(nt(yt).forEach(function(Dt){Ho(pt,Dt,yt[Dt].primKey,yt[Dt].indexes)}),ho(lt,pt),void Rt.follow(function(){return lt.on.populate.fire(_t)}).catch(Ct));var It,Ot})}function Ws(lt,ut){Es(lt._dbSchema,ut),ut.db.version%10!=0||ut.objectStoreNames.contains("$meta")||ut.db.createObjectStore("$meta").add(Math.ceil(ut.db.version/10-1),"version");var pt=vo(0,lt.idbdb,ut);xo(lt,lt._dbSchema,ut);for(var vt=0,yt=Fo(pt,lt._dbSchema).change;vt<yt.length;vt++){var _t=function(Ct){if(Ct.change.length||Ct.recreate)return console.warn("Unable to patch indexes of table ".concat(Ct.name," because it has changes on the type of index or primary key.")),{value:void 0};var jt=ut.objectStore(Ct.name);Ct.add.forEach(function(It){tr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Ct.name,".").concat(It.src)),go(jt,It)})}(yt[vt]);if(typeof _t=="object")return _t.value}}function Fo(lt,ut){var pt,vt={del:[],add:[],change:[]};for(pt in lt)ut[pt]||vt.del.push(pt);for(pt in ut){var yt=lt[pt],_t=ut[pt];if(yt){var Ct={name:pt,def:_t,recreate:!1,del:[],add:[],change:[]};if(""+(yt.primKey.keyPath||"")!=""+(_t.primKey.keyPath||"")||yt.primKey.auto!==_t.primKey.auto)Ct.recreate=!0,vt.change.push(Ct);else{var jt=yt.idxByName,It=_t.idxByName,Ot=void 0;for(Ot in jt)It[Ot]||Ct.del.push(Ot);for(Ot in It){var Dt=jt[Ot],kt=It[Ot];Dt?Dt.src!==kt.src&&Ct.change.push(kt):Ct.add.push(kt)}(0<Ct.del.length||0<Ct.add.length||0<Ct.change.length)&&vt.change.push(Ct)}}else vt.add.push([pt,_t])}return vt}function Ho(lt,ut,pt,vt){var yt=lt.db.createObjectStore(ut,pt.keyPath?{keyPath:pt.keyPath,autoIncrement:pt.auto}:{autoIncrement:pt.auto});return vt.forEach(function(_t){return go(yt,_t)}),yt}function Es(lt,ut){nt(lt).forEach(function(pt){ut.db.objectStoreNames.contains(pt)||(tr&&console.debug("Dexie: Creating missing table",pt),Ho(ut,pt,lt[pt].primKey,lt[pt].indexes))})}function go(lt,ut){lt.createIndex(ut.name,ut.keyPath,{unique:ut.unique,multiEntry:ut.multi})}function vo(lt,ut,pt){var vt={};return gt(ut.objectStoreNames,0).forEach(function(yt){for(var _t=pt.objectStore(yt),Ct=Io(xs(Ot=_t.keyPath),Ot||"",!0,!1,!!_t.autoIncrement,Ot&&typeof Ot!="string",!0),jt=[],It=0;It<_t.indexNames.length;++It){var Dt=_t.index(_t.indexNames[It]),Ot=Dt.keyPath,Dt=Io(Dt.name,Ot,!!Dt.unique,!!Dt.multiEntry,!1,Ot&&typeof Ot!="string",!1);jt.push(Dt)}vt[yt]=Lo(yt,Ct,jt)}),vt}function xo(lt,ut,pt){for(var vt=pt.db.objectStoreNames,yt=0;yt<vt.length;++yt){var _t=vt[yt],Ct=pt.objectStore(_t);lt._hasGetAll="getAll"in Ct;for(var jt=0;jt<Ct.indexNames.length;++jt){var It=Ct.indexNames[jt],Ot=Ct.index(It).keyPath,Dt=typeof Ot=="string"?Ot:"["+gt(Ot).join("+")+"]";!ut[_t]||(Ot=ut[_t].idxByName[Dt])&&(Ot.name=It,delete ut[_t].idxByName[Dt],ut[_t].idxByName[It]=Ot)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&tt.WorkerGlobalScope&&tt instanceof tt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(lt._hasGetAll=!1)}function _s(lt){return lt.split(",").map(function(ut,pt){var vt=(ut=ut.trim()).replace(/([&*]|\+\+)/g,""),yt=/^\[/.test(vt)?vt.match(/^\[(.*)\]$/)[1].split("+"):vt;return Io(vt,yt||null,/\&/.test(ut),/\*/.test(ut),/\+\+/.test(ut),rt(yt),pt===0)})}var Ks=(yo.prototype._parseStoresSpec=function(lt,ut){nt(lt).forEach(function(pt){if(lt[pt]!==null){var vt=_s(lt[pt]),yt=vt.shift();if(yt.unique=!0,yt.multi)throw new Zt.Schema("Primary key cannot be multi-valued");vt.forEach(function(_t){if(_t.auto)throw new Zt.Schema("Only primary key can be marked as autoIncrement (++)");if(!_t.keyPath)throw new Zt.Schema("Index must have a name and cannot be an empty string")}),ut[pt]=Lo(pt,yt,vt)}})},yo.prototype.stores=function(pt){var ut=this.db;this._cfg.storesSource=this._cfg.storesSource?st(this._cfg.storesSource,pt):pt;var pt=ut._versions,vt={},yt={};return pt.forEach(function(_t){st(vt,_t._cfg.storesSource),yt=_t._cfg.dbschema={},_t._parseStoresSpec(vt,yt)}),ut._dbSchema=yt,Do(ut,[ut._allTables,ut,ut.Transaction.prototype]),mo(ut,[ut._allTables,ut,ut.Transaction.prototype,this._cfg.tables],nt(yt),yt),ut._storeNames=nt(yt),this},yo.prototype.upgrade=function(lt){return this._cfg.contentUpgrade=Fr(this._cfg.contentUpgrade||xn,lt),this},yo);function yo(){}function Bo(lt,ut){var pt=lt._dbNamesDB;return pt||(pt=lt._dbNamesDB=new yr(lo,{addons:[],indexedDB:lt,IDBKeyRange:ut})).version(1).stores({dbnames:"name"}),pt.table("dbnames")}function Uo(lt){return lt&&typeof lt.databases=="function"}function Vo(lt){return wr(function(){return yn.letThrough=!0,lt()})}function qo(lt){return!("from"in lt)}var Jn=function(lt,ut){if(!this){var pt=new Jn;return lt&&"d"in lt&&st(pt,lt),pt}st(this,arguments.length?{d:1,from:lt,to:1<arguments.length?ut:lt}:{d:0})};function ro(lt,ut,pt){var vt=Nn(ut,pt);if(!isNaN(vt)){if(0<vt)throw RangeError();if(qo(lt))return st(lt,{from:ut,to:pt,d:1});var yt=lt.l,vt=lt.r;if(Nn(pt,lt.from)<0)return yt?ro(yt,ut,pt):lt.l={from:ut,to:pt,d:1,l:null,r:null},bs(lt);if(0<Nn(ut,lt.to))return vt?ro(vt,ut,pt):lt.r={from:ut,to:pt,d:1,l:null,r:null},bs(lt);Nn(ut,lt.from)<0&&(lt.from=ut,lt.l=null,lt.d=vt?vt.d+1:1),0<Nn(pt,lt.to)&&(lt.to=pt,lt.r=null,lt.d=lt.l?lt.l.d+1:1),pt=!lt.r,yt&&!lt.l&&oo(lt,yt),vt&&pt&&oo(lt,vt)}}function oo(lt,ut){qo(ut)||function pt(vt,It){var _t=It.from,Ct=It.to,jt=It.l,It=It.r;ro(vt,_t,Ct),jt&&pt(vt,jt),It&&pt(vt,It)}(lt,ut)}function ws(lt,ut){var pt=Eo(ut),vt=pt.next();if(vt.done)return!1;for(var yt=vt.value,_t=Eo(lt),Ct=_t.next(yt.from),jt=Ct.value;!vt.done&&!Ct.done;){if(Nn(jt.from,yt.to)<=0&&0<=Nn(jt.to,yt.from))return!0;Nn(yt.from,jt.from)<0?yt=(vt=pt.next(jt.from)).value:jt=(Ct=_t.next(yt.from)).value}return!1}function Eo(lt){var ut=qo(lt)?null:{s:0,n:lt};return{next:function(pt){for(var vt=0<arguments.length;ut;)switch(ut.s){case 0:if(ut.s=1,vt)for(;ut.n.l&&Nn(pt,ut.n.from)<0;)ut={up:ut,n:ut.n.l,s:1};else for(;ut.n.l;)ut={up:ut,n:ut.n.l,s:1};case 1:if(ut.s=2,!vt||Nn(pt,ut.n.to)<=0)return{value:ut.n,done:!1};case 2:if(ut.n.r){ut.s=3,ut={up:ut,n:ut.n.r,s:0};continue}case 3:ut=ut.up}return{done:!0}}}}function bs(lt){var ut,pt,vt=(((ut=lt.r)===null||ut===void 0?void 0:ut.d)||0)-(((pt=lt.l)===null||pt===void 0?void 0:pt.d)||0),yt=1<vt?"r":vt<-1?"l":"";yt&&(ut=yt=="r"?"l":"r",pt=_e({},lt),vt=lt[yt],lt.from=vt.from,lt.to=vt.to,lt[yt]=vt[yt],pt[yt]=vt[ut],(lt[ut]=pt).d=Ss(pt)),lt.d=Ss(lt)}function Ss(pt){var ut=pt.r,pt=pt.l;return(ut?pt?Math.max(ut.d,pt.d):ut.d:pt?pt.d:0)+1}function _o(lt,ut){return nt(ut).forEach(function(pt){lt[pt]?oo(lt[pt],ut[pt]):lt[pt]=function vt(yt){var _t,Ct,jt={};for(_t in yt)ot(yt,_t)&&(Ct=yt[_t],jt[_t]=!Ct||typeof Ct!="object"||Yt.has(Ct.constructor)?Ct:vt(Ct));return jt}(ut[pt])}),lt}function zo(lt,ut){return lt.all||ut.all||Object.keys(lt).some(function(pt){return ut[pt]&&ws(ut[pt],lt[pt])})}at(Jn.prototype,((or={add:function(lt){return oo(this,lt),this},addKey:function(lt){return ro(this,lt,lt),this},addKeys:function(lt){var ut=this;return lt.forEach(function(pt){return ro(ut,pt,pt)}),this},hasKey:function(lt){var ut=Eo(this).next(lt).value;return ut&&Nn(ut.from,lt)<=0&&0<=Nn(ut.to,lt)}})[en]=function(){return Eo(this)},or));var Lr={},Wo={},Ko=!1;function wo(lt){_o(Wo,lt),Ko||(Ko=!0,setTimeout(function(){Ko=!1,Go(Wo,!(Wo={}))},0))}function Go(lt,ut){ut===void 0&&(ut=!1);var pt=new Set;if(lt.all)for(var vt=0,yt=Object.values(Lr);vt<yt.length;vt++)Cs(Ct=yt[vt],lt,pt,ut);else for(var _t in lt){var Ct,jt=/^idb\:\/\/(.*)\/(.*)\//.exec(_t);jt&&(_t=jt[1],jt=jt[2],(Ct=Lr["idb://".concat(_t,"/").concat(jt)])&&Cs(Ct,lt,pt,ut))}pt.forEach(function(It){return It()})}function Cs(lt,ut,pt,vt){for(var yt=[],_t=0,Ct=Object.entries(lt.queries.query);_t<Ct.length;_t++){for(var jt=Ct[_t],It=jt[0],Ot=[],Dt=0,kt=jt[1];Dt<kt.length;Dt++){var Ft=kt[Dt];zo(ut,Ft.obsSet)?Ft.subscribers.forEach(function(Lt){return pt.add(Lt)}):vt&&Ot.push(Ft)}vt&&yt.push([It,Ot])}if(vt)for(var Nt=0,Mt=yt;Nt<Mt.length;Nt++){var Ht=Mt[Nt],It=Ht[0],Ot=Ht[1];lt.queries.query[It]=Ot}}function Gs(lt){var ut=lt._state,pt=lt._deps.indexedDB;if(ut.isBeingOpened||lt.idbdb)return ut.dbReadyPromise.then(function(){return ut.dbOpenError?qn(ut.dbOpenError):lt});ut.isBeingOpened=!0,ut.dbOpenError=null,ut.openComplete=!1;var vt=ut.openCanceller,yt=Math.round(10*lt.verno),_t=!1;function Ct(){if(ut.openCanceller!==vt)throw new Zt.DatabaseClosed("db.open() was cancelled")}function jt(){return new Rt(function(Ft,Nt){if(Ct(),!pt)throw new Zt.MissingAPI;var Mt=lt.name,Ht=ut.autoSchema||!yt?pt.open(Mt):pt.open(Mt,yt);if(!Ht)throw new Zt.MissingAPI;Ht.onerror=dr(Nt),Ht.onblocked=On(lt._fireOnBlocked),Ht.onupgradeneeded=On(function(Lt){var Ut;Dt=Ht.transaction,ut.autoSchema&&!lt._options.allowEmptyDB?(Ht.onerror=Zr,Dt.abort(),Ht.result.close(),(Ut=pt.deleteDatabase(Mt)).onsuccess=Ut.onerror=On(function(){Nt(new Zt.NoSuchDatabase("Database ".concat(Mt," doesnt exist")))})):(Dt.onerror=dr(Nt),Lt=Lt.oldVersion>Math.pow(2,62)?0:Lt.oldVersion,kt=Lt<1,lt.idbdb=Ht.result,_t&&Ws(lt,Dt),zs(lt,Lt/10,Dt,Nt))},Nt),Ht.onsuccess=On(function(){Dt=null;var Lt,Ut,zt,Kt,Gt,an=lt.idbdb=Ht.result,dn=gt(an.objectStoreNames);if(0<dn.length)try{var ln=an.transaction((Kt=dn).length===1?Kt[0]:Kt,"readonly");if(ut.autoSchema)Ut=an,zt=ln,(Lt=lt).verno=Ut.version/10,zt=Lt._dbSchema=vo(0,Ut,zt),Lt._storeNames=gt(Ut.objectStoreNames,0),mo(Lt,[Lt._allTables],nt(zt),zt);else if(xo(lt,lt._dbSchema,ln),((Gt=Fo(vo(0,(Gt=lt).idbdb,ln),Gt._dbSchema)).add.length||Gt.change.some(function(fn){return fn.add.length||fn.change.length}))&&!_t)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),an.close(),yt=an.version+1,_t=!0,Ft(jt());ho(lt,ln)}catch{}qr.push(lt),an.onversionchange=On(function(fn){ut.vcFired=!0,lt.on("versionchange").fire(fn)}),an.onclose=On(function(fn){lt.on("close").fire(fn)}),kt&&(Gt=lt._deps,ln=Mt,an=Gt.indexedDB,Gt=Gt.IDBKeyRange,Uo(an)||ln===lo||Bo(an,Gt).put({name:ln}).catch(xn)),Ft()},Nt)}).catch(function(Ft){switch(Ft==null?void 0:Ft.name){case"UnknownError":if(0<ut.PR1398_maxLoop)return ut.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),jt();break;case"VersionError":if(0<yt)return yt=0,jt()}return Rt.reject(Ft)})}var It,Ot=ut.dbReadyResolve,Dt=null,kt=!1;return Rt.race([vt,(typeof navigator>"u"?Rt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ft){function Nt(){return indexedDB.databases().finally(Ft)}It=setInterval(Nt,100),Nt()}).finally(function(){return clearInterval(It)}):Promise.resolve()).then(jt)]).then(function(){return Ct(),ut.onReadyBeingFired=[],Rt.resolve(Vo(function(){return lt.on.ready.fire(lt.vip)})).then(function Ft(){if(0<ut.onReadyBeingFired.length){var Nt=ut.onReadyBeingFired.reduce(Fr,xn);return ut.onReadyBeingFired=[],Rt.resolve(Vo(function(){return Nt(lt.vip)})).then(Ft)}})}).finally(function(){ut.openCanceller===vt&&(ut.onReadyBeingFired=null,ut.isBeingOpened=!1)}).catch(function(Ft){ut.dbOpenError=Ft;try{Dt&&Dt.abort()}catch{}return vt===ut.openCanceller&&lt._close(),qn(Ft)}).finally(function(){ut.openComplete=!0,Ot()}).then(function(){var Ft;return kt&&(Ft={},lt.tables.forEach(function(Nt){Nt.schema.indexes.forEach(function(Mt){Mt.name&&(Ft["idb://".concat(lt.name,"/").concat(Nt.name,"/").concat(Mt.name)]=new Jn(-1/0,[[[]]]))}),Ft["idb://".concat(lt.name,"/").concat(Nt.name,"/")]=Ft["idb://".concat(lt.name,"/").concat(Nt.name,"/:dels")]=new Jn(-1/0,[[[]]])}),Rr(Jr).fire(Ft),Go(Ft,!0)),lt})}function Qo(lt){function ut(_t){return lt.next(_t)}var pt=yt(ut),vt=yt(function(_t){return lt.throw(_t)});function yt(_t){return function(It){var jt=_t(It),It=jt.value;return jt.done?It:It&&typeof It.then=="function"?It.then(pt,vt):rt(It)?Promise.all(It).then(pt,vt):pt(It)}}return yt(ut)()}function bo(lt,ut,pt){for(var vt=rt(lt)?lt.slice():[lt],yt=0;yt<pt;++yt)vt.push(ut);return vt}var Qs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(lt){return _e(_e({},lt),{table:function(ut){var pt=lt.table(ut),vt=pt.schema,yt={},_t=[];function Ct(kt,Ft,Nt){var Mt=no(kt),Ht=yt[Mt]=yt[Mt]||[],Lt=kt==null?0:typeof kt=="string"?1:kt.length,Ut=0<Ft,Ut=_e(_e({},Nt),{name:Ut?"".concat(Mt,"(virtual-from:").concat(Nt.name,")"):Nt.name,lowLevelIndex:Nt,isVirtual:Ut,keyTail:Ft,keyLength:Lt,extractKey:Mo(kt),unique:!Ut&&Nt.unique});return Ht.push(Ut),Ut.isPrimaryKey||_t.push(Ut),1<Lt&&Ct(Lt===2?kt[0]:kt.slice(0,Lt-1),Ft+1,Nt),Ht.sort(function(zt,Kt){return zt.keyTail-Kt.keyTail}),Ut}ut=Ct(vt.primaryKey.keyPath,0,vt.primaryKey),yt[":id"]=[ut];for(var jt=0,It=vt.indexes;jt<It.length;jt++){var Ot=It[jt];Ct(Ot.keyPath,0,Ot)}function Dt(kt){var Ft,Nt=kt.query.index;return Nt.isVirtual?_e(_e({},kt),{query:{index:Nt.lowLevelIndex,range:(Ft=kt.query.range,Nt=Nt.keyTail,{type:Ft.type===1?2:Ft.type,lower:bo(Ft.lower,Ft.lowerOpen?lt.MAX_KEY:lt.MIN_KEY,Nt),lowerOpen:!0,upper:bo(Ft.upper,Ft.upperOpen?lt.MIN_KEY:lt.MAX_KEY,Nt),upperOpen:!0})}}):kt}return _e(_e({},pt),{schema:_e(_e({},vt),{primaryKey:ut,indexes:_t,getIndexByKeyPath:function(kt){return(kt=yt[no(kt)])&&kt[0]}}),count:function(kt){return pt.count(Dt(kt))},query:function(kt){return pt.query(Dt(kt))},openCursor:function(kt){var Ft=kt.query.index,Nt=Ft.keyTail,Mt=Ft.isVirtual,Ht=Ft.keyLength;return Mt?pt.openCursor(Dt(kt)).then(function(Ut){return Ut&&Lt(Ut)}):pt.openCursor(kt);function Lt(Ut){return Object.create(Ut,{continue:{value:function(zt){zt!=null?Ut.continue(bo(zt,kt.reverse?lt.MAX_KEY:lt.MIN_KEY,Nt)):kt.unique?Ut.continue(Ut.key.slice(0,Ht).concat(kt.reverse?lt.MIN_KEY:lt.MAX_KEY,Nt)):Ut.continue()}},continuePrimaryKey:{value:function(zt,Kt){Ut.continuePrimaryKey(bo(zt,lt.MAX_KEY,Nt),Kt)}},primaryKey:{get:function(){return Ut.primaryKey}},key:{get:function(){var zt=Ut.key;return Ht===1?zt[0]:zt.slice(0,Ht)}},value:{get:function(){return Ut.value}}})}}})}})}};function Yo(lt,ut,pt,vt){return pt=pt||{},vt=vt||"",nt(lt).forEach(function(yt){var _t,Ct,jt;ot(ut,yt)?(_t=lt[yt],Ct=ut[yt],typeof _t=="object"&&typeof Ct=="object"&&_t&&Ct?(jt=Xt(_t))!==Xt(Ct)?pt[vt+yt]=ut[yt]:jt==="Object"?Yo(_t,Ct,pt,vt+yt+"."):_t!==Ct&&(pt[vt+yt]=ut[yt]):_t!==Ct&&(pt[vt+yt]=ut[yt])):pt[vt+yt]=void 0}),nt(ut).forEach(function(yt){ot(lt,yt)||(pt[vt+yt]=ut[yt])}),pt}function Xo(lt,ut){return ut.type==="delete"?ut.keys:ut.keys||ut.values.map(lt.extractKey)}var Ys={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(lt){return _e(_e({},lt),{table:function(ut){var pt=lt.table(ut),vt=pt.schema.primaryKey;return _e(_e({},pt),{mutate:function(yt){var _t=yn.trans,Ct=_t.table(ut).hook,jt=Ct.deleting,It=Ct.creating,Ot=Ct.updating;switch(yt.type){case"add":if(It.fire===xn)break;return _t._promise("readwrite",function(){return Dt(yt)},!0);case"put":if(It.fire===xn&&Ot.fire===xn)break;return _t._promise("readwrite",function(){return Dt(yt)},!0);case"delete":if(jt.fire===xn)break;return _t._promise("readwrite",function(){return Dt(yt)},!0);case"deleteRange":if(jt.fire===xn)break;return _t._promise("readwrite",function(){return function kt(Ft,Nt,Mt){return pt.query({trans:Ft,values:!1,query:{index:vt,range:Nt},limit:Mt}).then(function(Ht){var Lt=Ht.result;return Dt({type:"delete",keys:Lt,trans:Ft}).then(function(Ut){return 0<Ut.numFailures?Promise.reject(Ut.failures[0]):Lt.length<Mt?{failures:[],numFailures:0,lastResult:void 0}:kt(Ft,_e(_e({},Nt),{lower:Lt[Lt.length-1],lowerOpen:!0}),Mt)})})}(yt.trans,yt.range,1e4)},!0)}return pt.mutate(yt);function Dt(kt){var Ft,Nt,Mt,Ht=yn.trans,Lt=kt.keys||Xo(vt,kt);if(!Lt)throw new Error("Keys missing");return(kt=kt.type==="add"||kt.type==="put"?_e(_e({},kt),{keys:Lt}):_e({},kt)).type!=="delete"&&(kt.values=et([],kt.values)),kt.keys&&(kt.keys=et([],kt.keys)),Ft=pt,Mt=Lt,((Nt=kt).type==="add"?Promise.resolve([]):Ft.getMany({trans:Nt.trans,keys:Mt,cache:"immutable"})).then(function(Ut){var zt=Lt.map(function(Kt,Gt){var an,dn,ln,fn=Ut[Gt],pn={onerror:null,onsuccess:null};return kt.type==="delete"?jt.fire.call(pn,Kt,fn,Ht):kt.type==="add"||fn===void 0?(an=It.fire.call(pn,Kt,kt.values[Gt],Ht),Kt==null&&an!=null&&(kt.keys[Gt]=Kt=an,vt.outbound||wt(kt.values[Gt],vt.keyPath,Kt))):(an=Yo(fn,kt.values[Gt]),(dn=Ot.fire.call(pn,an,Kt,fn,Ht))&&(ln=kt.values[Gt],Object.keys(dn).forEach(function(on){ot(ln,on)?ln[on]=dn[on]:wt(ln,on,dn[on])}))),pn});return pt.mutate(kt).then(function(Kt){for(var Gt=Kt.failures,an=Kt.results,dn=Kt.numFailures,Kt=Kt.lastResult,ln=0;ln<Lt.length;++ln){var fn=(an||Lt)[ln],pn=zt[ln];fn==null?pn.onerror&&pn.onerror(Gt[ln]):pn.onsuccess&&pn.onsuccess(kt.type==="put"&&Ut[ln]?kt.values[ln]:fn)}return{failures:Gt,results:an,numFailures:dn,lastResult:Kt}}).catch(function(Kt){return zt.forEach(function(Gt){return Gt.onerror&&Gt.onerror(Kt)}),Promise.reject(Kt)})})}}})}})}};function Rs(lt,ut,pt){try{if(!ut||ut.keys.length<lt.length)return null;for(var vt=[],yt=0,_t=0;yt<ut.keys.length&&_t<lt.length;++yt)Nn(ut.keys[yt],lt[_t])===0&&(vt.push(pt?hn(ut.values[yt]):ut.values[yt]),++_t);return vt.length===lt.length?vt:null}catch{return null}}var Xs={stack:"dbcore",level:-1,create:function(lt){return{table:function(ut){var pt=lt.table(ut);return _e(_e({},pt),{getMany:function(vt){if(!vt.cache)return pt.getMany(vt);var yt=Rs(vt.keys,vt.trans._cache,vt.cache==="clone");return yt?Rt.resolve(yt):pt.getMany(vt).then(function(_t){return vt.trans._cache={keys:vt.keys,values:vt.cache==="clone"?hn(_t):_t},_t})},mutate:function(vt){return vt.type!=="add"&&(vt.trans._cache=null),pt.mutate(vt)}})}}}};function As(lt,ut){return lt.trans.mode==="readonly"&&!!lt.subscr&&!lt.trans.explicit&&lt.trans.db._options.cache!=="disabled"&&!ut.schema.primaryKey.outbound}function Ts(lt,ut){switch(lt){case"query":return ut.values&&!ut.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Zs={stack:"dbcore",level:0,name:"Observability",create:function(lt){var ut=lt.schema.name,pt=new Jn(lt.MIN_KEY,lt.MAX_KEY);return _e(_e({},lt),{transaction:function(vt,yt,_t){if(yn.subscr&&yt!=="readonly")throw new Zt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(yn.querier));return lt.transaction(vt,yt,_t)},table:function(vt){var yt=lt.table(vt),_t=yt.schema,Ct=_t.primaryKey,kt=_t.indexes,jt=Ct.extractKey,It=Ct.outbound,Ot=Ct.autoIncrement&&kt.filter(function(Nt){return Nt.compound&&Nt.keyPath.includes(Ct.keyPath)}),Dt=_e(_e({},yt),{mutate:function(Nt){function Mt(on){return on="idb://".concat(ut,"/").concat(vt,"/").concat(on),Kt[on]||(Kt[on]=new Jn)}var Ht,Lt,Ut,zt=Nt.trans,Kt=Nt.mutatedParts||(Nt.mutatedParts={}),Gt=Mt(""),an=Mt(":dels"),dn=Nt.type,pn=Nt.type==="deleteRange"?[Nt.range]:Nt.type==="delete"?[Nt.keys]:Nt.values.length<50?[Xo(Ct,Nt).filter(function(on){return on}),Nt.values]:[],ln=pn[0],fn=pn[1],pn=Nt.trans._cache;return rt(ln)?(Gt.addKeys(ln),(pn=dn==="delete"||ln.length===fn.length?Rs(ln,pn):null)||an.addKeys(ln),(pn||fn)&&(Ht=Mt,Lt=pn,Ut=fn,_t.indexes.forEach(function(on){var Cn=Ht(on.name||"");function Rn(Pn){return Pn!=null?on.extractKey(Pn):null}function $n(Pn){return on.multiEntry&&rt(Pn)?Pn.forEach(function(ar){return Cn.addKey(ar)}):Cn.addKey(Pn)}(Lt||Ut).forEach(function(Pn,Gn){var jn=Lt&&Rn(Lt[Gn]),Gn=Ut&&Rn(Ut[Gn]);Nn(jn,Gn)!==0&&(jn!=null&&$n(jn),Gn!=null&&$n(Gn))})}))):ln?(fn={from:ln.lower,to:ln.upper},an.add(fn),Gt.add(fn)):(Gt.add(pt),an.add(pt),_t.indexes.forEach(function(on){return Mt(on.name).add(pt)})),yt.mutate(Nt).then(function(on){return!ln||Nt.type!=="add"&&Nt.type!=="put"||(Gt.addKeys(on.results),Ot&&Ot.forEach(function(Cn){var Rn=Nt.values.map(function(Pn){return Cn.extractKey(Pn)}),$n=Cn.keyPath.findIndex(function(Pn){return Pn===Ct.keyPath});on.results.forEach(function(Pn){return Rn[$n]=Pn}),Mt(Cn.name).addKeys(Rn)})),zt.mutatedParts=_o(zt.mutatedParts||{},Kt),on})}}),kt=function(Mt){var Ht=Mt.query,Mt=Ht.index,Ht=Ht.range;return[Mt,new Jn((Mt=Ht.lower)!==null&&Mt!==void 0?Mt:lt.MIN_KEY,(Ht=Ht.upper)!==null&&Ht!==void 0?Ht:lt.MAX_KEY)]},Ft={get:function(Nt){return[Ct,new Jn(Nt.key)]},getMany:function(Nt){return[Ct,new Jn().addKeys(Nt.keys)]},count:kt,query:kt,openCursor:kt};return nt(Ft).forEach(function(Nt){Dt[Nt]=function(Mt){var Ht=yn.subscr,Lt=!!Ht,Ut=As(yn,yt)&&Ts(Nt,Mt)?Mt.obsSet={}:Ht;if(Lt){var zt=function(fn){return fn="idb://".concat(ut,"/").concat(vt,"/").concat(fn),Ut[fn]||(Ut[fn]=new Jn)},Kt=zt(""),Gt=zt(":dels"),Ht=Ft[Nt](Mt),Lt=Ht[0],Ht=Ht[1];if((Nt==="query"&&Lt.isPrimaryKey&&!Mt.values?Gt:zt(Lt.name||"")).add(Ht),!Lt.isPrimaryKey){if(Nt!=="count"){var an=Nt==="query"&&It&&Mt.values&&yt.query(_e(_e({},Mt),{values:!1}));return yt[Nt].apply(this,arguments).then(function(fn){if(Nt==="query"){if(It&&Mt.values)return an.then(function(Rn){return Rn=Rn.result,Kt.addKeys(Rn),fn});var pn=Mt.values?fn.result.map(jt):fn.result;(Mt.values?Kt:Gt).addKeys(pn)}else if(Nt==="openCursor"){var on=fn,Cn=Mt.values;return on&&Object.create(on,{key:{get:function(){return Gt.addKey(on.primaryKey),on.key}},primaryKey:{get:function(){var Rn=on.primaryKey;return Gt.addKey(Rn),Rn}},value:{get:function(){return Cn&&Kt.addKey(on.primaryKey),on.value}}})}return fn})}Gt.add(pt)}}return yt[Nt].apply(this,arguments)}}),Dt}})}};function Ps(lt,ut,pt){if(pt.numFailures===0)return ut;if(ut.type==="deleteRange")return null;var vt=ut.keys?ut.keys.length:"values"in ut&&ut.values?ut.values.length:1;return pt.numFailures===vt?null:(ut=_e({},ut),rt(ut.keys)&&(ut.keys=ut.keys.filter(function(yt,_t){return!(_t in pt.failures)})),"values"in ut&&rt(ut.values)&&(ut.values=ut.values.filter(function(yt,_t){return!(_t in pt.failures)})),ut)}function Zo(lt,ut){return pt=lt,((vt=ut).lower===void 0||(vt.lowerOpen?0<Nn(pt,vt.lower):0<=Nn(pt,vt.lower)))&&(lt=lt,(ut=ut).upper===void 0||(ut.upperOpen?Nn(lt,ut.upper)<0:Nn(lt,ut.upper)<=0));var pt,vt}function js(lt,ut,Ft,vt,yt,_t){if(!Ft||Ft.length===0)return lt;var Ct=ut.query.index,jt=Ct.multiEntry,It=ut.query.range,Ot=vt.schema.primaryKey.extractKey,Dt=Ct.extractKey,kt=(Ct.lowLevelIndex||Ct).extractKey,Ft=Ft.reduce(function(Nt,Mt){var Ht=Nt,Lt=[];if(Mt.type==="add"||Mt.type==="put")for(var Ut=new Jn,zt=Mt.values.length-1;0<=zt;--zt){var Kt,Gt=Mt.values[zt],an=Ot(Gt);Ut.hasKey(an)||(Kt=Dt(Gt),(jt&&rt(Kt)?Kt.some(function(pn){return Zo(pn,It)}):Zo(Kt,It))&&(Ut.addKey(an),Lt.push(Gt)))}switch(Mt.type){case"add":Ht=Nt.concat(ut.values?Lt:Lt.map(function(on){return Ot(on)}));break;case"put":var dn=new Jn().addKeys(Mt.values.map(function(on){return Ot(on)})),Ht=Nt.filter(function(on){return!dn.hasKey(ut.values?Ot(on):on)}).concat(ut.values?Lt:Lt.map(function(on){return Ot(on)}));break;case"delete":var ln=new Jn().addKeys(Mt.keys);Ht=Nt.filter(function(on){return!ln.hasKey(ut.values?Ot(on):on)});break;case"deleteRange":var fn=Mt.range;Ht=Nt.filter(function(on){return!Zo(Ot(on),fn)})}return Ht},lt);return Ft===lt?lt:(Ft.sort(function(Nt,Mt){return Nn(kt(Nt),kt(Mt))||Nn(Ot(Nt),Ot(Mt))}),ut.limit&&ut.limit<1/0&&(Ft.length>ut.limit?Ft.length=ut.limit:lt.length===ut.limit&&Ft.length<ut.limit&&(yt.dirty=!0)),_t?Object.freeze(Ft):Ft)}function $s(lt,ut){return Nn(lt.lower,ut.lower)===0&&Nn(lt.upper,ut.upper)===0&&!!lt.lowerOpen==!!ut.lowerOpen&&!!lt.upperOpen==!!ut.upperOpen}function Js(lt,ut){return function(pt,vt,yt,_t){if(pt===void 0)return vt!==void 0?-1:0;if(vt===void 0)return 1;if((vt=Nn(pt,vt))===0){if(yt&&_t)return 0;if(yt)return 1;if(_t)return-1}return vt}(lt.lower,ut.lower,lt.lowerOpen,ut.lowerOpen)<=0&&0<=function(pt,vt,yt,_t){if(pt===void 0)return vt!==void 0?1:0;if(vt===void 0)return-1;if((vt=Nn(pt,vt))===0){if(yt&&_t)return 0;if(yt)return-1;if(_t)return 1}return vt}(lt.upper,ut.upper,lt.upperOpen,ut.upperOpen)}function _i(lt,ut,pt,vt){lt.subscribers.add(pt),vt.addEventListener("abort",function(){var yt,_t;lt.subscribers.delete(pt),lt.subscribers.size===0&&(yt=lt,_t=ut,setTimeout(function(){yt.subscribers.size===0&&qt(_t,yt)},3e3))})}var na={stack:"dbcore",level:0,name:"Cache",create:function(lt){var ut=lt.schema.name;return _e(_e({},lt),{transaction:function(pt,vt,yt){var _t,Ct,jt=lt.transaction(pt,vt,yt);return vt==="readwrite"&&(Ct=(_t=new AbortController).signal,yt=function(It){return function(){if(_t.abort(),vt==="readwrite"){for(var Ot=new Set,Dt=0,kt=pt;Dt<kt.length;Dt++){var Ft=kt[Dt],Nt=Lr["idb://".concat(ut,"/").concat(Ft)];if(Nt){var Mt=lt.table(Ft),Ht=Nt.optimisticOps.filter(function(Cn){return Cn.trans===jt});if(jt._explicit&&It&&jt.mutatedParts)for(var Lt=0,Ut=Object.values(Nt.queries.query);Lt<Ut.length;Lt++)for(var zt=0,Kt=(dn=Ut[Lt]).slice();zt<Kt.length;zt++)zo((ln=Kt[zt]).obsSet,jt.mutatedParts)&&(qt(dn,ln),ln.subscribers.forEach(function(Cn){return Ot.add(Cn)}));else if(0<Ht.length){Nt.optimisticOps=Nt.optimisticOps.filter(function(Cn){return Cn.trans!==jt});for(var Gt=0,an=Object.values(Nt.queries.query);Gt<an.length;Gt++)for(var dn,ln,fn,pn=0,on=(dn=an[Gt]).slice();pn<on.length;pn++)(ln=on[pn]).res!=null&&jt.mutatedParts&&(It&&!ln.dirty?(fn=Object.isFrozen(ln.res),fn=js(ln.res,ln.req,Ht,Mt,ln,fn),ln.dirty?(qt(dn,ln),ln.subscribers.forEach(function(Cn){return Ot.add(Cn)})):fn!==ln.res&&(ln.res=fn,ln.promise=Rt.resolve({result:fn}))):(ln.dirty&&qt(dn,ln),ln.subscribers.forEach(function(Cn){return Ot.add(Cn)})))}}}Ot.forEach(function(Cn){return Cn()})}}},jt.addEventListener("abort",yt(!1),{signal:Ct}),jt.addEventListener("error",yt(!1),{signal:Ct}),jt.addEventListener("complete",yt(!0),{signal:Ct})),jt},table:function(pt){var vt=lt.table(pt),yt=vt.schema.primaryKey;return _e(_e({},vt),{mutate:function(_t){var Ct=yn.trans;if(yt.outbound||Ct.db._options.cache==="disabled"||Ct.explicit)return vt.mutate(_t);var jt=Lr["idb://".concat(ut,"/").concat(pt)];return jt?(Ct=vt.mutate(_t),_t.type!=="add"&&_t.type!=="put"||!(50<=_t.values.length||Xo(yt,_t).some(function(It){return It==null}))?(jt.optimisticOps.push(_t),_t.mutatedParts&&wo(_t.mutatedParts),Ct.then(function(It){0<It.numFailures&&(qt(jt.optimisticOps,_t),(It=Ps(0,_t,It))&&jt.optimisticOps.push(It),_t.mutatedParts&&wo(_t.mutatedParts))}),Ct.catch(function(){qt(jt.optimisticOps,_t),_t.mutatedParts&&wo(_t.mutatedParts)})):Ct.then(function(It){var Ot=Ps(0,_e(_e({},_t),{values:_t.values.map(function(Nt,kt){var Ft,Nt=(Ft=yt.keyPath)!==null&&Ft!==void 0&&Ft.includes(".")?hn(Nt):_e({},Nt);return wt(Nt,yt.keyPath,It.results[kt]),Nt})}),It);jt.optimisticOps.push(Ot),queueMicrotask(function(){return _t.mutatedParts&&wo(_t.mutatedParts)})}),Ct):vt.mutate(_t)},query:function(_t){if(!As(yn,vt)||!Ts("query",_t))return vt.query(_t);var Ct=((Ot=yn.trans)===null||Ot===void 0?void 0:Ot.db._options.cache)==="immutable",kt=yn,jt=kt.requery,It=kt.signal,Ot=function(Mt,Ht,Lt,Ut){var zt=Lr["idb://".concat(Mt,"/").concat(Ht)];if(!zt)return[];if(!(Ht=zt.queries[Lt]))return[null,!1,zt,null];var Kt=Ht[(Ut.query?Ut.query.index.name:null)||""];if(!Kt)return[null,!1,zt,null];switch(Lt){case"query":var Gt=Kt.find(function(an){return an.req.limit===Ut.limit&&an.req.values===Ut.values&&$s(an.req.query.range,Ut.query.range)});return Gt?[Gt,!0,zt,Kt]:[Kt.find(function(an){return("limit"in an.req?an.req.limit:1/0)>=Ut.limit&&(!Ut.values||an.req.values)&&Js(an.req.query.range,Ut.query.range)}),!1,zt,Kt];case"count":return Gt=Kt.find(function(an){return $s(an.req.query.range,Ut.query.range)}),[Gt,!!Gt,zt,Kt]}}(ut,pt,"query",_t),Dt=Ot[0],kt=Ot[1],Ft=Ot[2],Nt=Ot[3];return Dt&&kt?Dt.obsSet=_t.obsSet:(kt=vt.query(_t).then(function(Mt){var Ht=Mt.result;if(Dt&&(Dt.res=Ht),Ct){for(var Lt=0,Ut=Ht.length;Lt<Ut;++Lt)Object.freeze(Ht[Lt]);Object.freeze(Ht)}else Mt.result=hn(Ht);return Mt}).catch(function(Mt){return Nt&&Dt&&qt(Nt,Dt),Promise.reject(Mt)}),Dt={obsSet:_t.obsSet,promise:kt,subscribers:new Set,type:"query",req:_t,dirty:!1},Nt?Nt.push(Dt):(Nt=[Dt],(Ft=Ft||(Lr["idb://".concat(ut,"/").concat(pt)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_t.query.index.name||""]=Nt)),_i(Dt,Nt,jt,It),Dt.promise.then(function(Mt){return{result:js(Mt.result,_t,Ft==null?void 0:Ft.optimisticOps,vt,Dt,Ct)}})}})}})}};function So(lt,ut){return new Proxy(lt,{get:function(pt,vt,yt){return vt==="db"?ut:Reflect.get(pt,vt,yt)}})}var yr=(zn.prototype.version=function(lt){if(isNaN(lt)||lt<.1)throw new Zt.Type("Given version is not a positive number");if(lt=Math.round(10*lt)/10,this.idbdb||this._state.isBeingOpened)throw new Zt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,lt);var ut=this._versions,pt=ut.filter(function(vt){return vt._cfg.version===lt})[0];return pt||(pt=new this.Version(lt),ut.push(pt),ut.sort(qs),pt.stores({}),this._state.autoSchema=!1,pt)},zn.prototype._whenReady=function(lt){var ut=this;return this.idbdb&&(this._state.openComplete||yn.letThrough||this._vip)?lt():new Rt(function(pt,vt){if(ut._state.openComplete)return vt(new Zt.DatabaseClosed(ut._state.dbOpenError));if(!ut._state.isBeingOpened){if(!ut._state.autoOpen)return void vt(new Zt.DatabaseClosed);ut.open().catch(xn)}ut._state.dbReadyPromise.then(pt,vt)}).then(lt)},zn.prototype.use=function(lt){var ut=lt.stack,pt=lt.create,vt=lt.level,yt=lt.name;return yt&&this.unuse({stack:ut,name:yt}),lt=this._middlewares[ut]||(this._middlewares[ut]=[]),lt.push({stack:ut,create:pt,level:vt??10,name:yt}),lt.sort(function(_t,Ct){return _t.level-Ct.level}),this},zn.prototype.unuse=function(lt){var ut=lt.stack,pt=lt.name,vt=lt.create;return ut&&this._middlewares[ut]&&(this._middlewares[ut]=this._middlewares[ut].filter(function(yt){return vt?yt.create!==vt:!!pt&&yt.name!==pt})),this},zn.prototype.open=function(){var lt=this;return Or(ir,function(){return Gs(lt)})},zn.prototype._close=function(){var lt=this._state,ut=qr.indexOf(this);if(0<=ut&&qr.splice(ut,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}lt.isBeingOpened||(lt.dbReadyPromise=new Rt(function(pt){lt.dbReadyResolve=pt}),lt.openCanceller=new Rt(function(pt,vt){lt.cancelOpen=vt}))},zn.prototype.close=function(pt){var ut=(pt===void 0?{disableAutoOpen:!0}:pt).disableAutoOpen,pt=this._state;ut?(pt.isBeingOpened&&pt.cancelOpen(new Zt.DatabaseClosed),this._close(),pt.autoOpen=!1,pt.dbOpenError=new Zt.DatabaseClosed):(this._close(),pt.autoOpen=this._options.autoOpen||pt.isBeingOpened,pt.openComplete=!1,pt.dbOpenError=null)},zn.prototype.delete=function(lt){var ut=this;lt===void 0&&(lt={disableAutoOpen:!0});var pt=0<arguments.length&&typeof arguments[0]!="object",vt=this._state;return new Rt(function(yt,_t){function Ct(){ut.close(lt);var jt=ut._deps.indexedDB.deleteDatabase(ut.name);jt.onsuccess=On(function(){var It,Ot,Dt;It=ut._deps,Ot=ut.name,Dt=It.indexedDB,It=It.IDBKeyRange,Uo(Dt)||Ot===lo||Bo(Dt,It).delete(Ot).catch(xn),yt()}),jt.onerror=dr(_t),jt.onblocked=ut._fireOnBlocked}if(pt)throw new Zt.InvalidArgument("Invalid closeOptions argument to db.delete()");vt.isBeingOpened?vt.dbReadyPromise.then(Ct):Ct()})},zn.prototype.backendDB=function(){return this.idbdb},zn.prototype.isOpen=function(){return this.idbdb!==null},zn.prototype.hasBeenClosed=function(){var lt=this._state.dbOpenError;return lt&&lt.name==="DatabaseClosed"},zn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},zn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(zn.prototype,"tables",{get:function(){var lt=this;return nt(this._allTables).map(function(ut){return lt._allTables[ut]})},enumerable:!1,configurable:!0}),zn.prototype.transaction=function(){var lt=(function(ut,pt,vt){var yt=arguments.length;if(yt<2)throw new Zt.InvalidArgument("Too few arguments");for(var _t=new Array(yt-1);--yt;)_t[yt-1]=arguments[yt];return vt=_t.pop(),[ut,Bt(_t),vt]}).apply(this,arguments);return this._transaction.apply(this,lt)},zn.prototype._transaction=function(lt,ut,pt){var vt=this,yt=yn.trans;yt&&yt.db===this&&lt.indexOf("!")===-1||(yt=null);var _t,Ct,jt=lt.indexOf("?")!==-1;lt=lt.replace("!","").replace("?","");try{if(Ct=ut.map(function(Ot){if(Ot=Ot instanceof vt.Table?Ot.name:Ot,typeof Ot!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ot}),lt=="r"||lt===Po)_t=Po;else{if(lt!="rw"&&lt!=jo)throw new Zt.InvalidArgument("Invalid transaction mode: "+lt);_t=jo}if(yt){if(yt.mode===Po&&_t===jo){if(!jt)throw new Zt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");yt=null}yt&&Ct.forEach(function(Ot){if(yt&&yt.storeNames.indexOf(Ot)===-1){if(!jt)throw new Zt.SubTransaction("Table "+Ot+" not included in parent transaction.");yt=null}}),jt&&yt&&!yt.active&&(yt=null)}}catch(Ot){return yt?yt._promise(null,function(Dt,kt){kt(Ot)}):qn(Ot)}var It=(function Ot(Dt,kt,Ft,Nt,Mt){return Rt.resolve().then(function(){var Ht=yn.transless||yn,Lt=Dt._createTransaction(kt,Ft,Dt._dbSchema,Nt);if(Lt.explicit=!0,Ht={trans:Lt,transless:Ht},Nt)Lt.idbtrans=Nt.idbtrans;else try{Lt.create(),Lt.idbtrans._explicit=!0,Dt._state.PR1398_maxLoop=3}catch(Kt){return Kt.name===Jt.InvalidState&&Dt.isOpen()&&0<--Dt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Dt.close({disableAutoOpen:!1}),Dt.open().then(function(){return Ot(Dt,kt,Ft,null,Mt)})):qn(Kt)}var Ut,zt=Qt(Mt);return zt&&Vr(),Ht=Rt.follow(function(){var Kt;(Ut=Mt.call(Lt,Lt))&&(zt?(Kt=br.bind(null,null),Ut.then(Kt,Kt)):typeof Ut.next=="function"&&typeof Ut.throw=="function"&&(Ut=Qo(Ut)))},Ht),(Ut&&typeof Ut.then=="function"?Rt.resolve(Ut).then(function(Kt){return Lt.active?Kt:qn(new Zt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ht.then(function(){return Ut})).then(function(Kt){return Nt&&Lt._resolve(),Lt._completion.then(function(){return Kt})}).catch(function(Kt){return Lt._reject(Kt),qn(Kt)})})}).bind(null,this,_t,Ct,yt,pt);return yt?yt._promise(_t,It,"lock"):yn.trans?Or(yn.transless,function(){return vt._whenReady(It)}):this._whenReady(It)},zn.prototype.table=function(lt){if(!ot(this._allTables,lt))throw new Zt.InvalidTable("Table ".concat(lt," does not exist"));return this._allTables[lt]},zn);function zn(lt,ut){var pt=this;this._middlewares={},this.verno=0;var vt=zn.dependencies;this._options=ut=_e({addons:zn.addons,autoOpen:!0,indexedDB:vt.indexedDB,IDBKeyRange:vt.IDBKeyRange,cache:"cloned"},ut),this._deps={indexedDB:ut.indexedDB,IDBKeyRange:ut.IDBKeyRange},vt=ut.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var yt,_t,Ct,jt,It,Ot={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xn,dbReadyPromise:null,cancelOpen:xn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:ut.autoOpen};Ot.dbReadyPromise=new Rt(function(kt){Ot.dbReadyResolve=kt}),Ot.openCanceller=new Rt(function(kt,Ft){Ot.cancelOpen=Ft}),this._state=Ot,this.name=lt,this.on=Qr(this,"populate","blocked","versionchange","close",{ready:[Fr,xn]}),this.on.ready.subscribe=Et(this.on.ready.subscribe,function(kt){return function(Ft,Nt){zn.vip(function(){var Mt,Ht=pt._state;Ht.openComplete?(Ht.dbOpenError||Rt.resolve().then(Ft),Nt&&kt(Ft)):Ht.onReadyBeingFired?(Ht.onReadyBeingFired.push(Ft),Nt&&kt(Ft)):(kt(Ft),Mt=pt,Nt||kt(function Lt(){Mt.on.ready.unsubscribe(Ft),Mt.on.ready.unsubscribe(Lt)}))})}}),this.Collection=(yt=this,Yr(Ms.prototype,function(Ut,Lt){this.db=yt;var Nt=as,Mt=null;if(Lt)try{Nt=Lt()}catch(zt){Mt=zt}var Ht=Ut._ctx,Lt=Ht.table,Ut=Lt.hook.reading.fire;this._ctx={table:Lt,index:Ht.index,isPrimKey:!Ht.index||Lt.schema.primKey.keyPath&&Ht.index===Lt.schema.primKey.name,range:Nt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Mt,or:Ht.or,valueMapper:Ut!==Bn?Ut:null}})),this.Table=(_t=this,Yr(ds.prototype,function(kt,Ft,Nt){this.db=_t,this._tx=Nt,this.name=kt,this.schema=Ft,this.hook=_t._allTables[kt]?_t._allTables[kt].hook:Qr(null,{creating:[sr,xn],reading:[Yn,Bn],updating:[lr,xn],deleting:[Xn,xn]})})),this.Transaction=(Ct=this,Yr(Hs.prototype,function(kt,Ft,Nt,Mt,Ht){var Lt=this;this.db=Ct,this.mode=kt,this.storeNames=Ft,this.schema=Nt,this.chromeTransactionDurability=Mt,this.idbtrans=null,this.on=Qr(this,"complete","error","abort"),this.parent=Ht||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Rt(function(Ut,zt){Lt._resolve=Ut,Lt._reject=zt}),this._completion.then(function(){Lt.active=!1,Lt.on.complete.fire()},function(Ut){var zt=Lt.active;return Lt.active=!1,Lt.on.error.fire(Ut),Lt.parent?Lt.parent._reject(Ut):zt&&Lt.idbtrans&&Lt.idbtrans.abort(),qn(Ut)})})),this.Version=(jt=this,Yr(Ks.prototype,function(kt){this.db=jt,this._cfg={version:kt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(It=this,Yr(vs.prototype,function(kt,Ft,Nt){if(this.db=It,this._ctx={table:kt,index:Ft===":id"?null:Ft,or:Nt},this._cmp=this._ascending=Nn,this._descending=function(Mt,Ht){return Nn(Ht,Mt)},this._max=function(Mt,Ht){return 0<Nn(Mt,Ht)?Mt:Ht},this._min=function(Mt,Ht){return Nn(Mt,Ht)<0?Mt:Ht},this._IDBKeyRange=It._deps.IDBKeyRange,!this._IDBKeyRange)throw new Zt.MissingAPI})),this.on("versionchange",function(kt){0<kt.newVersion?console.warn("Another connection wants to upgrade database '".concat(pt.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(pt.name,"'. Closing db now to resume the delete request.")),pt.close({disableAutoOpen:!1})}),this.on("blocked",function(kt){!kt.newVersion||kt.newVersion<kt.oldVersion?console.warn("Dexie.delete('".concat(pt.name,"') was blocked")):console.warn("Upgrade '".concat(pt.name,"' blocked by other connection holding version ").concat(kt.oldVersion/10))}),this._maxKey=eo(ut.IDBKeyRange),this._createTransaction=function(kt,Ft,Nt,Mt){return new pt.Transaction(kt,Ft,Nt,pt._options.chromeTransactionDurability,Mt)},this._fireOnBlocked=function(kt){pt.on("blocked").fire(kt),qr.filter(function(Ft){return Ft.name===pt.name&&Ft!==pt&&!Ft._state.vcFired}).map(function(Ft){return Ft.on("versionchange").fire(kt)})},this.use(Xs),this.use(na),this.use(Zs),this.use(Qs),this.use(Ys);var Dt=new Proxy(this,{get:function(kt,Ft,Nt){if(Ft==="_vip")return!0;if(Ft==="table")return function(Ht){return So(pt.table(Ht),Dt)};var Mt=Reflect.get(kt,Ft,Nt);return Mt instanceof ds?So(Mt,Dt):Ft==="tables"?Mt.map(function(Ht){return So(Ht,Dt)}):Ft==="_createTransaction"?function(){return So(Mt.apply(this,arguments),Dt)}:Mt}});this.vip=Dt,vt.forEach(function(kt){return kt(pt)})}var Co,or=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ga=(Jo.prototype.subscribe=function(lt,ut,pt){return this._subscribe(lt&&typeof lt!="function"?lt:{next:lt,error:ut,complete:pt})},Jo.prototype[or]=function(){return this},Jo);function Jo(lt){this._subscribe=lt}try{Co={indexedDB:tt.indexedDB||tt.mozIndexedDB||tt.webkitIndexedDB||tt.msIndexedDB,IDBKeyRange:tt.IDBKeyRange||tt.webkitIDBKeyRange}}catch{Co={indexedDB:null,IDBKeyRange:null}}function ks(lt){var ut,pt=!1,vt=new ga(function(yt){var _t=Qt(lt),Ct,jt=!1,It={},Ot={},Dt={get closed(){return jt},unsubscribe:function(){jt||(jt=!0,Ct&&Ct.abort(),kt&&Rr.storagemutated.unsubscribe(Nt))}};yt.start&&yt.start(Dt);var kt=!1,Ft=function(){return To(Mt)},Nt=function(Ht){_o(It,Ht),zo(Ot,It)&&Ft()},Mt=function(){var Ht,Lt,Ut;!jt&&Co.indexedDB&&(It={},Ht={},Ct&&Ct.abort(),Ct=new AbortController,Ut=function(zt){var Kt=In();try{_t&&Vr();var Gt=wr(lt,zt);return Gt=_t?Gt.finally(br):Gt}finally{Kt&&Dn()}}(Lt={subscr:Ht,signal:Ct.signal,requery:Ft,querier:lt,trans:null}),Promise.resolve(Ut).then(function(zt){pt=!0,ut=zt,jt||Lt.signal.aborted||(It={},function(Kt){for(var Gt in Kt)if(ot(Kt,Gt))return;return 1}(Ot=Ht)||kt||(Rr(Jr,Nt),kt=!0),To(function(){return!jt&&yt.next&&yt.next(zt)}))},function(zt){pt=!1,["DatabaseClosedError","AbortError"].includes(zt==null?void 0:zt.name)||jt||To(function(){jt||yt.error&&yt.error(zt)})}))};return setTimeout(Ft,0),Dt});return vt.hasValue=function(){return pt},vt.getValue=function(){return ut},vt}var Mr=yr;function es(lt){var ut=Ar;try{Ar=!0,Rr.storagemutated.fire(lt),Go(lt,!0)}finally{Ar=ut}}at(Mr,_e(_e({},An),{delete:function(lt){return new Mr(lt,{addons:[]}).delete()},exists:function(lt){return new Mr(lt,{addons:[]}).open().then(function(ut){return ut.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(lt){try{return ut=Mr.dependencies,pt=ut.indexedDB,ut=ut.IDBKeyRange,(Uo(pt)?Promise.resolve(pt.databases()).then(function(vt){return vt.map(function(yt){return yt.name}).filter(function(yt){return yt!==lo})}):Bo(pt,ut).toCollection().primaryKeys()).then(lt)}catch{return qn(new Zt.MissingAPI)}var ut,pt},defineClass:function(){return function(lt){st(this,lt)}},ignoreTransaction:function(lt){return yn.trans?Or(yn.transless,lt):lt()},vip:Vo,async:function(lt){return function(){try{var ut=Qo(lt.apply(this,arguments));return ut&&typeof ut.then=="function"?ut:Rt.resolve(ut)}catch(pt){return qn(pt)}}},spawn:function(lt,ut,pt){try{var vt=Qo(lt.apply(pt,ut||[]));return vt&&typeof vt.then=="function"?vt:Rt.resolve(vt)}catch(yt){return qn(yt)}},currentTransaction:{get:function(){return yn.trans||null}},waitFor:function(lt,ut){return ut=Rt.resolve(typeof lt=="function"?Mr.ignoreTransaction(lt):lt).timeout(ut||6e4),yn.trans?yn.trans.waitFor(ut):ut},Promise:Rt,debug:{get:function(){return tr},set:function(lt){Gr(lt)}},derive:mt,extend:st,props:at,override:Et,Events:Qr,on:Rr,liveQuery:ks,extendObservabilitySet:_o,getByKeyPath:$t,setByKeyPath:wt,delByKeyPath:function(lt,ut){typeof ut=="string"?wt(lt,ut,void 0):"length"in ut&&[].map.call(ut,function(pt){wt(lt,pt,void 0)})},shallowClone:Pt,deepClone:hn,getObjectDiff:Yo,cmp:Nn,asap:At,minKey:-1/0,addons:[],connections:qr,errnames:Jt,dependencies:Co,cache:Lr,semVer:"4.0.8",version:"4.0.8".split(".").map(function(lt){return parseInt(lt)}).reduce(function(lt,ut,pt){return lt+ut/Math.pow(10,2*pt)})})),Mr.maxKey=eo(Mr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rr(Jr,function(lt){Ar||(lt=new CustomEvent(No,{detail:lt}),Ar=!0,dispatchEvent(lt),Ar=!1)}),addEventListener(No,function(lt){lt=lt.detail,Ar||es(lt)}));var Kr,Ar=!1,Os=function(){};return typeof BroadcastChannel<"u"&&((Os=function(){(Kr=new BroadcastChannel(No)).onmessage=function(lt){return lt.data&&es(lt.data)}})(),typeof Kr.unref=="function"&&Kr.unref(),Rr(Jr,function(lt){Ar||Kr.postMessage(lt)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(lt){if(!yr.disableBfCache&&lt.persisted){tr&&console.debug("Dexie: handling persisted pagehide"),Kr!=null&&Kr.close();for(var ut=0,pt=qr;ut<pt.length;ut++)pt[ut].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(lt){!yr.disableBfCache&&lt.persisted&&(tr&&console.debug("Dexie: handling persisted pageshow"),Os(),es({all:new Jn(-1/0,[[]])}))})),Rt.rejectionMapper=function(lt,ut){return!lt||lt instanceof vn||lt instanceof TypeError||lt instanceof SyntaxError||!lt.name||!bn[lt.name]?lt:(ut=new bn[lt.name](ut||lt.message,lt),"stack"in lt&&dt(ut,"stack",{get:function(){return this.inner.stack}}),ut)},Gr(tr),_e(yr,Object.freeze({__proto__:null,Dexie:yr,liveQuery:ks,Entity:ls,cmp:Nn,PropModSymbol:xr,PropModification:Xr,replacePrefix:function(lt,ut){return new Xr({replacePrefix:[lt,ut]})},add:function(lt){return new Xr({add:lt})},remove:function(lt){return new Xr({remove:lt})},default:yr,RangeSet:Jn,mergeRanges:oo,rangesOverlap:ws}),{default:yr}),yr})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);class QspiderDatabase extends Dexie{constructor(){super("QspiderDatabase"),this.version(2).stores({games:"id, title",gameResources:"++, game_id, &[game_id+path]",gameSaves:"++, game_id, &[game_id+key+slot], slot, [game_id+slot], [game_id+key]"})}}class WebStorage{constructor(){this.db=new QspiderDatabase}async prepareLoadConfig(j,$){return{url:`/qspider-files/${j}/`,entrypoint:$}}async getGames(){return(await this.db.games.toArray()).reduce(($,_e)=>($[_e.id]=_e,$),{})}async addGame(j,$){await this.db.games.put($,j)}async updateGame(j,$){await this.db.games.update(j,$)}async removeGame(j){await this.db.transaction("rw",this.db.games,this.db.gameResources,async()=>{await this.db.games.delete(j),await this.db.gameResources.where("game_id").equals(j).delete()})}async addGameResource(j,$,_e){const et=$.toLowerCase();await this.db.gameResources.where({game_id:j,path:et}).delete(),await this.db.gameResources.put({game_id:j,path:et,content:_e})}async getGameResource(j,$){const _e=$.toLowerCase(),et=await this.db.gameResources.where({game_id:j,path:_e}).first();return(et==null?void 0:et.content)||null}async saveByKey(j,$,_e){await this.db.gameSaves.where({game_id:j,key:$,slot:-1}).delete();const et={timestamp:Date.now(),game_id:j,key:$,slot:-1,data:_e};await this.db.gameSaves.put(et)}async saveBySlot(j,$,_e){await this.db.gameSaves.where({game_id:j,key:"",slot:$}).delete();const et={timestamp:Date.now(),game_id:j,key:"",slot:$,data:_e};await this.db.gameSaves.put(et)}async hasSaveByKey(j,$){return await this.db.gameSaves.where({game_id:j,key:$}).count()>0}async hasSaveBySlot(j,$){return await this.db.gameSaves.where({game_id:j,slot:$}).count()>0}async getSaveDataByKey(j,$){const _e=await this.db.gameSaves.where({game_id:j,key:$}).first();return(_e==null?void 0:_e.data)||null}async getSaveDataBySlot(j,$){const _e=await this.db.gameSaves.where({game_id:j,slot:$}).first();return(_e==null?void 0:_e.data)||null}async getSavedSlots(j){return await this.db.gameSaves.where({game_id:j}).and($=>$.slot>0).toArray()}async getNamedSaves(j){return await this.db.gameSaves.where({game_id:j}).and($=>$.key!=="").toArray()}async clearSaveSlot(j,$){await this.db.gameSaves.where({game_id:j,key:"",slot:$}).delete()}async clearSaveKey(j,$){await this.db.gameSaves.where({game_id:j,key:$,slot:-1}).delete()}}const MIN_SIZE_ID="min-size-style",MAX_SIZE_ID="max-size-style",windowManager={isBrowser:!0,platform:detectPlatform(),setTitle(b){document.title=b},setIcon(b){document.getElementById("favicon").href=b},goFullscreen(){var b;document.fullscreenEnabled&&((b=document.querySelector("qsp-game-root"))==null||b.requestFullscreen().catch(()=>{function j(){var $;($=document.querySelector("qsp-game-root"))==null||$.requestFullscreen(),document.removeEventListener("click",j)}document.addEventListener("click",j)}))},goWindowed(){document.fullscreenEnabled&&document.exitFullscreen()},async setMinSize(b,j){const $=document.createElement("style");$.innerText=`qsp-game-root {min-width: ${b}px;min-height:${j}px;}`,$.id=MIN_SIZE_ID,document.body.appendChild($)},unsetMinSize(){var b;(b=document.getElementById(MIN_SIZE_ID))==null||b.remove()},async setMaxSize(b,j){const $=document.createElement("style");$.innerText=`qsp-game-root {max-width: ${b}px;max-height:${j}px;}`,$.id=MAX_SIZE_ID,document.body.appendChild($)},unsetMaxSize(){var b;(b=document.getElementById(MAX_SIZE_ID))==null||b.remove()},setResizable(b){},async resize(b,j){},closeWindow(){window.close()}};function detectPlatform(){const b=navigator.userAgent;return b.includes("Windows")?"Windows":b.includes("Macintosh")?"Macintosh":b.includes("Linux")?"Linux":"Unknown"}async function init(){var rt;initialBaseUrl$.set(prepareBaseUrl(window.location.href)),onGameEnd$.set(()=>navigateTo("")),initTheme(),storage$.set(new WebStorage),windowManager$.set(windowManager),await loadGamesFromStorage();const b=window.location.search,j=new URLSearchParams(b),$=j.get("config"),et=j.get("game")||$;let tt=null;if(et){const st=await importUrl(et);for(const it of st)games$.value[it.id]||games$.actions.add(it.id,it);tt=st[0].id}const nt=j.get("catalogId");if(nt){let st;for(const[it,ct]of Object.entries(games$.value))if(((rt=ct.meta)==null?void 0:rt.source_id)===nt){st=it;break}if(st)tt=st;else{await loadQspCatalog();const it=qspCatalogList$.value.find(ct=>ct.id===Number(nt));if(it){loadingMessage$.set(instance.t("Loading game from catalog..."));const[ct]=await moveToShelf(it);ct&&(tt=ct.id),loadingMessage$.set("")}else showError(instance.t("Game with id {{catalogId}} not found in catalog",{catalogId:nt}))}}initDeferred$.value.resolve(),await initQspApi(),await registerDefaultThemes(initialBaseUrl$.value),tt?goToGame(tt):await processLocationChange(window.location.search),baseInit$.set(!0)}const OpenGameButton=()=>{const{t:b}=useTranslation(),j=reactExports.useCallback($=>{var tt;const _e=(tt=$.target.files)==null?void 0:tt[0];if(!_e)return;const et=new FileReader;et.onload=async function(nt){var st;const rt=(st=nt.target)==null?void 0:st.result;try{const it=await importFile(_e.name,rt);for(const ot of it)games$.actions.add(ot.id,ot);const ct=it[0].id;ct&&goToGame(ct)}catch(it){showError(it instanceof Error?it.message:String(it))}},et.readAsArrayBuffer(_e)},[]);return jsxRuntimeExports.jsxs("label",{className:"q-button q-open-game-button",htmlFor:"openGame",children:[b("Open game"),jsxRuntimeExports.jsx("input",{type:"file",id:"openGame",accept:".zip, .aqsp, .qsp, .qsps, .rar, .7z",onChange:j})]})};componentsRegistry$.actions.register(ProvidedComponents.OpenGameButton,OpenGameButton);init();const App=()=>useAtom_2(baseInit$)?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(QspiderLoader,{}),children:jsxRuntimeExports.jsxs(QspiderRoot,{children:[jsxRuntimeExports.jsx(PlayerWithShelf,{}),jsxRuntimeExports.jsx(ErrorAlert,{}),jsxRuntimeExports.jsx(NoticeToast,{})]})}):jsxRuntimeExports.jsx(QspiderLoader,{}),root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));"serviceWorker"in navigator&&new l$2(new URL("./service-worker.js",window.location.href).toString(),{type:"classic"}).register();export{getAugmentedNamespace as g};
