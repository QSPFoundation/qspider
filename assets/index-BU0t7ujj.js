const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./7zz.es6-Bov7skm9.js","./__vite-browser-external-D7Ct-6yo.js"])))=>i.map(i=>d[i]);
var _a=Object.defineProperty;var ba=(j,$,_e)=>$ in j?_a(j,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):j[$]=_e;var To=(j,$,_e)=>ba(j,typeof $!="symbol"?$+"":$,_e);function _mergeNamespaces(j,$){for(var _e=0;_e<$.length;_e++){const et=$[_e];if(typeof et!="string"&&!Array.isArray(et)){for(const tt in et)if(tt!=="default"&&!(tt in j)){const nt=Object.getOwnPropertyDescriptor(et,tt);nt&&Object.defineProperty(j,tt,nt.get?nt:{enumerable:!0,get:()=>et[tt]})}}}return Object.freeze(Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))et(tt);new MutationObserver(tt=>{for(const nt of tt)if(nt.type==="childList")for(const rt of nt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&et(rt)}).observe(document,{childList:!0,subtree:!0});function _e(tt){const nt={};return tt.integrity&&(nt.integrity=tt.integrity),tt.referrerPolicy&&(nt.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?nt.credentials="include":tt.crossOrigin==="anonymous"?nt.credentials="omit":nt.credentials="same-origin",nt}function et(tt){if(tt.ep)return;tt.ep=!0;const nt=_e(tt);fetch(tt.href,nt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}function getAugmentedNamespace(j){if(j.__esModule)return j;var $=j.default;if(typeof $=="function"){var _e=function et(){return this instanceof et?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};_e.prototype=$.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys(j).forEach(function(et){var tt=Object.getOwnPropertyDescriptor(j,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return j[et]}})}),_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$2={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2(j){return j===null||typeof j!="object"?null:(j=z$1&&j[z$1]||j["@@iterator"],typeof j=="function"?j:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$2(j,$,_e){this.props=j,this.context=$,this.refs=D$1,this.updater=_e||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(j,$){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,$,"setState")};E$2.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(j,$,_e){this.props=j,this.context=$,this.refs=D$1,this.updater=_e||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(j,$,_e){var et,tt={},nt=null,rt=null;if($!=null)for(et in $.ref!==void 0&&(rt=$.ref),$.key!==void 0&&(nt=""+$.key),$)J.call($,et)&&!L$1.hasOwnProperty(et)&&(tt[et]=$[et]);var ot=arguments.length-2;if(ot===1)tt.children=_e;else if(1<ot){for(var it=Array(ot),at=0;at<ot;at++)it[at]=arguments[at+2];tt.children=it}if(j&&j.defaultProps)for(et in ot=j.defaultProps,ot)tt[et]===void 0&&(tt[et]=ot[et]);return{$$typeof:l$4,type:j,key:nt,ref:rt,props:tt,_owner:K$1.current}}function N$1(j,$){return{$$typeof:l$4,type:j.type,key:$,ref:j.ref,props:j.props,_owner:j._owner}}function O$1(j){return typeof j=="object"&&j!==null&&j.$$typeof===l$4}function escape$1(j){var $={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(_e){return $[_e]})}var P$1=/\/+/g;function Q$1(j,$){return typeof j=="object"&&j!==null&&j.key!=null?escape$1(""+j.key):$.toString(36)}function R$1(j,$,_e,et,tt){var nt=typeof j;(nt==="undefined"||nt==="boolean")&&(j=null);var rt=!1;if(j===null)rt=!0;else switch(nt){case"string":case"number":rt=!0;break;case"object":switch(j.$$typeof){case l$4:case n$5:rt=!0}}if(rt)return rt=j,tt=tt(rt),j=et===""?"."+Q$1(rt,0):et,I$1(tt)?(_e="",j!=null&&(_e=j.replace(P$1,"$&/")+"/"),R$1(tt,$,_e,"",function(at){return at})):tt!=null&&(O$1(tt)&&(tt=N$1(tt,_e+(!tt.key||rt&&rt.key===tt.key?"":(""+tt.key).replace(P$1,"$&/")+"/")+j)),$.push(tt)),1;if(rt=0,et=et===""?".":et+":",I$1(j))for(var ot=0;ot<j.length;ot++){nt=j[ot];var it=et+Q$1(nt,ot);rt+=R$1(nt,$,_e,it,tt)}else if(it=A$2(j),typeof it=="function")for(j=it.call(j),ot=0;!(nt=j.next()).done;)nt=nt.value,it=et+Q$1(nt,ot++),rt+=R$1(nt,$,_e,it,tt);else if(nt==="object")throw $=String(j),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$2(j,$,_e){if(j==null)return j;var et=[],tt=0;return R$1(j,et,"","",function(nt){return $.call(_e,nt,tt++)}),et}function T$1(j){if(j._status===-1){var $=j._result;$=$(),$.then(function(_e){(j._status===0||j._status===-1)&&(j._status=1,j._result=_e)},function(_e){(j._status===0||j._status===-1)&&(j._status=2,j._result=_e)}),j._status===-1&&(j._status=0,j._result=$)}if(j._status===1)return j._result.default;throw j._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(j,$,_e){S$2(j,function(){$.apply(this,arguments)},_e)},count:function(j){var $=0;return S$2(j,function(){$++}),$},toArray:function(j){return S$2(j,function($){return $})||[]},only:function(j){if(!O$1(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(j,$,_e){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var et=C$1({},j.props),tt=j.key,nt=j.ref,rt=j._owner;if($!=null){if($.ref!==void 0&&(nt=$.ref,rt=K$1.current),$.key!==void 0&&(tt=""+$.key),j.type&&j.type.defaultProps)var ot=j.type.defaultProps;for(it in $)J.call($,it)&&!L$1.hasOwnProperty(it)&&(et[it]=$[it]===void 0&&ot!==void 0?ot[it]:$[it])}var it=arguments.length-2;if(it===1)et.children=_e;else if(1<it){ot=Array(it);for(var at=0;at<it;at++)ot[at]=arguments[at+2];et.children=ot}return{$$typeof:l$4,type:j.type,key:tt,ref:nt,props:et,_owner:rt}};react_production_min.createContext=function(j){return j={$$typeof:u$3,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:t$4,_context:j},j.Consumer=j};react_production_min.createElement=M$1;react_production_min.createFactory=function(j){var $=M$1.bind(null,j);return $.type=j,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(j){return{$$typeof:v$3,render:j}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(j){return{$$typeof:y$1,_payload:{_status:-1,_result:j},_init:T$1}};react_production_min.memo=function(j,$){return{$$typeof:x,type:j,compare:$===void 0?null:$}};react_production_min.startTransition=function(j){var $=V$1.transition;V$1.transition={};try{j()}finally{V$1.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(j,$){return U$1.current.useCallback(j,$)};react_production_min.useContext=function(j){return U$1.current.useContext(j)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(j){return U$1.current.useDeferredValue(j)};react_production_min.useEffect=function(j,$){return U$1.current.useEffect(j,$)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(j,$,_e){return U$1.current.useImperativeHandle(j,$,_e)};react_production_min.useInsertionEffect=function(j,$){return U$1.current.useInsertionEffect(j,$)};react_production_min.useLayoutEffect=function(j,$){return U$1.current.useLayoutEffect(j,$)};react_production_min.useMemo=function(j,$){return U$1.current.useMemo(j,$)};react_production_min.useReducer=function(j,$,_e){return U$1.current.useReducer(j,$,_e)};react_production_min.useRef=function(j){return U$1.current.useRef(j)};react_production_min.useState=function(j){return U$1.current.useState(j)};react_production_min.useSyncExternalStore=function(j,$,_e){return U$1.current.useSyncExternalStore(j,$,_e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react$2.exports=react_production_min;var reactExports=react$2.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$1=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$4=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$1(j,$,_e){var et,tt={},nt=null,rt=null;_e!==void 0&&(nt=""+_e),$.key!==void 0&&(nt=""+$.key),$.ref!==void 0&&(rt=$.ref);for(et in $)m$3.call($,et)&&!p$3.hasOwnProperty(et)&&(tt[et]=$[et]);if(j&&j.defaultProps)for(et in $=j.defaultProps,$)tt[et]===void 0&&(tt[et]=$[et]);return{$$typeof:k$1,type:j,key:nt,ref:rt,props:tt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(j){function $(zt,Wt){var sn=zt.length;zt.push(Wt);e:for(;0<sn;){var nn=sn-1>>>1,un=zt[nn];if(0<tt(un,Wt))zt[nn]=Wt,zt[sn]=un,sn=nn;else break e}}function _e(zt){return zt.length===0?null:zt[0]}function et(zt){if(zt.length===0)return null;var Wt=zt[0],sn=zt.pop();if(sn!==Wt){zt[0]=sn;e:for(var nn=0,un=zt.length,wn=un>>>1;nn<wn;){var vn=2*(nn+1)-1,En=zt[vn],Cn=vn+1,tn=zt[Cn];if(0>tt(En,sn))Cn<un&&0>tt(tn,En)?(zt[nn]=tn,zt[Cn]=sn,nn=Cn):(zt[nn]=En,zt[vn]=sn,nn=vn);else if(Cn<un&&0>tt(tn,sn))zt[nn]=tn,zt[Cn]=sn,nn=Cn;else break e}}return Wt}function tt(zt,Wt){var sn=zt.sortIndex-Wt.sortIndex;return sn!==0?sn:zt.id-Wt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;j.unstable_now=function(){return nt.now()}}else{var rt=Date,ot=rt.now();j.unstable_now=function(){return rt.now()-ot}}var it=[],at=[],ft=1,st=null,ut=3,dt=!1,pt=!1,gt=!1,yt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _t(zt){for(var Wt=_e(at);Wt!==null;){if(Wt.callback===null)et(at);else if(Wt.startTime<=zt)et(at),Wt.sortIndex=Wt.expirationTime,$(it,Wt);else break;Wt=_e(at)}}function Ct(zt){if(gt=!1,_t(zt),!pt)if(_e(it)!==null)pt=!0,en(At);else{var Wt=_e(at);Wt!==null&&fn(Ct,Wt.startTime-zt)}}function At(zt,Wt){pt=!1,gt&&(gt=!1,mt(wt),wt=-1),dt=!0;var sn=ut;try{for(_t(Wt),st=_e(it);st!==null&&(!(st.expirationTime>Wt)||zt&&!Yt());){var nn=st.callback;if(typeof nn=="function"){st.callback=null,ut=st.priorityLevel;var un=nn(st.expirationTime<=Wt);Wt=j.unstable_now(),typeof un=="function"?st.callback=un:st===_e(it)&&et(it),_t(Wt)}else et(it);st=_e(it)}if(st!==null)var wn=!0;else{var vn=_e(at);vn!==null&&fn(Ct,vn.startTime-Wt),wn=!1}return wn}finally{st=null,ut=sn,dt=!1}}var kt=!1,St=null,wt=-1,It=5,Ut=-1;function Yt(){return!(j.unstable_now()-Ut<It)}function rn(){if(St!==null){var zt=j.unstable_now();Ut=zt;var Wt=!0;try{Wt=St(!0,zt)}finally{Wt?hn():(kt=!1,St=null)}}else kt=!1}var hn;if(typeof vt=="function")hn=function(){vt(rn)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Zt=Vt.port2;Vt.port1.onmessage=rn,hn=function(){Zt.postMessage(null)}}else hn=function(){yt(rn,0)};function en(zt){St=zt,kt||(kt=!0,hn())}function fn(zt,Wt){wt=yt(function(){zt(j.unstable_now())},Wt)}j.unstable_IdlePriority=5,j.unstable_ImmediatePriority=1,j.unstable_LowPriority=4,j.unstable_NormalPriority=3,j.unstable_Profiling=null,j.unstable_UserBlockingPriority=2,j.unstable_cancelCallback=function(zt){zt.callback=null},j.unstable_continueExecution=function(){pt||dt||(pt=!0,en(At))},j.unstable_forceFrameRate=function(zt){0>zt||125<zt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):It=0<zt?Math.floor(1e3/zt):5},j.unstable_getCurrentPriorityLevel=function(){return ut},j.unstable_getFirstCallbackNode=function(){return _e(it)},j.unstable_next=function(zt){switch(ut){case 1:case 2:case 3:var Wt=3;break;default:Wt=ut}var sn=ut;ut=Wt;try{return zt()}finally{ut=sn}},j.unstable_pauseExecution=function(){},j.unstable_requestPaint=function(){},j.unstable_runWithPriority=function(zt,Wt){switch(zt){case 1:case 2:case 3:case 4:case 5:break;default:zt=3}var sn=ut;ut=zt;try{return Wt()}finally{ut=sn}},j.unstable_scheduleCallback=function(zt,Wt,sn){var nn=j.unstable_now();switch(typeof sn=="object"&&sn!==null?(sn=sn.delay,sn=typeof sn=="number"&&0<sn?nn+sn:nn):sn=nn,zt){case 1:var un=-1;break;case 2:un=250;break;case 5:un=1073741823;break;case 4:un=1e4;break;default:un=5e3}return un=sn+un,zt={id:ft++,callback:Wt,priorityLevel:zt,startTime:sn,expirationTime:un,sortIndex:-1},sn>nn?(zt.sortIndex=sn,$(at,zt),_e(it)===null&&zt===_e(at)&&(gt?(mt(wt),wt=-1):gt=!0,fn(Ct,sn-nn))):(zt.sortIndex=un,$(it,zt),pt||dt||(pt=!0,en(At))),zt},j.unstable_shouldYield=Yt,j.unstable_wrapCallback=function(zt){var Wt=ut;return function(){var sn=ut;ut=Wt;try{return zt.apply(this,arguments)}finally{ut=sn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(j){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+j,_e=1;_e<arguments.length;_e++)$+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+j+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(j,$){ha(j,$),ha(j+"Capture",$)}function ha(j,$){for(ea[j]=$,j=0;j<$.length;j++)da.add($[j])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(j){return ja.call(ma,j)?!0:ja.call(la,j)?!1:ka.test(j)?ma[j]=!0:(la[j]=!0,!1)}function pa(j,$,_e,et){if(_e!==null&&_e.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return et?!1:_e!==null?!_e.acceptsBooleans:(j=j.toLowerCase().slice(0,5),j!=="data-"&&j!=="aria-");default:return!1}}function qa(j,$,_e,et){if($===null||typeof $>"u"||pa(j,$,_e,et))return!0;if(et)return!1;if(_e!==null)switch(_e.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$2(j,$,_e,et,tt,nt,rt){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=et,this.attributeNamespace=tt,this.mustUseProperty=_e,this.propertyName=j,this.type=$,this.sanitizeURL=nt,this.removeEmptyString=rt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(j){z[j]=new v$2(j,0,!1,j,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(j){var $=j[0];z[$]=new v$2($,1,!1,j[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(j){z[j]=new v$2(j,2,!1,j.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(j){z[j]=new v$2(j,2,!1,j,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(j){z[j]=new v$2(j,3,!1,j.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(j){z[j]=new v$2(j,3,!0,j,null,!1,!1)});["capture","download"].forEach(function(j){z[j]=new v$2(j,4,!1,j,null,!1,!1)});["cols","rows","size","span"].forEach(function(j){z[j]=new v$2(j,6,!1,j,null,!1,!1)});["rowSpan","start"].forEach(function(j){z[j]=new v$2(j,5,!1,j.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(j){return j[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(j){var $=j.replace(ra,sa);z[$]=new v$2($,1,!1,j,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(j){var $=j.replace(ra,sa);z[$]=new v$2($,1,!1,j,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(j){var $=j.replace(ra,sa);z[$]=new v$2($,1,!1,j,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(j){z[j]=new v$2(j,1,!1,j.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(j){z[j]=new v$2(j,1,!1,j.toLowerCase(),null,!0,!0)});function ta(j,$,_e,et){var tt=z.hasOwnProperty($)?z[$]:null;(tt!==null?tt.type!==0:et||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_e,tt,et)&&(_e=null),et||tt===null?oa($)&&(_e===null?j.removeAttribute($):j.setAttribute($,""+_e)):tt.mustUseProperty?j[tt.propertyName]=_e===null?tt.type===3?!1:"":_e:($=tt.attributeName,et=tt.attributeNamespace,_e===null?j.removeAttribute($):(tt=tt.type,_e=tt===3||tt===4&&_e===!0?"":""+_e,et?j.setAttributeNS(et,$,_e):j.setAttribute($,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(j){return j===null||typeof j!="object"?null:(j=Ja&&j[Ja]||j["@@iterator"],typeof j=="function"?j:null)}var A$1=Object.assign,La;function Ma(j){if(La===void 0)try{throw Error()}catch(_e){var $=_e.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+j}var Na=!1;function Oa(j,$){if(!j||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(at){var et=at}Reflect.construct(j,[],$)}else{try{$.call()}catch(at){et=at}j.call($.prototype)}else{try{throw Error()}catch(at){et=at}j()}}catch(at){if(at&&et&&typeof at.stack=="string"){for(var tt=at.stack.split(`
`),nt=et.stack.split(`
`),rt=tt.length-1,ot=nt.length-1;1<=rt&&0<=ot&&tt[rt]!==nt[ot];)ot--;for(;1<=rt&&0<=ot;rt--,ot--)if(tt[rt]!==nt[ot]){if(rt!==1||ot!==1)do if(rt--,ot--,0>ot||tt[rt]!==nt[ot]){var it=`
`+tt[rt].replace(" at new "," at ");return j.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",j.displayName)),it}while(1<=rt&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(j=j?j.displayName||j.name:"")?Ma(j):""}function Pa(j){switch(j.tag){case 5:return Ma(j.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return j=Oa(j.type,!1),j;case 11:return j=Oa(j.type.render,!1),j;case 1:return j=Oa(j.type,!0),j;default:return""}}function Qa(j){if(j==null)return null;if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j;switch(j){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof j=="object")switch(j.$$typeof){case Ca:return(j.displayName||"Context")+".Consumer";case Ba:return(j._context.displayName||"Context")+".Provider";case Da:var $=j.render;return j=j.displayName,j||(j=$.displayName||$.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case Ga:return $=j.displayName||null,$!==null?$:Qa(j.type)||"Memo";case Ha:$=j._payload,j=j._init;try{return Qa(j($))}catch{}}return null}function Ra(j){var $=j.type;switch(j.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return j=$.render,j=j.displayName||j.name||"",$.displayName||(j!==""?"ForwardRef("+j+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(j){switch(typeof j){case"boolean":case"number":case"string":case"undefined":return j;case"object":return j;default:return""}}function Ta(j){var $=j.type;return(j=j.nodeName)&&j.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(j){var $=Ta(j)?"checked":"value",_e=Object.getOwnPropertyDescriptor(j.constructor.prototype,$),et=""+j[$];if(!j.hasOwnProperty($)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var tt=_e.get,nt=_e.set;return Object.defineProperty(j,$,{configurable:!0,get:function(){return tt.call(this)},set:function(rt){et=""+rt,nt.call(this,rt)}}),Object.defineProperty(j,$,{enumerable:_e.enumerable}),{getValue:function(){return et},setValue:function(rt){et=""+rt},stopTracking:function(){j._valueTracker=null,delete j[$]}}}}function Va(j){j._valueTracker||(j._valueTracker=Ua(j))}function Wa(j){if(!j)return!1;var $=j._valueTracker;if(!$)return!0;var _e=$.getValue(),et="";return j&&(et=Ta(j)?j.checked?"true":"false":j.value),j=et,j!==_e?($.setValue(j),!0):!1}function Xa(j){if(j=j||(typeof document<"u"?document:void 0),typeof j>"u")return null;try{return j.activeElement||j.body}catch{return j.body}}function Ya(j,$){var _e=$.checked;return A$1({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e??j._wrapperState.initialChecked})}function Za(j,$){var _e=$.defaultValue==null?"":$.defaultValue,et=$.checked!=null?$.checked:$.defaultChecked;_e=Sa($.value!=null?$.value:_e),j._wrapperState={initialChecked:et,initialValue:_e,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(j,$){$=$.checked,$!=null&&ta(j,"checked",$,!1)}function bb(j,$){ab(j,$);var _e=Sa($.value),et=$.type;if(_e!=null)et==="number"?(_e===0&&j.value===""||j.value!=_e)&&(j.value=""+_e):j.value!==""+_e&&(j.value=""+_e);else if(et==="submit"||et==="reset"){j.removeAttribute("value");return}$.hasOwnProperty("value")?cb(j,$.type,_e):$.hasOwnProperty("defaultValue")&&cb(j,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(j.defaultChecked=!!$.defaultChecked)}function db(j,$,_e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var et=$.type;if(!(et!=="submit"&&et!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+j._wrapperState.initialValue,_e||$===j.value||(j.value=$),j.defaultValue=$}_e=j.name,_e!==""&&(j.name=""),j.defaultChecked=!!j._wrapperState.initialChecked,_e!==""&&(j.name=_e)}function cb(j,$,_e){($!=="number"||Xa(j.ownerDocument)!==j)&&(_e==null?j.defaultValue=""+j._wrapperState.initialValue:j.defaultValue!==""+_e&&(j.defaultValue=""+_e))}var eb=Array.isArray;function fb(j,$,_e,et){if(j=j.options,$){$={};for(var tt=0;tt<_e.length;tt++)$["$"+_e[tt]]=!0;for(_e=0;_e<j.length;_e++)tt=$.hasOwnProperty("$"+j[_e].value),j[_e].selected!==tt&&(j[_e].selected=tt),tt&&et&&(j[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),$=null,tt=0;tt<j.length;tt++){if(j[tt].value===_e){j[tt].selected=!0,et&&(j[tt].defaultSelected=!0);return}$!==null||j[tt].disabled||($=j[tt])}$!==null&&($.selected=!0)}}function gb(j,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},$,{value:void 0,defaultValue:void 0,children:""+j._wrapperState.initialValue})}function hb(j,$){var _e=$.value;if(_e==null){if(_e=$.children,$=$.defaultValue,_e!=null){if($!=null)throw Error(p$2(92));if(eb(_e)){if(1<_e.length)throw Error(p$2(93));_e=_e[0]}$=_e}$==null&&($=""),_e=$}j._wrapperState={initialValue:Sa(_e)}}function ib(j,$){var _e=Sa($.value),et=Sa($.defaultValue);_e!=null&&(_e=""+_e,_e!==j.value&&(j.value=_e),$.defaultValue==null&&j.defaultValue!==_e&&(j.defaultValue=_e)),et!=null&&(j.defaultValue=""+et)}function jb(j){var $=j.textContent;$===j._wrapperState.initialValue&&$!==""&&$!==null&&(j.value=$)}function kb(j){switch(j){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(j,$){return j==null||j==="http://www.w3.org/1999/xhtml"?kb($):j==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":j}var mb,nb=function(j){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_e,et,tt){MSApp.execUnsafeLocalFunction(function(){return j($,_e,et,tt)})}:j}(function(j,$){if(j.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in j)j.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;j.firstChild;)j.removeChild(j.firstChild);for(;$.firstChild;)j.appendChild($.firstChild)}});function ob(j,$){if($){var _e=j.firstChild;if(_e&&_e===j.lastChild&&_e.nodeType===3){_e.nodeValue=$;return}}j.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(j){qb.forEach(function($){$=$+j.charAt(0).toUpperCase()+j.substring(1),pb[$]=pb[j]})});function rb(j,$,_e){return $==null||typeof $=="boolean"||$===""?"":_e||typeof $!="number"||$===0||pb.hasOwnProperty(j)&&pb[j]?(""+$).trim():$+"px"}function sb(j,$){j=j.style;for(var _e in $)if($.hasOwnProperty(_e)){var et=_e.indexOf("--")===0,tt=rb(_e,$[_e],et);_e==="float"&&(_e="cssFloat"),et?j.setProperty(_e,tt):j[_e]=tt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(j,$){if($){if(tb[j]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$2(137,j));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$2(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$2(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$2(62))}}function vb(j,$){if(j.indexOf("-")===-1)return typeof $.is=="string";switch(j){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(j){return j=j.target||j.srcElement||window,j.correspondingUseElement&&(j=j.correspondingUseElement),j.nodeType===3?j.parentNode:j}var yb=null,zb=null,Ab=null;function Bb(j){if(j=Cb(j)){if(typeof yb!="function")throw Error(p$2(280));var $=j.stateNode;$&&($=Db($),yb(j.stateNode,j.type,$))}}function Eb(j){zb?Ab?Ab.push(j):Ab=[j]:zb=j}function Fb(){if(zb){var j=zb,$=Ab;if(Ab=zb=null,Bb(j),$)for(j=0;j<$.length;j++)Bb($[j])}}function Gb(j,$){return j($)}function Hb(){}var Ib=!1;function Jb(j,$,_e){if(Ib)return j($,_e);Ib=!0;try{return Gb(j,$,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(j,$){var _e=j.stateNode;if(_e===null)return null;var et=Db(_e);if(et===null)return null;_e=et[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||(j=j.type,et=!(j==="button"||j==="input"||j==="select"||j==="textarea")),j=!et;break e;default:j=!1}if(j)return null;if(_e&&typeof _e!="function")throw Error(p$2(231,$,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(j,$,_e,et,tt,nt,rt,ot,it){var at=Array.prototype.slice.call(arguments,3);try{$.apply(_e,at)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(j){Ob=!0,Pb=j}};function Tb(j,$,_e,et,tt,nt,rt,ot,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(j,$,_e,et,tt,nt,rt,ot,it){if(Tb.apply(this,arguments),Ob){if(Ob){var at=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=at)}}function Vb(j){var $=j,_e=j;if(j.alternate)for(;$.return;)$=$.return;else{j=$;do $=j,$.flags&4098&&(_e=$.return),j=$.return;while(j)}return $.tag===3?_e:null}function Wb(j){if(j.tag===13){var $=j.memoizedState;if($===null&&(j=j.alternate,j!==null&&($=j.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(j){if(Vb(j)!==j)throw Error(p$2(188))}function Yb(j){var $=j.alternate;if(!$){if($=Vb(j),$===null)throw Error(p$2(188));return $!==j?null:j}for(var _e=j,et=$;;){var tt=_e.return;if(tt===null)break;var nt=tt.alternate;if(nt===null){if(et=tt.return,et!==null){_e=et;continue}break}if(tt.child===nt.child){for(nt=tt.child;nt;){if(nt===_e)return Xb(tt),j;if(nt===et)return Xb(tt),$;nt=nt.sibling}throw Error(p$2(188))}if(_e.return!==et.return)_e=tt,et=nt;else{for(var rt=!1,ot=tt.child;ot;){if(ot===_e){rt=!0,_e=tt,et=nt;break}if(ot===et){rt=!0,et=tt,_e=nt;break}ot=ot.sibling}if(!rt){for(ot=nt.child;ot;){if(ot===_e){rt=!0,_e=nt,et=tt;break}if(ot===et){rt=!0,et=nt,_e=tt;break}ot=ot.sibling}if(!rt)throw Error(p$2(189))}}if(_e.alternate!==et)throw Error(p$2(190))}if(_e.tag!==3)throw Error(p$2(188));return _e.stateNode.current===_e?j:$}function Zb(j){return j=Yb(j),j!==null?$b(j):null}function $b(j){if(j.tag===5||j.tag===6)return j;for(j=j.child;j!==null;){var $=$b(j);if($!==null)return $;j=j.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(j){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,j,void 0,(j.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(j){return j>>>=0,j===0?32:31-(pc(j)/qc|0)|0}var rc=64,sc=4194304;function tc(j){switch(j&-j){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return j&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return j}}function uc(j,$){var _e=j.pendingLanes;if(_e===0)return 0;var et=0,tt=j.suspendedLanes,nt=j.pingedLanes,rt=_e&268435455;if(rt!==0){var ot=rt&~tt;ot!==0?et=tc(ot):(nt&=rt,nt!==0&&(et=tc(nt)))}else rt=_e&~tt,rt!==0?et=tc(rt):nt!==0&&(et=tc(nt));if(et===0)return 0;if($!==0&&$!==et&&!($&tt)&&(tt=et&-et,nt=$&-$,tt>=nt||tt===16&&(nt&4194240)!==0))return $;if(et&4&&(et|=_e&16),$=j.entangledLanes,$!==0)for(j=j.entanglements,$&=et;0<$;)_e=31-oc($),tt=1<<_e,et|=j[_e],$&=~tt;return et}function vc(j,$){switch(j){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(j,$){for(var _e=j.suspendedLanes,et=j.pingedLanes,tt=j.expirationTimes,nt=j.pendingLanes;0<nt;){var rt=31-oc(nt),ot=1<<rt,it=tt[rt];it===-1?(!(ot&_e)||ot&et)&&(tt[rt]=vc(ot,$)):it<=$&&(j.expiredLanes|=ot),nt&=~ot}}function xc(j){return j=j.pendingLanes&-1073741825,j!==0?j:j&1073741824?1073741824:0}function yc(){var j=rc;return rc<<=1,!(rc&4194240)&&(rc=64),j}function zc(j){for(var $=[],_e=0;31>_e;_e++)$.push(j);return $}function Ac(j,$,_e){j.pendingLanes|=$,$!==536870912&&(j.suspendedLanes=0,j.pingedLanes=0),j=j.eventTimes,$=31-oc($),j[$]=_e}function Bc(j,$){var _e=j.pendingLanes&~$;j.pendingLanes=$,j.suspendedLanes=0,j.pingedLanes=0,j.expiredLanes&=$,j.mutableReadLanes&=$,j.entangledLanes&=$,$=j.entanglements;var et=j.eventTimes;for(j=j.expirationTimes;0<_e;){var tt=31-oc(_e),nt=1<<tt;$[tt]=0,et[tt]=-1,j[tt]=-1,_e&=~nt}}function Cc(j,$){var _e=j.entangledLanes|=$;for(j=j.entanglements;_e;){var et=31-oc(_e),tt=1<<et;tt&$|j[et]&$&&(j[et]|=$),_e&=~tt}}var C=0;function Dc(j){return j&=-j,1<j?4<j?j&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(j,$){switch(j){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(j,$,_e,et,tt,nt){return j===null||j.nativeEvent!==nt?(j={blockedOn:$,domEventName:_e,eventSystemFlags:et,nativeEvent:nt,targetContainers:[tt]},$!==null&&($=Cb($),$!==null&&Fc($)),j):(j.eventSystemFlags|=et,$=j.targetContainers,tt!==null&&$.indexOf(tt)===-1&&$.push(tt),j)}function Uc(j,$,_e,et,tt){switch($){case"focusin":return Lc=Tc(Lc,j,$,_e,et,tt),!0;case"dragenter":return Mc=Tc(Mc,j,$,_e,et,tt),!0;case"mouseover":return Nc=Tc(Nc,j,$,_e,et,tt),!0;case"pointerover":var nt=tt.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,j,$,_e,et,tt)),!0;case"gotpointercapture":return nt=tt.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,j,$,_e,et,tt)),!0}return!1}function Vc(j){var $=Wc(j.target);if($!==null){var _e=Vb($);if(_e!==null){if($=_e.tag,$===13){if($=Wb(_e),$!==null){j.blockedOn=$,Ic(j.priority,function(){Gc(_e)});return}}else if($===3&&_e.stateNode.current.memoizedState.isDehydrated){j.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}j.blockedOn=null}function Xc(j){if(j.blockedOn!==null)return!1;for(var $=j.targetContainers;0<$.length;){var _e=Yc(j.domEventName,j.eventSystemFlags,$[0],j.nativeEvent);if(_e===null){_e=j.nativeEvent;var et=new _e.constructor(_e.type,_e);wb=et,_e.target.dispatchEvent(et),wb=null}else return $=Cb(_e),$!==null&&Fc($),j.blockedOn=_e,!1;$.shift()}return!0}function Zc(j,$,_e){Xc(j)&&_e.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(j,$){j.blockedOn===$&&(j.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(j){function $(tt){return ad(tt,j)}if(0<Kc.length){ad(Kc[0],j);for(var _e=1;_e<Kc.length;_e++){var et=Kc[_e];et.blockedOn===j&&(et.blockedOn=null)}}for(Lc!==null&&ad(Lc,j),Mc!==null&&ad(Mc,j),Nc!==null&&ad(Nc,j),Oc.forEach($),Pc.forEach($),_e=0;_e<Qc.length;_e++)et=Qc[_e],et.blockedOn===j&&(et.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(j,$,_e,et){var tt=C,nt=cd.transition;cd.transition=null;try{C=1,fd(j,$,_e,et)}finally{C=tt,cd.transition=nt}}function gd(j,$,_e,et){var tt=C,nt=cd.transition;cd.transition=null;try{C=4,fd(j,$,_e,et)}finally{C=tt,cd.transition=nt}}function fd(j,$,_e,et){if(dd){var tt=Yc(j,$,_e,et);if(tt===null)hd(j,$,et,id,_e),Sc(j,et);else if(Uc(tt,j,$,_e,et))et.stopPropagation();else if(Sc(j,et),$&4&&-1<Rc.indexOf(j)){for(;tt!==null;){var nt=Cb(tt);if(nt!==null&&Ec(nt),nt=Yc(j,$,_e,et),nt===null&&hd(j,$,et,id,_e),nt===tt)break;tt=nt}tt!==null&&et.stopPropagation()}else hd(j,$,et,null,_e)}}var id=null;function Yc(j,$,_e,et){if(id=null,j=xb(et),j=Wc(j),j!==null)if($=Vb(j),$===null)j=null;else if(_e=$.tag,_e===13){if(j=Wb($),j!==null)return j;j=null}else if(_e===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;j=null}else $!==j&&(j=null);return id=j,null}function jd(j){switch(j){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var j,$=ld,_e=$.length,et,tt="value"in kd?kd.value:kd.textContent,nt=tt.length;for(j=0;j<_e&&$[j]===tt[j];j++);var rt=_e-j;for(et=1;et<=rt&&$[_e-et]===tt[nt-et];et++);return md=tt.slice(j,1<et?1-et:void 0)}function od(j){var $=j.keyCode;return"charCode"in j?(j=j.charCode,j===0&&$===13&&(j=13)):j=$,j===10&&(j=13),32<=j||j===13?j:0}function pd(){return!0}function qd(){return!1}function rd(j){function $(_e,et,tt,nt,rt){this._reactName=_e,this._targetInst=tt,this.type=et,this.nativeEvent=nt,this.target=rt,this.currentTarget=null;for(var ot in j)j.hasOwnProperty(ot)&&(_e=j[ot],this[ot]=_e?_e(nt):nt[ot]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(j){return j.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(j){return j.relatedTarget===void 0?j.fromElement===j.srcElement?j.toElement:j.fromElement:j.relatedTarget},movementX:function(j){return"movementX"in j?j.movementX:(j!==yd&&(yd&&j.type==="mousemove"?(wd=j.screenX-yd.screenX,xd=j.screenY-yd.screenY):xd=wd=0,yd=j),wd)},movementY:function(j){return"movementY"in j?j.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(j){return"clipboardData"in j?j.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(j){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(j):(j=Od[j])?!!$[j]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(j){if(j.key){var $=Md[j.key]||j.key;if($!=="Unidentified")return $}return j.type==="keypress"?(j=od(j),j===13?"Enter":String.fromCharCode(j)):j.type==="keydown"||j.type==="keyup"?Nd[j.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(j){return j.type==="keypress"?od(j):0},keyCode:function(j){return j.type==="keydown"||j.type==="keyup"?j.keyCode:0},which:function(j){return j.type==="keypress"?od(j):j.type==="keydown"||j.type==="keyup"?j.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(j){return"deltaX"in j?j.deltaX:"wheelDeltaX"in j?-j.wheelDeltaX:0},deltaY:function(j){return"deltaY"in j?j.deltaY:"wheelDeltaY"in j?-j.wheelDeltaY:"wheelDelta"in j?-j.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(j,$){switch(j){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(j){return j=j.detail,typeof j=="object"&&"data"in j?j.data:null}var ie=!1;function je(j,$){switch(j){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return j=$.data,j===ee&&fe?null:j;default:return null}}function ke(j,$){if(ie)return j==="compositionend"||!ae&&ge(j,$)?(j=nd(),md=ld=kd=null,ie=!1,j):null;switch(j){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(j){var $=j&&j.nodeName&&j.nodeName.toLowerCase();return $==="input"?!!le[j.type]:$==="textarea"}function ne(j,$,_e,et){Eb(et),$=oe($,"onChange"),0<$.length&&(_e=new td("onChange","change",null,_e,et),j.push({event:_e,listeners:$}))}var pe=null,qe=null;function re(j){se(j,0)}function te(j){var $=ue(j);if(Wa($))return j}function ve(j,$){if(j==="change")return $}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(j){if(j.propertyName==="value"&&te(qe)){var $=[];ne($,qe,j,xb(j)),Jb(re,$)}}function Ce(j,$,_e){j==="focusin"?(Ae(),pe=$,qe=_e,pe.attachEvent("onpropertychange",Be)):j==="focusout"&&Ae()}function De(j){if(j==="selectionchange"||j==="keyup"||j==="keydown")return te(qe)}function Ee(j,$){if(j==="click")return te($)}function Fe(j,$){if(j==="input"||j==="change")return te($)}function Ge(j,$){return j===$&&(j!==0||1/j===1/$)||j!==j&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(j,$){if(He(j,$))return!0;if(typeof j!="object"||j===null||typeof $!="object"||$===null)return!1;var _e=Object.keys(j),et=Object.keys($);if(_e.length!==et.length)return!1;for(et=0;et<_e.length;et++){var tt=_e[et];if(!ja.call($,tt)||!He(j[tt],$[tt]))return!1}return!0}function Je(j){for(;j&&j.firstChild;)j=j.firstChild;return j}function Ke(j,$){var _e=Je(j);j=0;for(var et;_e;){if(_e.nodeType===3){if(et=j+_e.textContent.length,j<=$&&et>=$)return{node:_e,offset:$-j};j=et}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je(_e)}}function Le(j,$){return j&&$?j===$?!0:j&&j.nodeType===3?!1:$&&$.nodeType===3?Le(j,$.parentNode):"contains"in j?j.contains($):j.compareDocumentPosition?!!(j.compareDocumentPosition($)&16):!1:!1}function Me(){for(var j=window,$=Xa();$ instanceof j.HTMLIFrameElement;){try{var _e=typeof $.contentWindow.location.href=="string"}catch{_e=!1}if(_e)j=$.contentWindow;else break;$=Xa(j.document)}return $}function Ne(j){var $=j&&j.nodeName&&j.nodeName.toLowerCase();return $&&($==="input"&&(j.type==="text"||j.type==="search"||j.type==="tel"||j.type==="url"||j.type==="password")||$==="textarea"||j.contentEditable==="true")}function Oe(j){var $=Me(),_e=j.focusedElem,et=j.selectionRange;if($!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(et!==null&&Ne(_e)){if($=et.start,j=et.end,j===void 0&&(j=$),"selectionStart"in _e)_e.selectionStart=$,_e.selectionEnd=Math.min(j,_e.value.length);else if(j=($=_e.ownerDocument||document)&&$.defaultView||window,j.getSelection){j=j.getSelection();var tt=_e.textContent.length,nt=Math.min(et.start,tt);et=et.end===void 0?nt:Math.min(et.end,tt),!j.extend&&nt>et&&(tt=et,et=nt,nt=tt),tt=Ke(_e,nt);var rt=Ke(_e,et);tt&&rt&&(j.rangeCount!==1||j.anchorNode!==tt.node||j.anchorOffset!==tt.offset||j.focusNode!==rt.node||j.focusOffset!==rt.offset)&&($=$.createRange(),$.setStart(tt.node,tt.offset),j.removeAllRanges(),nt>et?(j.addRange($),j.extend(rt.node,rt.offset)):($.setEnd(rt.node,rt.offset),j.addRange($)))}}for($=[],j=_e;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<$.length;_e++)j=$[_e],j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(j,$,_e){var et=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(et)||(et=Qe,"selectionStart"in et&&Ne(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se&&Ie(Se,et)||(Se=et,et=oe(Re,"onSelect"),0<et.length&&($=new td("onSelect","select",null,$,_e),j.push({event:$,listeners:et}),$.target=Qe)))}function Ve(j,$){var _e={};return _e[j.toLowerCase()]=$.toLowerCase(),_e["Webkit"+j]="webkit"+$,_e["Moz"+j]="moz"+$,_e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(j){if(Xe[j])return Xe[j];if(!We[j])return j;var $=We[j],_e;for(_e in $)if($.hasOwnProperty(_e)&&_e in Ye)return Xe[j]=$[_e];return j}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(j,$){df.set(j,$),fa($,[j])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(j,$,_e){var et=j.type||"unknown-event";j.currentTarget=_e,Ub(et,$,void 0,j),j.currentTarget=null}function se(j,$){$=($&4)!==0;for(var _e=0;_e<j.length;_e++){var et=j[_e],tt=et.event;et=et.listeners;e:{var nt=void 0;if($)for(var rt=et.length-1;0<=rt;rt--){var ot=et[rt],it=ot.instance,at=ot.currentTarget;if(ot=ot.listener,it!==nt&&tt.isPropagationStopped())break e;nf(tt,ot,at),nt=it}else for(rt=0;rt<et.length;rt++){if(ot=et[rt],it=ot.instance,at=ot.currentTarget,ot=ot.listener,it!==nt&&tt.isPropagationStopped())break e;nf(tt,ot,at),nt=it}}}if(Qb)throw j=Rb,Qb=!1,Rb=null,j}function D(j,$){var _e=$[of];_e===void 0&&(_e=$[of]=new Set);var et=j+"__bubble";_e.has(et)||(pf($,j,2,!1),_e.add(et))}function qf(j,$,_e){var et=0;$&&(et|=4),pf(_e,j,et,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(j){if(!j[rf]){j[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,j),qf(_e,!0,j))});var $=j.nodeType===9?j:j.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(j,$,_e,et){switch(jd($)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}_e=tt.bind(null,$,_e,j),tt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(tt=!0),et?tt!==void 0?j.addEventListener($,_e,{capture:!0,passive:tt}):j.addEventListener($,_e,!0):tt!==void 0?j.addEventListener($,_e,{passive:tt}):j.addEventListener($,_e,!1)}function hd(j,$,_e,et,tt){var nt=et;if(!($&1)&&!($&2)&&et!==null)e:for(;;){if(et===null)return;var rt=et.tag;if(rt===3||rt===4){var ot=et.stateNode.containerInfo;if(ot===tt||ot.nodeType===8&&ot.parentNode===tt)break;if(rt===4)for(rt=et.return;rt!==null;){var it=rt.tag;if((it===3||it===4)&&(it=rt.stateNode.containerInfo,it===tt||it.nodeType===8&&it.parentNode===tt))return;rt=rt.return}for(;ot!==null;){if(rt=Wc(ot),rt===null)return;if(it=rt.tag,it===5||it===6){et=nt=rt;continue e}ot=ot.parentNode}}et=et.return}Jb(function(){var at=nt,ft=xb(_e),st=[];e:{var ut=df.get(j);if(ut!==void 0){var dt=td,pt=j;switch(j){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":pt="focus",dt=Fd;break;case"focusout":pt="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var gt=($&4)!==0,yt=!gt&&j==="scroll",mt=gt?ut!==null?ut+"Capture":null:ut;gt=[];for(var vt=at,_t;vt!==null;){_t=vt;var Ct=_t.stateNode;if(_t.tag===5&&Ct!==null&&(_t=Ct,mt!==null&&(Ct=Kb(vt,mt),Ct!=null&&gt.push(tf(vt,Ct,_t)))),yt)break;vt=vt.return}0<gt.length&&(ut=new dt(ut,pt,null,_e,ft),st.push({event:ut,listeners:gt}))}}if(!($&7)){e:{if(ut=j==="mouseover"||j==="pointerover",dt=j==="mouseout"||j==="pointerout",ut&&_e!==wb&&(pt=_e.relatedTarget||_e.fromElement)&&(Wc(pt)||pt[uf]))break e;if((dt||ut)&&(ut=ft.window===ft?ft:(ut=ft.ownerDocument)?ut.defaultView||ut.parentWindow:window,dt?(pt=_e.relatedTarget||_e.toElement,dt=at,pt=pt?Wc(pt):null,pt!==null&&(yt=Vb(pt),pt!==yt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(dt=null,pt=at),dt!==pt)){if(gt=Bd,Ct="onMouseLeave",mt="onMouseEnter",vt="mouse",(j==="pointerout"||j==="pointerover")&&(gt=Td,Ct="onPointerLeave",mt="onPointerEnter",vt="pointer"),yt=dt==null?ut:ue(dt),_t=pt==null?ut:ue(pt),ut=new gt(Ct,vt+"leave",dt,_e,ft),ut.target=yt,ut.relatedTarget=_t,Ct=null,Wc(ft)===at&&(gt=new gt(mt,vt+"enter",pt,_e,ft),gt.target=_t,gt.relatedTarget=yt,Ct=gt),yt=Ct,dt&&pt)t:{for(gt=dt,mt=pt,vt=0,_t=gt;_t;_t=vf(_t))vt++;for(_t=0,Ct=mt;Ct;Ct=vf(Ct))_t++;for(;0<vt-_t;)gt=vf(gt),vt--;for(;0<_t-vt;)mt=vf(mt),_t--;for(;vt--;){if(gt===mt||mt!==null&&gt===mt.alternate)break t;gt=vf(gt),mt=vf(mt)}gt=null}else gt=null;dt!==null&&wf(st,ut,dt,gt,!1),pt!==null&&yt!==null&&wf(st,yt,pt,gt,!0)}}e:{if(ut=at?ue(at):window,dt=ut.nodeName&&ut.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ut.type==="file")var At=ve;else if(me(ut))if(we)At=Fe;else{At=De;var kt=Ce}else(dt=ut.nodeName)&&dt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(At=Ee);if(At&&(At=At(j,at))){ne(st,At,_e,ft);break e}kt&&kt(j,ut,at),j==="focusout"&&(kt=ut._wrapperState)&&kt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(kt=at?ue(at):window,j){case"focusin":(me(kt)||kt.contentEditable==="true")&&(Qe=kt,Re=at,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(st,_e,ft);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(st,_e,ft)}var St;if(ae)e:{switch(j){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie?ge(j,_e)&&(wt="onCompositionEnd"):j==="keydown"&&_e.keyCode===229&&(wt="onCompositionStart");wt&&(de&&_e.locale!=="ko"&&(ie||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie&&(St=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie=!0)),kt=oe(at,wt),0<kt.length&&(wt=new Ld(wt,j,null,_e,ft),st.push({event:wt,listeners:kt}),St?wt.data=St:(St=he(_e),St!==null&&(wt.data=St)))),(St=ce?je(j,_e):ke(j,_e))&&(at=oe(at,"onBeforeInput"),0<at.length&&(ft=new Ld("onBeforeInput","beforeinput",null,_e,ft),st.push({event:ft,listeners:at}),ft.data=St))}se(st,$)})}function tf(j,$,_e){return{instance:j,listener:$,currentTarget:_e}}function oe(j,$){for(var _e=$+"Capture",et=[];j!==null;){var tt=j,nt=tt.stateNode;tt.tag===5&&nt!==null&&(tt=nt,nt=Kb(j,_e),nt!=null&&et.unshift(tf(j,nt,tt)),nt=Kb(j,$),nt!=null&&et.push(tf(j,nt,tt))),j=j.return}return et}function vf(j){if(j===null)return null;do j=j.return;while(j&&j.tag!==5);return j||null}function wf(j,$,_e,et,tt){for(var nt=$._reactName,rt=[];_e!==null&&_e!==et;){var ot=_e,it=ot.alternate,at=ot.stateNode;if(it!==null&&it===et)break;ot.tag===5&&at!==null&&(ot=at,tt?(it=Kb(_e,nt),it!=null&&rt.unshift(tf(_e,it,ot))):tt||(it=Kb(_e,nt),it!=null&&rt.push(tf(_e,it,ot)))),_e=_e.return}rt.length!==0&&j.push({event:$,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(j){return(typeof j=="string"?j:""+j).replace(xf,`
`).replace(yf,"")}function Af(j,$,_e){if($=zf($),zf(j)!==$&&_e)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(j,$){return j==="textarea"||j==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(j){return Hf.resolve(null).then(j).catch(If)}:Ff;function If(j){setTimeout(function(){throw j})}function Kf(j,$){var _e=$,et=0;do{var tt=_e.nextSibling;if(j.removeChild(_e),tt&&tt.nodeType===8)if(_e=tt.data,_e==="/$"){if(et===0){j.removeChild(tt),bd($);return}et--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||et++;_e=tt}while(_e);bd($)}function Lf(j){for(;j!=null;j=j.nextSibling){var $=j.nodeType;if($===1||$===3)break;if($===8){if($=j.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return j}function Mf(j){j=j.previousSibling;for(var $=0;j;){if(j.nodeType===8){var _e=j.data;if(_e==="$"||_e==="$!"||_e==="$?"){if($===0)return j;$--}else _e==="/$"&&$++}j=j.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(j){var $=j[Of];if($)return $;for(var _e=j.parentNode;_e;){if($=_e[uf]||_e[Of]){if(_e=$.alternate,$.child!==null||_e!==null&&_e.child!==null)for(j=Mf(j);j!==null;){if(_e=j[Of])return _e;j=Mf(j)}return $}j=_e,_e=j.parentNode}return null}function Cb(j){return j=j[Of]||j[uf],!j||j.tag!==5&&j.tag!==6&&j.tag!==13&&j.tag!==3?null:j}function ue(j){if(j.tag===5||j.tag===6)return j.stateNode;throw Error(p$2(33))}function Db(j){return j[Pf]||null}var Sf=[],Tf=-1;function Uf(j){return{current:j}}function E$1(j){0>Tf||(j.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(j,$){Tf++,Sf[Tf]=j.current,j.current=$}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(j,$){var _e=j.type.contextTypes;if(!_e)return Vf;var et=j.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===$)return et.__reactInternalMemoizedMaskedChildContext;var tt={},nt;for(nt in _e)tt[nt]=$[nt];return et&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=$,j.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(j){return j=j.childContextTypes,j!=null}function $f(){E$1(Wf),E$1(H)}function ag(j,$,_e){if(H.current!==Vf)throw Error(p$2(168));G(H,$),G(Wf,_e)}function bg(j,$,_e){var et=j.stateNode;if($=$.childContextTypes,typeof et.getChildContext!="function")return _e;et=et.getChildContext();for(var tt in et)if(!(tt in $))throw Error(p$2(108,Ra(j)||"Unknown",tt));return A$1({},_e,et)}function cg(j){return j=(j=j.stateNode)&&j.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,j),G(Wf,Wf.current),!0}function dg(j,$,_e){var et=j.stateNode;if(!et)throw Error(p$2(169));_e?(j=bg(j,$,Xf),et.__reactInternalMemoizedMergedChildContext=j,E$1(Wf),E$1(H),G(H,j)):E$1(Wf),G(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(j){eg===null?eg=[j]:eg.push(j)}function ig(j){fg=!0,hg(j)}function jg(){if(!gg&&eg!==null){gg=!0;var j=0,$=C;try{var _e=eg;for(C=1;j<_e.length;j++){var et=_e[j];do et=et(!0);while(et!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(j+1)),ac(fc,jg),tt}finally{C=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(j,$){kg[lg++]=ng,kg[lg++]=mg,mg=j,ng=$}function ug(j,$,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=j;var et=rg;j=sg;var tt=32-oc(et)-1;et&=~(1<<tt),_e+=1;var nt=32-oc($)+tt;if(30<nt){var rt=tt-tt%5;nt=(et&(1<<rt)-1).toString(32),et>>=rt,tt-=rt,rg=1<<32-oc($)+tt|_e<<tt|et,sg=nt+j}else rg=1<<nt|_e<<tt|et,sg=j}function vg(j){j.return!==null&&(tg(j,1),ug(j,1,0))}function wg(j){for(;j===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;j===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(j,$){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=$,_e.return=j,$=j.deletions,$===null?(j.deletions=[_e],j.flags|=16):$.push(_e)}function Cg(j,$){switch(j.tag){case 5:var _e=j.type;return $=$.nodeType!==1||_e.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(j.stateNode=$,xg=j,yg=Lf($.firstChild),!0):!1;case 6:return $=j.pendingProps===""||$.nodeType!==3?null:$,$!==null?(j.stateNode=$,xg=j,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,j.memoizedState={dehydrated:$,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=$,_e.return=j,j.child=_e,xg=j,yg=null,!0):!1;default:return!1}}function Dg(j){return(j.mode&1)!==0&&(j.flags&128)===0}function Eg(j){if(I){var $=yg;if($){var _e=$;if(!Cg(j,$)){if(Dg(j))throw Error(p$2(418));$=Lf(_e.nextSibling);var et=xg;$&&Cg(j,$)?Ag(et,_e):(j.flags=j.flags&-4097|2,I=!1,xg=j)}}else{if(Dg(j))throw Error(p$2(418));j.flags=j.flags&-4097|2,I=!1,xg=j}}}function Fg(j){for(j=j.return;j!==null&&j.tag!==5&&j.tag!==3&&j.tag!==13;)j=j.return;xg=j}function Gg(j){if(j!==xg)return!1;if(!I)return Fg(j),I=!0,!1;var $;if(($=j.tag!==3)&&!($=j.tag!==5)&&($=j.type,$=$!=="head"&&$!=="body"&&!Ef(j.type,j.memoizedProps)),$&&($=yg)){if(Dg(j))throw Hg(),Error(p$2(418));for(;$;)Ag(j,$),$=Lf($.nextSibling)}if(Fg(j),j.tag===13){if(j=j.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$2(317));e:{for(j=j.nextSibling,$=0;j;){if(j.nodeType===8){var _e=j.data;if(_e==="/$"){if($===0){yg=Lf(j.nextSibling);break e}$--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||$++}j=j.nextSibling}yg=null}}else yg=xg?Lf(j.stateNode.nextSibling):null;return!0}function Hg(){for(var j=yg;j;)j=Lf(j.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(j){zg===null?zg=[j]:zg.push(j)}var Kg=ua.ReactCurrentBatchConfig;function Lg(j,$,_e){if(j=_e.ref,j!==null&&typeof j!="function"&&typeof j!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$2(309));var et=_e.stateNode}if(!et)throw Error(p$2(147,j));var tt=et,nt=""+j;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===nt?$.ref:($=function(rt){var ot=tt.refs;rt===null?delete ot[nt]:ot[nt]=rt},$._stringRef=nt,$)}if(typeof j!="string")throw Error(p$2(284));if(!_e._owner)throw Error(p$2(290,j))}return j}function Mg(j,$){throw j=Object.prototype.toString.call($),Error(p$2(31,j==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":j))}function Ng(j){var $=j._init;return $(j._payload)}function Og(j){function $(mt,vt){if(j){var _t=mt.deletions;_t===null?(mt.deletions=[vt],mt.flags|=16):_t.push(vt)}}function _e(mt,vt){if(!j)return null;for(;vt!==null;)$(mt,vt),vt=vt.sibling;return null}function et(mt,vt){for(mt=new Map;vt!==null;)vt.key!==null?mt.set(vt.key,vt):mt.set(vt.index,vt),vt=vt.sibling;return mt}function tt(mt,vt){return mt=Pg(mt,vt),mt.index=0,mt.sibling=null,mt}function nt(mt,vt,_t){return mt.index=_t,j?(_t=mt.alternate,_t!==null?(_t=_t.index,_t<vt?(mt.flags|=2,vt):_t):(mt.flags|=2,vt)):(mt.flags|=1048576,vt)}function rt(mt){return j&&mt.alternate===null&&(mt.flags|=2),mt}function ot(mt,vt,_t,Ct){return vt===null||vt.tag!==6?(vt=Qg(_t,mt.mode,Ct),vt.return=mt,vt):(vt=tt(vt,_t),vt.return=mt,vt)}function it(mt,vt,_t,Ct){var At=_t.type;return At===ya?ft(mt,vt,_t.props.children,Ct,_t.key):vt!==null&&(vt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===vt.type)?(Ct=tt(vt,_t.props),Ct.ref=Lg(mt,vt,_t),Ct.return=mt,Ct):(Ct=Rg(_t.type,_t.key,_t.props,null,mt.mode,Ct),Ct.ref=Lg(mt,vt,_t),Ct.return=mt,Ct)}function at(mt,vt,_t,Ct){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==_t.containerInfo||vt.stateNode.implementation!==_t.implementation?(vt=Sg(_t,mt.mode,Ct),vt.return=mt,vt):(vt=tt(vt,_t.children||[]),vt.return=mt,vt)}function ft(mt,vt,_t,Ct,At){return vt===null||vt.tag!==7?(vt=Tg(_t,mt.mode,Ct,At),vt.return=mt,vt):(vt=tt(vt,_t),vt.return=mt,vt)}function st(mt,vt,_t){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=Qg(""+vt,mt.mode,_t),vt.return=mt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return _t=Rg(vt.type,vt.key,vt.props,null,mt.mode,_t),_t.ref=Lg(mt,null,vt),_t.return=mt,_t;case wa:return vt=Sg(vt,mt.mode,_t),vt.return=mt,vt;case Ha:var Ct=vt._init;return st(mt,Ct(vt._payload),_t)}if(eb(vt)||Ka(vt))return vt=Tg(vt,mt.mode,_t,null),vt.return=mt,vt;Mg(mt,vt)}return null}function ut(mt,vt,_t,Ct){var At=vt!==null?vt.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return At!==null?null:ot(mt,vt,""+_t,Ct);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return _t.key===At?it(mt,vt,_t,Ct):null;case wa:return _t.key===At?at(mt,vt,_t,Ct):null;case Ha:return At=_t._init,ut(mt,vt,At(_t._payload),Ct)}if(eb(_t)||Ka(_t))return At!==null?null:ft(mt,vt,_t,Ct,null);Mg(mt,_t)}return null}function dt(mt,vt,_t,Ct,At){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return mt=mt.get(_t)||null,ot(vt,mt,""+Ct,At);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case va:return mt=mt.get(Ct.key===null?_t:Ct.key)||null,it(vt,mt,Ct,At);case wa:return mt=mt.get(Ct.key===null?_t:Ct.key)||null,at(vt,mt,Ct,At);case Ha:var kt=Ct._init;return dt(mt,vt,_t,kt(Ct._payload),At)}if(eb(Ct)||Ka(Ct))return mt=mt.get(_t)||null,ft(vt,mt,Ct,At,null);Mg(vt,Ct)}return null}function pt(mt,vt,_t,Ct){for(var At=null,kt=null,St=vt,wt=vt=0,It=null;St!==null&&wt<_t.length;wt++){St.index>wt?(It=St,St=null):It=St.sibling;var Ut=ut(mt,St,_t[wt],Ct);if(Ut===null){St===null&&(St=It);break}j&&St&&Ut.alternate===null&&$(mt,St),vt=nt(Ut,vt,wt),kt===null?At=Ut:kt.sibling=Ut,kt=Ut,St=It}if(wt===_t.length)return _e(mt,St),I&&tg(mt,wt),At;if(St===null){for(;wt<_t.length;wt++)St=st(mt,_t[wt],Ct),St!==null&&(vt=nt(St,vt,wt),kt===null?At=St:kt.sibling=St,kt=St);return I&&tg(mt,wt),At}for(St=et(mt,St);wt<_t.length;wt++)It=dt(St,mt,wt,_t[wt],Ct),It!==null&&(j&&It.alternate!==null&&St.delete(It.key===null?wt:It.key),vt=nt(It,vt,wt),kt===null?At=It:kt.sibling=It,kt=It);return j&&St.forEach(function(Yt){return $(mt,Yt)}),I&&tg(mt,wt),At}function gt(mt,vt,_t,Ct){var At=Ka(_t);if(typeof At!="function")throw Error(p$2(150));if(_t=At.call(_t),_t==null)throw Error(p$2(151));for(var kt=At=null,St=vt,wt=vt=0,It=null,Ut=_t.next();St!==null&&!Ut.done;wt++,Ut=_t.next()){St.index>wt?(It=St,St=null):It=St.sibling;var Yt=ut(mt,St,Ut.value,Ct);if(Yt===null){St===null&&(St=It);break}j&&St&&Yt.alternate===null&&$(mt,St),vt=nt(Yt,vt,wt),kt===null?At=Yt:kt.sibling=Yt,kt=Yt,St=It}if(Ut.done)return _e(mt,St),I&&tg(mt,wt),At;if(St===null){for(;!Ut.done;wt++,Ut=_t.next())Ut=st(mt,Ut.value,Ct),Ut!==null&&(vt=nt(Ut,vt,wt),kt===null?At=Ut:kt.sibling=Ut,kt=Ut);return I&&tg(mt,wt),At}for(St=et(mt,St);!Ut.done;wt++,Ut=_t.next())Ut=dt(St,mt,wt,Ut.value,Ct),Ut!==null&&(j&&Ut.alternate!==null&&St.delete(Ut.key===null?wt:Ut.key),vt=nt(Ut,vt,wt),kt===null?At=Ut:kt.sibling=Ut,kt=Ut);return j&&St.forEach(function(rn){return $(mt,rn)}),I&&tg(mt,wt),At}function yt(mt,vt,_t,Ct){if(typeof _t=="object"&&_t!==null&&_t.type===ya&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:e:{for(var At=_t.key,kt=vt;kt!==null;){if(kt.key===At){if(At=_t.type,At===ya){if(kt.tag===7){_e(mt,kt.sibling),vt=tt(kt,_t.props.children),vt.return=mt,mt=vt;break e}}else if(kt.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===Ha&&Ng(At)===kt.type){_e(mt,kt.sibling),vt=tt(kt,_t.props),vt.ref=Lg(mt,kt,_t),vt.return=mt,mt=vt;break e}_e(mt,kt);break}else $(mt,kt);kt=kt.sibling}_t.type===ya?(vt=Tg(_t.props.children,mt.mode,Ct,_t.key),vt.return=mt,mt=vt):(Ct=Rg(_t.type,_t.key,_t.props,null,mt.mode,Ct),Ct.ref=Lg(mt,vt,_t),Ct.return=mt,mt=Ct)}return rt(mt);case wa:e:{for(kt=_t.key;vt!==null;){if(vt.key===kt)if(vt.tag===4&&vt.stateNode.containerInfo===_t.containerInfo&&vt.stateNode.implementation===_t.implementation){_e(mt,vt.sibling),vt=tt(vt,_t.children||[]),vt.return=mt,mt=vt;break e}else{_e(mt,vt);break}else $(mt,vt);vt=vt.sibling}vt=Sg(_t,mt.mode,Ct),vt.return=mt,mt=vt}return rt(mt);case Ha:return kt=_t._init,yt(mt,vt,kt(_t._payload),Ct)}if(eb(_t))return pt(mt,vt,_t,Ct);if(Ka(_t))return gt(mt,vt,_t,Ct);Mg(mt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,vt!==null&&vt.tag===6?(_e(mt,vt.sibling),vt=tt(vt,_t),vt.return=mt,mt=vt):(_e(mt,vt),vt=Qg(_t,mt.mode,Ct),vt.return=mt,mt=vt),rt(mt)):_e(mt,vt)}return yt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(j){var $=Wg.current;E$1(Wg),j._currentValue=$}function bh(j,$,_e){for(;j!==null;){var et=j.alternate;if((j.childLanes&$)!==$?(j.childLanes|=$,et!==null&&(et.childLanes|=$)):et!==null&&(et.childLanes&$)!==$&&(et.childLanes|=$),j===_e)break;j=j.return}}function ch(j,$){Xg=j,Zg=Yg=null,j=j.dependencies,j!==null&&j.firstContext!==null&&(j.lanes&$&&(dh=!0),j.firstContext=null)}function eh(j){var $=j._currentValue;if(Zg!==j)if(j={context:j,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=j,Xg.dependencies={lanes:0,firstContext:j}}else Yg=Yg.next=j;return $}var fh=null;function gh(j){fh===null?fh=[j]:fh.push(j)}function hh(j,$,_e,et){var tt=$.interleaved;return tt===null?(_e.next=_e,gh($)):(_e.next=tt.next,tt.next=_e),$.interleaved=_e,ih(j,et)}function ih(j,$){j.lanes|=$;var _e=j.alternate;for(_e!==null&&(_e.lanes|=$),_e=j,j=j.return;j!==null;)j.childLanes|=$,_e=j.alternate,_e!==null&&(_e.childLanes|=$),_e=j,j=j.return;return _e.tag===3?_e.stateNode:null}var jh=!1;function kh(j){j.updateQueue={baseState:j.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(j,$){j=j.updateQueue,$.updateQueue===j&&($.updateQueue={baseState:j.baseState,firstBaseUpdate:j.firstBaseUpdate,lastBaseUpdate:j.lastBaseUpdate,shared:j.shared,effects:j.effects})}function mh(j,$){return{eventTime:j,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(j,$,_e){var et=j.updateQueue;if(et===null)return null;if(et=et.shared,K&2){var tt=et.pending;return tt===null?$.next=$:($.next=tt.next,tt.next=$),et.pending=$,ih(j,_e)}return tt=et.interleaved,tt===null?($.next=$,gh(et)):($.next=tt.next,tt.next=$),et.interleaved=$,ih(j,_e)}function oh(j,$,_e){if($=$.updateQueue,$!==null&&($=$.shared,(_e&4194240)!==0)){var et=$.lanes;et&=j.pendingLanes,_e|=et,$.lanes=_e,Cc(j,_e)}}function ph(j,$){var _e=j.updateQueue,et=j.alternate;if(et!==null&&(et=et.updateQueue,_e===et)){var tt=null,nt=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var rt={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};nt===null?tt=nt=rt:nt=nt.next=rt,_e=_e.next}while(_e!==null);nt===null?tt=nt=$:nt=nt.next=$}else tt=nt=$;_e={baseState:et.baseState,firstBaseUpdate:tt,lastBaseUpdate:nt,shared:et.shared,effects:et.effects},j.updateQueue=_e;return}j=_e.lastBaseUpdate,j===null?_e.firstBaseUpdate=$:j.next=$,_e.lastBaseUpdate=$}function qh(j,$,_e,et){var tt=j.updateQueue;jh=!1;var nt=tt.firstBaseUpdate,rt=tt.lastBaseUpdate,ot=tt.shared.pending;if(ot!==null){tt.shared.pending=null;var it=ot,at=it.next;it.next=null,rt===null?nt=at:rt.next=at,rt=it;var ft=j.alternate;ft!==null&&(ft=ft.updateQueue,ot=ft.lastBaseUpdate,ot!==rt&&(ot===null?ft.firstBaseUpdate=at:ot.next=at,ft.lastBaseUpdate=it))}if(nt!==null){var st=tt.baseState;rt=0,ft=at=it=null,ot=nt;do{var ut=ot.lane,dt=ot.eventTime;if((et&ut)===ut){ft!==null&&(ft=ft.next={eventTime:dt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var pt=j,gt=ot;switch(ut=$,dt=_e,gt.tag){case 1:if(pt=gt.payload,typeof pt=="function"){st=pt.call(dt,st,ut);break e}st=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=gt.payload,ut=typeof pt=="function"?pt.call(dt,st,ut):pt,ut==null)break e;st=A$1({},st,ut);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&(j.flags|=64,ut=tt.effects,ut===null?tt.effects=[ot]:ut.push(ot))}else dt={eventTime:dt,lane:ut,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ft===null?(at=ft=dt,it=st):ft=ft.next=dt,rt|=ut;if(ot=ot.next,ot===null){if(ot=tt.shared.pending,ot===null)break;ut=ot,ot=ut.next,ut.next=null,tt.lastBaseUpdate=ut,tt.shared.pending=null}}while(!0);if(ft===null&&(it=st),tt.baseState=it,tt.firstBaseUpdate=at,tt.lastBaseUpdate=ft,$=tt.shared.interleaved,$!==null){tt=$;do rt|=tt.lane,tt=tt.next;while(tt!==$)}else nt===null&&(tt.shared.lanes=0);rh|=rt,j.lanes=rt,j.memoizedState=st}}function sh(j,$,_e){if(j=$.effects,$.effects=null,j!==null)for($=0;$<j.length;$++){var et=j[$],tt=et.callback;if(tt!==null){if(et.callback=null,et=_e,typeof tt!="function")throw Error(p$2(191,tt));tt.call(et)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(j){if(j===th)throw Error(p$2(174));return j}function yh(j,$){switch(G(wh,$),G(vh,j),G(uh,th),j=$.nodeType,j){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:j=j===8?$.parentNode:$,$=j.namespaceURI||null,j=j.tagName,$=lb($,j)}E$1(uh),G(uh,$)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(j){xh(wh.current);var $=xh(uh.current),_e=lb($,j.type);$!==_e&&(G(vh,j),G(uh,_e))}function Bh(j){vh.current===j&&(E$1(uh),E$1(vh))}var L=Uf(0);function Ch(j){for(var $=j;$!==null;){if($.tag===13){var _e=$.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===j)break;for(;$.sibling===null;){if($.return===null||$.return===j)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var j=0;j<Dh.length;j++)Dh[j]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(j,$){if($===null)return!1;for(var _e=0;_e<$.length&&_e<j.length;_e++)if(!He(j[_e],$[_e]))return!1;return!0}function Nh(j,$,_e,et,tt,nt){if(Hh=nt,M=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=j===null||j.memoizedState===null?Oh:Ph,j=_e(et,tt),Jh){nt=0;do{if(Jh=!1,Kh=0,25<=nt)throw Error(p$2(301));nt+=1,O=N=null,$.updateQueue=null,Fh.current=Qh,j=_e(et,tt)}while(Jh)}if(Fh.current=Rh,$=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,$)throw Error(p$2(300));return j}function Sh(){var j=Kh!==0;return Kh=0,j}function Th(){var j={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=j:O=O.next=j,O}function Uh(){if(N===null){var j=M.alternate;j=j!==null?j.memoizedState:null}else j=N.next;var $=O===null?M.memoizedState:O.next;if($!==null)O=$,N=j;else{if(j===null)throw Error(p$2(310));N=j,j={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=j:O=O.next=j}return O}function Vh(j,$){return typeof $=="function"?$(j):$}function Wh(j){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$2(311));_e.lastRenderedReducer=j;var et=N,tt=et.baseQueue,nt=_e.pending;if(nt!==null){if(tt!==null){var rt=tt.next;tt.next=nt.next,nt.next=rt}et.baseQueue=tt=nt,_e.pending=null}if(tt!==null){nt=tt.next,et=et.baseState;var ot=rt=null,it=null,at=nt;do{var ft=at.lane;if((Hh&ft)===ft)it!==null&&(it=it.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),et=at.hasEagerState?at.eagerState:j(et,at.action);else{var st={lane:ft,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};it===null?(ot=it=st,rt=et):it=it.next=st,M.lanes|=ft,rh|=ft}at=at.next}while(at!==null&&at!==nt);it===null?rt=et:it.next=ot,He(et,$.memoizedState)||(dh=!0),$.memoizedState=et,$.baseState=rt,$.baseQueue=it,_e.lastRenderedState=et}if(j=_e.interleaved,j!==null){tt=j;do nt=tt.lane,M.lanes|=nt,rh|=nt,tt=tt.next;while(tt!==j)}else tt===null&&(_e.lanes=0);return[$.memoizedState,_e.dispatch]}function Xh(j){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$2(311));_e.lastRenderedReducer=j;var et=_e.dispatch,tt=_e.pending,nt=$.memoizedState;if(tt!==null){_e.pending=null;var rt=tt=tt.next;do nt=j(nt,rt.action),rt=rt.next;while(rt!==tt);He(nt,$.memoizedState)||(dh=!0),$.memoizedState=nt,$.baseQueue===null&&($.baseState=nt),_e.lastRenderedState=nt}return[nt,et]}function Yh(){}function Zh(j,$){var _e=M,et=Uh(),tt=$(),nt=!He(et.memoizedState,tt);if(nt&&(et.memoizedState=tt,dh=!0),et=et.queue,$h(ai.bind(null,_e,et,j),[j]),et.getSnapshot!==$||nt||O!==null&&O.memoizedState.tag&1){if(_e.flags|=2048,bi(9,ci.bind(null,_e,et,tt,$),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di(_e,$,tt)}return tt}function di(j,$,_e){j.flags|=16384,j={getSnapshot:$,value:_e},$=M.updateQueue,$===null?($={lastEffect:null,stores:null},M.updateQueue=$,$.stores=[j]):(_e=$.stores,_e===null?$.stores=[j]:_e.push(j))}function ci(j,$,_e,et){$.value=_e,$.getSnapshot=et,ei($)&&fi(j)}function ai(j,$,_e){return _e(function(){ei($)&&fi(j)})}function ei(j){var $=j.getSnapshot;j=j.value;try{var _e=$();return!He(j,_e)}catch{return!0}}function fi(j){var $=ih(j,1);$!==null&&gi($,j,1,-1)}function hi(j){var $=Th();return typeof j=="function"&&(j=j()),$.memoizedState=$.baseState=j,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:j},$.queue=j,j=j.dispatch=ii.bind(null,M,j),[$.memoizedState,j]}function bi(j,$,_e,et){return j={tag:j,create:$,destroy:_e,deps:et,next:null},$=M.updateQueue,$===null?($={lastEffect:null,stores:null},M.updateQueue=$,$.lastEffect=j.next=j):(_e=$.lastEffect,_e===null?$.lastEffect=j.next=j:(et=_e.next,_e.next=j,j.next=et,$.lastEffect=j)),j}function ji(){return Uh().memoizedState}function ki(j,$,_e,et){var tt=Th();M.flags|=j,tt.memoizedState=bi(1|$,_e,void 0,et===void 0?null:et)}function li(j,$,_e,et){var tt=Uh();et=et===void 0?null:et;var nt=void 0;if(N!==null){var rt=N.memoizedState;if(nt=rt.destroy,et!==null&&Mh(et,rt.deps)){tt.memoizedState=bi($,_e,nt,et);return}}M.flags|=j,tt.memoizedState=bi(1|$,_e,nt,et)}function mi(j,$){return ki(8390656,8,j,$)}function $h(j,$){return li(2048,8,j,$)}function ni(j,$){return li(4,2,j,$)}function oi(j,$){return li(4,4,j,$)}function pi(j,$){if(typeof $=="function")return j=j(),$(j),function(){$(null)};if($!=null)return j=j(),$.current=j,function(){$.current=null}}function qi(j,$,_e){return _e=_e!=null?_e.concat([j]):null,li(4,4,pi.bind(null,$,j),_e)}function ri(){}function si(j,$){var _e=Uh();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Mh($,et[1])?et[0]:(_e.memoizedState=[j,$],j)}function ti(j,$){var _e=Uh();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Mh($,et[1])?et[0]:(j=j(),_e.memoizedState=[j,$],j)}function ui(j,$,_e){return Hh&21?(He(_e,$)||(_e=yc(),M.lanes|=_e,rh|=_e,j.baseState=!0),$):(j.baseState&&(j.baseState=!1,dh=!0),j.memoizedState=_e)}function vi(j,$){var _e=C;C=_e!==0&&4>_e?_e:4,j(!0);var et=Gh.transition;Gh.transition={};try{j(!1),$()}finally{C=_e,Gh.transition=et}}function wi(){return Uh().memoizedState}function xi(j,$,_e){var et=yi(j);if(_e={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null},zi(j))Ai($,_e);else if(_e=hh(j,$,_e,et),_e!==null){var tt=R();gi(_e,j,et,tt),Bi(_e,$,et)}}function ii(j,$,_e){var et=yi(j),tt={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null};if(zi(j))Ai($,tt);else{var nt=j.alternate;if(j.lanes===0&&(nt===null||nt.lanes===0)&&(nt=$.lastRenderedReducer,nt!==null))try{var rt=$.lastRenderedState,ot=nt(rt,_e);if(tt.hasEagerState=!0,tt.eagerState=ot,He(ot,rt)){var it=$.interleaved;it===null?(tt.next=tt,gh($)):(tt.next=it.next,it.next=tt),$.interleaved=tt;return}}catch{}finally{}_e=hh(j,$,tt,et),_e!==null&&(tt=R(),gi(_e,j,et,tt),Bi(_e,$,et))}}function zi(j){var $=j.alternate;return j===M||$!==null&&$===M}function Ai(j,$){Jh=Ih=!0;var _e=j.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),j.pending=$}function Bi(j,$,_e){if(_e&4194240){var et=$.lanes;et&=j.pendingLanes,_e|=et,$.lanes=_e,Cc(j,_e)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(j,$){return Th().memoizedState=[j,$===void 0?null:$],j},useContext:eh,useEffect:mi,useImperativeHandle:function(j,$,_e){return _e=_e!=null?_e.concat([j]):null,ki(4194308,4,pi.bind(null,$,j),_e)},useLayoutEffect:function(j,$){return ki(4194308,4,j,$)},useInsertionEffect:function(j,$){return ki(4,2,j,$)},useMemo:function(j,$){var _e=Th();return $=$===void 0?null:$,j=j(),_e.memoizedState=[j,$],j},useReducer:function(j,$,_e){var et=Th();return $=_e!==void 0?_e($):$,et.memoizedState=et.baseState=$,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j,lastRenderedState:$},et.queue=j,j=j.dispatch=xi.bind(null,M,j),[et.memoizedState,j]},useRef:function(j){var $=Th();return j={current:j},$.memoizedState=j},useState:hi,useDebugValue:ri,useDeferredValue:function(j){return Th().memoizedState=j},useTransition:function(){var j=hi(!1),$=j[0];return j=vi.bind(null,j[1]),Th().memoizedState=j,[$,j]},useMutableSource:function(){},useSyncExternalStore:function(j,$,_e){var et=M,tt=Th();if(I){if(_e===void 0)throw Error(p$2(407));_e=_e()}else{if(_e=$(),Q===null)throw Error(p$2(349));Hh&30||di(et,$,_e)}tt.memoizedState=_e;var nt={value:_e,getSnapshot:$};return tt.queue=nt,mi(ai.bind(null,et,nt,j),[j]),et.flags|=2048,bi(9,ci.bind(null,et,nt,_e,$),void 0,null),_e},useId:function(){var j=Th(),$=Q.identifierPrefix;if(I){var _e=sg,et=rg;_e=(et&~(1<<32-oc(et)-1)).toString(32)+_e,$=":"+$+"R"+_e,_e=Kh++,0<_e&&($+="H"+_e.toString(32)),$+=":"}else _e=Lh++,$=":"+$+"r"+_e.toString(32)+":";return j.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(j){var $=Uh();return ui($,N.memoizedState,j)},useTransition:function(){var j=Wh(Vh)[0],$=Uh().memoizedState;return[j,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(j){var $=Uh();return N===null?$.memoizedState=j:ui($,N.memoizedState,j)},useTransition:function(){var j=Xh(Vh)[0],$=Uh().memoizedState;return[j,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(j,$){if(j&&j.defaultProps){$=A$1({},$),j=j.defaultProps;for(var _e in j)$[_e]===void 0&&($[_e]=j[_e]);return $}return $}function Di(j,$,_e,et){$=j.memoizedState,_e=_e(et,$),_e=_e==null?$:A$1({},$,_e),j.memoizedState=_e,j.lanes===0&&(j.updateQueue.baseState=_e)}var Ei={isMounted:function(j){return(j=j._reactInternals)?Vb(j)===j:!1},enqueueSetState:function(j,$,_e){j=j._reactInternals;var et=R(),tt=yi(j),nt=mh(et,tt);nt.payload=$,_e!=null&&(nt.callback=_e),$=nh(j,nt,tt),$!==null&&(gi($,j,tt,et),oh($,j,tt))},enqueueReplaceState:function(j,$,_e){j=j._reactInternals;var et=R(),tt=yi(j),nt=mh(et,tt);nt.tag=1,nt.payload=$,_e!=null&&(nt.callback=_e),$=nh(j,nt,tt),$!==null&&(gi($,j,tt,et),oh($,j,tt))},enqueueForceUpdate:function(j,$){j=j._reactInternals;var _e=R(),et=yi(j),tt=mh(_e,et);tt.tag=2,$!=null&&(tt.callback=$),$=nh(j,tt,et),$!==null&&(gi($,j,et,_e),oh($,j,et))}};function Fi(j,$,_e,et,tt,nt,rt){return j=j.stateNode,typeof j.shouldComponentUpdate=="function"?j.shouldComponentUpdate(et,nt,rt):$.prototype&&$.prototype.isPureReactComponent?!Ie(_e,et)||!Ie(tt,nt):!0}function Gi(j,$,_e){var et=!1,tt=Vf,nt=$.contextType;return typeof nt=="object"&&nt!==null?nt=eh(nt):(tt=Zf($)?Xf:H.current,et=$.contextTypes,nt=(et=et!=null)?Yf(j,tt):Vf),$=new $(_e,nt),j.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,j.stateNode=$,$._reactInternals=j,et&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=tt,j.__reactInternalMemoizedMaskedChildContext=nt),$}function Hi(j,$,_e,et){j=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_e,et),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_e,et),$.state!==j&&Ei.enqueueReplaceState($,$.state,null)}function Ii(j,$,_e,et){var tt=j.stateNode;tt.props=_e,tt.state=j.memoizedState,tt.refs={},kh(j);var nt=$.contextType;typeof nt=="object"&&nt!==null?tt.context=eh(nt):(nt=Zf($)?Xf:H.current,tt.context=Yf(j,nt)),tt.state=j.memoizedState,nt=$.getDerivedStateFromProps,typeof nt=="function"&&(Di(j,$,nt,_e),tt.state=j.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||($=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),$!==tt.state&&Ei.enqueueReplaceState(tt,tt.state,null),qh(j,_e,tt,et),tt.state=j.memoizedState),typeof tt.componentDidMount=="function"&&(j.flags|=4194308)}function Ji(j,$){try{var _e="",et=$;do _e+=Pa(et),et=et.return;while(et);var tt=_e}catch(nt){tt=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:j,source:$,stack:tt,digest:null}}function Ki(j,$,_e){return{value:j,source:null,stack:_e??null,digest:$??null}}function Li(j,$){try{console.error($.value)}catch(_e){setTimeout(function(){throw _e})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(j,$,_e){_e=mh(-1,_e),_e.tag=3,_e.payload={element:null};var et=$.value;return _e.callback=function(){Oi||(Oi=!0,Pi=et),Li(j,$)},_e}function Qi(j,$,_e){_e=mh(-1,_e),_e.tag=3;var et=j.type.getDerivedStateFromError;if(typeof et=="function"){var tt=$.value;_e.payload=function(){return et(tt)},_e.callback=function(){Li(j,$)}}var nt=j.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(_e.callback=function(){Li(j,$),typeof et!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=$.stack;this.componentDidCatch($.value,{componentStack:rt!==null?rt:""})}),_e}function Si(j,$,_e){var et=j.pingCache;if(et===null){et=j.pingCache=new Mi;var tt=new Set;et.set($,tt)}else tt=et.get($),tt===void 0&&(tt=new Set,et.set($,tt));tt.has(_e)||(tt.add(_e),j=Ti.bind(null,j,$,_e),$.then(j,j))}function Ui(j){do{var $;if(($=j.tag===13)&&($=j.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return j;j=j.return}while(j!==null);return null}function Vi(j,$,_e,et,tt){return j.mode&1?(j.flags|=65536,j.lanes=tt,j):(j===$?j.flags|=65536:(j.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:($=mh(-1,1),$.tag=2,nh(_e,$,1))),_e.lanes|=1),j)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(j,$,_e,et){$.child=j===null?Vg($,null,_e,et):Ug($,j.child,_e,et)}function Yi(j,$,_e,et,tt){_e=_e.render;var nt=$.ref;return ch($,tt),et=Nh(j,$,_e,et,nt,tt),_e=Sh(),j!==null&&!dh?($.updateQueue=j.updateQueue,$.flags&=-2053,j.lanes&=~tt,Zi(j,$,tt)):(I&&_e&&vg($),$.flags|=1,Xi(j,$,et,tt),$.child)}function $i(j,$,_e,et,tt){if(j===null){var nt=_e.type;return typeof nt=="function"&&!aj(nt)&&nt.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?($.tag=15,$.type=nt,bj(j,$,nt,et,tt)):(j=Rg(_e.type,null,et,$,$.mode,tt),j.ref=$.ref,j.return=$,$.child=j)}if(nt=j.child,!(j.lanes&tt)){var rt=nt.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(rt,et)&&j.ref===$.ref)return Zi(j,$,tt)}return $.flags|=1,j=Pg(nt,et),j.ref=$.ref,j.return=$,$.child=j}function bj(j,$,_e,et,tt){if(j!==null){var nt=j.memoizedProps;if(Ie(nt,et)&&j.ref===$.ref)if(dh=!1,$.pendingProps=et=nt,(j.lanes&tt)!==0)j.flags&131072&&(dh=!0);else return $.lanes=j.lanes,Zi(j,$,tt)}return cj(j,$,_e,et,tt)}function dj(j,$,_e){var et=$.pendingProps,tt=et.children,nt=j!==null?j.memoizedState:null;if(et.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=_e;else{if(!(_e&1073741824))return j=nt!==null?nt.baseLanes|_e:_e,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:j,cachePool:null,transitions:null},$.updateQueue=null,G(ej,fj),fj|=j,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=nt!==null?nt.baseLanes:_e,G(ej,fj),fj|=et}else nt!==null?(et=nt.baseLanes|_e,$.memoizedState=null):et=_e,G(ej,fj),fj|=et;return Xi(j,$,tt,_e),$.child}function gj(j,$){var _e=$.ref;(j===null&&_e!==null||j!==null&&j.ref!==_e)&&($.flags|=512,$.flags|=2097152)}function cj(j,$,_e,et,tt){var nt=Zf(_e)?Xf:H.current;return nt=Yf($,nt),ch($,tt),_e=Nh(j,$,_e,et,nt,tt),et=Sh(),j!==null&&!dh?($.updateQueue=j.updateQueue,$.flags&=-2053,j.lanes&=~tt,Zi(j,$,tt)):(I&&et&&vg($),$.flags|=1,Xi(j,$,_e,tt),$.child)}function hj(j,$,_e,et,tt){if(Zf(_e)){var nt=!0;cg($)}else nt=!1;if(ch($,tt),$.stateNode===null)ij(j,$),Gi($,_e,et),Ii($,_e,et,tt),et=!0;else if(j===null){var rt=$.stateNode,ot=$.memoizedProps;rt.props=ot;var it=rt.context,at=_e.contextType;typeof at=="object"&&at!==null?at=eh(at):(at=Zf(_e)?Xf:H.current,at=Yf($,at));var ft=_e.getDerivedStateFromProps,st=typeof ft=="function"||typeof rt.getSnapshotBeforeUpdate=="function";st||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(ot!==et||it!==at)&&Hi($,rt,et,at),jh=!1;var ut=$.memoizedState;rt.state=ut,qh($,et,rt,tt),it=$.memoizedState,ot!==et||ut!==it||Wf.current||jh?(typeof ft=="function"&&(Di($,_e,ft,et),it=$.memoizedState),(ot=jh||Fi($,_e,ot,et,ut,it,at))?(st||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&($.flags|=4194308)):(typeof rt.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=et,$.memoizedState=it),rt.props=et,rt.state=it,rt.context=at,et=ot):(typeof rt.componentDidMount=="function"&&($.flags|=4194308),et=!1)}else{rt=$.stateNode,lh(j,$),ot=$.memoizedProps,at=$.type===$.elementType?ot:Ci($.type,ot),rt.props=at,st=$.pendingProps,ut=rt.context,it=_e.contextType,typeof it=="object"&&it!==null?it=eh(it):(it=Zf(_e)?Xf:H.current,it=Yf($,it));var dt=_e.getDerivedStateFromProps;(ft=typeof dt=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(ot!==st||ut!==it)&&Hi($,rt,et,it),jh=!1,ut=$.memoizedState,rt.state=ut,qh($,et,rt,tt);var pt=$.memoizedState;ot!==st||ut!==pt||Wf.current||jh?(typeof dt=="function"&&(Di($,_e,dt,et),pt=$.memoizedState),(at=jh||Fi($,_e,at,et,ut,pt,it)||!1)?(ft||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(et,pt,it),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(et,pt,it)),typeof rt.componentDidUpdate=="function"&&($.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof rt.componentDidUpdate!="function"||ot===j.memoizedProps&&ut===j.memoizedState||($.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||ot===j.memoizedProps&&ut===j.memoizedState||($.flags|=1024),$.memoizedProps=et,$.memoizedState=pt),rt.props=et,rt.state=pt,rt.context=it,et=at):(typeof rt.componentDidUpdate!="function"||ot===j.memoizedProps&&ut===j.memoizedState||($.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||ot===j.memoizedProps&&ut===j.memoizedState||($.flags|=1024),et=!1)}return jj(j,$,_e,et,nt,tt)}function jj(j,$,_e,et,tt,nt){gj(j,$);var rt=($.flags&128)!==0;if(!et&&!rt)return tt&&dg($,_e,!1),Zi(j,$,nt);et=$.stateNode,Wi.current=$;var ot=rt&&typeof _e.getDerivedStateFromError!="function"?null:et.render();return $.flags|=1,j!==null&&rt?($.child=Ug($,j.child,null,nt),$.child=Ug($,null,ot,nt)):Xi(j,$,ot,nt),$.memoizedState=et.state,tt&&dg($,_e,!0),$.child}function kj(j){var $=j.stateNode;$.pendingContext?ag(j,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(j,$.context,!1),yh(j,$.containerInfo)}function lj(j,$,_e,et,tt){return Ig(),Jg(tt),$.flags|=256,Xi(j,$,_e,et),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(j){return{baseLanes:j,cachePool:null,transitions:null}}function oj(j,$,_e){var et=$.pendingProps,tt=L.current,nt=!1,rt=($.flags&128)!==0,ot;if((ot=rt)||(ot=j!==null&&j.memoizedState===null?!1:(tt&2)!==0),ot?(nt=!0,$.flags&=-129):(j===null||j.memoizedState!==null)&&(tt|=1),G(L,tt&1),j===null)return Eg($),j=$.memoizedState,j!==null&&(j=j.dehydrated,j!==null)?($.mode&1?j.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(rt=et.children,j=et.fallback,nt?(et=$.mode,nt=$.child,rt={mode:"hidden",children:rt},!(et&1)&&nt!==null?(nt.childLanes=0,nt.pendingProps=rt):nt=pj(rt,et,0,null),j=Tg(j,et,_e,null),nt.return=$,j.return=$,nt.sibling=j,$.child=nt,$.child.memoizedState=nj(_e),$.memoizedState=mj,j):qj($,rt));if(tt=j.memoizedState,tt!==null&&(ot=tt.dehydrated,ot!==null))return rj(j,$,rt,et,ot,tt,_e);if(nt){nt=et.fallback,rt=$.mode,tt=j.child,ot=tt.sibling;var it={mode:"hidden",children:et.children};return!(rt&1)&&$.child!==tt?(et=$.child,et.childLanes=0,et.pendingProps=it,$.deletions=null):(et=Pg(tt,it),et.subtreeFlags=tt.subtreeFlags&14680064),ot!==null?nt=Pg(ot,nt):(nt=Tg(nt,rt,_e,null),nt.flags|=2),nt.return=$,et.return=$,et.sibling=nt,$.child=et,et=nt,nt=$.child,rt=j.child.memoizedState,rt=rt===null?nj(_e):{baseLanes:rt.baseLanes|_e,cachePool:null,transitions:rt.transitions},nt.memoizedState=rt,nt.childLanes=j.childLanes&~_e,$.memoizedState=mj,et}return nt=j.child,j=nt.sibling,et=Pg(nt,{mode:"visible",children:et.children}),!($.mode&1)&&(et.lanes=_e),et.return=$,et.sibling=null,j!==null&&(_e=$.deletions,_e===null?($.deletions=[j],$.flags|=16):_e.push(j)),$.child=et,$.memoizedState=null,et}function qj(j,$){return $=pj({mode:"visible",children:$},j.mode,0,null),$.return=j,j.child=$}function sj(j,$,_e,et){return et!==null&&Jg(et),Ug($,j.child,null,_e),j=qj($,$.pendingProps.children),j.flags|=2,$.memoizedState=null,j}function rj(j,$,_e,et,tt,nt,rt){if(_e)return $.flags&256?($.flags&=-257,et=Ki(Error(p$2(422))),sj(j,$,rt,et)):$.memoizedState!==null?($.child=j.child,$.flags|=128,null):(nt=et.fallback,tt=$.mode,et=pj({mode:"visible",children:et.children},tt,0,null),nt=Tg(nt,tt,rt,null),nt.flags|=2,et.return=$,nt.return=$,et.sibling=nt,$.child=et,$.mode&1&&Ug($,j.child,null,rt),$.child.memoizedState=nj(rt),$.memoizedState=mj,nt);if(!($.mode&1))return sj(j,$,rt,null);if(tt.data==="$!"){if(et=tt.nextSibling&&tt.nextSibling.dataset,et)var ot=et.dgst;return et=ot,nt=Error(p$2(419)),et=Ki(nt,et,void 0),sj(j,$,rt,et)}if(ot=(rt&j.childLanes)!==0,dh||ot){if(et=Q,et!==null){switch(rt&-rt){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(et.suspendedLanes|rt)?0:tt,tt!==0&&tt!==nt.retryLane&&(nt.retryLane=tt,ih(j,tt),gi(et,j,tt,-1))}return tj(),et=Ki(Error(p$2(421))),sj(j,$,rt,et)}return tt.data==="$?"?($.flags|=128,$.child=j.child,$=uj.bind(null,j),tt._reactRetry=$,null):(j=nt.treeContext,yg=Lf(tt.nextSibling),xg=$,I=!0,zg=null,j!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=j.id,sg=j.overflow,qg=$),$=qj($,et.children),$.flags|=4096,$)}function vj(j,$,_e){j.lanes|=$;var et=j.alternate;et!==null&&(et.lanes|=$),bh(j.return,$,_e)}function wj(j,$,_e,et,tt){var nt=j.memoizedState;nt===null?j.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:et,tail:_e,tailMode:tt}:(nt.isBackwards=$,nt.rendering=null,nt.renderingStartTime=0,nt.last=et,nt.tail=_e,nt.tailMode=tt)}function xj(j,$,_e){var et=$.pendingProps,tt=et.revealOrder,nt=et.tail;if(Xi(j,$,et.children,_e),et=L.current,et&2)et=et&1|2,$.flags|=128;else{if(j!==null&&j.flags&128)e:for(j=$.child;j!==null;){if(j.tag===13)j.memoizedState!==null&&vj(j,_e,$);else if(j.tag===19)vj(j,_e,$);else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===$)break e;for(;j.sibling===null;){if(j.return===null||j.return===$)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}et&=1}if(G(L,et),!($.mode&1))$.memoizedState=null;else switch(tt){case"forwards":for(_e=$.child,tt=null;_e!==null;)j=_e.alternate,j!==null&&Ch(j)===null&&(tt=_e),_e=_e.sibling;_e=tt,_e===null?(tt=$.child,$.child=null):(tt=_e.sibling,_e.sibling=null),wj($,!1,tt,_e,nt);break;case"backwards":for(_e=null,tt=$.child,$.child=null;tt!==null;){if(j=tt.alternate,j!==null&&Ch(j)===null){$.child=tt;break}j=tt.sibling,tt.sibling=_e,_e=tt,tt=j}wj($,!0,_e,null,nt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(j,$){!($.mode&1)&&j!==null&&(j.alternate=null,$.alternate=null,$.flags|=2)}function Zi(j,$,_e){if(j!==null&&($.dependencies=j.dependencies),rh|=$.lanes,!(_e&$.childLanes))return null;if(j!==null&&$.child!==j.child)throw Error(p$2(153));if($.child!==null){for(j=$.child,_e=Pg(j,j.pendingProps),$.child=_e,_e.return=$;j.sibling!==null;)j=j.sibling,_e=_e.sibling=Pg(j,j.pendingProps),_e.return=$;_e.sibling=null}return $.child}function yj(j,$,_e){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var et=$.type._context,tt=$.memoizedProps.value;G(Wg,et._currentValue),et._currentValue=tt;break;case 13:if(et=$.memoizedState,et!==null)return et.dehydrated!==null?(G(L,L.current&1),$.flags|=128,null):_e&$.child.childLanes?oj(j,$,_e):(G(L,L.current&1),j=Zi(j,$,_e),j!==null?j.sibling:null);G(L,L.current&1);break;case 19:if(et=(_e&$.childLanes)!==0,j.flags&128){if(et)return xj(j,$,_e);$.flags|=128}if(tt=$.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(L,L.current),et)break;return null;case 22:case 23:return $.lanes=0,dj(j,$,_e)}return Zi(j,$,_e)}var zj,Aj,Bj,Cj;zj=function(j,$){for(var _e=$.child;_e!==null;){if(_e.tag===5||_e.tag===6)j.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Aj=function(){};Bj=function(j,$,_e,et){var tt=j.memoizedProps;if(tt!==et){j=$.stateNode,xh(uh.current);var nt=null;switch(_e){case"input":tt=Ya(j,tt),et=Ya(j,et),nt=[];break;case"select":tt=A$1({},tt,{value:void 0}),et=A$1({},et,{value:void 0}),nt=[];break;case"textarea":tt=gb(j,tt),et=gb(j,et),nt=[];break;default:typeof tt.onClick!="function"&&typeof et.onClick=="function"&&(j.onclick=Bf)}ub(_e,et);var rt;_e=null;for(at in tt)if(!et.hasOwnProperty(at)&&tt.hasOwnProperty(at)&&tt[at]!=null)if(at==="style"){var ot=tt[at];for(rt in ot)ot.hasOwnProperty(rt)&&(_e||(_e={}),_e[rt]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?nt||(nt=[]):(nt=nt||[]).push(at,null));for(at in et){var it=et[at];if(ot=tt!=null?tt[at]:void 0,et.hasOwnProperty(at)&&it!==ot&&(it!=null||ot!=null))if(at==="style")if(ot){for(rt in ot)!ot.hasOwnProperty(rt)||it&&it.hasOwnProperty(rt)||(_e||(_e={}),_e[rt]="");for(rt in it)it.hasOwnProperty(rt)&&ot[rt]!==it[rt]&&(_e||(_e={}),_e[rt]=it[rt])}else _e||(nt||(nt=[]),nt.push(at,_e)),_e=it;else at==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,ot=ot?ot.__html:void 0,it!=null&&ot!==it&&(nt=nt||[]).push(at,it)):at==="children"?typeof it!="string"&&typeof it!="number"||(nt=nt||[]).push(at,""+it):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea.hasOwnProperty(at)?(it!=null&&at==="onScroll"&&D("scroll",j),nt||ot===it||(nt=[])):(nt=nt||[]).push(at,it))}_e&&(nt=nt||[]).push("style",_e);var at=nt;($.updateQueue=at)&&($.flags|=4)}};Cj=function(j,$,_e,et){_e!==et&&($.flags|=4)};function Dj(j,$){if(!I)switch(j.tailMode){case"hidden":$=j.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?j.tail=null:_e.sibling=null;break;case"collapsed":_e=j.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$||j.tail===null?j.tail=null:j.tail.sibling=null:et.sibling=null}}function S$1(j){var $=j.alternate!==null&&j.alternate.child===j.child,_e=0,et=0;if($)for(var tt=j.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags&14680064,et|=tt.flags&14680064,tt.return=j,tt=tt.sibling;else for(tt=j.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags,et|=tt.flags,tt.return=j,tt=tt.sibling;return j.subtreeFlags|=et,j.childLanes=_e,$}function Ej(j,$,_e){var et=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1($),null;case 1:return Zf($.type)&&$f(),S$1($),null;case 3:return et=$.stateNode,zh(),E$1(Wf),E$1(H),Eh(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),(j===null||j.child===null)&&(Gg($)?$.flags|=4:j===null||j.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(j,$),S$1($),null;case 5:Bh($);var tt=xh(wh.current);if(_e=$.type,j!==null&&$.stateNode!=null)Bj(j,$,_e,et,tt),j.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!et){if($.stateNode===null)throw Error(p$2(166));return S$1($),null}if(j=xh(uh.current),Gg($)){et=$.stateNode,_e=$.type;var nt=$.memoizedProps;switch(et[Of]=$,et[Pf]=nt,j=($.mode&1)!==0,_e){case"dialog":D("cancel",et),D("close",et);break;case"iframe":case"object":case"embed":D("load",et);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],et);break;case"source":D("error",et);break;case"img":case"image":case"link":D("error",et),D("load",et);break;case"details":D("toggle",et);break;case"input":Za(et,nt),D("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},D("invalid",et);break;case"textarea":hb(et,nt),D("invalid",et)}ub(_e,nt),tt=null;for(var rt in nt)if(nt.hasOwnProperty(rt)){var ot=nt[rt];rt==="children"?typeof ot=="string"?et.textContent!==ot&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,ot,j),tt=["children",ot]):typeof ot=="number"&&et.textContent!==""+ot&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,ot,j),tt=["children",""+ot]):ea.hasOwnProperty(rt)&&ot!=null&&rt==="onScroll"&&D("scroll",et)}switch(_e){case"input":Va(et),db(et,nt,!0);break;case"textarea":Va(et),jb(et);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}et=tt,$.updateQueue=et,et!==null&&($.flags|=4)}else{rt=tt.nodeType===9?tt:tt.ownerDocument,j==="http://www.w3.org/1999/xhtml"&&(j=kb(_e)),j==="http://www.w3.org/1999/xhtml"?_e==="script"?(j=rt.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild)):typeof et.is=="string"?j=rt.createElement(_e,{is:et.is}):(j=rt.createElement(_e),_e==="select"&&(rt=j,et.multiple?rt.multiple=!0:et.size&&(rt.size=et.size))):j=rt.createElementNS(j,_e),j[Of]=$,j[Pf]=et,zj(j,$,!1,!1),$.stateNode=j;e:{switch(rt=vb(_e,et),_e){case"dialog":D("cancel",j),D("close",j),tt=et;break;case"iframe":case"object":case"embed":D("load",j),tt=et;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],j);tt=et;break;case"source":D("error",j),tt=et;break;case"img":case"image":case"link":D("error",j),D("load",j),tt=et;break;case"details":D("toggle",j),tt=et;break;case"input":Za(j,et),tt=Ya(j,et),D("invalid",j);break;case"option":tt=et;break;case"select":j._wrapperState={wasMultiple:!!et.multiple},tt=A$1({},et,{value:void 0}),D("invalid",j);break;case"textarea":hb(j,et),tt=gb(j,et),D("invalid",j);break;default:tt=et}ub(_e,tt),ot=tt;for(nt in ot)if(ot.hasOwnProperty(nt)){var it=ot[nt];nt==="style"?sb(j,it):nt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(j,it)):nt==="children"?typeof it=="string"?(_e!=="textarea"||it!=="")&&ob(j,it):typeof it=="number"&&ob(j,""+it):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?it!=null&&nt==="onScroll"&&D("scroll",j):it!=null&&ta(j,nt,it,rt))}switch(_e){case"input":Va(j),db(j,et,!1);break;case"textarea":Va(j),jb(j);break;case"option":et.value!=null&&j.setAttribute("value",""+Sa(et.value));break;case"select":j.multiple=!!et.multiple,nt=et.value,nt!=null?fb(j,!!et.multiple,nt,!1):et.defaultValue!=null&&fb(j,!!et.multiple,et.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(j.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$1($),null;case 6:if(j&&$.stateNode!=null)Cj(j,$,j.memoizedProps,et);else{if(typeof et!="string"&&$.stateNode===null)throw Error(p$2(166));if(_e=xh(wh.current),xh(uh.current),Gg($)){if(et=$.stateNode,_e=$.memoizedProps,et[Of]=$,(nt=et.nodeValue!==_e)&&(j=xg,j!==null))switch(j.tag){case 3:Af(et.nodeValue,_e,(j.mode&1)!==0);break;case 5:j.memoizedProps.suppressHydrationWarning!==!0&&Af(et.nodeValue,_e,(j.mode&1)!==0)}nt&&($.flags|=4)}else et=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(et),et[Of]=$,$.stateNode=et}return S$1($),null;case 13:if(E$1(L),et=$.memoizedState,j===null||j.memoizedState!==null&&j.memoizedState.dehydrated!==null){if(I&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,nt=!1;else if(nt=Gg($),et!==null&&et.dehydrated!==null){if(j===null){if(!nt)throw Error(p$2(318));if(nt=$.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$2(317));nt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$1($),nt=!1}else zg!==null&&(Fj(zg),zg=null),nt=!0;if(!nt)return $.flags&65536?$:null}return $.flags&128?($.lanes=_e,$):(et=et!==null,et!==(j!==null&&j.memoizedState!==null)&&et&&($.child.flags|=8192,$.mode&1&&(j===null||L.current&1?T===0&&(T=3):tj())),$.updateQueue!==null&&($.flags|=4),S$1($),null);case 4:return zh(),Aj(j,$),j===null&&sf($.stateNode.containerInfo),S$1($),null;case 10:return ah($.type._context),S$1($),null;case 17:return Zf($.type)&&$f(),S$1($),null;case 19:if(E$1(L),nt=$.memoizedState,nt===null)return S$1($),null;if(et=($.flags&128)!==0,rt=nt.rendering,rt===null)if(et)Dj(nt,!1);else{if(T!==0||j!==null&&j.flags&128)for(j=$.child;j!==null;){if(rt=Ch(j),rt!==null){for($.flags|=128,Dj(nt,!1),et=rt.updateQueue,et!==null&&($.updateQueue=et,$.flags|=4),$.subtreeFlags=0,et=_e,_e=$.child;_e!==null;)nt=_e,j=et,nt.flags&=14680066,rt=nt.alternate,rt===null?(nt.childLanes=0,nt.lanes=j,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=rt.childLanes,nt.lanes=rt.lanes,nt.child=rt.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=rt.memoizedProps,nt.memoizedState=rt.memoizedState,nt.updateQueue=rt.updateQueue,nt.type=rt.type,j=rt.dependencies,nt.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),_e=_e.sibling;return G(L,L.current&1|2),$.child}j=j.sibling}nt.tail!==null&&B()>Gj&&($.flags|=128,et=!0,Dj(nt,!1),$.lanes=4194304)}else{if(!et)if(j=Ch(rt),j!==null){if($.flags|=128,et=!0,_e=j.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),Dj(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!rt.alternate&&!I)return S$1($),null}else 2*B()-nt.renderingStartTime>Gj&&_e!==1073741824&&($.flags|=128,et=!0,Dj(nt,!1),$.lanes=4194304);nt.isBackwards?(rt.sibling=$.child,$.child=rt):(_e=nt.last,_e!==null?_e.sibling=rt:$.child=rt,nt.last=rt)}return nt.tail!==null?($=nt.tail,nt.rendering=$,nt.tail=$.sibling,nt.renderingStartTime=B(),$.sibling=null,_e=L.current,G(L,et?_e&1|2:_e&1),$):(S$1($),null);case 22:case 23:return Hj(),et=$.memoizedState!==null,j!==null&&j.memoizedState!==null!==et&&($.flags|=8192),et&&$.mode&1?fj&1073741824&&(S$1($),$.subtreeFlags&6&&($.flags|=8192)):S$1($),null;case 24:return null;case 25:return null}throw Error(p$2(156,$.tag))}function Ij(j,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),j=$.flags,j&65536?($.flags=j&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H),Eh(),j=$.flags,j&65536&&!(j&128)?($.flags=j&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L),j=$.memoizedState,j!==null&&j.dehydrated!==null){if($.alternate===null)throw Error(p$2(340));Ig()}return j=$.flags,j&65536?($.flags=j&-65537|128,$):null;case 19:return E$1(L),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(j,$){var _e=j.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(et){W(j,$,et)}else _e.current=null}function Mj(j,$,_e){try{_e()}catch(et){W(j,$,et)}}var Nj=!1;function Oj(j,$){if(Cf=dd,j=Me(),Ne(j)){if("selectionStart"in j)var _e={start:j.selectionStart,end:j.selectionEnd};else e:{_e=(_e=j.ownerDocument)&&_e.defaultView||window;var et=_e.getSelection&&_e.getSelection();if(et&&et.rangeCount!==0){_e=et.anchorNode;var tt=et.anchorOffset,nt=et.focusNode;et=et.focusOffset;try{_e.nodeType,nt.nodeType}catch{_e=null;break e}var rt=0,ot=-1,it=-1,at=0,ft=0,st=j,ut=null;t:for(;;){for(var dt;st!==_e||tt!==0&&st.nodeType!==3||(ot=rt+tt),st!==nt||et!==0&&st.nodeType!==3||(it=rt+et),st.nodeType===3&&(rt+=st.nodeValue.length),(dt=st.firstChild)!==null;)ut=st,st=dt;for(;;){if(st===j)break t;if(ut===_e&&++at===tt&&(ot=rt),ut===nt&&++ft===et&&(it=rt),(dt=st.nextSibling)!==null)break;st=ut,ut=st.parentNode}st=dt}_e=ot===-1||it===-1?null:{start:ot,end:it}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:j,selectionRange:_e},dd=!1,V=$;V!==null;)if($=V,j=$.child,($.subtreeFlags&1028)!==0&&j!==null)j.return=$,V=j;else for(;V!==null;){$=V;try{var pt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var gt=pt.memoizedProps,yt=pt.memoizedState,mt=$.stateNode,vt=mt.getSnapshotBeforeUpdate($.elementType===$.type?gt:Ci($.type,gt),yt);mt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var _t=$.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Ct){W($,$.return,Ct)}if(j=$.sibling,j!==null){j.return=$.return,V=j;break}V=$.return}return pt=Nj,Nj=!1,pt}function Pj(j,$,_e){var et=$.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&j)===j){var nt=tt.destroy;tt.destroy=void 0,nt!==void 0&&Mj($,_e,nt)}tt=tt.next}while(tt!==et)}}function Qj(j,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&j)===j){var et=_e.create;_e.destroy=et()}_e=_e.next}while(_e!==$)}}function Rj(j){var $=j.ref;if($!==null){var _e=j.stateNode;switch(j.tag){case 5:j=_e;break;default:j=_e}typeof $=="function"?$(j):$.current=j}}function Sj(j){var $=j.alternate;$!==null&&(j.alternate=null,Sj($)),j.child=null,j.deletions=null,j.sibling=null,j.tag===5&&($=j.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),j.stateNode=null,j.return=null,j.dependencies=null,j.memoizedProps=null,j.memoizedState=null,j.pendingProps=null,j.stateNode=null,j.updateQueue=null}function Tj(j){return j.tag===5||j.tag===3||j.tag===4}function Uj(j){e:for(;;){for(;j.sibling===null;){if(j.return===null||Tj(j.return))return null;j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(j.flags&2||j.child===null||j.tag===4)continue e;j.child.return=j,j=j.child}if(!(j.flags&2))return j.stateNode}}function Vj(j,$,_e){var et=j.tag;if(et===5||et===6)j=j.stateNode,$?_e.nodeType===8?_e.parentNode.insertBefore(j,$):_e.insertBefore(j,$):(_e.nodeType===8?($=_e.parentNode,$.insertBefore(j,_e)):($=_e,$.appendChild(j)),_e=_e._reactRootContainer,_e!=null||$.onclick!==null||($.onclick=Bf));else if(et!==4&&(j=j.child,j!==null))for(Vj(j,$,_e),j=j.sibling;j!==null;)Vj(j,$,_e),j=j.sibling}function Wj(j,$,_e){var et=j.tag;if(et===5||et===6)j=j.stateNode,$?_e.insertBefore(j,$):_e.appendChild(j);else if(et!==4&&(j=j.child,j!==null))for(Wj(j,$,_e),j=j.sibling;j!==null;)Wj(j,$,_e),j=j.sibling}var X=null,Xj=!1;function Yj(j,$,_e){for(_e=_e.child;_e!==null;)Zj(j,$,_e),_e=_e.sibling}function Zj(j,$,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U||Lj(_e,$);case 6:var et=X,tt=Xj;X=null,Yj(j,$,_e),X=et,Xj=tt,X!==null&&(Xj?(j=X,_e=_e.stateNode,j.nodeType===8?j.parentNode.removeChild(_e):j.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Xj?(j=X,_e=_e.stateNode,j.nodeType===8?Kf(j.parentNode,_e):j.nodeType===1&&Kf(j,_e),bd(j)):Kf(X,_e.stateNode));break;case 4:et=X,tt=Xj,X=_e.stateNode.containerInfo,Xj=!0,Yj(j,$,_e),X=et,Xj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(et=_e.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){tt=et=et.next;do{var nt=tt,rt=nt.destroy;nt=nt.tag,rt!==void 0&&(nt&2||nt&4)&&Mj(_e,$,rt),tt=tt.next}while(tt!==et)}Yj(j,$,_e);break;case 1:if(!U&&(Lj(_e,$),et=_e.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=_e.memoizedProps,et.state=_e.memoizedState,et.componentWillUnmount()}catch(ot){W(_e,$,ot)}Yj(j,$,_e);break;case 21:Yj(j,$,_e);break;case 22:_e.mode&1?(U=(et=U)||_e.memoizedState!==null,Yj(j,$,_e),U=et):Yj(j,$,_e);break;default:Yj(j,$,_e)}}function ak(j){var $=j.updateQueue;if($!==null){j.updateQueue=null;var _e=j.stateNode;_e===null&&(_e=j.stateNode=new Kj),$.forEach(function(et){var tt=bk.bind(null,j,et);_e.has(et)||(_e.add(et),et.then(tt,tt))})}}function ck(j,$){var _e=$.deletions;if(_e!==null)for(var et=0;et<_e.length;et++){var tt=_e[et];try{var nt=j,rt=$,ot=rt;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Xj=!1;break e;case 3:X=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X===null)throw Error(p$2(160));Zj(nt,rt,tt),X=null,Xj=!1;var it=tt.alternate;it!==null&&(it.return=null),tt.return=null}catch(at){W(tt,$,at)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,j),$=$.sibling}function dk(j,$){var _e=j.alternate,et=j.flags;switch(j.tag){case 0:case 11:case 14:case 15:if(ck($,j),ek(j),et&4){try{Pj(3,j,j.return),Qj(3,j)}catch(gt){W(j,j.return,gt)}try{Pj(5,j,j.return)}catch(gt){W(j,j.return,gt)}}break;case 1:ck($,j),ek(j),et&512&&_e!==null&&Lj(_e,_e.return);break;case 5:if(ck($,j),ek(j),et&512&&_e!==null&&Lj(_e,_e.return),j.flags&32){var tt=j.stateNode;try{ob(tt,"")}catch(gt){W(j,j.return,gt)}}if(et&4&&(tt=j.stateNode,tt!=null)){var nt=j.memoizedProps,rt=_e!==null?_e.memoizedProps:nt,ot=j.type,it=j.updateQueue;if(j.updateQueue=null,it!==null)try{ot==="input"&&nt.type==="radio"&&nt.name!=null&&ab(tt,nt),vb(ot,rt);var at=vb(ot,nt);for(rt=0;rt<it.length;rt+=2){var ft=it[rt],st=it[rt+1];ft==="style"?sb(tt,st):ft==="dangerouslySetInnerHTML"?nb(tt,st):ft==="children"?ob(tt,st):ta(tt,ft,st,at)}switch(ot){case"input":bb(tt,nt);break;case"textarea":ib(tt,nt);break;case"select":var ut=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!nt.multiple;var dt=nt.value;dt!=null?fb(tt,!!nt.multiple,dt,!1):ut!==!!nt.multiple&&(nt.defaultValue!=null?fb(tt,!!nt.multiple,nt.defaultValue,!0):fb(tt,!!nt.multiple,nt.multiple?[]:"",!1))}tt[Pf]=nt}catch(gt){W(j,j.return,gt)}}break;case 6:if(ck($,j),ek(j),et&4){if(j.stateNode===null)throw Error(p$2(162));tt=j.stateNode,nt=j.memoizedProps;try{tt.nodeValue=nt}catch(gt){W(j,j.return,gt)}}break;case 3:if(ck($,j),ek(j),et&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(gt){W(j,j.return,gt)}break;case 4:ck($,j),ek(j);break;case 13:ck($,j),ek(j),tt=j.child,tt.flags&8192&&(nt=tt.memoizedState!==null,tt.stateNode.isHidden=nt,!nt||tt.alternate!==null&&tt.alternate.memoizedState!==null||(fk=B())),et&4&&ak(j);break;case 22:if(ft=_e!==null&&_e.memoizedState!==null,j.mode&1?(U=(at=U)||ft,ck($,j),U=at):ck($,j),ek(j),et&8192){if(at=j.memoizedState!==null,(j.stateNode.isHidden=at)&&!ft&&j.mode&1)for(V=j,ft=j.child;ft!==null;){for(st=V=ft;V!==null;){switch(ut=V,dt=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var pt=ut.stateNode;if(typeof pt.componentWillUnmount=="function"){et=ut,_e=ut.return;try{$=et,pt.props=$.memoizedProps,pt.state=$.memoizedState,pt.componentWillUnmount()}catch(gt){W(et,_e,gt)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(st);continue}}dt!==null?(dt.return=ut,V=dt):gk(st)}ft=ft.sibling}e:for(ft=null,st=j;;){if(st.tag===5){if(ft===null){ft=st;try{tt=st.stateNode,at?(nt=tt.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(ot=st.stateNode,it=st.memoizedProps.style,rt=it!=null&&it.hasOwnProperty("display")?it.display:null,ot.style.display=rb("display",rt))}catch(gt){W(j,j.return,gt)}}}else if(st.tag===6){if(ft===null)try{st.stateNode.nodeValue=at?"":st.memoizedProps}catch(gt){W(j,j.return,gt)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===j)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===j)break e;for(;st.sibling===null;){if(st.return===null||st.return===j)break e;ft===st&&(ft=null),st=st.return}ft===st&&(ft=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:ck($,j),ek(j),et&4&&ak(j);break;case 21:break;default:ck($,j),ek(j)}}function ek(j){var $=j.flags;if($&2){try{e:{for(var _e=j.return;_e!==null;){if(Tj(_e)){var et=_e;break e}_e=_e.return}throw Error(p$2(160))}switch(et.tag){case 5:var tt=et.stateNode;et.flags&32&&(ob(tt,""),et.flags&=-33);var nt=Uj(j);Wj(j,nt,tt);break;case 3:case 4:var rt=et.stateNode.containerInfo,ot=Uj(j);Vj(j,ot,rt);break;default:throw Error(p$2(161))}}catch(it){W(j,j.return,it)}j.flags&=-3}$&4096&&(j.flags&=-4097)}function hk(j,$,_e){V=j,ik(j)}function ik(j,$,_e){for(var et=(j.mode&1)!==0;V!==null;){var tt=V,nt=tt.child;if(tt.tag===22&&et){var rt=tt.memoizedState!==null||Jj;if(!rt){var ot=tt.alternate,it=ot!==null&&ot.memoizedState!==null||U;ot=Jj;var at=U;if(Jj=rt,(U=it)&&!at)for(V=tt;V!==null;)rt=V,it=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(tt):it!==null?(it.return=rt,V=it):jk(tt);for(;nt!==null;)V=nt,ik(nt),nt=nt.sibling;V=tt,Jj=ot,U=at}kk(j)}else tt.subtreeFlags&8772&&nt!==null?(nt.return=tt,V=nt):kk(j)}}function kk(j){for(;V!==null;){var $=V;if($.flags&8772){var _e=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U||Qj(5,$);break;case 1:var et=$.stateNode;if($.flags&4&&!U)if(_e===null)et.componentDidMount();else{var tt=$.elementType===$.type?_e.memoizedProps:Ci($.type,_e.memoizedProps);et.componentDidUpdate(tt,_e.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var nt=$.updateQueue;nt!==null&&sh($,nt,et);break;case 3:var rt=$.updateQueue;if(rt!==null){if(_e=null,$.child!==null)switch($.child.tag){case 5:_e=$.child.stateNode;break;case 1:_e=$.child.stateNode}sh($,rt,_e)}break;case 5:var ot=$.stateNode;if(_e===null&&$.flags&4){_e=ot;var it=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&_e.focus();break;case"img":it.src&&(_e.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var at=$.alternate;if(at!==null){var ft=at.memoizedState;if(ft!==null){var st=ft.dehydrated;st!==null&&bd(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||$.flags&512&&Rj($)}catch(ut){W($,$.return,ut)}}if($===j){V=null;break}if(_e=$.sibling,_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function gk(j){for(;V!==null;){var $=V;if($===j){V=null;break}var _e=$.sibling;if(_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function jk(j){for(;V!==null;){var $=V;try{switch($.tag){case 0:case 11:case 15:var _e=$.return;try{Qj(4,$)}catch(it){W($,_e,it)}break;case 1:var et=$.stateNode;if(typeof et.componentDidMount=="function"){var tt=$.return;try{et.componentDidMount()}catch(it){W($,tt,it)}}var nt=$.return;try{Rj($)}catch(it){W($,nt,it)}break;case 5:var rt=$.return;try{Rj($)}catch(it){W($,rt,it)}}}catch(it){W($,$.return,it)}if($===j){V=null;break}var ot=$.sibling;if(ot!==null){ot.return=$.return,V=ot;break}V=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(j){return j.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(j=C,j!==0||(j=window.event,j=j===void 0?16:jd(j.type)),j):1}function gi(j,$,_e,et){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(j,_e,et),(!(K&2)||j!==Q)&&(j===Q&&(!(K&2)&&(qk|=_e),T===4&&Ck(j,Z)),Dk(j,et),_e===1&&K===0&&!($.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(j,$){var _e=j.callbackNode;wc(j,$);var et=uc(j,j===Q?Z:0);if(et===0)_e!==null&&bc(_e),j.callbackNode=null,j.callbackPriority=0;else if($=et&-et,j.callbackPriority!==$){if(_e!=null&&bc(_e),$===1)j.tag===0?ig(Ek.bind(null,j)):hg(Ek.bind(null,j)),Jf(function(){!(K&6)&&jg()}),_e=null;else{switch(Dc(et)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Fk(_e,Gk.bind(null,j))}j.callbackPriority=$,j.callbackNode=_e}}function Gk(j,$){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var _e=j.callbackNode;if(Hk()&&j.callbackNode!==_e)return null;var et=uc(j,j===Q?Z:0);if(et===0)return null;if(et&30||et&j.expiredLanes||$)$=Ik(j,et);else{$=et;var tt=K;K|=2;var nt=Jk();(Q!==j||Z!==$)&&(uk=null,Gj=B()+500,Kk(j,$));do try{Lk();break}catch(ot){Mk(j,ot)}while(!0);$g(),mk.current=nt,K=tt,Y!==null?$=0:(Q=null,Z=0,$=T)}if($!==0){if($===2&&(tt=xc(j),tt!==0&&(et=tt,$=Nk(j,tt))),$===1)throw _e=pk,Kk(j,0),Ck(j,et),Dk(j,B()),_e;if($===6)Ck(j,et);else{if(tt=j.current.alternate,!(et&30)&&!Ok(tt)&&($=Ik(j,et),$===2&&(nt=xc(j),nt!==0&&(et=nt,$=Nk(j,nt))),$===1))throw _e=pk,Kk(j,0),Ck(j,et),Dk(j,B()),_e;switch(j.finishedWork=tt,j.finishedLanes=et,$){case 0:case 1:throw Error(p$2(345));case 2:Pk(j,tk,uk);break;case 3:if(Ck(j,et),(et&130023424)===et&&($=fk+500-B(),10<$)){if(uc(j,0)!==0)break;if(tt=j.suspendedLanes,(tt&et)!==et){R(),j.pingedLanes|=j.suspendedLanes&tt;break}j.timeoutHandle=Ff(Pk.bind(null,j,tk,uk),$);break}Pk(j,tk,uk);break;case 4:if(Ck(j,et),(et&4194240)===et)break;for($=j.eventTimes,tt=-1;0<et;){var rt=31-oc(et);nt=1<<rt,rt=$[rt],rt>tt&&(tt=rt),et&=~nt}if(et=tt,et=B()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*lk(et/1960))-et,10<et){j.timeoutHandle=Ff(Pk.bind(null,j,tk,uk),et);break}Pk(j,tk,uk);break;case 5:Pk(j,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(j,B()),j.callbackNode===_e?Gk.bind(null,j):null}function Nk(j,$){var _e=sk;return j.current.memoizedState.isDehydrated&&(Kk(j,$).flags|=256),j=Ik(j,$),j!==2&&($=tk,tk=_e,$!==null&&Fj($)),j}function Fj(j){tk===null?tk=j:tk.push.apply(tk,j)}function Ok(j){for(var $=j;;){if($.flags&16384){var _e=$.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var et=0;et<_e.length;et++){var tt=_e[et],nt=tt.getSnapshot;tt=tt.value;try{if(!He(nt(),tt))return!1}catch{return!1}}}if(_e=$.child,$.subtreeFlags&16384&&_e!==null)_e.return=$,$=_e;else{if($===j)break;for(;$.sibling===null;){if($.return===null||$.return===j)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(j,$){for($&=~rk,$&=~qk,j.suspendedLanes|=$,j.pingedLanes&=~$,j=j.expirationTimes;0<$;){var _e=31-oc($),et=1<<_e;j[_e]=-1,$&=~et}}function Ek(j){if(K&6)throw Error(p$2(327));Hk();var $=uc(j,0);if(!($&1))return Dk(j,B()),null;var _e=Ik(j,$);if(j.tag!==0&&_e===2){var et=xc(j);et!==0&&($=et,_e=Nk(j,et))}if(_e===1)throw _e=pk,Kk(j,0),Ck(j,$),Dk(j,B()),_e;if(_e===6)throw Error(p$2(345));return j.finishedWork=j.current.alternate,j.finishedLanes=$,Pk(j,tk,uk),Dk(j,B()),null}function Qk(j,$){var _e=K;K|=1;try{return j($)}finally{K=_e,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(j){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var _e=ok.transition,et=C;try{if(ok.transition=null,C=1,j)return j()}finally{C=et,ok.transition=_e,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(j,$){j.finishedWork=null,j.finishedLanes=0;var _e=j.timeoutHandle;if(_e!==-1&&(j.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var et=_e;switch(wg(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H),Eh();break;case 5:Bh(et);break;case 4:zh();break;case 13:E$1(L);break;case 19:E$1(L);break;case 10:ah(et.type._context);break;case 22:case 23:Hj()}_e=_e.return}if(Q=j,Y=j=Pg(j.current,null),Z=fj=$,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(_e=fh[$],et=_e.interleaved,et!==null){_e.interleaved=null;var tt=et.next,nt=_e.pending;if(nt!==null){var rt=nt.next;nt.next=tt,et.next=rt}_e.pending=et}fh=null}return j}function Mk(j,$){do{var _e=Y;try{if($g(),Fh.current=Rh,Ih){for(var et=M.memoizedState;et!==null;){var tt=et.queue;tt!==null&&(tt.pending=null),et=et.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,_e===null||_e.return===null){T=1,pk=$,Y=null;break}e:{var nt=j,rt=_e.return,ot=_e,it=$;if($=Z,ot.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var at=it,ft=ot,st=ft.tag;if(!(ft.mode&1)&&(st===0||st===11||st===15)){var ut=ft.alternate;ut?(ft.updateQueue=ut.updateQueue,ft.memoizedState=ut.memoizedState,ft.lanes=ut.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var dt=Ui(rt);if(dt!==null){dt.flags&=-257,Vi(dt,rt,ot,nt,$),dt.mode&1&&Si(nt,at,$),$=dt,it=at;var pt=$.updateQueue;if(pt===null){var gt=new Set;gt.add(it),$.updateQueue=gt}else pt.add(it);break e}else{if(!($&1)){Si(nt,at,$),tj();break e}it=Error(p$2(426))}}else if(I&&ot.mode&1){var yt=Ui(rt);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Vi(yt,rt,ot,nt,$),Jg(Ji(it,ot));break e}}nt=it=Ji(it,ot),T!==4&&(T=2),sk===null?sk=[nt]:sk.push(nt),nt=rt;do{switch(nt.tag){case 3:nt.flags|=65536,$&=-$,nt.lanes|=$;var mt=Ni(nt,it,$);ph(nt,mt);break e;case 1:ot=it;var vt=nt.type,_t=nt.stateNode;if(!(nt.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(Ri===null||!Ri.has(_t)))){nt.flags|=65536,$&=-$,nt.lanes|=$;var Ct=Qi(nt,ot,$);ph(nt,Ct);break e}}nt=nt.return}while(nt!==null)}Sk(_e)}catch(At){$=At,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(!0)}function Jk(){var j=mk.current;return mk.current=Rh,j===null?Rh:j}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(j,$){var _e=K;K|=2;var et=Jk();(Q!==j||Z!==$)&&(uk=null,Kk(j,$));do try{Tk();break}catch(tt){Mk(j,tt)}while(!0);if($g(),K=_e,mk.current=et,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(j){var $=Vk(j.alternate,j,fj);j.memoizedProps=j.pendingProps,$===null?Sk(j):Y=$,nk.current=null}function Sk(j){var $=j;do{var _e=$.alternate;if(j=$.return,$.flags&32768){if(_e=Ij(_e,$),_e!==null){_e.flags&=32767,Y=_e;return}if(j!==null)j.flags|=32768,j.subtreeFlags=0,j.deletions=null;else{T=6,Y=null;return}}else if(_e=Ej(_e,$,fj),_e!==null){Y=_e;return}if($=$.sibling,$!==null){Y=$;return}Y=$=j}while($!==null);T===0&&(T=5)}function Pk(j,$,_e){var et=C,tt=ok.transition;try{ok.transition=null,C=1,Wk(j,$,_e,et)}finally{ok.transition=tt,C=et}return null}function Wk(j,$,_e,et){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));_e=j.finishedWork;var tt=j.finishedLanes;if(_e===null)return null;if(j.finishedWork=null,j.finishedLanes=0,_e===j.current)throw Error(p$2(177));j.callbackNode=null,j.callbackPriority=0;var nt=_e.lanes|_e.childLanes;if(Bc(j,nt),j===Q&&(Y=Q=null,Z=0),!(_e.subtreeFlags&2064)&&!(_e.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),nt=(_e.flags&15990)!==0,_e.subtreeFlags&15990||nt){nt=ok.transition,ok.transition=null;var rt=C;C=1;var ot=K;K|=4,nk.current=null,Oj(j,_e),dk(_e,j),Oe(Df),dd=!!Cf,Df=Cf=null,j.current=_e,hk(_e),dc(),K=ot,C=rt,ok.transition=nt}else j.current=_e;if(vk&&(vk=!1,wk=j,xk=tt),nt=j.pendingLanes,nt===0&&(Ri=null),mc(_e.stateNode),Dk(j,B()),$!==null)for(et=j.onRecoverableError,_e=0;_e<$.length;_e++)tt=$[_e],et(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Oi)throw Oi=!1,j=Pi,Pi=null,j;return xk&1&&j.tag!==0&&Hk(),nt=j.pendingLanes,nt&1?j===zk?yk++:(yk=0,zk=j):yk=0,jg(),null}function Hk(){if(wk!==null){var j=Dc(xk),$=ok.transition,_e=C;try{if(ok.transition=null,C=16>j?16:j,wk===null)var et=!1;else{if(j=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var tt=K;for(K|=4,V=j.current;V!==null;){var nt=V,rt=nt.child;if(V.flags&16){var ot=nt.deletions;if(ot!==null){for(var it=0;it<ot.length;it++){var at=ot[it];for(V=at;V!==null;){var ft=V;switch(ft.tag){case 0:case 11:case 15:Pj(8,ft,nt)}var st=ft.child;if(st!==null)st.return=ft,V=st;else for(;V!==null;){ft=V;var ut=ft.sibling,dt=ft.return;if(Sj(ft),ft===at){V=null;break}if(ut!==null){ut.return=dt,V=ut;break}V=dt}}}var pt=nt.alternate;if(pt!==null){var gt=pt.child;if(gt!==null){pt.child=null;do{var yt=gt.sibling;gt.sibling=null,gt=yt}while(gt!==null)}}V=nt}}if(nt.subtreeFlags&2064&&rt!==null)rt.return=nt,V=rt;else e:for(;V!==null;){if(nt=V,nt.flags&2048)switch(nt.tag){case 0:case 11:case 15:Pj(9,nt,nt.return)}var mt=nt.sibling;if(mt!==null){mt.return=nt.return,V=mt;break e}V=nt.return}}var vt=j.current;for(V=vt;V!==null;){rt=V;var _t=rt.child;if(rt.subtreeFlags&2064&&_t!==null)_t.return=rt,V=_t;else e:for(rt=vt;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(At){W(ot,ot.return,At)}if(ot===rt){V=null;break e}var Ct=ot.sibling;if(Ct!==null){Ct.return=ot.return,V=Ct;break e}V=ot.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,j)}catch{}et=!0}return et}finally{C=_e,ok.transition=$}}return!1}function Xk(j,$,_e){$=Ji(_e,$),$=Ni(j,$,1),j=nh(j,$,1),$=R(),j!==null&&(Ac(j,1,$),Dk(j,$))}function W(j,$,_e){if(j.tag===3)Xk(j,j,_e);else for(;$!==null;){if($.tag===3){Xk($,j,_e);break}else if($.tag===1){var et=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Ri===null||!Ri.has(et))){j=Ji(_e,j),j=Qi($,j,1),$=nh($,j,1),j=R(),$!==null&&(Ac($,1,j),Dk($,j));break}}$=$.return}}function Ti(j,$,_e){var et=j.pingCache;et!==null&&et.delete($),$=R(),j.pingedLanes|=j.suspendedLanes&_e,Q===j&&(Z&_e)===_e&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(j,0):rk|=_e),Dk(j,$)}function Yk(j,$){$===0&&(j.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var _e=R();j=ih(j,$),j!==null&&(Ac(j,$,_e),Dk(j,_e))}function uj(j){var $=j.memoizedState,_e=0;$!==null&&(_e=$.retryLane),Yk(j,_e)}function bk(j,$){var _e=0;switch(j.tag){case 13:var et=j.stateNode,tt=j.memoizedState;tt!==null&&(_e=tt.retryLane);break;case 19:et=j.stateNode;break;default:throw Error(p$2(314))}et!==null&&et.delete($),Yk(j,_e)}var Vk;Vk=function(j,$,_e){if(j!==null)if(j.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(j.lanes&_e)&&!($.flags&128))return dh=!1,yj(j,$,_e);dh=!!(j.flags&131072)}else dh=!1,I&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var et=$.type;ij(j,$),j=$.pendingProps;var tt=Yf($,H.current);ch($,_e),tt=Nh(null,$,et,j,tt,_e);var nt=Sh();return $.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(et)?(nt=!0,cg($)):nt=!1,$.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,kh($),tt.updater=Ei,$.stateNode=tt,tt._reactInternals=$,Ii($,et,j,_e),$=jj(null,$,et,!0,nt,_e)):($.tag=0,I&&nt&&vg($),Xi(null,$,tt,_e),$=$.child),$;case 16:et=$.elementType;e:{switch(ij(j,$),j=$.pendingProps,tt=et._init,et=tt(et._payload),$.type=et,tt=$.tag=Zk(et),j=Ci(et,j),tt){case 0:$=cj(null,$,et,j,_e);break e;case 1:$=hj(null,$,et,j,_e);break e;case 11:$=Yi(null,$,et,j,_e);break e;case 14:$=$i(null,$,et,Ci(et.type,j),_e);break e}throw Error(p$2(306,et,""))}return $;case 0:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),cj(j,$,et,tt,_e);case 1:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),hj(j,$,et,tt,_e);case 3:e:{if(kj($),j===null)throw Error(p$2(387));et=$.pendingProps,nt=$.memoizedState,tt=nt.element,lh(j,$),qh($,et,null,_e);var rt=$.memoizedState;if(et=rt.element,nt.isDehydrated)if(nt={element:et,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},$.updateQueue.baseState=nt,$.memoizedState=nt,$.flags&256){tt=Ji(Error(p$2(423)),$),$=lj(j,$,et,_e,tt);break e}else if(et!==tt){tt=Ji(Error(p$2(424)),$),$=lj(j,$,et,_e,tt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I=!0,zg=null,_e=Vg($,null,et,_e),$.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),et===tt){$=Zi(j,$,_e);break e}Xi(j,$,et,_e)}$=$.child}return $;case 5:return Ah($),j===null&&Eg($),et=$.type,tt=$.pendingProps,nt=j!==null?j.memoizedProps:null,rt=tt.children,Ef(et,tt)?rt=null:nt!==null&&Ef(et,nt)&&($.flags|=32),gj(j,$),Xi(j,$,rt,_e),$.child;case 6:return j===null&&Eg($),null;case 13:return oj(j,$,_e);case 4:return yh($,$.stateNode.containerInfo),et=$.pendingProps,j===null?$.child=Ug($,null,et,_e):Xi(j,$,et,_e),$.child;case 11:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),Yi(j,$,et,tt,_e);case 7:return Xi(j,$,$.pendingProps,_e),$.child;case 8:return Xi(j,$,$.pendingProps.children,_e),$.child;case 12:return Xi(j,$,$.pendingProps.children,_e),$.child;case 10:e:{if(et=$.type._context,tt=$.pendingProps,nt=$.memoizedProps,rt=tt.value,G(Wg,et._currentValue),et._currentValue=rt,nt!==null)if(He(nt.value,rt)){if(nt.children===tt.children&&!Wf.current){$=Zi(j,$,_e);break e}}else for(nt=$.child,nt!==null&&(nt.return=$);nt!==null;){var ot=nt.dependencies;if(ot!==null){rt=nt.child;for(var it=ot.firstContext;it!==null;){if(it.context===et){if(nt.tag===1){it=mh(-1,_e&-_e),it.tag=2;var at=nt.updateQueue;if(at!==null){at=at.shared;var ft=at.pending;ft===null?it.next=it:(it.next=ft.next,ft.next=it),at.pending=it}}nt.lanes|=_e,it=nt.alternate,it!==null&&(it.lanes|=_e),bh(nt.return,_e,$),ot.lanes|=_e;break}it=it.next}}else if(nt.tag===10)rt=nt.type===$.type?null:nt.child;else if(nt.tag===18){if(rt=nt.return,rt===null)throw Error(p$2(341));rt.lanes|=_e,ot=rt.alternate,ot!==null&&(ot.lanes|=_e),bh(rt,_e,$),rt=nt.sibling}else rt=nt.child;if(rt!==null)rt.return=nt;else for(rt=nt;rt!==null;){if(rt===$){rt=null;break}if(nt=rt.sibling,nt!==null){nt.return=rt.return,rt=nt;break}rt=rt.return}nt=rt}Xi(j,$,tt.children,_e),$=$.child}return $;case 9:return tt=$.type,et=$.pendingProps.children,ch($,_e),tt=eh(tt),et=et(tt),$.flags|=1,Xi(j,$,et,_e),$.child;case 14:return et=$.type,tt=Ci(et,$.pendingProps),tt=Ci(et.type,tt),$i(j,$,et,tt,_e);case 15:return bj(j,$,$.type,$.pendingProps,_e);case 17:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),ij(j,$),$.tag=1,Zf(et)?(j=!0,cg($)):j=!1,ch($,_e),Gi($,et,tt),Ii($,et,tt,_e),jj(null,$,et,!0,j,_e);case 19:return xj(j,$,_e);case 22:return dj(j,$,_e)}throw Error(p$2(156,$.tag))};function Fk(j,$){return ac(j,$)}function $k(j,$,_e,et){this.tag=j,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(j,$,_e,et){return new $k(j,$,_e,et)}function aj(j){return j=j.prototype,!(!j||!j.isReactComponent)}function Zk(j){if(typeof j=="function")return aj(j)?1:0;if(j!=null){if(j=j.$$typeof,j===Da)return 11;if(j===Ga)return 14}return 2}function Pg(j,$){var _e=j.alternate;return _e===null?(_e=Bg(j.tag,$,j.key,j.mode),_e.elementType=j.elementType,_e.type=j.type,_e.stateNode=j.stateNode,_e.alternate=j,j.alternate=_e):(_e.pendingProps=$,_e.type=j.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=j.flags&14680064,_e.childLanes=j.childLanes,_e.lanes=j.lanes,_e.child=j.child,_e.memoizedProps=j.memoizedProps,_e.memoizedState=j.memoizedState,_e.updateQueue=j.updateQueue,$=j.dependencies,_e.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_e.sibling=j.sibling,_e.index=j.index,_e.ref=j.ref,_e}function Rg(j,$,_e,et,tt,nt){var rt=2;if(et=j,typeof j=="function")aj(j)&&(rt=1);else if(typeof j=="string")rt=5;else e:switch(j){case ya:return Tg(_e.children,tt,nt,$);case za:rt=8,tt|=8;break;case Aa:return j=Bg(12,_e,$,tt|2),j.elementType=Aa,j.lanes=nt,j;case Ea:return j=Bg(13,_e,$,tt),j.elementType=Ea,j.lanes=nt,j;case Fa:return j=Bg(19,_e,$,tt),j.elementType=Fa,j.lanes=nt,j;case Ia:return pj(_e,tt,nt,$);default:if(typeof j=="object"&&j!==null)switch(j.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,et=null;break e}throw Error(p$2(130,j==null?j:typeof j,""))}return $=Bg(rt,_e,$,tt),$.elementType=j,$.type=et,$.lanes=nt,$}function Tg(j,$,_e,et){return j=Bg(7,j,et,$),j.lanes=_e,j}function pj(j,$,_e,et){return j=Bg(22,j,et,$),j.elementType=Ia,j.lanes=_e,j.stateNode={isHidden:!1},j}function Qg(j,$,_e){return j=Bg(6,j,null,$),j.lanes=_e,j}function Sg(j,$,_e){return $=Bg(4,j.children!==null?j.children:[],j.key,$),$.lanes=_e,$.stateNode={containerInfo:j.containerInfo,pendingChildren:null,implementation:j.implementation},$}function al(j,$,_e,et,tt){this.tag=$,this.containerInfo=j,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=et,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function bl(j,$,_e,et,tt,nt,rt,ot,it){return j=new al(j,$,_e,ot,it),$===1?($=1,nt===!0&&($|=8)):$=0,nt=Bg(3,null,null,$),j.current=nt,nt.stateNode=j,nt.memoizedState={element:et,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(nt),j}function cl(j,$,_e){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:et==null?null:""+et,children:j,containerInfo:$,implementation:_e}}function dl(j){if(!j)return Vf;j=j._reactInternals;e:{if(Vb(j)!==j||j.tag!==1)throw Error(p$2(170));var $=j;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$2(171))}if(j.tag===1){var _e=j.type;if(Zf(_e))return bg(j,_e,$)}return $}function el(j,$,_e,et,tt,nt,rt,ot,it){return j=bl(_e,et,!0,j,tt,nt,rt,ot,it),j.context=dl(null),_e=j.current,et=R(),tt=yi(_e),nt=mh(et,tt),nt.callback=$??null,nh(_e,nt,tt),j.current.lanes=tt,Ac(j,tt,et),Dk(j,et),j}function fl(j,$,_e,et){var tt=$.current,nt=R(),rt=yi(tt);return _e=dl(_e),$.context===null?$.context=_e:$.pendingContext=_e,$=mh(nt,rt),$.payload={element:j},et=et===void 0?null:et,et!==null&&($.callback=et),j=nh(tt,$,rt),j!==null&&(gi(j,tt,rt,nt),oh(j,tt,rt)),rt}function gl(j){if(j=j.current,!j.child)return null;switch(j.child.tag){case 5:return j.child.stateNode;default:return j.child.stateNode}}function hl(j,$){if(j=j.memoizedState,j!==null&&j.dehydrated!==null){var _e=j.retryLane;j.retryLane=_e!==0&&_e<$?_e:$}}function il(j,$){hl(j,$),(j=j.alternate)&&hl(j,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(j){console.error(j)};function ll(j){this._internalRoot=j}ml.prototype.render=ll.prototype.render=function(j){var $=this._internalRoot;if($===null)throw Error(p$2(409));fl(j,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var j=this._internalRoot;if(j!==null){this._internalRoot=null;var $=j.containerInfo;Rk(function(){fl(null,j,null,null)}),$[uf]=null}};function ml(j){this._internalRoot=j}ml.prototype.unstable_scheduleHydration=function(j){if(j){var $=Hc();j={blockedOn:null,target:j,priority:$};for(var _e=0;_e<Qc.length&&$!==0&&$<Qc[_e].priority;_e++);Qc.splice(_e,0,j),_e===0&&Vc(j)}};function nl(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11)}function ol(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11&&(j.nodeType!==8||j.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(j,$,_e,et,tt){if(tt){if(typeof et=="function"){var nt=et;et=function(){var at=gl(rt);nt.call(at)}}var rt=el($,et,j,0,null,!1,!1,"",pl);return j._reactRootContainer=rt,j[uf]=rt.current,sf(j.nodeType===8?j.parentNode:j),Rk(),rt}for(;tt=j.lastChild;)j.removeChild(tt);if(typeof et=="function"){var ot=et;et=function(){var at=gl(it);ot.call(at)}}var it=bl(j,0,!1,null,null,!1,!1,"",pl);return j._reactRootContainer=it,j[uf]=it.current,sf(j.nodeType===8?j.parentNode:j),Rk(function(){fl($,it,_e,et)}),it}function rl(j,$,_e,et,tt){var nt=_e._reactRootContainer;if(nt){var rt=nt;if(typeof tt=="function"){var ot=tt;tt=function(){var it=gl(rt);ot.call(it)}}fl($,rt,j,tt)}else rt=ql(_e,$,j,tt,et);return gl(rt)}Ec=function(j){switch(j.tag){case 3:var $=j.stateNode;if($.current.memoizedState.isDehydrated){var _e=tc($.pendingLanes);_e!==0&&(Cc($,_e|1),Dk($,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var et=ih(j,1);if(et!==null){var tt=R();gi(et,j,1,tt)}}),il(j,1)}};Fc=function(j){if(j.tag===13){var $=ih(j,134217728);if($!==null){var _e=R();gi($,j,134217728,_e)}il(j,134217728)}};Gc=function(j){if(j.tag===13){var $=yi(j),_e=ih(j,$);if(_e!==null){var et=R();gi(_e,j,$,et)}il(j,$)}};Hc=function(){return C};Ic=function(j,$){var _e=C;try{return C=j,$()}finally{C=_e}};yb=function(j,$,_e){switch($){case"input":if(bb(j,_e),$=_e.name,_e.type==="radio"&&$!=null){for(_e=j;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_e.length;$++){var et=_e[$];if(et!==j&&et.form===j.form){var tt=Db(et);if(!tt)throw Error(p$2(90));Wa(et),bb(et,tt)}}}break;case"textarea":ib(j,_e);break;case"select":$=_e.value,$!=null&&fb(j,!!_e.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(j){return j=Zb(j),j===null?null:j.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(j,$){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$2(200));return cl(j,$,null,_e)};reactDom_production_min.createRoot=function(j,$){if(!nl(j))throw Error(p$2(299));var _e=!1,et="",tt=kl;return $!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(tt=$.onRecoverableError)),$=bl(j,1,!1,null,null,_e,!1,et,tt),j[uf]=$.current,sf(j.nodeType===8?j.parentNode:j),new ll($)};reactDom_production_min.findDOMNode=function(j){if(j==null)return null;if(j.nodeType===1)return j;var $=j._reactInternals;if($===void 0)throw typeof j.render=="function"?Error(p$2(188)):(j=Object.keys(j).join(","),Error(p$2(268,j)));return j=Zb($),j=j===null?null:j.stateNode,j};reactDom_production_min.flushSync=function(j){return Rk(j)};reactDom_production_min.hydrate=function(j,$,_e){if(!ol($))throw Error(p$2(200));return rl(null,j,$,!0,_e)};reactDom_production_min.hydrateRoot=function(j,$,_e){if(!nl(j))throw Error(p$2(405));var et=_e!=null&&_e.hydratedSources||null,tt=!1,nt="",rt=kl;if(_e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(nt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(rt=_e.onRecoverableError)),$=el($,null,j,1,_e??null,tt,!1,nt,rt),j[uf]=$.current,sf(j),et)for(j=0;j<et.length;j++)_e=et[j],tt=_e._getVersion,tt=tt(_e._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_e,tt]:$.mutableSourceEagerHydrationData.push(_e,tt);return new ml($)};reactDom_production_min.render=function(j,$,_e){if(!ol($))throw Error(p$2(200));return rl(null,j,$,!1,_e)};reactDom_production_min.unmountComponentAtNode=function(j){if(!ol(j))throw Error(p$2(40));return j._reactRootContainer?(Rk(function(){rl(null,null,j,!1,function(){j._reactRootContainer=null,j[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(j,$,_e,et){if(!ol(_e))throw Error(p$2(200));if(j==null||j._reactInternals===void 0)throw Error(p$2(38));return rl(j,$,_e,!1,et)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(j){console.error(j)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;try{self["workbox:window:7.0.0"]&&_()}catch{}function n$3(j,$){return new Promise(function(_e){var et=new MessageChannel;et.port1.onmessage=function(tt){_e(tt.data)},j.postMessage($,[et.port2])})}function t$3(j){var $=function(_e,et){if(typeof _e!="object"||!_e)return _e;var tt=_e[Symbol.toPrimitive];if(tt!==void 0){var nt=tt.call(_e,et);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}(j,"string");return typeof $=="symbol"?$:$+""}function r$3(j,$){for(var _e=0;_e<$.length;_e++){var et=$[_e];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(j,t$3(et.key),et)}}function e$3(j,$){return e$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},e$3(j,$)}function i$1(j,$){($==null||$>j.length)&&($=j.length);for(var _e=0,et=new Array($);_e<$;_e++)et[_e]=j[_e];return et}function o$2(j,$){var _e=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(_e)return(_e=_e.call(j)).next.bind(_e);if(Array.isArray(j)||(_e=function(tt,nt){if(tt){if(typeof tt=="string")return i$1(tt,nt);var rt=Object.prototype.toString.call(tt).slice(8,-1);return rt==="Object"&&tt.constructor&&(rt=tt.constructor.name),rt==="Map"||rt==="Set"?Array.from(tt):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?i$1(tt,nt):void 0}}(j))||$){_e&&(j=_e);var et=0;return function(){return et>=j.length?{done:!0}:{done:!1,value:j[et++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}try{self["workbox:core:7.0.0"]&&_()}catch{}var u$2=function(){var j=this;this.promise=new Promise(function($,_e){j.resolve=$,j.reject=_e})};function a$1(j,$){var _e=location.href;return new URL(j,_e).href===new URL($,_e).href}var c$1=function(j,$){this.type=j,Object.assign(this,$)};function f$2(j,$,_e){return _e?$?$(j):j:(j&&j.then||(j=Promise.resolve(j)),$?j.then($):j)}function s$2(){}var v$1={type:"SKIP_WAITING"};function h$2(j,$){return j&&j.then?j.then(s$2):Promise.resolve()}var l$2=function(j){function $(ot,it){var at,ft;return it===void 0&&(it={}),(at=j.call(this)||this).nn={},at.tn=0,at.rn=new u$2,at.en=new u$2,at.on=new u$2,at.un=0,at.an=new Set,at.cn=function(){var st=at.fn,ut=st.installing;at.tn>0||!a$1(ut.scriptURL,at.sn.toString())||performance.now()>at.un+6e4?(at.vn=ut,st.removeEventListener("updatefound",at.cn)):(at.hn=ut,at.an.add(ut),at.rn.resolve(ut)),++at.tn,ut.addEventListener("statechange",at.ln)},at.ln=function(st){var ut=at.fn,dt=st.target,pt=dt.state,gt=dt===at.vn,yt={sw:dt,isExternal:gt,originalEvent:st};!gt&&at.mn&&(yt.isUpdate=!0),at.dispatchEvent(new c$1(pt,yt)),pt==="installed"?at.wn=self.setTimeout(function(){pt==="installed"&&ut.waiting===dt&&at.dispatchEvent(new c$1("waiting",yt))},200):pt==="activating"&&(clearTimeout(at.wn),gt||at.en.resolve(dt))},at.yn=function(st){var ut=at.hn,dt=ut!==navigator.serviceWorker.controller;at.dispatchEvent(new c$1("controlling",{isExternal:dt,originalEvent:st,sw:ut,isUpdate:at.mn})),dt||at.on.resolve(ut)},at.gn=(ft=function(st){var ut=st.data,dt=st.ports,pt=st.source;return f$2(at.getSW(),function(){at.an.has(pt)&&at.dispatchEvent(new c$1("message",{data:ut,originalEvent:st,ports:dt,sw:pt}))})},function(){for(var st=[],ut=0;ut<arguments.length;ut++)st[ut]=arguments[ut];try{return Promise.resolve(ft.apply(this,st))}catch(dt){return Promise.reject(dt)}}),at.sn=ot,at.nn=it,navigator.serviceWorker.addEventListener("message",at.gn),at}var _e,et;et=j,(_e=$).prototype=Object.create(et.prototype),_e.prototype.constructor=_e,e$3(_e,et);var tt,nt,rt=$.prototype;return rt.register=function(ot){var it=(ot===void 0?{}:ot).immediate,at=it!==void 0&&it;try{var ft=this;return f$2(function(st,ut){var dt=st();return dt&&dt.then?dt.then(ut):ut(dt)}(function(){if(!at&&document.readyState!=="complete")return h$2(new Promise(function(st){return window.addEventListener("load",st)}))},function(){return ft.mn=!!navigator.serviceWorker.controller,ft.dn=ft.pn(),f$2(ft.bn(),function(st){ft.fn=st,ft.dn&&(ft.hn=ft.dn,ft.en.resolve(ft.dn),ft.on.resolve(ft.dn),ft.dn.addEventListener("statechange",ft.ln,{once:!0}));var ut=ft.fn.waiting;return ut&&a$1(ut.scriptURL,ft.sn.toString())&&(ft.hn=ut,Promise.resolve().then(function(){ft.dispatchEvent(new c$1("waiting",{sw:ut,wasWaitingBeforeRegister:!0}))}).then(function(){})),ft.hn&&(ft.rn.resolve(ft.hn),ft.an.add(ft.hn)),ft.fn.addEventListener("updatefound",ft.cn),navigator.serviceWorker.addEventListener("controllerchange",ft.yn),ft.fn})}))}catch(st){return Promise.reject(st)}},rt.update=function(){try{return this.fn?f$2(h$2(this.fn.update())):f$2()}catch(ot){return Promise.reject(ot)}},rt.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},rt.messageSW=function(ot){try{return f$2(this.getSW(),function(it){return n$3(it,ot)})}catch(it){return Promise.reject(it)}},rt.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&n$3(this.fn.waiting,v$1)},rt.pn=function(){var ot=navigator.serviceWorker.controller;return ot&&a$1(ot.scriptURL,this.sn.toString())?ot:void 0},rt.bn=function(){try{var ot=this;return f$2(function(it,at){try{var ft=it()}catch(st){return at(st)}return ft&&ft.then?ft.then(void 0,at):ft}(function(){return f$2(navigator.serviceWorker.register(ot.sn,ot.nn),function(it){return ot.un=performance.now(),it})},function(it){throw it}))}catch(it){return Promise.reject(it)}},tt=$,(nt=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&r$3(tt.prototype,nt),Object.defineProperty(tt,"prototype",{writable:!1}),tt}(function(){function j(){this.Pn=new Map}var $=j.prototype;return $.addEventListener=function(_e,et){this.jn(_e).add(et)},$.removeEventListener=function(_e,et){this.jn(_e).delete(et)},$.dispatchEvent=function(_e){_e.target=this;for(var et,tt=o$2(this.jn(_e.type));!(et=tt()).done;)(0,et.value)(_e)},$.jn=function(_e){return this.Pn.has(_e)||this.Pn.set(_e,new Set),this.Pn.get(_e)},j}()),ProvidedComponents=(j=>(j.OpenGameButton="OpenGameButton",j))(ProvidedComponents||{});const GAME_DESCRIPTOR_NAME="game.cfg",locales$1=[{label:"English",value:"en-US"},{label:"",value:"ru-RU"},{label:"",value:"uk-UA"},{label:"",value:"zh"}],createEvent$1=()=>{const j=new Set;return{add:et=>{j.add(et)},fire:()=>{j.forEach(et=>et()),j.clear()}}},INTERNAL=Symbol(),shallowCopy=j=>Array.isArray(j)?j.slice():Object.create(Object.getPrototypeOf(j),Object.getOwnPropertyDescriptors(j));function getIn(j,$,_e=!1,et=0){if(et===$.length)return j;const tt=$[et];return _e&&!j[tt]&&(j[tt]={}),getIn(j[tt],$,_e,et+1)}function setIn(j,$,_e,et=0){if(et===$.length)return _e;const tt=$[et],nt=j[tt],rt=setIn(nt,$,_e,et+1);if(rt===nt)return j;const ot=shallowCopy(j);return ot[tt]=rt,ot}const handler$1={get:(j,$)=>$===INTERNAL?j:new Proxy([...j,$],handler$1)},pathProxy=new Proxy([],handler$1),createFocus=(j,$)=>_e=>{const et=typeof _e=="function"?_e(pathProxy)[INTERNAL]:[_e];j.cache||(j.cache={});const tt=$.concat(et),{get:nt}=j,rt=getIn(j.cache,tt,!0);return rt[INTERNAL]||(rt[INTERNAL]=createAtom(Object.assign(Object.assign({},j),{path:tt,get:()=>{const ot=nt();return ot?getIn(ot,tt):void 0},set:ot=>j.atom.set(setIn(nt(),tt,ot))})))},createStream=j=>($,_e)=>{let et;const tt=createInternal();let nt=!0;const rt=()=>{tt.listeners.size?ot():nt=!0},ot=()=>{const it=j.get(),at=$(it,et);nt=!1,_e&&!at||(tt.set(at),et=at)};return createAtom(Object.assign(Object.assign({},tt),{get:()=>(!j.isStream&&nt&&ot(),tt.get()),isStream:_e||j.isStream,subscribe:it=>{const at=j.subscribe(rt),ft=tt.subscribe(it);return()=>{ft(),tt.listeners.size||at()}}}))},tools={symbol:INTERNAL,send:()=>{},wrap:j=>j},subscribeInternal=(j,$,_e)=>et=>{const tt=createEvent$1();let nt=$();const rt=it=>{const at=et(it,nt);typeof at=="function"&&tt.add(at)};_e&&rt(nt);const ot=j(()=>{const it=$();it!==nt&&(tt.fire(),rt(it),nt=it)});return()=>{tt.fire(),ot()}},createInternal=j=>{const $=new Set,_e={listeners:$,get:()=>j,set:et=>{j!==et&&(j=et,tools.send(_e),$.forEach(tt=>tt()))},subscribe:et=>($.add(et),()=>void $.delete(et))};return _e};function createAtom(j,$){const{get:_e,subscribe:et,atom:tt}=j,nt={get value(){return tools.get&&tools.get(nt),_e()},set value(ot){nt.set(ot)},get actions(){return tools.wrap(rt,nt)},set:ot=>j.set(ot),update:ot=>nt.set(ot(_e())),subscribe:subscribeInternal(et,_e),watch:subscribeInternal(et,_e,!0),focus:createFocus(tt?tt[INTERNAL]:j,j.path||[]),map:createStream(j),[INTERNAL]:j};j.atom=nt,create.plugins.forEach(ot=>ot(nt));const rt=$&&$(nt);return nt}const createGetState=(j,$)=>(_e,et)=>et?($(et(j)),_e()):($(_e.subscribe(j)),_e[INTERNAL].get()),createSelector=j=>{const $=createInternal(),{get:_e,set:et,listeners:tt}=$,nt=createEvent$1();let rt=!0;const ot=createGetState(()=>{tt.size?it():rt=!0},nt.add),it=()=>{nt.fire(),rt=!1;const at=tools.get;tools.get=$.track?ot:null,et(j(ot)),tools.get=at};return $.get=()=>(rt&&it(),_e()),$};function atom(j,$){const _e=(typeof j=="function"?createSelector:createInternal)(j);return _e.isStream=!arguments.length,createAtom(_e,$)}atom.plugins=[];atom.internal=tools;const create=atom;var useConstant$3={};Object.defineProperty(useConstant$3,"__esModule",{value:!0});var react$1=reactExports;const useConstant$2=j=>{const $=react$1.useRef();return $.current||($.current={c:j()}),$.current.c};var useConstant_2=useConstant$3.useConstant=useConstant$2,useAdapter$1={};const createEvent=()=>{const j=new Set;return{add:et=>{j.add(et)},fire:()=>{j.forEach(et=>et()),j.clear()}}},error=j=>{throw new Error(`[xoid] \`${j}\` cannot be used outside the setup context. To create a setup context, use the \`useSetup\` hook from a framework integration package.`)};let adapter={effect:()=>error("effect"),inject:()=>error("inject")};const inject$1=j=>adapter.inject(j),effect=j=>adapter.effect(j);function setup$1(j){const $=adapter;adapter=this;const _e=j();return adapter=$,_e}const createAdapter=j=>{const $=createEvent(),_e=createEvent();return{inject:j.inject,mount:$.fire,unmount:_e.fire,effect:et=>$.add(()=>{const tt=et();typeof tt=="function"&&_e.add(tt)})}},setup_esm=Object.freeze(Object.defineProperty({__proto__:null,createAdapter,effect,inject:inject$1,setup:setup$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(setup_esm);Object.defineProperty(useAdapter$1,"__esModule",{value:!0});var React=reactExports,setup=require$$1,useConstant$1=useConstant$3;function _interopDefaultLegacy(j){return j&&typeof j=="object"&&"default"in j?j:{default:j}}var React__default=_interopDefaultLegacy(React);const contextMap=new Map,createProvider=(j,$)=>{const _e=React.createContext($);return contextMap.set(j,_e),_e.Provider},reactInternals=React__default.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,inject=j=>{if(typeof j!="symbol")throw new TypeError("An injection key should be a symbol.");return reactInternals.ReactCurrentDispatcher.current.readContext(contextMap.get(j))},useAdapter=j=>{const $=useConstant$1.useConstant(()=>setup.createAdapter({inject}));return React.useEffect(()=>($.mount(),()=>$.unmount()),[]),useConstant$1.useConstant(()=>setup.setup.call($,j))};useAdapter$1.createProvider=createProvider;var useAdapter_2=useAdapter$1.useAdapter=useAdapter,useAtom$1={},shim$1={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=reactExports;function h$1(j,$){return j===$&&(j!==0||1/j===1/$)||j!==j&&$!==$}var k=typeof Object.is=="function"?Object.is:h$1,l$1=e$2.useState,m$1=e$2.useEffect,n$2=e$2.useLayoutEffect,p$1=e$2.useDebugValue;function q(j,$){var _e=$(),et=l$1({inst:{value:_e,getSnapshot:$}}),tt=et[0].inst,nt=et[1];return n$2(function(){tt.value=_e,tt.getSnapshot=$,r$2(tt)&&nt({inst:tt})},[j,_e,$]),m$1(function(){return r$2(tt)&&nt({inst:tt}),j(function(){r$2(tt)&&nt({inst:tt})})},[j]),p$1(_e),_e}function r$2(j){var $=j.getSnapshot;j=j.value;try{var _e=$();return!k(j,_e)}catch{return!0}}function t$2(j,$){return $()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$1;shim$1.exports=useSyncExternalStoreShim_production_min;var shimExports=shim$1.exports;Object.defineProperty(useAtom$1,"__esModule",{value:!0});var shim=shimExports,react=reactExports,useConstant=useConstant$3;function useAtom(j,$){const _e=useConstant.useConstant(()=>typeof j=="function"&&j())||j,et=shim.useSyncExternalStore(_e.subscribe,()=>_e.value,()=>_e.value);return react.useDebugValue(et),$?[et,_e.actions]:et}var useAtom_2=useAtom$1.useAtom=useAtom;const useIsoLayoutEffect=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function useSetup(j,$){let _e;if(arguments.length>1){const et=useConstant_2(()=>atom(()=>$));useIsoLayoutEffect(()=>et.set($),[$]),_e=useAdapter_2(()=>j(et))}else _e=useAdapter_2(j);return reactExports.useDebugValue(_e),_e}const QspiderRoot=({children:j})=>j,storage$=create();typeof window<"u"&&typeof window.global>"u"&&(window.global=window);const ParserEND=1114112;class ParserError extends Error{constructor($,_e,et){super("[ParserError] "+$,_e,et),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}class State{constructor($){this.parser=$,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class Parser{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State(this.parseStart)}parse($){if($.length===0||$.length==null)return;this._buf=String($),this.ii=-1,this.char=-1;let _e;for(;_e===!1||this.nextChar();)_e=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=ParserEND;let $;do $=this.state.parser,this.runOne();while(this.state.parser!==$);return this.ctx=null,this.state=null,this._buf=null,this.obj}next($){if(typeof $!="function")throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify($));this.state.parser=$}goto($){return this.next($),this.runOne()}call($,_e){_e&&this.next(_e),this.stack.push(this.state),this.state=new State($)}callNow($,_e){return this.call($,_e),this.runOne()}return($){if(this.stack.length===0)throw this.error(new ParserError("Stack underflow"));$===void 0&&($=this.state.buf),this.state=this.stack.pop(),this.state.returned=$}returnNow($){return this.return($),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error($){return $.line=this.line,$.col=this.col,$.pos=this.pos,$}parseStart(){throw new ParserError("Must declare a parseStart method")}}Parser.END=ParserEND;Parser.Error=ParserError;const createDateTime=j=>{const $=new Date(j);if(isNaN($))throw new TypeError("Invalid Datetime");return $},f$1=(j,$)=>{for($=String($);$.length<j;)$="0"+$;return $};class FloatingDateTime extends Date{constructor($){super($+"Z"),this.isFloating=!0}toISOString(){const $=`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`,_e=`${f$1(2,this.getUTCHours())}:${f$1(2,this.getUTCMinutes())}:${f$1(2,this.getUTCSeconds())}.${f$1(3,this.getUTCMilliseconds())}`;return`${$}T${_e}`}}const createDateTimeFloat=j=>{const $=new FloatingDateTime(j);if(isNaN($))throw new TypeError("Invalid Datetime");return $};class Date_ extends Date{constructor($){super($),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`}}const createDate=j=>{const $=new Date_(j);if(isNaN($))throw new TypeError("Invalid Datetime");return $};class Time extends Date{constructor($){super(`0000-01-01T${$}Z`),this.isTime=!0}toISOString(){return`${f$1(2,this.getUTCHours())}:${f$1(2,this.getUTCMinutes())}:${f$1(2,this.getUTCSeconds())}.${f$1(3,this.getUTCMilliseconds())}`}}const createTime=j=>{const $=new Time(j);if(isNaN($))throw new TypeError("Invalid Datetime");return $},TOMLParser=makeParserClass(Parser);class TomlError extends Error{constructor($){super($),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=j=>{const $=new TomlError(j.message);return $.code=j.code,$.wrapped=j,$};const CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(j){return j>=CHAR_0&&j<=CHAR_9}function isHexit(j){return j>=CHAR_A&&j<=CHAR_F||j>=CHAR_a&&j<=CHAR_f||j>=CHAR_0&&j<=CHAR_9}function isBit(j){return j===CHAR_1||j===CHAR_0}function isOctit(j){return j>=CHAR_0&&j<=CHAR_7}function isAlphaNumQuoteHyphen(j){return j>=CHAR_A&&j<=CHAR_Z||j>=CHAR_a&&j<=CHAR_z||j>=CHAR_0&&j<=CHAR_9||j===CHAR_APOS||j===CHAR_QUOT||j===CHAR_LOWBAR||j===CHAR_HYPHEN}function isAlphaNumHyphen(j){return j>=CHAR_A&&j<=CHAR_Z||j>=CHAR_a&&j<=CHAR_z||j>=CHAR_0&&j<=CHAR_9||j===CHAR_LOWBAR||j===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty$1=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(j,$){return hasOwnProperty$1.call(j,$)?!0:($==="__proto__"&&defineProperty(j,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(j){return j===null||typeof j!="object"?!1:j[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table$1(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(j){return j===null||typeof j!="object"?!1:j[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(j){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:j}})}function isInlineList(j){return j===null||typeof j!="object"?!1:j[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(j){return j===null||typeof j!="object"?!1:j[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(j){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor($){try{this.value=global.BigInt.asIntN(64,$)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(j){let $=Number(j);return Object.is($,-0)&&($=0),global.BigInt&&!Number.isSafeInteger($)?new BoxedBigInt(j):Object.defineProperties(new Number($),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${j}]`}})}function isInteger(j){return j===null||typeof j!="object"?!1:j[_type]===INTEGER}const FLOAT=Symbol("float");function Float(j){return Object.defineProperties(new Number(j),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${j}]`}})}function isFloat(j){return j===null||typeof j!="object"?!1:j[_type]===FLOAT}function tomlType$1(j){const $=typeof j;if($==="object"){if(j===null)return"null";if(j instanceof Date)return"datetime";if(_type in j)switch(j[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return $}function makeParserClass(j){class $ extends j{constructor(){super(),this.ctx=this.obj=Table$1()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===j.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===j.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===j.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(et){let tt=this.ctx,nt=et.key.pop();for(let rt of et.key){if(hasKey(tt,rt)&&!isTable(tt[rt]))throw this.error(new TomlError("Can't redefine existing key"));tt=tt[rt]=tt[rt]||Table$1()}if(hasKey(tt,nt))throw this.error(new TomlError("Can't redefine existing key"));return tt[_declared]=!0,isInteger(et.value)||isFloat(et.value)?tt[nt]=et.value.valueOf():tt[nt]=et.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(et){return this.state.resultTable?this.state.resultTable.push(et):this.state.resultTable=[et],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(et){return this.returnNow({key:this.state.resultTable,value:et})}parseComment(){do{if(this.char===j.END||this.char===CTRL_J)return this.return();if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("comments")}while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(et){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,et)&&(!isTable(this.ctx[et])||this.ctx[et][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[et]=this.ctx[et]||Table$1(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,et))this.ctx=this.ctx[et]=Table$1();else if(isTable(this.ctx[et]))this.ctx=this.ctx[et];else if(isList(this.ctx[et]))this.ctx=this.ctx[et][this.ctx[et].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(et){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,et)||(this.ctx[et]=List()),isInlineList(this.ctx[et]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[et])){const tt=Table$1();this.ctx[et].push(tt),this.ctx=tt}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,et))this.ctx=this.ctx[et]=Table$1();else{if(isInlineList(this.ctx[et]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[et]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[et]))this.ctx=this.ctx[et][this.ctx[et].length-1];else if(isTable(this.ctx[et]))this.ctx=this.ctx[et];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(et){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===j.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(et){return this.returnNow(et)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===j.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===j.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd3):(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd3(){return this.char===CHAR_APOS?(this.state.buf+="'",this.next(this.parseLiteralMultiEnd4)):this.returnNow()}parseLiteralMultiEnd4(){return this.char===CHAR_APOS?(this.state.buf+="'",this.return()):this.returnNow()}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}recordEscapeReplacement(et){return this.state.buf+=et,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===j.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}errorControlCharIn(et){let tt="\\u00";return this.char<16&&(tt+="0"),tt+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in ${et}, use ${tt} instead`))}recordMultiEscapeReplacement(et){return this.state.buf+=et,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd3):(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEnd3(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.next(this.parseMultiEnd4)):this.returnNow()}parseMultiEnd4(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.return()):this.returnNow()}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(et){try{const tt=parseInt(et,16);if(tt>=SURROGATE_FIRST&&tt<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(tt))}catch(tt){throw this.error(TomlError.wrap(tt))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===j.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(et){return this.state.resultArr||(this.state.resultArr=InlineList(tomlType$1(et))),isFloat(et)||isInteger(et)?this.state.resultArr.push(et.valueOf()):this.state.resultArr.push(et),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===j.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(et){let tt=this.state.resultTable,nt=et.key.pop();for(let rt of et.key){if(hasKey(tt,rt)&&(!isTable(tt[rt])||tt[rt][_declared]))throw this.error(new TomlError("Can't redefine existing key"));tt=tt[rt]=tt[rt]||Table$1()}if(hasKey(tt,nt))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(et.value)||isFloat(et.value)?tt[nt]=et.value.valueOf():tt[nt]=et.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===j.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTablePostComma);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTablePostComma(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===j.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)throw this.error(new TomlError("Empty elements in inline tables are not permitted"));if(this.char===CHAR_RCUB)throw this.error(new TomlError("Trailing commas in inline tables are not permitted"));return this.goto(this.parseInlineTable)}}return $}function prettyError(j,$){if(j.pos==null||j.line==null)return j;let _e=j.message;if(_e+=` at row ${j.line+1}, col ${j.col+1}, pos ${j.pos}:
`,$&&$.split){const et=$.split(/\n/),tt=String(Math.min(et.length,j.line+3)).length;let nt=" ";for(;nt.length<tt;)nt+=" ";for(let rt=Math.max(0,j.line-1);rt<Math.min(et.length,j.line+2);++rt){let ot=String(rt+1);if(ot.length<tt&&(ot=" "+ot),j.line===rt){_e+=ot+"> "+et[rt]+`
`,_e+=nt+"  ";for(let it=0;it<j.col;++it)_e+=" ";_e+=`^
`}else _e+=ot+": "+et[rt]+`
`}}return j.message=_e+`
`,j}function parseString(j){global.Buffer&&global.Buffer.isBuffer(j)&&(j=j.toString("utf8"));const $=new TOMLParser;try{return $.parse(j),$.finish()}catch(_e){throw prettyError(_e,j)}}function stringify$1(j){if(j===null)throw typeError("null");if(j===void 0)throw typeError("undefined");if(typeof j!="object")throw typeError(typeof j);if(typeof j.toJSON=="function"&&(j=j.toJSON()),j==null)return null;const $=tomlType(j);if($!=="table")throw typeError($);return stringifyObject("","",j)}function typeError(j){return new Error("Can only stringify objects, not "+j)}function getInlineKeys(j){return Object.keys(j).filter($=>isInline(j[$]))}function getComplexKeys(j){return Object.keys(j).filter($=>!isInline(j[$]))}function toJSON(j){let $=Array.isArray(j)?[]:Object.prototype.hasOwnProperty.call(j,"__proto__")?{["__proto__"]:void 0}:{};for(let _e of Object.keys(j))j[_e]&&typeof j[_e].toJSON=="function"&&!("toISOString"in j[_e])?$[_e]=j[_e].toJSON():$[_e]=j[_e];return $}function stringifyObject(j,$,_e){_e=toJSON(_e);let et,tt;et=getInlineKeys(_e),tt=getComplexKeys(_e);const nt=[],rt=$||"";et.forEach(it=>{var at=tomlType(_e[it]);at!=="undefined"&&at!=="null"&&nt.push(rt+stringifyKey(it)+" = "+stringifyAnyInline(_e[it],!0))}),nt.length>0&&nt.push("");const ot=j&&et.length>0?$+"  ":"";return tt.forEach(it=>{nt.push(stringifyComplex(j,ot,it,_e[it]))}),nt.join(`
`)}function isInline(j){switch(tomlType(j)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return j.length===0||tomlType(j[0])!=="table";case"table":return Object.keys(j).length===0;default:return!1}}function tomlType(j){return j===void 0?"undefined":j===null?"null":typeof j=="bigint"||Number.isInteger(j)&&!Object.is(j,-0)?"integer":typeof j=="number"?"float":typeof j=="boolean"?"boolean":typeof j=="string"?"string":"toISOString"in j?isNaN(j)?"undefined":"datetime":Array.isArray(j)?"array":"table"}function stringifyKey(j){const $=String(j);return/^[-A-Za-z0-9_]+$/.test($)?$:stringifyBasicString($)}function stringifyBasicString(j){return'"'+escapeString(j).replace(/"/g,'\\"')+'"'}function stringifyLiteralString(j){return"'"+j+"'"}function numpad(j,$){for(;$.length<j;)$="0"+$;return $}function escapeString(j){return j.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,$=>"\\u"+numpad(4,$.codePointAt(0).toString(16)))}function stringifyMultilineString(j){let $=j.split(/\n/).map(_e=>escapeString(_e).replace(/"(?="")/g,'\\"')).join(`
`);return $.slice(-1)==='"'&&($+=`\\
`),`"""
`+$+'"""'}function stringifyAnyInline(j,$){let _e=tomlType(j);return _e==="string"&&($&&/\n/.test(j)?_e="string-multiline":!/[\b\t\n\f\r']/.test(j)&&/"/.test(j)&&(_e="string-literal")),stringifyInline(j,_e)}function stringifyInline(j,$){switch($||($=tomlType(j)),$){case"string-multiline":return stringifyMultilineString(j);case"string":return stringifyBasicString(j);case"string-literal":return stringifyLiteralString(j);case"integer":return stringifyInteger(j);case"float":return stringifyFloat(j);case"boolean":return stringifyBoolean(j);case"datetime":return stringifyDatetime(j);case"array":return stringifyInlineArray(j.filter(_e=>tomlType(_e)!=="null"&&tomlType(_e)!=="undefined"&&tomlType(_e)!=="nan"));case"table":return stringifyInlineTable(j);default:throw typeError($)}}function stringifyInteger(j){return String(j).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function stringifyFloat(j){if(j===1/0)return"inf";if(j===-1/0)return"-inf";if(Object.is(j,NaN))return"nan";if(Object.is(j,-0))return"-0.0";const[$,_e]=String(j).split(".");return stringifyInteger($)+"."+_e}function stringifyBoolean(j){return String(j)}function stringifyDatetime(j){return j.toISOString()}function stringifyInlineArray(j){j=toJSON(j);let $="[";const _e=j.map(et=>stringifyInline(et));return _e.join(", ").length>60||/\n/.test(_e)?$+=`
  `+_e.join(`,
  `)+`
`:$+=" "+_e.join(", ")+(_e.length>0?" ":""),$+"]"}function stringifyInlineTable(j){j=toJSON(j);const $=[];return Object.keys(j).forEach(_e=>{$.push(stringifyKey(_e)+" = "+stringifyAnyInline(j[_e],!1))}),"{ "+$.join(", ")+($.length>0?" ":"")+"}"}function stringifyComplex(j,$,_e,et){const tt=tomlType(et);if(tt==="array")return stringifyArrayOfTables(j,$,_e,et);if(tt==="table")return stringifyComplexTable(j,$,_e,et);throw typeError(tt)}function stringifyArrayOfTables(j,$,_e,et){et=toJSON(et);const tt=tomlType(et[0]);if(tt!=="table")throw typeError(tt);const nt=j+stringifyKey(_e);let rt="";return et.forEach(ot=>{rt.length>0&&(rt+=`
`),rt+=$+"[["+nt+`]]
`,rt+=stringifyObject(nt+".",$,ot)}),rt}function stringifyComplexTable(j,$,_e,et){const tt=j+stringifyKey(_e);let nt="";return getInlineKeys(et).length>0&&(nt+=$+"["+tt+`]
`),nt+stringifyObject(tt+".",$,et)}const parse$1=parseString,stringify=stringify$1;var colorString$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function j($){return!$||typeof $=="string"?!1:$ instanceof Array||Array.isArray($)||$.length>=0&&($.splice instanceof Function||Object.getOwnPropertyDescriptor($,$.length-1)&&$.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice$2=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function j($){for(var _e=[],et=0,tt=$.length;et<tt;et++){var nt=$[et];isArrayish(nt)?_e=concat.call(_e,slice$2.call(nt)):_e.push(nt)}return _e};swizzle$1.wrap=function(j){return function(){return j(swizzle$1(arguments))}};var simpleSwizzleExports=simpleSwizzle.exports,colorNames=colorName,swizzle=simpleSwizzleExports,hasOwnProperty=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(j){var $=j.substring(0,3).toLowerCase(),_e,et;switch($){case"hsl":_e=cs.get.hsl(j),et="hsl";break;case"hwb":_e=cs.get.hwb(j),et="hwb";break;default:_e=cs.get.rgb(j),et="rgb";break}return _e?{model:et,value:_e}:null};cs.get.rgb=function(j){if(!j)return null;var $=/^#([a-f0-9]{3,4})$/i,_e=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,et=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,tt=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,nt=/^(\w+)$/,rt=[0,0,0,1],ot,it,at;if(ot=j.match(_e)){for(at=ot[2],ot=ot[1],it=0;it<3;it++){var ft=it*2;rt[it]=parseInt(ot.slice(ft,ft+2),16)}at&&(rt[3]=parseInt(at,16)/255)}else if(ot=j.match($)){for(ot=ot[1],at=ot[3],it=0;it<3;it++)rt[it]=parseInt(ot[it]+ot[it],16);at&&(rt[3]=parseInt(at+at,16)/255)}else if(ot=j.match(et)){for(it=0;it<3;it++)rt[it]=parseInt(ot[it+1],0);ot[4]&&(ot[5]?rt[3]=parseFloat(ot[4])*.01:rt[3]=parseFloat(ot[4]))}else if(ot=j.match(tt)){for(it=0;it<3;it++)rt[it]=Math.round(parseFloat(ot[it+1])*2.55);ot[4]&&(ot[5]?rt[3]=parseFloat(ot[4])*.01:rt[3]=parseFloat(ot[4]))}else return(ot=j.match(nt))?ot[1]==="transparent"?[0,0,0,0]:hasOwnProperty.call(colorNames,ot[1])?(rt=colorNames[ot[1]],rt[3]=1,rt):null:null;for(it=0;it<3;it++)rt[it]=clamp$4(rt[it],0,255);return rt[3]=clamp$4(rt[3],0,1),rt};cs.get.hsl=function(j){if(!j)return null;var $=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,_e=j.match($);if(_e){var et=parseFloat(_e[4]),tt=(parseFloat(_e[1])%360+360)%360,nt=clamp$4(parseFloat(_e[2]),0,100),rt=clamp$4(parseFloat(_e[3]),0,100),ot=clamp$4(isNaN(et)?1:et,0,1);return[tt,nt,rt,ot]}return null};cs.get.hwb=function(j){if(!j)return null;var $=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,_e=j.match($);if(_e){var et=parseFloat(_e[4]),tt=(parseFloat(_e[1])%360+360)%360,nt=clamp$4(parseFloat(_e[2]),0,100),rt=clamp$4(parseFloat(_e[3]),0,100),ot=clamp$4(isNaN(et)?1:et,0,1);return[tt,nt,rt,ot]}return null};cs.to.hex=function(){var j=swizzle(arguments);return"#"+hexDouble(j[0])+hexDouble(j[1])+hexDouble(j[2])+(j[3]<1?hexDouble(Math.round(j[3]*255)):"")};cs.to.rgb=function(){var j=swizzle(arguments);return j.length<4||j[3]===1?"rgb("+Math.round(j[0])+", "+Math.round(j[1])+", "+Math.round(j[2])+")":"rgba("+Math.round(j[0])+", "+Math.round(j[1])+", "+Math.round(j[2])+", "+j[3]+")"};cs.to.rgb.percent=function(){var j=swizzle(arguments),$=Math.round(j[0]/255*100),_e=Math.round(j[1]/255*100),et=Math.round(j[2]/255*100);return j.length<4||j[3]===1?"rgb("+$+"%, "+_e+"%, "+et+"%)":"rgba("+$+"%, "+_e+"%, "+et+"%, "+j[3]+")"};cs.to.hsl=function(){var j=swizzle(arguments);return j.length<4||j[3]===1?"hsl("+j[0]+", "+j[1]+"%, "+j[2]+"%)":"hsla("+j[0]+", "+j[1]+"%, "+j[2]+"%, "+j[3]+")"};cs.to.hwb=function(){var j=swizzle(arguments),$="";return j.length>=4&&j[3]!==1&&($=", "+j[3]),"hwb("+j[0]+", "+j[1]+"%, "+j[2]+"%"+$+")"};cs.to.keyword=function(j){return reverseNames[j.slice(0,3)]};function clamp$4(j,$,_e){return Math.min(Math.max($,j),_e)}function hexDouble(j){var $=Math.round(j).toString(16).toUpperCase();return $.length<2?"0"+$:$}var colorStringExports=colorString$1.exports;const cssKeywords=colorName,reverseKeywords={};for(const j of Object.keys(cssKeywords))reverseKeywords[cssKeywords[j]]=j;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const j of Object.keys(convert$2)){if(!("channels"in convert$2[j]))throw new Error("missing channels property: "+j);if(!("labels"in convert$2[j]))throw new Error("missing channel labels property: "+j);if(convert$2[j].labels.length!==convert$2[j].channels)throw new Error("channel and label counts mismatch: "+j);const{channels:$,labels:_e}=convert$2[j];delete convert$2[j].channels,delete convert$2[j].labels,Object.defineProperty(convert$2[j],"channels",{value:$}),Object.defineProperty(convert$2[j],"labels",{value:_e})}convert$2.rgb.hsl=function(j){const $=j[0]/255,_e=j[1]/255,et=j[2]/255,tt=Math.min($,_e,et),nt=Math.max($,_e,et),rt=nt-tt;let ot,it;nt===tt?ot=0:$===nt?ot=(_e-et)/rt:_e===nt?ot=2+(et-$)/rt:et===nt&&(ot=4+($-_e)/rt),ot=Math.min(ot*60,360),ot<0&&(ot+=360);const at=(tt+nt)/2;return nt===tt?it=0:at<=.5?it=rt/(nt+tt):it=rt/(2-nt-tt),[ot,it*100,at*100]};convert$2.rgb.hsv=function(j){let $,_e,et,tt,nt;const rt=j[0]/255,ot=j[1]/255,it=j[2]/255,at=Math.max(rt,ot,it),ft=at-Math.min(rt,ot,it),st=function(ut){return(at-ut)/6/ft+1/2};return ft===0?(tt=0,nt=0):(nt=ft/at,$=st(rt),_e=st(ot),et=st(it),rt===at?tt=et-_e:ot===at?tt=1/3+$-et:it===at&&(tt=2/3+_e-$),tt<0?tt+=1:tt>1&&(tt-=1)),[tt*360,nt*100,at*100]};convert$2.rgb.hwb=function(j){const $=j[0],_e=j[1];let et=j[2];const tt=convert$2.rgb.hsl(j)[0],nt=1/255*Math.min($,Math.min(_e,et));return et=1-1/255*Math.max($,Math.max(_e,et)),[tt,nt*100,et*100]};convert$2.rgb.cmyk=function(j){const $=j[0]/255,_e=j[1]/255,et=j[2]/255,tt=Math.min(1-$,1-_e,1-et),nt=(1-$-tt)/(1-tt)||0,rt=(1-_e-tt)/(1-tt)||0,ot=(1-et-tt)/(1-tt)||0;return[nt*100,rt*100,ot*100,tt*100]};function comparativeDistance(j,$){return(j[0]-$[0])**2+(j[1]-$[1])**2+(j[2]-$[2])**2}convert$2.rgb.keyword=function(j){const $=reverseKeywords[j];if($)return $;let _e=1/0,et;for(const tt of Object.keys(cssKeywords)){const nt=cssKeywords[tt],rt=comparativeDistance(j,nt);rt<_e&&(_e=rt,et=tt)}return et};convert$2.keyword.rgb=function(j){return cssKeywords[j]};convert$2.rgb.xyz=function(j){let $=j[0]/255,_e=j[1]/255,et=j[2]/255;$=$>.04045?(($+.055)/1.055)**2.4:$/12.92,_e=_e>.04045?((_e+.055)/1.055)**2.4:_e/12.92,et=et>.04045?((et+.055)/1.055)**2.4:et/12.92;const tt=$*.4124+_e*.3576+et*.1805,nt=$*.2126+_e*.7152+et*.0722,rt=$*.0193+_e*.1192+et*.9505;return[tt*100,nt*100,rt*100]};convert$2.rgb.lab=function(j){const $=convert$2.rgb.xyz(j);let _e=$[0],et=$[1],tt=$[2];_e/=95.047,et/=100,tt/=108.883,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,et=et>.008856?et**(1/3):7.787*et+16/116,tt=tt>.008856?tt**(1/3):7.787*tt+16/116;const nt=116*et-16,rt=500*(_e-et),ot=200*(et-tt);return[nt,rt,ot]};convert$2.hsl.rgb=function(j){const $=j[0]/360,_e=j[1]/100,et=j[2]/100;let tt,nt,rt;if(_e===0)return rt=et*255,[rt,rt,rt];et<.5?tt=et*(1+_e):tt=et+_e-et*_e;const ot=2*et-tt,it=[0,0,0];for(let at=0;at<3;at++)nt=$+1/3*-(at-1),nt<0&&nt++,nt>1&&nt--,6*nt<1?rt=ot+(tt-ot)*6*nt:2*nt<1?rt=tt:3*nt<2?rt=ot+(tt-ot)*(2/3-nt)*6:rt=ot,it[at]=rt*255;return it};convert$2.hsl.hsv=function(j){const $=j[0];let _e=j[1]/100,et=j[2]/100,tt=_e;const nt=Math.max(et,.01);et*=2,_e*=et<=1?et:2-et,tt*=nt<=1?nt:2-nt;const rt=(et+_e)/2,ot=et===0?2*tt/(nt+tt):2*_e/(et+_e);return[$,ot*100,rt*100]};convert$2.hsv.rgb=function(j){const $=j[0]/60,_e=j[1]/100;let et=j[2]/100;const tt=Math.floor($)%6,nt=$-Math.floor($),rt=255*et*(1-_e),ot=255*et*(1-_e*nt),it=255*et*(1-_e*(1-nt));switch(et*=255,tt){case 0:return[et,it,rt];case 1:return[ot,et,rt];case 2:return[rt,et,it];case 3:return[rt,ot,et];case 4:return[it,rt,et];case 5:return[et,rt,ot]}};convert$2.hsv.hsl=function(j){const $=j[0],_e=j[1]/100,et=j[2]/100,tt=Math.max(et,.01);let nt,rt;rt=(2-_e)*et;const ot=(2-_e)*tt;return nt=_e*tt,nt/=ot<=1?ot:2-ot,nt=nt||0,rt/=2,[$,nt*100,rt*100]};convert$2.hwb.rgb=function(j){const $=j[0]/360;let _e=j[1]/100,et=j[2]/100;const tt=_e+et;let nt;tt>1&&(_e/=tt,et/=tt);const rt=Math.floor(6*$),ot=1-et;nt=6*$-rt,rt&1&&(nt=1-nt);const it=_e+nt*(ot-_e);let at,ft,st;switch(rt){default:case 6:case 0:at=ot,ft=it,st=_e;break;case 1:at=it,ft=ot,st=_e;break;case 2:at=_e,ft=ot,st=it;break;case 3:at=_e,ft=it,st=ot;break;case 4:at=it,ft=_e,st=ot;break;case 5:at=ot,ft=_e,st=it;break}return[at*255,ft*255,st*255]};convert$2.cmyk.rgb=function(j){const $=j[0]/100,_e=j[1]/100,et=j[2]/100,tt=j[3]/100,nt=1-Math.min(1,$*(1-tt)+tt),rt=1-Math.min(1,_e*(1-tt)+tt),ot=1-Math.min(1,et*(1-tt)+tt);return[nt*255,rt*255,ot*255]};convert$2.xyz.rgb=function(j){const $=j[0]/100,_e=j[1]/100,et=j[2]/100;let tt,nt,rt;return tt=$*3.2406+_e*-1.5372+et*-.4986,nt=$*-.9689+_e*1.8758+et*.0415,rt=$*.0557+_e*-.204+et*1.057,tt=tt>.0031308?1.055*tt**(1/2.4)-.055:tt*12.92,nt=nt>.0031308?1.055*nt**(1/2.4)-.055:nt*12.92,rt=rt>.0031308?1.055*rt**(1/2.4)-.055:rt*12.92,tt=Math.min(Math.max(0,tt),1),nt=Math.min(Math.max(0,nt),1),rt=Math.min(Math.max(0,rt),1),[tt*255,nt*255,rt*255]};convert$2.xyz.lab=function(j){let $=j[0],_e=j[1],et=j[2];$/=95.047,_e/=100,et/=108.883,$=$>.008856?$**(1/3):7.787*$+16/116,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,et=et>.008856?et**(1/3):7.787*et+16/116;const tt=116*_e-16,nt=500*($-_e),rt=200*(_e-et);return[tt,nt,rt]};convert$2.lab.xyz=function(j){const $=j[0],_e=j[1],et=j[2];let tt,nt,rt;nt=($+16)/116,tt=_e/500+nt,rt=nt-et/200;const ot=nt**3,it=tt**3,at=rt**3;return nt=ot>.008856?ot:(nt-16/116)/7.787,tt=it>.008856?it:(tt-16/116)/7.787,rt=at>.008856?at:(rt-16/116)/7.787,tt*=95.047,nt*=100,rt*=108.883,[tt,nt,rt]};convert$2.lab.lch=function(j){const $=j[0],_e=j[1],et=j[2];let tt;tt=Math.atan2(et,_e)*360/2/Math.PI,tt<0&&(tt+=360);const rt=Math.sqrt(_e*_e+et*et);return[$,rt,tt]};convert$2.lch.lab=function(j){const $=j[0],_e=j[1],tt=j[2]/360*2*Math.PI,nt=_e*Math.cos(tt),rt=_e*Math.sin(tt);return[$,nt,rt]};convert$2.rgb.ansi16=function(j,$=null){const[_e,et,tt]=j;let nt=$===null?convert$2.rgb.hsv(j)[2]:$;if(nt=Math.round(nt/50),nt===0)return 30;let rt=30+(Math.round(tt/255)<<2|Math.round(et/255)<<1|Math.round(_e/255));return nt===2&&(rt+=60),rt};convert$2.hsv.ansi16=function(j){return convert$2.rgb.ansi16(convert$2.hsv.rgb(j),j[2])};convert$2.rgb.ansi256=function(j){const $=j[0],_e=j[1],et=j[2];return $===_e&&_e===et?$<8?16:$>248?231:Math.round(($-8)/247*24)+232:16+36*Math.round($/255*5)+6*Math.round(_e/255*5)+Math.round(et/255*5)};convert$2.ansi16.rgb=function(j){let $=j%10;if($===0||$===7)return j>50&&($+=3.5),$=$/10.5*255,[$,$,$];const _e=(~~(j>50)+1)*.5,et=($&1)*_e*255,tt=($>>1&1)*_e*255,nt=($>>2&1)*_e*255;return[et,tt,nt]};convert$2.ansi256.rgb=function(j){if(j>=232){const nt=(j-232)*10+8;return[nt,nt,nt]}j-=16;let $;const _e=Math.floor(j/36)/5*255,et=Math.floor(($=j%36)/6)/5*255,tt=$%6/5*255;return[_e,et,tt]};convert$2.rgb.hex=function(j){const _e=(((Math.round(j[0])&255)<<16)+((Math.round(j[1])&255)<<8)+(Math.round(j[2])&255)).toString(16).toUpperCase();return"000000".substring(_e.length)+_e};convert$2.hex.rgb=function(j){const $=j.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!$)return[0,0,0];let _e=$[0];$[0].length===3&&(_e=_e.split("").map(ot=>ot+ot).join(""));const et=parseInt(_e,16),tt=et>>16&255,nt=et>>8&255,rt=et&255;return[tt,nt,rt]};convert$2.rgb.hcg=function(j){const $=j[0]/255,_e=j[1]/255,et=j[2]/255,tt=Math.max(Math.max($,_e),et),nt=Math.min(Math.min($,_e),et),rt=tt-nt;let ot,it;return rt<1?ot=nt/(1-rt):ot=0,rt<=0?it=0:tt===$?it=(_e-et)/rt%6:tt===_e?it=2+(et-$)/rt:it=4+($-_e)/rt,it/=6,it%=1,[it*360,rt*100,ot*100]};convert$2.hsl.hcg=function(j){const $=j[1]/100,_e=j[2]/100,et=_e<.5?2*$*_e:2*$*(1-_e);let tt=0;return et<1&&(tt=(_e-.5*et)/(1-et)),[j[0],et*100,tt*100]};convert$2.hsv.hcg=function(j){const $=j[1]/100,_e=j[2]/100,et=$*_e;let tt=0;return et<1&&(tt=(_e-et)/(1-et)),[j[0],et*100,tt*100]};convert$2.hcg.rgb=function(j){const $=j[0]/360,_e=j[1]/100,et=j[2]/100;if(_e===0)return[et*255,et*255,et*255];const tt=[0,0,0],nt=$%1*6,rt=nt%1,ot=1-rt;let it=0;switch(Math.floor(nt)){case 0:tt[0]=1,tt[1]=rt,tt[2]=0;break;case 1:tt[0]=ot,tt[1]=1,tt[2]=0;break;case 2:tt[0]=0,tt[1]=1,tt[2]=rt;break;case 3:tt[0]=0,tt[1]=ot,tt[2]=1;break;case 4:tt[0]=rt,tt[1]=0,tt[2]=1;break;default:tt[0]=1,tt[1]=0,tt[2]=ot}return it=(1-_e)*et,[(_e*tt[0]+it)*255,(_e*tt[1]+it)*255,(_e*tt[2]+it)*255]};convert$2.hcg.hsv=function(j){const $=j[1]/100,_e=j[2]/100,et=$+_e*(1-$);let tt=0;return et>0&&(tt=$/et),[j[0],tt*100,et*100]};convert$2.hcg.hsl=function(j){const $=j[1]/100,et=j[2]/100*(1-$)+.5*$;let tt=0;return et>0&&et<.5?tt=$/(2*et):et>=.5&&et<1&&(tt=$/(2*(1-et))),[j[0],tt*100,et*100]};convert$2.hcg.hwb=function(j){const $=j[1]/100,_e=j[2]/100,et=$+_e*(1-$);return[j[0],(et-$)*100,(1-et)*100]};convert$2.hwb.hcg=function(j){const $=j[1]/100,et=1-j[2]/100,tt=et-$;let nt=0;return tt<1&&(nt=(et-tt)/(1-tt)),[j[0],tt*100,nt*100]};convert$2.apple.rgb=function(j){return[j[0]/65535*255,j[1]/65535*255,j[2]/65535*255]};convert$2.rgb.apple=function(j){return[j[0]/255*65535,j[1]/255*65535,j[2]/255*65535]};convert$2.gray.rgb=function(j){return[j[0]/100*255,j[0]/100*255,j[0]/100*255]};convert$2.gray.hsl=function(j){return[0,0,j[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(j){return[0,100,j[0]]};convert$2.gray.cmyk=function(j){return[0,0,0,j[0]]};convert$2.gray.lab=function(j){return[j[0],0,0]};convert$2.gray.hex=function(j){const $=Math.round(j[0]/100*255)&255,et=(($<<16)+($<<8)+$).toString(16).toUpperCase();return"000000".substring(et.length)+et};convert$2.rgb.gray=function(j){return[(j[0]+j[1]+j[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const j={},$=Object.keys(conversions$1);for(let _e=$.length,et=0;et<_e;et++)j[$[et]]={distance:-1,parent:null};return j}function deriveBFS(j){const $=buildGraph(),_e=[j];for($[j].distance=0;_e.length;){const et=_e.pop(),tt=Object.keys(conversions$1[et]);for(let nt=tt.length,rt=0;rt<nt;rt++){const ot=tt[rt],it=$[ot];it.distance===-1&&(it.distance=$[et].distance+1,it.parent=et,_e.unshift(ot))}}return $}function link(j,$){return function(_e){return $(j(_e))}}function wrapConversion(j,$){const _e=[$[j].parent,j];let et=conversions$1[$[j].parent][j],tt=$[j].parent;for(;$[tt].parent;)_e.unshift($[tt].parent),et=link(conversions$1[$[tt].parent][tt],et),tt=$[tt].parent;return et.conversion=_e,et}var route$1=function(j){const $=deriveBFS(j),_e={},et=Object.keys($);for(let tt=et.length,nt=0;nt<tt;nt++){const rt=et[nt];$[rt].parent!==null&&(_e[rt]=wrapConversion(rt,$))}return _e};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(j){const $=function(..._e){const et=_e[0];return et==null?et:(et.length>1&&(_e=et),j(_e))};return"conversion"in j&&($.conversion=j.conversion),$}function wrapRounded(j){const $=function(..._e){const et=_e[0];if(et==null)return et;et.length>1&&(_e=et);const tt=j(_e);if(typeof tt=="object")for(let nt=tt.length,rt=0;rt<nt;rt++)tt[rt]=Math.round(tt[rt]);return tt};return"conversion"in j&&($.conversion=j.conversion),$}models.forEach(j=>{convert$1[j]={},Object.defineProperty(convert$1[j],"channels",{value:conversions[j].channels}),Object.defineProperty(convert$1[j],"labels",{value:conversions[j].labels});const $=route(j);Object.keys($).forEach(et=>{const tt=$[et];convert$1[j][et]=wrapRounded(tt),convert$1[j][et].raw=wrapRaw(tt)})});var colorConvert=convert$1;const colorString=colorStringExports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const j of Object.keys(convert))hashedModelKeys[[...convert[j].labels].sort().join("")]=j;const limiters={};function Color(j,$){if(!(this instanceof Color))return new Color(j,$);if($&&$ in skippedModels&&($=null),$&&!($ in convert))throw new Error("Unknown model: "+$);let _e,et;if(j==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(j instanceof Color)this.model=j.model,this.color=[...j.color],this.valpha=j.valpha;else if(typeof j=="string"){const tt=colorString.get(j);if(tt===null)throw new Error("Unable to parse color from string: "+j);this.model=tt.model,et=convert[this.model].channels,this.color=tt.value.slice(0,et),this.valpha=typeof tt.value[et]=="number"?tt.value[et]:1}else if(j.length>0){this.model=$||"rgb",et=convert[this.model].channels;const tt=Array.prototype.slice.call(j,0,et);this.color=zeroArray(tt,et),this.valpha=typeof j[et]=="number"?j[et]:1}else if(typeof j=="number")this.model="rgb",this.color=[j>>16&255,j>>8&255,j&255],this.valpha=1;else{this.valpha=1;const tt=Object.keys(j);"alpha"in j&&(tt.splice(tt.indexOf("alpha"),1),this.valpha=typeof j.alpha=="number"?j.alpha:0);const nt=tt.sort().join("");if(!(nt in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(j));this.model=hashedModelKeys[nt];const{labels:rt}=convert[this.model],ot=[];for(_e=0;_e<rt.length;_e++)ot.push(j[rt[_e]]);this.color=zeroArray(ot)}if(limiters[this.model])for(et=convert[this.model].channels,_e=0;_e<et;_e++){const tt=limiters[this.model][_e];tt&&(this.color[_e]=tt(this.color[_e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(j){let $=this.model in colorString.to?this:this.rgb();$=$.round(typeof j=="number"?j:1);const _e=$.valpha===1?$.color:[...$.color,this.valpha];return colorString.to[$.model](_e)},percentString(j){const $=this.rgb().round(typeof j=="number"?j:1),_e=$.valpha===1?$.color:[...$.color,this.valpha];return colorString.to.rgb.percent(_e)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const j={},{channels:$}=convert[this.model],{labels:_e}=convert[this.model];for(let et=0;et<$;et++)j[_e[et]]=this.color[et];return this.valpha!==1&&(j.alpha=this.valpha),j},unitArray(){const j=this.rgb().color;return j[0]/=255,j[1]/=255,j[2]/=255,this.valpha!==1&&j.push(this.valpha),j},unitObject(){const j=this.rgb().object();return j.r/=255,j.g/=255,j.b/=255,this.valpha!==1&&(j.alpha=this.valpha),j},round(j){return j=Math.max(j||0,0),new Color([...this.color.map(roundToPlace(j)),this.valpha],this.model)},alpha(j){return j!==void 0?new Color([...this.color,Math.max(0,Math.min(1,j))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,j=>(j%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(j){return j!==void 0?new Color(j):convert[this.model].keyword(this.color)},hex(j){return j!==void 0?new Color(j):colorString.to.hex(this.rgb().round().color)},hexa(j){if(j!==void 0)return new Color(j);const $=this.rgb().round().color;let _e=Math.round(this.valpha*255).toString(16).toUpperCase();return _e.length===1&&(_e="0"+_e),colorString.to.hex($)+_e},rgbNumber(){const j=this.rgb().color;return(j[0]&255)<<16|(j[1]&255)<<8|j[2]&255},luminosity(){const j=this.rgb().color,$=[];for(const[_e,et]of j.entries()){const tt=et/255;$[_e]=tt<=.04045?tt/12.92:((tt+.055)/1.055)**2.4}return .2126*$[0]+.7152*$[1]+.0722*$[2]},contrast(j){const $=this.luminosity(),_e=j.luminosity();return $>_e?($+.05)/(_e+.05):(_e+.05)/($+.05)},level(j){const $=this.contrast(j);return $>=7?"AAA":$>=4.5?"AA":""},isDark(){const j=this.rgb().color;return(j[0]*2126+j[1]*7152+j[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const j=this.rgb();for(let $=0;$<3;$++)j.color[$]=255-j.color[$];return j},lighten(j){const $=this.hsl();return $.color[2]+=$.color[2]*j,$},darken(j){const $=this.hsl();return $.color[2]-=$.color[2]*j,$},saturate(j){const $=this.hsl();return $.color[1]+=$.color[1]*j,$},desaturate(j){const $=this.hsl();return $.color[1]-=$.color[1]*j,$},whiten(j){const $=this.hwb();return $.color[1]+=$.color[1]*j,$},blacken(j){const $=this.hwb();return $.color[2]+=$.color[2]*j,$},grayscale(){const j=this.rgb().color,$=j[0]*.3+j[1]*.59+j[2]*.11;return Color.rgb($,$,$)},fade(j){return this.alpha(this.valpha-this.valpha*j)},opaquer(j){return this.alpha(this.valpha+this.valpha*j)},rotate(j){const $=this.hsl();let _e=$.color[0];return _e=(_e+j)%360,_e=_e<0?360+_e:_e,$.color[0]=_e,$},mix(j,$){if(!j||!j.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof j);const _e=j.rgb(),et=this.rgb(),tt=$===void 0?.5:$,nt=2*tt-1,rt=_e.alpha()-et.alpha(),ot=((nt*rt===-1?nt:(nt+rt)/(1+nt*rt))+1)/2,it=1-ot;return Color.rgb(ot*_e.red()+it*et.red(),ot*_e.green()+it*et.green(),ot*_e.blue()+it*et.blue(),_e.alpha()*tt+et.alpha()*(1-tt))}};for(const j of Object.keys(convert)){if(skippedModels.includes(j))continue;const{channels:$}=convert[j];Color.prototype[j]=function(..._e){return this.model===j?new Color(this):_e.length>0?new Color(_e,j):new Color([...assertArray(convert[this.model][j].raw(this.color)),this.valpha],j)},Color[j]=function(..._e){let et=_e[0];return typeof et=="number"&&(et=zeroArray(_e,$)),new Color(et,j)}}function roundTo(j,$){return Number(j.toFixed($))}function roundToPlace(j){return function($){return roundTo($,j)}}function getset(j,$,_e){j=Array.isArray(j)?j:[j];for(const et of j)(limiters[et]||(limiters[et]=[]))[$]=_e;return j=j[0],function(et){let tt;return et!==void 0?(_e&&(et=_e(et)),tt=this[j](),tt.color[$]=et,tt):(tt=this[j]().color[$],_e&&(tt=_e(tt)),tt)}}function maxfn(j){return function($){return Math.max(0,Math.min(j,$))}}function assertArray(j){return Array.isArray(j)?j:[j]}function zeroArray(j,$){for(let _e=0;_e<$;_e++)typeof j[_e]!="number"&&(j[_e]=0);return j}var color=Color;const Color$1=getDefaultExportFromCjs(color);function convertColor(j,$=!0){if(!j)return null;const _e=new Uint8Array(4);if(new DataView(_e.buffer).setInt32(0,j),$){const[ot,it,at,ft]=_e;return`rgba(${ft},${at},${it},${ot===1?1:ot/255})`}const[,tt,nt,rt]=_e;return`rgb(${rt},${nt},${tt})`}function invertColor(j){return Color$1(j).negate().hex()}function getContrastColor(j){const $=Color$1(j),_e=$.red(),et=$.green(),tt=$.blue();return(_e*299+et*587+tt*114)/1e3>=128?"black":"white"}function defer$1(){let j,$;const _e=new Promise((et,tt)=>{j=et,$=tt});return{resolve:j,reject:$,promise:_e}}const hashString=j=>j.split("").reduce(($,_e)=>($=($<<5)-$+_e.charCodeAt(0),$&$),0);function prepareBaseUrl(j){const $=new URL(j);$.search="",$.hash="";let _e=$.toString();return _e=_e.slice(0,_e.lastIndexOf("/")+1),_e}function cyrb53(j,$=0){let _e=3735928559^$,et=1103547991^$;for(let tt=0,nt;tt<j.length;tt++)nt=j.charCodeAt(tt),_e=Math.imul(_e^nt,2654435761),et=Math.imul(et^nt,1597334677);return _e=Math.imul(_e^_e>>>16,2246822507)^Math.imul(et^et>>>13,3266489909),et=Math.imul(et^et>>>16,2246822507)^Math.imul(_e^_e>>>13,3266489909),(4294967296*(2097151&et)+(_e>>>0)).toString(16)}const PROXY_URL="https://proxy.qspider.xyz/";function fetchProxyFallback(j){return fetch(j).catch(()=>fetch(PROXY_URL+window.btoa(j)))}function throttle(j,$){let _e,et;return function(...tt){return _e||(_e=!0,setTimeout(()=>_e=!1,$),et=j.apply(this,tt)),et}}const scriptRel="modulepreload",assetsURL=function(j,$){return new URL(j,$).href},seen={},__vitePreload=function j($,_e,et){let tt=Promise.resolve();if(_e&&_e.length>0){const nt=document.getElementsByTagName("link"),rt=document.querySelector("meta[property=csp-nonce]"),ot=(rt==null?void 0:rt.nonce)||(rt==null?void 0:rt.getAttribute("nonce"));tt=Promise.all(_e.map(it=>{if(it=assetsURL(it,et),it in seen)return;seen[it]=!0;const at=it.endsWith(".css"),ft=at?'[rel="stylesheet"]':"";if(!!et)for(let dt=nt.length-1;dt>=0;dt--){const pt=nt[dt];if(pt.href===it&&(!at||pt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${ft}`))return;const ut=document.createElement("link");if(ut.rel=at?"stylesheet":scriptRel,at||(ut.as="script",ut.crossOrigin=""),ut.href=it,ot&&ut.setAttribute("nonce",ot),document.head.appendChild(ut),at)return new Promise((dt,pt)=>{ut.addEventListener("load",dt),ut.addEventListener("error",()=>pt(new Error(`Unable to preload CSS for ${it}`)))})}))}return tt.then(()=>$()).catch(nt=>{const rt=new Event("vite:preloadError",{cancelable:!0});if(rt.payload=nt,window.dispatchEvent(rt),!rt.defaultPrevented)throw nt})};var e$1;(function(j){j[j.ACTS=0]="ACTS",j[j.OBJS=1]="OBJS",j[j.VARS=2]="VARS",j[j.INPUT=3]="INPUT"})(e$1||(e$1={}));var t$1,n$1,r$1=(t$1=import.meta.url,function(j){j===void 0&&(j={});try{var $,_e,et,tt,nt,rt,ot,it,at,ft,st,ut,dt,pt,gt,yt,mt,vt,_t,Ct,At,kt,St=function(){var Vt,Zt,en=Object.assign({},wt),fn="./this.program",zt=function(jt,Qt){throw Qt},Wt="";if(rn){var sn=$("fs"),nn=$("path");Wt=$("url").fileURLToPath(new URL("./",import.meta.url)),Zt=function(jt){return jt=_e(jt)?new URL(jt):nn.normalize(jt),sn.readFileSync(jt)},Vt=function(jt,Qt){return Qt===void 0&&(Qt=!0),jt=_e(jt)?new URL(jt):nn.normalize(jt),new Promise(function(gn,_n){sn.readFile(jt,Qt?void 0:"utf8",function(On,Mn){On?_n(On):gn(Qt?Mn.buffer:Mn)})})},!wt.thisProgram&&process.argv.length>1&&(fn=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),zt=function(jt,Qt){throw process.exitCode=jt,Qt}}else(Ut||Yt)&&(Yt?Wt=self.location.href:typeof document<"u"&&document.currentScript&&(Wt=document.currentScript.src),t$1&&(Wt=t$1),Wt=Wt.startsWith("blob:")?"":Wt.substr(0,Wt.replace(/[?#].*/,"").lastIndexOf("/")+1),Yt&&(Zt=function(jt){var Qt=new XMLHttpRequest;return Qt.open("GET",jt,!1),Qt.responseType="arraybuffer",Qt.send(null),new Uint8Array(Qt.response)}),Vt=function(jt){return _e(jt)?new Promise(function(Qt,gn){var _n=new XMLHttpRequest;_n.open("GET",jt,!0),_n.responseType="arraybuffer",_n.onload=function(){(_n.status==200||_n.status==0&&_n.response)&&gn(_n.response),Qt(_n.status)},_n.onerror=Qt,_n.send(null)}):fetch(jt,{credentials:"same-origin"}).then(function(Qt){return Qt.ok?Qt.arrayBuffer():Promise.reject(new Error(Qt.status+" : "+Qt.url))})});wt.print||console.log.bind(console);var un,wn,vn=wt.printErr||console.error.bind(console);Object.assign(wt,en),en=null,wt.thisProgram&&(fn=wt.thisProgram),wt.quit&&(zt=wt.quit),wt.wasmBinary&&(un=wt.wasmBinary);var En,Cn,tn,bn,Jt,Sn=!1;function $n(){var jt=wn.buffer;wt.HEAP8=Cn=new Int8Array(jt),wt.HEAP16=new Int16Array(jt),wt.HEAPU8=tn=new Uint8Array(jt),wt.HEAPU16=new Uint16Array(jt),wt.HEAP32=bn=new Int32Array(jt),wt.HEAPU32=Jt=new Uint32Array(jt),wt.HEAPF32=new Float32Array(jt),wt.HEAPF64=new Float64Array(jt)}function xn(){if(!Sn){var jt=pt();jt==0&&(jt+=4);var Qt=Jt[jt>>2],gn=Jt[jt+4>>2];Qt==34821223&&gn==2310721022||fr("Stack overflow! Stack cookie has been overwritten at "+tt(jt)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+tt(gn)+" "+tt(Qt)),Jt[0]!=1668509029&&fr("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Hn=[],Qn=[],Kn=[],Yn=0,lr=null;function fr(jt){var Qt;(Qt=wt.onAbort)==null||Qt.call(wt,jt),vn(jt="Aborted("+jt+")"),Sn=!0,En=1,jt+=". Build with -sASSERTIONS for more info.";var gn=new WebAssembly.RuntimeError(jt);throw kt(gn),gn}var ur,mr=null,tr=function(jt){return jt.startsWith("data:application/octet-stream;base64,")};function Yr(jt){if(jt==ur&&un)return new Uint8Array(un);if(Zt)return Zt(jt);throw"both async and sync fetching of the wasm failed"}function Er(jt,Qt,gn){return function(_n){return un?Promise.resolve().then(function(){return Yr(_n)}):Vt(_n).then(function(On){return new Uint8Array(On)},function(){return Yr(_n)})}(jt).then(function(_n){return WebAssembly.instantiate(_n,Qt)}).then(gn,function(_n){vn("failed to asynchronously prepare wasm: "+_n),fr(_n)})}function Xr(jt){this.name="ExitStatus",this.message="Program terminated with exit("+jt+")",this.status=jt}_e=function(jt){return jt.startsWith("file://")},et=function(jt){for(;jt.length>0;)jt.shift()(wt)};var Pr=wt.noExitRuntime||!0;tt=function(jt){return"0x"+(jt>>>=0).toString(16).padStart(8,"0")},nt=function(){var jt=dt(),Qt=pt();yt(jt,Qt)};var jr=function(jt){var Qt=(jt-wn.buffer.byteLength+65535)/65536;try{return wn.grow(Qt),$n(),1}catch{}},$r={};rt=function(){if(!rt.strings){var jt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:fn||"./this.program"};for(var Qt in $r)$r[Qt]===void 0?delete jt[Qt]:jt[Qt]=$r[Qt];var gn=[];for(var Qt in jt)gn.push(Qt+"="+jt[Qt]);rt.strings=gn}return rt.strings};var dr=function(jt){try{return jt()}catch(Qt){fr(Qt)}},Vr=function(jt){if(jt instanceof Xr||jt=="unwind")return En;xn(),jt instanceof WebAssembly.RuntimeError&&gt()<=0&&vn("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),zt(1,jt)},kr=function(){return Pr||!1},gr=function(jt){if(!Sn)try{jt(),function(){if(!kr())try{En=Qt=En,En=gn=Qt,kr()||((_n=wt.onExit)==null||_n.call(wt,gn),Sn=!0),zt(gn,new Xr(gn))}catch(On){Vr(On)}var Qt,gn,_n}()}catch(Qt){Vr(Qt)}};ot={instrumentWasmImports:function(jt){for(var Qt=/^(invoke_.*|__asyncjs__.*)$/,gn=0,_n=Object.entries(jt);gn<_n.length;gn++){var On=_n[gn],Mn=On[1];typeof Mn=="function"&&(Mn.isAsync||Qt.test(On[0]))}},instrumentWasmExports:function(jt){for(var Qt={},gn=function(){var Mn=On[_n],qn=Mn[0],Nn=Mn[1];Qt[qn]=typeof Nn=="function"?function(){ot.exportCallStack.push(qn);try{return Nn.apply(void 0,[].slice.call(arguments))}finally{Sn||(ot.exportCallStack.pop(),ot.maybeStopUnwind())}}:Nn},_n=0,On=Object.entries(jt);_n<On.length;_n++)gn();return Qt},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:16384,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId:function(jt){var Qt=ot.callStackNameToId[jt];return Qt===void 0&&(Qt=ot.callStackId++,ot.callStackNameToId[jt]=Qt,ot.callStackIdToName[Qt]=jt),Qt},maybeStopUnwind:function(){ot.currData&&ot.state===ot.State.Unwinding&&ot.exportCallStack.length===0&&(ot.state=ot.State.Normal,dr(vt),typeof Fibers<"u"&&Fibers.trampoline())},whenDone:function(){return new Promise(function(jt,Qt){ot.asyncPromiseHandlers={resolve:jt,reject:Qt}})},allocateData:function(){var jt=st(12+ot.StackSize);return ot.setDataHeader(jt,jt+12,ot.StackSize),ot.setDataRewindFunc(jt),jt},setDataHeader:function(jt,Qt,gn){Jt[jt>>2]=Qt,Jt[jt+4>>2]=Qt+gn},setDataRewindFunc:function(jt){var Qt=ot.getCallStackId(ot.exportCallStack[0]);bn[jt+8>>2]=Qt},getDataRewindFuncName:function(jt){return ot.callStackIdToName[bn[jt+8>>2]]},getDataRewindFunc:function(jt){return ft[jt]},doRewind:function(jt){var Qt=ot.getDataRewindFuncName(jt);return ot.getDataRewindFunc(Qt)()},handleSleep:function(jt){if(!Sn){if(ot.state===ot.State.Normal){var Qt=!1,gn=!1;jt(function(_n){if(_n===void 0&&(_n=0),!Sn&&(ot.handleSleepReturnValue=_n,Qt=!0,gn)){ot.state=ot.State.Rewinding,dr(function(){return _t(ot.currData)}),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var On,Mn=!1;try{On=ot.doRewind(ot.currData)}catch(Dn){On=Dn,Mn=!0}var qn=!1;if(!ot.currData){var Nn=ot.asyncPromiseHandlers;Nn&&(ot.asyncPromiseHandlers=null,(Mn?Nn.reject:Nn.resolve)(On),qn=!0)}if(Mn&&!qn)throw On}}),gn=!0,Qt||(ot.state=ot.State.Unwinding,ot.currData=ot.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),dr(function(){return mt(ot.currData)}))}else ot.state===ot.State.Rewinding?(ot.state=ot.State.Normal,dr(Ct),ut(ot.currData),ot.currData=null,ot.sleepCallbacks.forEach(gr)):fr("invalid state: "+ot.state);return ot.handleSleepReturnValue}},handleAsync:function(jt){return ot.handleSleep(function(Qt){jt().then(Qt)})}};var or,qr=function(jt,Qt){jt<128?Qt.push(jt):Qt.push(jt%128|128,jt>>7)},er=[],yn=[],_r=function(jt,Qt){or.set(jt,Qt),er[jt]=or.get(jt)};at={a:function(jt){var Qt=dt(),gn=pt();fr("stack overflow (Attempt to set SP to "+tt(jt)+", with stack limits ["+tt(gn)+" - "+tt(Qt)+"]). If you require more stack space build with -sSTACK_SIZE=<bytes>")},f:function(jt,Qt,gn){return tn.copyWithin(jt,Qt,Qt+gn)},e:function(){return Date.now()},b:function(jt){var Qt=tn.length,gn=2147483648;if((jt>>>=0)>gn)return!1;for(var _n,On=1;On<=4;On*=2){var Mn=Qt*(1+.2/On);Mn=Math.min(Mn,jt+100663296);var qn=Math.min(gn,(_n=Math.max(jt,Mn))+(65536-_n%65536)%65536);if(jr(qn))return!0}return!1},c:function(jt,Qt){var gn=0;return rt().forEach(function(_n,On){var Mn=Qt+gn;Jt[jt+4*On>>2]=Mn,function(qn,Nn){for(var Dn=0;Dn<qn.length;++Dn)Cn[Nn++]=qn.charCodeAt(Dn);Cn[Nn]=0}(_n,Mn),gn+=_n.length+1}),0},d:function(jt,Qt){var gn=rt();Jt[jt>>2]=gn.length;var _n=0;return gn.forEach(function(On){return _n+=On.length+1}),Jt[Qt>>2]=_n,0}},ft=function(){var jt,Qt,gn,_n,On,Mn={a:at};function qn(Nn,Dn){return ft=ot.instrumentWasmExports(ft=Nn.exports),wn=ft.g,$n(),or=ft.m,Qn.unshift(ft.h),function(nr){var Xn;if(Yn--,(Xn=wt.monitorRunDependencies)==null||Xn.call(wt,Yn),Yn==0&&(lr!==null&&(clearInterval(lr),lr=null),mr)){var Tn=mr;mr=null,Tn()}}(),ft}if(Yn++,(jt=wt.monitorRunDependencies)==null||jt.call(wt,Yn),wt.instantiateWasm)try{return wt.instantiateWasm(Mn,qn)}catch(Nn){vn("Module.instantiateWasm callback failed with error: "+Nn),kt(Nn)}return ur||(ur=function(){if(wt.locateFile){var Nn="qsp-engine.wasm";return tr(Nn)?Nn:(Dn=Nn,wt.locateFile?wt.locateFile(Dn,Wt):Wt+Dn)}var Dn;return new URL(""+new URL("qsp-engine-BESN2tea.wasm",import.meta.url).href,import.meta.url).href}()),(Qt=un,gn=ur,_n=Mn,On=function(Nn){qn(Nn.instance)},Qt||typeof WebAssembly.instantiateStreaming!="function"||tr(gn)||_e(gn)||rn||typeof fetch!="function"?Er(gn,_n,On):fetch(gn,{credentials:"same-origin"}).then(function(Nn){return WebAssembly.instantiateStreaming(Nn,_n).then(On,function(Dn){return vn("wasm streaming compile failed: "+Dn),vn("falling back to ArrayBuffer instantiation"),Er(gn,_n,On)})})).catch(kt),{}}(),wt._init=function(){return(wt._init=ft.i)()},wt._dispose=function(){return(wt._dispose=ft.j)()},wt._getVersion=function(jt){return(wt._getVersion=ft.k)(jt)},wt._setErrorCallback=function(jt){return(wt._setErrorCallback=ft.l)(jt)},wt._getMainDesc=function(jt){return(wt._getMainDesc=ft.n)(jt)},wt._isMainDescChanged=function(){return(wt._isMainDescChanged=ft.o)()},wt._getVarsDesc=function(jt){return(wt._getVarsDesc=ft.p)(jt)},wt._isVarsDescChanged=function(){return(wt._isVarsDescChanged=ft.q)()},wt._getActions=function(jt){return(wt._getActions=ft.r)(jt)},st=wt._malloc=function(jt){return(st=wt._malloc=ft.s)(jt)},wt._selectAction=function(jt){return(wt._selectAction=ft.t)(jt)},wt._executeSelAction=function(){return(wt._executeSelAction=ft.u)()},wt._isActionsChanged=function(){return(wt._isActionsChanged=ft.v)()},wt._getObjects=function(jt){return(wt._getObjects=ft.w)(jt)},wt._selectObject=function(jt){return(wt._selectObject=ft.x)(jt)},wt._isObjectsChanged=function(){return(wt._isObjectsChanged=ft.y)()},wt._loadGameData=function(jt,Qt,gn){return(wt._loadGameData=ft.z)(jt,Qt,gn)},wt._restartGame=function(){return(wt._restartGame=ft.A)()},wt._saveGameData=function(jt){return(wt._saveGameData=ft.B)(jt)},ut=wt._free=function(jt){return(ut=wt._free=ft.C)(jt)},wt._loadSavedGameData=function(jt,Qt){return(wt._loadSavedGameData=ft.D)(jt,Qt)},wt._execString=function(jt,Qt){return(wt._execString=ft.E)(jt,Qt)},wt._execExpression=function(jt){return(wt._execExpression=ft.F)(jt)},wt._execCounter=function(){return(wt._execCounter=ft.G)()},wt._execLoc=function(jt){return(wt._execLoc=ft.H)(jt)},wt._execUserInput=function(jt){return(wt._execUserInput=ft.I)(jt)},wt._getLastErrorNum=function(){return(wt._getLastErrorNum=ft.J)()},wt._getLastErrorLoc=function(jt){return(wt._getLastErrorLoc=ft.K)(jt)},wt._getLastErrorActIndex=function(){return(wt._getLastErrorActIndex=ft.L)()},wt._getLastErrorLine=function(){return(wt._getLastErrorLine=ft.M)()},wt._getErrorDesc=function(jt,Qt){return(wt._getErrorDesc=ft.N)(jt,Qt)},wt._getVarStringValue=function(jt,Qt,gn){return(wt._getVarStringValue=ft.O)(jt,Qt,gn)},wt._getVarNumValue=function(jt,Qt){return(wt._getVarNumValue=ft.P)(jt,Qt)},wt._getVarStringValueByKey=function(jt,Qt,gn){return(wt._getVarStringValueByKey=ft.Q)(jt,Qt,gn)},wt._getVarNumValueByKey=function(jt,Qt){return(wt._getVarNumValueByKey=ft.R)(jt,Qt)},wt._getVarSize=function(jt){return(wt._getVarSize=ft.S)(jt)},wt._initCallBacks=function(){return(wt._initCallBacks=ft.T)()},wt._setCallBack=function(jt,Qt){return(wt._setCallBack=ft.U)(jt,Qt)},wt._freeItemsList=function(jt){return(wt._freeItemsList=ft.V)(jt)},wt._freeSaveBuffer=function(jt){return(wt._freeSaveBuffer=ft.W)(jt)},wt._freeStringsBuffer=function(jt){return(wt._freeStringsBuffer=ft.X)(jt)},wt._enableDebugMode=function(){return(wt._enableDebugMode=ft.Y)()},wt._disableDebugMode=function(){return(wt._disableDebugMode=ft.Z)()},wt._getCurStateLoc=function(jt){return(wt._getCurStateLoc=ft._)(jt)},wt._getCurStateLine=function(){return(wt._getCurStateLine=ft.$)()},wt._getCurStateActIndex=function(){return(wt._getCurStateActIndex=ft.aa)()},wt._getLocationsList=function(jt){return(wt._getLocationsList=ft.ba)(jt)},wt._getLocationCode=function(jt,Qt){return(wt._getLocationCode=ft.ca)(jt,Qt)},wt._getActionCode=function(jt,Qt,gn){return(wt._getActionCode=ft.da)(jt,Qt,gn)};var sr,Or=function(){return(Or=ft.ea)()};function mn(){function jt(){var gn;sr||(sr=!0,wt.calledRun=!0,Sn||(xn(),nt(),et(Qn),At(wt),(gn=wt.onRuntimeInitialized)==null||gn.call(wt),function(){if(xn(),wt.postRun)for(typeof wt.postRun=="function"&&(wt.postRun=[wt.postRun]);wt.postRun.length;)_n=wt.postRun.shift(),Kn.unshift(_n);var _n;et(Kn)}()))}var Qt;Yn>0||(Or(),(Qt=pt())==0&&(Qt+=4),Jt[Qt>>2]=34821223,Jt[Qt+4>>2]=2310721022,Jt[0]=1668509029,function(){if(wt.preRun)for(typeof wt.preRun=="function"&&(wt.preRun=[wt.preRun]);wt.preRun.length;)gn=wt.preRun.shift(),Hn.unshift(gn);var gn;et(Hn)}(),Yn>0||(wt.setStatus?(wt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){wt.setStatus("")},1),jt()},1)):jt(),xn()))}if(dt=function(){return(dt=ft.fa)()},pt=function(){return(pt=ft.ga)()},gt=function(){return(gt=ft.ha)()},yt=wt.___set_stack_limits=function(jt,Qt){return(yt=wt.___set_stack_limits=ft.ia)(jt,Qt)},mt=function(jt){return(mt=ft.ja)(jt)},vt=function(){return(vt=ft.ka)()},_t=function(jt){return(_t=ft.la)(jt)},Ct=function(){return(Ct=ft.ma)()},wt.addFunction=function(jt,Qt){var gn=function(Mn){return it||(it=new WeakMap,function(qn,Nn){if(it)for(var Dn=0;Dn<0+Nn;Dn++){var nr=(Tn=void 0,(Tn=er[Xn=Dn])||(Xn>=er.length&&(er.length=Xn+1),er[Xn]=Tn=or.get(Xn)),Tn);nr&&it.set(nr,Dn)}var Xn,Tn}(0,or.length)),it.get(Mn)||0}(jt);if(gn)return gn;var _n=function(){if(yn.length)return yn.pop();try{or.grow(1)}catch(Mn){throw Mn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Mn}return or.length-1}();try{_r(_n,jt)}catch(Mn){if(!(Mn instanceof TypeError))throw Mn;var On=function(qn,Nn){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(function(Tn){for(var Fn={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Nr={parameters:[],results:Tn[0]=="v"?[]:[Fn[Tn[0]]]},ir=1;ir<Tn.length;++ir)Nr.parameters.push(Fn[Tn[ir]]);return Nr}(Nn),qn);var Dn=[1];(function(Tn,Fn){var Nr=Tn.slice(0,1),ir=Tn.slice(1),Ir={i:127,p:127,j:126,f:125,d:124,e:111};Fn.push(96),qr(ir.length,Fn);for(var wr=0;wr<ir.length;++wr)Fn.push(Ir[ir[wr]]);Nr=="v"?Fn.push(0):Fn.push(1,Ir[Nr])})(Nn,Dn);var nr=[0,97,115,109,1,0,0,0,1];qr(Dn.length,nr),nr.push.apply(nr,Dn),nr.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Xn=new WebAssembly.Module(new Uint8Array(nr));return new WebAssembly.Instance(Xn,{e:{f:qn}}).exports.f}(jt,Qt);_r(_n,On)}return it.set(jt,_n),_n},wt.Asyncify=ot,mr=function jt(){sr||mn(),sr||(mr=jt)},wt.preInit)for(typeof wt.preInit=="function"&&(wt.preInit=[wt.preInit]);wt.preInit.length>0;)wt.preInit.pop()();return mn(),It},wt=j,It=new Promise(function(Vt,Zt){At=Vt,kt=Zt}),Ut=typeof window=="object",Yt=typeof importScripts=="function",rn=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",hn=function(){if(rn)return Promise.resolve(__vitePreload(()=>import("./__vite-browser-external-D7Ct-6yo.js").then(Vt=>Vt._),[],import.meta.url)).then(function(Vt){$=(0,Vt.createRequire)(import.meta.url)})}();return Promise.resolve(hn&&hn.then?hn.then(St):St())}catch(Vt){return Promise.reject(Vt)}});function i(j,$){($==null||$>j.length)&&($=j.length);for(var _e=0,et=new Array($);_e<$;_e++)et[_e]=j[_e];return et}function o$1(j,$){var _e=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(_e)return(_e=_e.call(j)).next.bind(_e);if(Array.isArray(j)||(_e=function(tt,nt){if(tt){if(typeof tt=="string")return i(tt,nt);var rt=Object.prototype.toString.call(tt).slice(8,-1);return rt==="Object"&&tt.constructor&&(rt=tt.constructor.name),rt==="Map"||rt==="Set"?Array.from(tt):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?i(tt,nt):void 0}}(j))||$){_e&&(j=_e);var et=0;return function(){return et>=j.length?{done:!0}:{done:!1,value:j[et++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(j){return j._malloc(4)}function u(j,$){return b(j,$)}function s$1(j,$){return $===void 0&&($=1),j+4*$}function c(j,$){j._free($)}function l(j,$){return b(j,$)}function f(j,$){var _e=u(j,$);return _e?function(et,tt,nt){for(var rt=0,ot=[];!(rt>=nt/4);){var it=et.HEAP32[tt+4*rt>>2];if(it==0)break;if(++rt,it>=65536){var at=it-65536;ot.push(String.fromCharCode(55296|at>>10,56320|1023&at))}else ot.push(String.fromCharCode(it))}return ot.join("")}(j,_e,u(j,s$1($))-_e):""}function d(j,$){var _e=function(tt){for(var nt=0,rt=0;rt<tt.length;++rt){var ot=tt.charCodeAt(rt);ot>=55296&&ot<=57343&&++rt,nt+=4}return nt}($),et=j._malloc(_e+4);return E(j,$,et,_e+4),et}function h(j,$){var _e=function(tt){return tt._malloc(8)}(j);$(_e);var et=f(j,_e);return c(j,_e),et}function m(j,$,_e){var et=d(j,$);_e(et),j._free(et)}function v(j,$){var _e=a(j),et=$(_e),tt=S(j,et,l(j,_e));return j._freeItemsList(et),c(j,_e),tt}function g(j,$){var _e=a(j),et=$(_e),tt=function(nt,rt,ot){for(var it=[],at=rt,ft=0;ft<ot;++ft){var st=f(nt,at);at=s$1(at,2),it.push(st)}return it}(j,et,l(j,_e));return j._freeStringsBuffer(et),c(j,_e),tt}function p(j,$,_e){var et=new Uint8Array($),tt=j._malloc(et.length);j.HEAPU8.set(et,tt),_e(tt,et.length),j._free(tt)}function S(j,$,_e){for(var et=[],tt=$,nt=0;nt<_e;nt++){var rt=f(j,tt),ot=f(j,tt=s$1(tt,2));tt=s$1(tt,2),et.push({name:ot,image:rt})}return et}function _$1(j,$){return j.Asyncify.handleSleep(function(_e){$(function(et){return _e(et||0)})})}function b(j,$){return j.HEAP32[$>>2]}function E(j,$,_e,et){if(et===void 0&&(et=2147483647),et<4)return 0;for(var tt=_e,nt=tt+et-4,rt=0;rt<$.length;++rt){var ot=$.charCodeAt(rt);if(ot>=55296&&ot<=57343&&(ot=65536+((1023&ot)<<10)|1023&$.charCodeAt(++rt)),j.HEAP32[_e>>2]=ot,(_e+=4)+4>nt)break}return j.HEAP32[_e>>2]=0,_e-tt}(function(j){j[j.DEBUG=0]="DEBUG",j[j.ISPLAYINGFILE=1]="ISPLAYINGFILE",j[j.PLAYFILE=2]="PLAYFILE",j[j.CLOSEFILE=3]="CLOSEFILE",j[j.SHOWIMAGE=4]="SHOWIMAGE",j[j.SHOWWINDOW=5]="SHOWWINDOW",j[j.SHOWMENU=6]="SHOWMENU",j[j.SHOWMSGSTR=7]="SHOWMSGSTR",j[j.REFRESHINT=8]="REFRESHINT",j[j.SETTIMER=9]="SETTIMER",j[j.SETINPUTSTRTEXT=10]="SETINPUTSTRTEXT",j[j.SYSTEM=11]="SYSTEM",j[j.OPENGAME=12]="OPENGAME",j[j.OPENGAMESTATUS=13]="OPENGAMESTATUS",j[j.SAVEGAMESTATUS=14]="SAVEGAMESTATUS",j[j.SLEEP=15]="SLEEP",j[j.GETMSCOUNT=16]="GETMSCOUNT",j[j.INPUTBOX=17]="INPUTBOX",j[j.VERSION=18]="VERSION",j[j.DUMMY=19]="DUMMY"})(n$1||(n$1={}));var y=function(){function j(_e){var et=this;this.module=void 0,this.listeners=new Map,this.variableWatchers=new Set,this.variableValues=new Map,this.expressionWatchers=new Set,this.expressionValues=new Map,this.time=Date.now(),this.staticStrings=new Map,this.onError=function(){var tt=et.readError();et.emit("error",tt||{code:-1,description:"Unknown error",location:"",actionIndex:-1,line:-1})},this.onRefresh=function(tt){if(tt||et.module._isMainDescChanged()){var nt=h(et.module,function(at){return et.module._getMainDesc(at)});et.emit("main_changed",nt)}if(tt||et.module._isVarsDescChanged()){var rt=h(et.module,function(at){return et.module._getVarsDesc(at)});et.emit("stats_changed",rt)}if(tt||et.module._isActionsChanged()){var ot=v(et.module,function(at){return et.module._getActions(at)});et.emit("actions_changed",ot)}if(tt||et.module._isObjectsChanged()){var it=v(et.module,function(at){return et.module._getObjects(at)});et.emit("objects_changed",it)}setTimeout(function(){return et.reportWatched()},0)},this.onShowWindow=function(tt,nt){et.emit("panel_visibility",tt,nt)},this.onMenu=function(tt,nt){var rt=S(et.module,tt,nt);return _$1(et.module,function(ot){et.emit("menu",rt,function(it){ot(it)})})},this.onMsg=function(tt){et.onRefresh(!1);var nt=f(et.module,tt);return _$1(et.module,function(rt){et.emit("msg",nt,function(){rt()})})},this.onInput=function(tt,nt,rt){et.onRefresh(!1);var ot=f(et.module,tt);return _$1(et.module,function(it){et.emit("input",ot,function(at){E(et.module,at,nt,rt),it()})})},this.onVersion=function(tt,nt,rt){var ot=f(et.module,tt);return _$1(et.module,function(it){et.emit("version",ot,function(at){E(et.module,at,nt,rt),it()})})},this.onWait=function(tt){return _$1(et.module,function(nt){et.emit("wait",tt,function(){nt()})})},this.onSetTimer=function(tt){et.emit("timer",tt)},this.onSetUserInput=function(tt){var nt=f(et.module,tt);et.emit("user_input",nt)},this.onView=function(tt){var nt=f(et.module,tt);et.emit("view",nt)},this.onDebug=function(tt){var nt=f(et.module,tt),rt=h(et.module,function(at){return et.module._getCurStateLoc(at)}),ot=et.module._getCurStateLine(),it=et.module._getCurStateActIndex();return _$1(et.module,function(at){et.emit("debug",{code:nt,loc:rt,line:ot,actIndex:it},at)})},this.onSystemCmd=function(tt){et.onRefresh(!1);var nt=f(et.module,tt);et.emit("system_cmd",nt)},this.onGetMS=function(){var tt=Date.now()-et.time;return et.time=Date.now(),tt},this.onOpenGame=function(tt,nt){var rt=f(et.module,tt);return _$1(et.module,function(ot){et.emit("open_game",rt,nt,function(){ot()})})},this.onOpenGameStatus=function(tt){var nt=f(et.module,tt);return _$1(et.module,function(rt){et.emit("load_save",nt,function(){rt()})})},this.onSaveGameStatus=function(tt){var nt=f(et.module,tt);return _$1(et.module,function(rt){et.emit("save_game",nt,function(){rt()})})},this.onIsPlay=function(tt){var nt=f(et.module,tt);return _$1(et.module,function(rt){et.emit("is_play",nt,function(ot){rt(ot?1:0)})})},this.onPlayFile=function(tt,nt){var rt=f(et.module,tt);return _$1(et.module,function(ot){et.emit("play_file",rt,nt,function(){ot()})})},this.onCloseFile=function(tt){var nt=f(et.module,tt);return _$1(et.module,function(rt){et.emit("close_file",nt,function(){rt()})})},this.module=_e,this.init()}var $=j.prototype;return $.on=function(_e,et){var tt,nt=(tt=this.listeners.get(_e))!=null?tt:[];nt.push(et),this.listeners.set(_e,nt)},$.off=function(_e,et){var tt,nt=(tt=this.listeners.get(_e))!=null?tt:[];(nt=nt.filter(function(rt){return rt!==et})).length?this.listeners.set(_e,nt):this.listeners.delete(_e)},$.watchVariable=function(_e,et,tt){var nt=this,rt=this.readVariable(_e,et);tt(rt);var ot=function(){var it=nt.readVariable(_e,et);rt!==it&&tt(rt=it)};return this.variableWatchers.add(ot),function(){nt.variableWatchers.delete(ot)}},$.watchVariableByKey=function(_e,et,tt){var nt=this,rt=this.readVariableByKey(_e,et);tt(rt);var ot=function(){var it=nt.readVariableByKey(_e,et);rt!==it&&tt(rt=it)};return this.variableWatchers.add(ot),function(){nt.variableWatchers.delete(ot)}},$.watchExpression=function(_e,et){var tt=this,nt=this.evalExpression(_e);et(nt);var rt=function(){var ot=tt.evalExpression(_e);nt!==ot&&et(nt=ot)};return this.expressionWatchers.add(rt),function(){tt.expressionWatchers.delete(rt)}},$.evalExpression=function(_e){if(this.expressionValues.has(_e))return this.expressionValues.get(_e);this.execExpression("qspider_result = "+_e);var et=this.readVariable("qspider_result",0,!1);return this.expressionValues.set(_e,et),et},$.emit=function(_e){var et,tt=[].slice.call(arguments,1);console.log({event:_e,args:tt});for(var nt,rt=(et=this.listeners.get(_e))!=null?et:[],ot=o$1(rt);!(nt=ot()).done;){var it=nt.value;it.apply(void 0,tt)}},$.openGame=function(_e,et){var tt=this;p(this.module,_e,function(nt,rt){return tt.module._loadGameData(nt,rt,et?1:0)})},$.saveGame=function(){var _e=this;return function(et,tt){var nt=a(et),rt=_e.module._saveGameData(nt),ot=b(et,nt);if(!ot)return c(et,nt),null;var it=et.HEAPU8.slice(rt,rt+ot);return et._freeSaveBuffer(rt),c(et,nt),it.buffer}(this.module)||(this.onError(),null)},$.loadSave=function(_e){var et=this;p(this.module,_e,function(tt,nt){return et.module._loadSavedGameData(tt,nt)})},$.restartGame=function(){this.time=Date.now(),this.module._restartGame()},$.selectAction=function(_e){this.module._selectAction(_e)},$.execSelectedAction=function(){this.module._executeSelAction()},$.selectObject=function(_e){this.module._selectObject(_e)},$.version=function(){var _e=this;return h(this.module,function(et){return _e.module._getVersion(et)})},$.getStaticStringPointer=function(_e){var et=_e.toLocaleUpperCase(),tt=this.staticStrings.get(et);if(tt)return tt;var nt=d(this.module,_e);return this.staticStrings.set(et,nt),nt},$.readVariable=function(_e,et,tt){tt===void 0&&(tt=!1);var nt=_e+"["+(et||0)+"]";if(tt&&this.variableValues.has(nt))return this.variableValues.get(nt);if(_e.startsWith("$")){var rt=this.readVariableString(_e,et);return this.variableValues.set(nt,rt),rt}var ot=this.readVariableNumber(_e,et);return this.variableValues.set(nt,ot),ot},$.readVariableByKey=function(_e,et){var tt=_e+"["+et+"]";if(this.variableValues.has(tt))return this.variableValues.get(tt);if(_e.startsWith("$")){var nt=this.readVariableStringByKey(_e,et);return this.variableValues.set(tt,nt),nt}var rt=this.readVariableNumberByKey(_e,et);return this.variableValues.set(tt,rt),rt},$.readVariableNumber=function(_e,et){et===void 0&&(et=0);var tt=this.getStaticStringPointer(_e.toLocaleUpperCase());return this.module._getVarNumValue(tt,et)},$.readVariableNumberByKey=function(_e,et){var tt=this.getStaticStringPointer(_e.toLocaleUpperCase()),nt=this.getStaticStringPointer(et.toLocaleUpperCase());return this.module._getVarNumValueByKey(tt,nt)},$.readVariableString=function(_e,et){var tt=this;et===void 0&&(et=0);var nt=this.getStaticStringPointer(_e.toLocaleUpperCase());return h(this.module,function(rt){return tt.module._getVarStringValue(nt,et,rt)})},$.readVariableStringByKey=function(_e,et){var tt=this,nt=this.getStaticStringPointer(_e.toLocaleUpperCase()),rt=this.getStaticStringPointer(et.toLocaleUpperCase());return h(this.module,function(ot){return tt.module._getVarStringValueByKey(nt,rt,ot)})},$.readVariableSize=function(_e){var et=this.getStaticStringPointer(_e.toLocaleUpperCase());return this.module._getVarSize(et)},$.execCode=function(_e,et){var tt=this;et===void 0&&(et=!0),m(this.module,_e,function(nt){return tt.module._execString(nt,et?1:0)})},$.execExpression=function(_e){var et=this;m(this.module,_e,function(tt){return et.module._execExpression(tt)})},$.execCounter=function(){this.module._execCounter()},$.execLoc=function(_e){var et=this;m(this.module,_e,function(tt){return et.module._execLoc(tt)})},$.updateUserInput=function(_e){var et=this;m(this.module,_e,function(tt){return et.module._execUserInput(tt)})},$.enableDebugMode=function(){this.module._enableDebugMode()},$.disableDebugMode=function(){this.module._disableDebugMode()},$.getLocationsList=function(){var _e=this;return g(this.module,function(et){return _e.module._getLocationsList(et)})},$.getLocationCode=function(_e){var et=this,tt=this.getStaticStringPointer(_e);return g(this.module,function(nt){return et.module._getLocationCode(tt,nt)})},$.getActionCode=function(_e,et){var tt=this,nt=this.getStaticStringPointer(_e);return g(this.module,function(rt){return tt.module._getActionCode(nt,et,rt)})},$.init=function(){this.module._init(),this.module._initCallBacks(),this.registerCallbacks()},$.registerCallbacks=function(){this.module._setErrorCallback(this.module.addFunction(this.onError,"i"));for(var _e=0,et=[[n$1.REFRESHINT,this.onRefresh,"ii"],[n$1.SHOWWINDOW,this.onShowWindow,"iii"],[n$1.SHOWMENU,this.onMenu,"iii"],[n$1.SHOWMSGSTR,this.onMsg,"ii"],[n$1.INPUTBOX,this.onInput,"iiii"],[n$1.SLEEP,this.onWait,"ii"],[n$1.SETTIMER,this.onSetTimer,"ii"],[n$1.SETINPUTSTRTEXT,this.onSetUserInput,"ii"],[n$1.SHOWIMAGE,this.onView,"ii"],[n$1.DEBUG,this.onDebug,"ii"],[n$1.GETMSCOUNT,this.onGetMS,"i"],[n$1.OPENGAME,this.onOpenGame,"iii"],[n$1.OPENGAMESTATUS,this.onOpenGameStatus,"ii"],[n$1.SAVEGAMESTATUS,this.onSaveGameStatus,"ii"],[n$1.ISPLAYINGFILE,this.onIsPlay,"ii"],[n$1.PLAYFILE,this.onPlayFile,"iii"],[n$1.CLOSEFILE,this.onCloseFile,"ii"],[n$1.SYSTEM,this.onSystemCmd,"ii"],[n$1.VERSION,this.onVersion,"iiii"]];_e<et.length;_e++){var tt=et[_e];this.registerCallback(tt[0],tt[1],tt[2])}},$.registerCallback=function(_e,et,tt){this.module._setCallBack(_e,this.module.addFunction(et,tt))},$.clearCache=function(){this.variableValues.clear(),this.expressionValues.clear()},$.reportWatched=function(){this.clearCache();for(var _e,et=o$1(this.variableWatchers.values());!(_e=et()).done;)(0,_e.value)();for(var tt,nt=o$1(this.expressionWatchers.values());!(tt=nt()).done;)(0,tt.value)()},$.readError=function(){var _e=this,et=this.module._getLastErrorNum();return et?{code:et,location:h(this.module,function(tt){return _e.module._getLastErrorLoc(tt)}),description:h(this.module,function(tt){return _e.module._getErrorDesc(tt,et)}),actionIndex:this.module._getLastErrorActIndex(),line:this.module._getLastErrorLine()}:null},$.toJSON=function(){return"[QSP API]"},j}();function A(j){return new Promise(function($){r$1({wasmBinary:j}).then(function(_e){$(new y(_e))})})}const wasmUrl=""+new URL("qsp-engine-BESN2tea.wasm",import.meta.url).href,mainContent$=atom(""),nextMainContent$=atom(""),isNewLoc$=atom(!1),newLocHash$=atom(""),mainScroll$=atom(0),isStatsVisible$=atom(!1),statsContent$=atom(""),statsScroll$=atom(0),isActsVisible$=atom(!1),actions$=atom([]),selectedAction$=atom(-1);function canSelectAction(j){return j>=0&&j<actions$.value.length}function selectAction(j){var $;selectedAction$.set(j),($=qspApi$.value)==null||$.selectAction(j)}function execSelectedAction(){var j;selectedAction$.set(-1),(j=qspApi$.value)==null||j.execSelectedAction()}const isObjsVisible$=atom(!1),selectedObject$=atom(-1),objects$=atom([]);function selectObject(j){var $;($=qspApi$.value)==null||$.selectObject(j)}const isCmdVisible$=atom(!1),cmdText$=atom("");function submitUserInput(){var j;(j=qspApi$.value)==null||j.updateUserInput(cmdText$.value)}const view$=atom({isOpen:!1,path:"",isModal:!1},j=>{const $=j.focus(et=>et.isOpen),_e=j.focus(et=>et.isModal);return{open(et){j.set({isOpen:!0,path:et,isModal:_e.value})},setIsModal(et){_e.set(et)},close(){$.set(!1)},clear(){j.set({isOpen:!1,path:"",isModal:!1})}}}),regions$=atom({}),regionsScroll$=atom({});function reloadRegions(){var $;const j={};for(const _e of Object.keys(regions$.value))j[_e]=(($=qspApi$.value)==null?void 0:$.readVariableByKey("$qspider_region",_e))??"";regions$.set(j)}const layers$=atom({});function readLayerState(j){var $;return!!((($=qspApi$.value)==null?void 0:$.readVariableByKey("qspider_layers",j))??0)}function registerLayer(j){layers$.update($=>({...$,[j]:readLayerState(j)}))}function reloadLayers(){const j={};for(const $ of Object.keys(layers$.value))j[$]=readLayerState($);layers$.set(j)}const n=[1026,1027,8218,1107,8222,8230,8224,8225,8364,8240,1033,8249,1034,1036,1035,1039,1106,8216,8217,8220,8221,8226,8211,8212,32,8482,1113,8250,1114,1116,1115,1119,160,1038,1118,1032,164,1168,166,167,1025,169,1028,171,172,173,174,1031,176,177,1030,1110,1169,181,182,183,1105,8470,1108,187,1112,1029,1109,1111,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103];function t(j){return String.fromCharCode(j>=128?n[j-128]:j)}class e{constructor($){this.cursor=0,this.content=void 0,this.view=void 0,this.isUnicode=void 0,this.content=$??new ArrayBuffer(256),this.view=new DataView(this.content),this.isUnicode=this.view.getUint8(1)===0}ensureSize($){if(this.content.byteLength>=$)return;const _e=new ArrayBuffer(2*this.content.byteLength);new Uint8Array(_e).set(new Uint8Array(this.content)),this.content=_e,this.view=new DataView(this.content)}finalize(){return this.content=this.content.slice(0,this.cursor),this.content}get eof(){return this.cursor>=this.content.byteLength}read(){const $=this.cursor;return this.cursor+=this.isUnicode?Uint16Array.BYTES_PER_ELEMENT:Uint8Array.BYTES_PER_ELEMENT,this.isUnicode?this.view.getUint16($,!0):this.view.getUint8($)}readLine($=!0){const _e=[];for(;!this.eof;){const et=this.read();if(et===13){this.read();break}_e.push($?et===-5?5:et+5:et)}return this.isUnicode?_e.map(et=>String.fromCharCode(et)).join(""):_e.map(t).join("")}write($){this.ensureSize(this.cursor+Int16Array.BYTES_PER_ELEMENT);const _e=this.cursor;this.cursor+=Int16Array.BYTES_PER_ELEMENT,this.view.setUint16(_e,$,!0)}writeString($,_e=!0){const et=$.split("").map(tt=>tt.charCodeAt(0));for(const tt of et.values())this.write(_e?tt===5?-5:tt-5:tt)}writeLine($,_e=!0){$&&this.writeString($,_e),this.writeString(`\r
`,!1)}seek($){this.cursor=$}}const r=["'",'"'];function s(j){const $=[];let _e=!1,et=null,tt=[];const nt=j.split(/\r?\n/);let rt="",ot=0;for(const it of nt)if(_e){if(!rt&&!ot&&it.startsWith("-")){_e=!1,et&&(et.code=tt,tt=[],$.push(et),et=null);continue}tt.push(it);const at=it.split("");for(let ft=0;ft<at.length;++ft){const st=at[ft];rt?st==rt&&(at[ft+1]==rt?ft++:rt=""):st=="{"?++ot:st=="}"?ot&&--ot:r.includes(st)&&(rt=st)}}else it.startsWith("#")&&(_e=!0,et={name:it.slice(1).trim(),description:[],code:[],actions:[]});return _e&&et&&(et.code=tt,$.push(et)),$}function o(j){const $=new e;$.writeLine("QSPGAME",!1),$.writeLine("@qsp/converters 1.0",!1),$.writeLine("No"),$.writeLine(String(j.length));for(const et of j){$.writeLine(et.name),$.writeLine(et.description.join(`\r
`)),$.writeLine(et.code.join(`\r
`)),$.writeLine(String(et.actions.length));for(const tt of et.actions){var _e;$.writeLine((_e=tt.image)!=null?_e:""),$.writeLine(tt.name),$.writeLine(tt.code.join(`\r
`))}}return $.finalize()}function convertQsps(j){const $=new Uint8Array(j.slice(0,2)),_e=$[0]===255&&$[1]===254?"utf-16le":"utf-8",tt=new TextDecoder(_e).decode(j);return o(s(tt))}function cleanPath(j){return j.replace(/\\/g,"/")}function prepareContent(j){return j.replace(/&gt([^;])/gi,($,_e)=>"& gt "+_e).replace(/\\"/g,"&quot;")}function prepareList(j){return j.map($=>({name:prepareContent($.name),image:cleanPath($.image)}))}const clamp$3=function(j,$,_e){return Math.min(Math.max(j,$),_e)};async function getBinaryContent(j){const $=preparePath(j);return fetchProxyFallback($).then(_e=>{if(!_e.ok)throw new Error("File not found");return _e.arrayBuffer()})}async function getTextContent(j){const $=preparePath(j);return fetchProxyFallback($).then(_e=>{if(!_e.ok)throw new Error("File not found");return _e.text()})}function preparePath(j){return`${baseUrl$.value}${cleanPath(j)}`}async function loadAdditionalResources(j){if(!j)return;const{styles:$,scripts:_e,fonts:et}=j,tt=[];$&&tt.push(loadAdditionalStyles($)),_e&&tt.push(loadAdditionalScripts(_e)),et&&loadAdditionalFonts(et),await Promise.allSettled([...tt,document.fonts.ready])}async function loadAdditionalStyles(j){const $=[];for(const _e of j){const et=document.createElement("link");et.href=_e,et.rel="stylesheet",et.dataset.qspiderResource="style",document.head.appendChild(et)}await Promise.allSettled($)}async function loadAdditionalScripts(j){const $=[];for(const _e of j){const et=document.createElement("script");et.type="text/javascript",et.src=_e,et.dataset.qspiderResource="script";const tt=defer$1();et.onload=()=>tt.resolve(),et.onerror=()=>tt.reject(new Error(`File not found: ${_e}`)),$.push(tt.promise),document.head.appendChild(et)}await Promise.allSettled($)}function loadAdditionalFonts(j){const $=[];for(const[et,tt,nt,rt]of j)$.push(`
    @font-face {
      font-family: "${et}";
      src: url("${tt}");
      font-display: block;
      font-style: ${rt||"normal"};
      font-weight: ${nt||"normal"};
    }
  `);const _e=document.createElement("style");_e.innerText=$.join(`
`),_e.dataset.qspiderResource="style",document.head.appendChild(_e)}function clearAdditionalResources(){document.querySelectorAll("[data-qspider-resource]").forEach(j=>j.remove())}const BOOLEAN_ATTRIBUTES=new Set(["autofocus","autoplay","checked","controls","default","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","novalidate","open","readonly","required","reversed","selected"]),valueProcessors={href(j){return j.startsWith("javascript:")?"#":j}};function extractAttributes(j){const $={};return Array.from(j.attributes).forEach(_e=>{const{name:et,value:tt}=_e;et!=="is"&&(et==="style"?$.style=processStyles(tt):BOOLEAN_ATTRIBUTES.has(et)?$[et]=!0:$[et]=et in valueProcessors?valueProcessors[et](tt):tt)}),$}function processStyles(j){const $=j.split(";"),_e={};for(const et of $){const[tt,nt]=et.trim().split(":"),rt=tt.replace(/^-ms-/,"ms-").replace(/-./g,it=>it.substring(1).toUpperCase());let ot=nt;rt==="backgroundImage"&&!nt.includes("url(")?ot=`url("${nt}")`:/^[+-]?\d+(\.\d+)?$/.test(nt)&&(ot=parseFloat(nt)),_e[rt]=ot}return _e}const CLASSIC_THEME="qspider:classic",AERO_THEME="qspider:aero",DEFAULT_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;">%TEXT%</td></tr></table>',DEFAULT_SELECTED_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;color:#0000FF;">%TEXT%</td></tr></table>',TEXT_PLACEHOLDER="%TEXT%",IMAGE_PLACEHOLDER="%IMAGE%",themeRegistry$=atom({},j=>({add($,_e){j.update(et=>({...et,[$]:_e}))},reset(){j.update($=>Object.entries($).reduce((_e,[et,tt])=>(tt.is_user_defined||(_e[et]=tt),_e),{}))}})),currentTheme$=atom(CLASSIC_THEME),currentThemeData$=atom(j=>j(themeRegistry$)[j(currentTheme$)]??{}),defaultClassicTheme$=atom(j=>j(themeRegistry$)["qspider:classic"]),currentCssVariables$=atom(j=>j(currentThemeData$).css_variables??[]),currentCssLinks$=atom(j=>j(currentThemeData$).css_links??[]),currentScriptLinks$=atom(j=>j(currentThemeData$).script_links??[]),currentTranslations$=atom(j=>j(currentThemeData$).translations??[]);async function registerThemes(j){for(const $ of j){const _e=await getTextContent($),et=parseTheme(_e);for(const[tt,nt]of Object.entries(et))themeRegistry$.actions.add(tt,nt)}}const defaultThemes=["themes/classic.html","themes/aero.html"];async function registerDefaultThemes(j){for(const $ of defaultThemes){const _e=await getTextContent(new URL($,j).toString()),et=parseTheme(_e,!1);for(const[tt,nt]of Object.entries(et))themeRegistry$.actions.add(tt,nt)}}const parser=new DOMParser;function parseTheme(j,$=!0){const _e={},tt=parser.parseFromString(j,"text/html").querySelectorAll("qspider-theme");for(const nt of tt){const rt=nt.getAttribute("name");if(!rt){console.error("Malformed theme definition - missing theme name in qspider-theme tag");continue}_e[rt]={is_user_defined:$,css_variables:extractCssVariables(nt),translations:extractTranslations(nt),css_links:extractLinks(nt,"css-link"),script_links:extractLinks(nt,"script-link"),qsp_player:extractTagData(nt,"qsp-player")}}return _e}function extractTagData(j,$){const _e=j.querySelector($);if(_e)return{attrs:extractAttributes(_e),template:_e.innerHTML.replace(/[ \t]*\r?\n[ \t]*/gm,"")}}function extractCssVariables(j){const $=[];for(const _e of j.querySelectorAll("definitions qsp-css-variable")){const et=_e.getAttribute("name"),tt=_e.getAttribute("from");!et||!tt||$.push({name:et,from:tt,defaultValue:_e.getAttribute("default-value")||"",type:_e.getAttribute("type"),unit:_e.getAttribute("unit"),withSize:_e.hasAttribute("with-size"),withContrast:_e.hasAttribute("with-contrast"),withInverted:_e.hasAttribute("with-inverted")})}return $}function extractTranslations(j){const $=[];for(const _e of j.querySelectorAll("definitions qsp-translation")){const et=_e.getAttribute("lang")||"",tt=_e.getAttribute("tkey")||"",nt=_e.getAttribute("value")||"";$.push({lang:et,tkey:tt,value:nt})}return $}function extractLinks(j,$){const _e=[];for(const et of j.querySelectorAll($)){const tt=et.getAttribute("src");tt&&_e.push(tt)}return _e}const counterDelay$=atom(500),isPaused$=atom(!1),counterTimeout$=atom(),pauseStack=[];async function withCounterPaused(j){pauseStack.push(isPaused$.value);try{isPaused$.set(!0),await j()}finally{const $=pauseStack.pop()||!1;isPaused$.set($)}}function scheduleCounter(){counterTimeout$.set(setTimeout(()=>{var j;(j=qspApi$.value)==null||j.execCounter(),scheduleCounter()},counterDelay$.value))}isPaused$.watch(j=>{j?clearTimeout(counterTimeout$.value):scheduleCounter()});counterDelay$.subscribe(()=>{clearTimeout(counterTimeout$.value),isPaused$.value||scheduleCounter()});var howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(j){(function(){var $=function(){this.init()};$.prototype={init:function(){var st=this||_e;return st._counter=1e3,st._html5AudioPool=[],st.html5PoolSize=10,st._codecs={},st._howls=[],st._muted=!1,st._volume=1,st._canPlayEvent="canplaythrough",st._navigator=typeof window<"u"&&window.navigator?window.navigator:null,st.masterGain=null,st.noAudio=!1,st.usingWebAudio=!0,st.autoSuspend=!0,st.ctx=null,st.autoUnlock=!0,st._setup(),st},volume:function(st){var ut=this||_e;if(st=parseFloat(st),ut.ctx||ft(),typeof st<"u"&&st>=0&&st<=1){if(ut._volume=st,ut._muted)return ut;ut.usingWebAudio&&ut.masterGain.gain.setValueAtTime(st,_e.ctx.currentTime);for(var dt=0;dt<ut._howls.length;dt++)if(!ut._howls[dt]._webAudio)for(var pt=ut._howls[dt]._getSoundIds(),gt=0;gt<pt.length;gt++){var yt=ut._howls[dt]._soundById(pt[gt]);yt&&yt._node&&(yt._node.volume=yt._volume*st)}return ut}return ut._volume},mute:function(st){var ut=this||_e;ut.ctx||ft(),ut._muted=st,ut.usingWebAudio&&ut.masterGain.gain.setValueAtTime(st?0:ut._volume,_e.ctx.currentTime);for(var dt=0;dt<ut._howls.length;dt++)if(!ut._howls[dt]._webAudio)for(var pt=ut._howls[dt]._getSoundIds(),gt=0;gt<pt.length;gt++){var yt=ut._howls[dt]._soundById(pt[gt]);yt&&yt._node&&(yt._node.muted=st?!0:yt._muted)}return ut},stop:function(){for(var st=this||_e,ut=0;ut<st._howls.length;ut++)st._howls[ut].stop();return st},unload:function(){for(var st=this||_e,ut=st._howls.length-1;ut>=0;ut--)st._howls[ut].unload();return st.usingWebAudio&&st.ctx&&typeof st.ctx.close<"u"&&(st.ctx.close(),st.ctx=null,ft()),st},codecs:function(st){return(this||_e)._codecs[st.replace(/^x-/,"")]},_setup:function(){var st=this||_e;if(st.state=st.ctx&&st.ctx.state||"suspended",st._autoSuspend(),!st.usingWebAudio)if(typeof Audio<"u")try{var ut=new Audio;typeof ut.oncanplaythrough>"u"&&(st._canPlayEvent="canplay")}catch{st.noAudio=!0}else st.noAudio=!0;try{var ut=new Audio;ut.muted&&(st.noAudio=!0)}catch{}return st.noAudio||st._setupCodecs(),st},_setupCodecs:function(){var st=this||_e,ut=null;try{ut=typeof Audio<"u"?new Audio:null}catch{return st}if(!ut||typeof ut.canPlayType!="function")return st;var dt=ut.canPlayType("audio/mpeg;").replace(/^no$/,""),pt=st._navigator?st._navigator.userAgent:"",gt=pt.match(/OPR\/(\d+)/g),yt=gt&&parseInt(gt[0].split("/")[1],10)<33,mt=pt.indexOf("Safari")!==-1&&pt.indexOf("Chrome")===-1,vt=pt.match(/Version\/(.*?) /),_t=mt&&vt&&parseInt(vt[1],10)<15;return st._codecs={mp3:!!(!yt&&(dt||ut.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!dt,opus:!!ut.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!ut.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!ut.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(ut.canPlayType('audio/wav; codecs="1"')||ut.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!ut.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!ut.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(ut.canPlayType("audio/x-m4a;")||ut.canPlayType("audio/m4a;")||ut.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(ut.canPlayType("audio/x-m4b;")||ut.canPlayType("audio/m4b;")||ut.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(ut.canPlayType("audio/x-mp4;")||ut.canPlayType("audio/mp4;")||ut.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!_t&&ut.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!_t&&ut.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!ut.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(ut.canPlayType("audio/x-flac;")||ut.canPlayType("audio/flac;")).replace(/^no$/,"")},st},_unlockAudio:function(){var st=this||_e;if(!(st._audioUnlocked||!st.ctx)){st._audioUnlocked=!1,st.autoUnlock=!1,!st._mobileUnloaded&&st.ctx.sampleRate!==44100&&(st._mobileUnloaded=!0,st.unload()),st._scratchBuffer=st.ctx.createBuffer(1,1,22050);var ut=function(dt){for(;st._html5AudioPool.length<st.html5PoolSize;)try{var pt=new Audio;pt._unlocked=!0,st._releaseHtml5Audio(pt)}catch{st.noAudio=!0;break}for(var gt=0;gt<st._howls.length;gt++)if(!st._howls[gt]._webAudio)for(var yt=st._howls[gt]._getSoundIds(),mt=0;mt<yt.length;mt++){var vt=st._howls[gt]._soundById(yt[mt]);vt&&vt._node&&!vt._node._unlocked&&(vt._node._unlocked=!0,vt._node.load())}st._autoResume();var _t=st.ctx.createBufferSource();_t.buffer=st._scratchBuffer,_t.connect(st.ctx.destination),typeof _t.start>"u"?_t.noteOn(0):_t.start(0),typeof st.ctx.resume=="function"&&st.ctx.resume(),_t.onended=function(){_t.disconnect(0),st._audioUnlocked=!0,document.removeEventListener("touchstart",ut,!0),document.removeEventListener("touchend",ut,!0),document.removeEventListener("click",ut,!0),document.removeEventListener("keydown",ut,!0);for(var Ct=0;Ct<st._howls.length;Ct++)st._howls[Ct]._emit("unlock")}};return document.addEventListener("touchstart",ut,!0),document.addEventListener("touchend",ut,!0),document.addEventListener("click",ut,!0),document.addEventListener("keydown",ut,!0),st}},_obtainHtml5Audio:function(){var st=this||_e;if(st._html5AudioPool.length)return st._html5AudioPool.pop();var ut=new Audio().play();return ut&&typeof Promise<"u"&&(ut instanceof Promise||typeof ut.then=="function")&&ut.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(st){var ut=this||_e;return st._unlocked&&ut._html5AudioPool.push(st),ut},_autoSuspend:function(){var st=this;if(!(!st.autoSuspend||!st.ctx||typeof st.ctx.suspend>"u"||!_e.usingWebAudio)){for(var ut=0;ut<st._howls.length;ut++)if(st._howls[ut]._webAudio){for(var dt=0;dt<st._howls[ut]._sounds.length;dt++)if(!st._howls[ut]._sounds[dt]._paused)return st}return st._suspendTimer&&clearTimeout(st._suspendTimer),st._suspendTimer=setTimeout(function(){if(st.autoSuspend){st._suspendTimer=null,st.state="suspending";var pt=function(){st.state="suspended",st._resumeAfterSuspend&&(delete st._resumeAfterSuspend,st._autoResume())};st.ctx.suspend().then(pt,pt)}},3e4),st}},_autoResume:function(){var st=this;if(!(!st.ctx||typeof st.ctx.resume>"u"||!_e.usingWebAudio))return st.state==="running"&&st.ctx.state!=="interrupted"&&st._suspendTimer?(clearTimeout(st._suspendTimer),st._suspendTimer=null):st.state==="suspended"||st.state==="running"&&st.ctx.state==="interrupted"?(st.ctx.resume().then(function(){st.state="running";for(var ut=0;ut<st._howls.length;ut++)st._howls[ut]._emit("resume")}),st._suspendTimer&&(clearTimeout(st._suspendTimer),st._suspendTimer=null)):st.state==="suspending"&&(st._resumeAfterSuspend=!0),st}};var _e=new $,et=function(st){var ut=this;if(!st.src||st.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}ut.init(st)};et.prototype={init:function(st){var ut=this;return _e.ctx||ft(),ut._autoplay=st.autoplay||!1,ut._format=typeof st.format!="string"?st.format:[st.format],ut._html5=st.html5||!1,ut._muted=st.mute||!1,ut._loop=st.loop||!1,ut._pool=st.pool||5,ut._preload=typeof st.preload=="boolean"||st.preload==="metadata"?st.preload:!0,ut._rate=st.rate||1,ut._sprite=st.sprite||{},ut._src=typeof st.src!="string"?st.src:[st.src],ut._volume=st.volume!==void 0?st.volume:1,ut._xhr={method:st.xhr&&st.xhr.method?st.xhr.method:"GET",headers:st.xhr&&st.xhr.headers?st.xhr.headers:null,withCredentials:st.xhr&&st.xhr.withCredentials?st.xhr.withCredentials:!1},ut._duration=0,ut._state="unloaded",ut._sounds=[],ut._endTimers={},ut._queue=[],ut._playLock=!1,ut._onend=st.onend?[{fn:st.onend}]:[],ut._onfade=st.onfade?[{fn:st.onfade}]:[],ut._onload=st.onload?[{fn:st.onload}]:[],ut._onloaderror=st.onloaderror?[{fn:st.onloaderror}]:[],ut._onplayerror=st.onplayerror?[{fn:st.onplayerror}]:[],ut._onpause=st.onpause?[{fn:st.onpause}]:[],ut._onplay=st.onplay?[{fn:st.onplay}]:[],ut._onstop=st.onstop?[{fn:st.onstop}]:[],ut._onmute=st.onmute?[{fn:st.onmute}]:[],ut._onvolume=st.onvolume?[{fn:st.onvolume}]:[],ut._onrate=st.onrate?[{fn:st.onrate}]:[],ut._onseek=st.onseek?[{fn:st.onseek}]:[],ut._onunlock=st.onunlock?[{fn:st.onunlock}]:[],ut._onresume=[],ut._webAudio=_e.usingWebAudio&&!ut._html5,typeof _e.ctx<"u"&&_e.ctx&&_e.autoUnlock&&_e._unlockAudio(),_e._howls.push(ut),ut._autoplay&&ut._queue.push({event:"play",action:function(){ut.play()}}),ut._preload&&ut._preload!=="none"&&ut.load(),ut},load:function(){var st=this,ut=null;if(_e.noAudio){st._emit("loaderror",null,"No audio support.");return}typeof st._src=="string"&&(st._src=[st._src]);for(var dt=0;dt<st._src.length;dt++){var pt,gt;if(st._format&&st._format[dt])pt=st._format[dt];else{if(gt=st._src[dt],typeof gt!="string"){st._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}pt=/^data:audio\/([^;,]+);/i.exec(gt),pt||(pt=/\.([^.]+)$/.exec(gt.split("?",1)[0])),pt&&(pt=pt[1].toLowerCase())}if(pt||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),pt&&_e.codecs(pt)){ut=st._src[dt];break}}if(!ut){st._emit("loaderror",null,"No codec support for selected audio sources.");return}return st._src=ut,st._state="loading",window.location.protocol==="https:"&&ut.slice(0,5)==="http:"&&(st._html5=!0,st._webAudio=!1),new tt(st),st._webAudio&&rt(st),st},play:function(st,ut){var dt=this,pt=null;if(typeof st=="number")pt=st,st=null;else{if(typeof st=="string"&&dt._state==="loaded"&&!dt._sprite[st])return null;if(typeof st>"u"&&(st="__default",!dt._playLock)){for(var gt=0,yt=0;yt<dt._sounds.length;yt++)dt._sounds[yt]._paused&&!dt._sounds[yt]._ended&&(gt++,pt=dt._sounds[yt]._id);gt===1?st=null:pt=null}}var mt=pt?dt._soundById(pt):dt._inactiveSound();if(!mt)return null;if(pt&&!st&&(st=mt._sprite||"__default"),dt._state!=="loaded"){mt._sprite=st,mt._ended=!1;var vt=mt._id;return dt._queue.push({event:"play",action:function(){dt.play(vt)}}),vt}if(pt&&!mt._paused)return ut||dt._loadQueue("play"),mt._id;dt._webAudio&&_e._autoResume();var _t=Math.max(0,mt._seek>0?mt._seek:dt._sprite[st][0]/1e3),Ct=Math.max(0,(dt._sprite[st][0]+dt._sprite[st][1])/1e3-_t),At=Ct*1e3/Math.abs(mt._rate),kt=dt._sprite[st][0]/1e3,St=(dt._sprite[st][0]+dt._sprite[st][1])/1e3;mt._sprite=st,mt._ended=!1;var wt=function(){mt._paused=!1,mt._seek=_t,mt._start=kt,mt._stop=St,mt._loop=!!(mt._loop||dt._sprite[st][2])};if(_t>=St){dt._ended(mt);return}var It=mt._node;if(dt._webAudio){var Ut=function(){dt._playLock=!1,wt(),dt._refreshBuffer(mt);var Vt=mt._muted||dt._muted?0:mt._volume;It.gain.setValueAtTime(Vt,_e.ctx.currentTime),mt._playStart=_e.ctx.currentTime,typeof It.bufferSource.start>"u"?mt._loop?It.bufferSource.noteGrainOn(0,_t,86400):It.bufferSource.noteGrainOn(0,_t,Ct):mt._loop?It.bufferSource.start(0,_t,86400):It.bufferSource.start(0,_t,Ct),At!==1/0&&(dt._endTimers[mt._id]=setTimeout(dt._ended.bind(dt,mt),At)),ut||setTimeout(function(){dt._emit("play",mt._id),dt._loadQueue()},0)};_e.state==="running"&&_e.ctx.state!=="interrupted"?Ut():(dt._playLock=!0,dt.once("resume",Ut),dt._clearTimer(mt._id))}else{var Yt=function(){It.currentTime=_t,It.muted=mt._muted||dt._muted||_e._muted||It.muted,It.volume=mt._volume*_e.volume(),It.playbackRate=mt._rate;try{var Vt=It.play();if(Vt&&typeof Promise<"u"&&(Vt instanceof Promise||typeof Vt.then=="function")?(dt._playLock=!0,wt(),Vt.then(function(){dt._playLock=!1,It._unlocked=!0,ut?dt._loadQueue():dt._emit("play",mt._id)}).catch(function(){dt._playLock=!1,dt._emit("playerror",mt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),mt._ended=!0,mt._paused=!0})):ut||(dt._playLock=!1,wt(),dt._emit("play",mt._id)),It.playbackRate=mt._rate,It.paused){dt._emit("playerror",mt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}st!=="__default"||mt._loop?dt._endTimers[mt._id]=setTimeout(dt._ended.bind(dt,mt),At):(dt._endTimers[mt._id]=function(){dt._ended(mt),It.removeEventListener("ended",dt._endTimers[mt._id],!1)},It.addEventListener("ended",dt._endTimers[mt._id],!1))}catch(Zt){dt._emit("playerror",mt._id,Zt)}};It.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(It.src=dt._src,It.load());var rn=window&&window.ejecta||!It.readyState&&_e._navigator.isCocoonJS;if(It.readyState>=3||rn)Yt();else{dt._playLock=!0,dt._state="loading";var hn=function(){dt._state="loaded",Yt(),It.removeEventListener(_e._canPlayEvent,hn,!1)};It.addEventListener(_e._canPlayEvent,hn,!1),dt._clearTimer(mt._id)}}return mt._id},pause:function(st){var ut=this;if(ut._state!=="loaded"||ut._playLock)return ut._queue.push({event:"pause",action:function(){ut.pause(st)}}),ut;for(var dt=ut._getSoundIds(st),pt=0;pt<dt.length;pt++){ut._clearTimer(dt[pt]);var gt=ut._soundById(dt[pt]);if(gt&&!gt._paused&&(gt._seek=ut.seek(dt[pt]),gt._rateSeek=0,gt._paused=!0,ut._stopFade(dt[pt]),gt._node))if(ut._webAudio){if(!gt._node.bufferSource)continue;typeof gt._node.bufferSource.stop>"u"?gt._node.bufferSource.noteOff(0):gt._node.bufferSource.stop(0),ut._cleanBuffer(gt._node)}else(!isNaN(gt._node.duration)||gt._node.duration===1/0)&&gt._node.pause();arguments[1]||ut._emit("pause",gt?gt._id:null)}return ut},stop:function(st,ut){var dt=this;if(dt._state!=="loaded"||dt._playLock)return dt._queue.push({event:"stop",action:function(){dt.stop(st)}}),dt;for(var pt=dt._getSoundIds(st),gt=0;gt<pt.length;gt++){dt._clearTimer(pt[gt]);var yt=dt._soundById(pt[gt]);yt&&(yt._seek=yt._start||0,yt._rateSeek=0,yt._paused=!0,yt._ended=!0,dt._stopFade(pt[gt]),yt._node&&(dt._webAudio?yt._node.bufferSource&&(typeof yt._node.bufferSource.stop>"u"?yt._node.bufferSource.noteOff(0):yt._node.bufferSource.stop(0),dt._cleanBuffer(yt._node)):(!isNaN(yt._node.duration)||yt._node.duration===1/0)&&(yt._node.currentTime=yt._start||0,yt._node.pause(),yt._node.duration===1/0&&dt._clearSound(yt._node))),ut||dt._emit("stop",yt._id))}return dt},mute:function(st,ut){var dt=this;if(dt._state!=="loaded"||dt._playLock)return dt._queue.push({event:"mute",action:function(){dt.mute(st,ut)}}),dt;if(typeof ut>"u")if(typeof st=="boolean")dt._muted=st;else return dt._muted;for(var pt=dt._getSoundIds(ut),gt=0;gt<pt.length;gt++){var yt=dt._soundById(pt[gt]);yt&&(yt._muted=st,yt._interval&&dt._stopFade(yt._id),dt._webAudio&&yt._node?yt._node.gain.setValueAtTime(st?0:yt._volume,_e.ctx.currentTime):yt._node&&(yt._node.muted=_e._muted?!0:st),dt._emit("mute",yt._id))}return dt},volume:function(){var st=this,ut=arguments,dt,pt;if(ut.length===0)return st._volume;if(ut.length===1||ut.length===2&&typeof ut[1]>"u"){var gt=st._getSoundIds(),yt=gt.indexOf(ut[0]);yt>=0?pt=parseInt(ut[0],10):dt=parseFloat(ut[0])}else ut.length>=2&&(dt=parseFloat(ut[0]),pt=parseInt(ut[1],10));var mt;if(typeof dt<"u"&&dt>=0&&dt<=1){if(st._state!=="loaded"||st._playLock)return st._queue.push({event:"volume",action:function(){st.volume.apply(st,ut)}}),st;typeof pt>"u"&&(st._volume=dt),pt=st._getSoundIds(pt);for(var vt=0;vt<pt.length;vt++)mt=st._soundById(pt[vt]),mt&&(mt._volume=dt,ut[2]||st._stopFade(pt[vt]),st._webAudio&&mt._node&&!mt._muted?mt._node.gain.setValueAtTime(dt,_e.ctx.currentTime):mt._node&&!mt._muted&&(mt._node.volume=dt*_e.volume()),st._emit("volume",mt._id))}else return mt=pt?st._soundById(pt):st._sounds[0],mt?mt._volume:0;return st},fade:function(st,ut,dt,pt){var gt=this;if(gt._state!=="loaded"||gt._playLock)return gt._queue.push({event:"fade",action:function(){gt.fade(st,ut,dt,pt)}}),gt;st=Math.min(Math.max(0,parseFloat(st)),1),ut=Math.min(Math.max(0,parseFloat(ut)),1),dt=parseFloat(dt),gt.volume(st,pt);for(var yt=gt._getSoundIds(pt),mt=0;mt<yt.length;mt++){var vt=gt._soundById(yt[mt]);if(vt){if(pt||gt._stopFade(yt[mt]),gt._webAudio&&!vt._muted){var _t=_e.ctx.currentTime,Ct=_t+dt/1e3;vt._volume=st,vt._node.gain.setValueAtTime(st,_t),vt._node.gain.linearRampToValueAtTime(ut,Ct)}gt._startFadeInterval(vt,st,ut,dt,yt[mt],typeof pt>"u")}}return gt},_startFadeInterval:function(st,ut,dt,pt,gt,yt){var mt=this,vt=ut,_t=dt-ut,Ct=Math.abs(_t/.01),At=Math.max(4,Ct>0?pt/Ct:pt),kt=Date.now();st._fadeTo=dt,st._interval=setInterval(function(){var St=(Date.now()-kt)/pt;kt=Date.now(),vt+=_t*St,vt=Math.round(vt*100)/100,_t<0?vt=Math.max(dt,vt):vt=Math.min(dt,vt),mt._webAudio?st._volume=vt:mt.volume(vt,st._id,!0),yt&&(mt._volume=vt),(dt<ut&&vt<=dt||dt>ut&&vt>=dt)&&(clearInterval(st._interval),st._interval=null,st._fadeTo=null,mt.volume(dt,st._id),mt._emit("fade",st._id))},At)},_stopFade:function(st){var ut=this,dt=ut._soundById(st);return dt&&dt._interval&&(ut._webAudio&&dt._node.gain.cancelScheduledValues(_e.ctx.currentTime),clearInterval(dt._interval),dt._interval=null,ut.volume(dt._fadeTo,st),dt._fadeTo=null,ut._emit("fade",st)),ut},loop:function(){var st=this,ut=arguments,dt,pt,gt;if(ut.length===0)return st._loop;if(ut.length===1)if(typeof ut[0]=="boolean")dt=ut[0],st._loop=dt;else return gt=st._soundById(parseInt(ut[0],10)),gt?gt._loop:!1;else ut.length===2&&(dt=ut[0],pt=parseInt(ut[1],10));for(var yt=st._getSoundIds(pt),mt=0;mt<yt.length;mt++)gt=st._soundById(yt[mt]),gt&&(gt._loop=dt,st._webAudio&&gt._node&&gt._node.bufferSource&&(gt._node.bufferSource.loop=dt,dt&&(gt._node.bufferSource.loopStart=gt._start||0,gt._node.bufferSource.loopEnd=gt._stop,st.playing(yt[mt])&&(st.pause(yt[mt],!0),st.play(yt[mt],!0)))));return st},rate:function(){var st=this,ut=arguments,dt,pt;if(ut.length===0)pt=st._sounds[0]._id;else if(ut.length===1){var gt=st._getSoundIds(),yt=gt.indexOf(ut[0]);yt>=0?pt=parseInt(ut[0],10):dt=parseFloat(ut[0])}else ut.length===2&&(dt=parseFloat(ut[0]),pt=parseInt(ut[1],10));var mt;if(typeof dt=="number"){if(st._state!=="loaded"||st._playLock)return st._queue.push({event:"rate",action:function(){st.rate.apply(st,ut)}}),st;typeof pt>"u"&&(st._rate=dt),pt=st._getSoundIds(pt);for(var vt=0;vt<pt.length;vt++)if(mt=st._soundById(pt[vt]),mt){st.playing(pt[vt])&&(mt._rateSeek=st.seek(pt[vt]),mt._playStart=st._webAudio?_e.ctx.currentTime:mt._playStart),mt._rate=dt,st._webAudio&&mt._node&&mt._node.bufferSource?mt._node.bufferSource.playbackRate.setValueAtTime(dt,_e.ctx.currentTime):mt._node&&(mt._node.playbackRate=dt);var _t=st.seek(pt[vt]),Ct=(st._sprite[mt._sprite][0]+st._sprite[mt._sprite][1])/1e3-_t,At=Ct*1e3/Math.abs(mt._rate);(st._endTimers[pt[vt]]||!mt._paused)&&(st._clearTimer(pt[vt]),st._endTimers[pt[vt]]=setTimeout(st._ended.bind(st,mt),At)),st._emit("rate",mt._id)}}else return mt=st._soundById(pt),mt?mt._rate:st._rate;return st},seek:function(){var st=this,ut=arguments,dt,pt;if(ut.length===0)st._sounds.length&&(pt=st._sounds[0]._id);else if(ut.length===1){var gt=st._getSoundIds(),yt=gt.indexOf(ut[0]);yt>=0?pt=parseInt(ut[0],10):st._sounds.length&&(pt=st._sounds[0]._id,dt=parseFloat(ut[0]))}else ut.length===2&&(dt=parseFloat(ut[0]),pt=parseInt(ut[1],10));if(typeof pt>"u")return 0;if(typeof dt=="number"&&(st._state!=="loaded"||st._playLock))return st._queue.push({event:"seek",action:function(){st.seek.apply(st,ut)}}),st;var mt=st._soundById(pt);if(mt)if(typeof dt=="number"&&dt>=0){var vt=st.playing(pt);vt&&st.pause(pt,!0),mt._seek=dt,mt._ended=!1,st._clearTimer(pt),!st._webAudio&&mt._node&&!isNaN(mt._node.duration)&&(mt._node.currentTime=dt);var _t=function(){vt&&st.play(pt,!0),st._emit("seek",pt)};if(vt&&!st._webAudio){var Ct=function(){st._playLock?setTimeout(Ct,0):_t()};setTimeout(Ct,0)}else _t()}else if(st._webAudio){var At=st.playing(pt)?_e.ctx.currentTime-mt._playStart:0,kt=mt._rateSeek?mt._rateSeek-mt._seek:0;return mt._seek+(kt+At*Math.abs(mt._rate))}else return mt._node.currentTime;return st},playing:function(st){var ut=this;if(typeof st=="number"){var dt=ut._soundById(st);return dt?!dt._paused:!1}for(var pt=0;pt<ut._sounds.length;pt++)if(!ut._sounds[pt]._paused)return!0;return!1},duration:function(st){var ut=this,dt=ut._duration,pt=ut._soundById(st);return pt&&(dt=ut._sprite[pt._sprite][1]/1e3),dt},state:function(){return this._state},unload:function(){for(var st=this,ut=st._sounds,dt=0;dt<ut.length;dt++)ut[dt]._paused||st.stop(ut[dt]._id),st._webAudio||(st._clearSound(ut[dt]._node),ut[dt]._node.removeEventListener("error",ut[dt]._errorFn,!1),ut[dt]._node.removeEventListener(_e._canPlayEvent,ut[dt]._loadFn,!1),ut[dt]._node.removeEventListener("ended",ut[dt]._endFn,!1),_e._releaseHtml5Audio(ut[dt]._node)),delete ut[dt]._node,st._clearTimer(ut[dt]._id);var pt=_e._howls.indexOf(st);pt>=0&&_e._howls.splice(pt,1);var gt=!0;for(dt=0;dt<_e._howls.length;dt++)if(_e._howls[dt]._src===st._src||st._src.indexOf(_e._howls[dt]._src)>=0){gt=!1;break}return nt&&gt&&delete nt[st._src],_e.noAudio=!1,st._state="unloaded",st._sounds=[],st=null,null},on:function(st,ut,dt,pt){var gt=this,yt=gt["_on"+st];return typeof ut=="function"&&yt.push(pt?{id:dt,fn:ut,once:pt}:{id:dt,fn:ut}),gt},off:function(st,ut,dt){var pt=this,gt=pt["_on"+st],yt=0;if(typeof ut=="number"&&(dt=ut,ut=null),ut||dt)for(yt=0;yt<gt.length;yt++){var mt=dt===gt[yt].id;if(ut===gt[yt].fn&&mt||!ut&&mt){gt.splice(yt,1);break}}else if(st)pt["_on"+st]=[];else{var vt=Object.keys(pt);for(yt=0;yt<vt.length;yt++)vt[yt].indexOf("_on")===0&&Array.isArray(pt[vt[yt]])&&(pt[vt[yt]]=[])}return pt},once:function(st,ut,dt){var pt=this;return pt.on(st,ut,dt,1),pt},_emit:function(st,ut,dt){for(var pt=this,gt=pt["_on"+st],yt=gt.length-1;yt>=0;yt--)(!gt[yt].id||gt[yt].id===ut||st==="load")&&(setTimeout((function(mt){mt.call(this,ut,dt)}).bind(pt,gt[yt].fn),0),gt[yt].once&&pt.off(st,gt[yt].fn,gt[yt].id));return pt._loadQueue(st),pt},_loadQueue:function(st){var ut=this;if(ut._queue.length>0){var dt=ut._queue[0];dt.event===st&&(ut._queue.shift(),ut._loadQueue()),st||dt.action()}return ut},_ended:function(st){var ut=this,dt=st._sprite;if(!ut._webAudio&&st._node&&!st._node.paused&&!st._node.ended&&st._node.currentTime<st._stop)return setTimeout(ut._ended.bind(ut,st),100),ut;var pt=!!(st._loop||ut._sprite[dt][2]);if(ut._emit("end",st._id),!ut._webAudio&&pt&&ut.stop(st._id,!0).play(st._id),ut._webAudio&&pt){ut._emit("play",st._id),st._seek=st._start||0,st._rateSeek=0,st._playStart=_e.ctx.currentTime;var gt=(st._stop-st._start)*1e3/Math.abs(st._rate);ut._endTimers[st._id]=setTimeout(ut._ended.bind(ut,st),gt)}return ut._webAudio&&!pt&&(st._paused=!0,st._ended=!0,st._seek=st._start||0,st._rateSeek=0,ut._clearTimer(st._id),ut._cleanBuffer(st._node),_e._autoSuspend()),!ut._webAudio&&!pt&&ut.stop(st._id,!0),ut},_clearTimer:function(st){var ut=this;if(ut._endTimers[st]){if(typeof ut._endTimers[st]!="function")clearTimeout(ut._endTimers[st]);else{var dt=ut._soundById(st);dt&&dt._node&&dt._node.removeEventListener("ended",ut._endTimers[st],!1)}delete ut._endTimers[st]}return ut},_soundById:function(st){for(var ut=this,dt=0;dt<ut._sounds.length;dt++)if(st===ut._sounds[dt]._id)return ut._sounds[dt];return null},_inactiveSound:function(){var st=this;st._drain();for(var ut=0;ut<st._sounds.length;ut++)if(st._sounds[ut]._ended)return st._sounds[ut].reset();return new tt(st)},_drain:function(){var st=this,ut=st._pool,dt=0,pt=0;if(!(st._sounds.length<ut)){for(pt=0;pt<st._sounds.length;pt++)st._sounds[pt]._ended&&dt++;for(pt=st._sounds.length-1;pt>=0;pt--){if(dt<=ut)return;st._sounds[pt]._ended&&(st._webAudio&&st._sounds[pt]._node&&st._sounds[pt]._node.disconnect(0),st._sounds.splice(pt,1),dt--)}}},_getSoundIds:function(st){var ut=this;if(typeof st>"u"){for(var dt=[],pt=0;pt<ut._sounds.length;pt++)dt.push(ut._sounds[pt]._id);return dt}else return[st]},_refreshBuffer:function(st){var ut=this;return st._node.bufferSource=_e.ctx.createBufferSource(),st._node.bufferSource.buffer=nt[ut._src],st._panner?st._node.bufferSource.connect(st._panner):st._node.bufferSource.connect(st._node),st._node.bufferSource.loop=st._loop,st._loop&&(st._node.bufferSource.loopStart=st._start||0,st._node.bufferSource.loopEnd=st._stop||0),st._node.bufferSource.playbackRate.setValueAtTime(st._rate,_e.ctx.currentTime),ut},_cleanBuffer:function(st){var ut=this,dt=_e._navigator&&_e._navigator.vendor.indexOf("Apple")>=0;if(!st.bufferSource)return ut;if(_e._scratchBuffer&&st.bufferSource&&(st.bufferSource.onended=null,st.bufferSource.disconnect(0),dt))try{st.bufferSource.buffer=_e._scratchBuffer}catch{}return st.bufferSource=null,ut},_clearSound:function(st){var ut=/MSIE |Trident\//.test(_e._navigator&&_e._navigator.userAgent);ut||(st.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var tt=function(st){this._parent=st,this.init()};tt.prototype={init:function(){var st=this,ut=st._parent;return st._muted=ut._muted,st._loop=ut._loop,st._volume=ut._volume,st._rate=ut._rate,st._seek=0,st._paused=!0,st._ended=!0,st._sprite="__default",st._id=++_e._counter,ut._sounds.push(st),st.create(),st},create:function(){var st=this,ut=st._parent,dt=_e._muted||st._muted||st._parent._muted?0:st._volume;return ut._webAudio?(st._node=typeof _e.ctx.createGain>"u"?_e.ctx.createGainNode():_e.ctx.createGain(),st._node.gain.setValueAtTime(dt,_e.ctx.currentTime),st._node.paused=!0,st._node.connect(_e.masterGain)):_e.noAudio||(st._node=_e._obtainHtml5Audio(),st._errorFn=st._errorListener.bind(st),st._node.addEventListener("error",st._errorFn,!1),st._loadFn=st._loadListener.bind(st),st._node.addEventListener(_e._canPlayEvent,st._loadFn,!1),st._endFn=st._endListener.bind(st),st._node.addEventListener("ended",st._endFn,!1),st._node.src=ut._src,st._node.preload=ut._preload===!0?"auto":ut._preload,st._node.volume=dt*_e.volume(),st._node.load()),st},reset:function(){var st=this,ut=st._parent;return st._muted=ut._muted,st._loop=ut._loop,st._volume=ut._volume,st._rate=ut._rate,st._seek=0,st._rateSeek=0,st._paused=!0,st._ended=!0,st._sprite="__default",st._id=++_e._counter,st},_errorListener:function(){var st=this;st._parent._emit("loaderror",st._id,st._node.error?st._node.error.code:0),st._node.removeEventListener("error",st._errorFn,!1)},_loadListener:function(){var st=this,ut=st._parent;ut._duration=Math.ceil(st._node.duration*10)/10,Object.keys(ut._sprite).length===0&&(ut._sprite={__default:[0,ut._duration*1e3]}),ut._state!=="loaded"&&(ut._state="loaded",ut._emit("load"),ut._loadQueue()),st._node.removeEventListener(_e._canPlayEvent,st._loadFn,!1)},_endListener:function(){var st=this,ut=st._parent;ut._duration===1/0&&(ut._duration=Math.ceil(st._node.duration*10)/10,ut._sprite.__default[1]===1/0&&(ut._sprite.__default[1]=ut._duration*1e3),ut._ended(st)),st._node.removeEventListener("ended",st._endFn,!1)}};var nt={},rt=function(st){var ut=st._src;if(nt[ut]){st._duration=nt[ut].duration,at(st);return}if(/^data:[^;]+;base64,/.test(ut)){for(var dt=atob(ut.split(",")[1]),pt=new Uint8Array(dt.length),gt=0;gt<dt.length;++gt)pt[gt]=dt.charCodeAt(gt);it(pt.buffer,st)}else{var yt=new XMLHttpRequest;yt.open(st._xhr.method,ut,!0),yt.withCredentials=st._xhr.withCredentials,yt.responseType="arraybuffer",st._xhr.headers&&Object.keys(st._xhr.headers).forEach(function(mt){yt.setRequestHeader(mt,st._xhr.headers[mt])}),yt.onload=function(){var mt=(yt.status+"")[0];if(mt!=="0"&&mt!=="2"&&mt!=="3"){st._emit("loaderror",null,"Failed loading audio file with status: "+yt.status+".");return}it(yt.response,st)},yt.onerror=function(){st._webAudio&&(st._html5=!0,st._webAudio=!1,st._sounds=[],delete nt[ut],st.load())},ot(yt)}},ot=function(st){try{st.send()}catch{st.onerror()}},it=function(st,ut){var dt=function(){ut._emit("loaderror",null,"Decoding audio data failed.")},pt=function(gt){gt&&ut._sounds.length>0?(nt[ut._src]=gt,at(ut,gt)):dt()};typeof Promise<"u"&&_e.ctx.decodeAudioData.length===1?_e.ctx.decodeAudioData(st).then(pt).catch(dt):_e.ctx.decodeAudioData(st,pt,dt)},at=function(st,ut){ut&&!st._duration&&(st._duration=ut.duration),Object.keys(st._sprite).length===0&&(st._sprite={__default:[0,st._duration*1e3]}),st._state!=="loaded"&&(st._state="loaded",st._emit("load"),st._loadQueue())},ft=function(){if(_e.usingWebAudio){try{typeof AudioContext<"u"?_e.ctx=new AudioContext:typeof webkitAudioContext<"u"?_e.ctx=new webkitAudioContext:_e.usingWebAudio=!1}catch{_e.usingWebAudio=!1}_e.ctx||(_e.usingWebAudio=!1);var st=/iP(hone|od|ad)/.test(_e._navigator&&_e._navigator.platform),ut=_e._navigator&&_e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),dt=ut?parseInt(ut[1],10):null;if(st&&dt&&dt<9){var pt=/safari/.test(_e._navigator&&_e._navigator.userAgent.toLowerCase());_e._navigator&&!pt&&(_e.usingWebAudio=!1)}_e.usingWebAudio&&(_e.masterGain=typeof _e.ctx.createGain>"u"?_e.ctx.createGainNode():_e.ctx.createGain(),_e.masterGain.gain.setValueAtTime(_e._muted?0:_e._volume,_e.ctx.currentTime),_e.masterGain.connect(_e.ctx.destination)),_e._setup()}};j.Howler=_e,j.Howl=et,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=$,commonjsGlobal.Howler=_e,commonjsGlobal.Howl=et,commonjsGlobal.Sound=tt):typeof window<"u"&&(window.HowlerGlobal=$,window.Howler=_e,window.Howl=et,window.Sound=tt)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(_e){var et=this;if(!et.ctx||!et.ctx.listener)return et;for(var tt=et._howls.length-1;tt>=0;tt--)et._howls[tt].stereo(_e);return et},HowlerGlobal.prototype.pos=function(_e,et,tt){var nt=this;if(!nt.ctx||!nt.ctx.listener)return nt;if(et=typeof et!="number"?nt._pos[1]:et,tt=typeof tt!="number"?nt._pos[2]:tt,typeof _e=="number")nt._pos=[_e,et,tt],typeof nt.ctx.listener.positionX<"u"?(nt.ctx.listener.positionX.setTargetAtTime(nt._pos[0],Howler.ctx.currentTime,.1),nt.ctx.listener.positionY.setTargetAtTime(nt._pos[1],Howler.ctx.currentTime,.1),nt.ctx.listener.positionZ.setTargetAtTime(nt._pos[2],Howler.ctx.currentTime,.1)):nt.ctx.listener.setPosition(nt._pos[0],nt._pos[1],nt._pos[2]);else return nt._pos;return nt},HowlerGlobal.prototype.orientation=function(_e,et,tt,nt,rt,ot){var it=this;if(!it.ctx||!it.ctx.listener)return it;var at=it._orientation;if(et=typeof et!="number"?at[1]:et,tt=typeof tt!="number"?at[2]:tt,nt=typeof nt!="number"?at[3]:nt,rt=typeof rt!="number"?at[4]:rt,ot=typeof ot!="number"?at[5]:ot,typeof _e=="number")it._orientation=[_e,et,tt,nt,rt,ot],typeof it.ctx.listener.forwardX<"u"?(it.ctx.listener.forwardX.setTargetAtTime(_e,Howler.ctx.currentTime,.1),it.ctx.listener.forwardY.setTargetAtTime(et,Howler.ctx.currentTime,.1),it.ctx.listener.forwardZ.setTargetAtTime(tt,Howler.ctx.currentTime,.1),it.ctx.listener.upX.setTargetAtTime(nt,Howler.ctx.currentTime,.1),it.ctx.listener.upY.setTargetAtTime(rt,Howler.ctx.currentTime,.1),it.ctx.listener.upZ.setTargetAtTime(ot,Howler.ctx.currentTime,.1)):it.ctx.listener.setOrientation(_e,et,tt,nt,rt,ot);else return at;return it},Howl.prototype.init=function(_e){return function(et){var tt=this;return tt._orientation=et.orientation||[1,0,0],tt._stereo=et.stereo||null,tt._pos=et.pos||null,tt._pannerAttr={coneInnerAngle:typeof et.coneInnerAngle<"u"?et.coneInnerAngle:360,coneOuterAngle:typeof et.coneOuterAngle<"u"?et.coneOuterAngle:360,coneOuterGain:typeof et.coneOuterGain<"u"?et.coneOuterGain:0,distanceModel:typeof et.distanceModel<"u"?et.distanceModel:"inverse",maxDistance:typeof et.maxDistance<"u"?et.maxDistance:1e4,panningModel:typeof et.panningModel<"u"?et.panningModel:"HRTF",refDistance:typeof et.refDistance<"u"?et.refDistance:1,rolloffFactor:typeof et.rolloffFactor<"u"?et.rolloffFactor:1},tt._onstereo=et.onstereo?[{fn:et.onstereo}]:[],tt._onpos=et.onpos?[{fn:et.onpos}]:[],tt._onorientation=et.onorientation?[{fn:et.onorientation}]:[],_e.call(this,et)}}(Howl.prototype.init),Howl.prototype.stereo=function(_e,et){var tt=this;if(!tt._webAudio)return tt;if(tt._state!=="loaded")return tt._queue.push({event:"stereo",action:function(){tt.stereo(_e,et)}}),tt;var nt=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof et>"u")if(typeof _e=="number")tt._stereo=_e,tt._pos=[_e,0,0];else return tt._stereo;for(var rt=tt._getSoundIds(et),ot=0;ot<rt.length;ot++){var it=tt._soundById(rt[ot]);if(it)if(typeof _e=="number")it._stereo=_e,it._pos=[_e,0,0],it._node&&(it._pannerAttr.panningModel="equalpower",(!it._panner||!it._panner.pan)&&$(it,nt),nt==="spatial"?typeof it._panner.positionX<"u"?(it._panner.positionX.setValueAtTime(_e,Howler.ctx.currentTime),it._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),it._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):it._panner.setPosition(_e,0,0):it._panner.pan.setValueAtTime(_e,Howler.ctx.currentTime)),tt._emit("stereo",it._id);else return it._stereo}return tt},Howl.prototype.pos=function(_e,et,tt,nt){var rt=this;if(!rt._webAudio)return rt;if(rt._state!=="loaded")return rt._queue.push({event:"pos",action:function(){rt.pos(_e,et,tt,nt)}}),rt;if(et=typeof et!="number"?0:et,tt=typeof tt!="number"?-.5:tt,typeof nt>"u")if(typeof _e=="number")rt._pos=[_e,et,tt];else return rt._pos;for(var ot=rt._getSoundIds(nt),it=0;it<ot.length;it++){var at=rt._soundById(ot[it]);if(at)if(typeof _e=="number")at._pos=[_e,et,tt],at._node&&((!at._panner||at._panner.pan)&&$(at,"spatial"),typeof at._panner.positionX<"u"?(at._panner.positionX.setValueAtTime(_e,Howler.ctx.currentTime),at._panner.positionY.setValueAtTime(et,Howler.ctx.currentTime),at._panner.positionZ.setValueAtTime(tt,Howler.ctx.currentTime)):at._panner.setPosition(_e,et,tt)),rt._emit("pos",at._id);else return at._pos}return rt},Howl.prototype.orientation=function(_e,et,tt,nt){var rt=this;if(!rt._webAudio)return rt;if(rt._state!=="loaded")return rt._queue.push({event:"orientation",action:function(){rt.orientation(_e,et,tt,nt)}}),rt;if(et=typeof et!="number"?rt._orientation[1]:et,tt=typeof tt!="number"?rt._orientation[2]:tt,typeof nt>"u")if(typeof _e=="number")rt._orientation=[_e,et,tt];else return rt._orientation;for(var ot=rt._getSoundIds(nt),it=0;it<ot.length;it++){var at=rt._soundById(ot[it]);if(at)if(typeof _e=="number")at._orientation=[_e,et,tt],at._node&&(at._panner||(at._pos||(at._pos=rt._pos||[0,0,-.5]),$(at,"spatial")),typeof at._panner.orientationX<"u"?(at._panner.orientationX.setValueAtTime(_e,Howler.ctx.currentTime),at._panner.orientationY.setValueAtTime(et,Howler.ctx.currentTime),at._panner.orientationZ.setValueAtTime(tt,Howler.ctx.currentTime)):at._panner.setOrientation(_e,et,tt)),rt._emit("orientation",at._id);else return at._orientation}return rt},Howl.prototype.pannerAttr=function(){var _e=this,et=arguments,tt,nt,rt;if(!_e._webAudio)return _e;if(et.length===0)return _e._pannerAttr;if(et.length===1)if(typeof et[0]=="object")tt=et[0],typeof nt>"u"&&(tt.pannerAttr||(tt.pannerAttr={coneInnerAngle:tt.coneInnerAngle,coneOuterAngle:tt.coneOuterAngle,coneOuterGain:tt.coneOuterGain,distanceModel:tt.distanceModel,maxDistance:tt.maxDistance,refDistance:tt.refDistance,rolloffFactor:tt.rolloffFactor,panningModel:tt.panningModel}),_e._pannerAttr={coneInnerAngle:typeof tt.pannerAttr.coneInnerAngle<"u"?tt.pannerAttr.coneInnerAngle:_e._coneInnerAngle,coneOuterAngle:typeof tt.pannerAttr.coneOuterAngle<"u"?tt.pannerAttr.coneOuterAngle:_e._coneOuterAngle,coneOuterGain:typeof tt.pannerAttr.coneOuterGain<"u"?tt.pannerAttr.coneOuterGain:_e._coneOuterGain,distanceModel:typeof tt.pannerAttr.distanceModel<"u"?tt.pannerAttr.distanceModel:_e._distanceModel,maxDistance:typeof tt.pannerAttr.maxDistance<"u"?tt.pannerAttr.maxDistance:_e._maxDistance,refDistance:typeof tt.pannerAttr.refDistance<"u"?tt.pannerAttr.refDistance:_e._refDistance,rolloffFactor:typeof tt.pannerAttr.rolloffFactor<"u"?tt.pannerAttr.rolloffFactor:_e._rolloffFactor,panningModel:typeof tt.pannerAttr.panningModel<"u"?tt.pannerAttr.panningModel:_e._panningModel});else return rt=_e._soundById(parseInt(et[0],10)),rt?rt._pannerAttr:_e._pannerAttr;else et.length===2&&(tt=et[0],nt=parseInt(et[1],10));for(var ot=_e._getSoundIds(nt),it=0;it<ot.length;it++)if(rt=_e._soundById(ot[it]),rt){var at=rt._pannerAttr;at={coneInnerAngle:typeof tt.coneInnerAngle<"u"?tt.coneInnerAngle:at.coneInnerAngle,coneOuterAngle:typeof tt.coneOuterAngle<"u"?tt.coneOuterAngle:at.coneOuterAngle,coneOuterGain:typeof tt.coneOuterGain<"u"?tt.coneOuterGain:at.coneOuterGain,distanceModel:typeof tt.distanceModel<"u"?tt.distanceModel:at.distanceModel,maxDistance:typeof tt.maxDistance<"u"?tt.maxDistance:at.maxDistance,refDistance:typeof tt.refDistance<"u"?tt.refDistance:at.refDistance,rolloffFactor:typeof tt.rolloffFactor<"u"?tt.rolloffFactor:at.rolloffFactor,panningModel:typeof tt.panningModel<"u"?tt.panningModel:at.panningModel};var ft=rt._panner;ft||(rt._pos||(rt._pos=_e._pos||[0,0,-.5]),$(rt,"spatial"),ft=rt._panner),ft.coneInnerAngle=at.coneInnerAngle,ft.coneOuterAngle=at.coneOuterAngle,ft.coneOuterGain=at.coneOuterGain,ft.distanceModel=at.distanceModel,ft.maxDistance=at.maxDistance,ft.refDistance=at.refDistance,ft.rolloffFactor=at.rolloffFactor,ft.panningModel=at.panningModel}return _e},Sound.prototype.init=function(_e){return function(){var et=this,tt=et._parent;et._orientation=tt._orientation,et._stereo=tt._stereo,et._pos=tt._pos,et._pannerAttr=tt._pannerAttr,_e.call(this),et._stereo?tt.stereo(et._stereo):et._pos&&tt.pos(et._pos[0],et._pos[1],et._pos[2],et._id)}}(Sound.prototype.init),Sound.prototype.reset=function(_e){return function(){var et=this,tt=et._parent;return et._orientation=tt._orientation,et._stereo=tt._stereo,et._pos=tt._pos,et._pannerAttr=tt._pannerAttr,et._stereo?tt.stereo(et._stereo):et._pos?tt.pos(et._pos[0],et._pos[1],et._pos[2],et._id):et._panner&&(et._panner.disconnect(0),et._panner=void 0,tt._refreshBuffer(et)),_e.call(this)}}(Sound.prototype.reset);var $=function(_e,et){et=et||"spatial",et==="spatial"?(_e._panner=Howler.ctx.createPanner(),_e._panner.coneInnerAngle=_e._pannerAttr.coneInnerAngle,_e._panner.coneOuterAngle=_e._pannerAttr.coneOuterAngle,_e._panner.coneOuterGain=_e._pannerAttr.coneOuterGain,_e._panner.distanceModel=_e._pannerAttr.distanceModel,_e._panner.maxDistance=_e._pannerAttr.maxDistance,_e._panner.refDistance=_e._pannerAttr.refDistance,_e._panner.rolloffFactor=_e._pannerAttr.rolloffFactor,_e._panner.panningModel=_e._pannerAttr.panningModel,typeof _e._panner.positionX<"u"?(_e._panner.positionX.setValueAtTime(_e._pos[0],Howler.ctx.currentTime),_e._panner.positionY.setValueAtTime(_e._pos[1],Howler.ctx.currentTime),_e._panner.positionZ.setValueAtTime(_e._pos[2],Howler.ctx.currentTime)):_e._panner.setPosition(_e._pos[0],_e._pos[1],_e._pos[2]),typeof _e._panner.orientationX<"u"?(_e._panner.orientationX.setValueAtTime(_e._orientation[0],Howler.ctx.currentTime),_e._panner.orientationY.setValueAtTime(_e._orientation[1],Howler.ctx.currentTime),_e._panner.orientationZ.setValueAtTime(_e._orientation[2],Howler.ctx.currentTime)):_e._panner.setOrientation(_e._orientation[0],_e._orientation[1],_e._orientation[2])):(_e._panner=Howler.ctx.createStereoPanner(),_e._panner.pan.setValueAtTime(_e._stereo,Howler.ctx.currentTime)),_e._panner.connect(_e._node),_e._paused||_e._parent.pause(_e._id,!0).play(_e._id,!0)}})()})(howler);const normalizeVolume=j=>j>1?j*.01:j;let Sound$1=class Is{constructor($,_e){this._state=0,this._error=null,this.isScheduled=!1,this.howl=new howler.Howl({src:[$],volume:normalizeVolume(_e),loop:!1,preload:!0,autoplay:!1,onload:()=>{this._state=2,this.isScheduled&&this.howl.play()},onloaderror:(et,tt)=>{console.error($,tt),this._state=1,this._error=tt},onplayerror:(et,tt)=>{console.error($,tt),this._state=3,this._error=tt},onplay:()=>{this._state=4},onend:()=>{this._state=6},onpause:()=>{this._state=5},onstop:()=>{this._state=6},onunlock:()=>{this._state===2&&this.isScheduled&&(this._state=4,this.howl.play())}})}static create($,_e){return new Is($,_e)}get state(){return this._state}get error(){return this._error}get isPlaying(){return this._state===4||this._state===0}play($){this.howl.volume(normalizeVolume($)),this.isScheduled=!0,this.howl.state()==="loaded"&&!this.howl.playing()&&this.howl.play()}stop(){this.isScheduled=!1,this.howl.stop()}dispose(){this.isScheduled=!1,this.howl.stop(),this.howl.unload()}};const VOLUME_STEP=10,sounds$=atom(new Map,j=>({isPlaying($){const _e=getFileKey($),et=j.value.get(_e);return!!(et!=null&&et.isPlaying)},play($,_e){const et=getFileKey($);let tt=j.value.get(et);tt||(tt=Sound$1.create($,_e),j.value.set(et,tt)),tt.play(_e)},close($){const _e=getFileKey($),et=j.value.get(_e);et&&et.stop()},closeAll(){for(const $ of j.value.values())$.stop()},clear(){for(const $ of j.value.values())$.dispose();j.set(new Map)}})),muted$=atom(!1),volume$=atom(100,j=>({increase(){j.update($=>clamp$3($+VOLUME_STEP,0,100))},decrease(){j.update($=>clamp$3($-VOLUME_STEP,0,100))}}));muted$.watch(j=>{howler.Howler.mute(j)});volume$.watch(j=>{howler.Howler.volume(normalizeVolume(clamp$3(j,0,100)))});function getFileKey(j){return j.replace("/","__").toUpperCase()}const saveLoadedCallback$=create(),gameSavedCallback$=create(),saveSlots$=create([]),namedSlots$=create([]),requestedAction$=create(null),QUICK_SAVE_KEY="__quicksave_qspider__";async function loadSaveList(){var et,tt;const j=currentGameEntry$.value;if(!j){saveSlots$.set([]),namedSlots$.set([]);return}const $=await((et=storage$.value)==null?void 0:et.getSavedSlots(j.id));saveSlots$.set($||[]);const _e=await((tt=storage$.value)==null?void 0:tt.getNamedSaves(j.id));namedSlots$.set(_e||[])}async function saveToSlot(j){var tt,nt;const $=currentGameEntry$.value;if(!$)return;const _e=(tt=qspApi$.value)==null?void 0:tt.saveGame();_e&&await((nt=storage$.value)==null?void 0:nt.saveBySlot($.id,j,_e));const et=gameSavedCallback$.value;et==null||et(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function saveToPath(j){var tt,nt;const $=currentGameEntry$.value;if(!$)return;const _e=(tt=qspApi$.value)==null?void 0:tt.saveGame();_e&&await((nt=storage$.value)==null?void 0:nt.saveByKey($.id,j,_e));const et=gameSavedCallback$.value;et==null||et(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function restoreFromSlot(j){var tt,nt;const $=currentGameEntry$.value;if(!$)return;const _e=await((tt=storage$.value)==null?void 0:tt.getSaveDataBySlot($.id,j)),et=saveLoadedCallback$.value;et==null||et(),saveLoadedCallback$.set(null),requestedAction$.set(null),_e&&((nt=qspApi$.value)==null||nt.loadSave(_e))}async function restoreFromPath(j){var tt,nt;const $=currentGameEntry$.value;if(!$)return;const _e=await((tt=storage$.value)==null?void 0:tt.getSaveDataByKey($.id,j)),et=saveLoadedCallback$.value;et==null||et(),saveLoadedCallback$.set(null),requestedAction$.set(null),_e&&((nt=qspApi$.value)==null||nt.loadSave(_e))}async function clearSlot(j){var _e;const $=currentGameEntry$.value;$&&(await((_e=storage$.value)==null?void 0:_e.clearSaveSlot($.id,j)),await loadSaveList())}async function clearPath(j){var _e;const $=currentGameEntry$.value;$&&(await((_e=storage$.value)==null?void 0:_e.clearSaveKey($.id,j)),await loadSaveList())}async function quickSave(){var _e;if((_e=qspApi$.value)==null?void 0:_e.readVariable("NOSAVE"))return;const $=currentGameEntry$.value;$&&await withCounterPaused(async()=>{var tt,nt;const et=(tt=qspApi$.value)==null?void 0:tt.saveGame();et&&await((nt=storage$.value)==null?void 0:nt.saveByKey($.id,QUICK_SAVE_KEY,et))})}async function quickLoad(){const j=currentGameEntry$.value;j&&await withCounterPaused(async()=>{var _e,et;const $=await((_e=storage$.value)==null?void 0:_e.getSaveDataByKey(j.id,QUICK_SAVE_KEY));$&&((et=qspApi$.value)==null||et.loadSave($),onRestore())})}async function onSaveCommand(j,$){const{slot_index:_e,save_path:et}=$;switch(j){case"load":_e>0?await restoreFromSlot(_e):et&&await restoreFromPath(et),onRestore(),closePauseScreen();break;case"save":_e>0?await saveToSlot(_e):et&&await saveToPath(et),closePauseScreen();break;case"clear":_e>0?clearSlot(_e):et&&clearPath(et);break;default:console.error(`Unknown save action: ${j}`)}}const isPauseScreenVisible$=atom(!1),pauseScreenCurrentPanel$=atom("credits");function openPauseScreen(){isPauseScreenVisible$.set(!0)}function closePauseScreen(){isPauseScreenVisible$.set(!1),saveLoadedCallback$.value&&(saveLoadedCallback$.value(),saveLoadedCallback$.set(null)),gameSavedCallback$.value&&(gameSavedCallback$.value(),gameSavedCallback$.set(null))}isPauseScreenVisible$.subscribe(j=>{j?isPaused$.set(!0):isPaused$.set(!1)});var mousetrap={exports:{}};(function(j){(function($,_e,et){if(!$)return;for(var tt={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},nt={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rt={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},ot={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},it,at=1;at<20;++at)tt[111+at]="f"+at;for(at=0;at<=9;++at)tt[at+96]=at.toString();function ft(St,wt,It){if(St.addEventListener){St.addEventListener(wt,It,!1);return}St.attachEvent("on"+wt,It)}function st(St){if(St.type=="keypress"){var wt=String.fromCharCode(St.which);return St.shiftKey||(wt=wt.toLowerCase()),wt}return tt[St.which]?tt[St.which]:nt[St.which]?nt[St.which]:String.fromCharCode(St.which).toLowerCase()}function ut(St,wt){return St.sort().join(",")===wt.sort().join(",")}function dt(St){var wt=[];return St.shiftKey&&wt.push("shift"),St.altKey&&wt.push("alt"),St.ctrlKey&&wt.push("ctrl"),St.metaKey&&wt.push("meta"),wt}function pt(St){if(St.preventDefault){St.preventDefault();return}St.returnValue=!1}function gt(St){if(St.stopPropagation){St.stopPropagation();return}St.cancelBubble=!0}function yt(St){return St=="shift"||St=="ctrl"||St=="alt"||St=="meta"}function mt(){if(!it){it={};for(var St in tt)St>95&&St<112||tt.hasOwnProperty(St)&&(it[tt[St]]=St)}return it}function vt(St,wt,It){return It||(It=mt()[St]?"keydown":"keypress"),It=="keypress"&&wt.length&&(It="keydown"),It}function _t(St){return St==="+"?["+"]:(St=St.replace(/\+{2}/g,"+plus"),St.split("+"))}function Ct(St,wt){var It,Ut,Yt,rn=[];for(It=_t(St),Yt=0;Yt<It.length;++Yt)Ut=It[Yt],ot[Ut]&&(Ut=ot[Ut]),wt&&wt!="keypress"&&rt[Ut]&&(Ut=rt[Ut],rn.push("shift")),yt(Ut)&&rn.push(Ut);return wt=vt(Ut,rn,wt),{key:Ut,modifiers:rn,action:wt}}function At(St,wt){return St===null||St===_e?!1:St===wt?!0:At(St.parentNode,wt)}function kt(St){var wt=this;if(St=St||_e,!(wt instanceof kt))return new kt(St);wt.target=St,wt._callbacks={},wt._directMap={};var It={},Ut,Yt=!1,rn=!1,hn=!1;function Vt(nn){nn=nn||{};var un=!1,wn;for(wn in It){if(nn[wn]){un=!0;continue}It[wn]=0}un||(hn=!1)}function Zt(nn,un,wn,vn,En,Cn){var tn,bn,Jt=[],Sn=wn.type;if(!wt._callbacks[nn])return[];for(Sn=="keyup"&&yt(nn)&&(un=[nn]),tn=0;tn<wt._callbacks[nn].length;++tn)if(bn=wt._callbacks[nn][tn],!(!vn&&bn.seq&&It[bn.seq]!=bn.level)&&Sn==bn.action&&(Sn=="keypress"&&!wn.metaKey&&!wn.ctrlKey||ut(un,bn.modifiers))){var $n=!vn&&bn.combo==En,xn=vn&&bn.seq==vn&&bn.level==Cn;($n||xn)&&wt._callbacks[nn].splice(tn,1),Jt.push(bn)}return Jt}function en(nn,un,wn,vn){wt.stopCallback(un,un.target||un.srcElement,wn,vn)||nn(un,wn)===!1&&(pt(un),gt(un))}wt._handleKey=function(nn,un,wn){var vn=Zt(nn,un,wn),En,Cn={},tn=0,bn=!1;for(En=0;En<vn.length;++En)vn[En].seq&&(tn=Math.max(tn,vn[En].level));for(En=0;En<vn.length;++En){if(vn[En].seq){if(vn[En].level!=tn)continue;bn=!0,Cn[vn[En].seq]=1,en(vn[En].callback,wn,vn[En].combo,vn[En].seq);continue}bn||en(vn[En].callback,wn,vn[En].combo)}var Jt=wn.type=="keypress"&&rn;wn.type==hn&&!yt(nn)&&!Jt&&Vt(Cn),rn=bn&&wn.type=="keydown"};function fn(nn){typeof nn.which!="number"&&(nn.which=nn.keyCode);var un=st(nn);if(un){if(nn.type=="keyup"&&Yt===un){Yt=!1;return}wt.handleKey(un,dt(nn),nn)}}function zt(){clearTimeout(Ut),Ut=setTimeout(Vt,1e3)}function Wt(nn,un,wn,vn){It[nn]=0;function En(Sn){return function(){hn=Sn,++It[nn],zt()}}function Cn(Sn){en(wn,Sn,nn),vn!=="keyup"&&(Yt=st(Sn)),setTimeout(Vt,10)}for(var tn=0;tn<un.length;++tn){var bn=tn+1===un.length,Jt=bn?Cn:En(vn||Ct(un[tn+1]).action);sn(un[tn],Jt,vn,nn,tn)}}function sn(nn,un,wn,vn,En){wt._directMap[nn+":"+wn]=un,nn=nn.replace(/\s+/g," ");var Cn=nn.split(" "),tn;if(Cn.length>1){Wt(nn,Cn,un,wn);return}tn=Ct(nn,wn),wt._callbacks[tn.key]=wt._callbacks[tn.key]||[],Zt(tn.key,tn.modifiers,{type:tn.action},vn,nn,En),wt._callbacks[tn.key][vn?"unshift":"push"]({callback:un,modifiers:tn.modifiers,action:tn.action,seq:vn,level:En,combo:nn})}wt._bindMultiple=function(nn,un,wn){for(var vn=0;vn<nn.length;++vn)sn(nn[vn],un,wn)},ft(St,"keypress",fn),ft(St,"keydown",fn),ft(St,"keyup",fn)}kt.prototype.bind=function(St,wt,It){var Ut=this;return St=St instanceof Array?St:[St],Ut._bindMultiple.call(Ut,St,wt,It),Ut},kt.prototype.unbind=function(St,wt){var It=this;return It.bind.call(It,St,function(){},wt)},kt.prototype.trigger=function(St,wt){var It=this;return It._directMap[St+":"+wt]&&It._directMap[St+":"+wt]({},St),It},kt.prototype.reset=function(){var St=this;return St._callbacks={},St._directMap={},St},kt.prototype.stopCallback=function(St,wt){var It=this;if((" "+wt.className+" ").indexOf(" mousetrap ")>-1||At(wt,It.target))return!1;if("composedPath"in St&&typeof St.composedPath=="function"){var Ut=St.composedPath()[0];Ut!==St.target&&(wt=Ut)}return wt.tagName=="INPUT"||wt.tagName=="SELECT"||wt.tagName=="TEXTAREA"||wt.isContentEditable},kt.prototype.handleKey=function(){var St=this;return St._handleKey.apply(St,arguments)},kt.addKeycodes=function(St){for(var wt in St)St.hasOwnProperty(wt)&&(tt[wt]=St[wt]);it=null},kt.init=function(){var St=kt(_e);for(var wt in St)wt.charAt(0)!=="_"&&(kt[wt]=function(It){return function(){return St[It].apply(St,arguments)}}(wt))},kt.init(),$.Mousetrap=kt,j.exports&&(j.exports=kt)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(mousetrap);var mousetrapExports=mousetrap.exports;const Mousetrap=getDefaultExportFromCjs(mousetrapExports),windowManager$=create(),globalHotKeys$=create([{when_paused:!1,description:"Action #1",keys:"1",on_press:{type:"action",index:0}},{when_paused:!1,description:"Action #2",keys:"2",on_press:{type:"action",index:1}},{when_paused:!1,description:"Action #3",keys:"3",on_press:{type:"action",index:2}},{when_paused:!1,description:"Action #4",keys:"4",on_press:{type:"action",index:3}},{when_paused:!1,description:"Action #5",keys:"5",on_press:{type:"action",index:4}},{when_paused:!1,description:"Action #6",keys:"6",on_press:{type:"action",index:5}},{when_paused:!1,description:"Action #7",keys:"7",on_press:{type:"action",index:6}},{when_paused:!1,description:"Action #8",keys:"8",on_press:{type:"action",index:7}},{when_paused:!1,description:"Action #9",keys:"9",on_press:{type:"action",index:8}},{when_paused:!1,keys:"space",description:"Single action",on_press:()=>isPaused$.value?void 0:(actions$.value.length===1&&(selectAction(0),execSelectedAction()),!1)},{when_paused:!0,description:"Restart",keys:"mod+r",on_press:{type:"game_action",action:"restart"}},{when_paused:!1,description:"Quicksave",keys:"f5",on_press:{type:"game_action",action:"quicksave"}},{when_paused:!1,description:"Quickload",keys:"f9",on_press:{type:"game_action",action:"quickload"}},{when_paused:!1,keys:"mod+s",description:"Save",on_press:()=>{var $;if(!(($=qspApi$.value)!=null&&$.readVariable("NOSAVE")))return requestedAction$.set("save"),onGameCommand("pause:saves"),!1}},{when_paused:!1,keys:"mod+o",description:"Load",on_press:()=>(requestedAction$.set("load"),onGameCommand("pause:saves"),!1)},{when_paused:!0,keys:"pageup",description:"Increase volume",on_press:()=>(volume$.actions.increase(),!1)},{when_paused:!0,keys:"pagedown",description:"Decrease volume",on_press:()=>(volume$.actions.decrease(),!1)},{when_paused:!0,description:"Mute",keys:"home",on_press:{type:"game_action",action:"mute"}},{when_paused:!0,description:"Unmute",keys:"end",on_press:{type:"game_action",action:"unmute"}}]);function setupGlobalHotKeys(){for(const j of globalHotKeys$.value)Mousetrap.bind([j.keys],($,_e)=>{if(!(!j.when_paused&&isPaused$.value)){if(typeof j.on_press=="function")return j.on_press($,_e);if(j.on_press.type==="action"){if(canSelectAction(j.on_press.index))return selectAction(j.on_press.index),execSelectedAction(),!1}else if(j.on_press.type==="game_action")return onGameCommand(j.on_press.action),!1}})}function setupCustomHotKeys(j){for(const[$,_e]of Object.entries(j))Mousetrap.bind($,()=>{var et;if(!isPaused$.value)return(et=qspApi$.value)==null||et.execLoc(_e),!1})}const prettySymbolsCommon={backspace:"BackSpace",tab:"Tab",enter:" Enter",capslock:"CapsLock",space:"Space",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",left:"",up:"",right:"",down:"",ins:"Insert",del:"Delete",plus:"+",shift:"Shift",ctrl:"Ctrl",alt:"Alt",mod:"Ctrl"},prettySymbolsMacOs={shift:"",ctrl:"",alt:"",mod:""};function prettifyHotkeys(j){var et;const $=[],_e=j.split(" ");for(let tt=0;tt<_e.length;tt++){const nt=_e[tt].split("+");for(let rt=0;rt<nt.length;rt++){let ot=nt[rt];ot in prettySymbolsCommon&&(ot=prettySymbolsCommon[ot]),((et=windowManager$.value)==null?void 0:et.platform)==="Macintosh"&&nt[rt]in prettySymbolsMacOs&&(ot=prettySymbolsMacOs[nt[rt]]),$.push({type:"key",symbol:ot}),rt<nt.length-1&&$.push({type:"separator",symbol:"+"})}tt<_e.length-1&&$.push({type:"separator",symbol:" "})}return $}function clearHotkeys(){Mousetrap.reset()}var WxWidgetsDirection=(j=>(j[j.top=1]="top",j[j.right=2]="right",j[j.bottom=3]="bottom",j[j.left=4]="left",j[j.center=5]="center",j))(WxWidgetsDirection||{});const CAPTION_SIZE=20,qspGuiCfg$=atom(null);function buildLayoutTree(j){const $=getMaxLayer(j),_e=j.filter(nt=>nt.floating&&nt.name==="imgview"),et=j.filter(nt=>!nt.floating);let tt=null;for(let nt=0;nt<=$;nt++){const rt=getLayerPanels(nt,et);tt={index:nt,top:[],right:[],bottom:[],left:[],center:tt||[]};for(const ot of rt)ot.dir==="center"&&ot.name!=="desc"||tt[ot.dir].push(ot)}return{layer:tt?cleanEmptyLayers(tt):null,floating:_e}}function cleanEmptyLayers(j){return Array.isArray(j.center)?j:!j.top.length&&!j.right.length&&!j.bottom.length&&!j.left.length?cleanEmptyLayers(j.center):(j.center=cleanEmptyLayers(j.center),j)}function convertLayer(j,$,_e){return`<qsp-cl-layer>${convertDock("top",j.top,$,_e)}${convertDock("left",j.left,$,_e)}${Array.isArray(j.center)?convertDock("center",j.center,$,_e):convertLayer(j.center,$,_e)}${convertDock("right",j.right,$,_e)}${convertDock("bottom",j.bottom,$,_e)}</qsp-cl-layer>`}function convertDock(j,$,_e,et){if(!$.length)return"";const tt=$.map(at=>at.name!=="desc"?at.name:"").filter(Boolean),nt=tt.length>0?` visibility="${tt.join("|")}"`:"",[rt]=$,ot=`${WxWidgetsDirection[rt.dir]},${rt.layer},${rt.row}`;let it="";if(j!=="center")if(_e[ot])it=` size="${j==="bottom"||j==="top"?_e[ot]-CAPTION_SIZE:_e[ot]}"`;else{const at=j==="left"||j==="right"?"bestw":"besth";it=` size="${Math.max(...$.map(st=>st[at]))}"`}return`<qsp-cl-dock place="${j}"${nt}${it}>${$.map(at=>convertPane(at,et,!1)).join("")}</qsp-cl-dock>`}function convertPane(j,$,_e){return`<qsp-cl-pane visibility="${j.name!=="desc"?j.name:""}" proportion="${j.prop}">${extractFromDefaultTheme(j.name,$,_e)}</qsp-cl-pane>`}function getMaxLayer(j){return Math.max(...j.map(({layer:$})=>$))}function getLayerPanels(j,$){return $.filter(_e=>_e.layer===j).sort((_e,et)=>_e.pos-et.pos)}const paneToTagMap={imgview:"qsp-view",acts:"qsp-actions",desc:"qsp-main",objs:"qsp-objects",vars:"qsp-stats",input:"qsp-cmd"};function extractFromDefaultTheme(j,$,_e){const et=paneToTagMap[j];if(!et)return"";const tt=new RegExp(`<${et}([\\s\\S]*?)</${et}>`,"im"),nt=$.match(tt),rt=(nt==null?void 0:nt[0])??"";return _e?rt.replace(new RegExp(`<${et}(.*?)>`,"im"),`<${et} modal>`):rt.replace(new RegExp(`<${et}(.*?)>`,"im"),`<${et}>`)}const GROUP_REGEXP=/\[(.*?)\]/i,LINE_REGEXP=/(.*?)=(.*)/i,DOCK_LINE=/dock_size\((.*?)\)=(.*)/,IS_FLOATABLE_MASK=1,asNumber=(j,$)=>({[j]:Number($)}),asString=(j,$)=>({[j]:$}),converters={BackColor:asNumber,FontColor:asNumber,LinkColor:asNumber,FontSize:asNumber,FontName:asString,Panels:parsePanels,dir:(j,$)=>({[j]:WxWidgetsDirection[$]}),layer:asNumber,name:asString,pos:asNumber,row:asNumber,prop:asNumber,bestw:asNumber,besth:asNumber};function processData(j,$){const _e=converters[j];return(_e==null?void 0:_e(j,$))??{}}function parsePanels(j,$){const _e=[],et={};for(const tt of $.split("|").filter(Boolean))if(tt!=="layout2")if(tt.startsWith("dock_size")){const nt=tt.match(DOCK_LINE);if(nt){const[,rt,ot]=nt;rt&&ot&&(et[rt]=Number(ot))}}else{const nt=tt.split(";").map(extractLineData).reduce((rt,[ot,it])=>{if(ot==="state")rt.floating=(Number(it)&IS_FLOATABLE_MASK)!==0;else if(ot&&it&&ot in converters)return{...rt,...processData(ot,it)};return rt},{});_e.push(nt)}return{Panels:_e,Docks:et}}function extractLineData(j){const $=j.match(LINE_REGEXP);if($){const[,_e,et]=$;return[_e,et]}return[]}function parseCfg(j){let $={};for(const _e of j.split(/\r?\n/gim).filter(Boolean)){if(GROUP_REGEXP.test(_e))continue;const[et,tt]=extractLineData(_e);et&&tt&&et in converters&&($={...$,...processData(et,tt)})}return $}const consoleLogger={type:"logger",log(j){this.output("log",j)},warn(j){this.output("warn",j)},error(j){this.output("error",j)},output(j,$){console&&console[j]&&console[j].apply(console,$)}};class Logger{constructor($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init($,_e)}init($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=_e.prefix||"i18next:",this.logger=$||consoleLogger,this.options=_e,this.debug=_e.debug}log(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return this.forward(_e,"log","",!0)}warn(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return this.forward(_e,"warn","",!0)}error(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return this.forward(_e,"error","")}deprecate(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return this.forward(_e,"warn","WARNING DEPRECATED: ",!0)}forward($,_e,et,tt){return tt&&!this.debug?null:(typeof $[0]=="string"&&($[0]=`${et}${this.prefix} ${$[0]}`),this.logger[_e]($))}create($){return new Logger(this.logger,{prefix:`${this.prefix}:${$}:`,...this.options})}clone($){return $=$||this.options,$.prefix=$.prefix||this.prefix,new Logger(this.logger,$)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on($,_e){return $.split(" ").forEach(et=>{this.observers[et]||(this.observers[et]=new Map);const tt=this.observers[et].get(_e)||0;this.observers[et].set(_e,tt+1)}),this}off($,_e){if(this.observers[$]){if(!_e){delete this.observers[$];return}this.observers[$].delete(_e)}}emit($){for(var _e=arguments.length,et=new Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];this.observers[$]&&Array.from(this.observers[$].entries()).forEach(rt=>{let[ot,it]=rt;for(let at=0;at<it;at++)ot(...et)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(rt=>{let[ot,it]=rt;for(let at=0;at<it;at++)ot.apply(ot,[$,...et])})}}const defer=()=>{let j,$;const _e=new Promise((et,tt)=>{j=et,$=tt});return _e.resolve=j,_e.reject=$,_e},makeString=j=>j==null?"":""+j,copy=(j,$,_e)=>{j.forEach(et=>{$[et]&&(_e[et]=$[et])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=j=>j&&j.indexOf("###")>-1?j.replace(lastOfPathSeparatorRegExp,"."):j,canNotTraverseDeeper=j=>!j||typeof j=="string",getLastOfPath=(j,$,_e)=>{const et=typeof $!="string"?$:$.split(".");let tt=0;for(;tt<et.length-1;){if(canNotTraverseDeeper(j))return{};const nt=cleanKey(et[tt]);!j[nt]&&_e&&(j[nt]=new _e),Object.prototype.hasOwnProperty.call(j,nt)?j=j[nt]:j={},++tt}return canNotTraverseDeeper(j)?{}:{obj:j,k:cleanKey(et[tt])}},setPath=(j,$,_e)=>{const{obj:et,k:tt}=getLastOfPath(j,$,Object);if(et!==void 0||$.length===1){et[tt]=_e;return}let nt=$[$.length-1],rt=$.slice(0,$.length-1),ot=getLastOfPath(j,rt,Object);for(;ot.obj===void 0&&rt.length;)nt=`${rt[rt.length-1]}.${nt}`,rt=rt.slice(0,rt.length-1),ot=getLastOfPath(j,rt,Object),ot&&ot.obj&&typeof ot.obj[`${ot.k}.${nt}`]<"u"&&(ot.obj=void 0);ot.obj[`${ot.k}.${nt}`]=_e},pushPath=(j,$,_e,et)=>{const{obj:tt,k:nt}=getLastOfPath(j,$,Object);tt[nt]=tt[nt]||[],tt[nt].push(_e)},getPath=(j,$)=>{const{obj:_e,k:et}=getLastOfPath(j,$);if(_e)return _e[et]},getPathWithDefaults=(j,$,_e)=>{const et=getPath(j,_e);return et!==void 0?et:getPath($,_e)},deepExtend=(j,$,_e)=>{for(const et in $)et!=="__proto__"&&et!=="constructor"&&(et in j?typeof j[et]=="string"||j[et]instanceof String||typeof $[et]=="string"||$[et]instanceof String?_e&&(j[et]=$[et]):deepExtend(j[et],$[et],_e):j[et]=$[et]);return j},regexEscape=j=>j.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=j=>typeof j=="string"?j.replace(/[&<>"'\/]/g,$=>_entityMap[$]):j;class RegExpCache{constructor($){this.capacity=$,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp($){const _e=this.regExpMap.get($);if(_e!==void 0)return _e;const et=new RegExp($);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set($,et),this.regExpQueue.push($),et}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(j,$,_e)=>{$=$||"",_e=_e||"";const et=chars.filter(rt=>$.indexOf(rt)<0&&_e.indexOf(rt)<0);if(et.length===0)return!0;const tt=looksLikeObjectPathRegExpCache.getRegExp(`(${et.map(rt=>rt==="?"?"\\?":rt).join("|")})`);let nt=!tt.test(j);if(!nt){const rt=j.indexOf(_e);rt>0&&!tt.test(j.substring(0,rt))&&(nt=!0)}return nt},deepFind=function(j,$){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!j)return;if(j[$])return j[$];const et=$.split(_e);let tt=j;for(let nt=0;nt<et.length;){if(!tt||typeof tt!="object")return;let rt,ot="";for(let it=nt;it<et.length;++it)if(it!==nt&&(ot+=_e),ot+=et[it],rt=tt[ot],rt!==void 0){if(["string","number","boolean"].indexOf(typeof rt)>-1&&it<et.length-1)continue;nt+=it-nt+1;break}tt=rt}return tt},getCleanedCode=j=>j&&j.indexOf("_")>0?j.replace("_","-"):j;class ResourceStore extends EventEmitter{constructor($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=$||{},this.options=_e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces($){this.options.ns.indexOf($)<0&&this.options.ns.push($)}removeNamespaces($){const _e=this.options.ns.indexOf($);_e>-1&&this.options.ns.splice(_e,1)}getResource($,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const nt=tt.keySeparator!==void 0?tt.keySeparator:this.options.keySeparator,rt=tt.ignoreJSONStructure!==void 0?tt.ignoreJSONStructure:this.options.ignoreJSONStructure;let ot;$.indexOf(".")>-1?ot=$.split("."):(ot=[$,_e],et&&(Array.isArray(et)?ot.push(...et):typeof et=="string"&&nt?ot.push(...et.split(nt)):ot.push(et)));const it=getPath(this.data,ot);return!it&&!_e&&!et&&$.indexOf(".")>-1&&($=ot[0],_e=ot[1],et=ot.slice(2).join(".")),it||!rt||typeof et!="string"?it:deepFind(this.data&&this.data[$]&&this.data[$][_e],et,nt)}addResource($,_e,et,tt){let nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const rt=nt.keySeparator!==void 0?nt.keySeparator:this.options.keySeparator;let ot=[$,_e];et&&(ot=ot.concat(rt?et.split(rt):et)),$.indexOf(".")>-1&&(ot=$.split("."),tt=_e,_e=ot[1]),this.addNamespaces(_e),setPath(this.data,ot,tt),nt.silent||this.emit("added",$,_e,et,tt)}addResources($,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const nt in et)(typeof et[nt]=="string"||Array.isArray(et[nt]))&&this.addResource($,_e,nt,et[nt],{silent:!0});tt.silent||this.emit("added",$,_e,et)}addResourceBundle($,_e,et,tt,nt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},ot=[$,_e];$.indexOf(".")>-1&&(ot=$.split("."),tt=et,et=_e,_e=ot[1]),this.addNamespaces(_e);let it=getPath(this.data,ot)||{};rt.skipCopy||(et=JSON.parse(JSON.stringify(et))),tt?deepExtend(it,et,nt):it={...it,...et},setPath(this.data,ot,it),rt.silent||this.emit("added",$,_e,et)}removeResourceBundle($,_e){this.hasResourceBundle($,_e)&&delete this.data[$][_e],this.removeNamespaces(_e),this.emit("removed",$,_e)}hasResourceBundle($,_e){return this.getResource($,_e)!==void 0}getResourceBundle($,_e){return _e||(_e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource($,_e)}:this.getResource($,_e)}getDataByLanguage($){return this.data[$]}hasLanguageSomeTranslations($){const _e=this.getDataByLanguage($);return!!(_e&&Object.keys(_e)||[]).find(tt=>_e[tt]&&Object.keys(_e[tt]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(j){this.processors[j.name]=j},handle(j,$,_e,et,tt){return j.forEach(nt=>{this.processors[nt]&&($=this.processors[nt].process($,_e,et,tt))}),$}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],$,this),this.options=_e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage($){$&&(this.language=$)}exists($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if($==null)return!1;const et=this.resolve($,_e);return et&&et.res!==void 0}extractFromKey($,_e){let et=_e.nsSeparator!==void 0?_e.nsSeparator:this.options.nsSeparator;et===void 0&&(et=":");const tt=_e.keySeparator!==void 0?_e.keySeparator:this.options.keySeparator;let nt=_e.ns||this.options.defaultNS||[];const rt=et&&$.indexOf(et)>-1,ot=!this.options.userDefinedKeySeparator&&!_e.keySeparator&&!this.options.userDefinedNsSeparator&&!_e.nsSeparator&&!looksLikeObjectPath($,et,tt);if(rt&&!ot){const it=$.match(this.interpolator.nestingRegexp);if(it&&it.length>0)return{key:$,namespaces:nt};const at=$.split(et);(et!==tt||et===tt&&this.options.ns.indexOf(at[0])>-1)&&(nt=at.shift()),$=at.join(tt)}return typeof nt=="string"&&(nt=[nt]),{key:$,namespaces:nt}}translate($,_e,et){if(typeof _e!="object"&&this.options.overloadTranslationOptionHandler&&(_e=this.options.overloadTranslationOptionHandler(arguments)),typeof _e=="object"&&(_e={..._e}),_e||(_e={}),$==null)return"";Array.isArray($)||($=[String($)]);const tt=_e.returnDetails!==void 0?_e.returnDetails:this.options.returnDetails,nt=_e.keySeparator!==void 0?_e.keySeparator:this.options.keySeparator,{key:rt,namespaces:ot}=this.extractFromKey($[$.length-1],_e),it=ot[ot.length-1],at=_e.lng||this.language,ft=_e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(at&&at.toLowerCase()==="cimode"){if(ft){const Ct=_e.nsSeparator||this.options.nsSeparator;return tt?{res:`${it}${Ct}${rt}`,usedKey:rt,exactUsedKey:rt,usedLng:at,usedNS:it,usedParams:this.getUsedParamsDetails(_e)}:`${it}${Ct}${rt}`}return tt?{res:rt,usedKey:rt,exactUsedKey:rt,usedLng:at,usedNS:it,usedParams:this.getUsedParamsDetails(_e)}:rt}const st=this.resolve($,_e);let ut=st&&st.res;const dt=st&&st.usedKey||rt,pt=st&&st.exactUsedKey||rt,gt=Object.prototype.toString.apply(ut),yt=["[object Number]","[object Function]","[object RegExp]"],mt=_e.joinArrays!==void 0?_e.joinArrays:this.options.joinArrays,vt=!this.i18nFormat||this.i18nFormat.handleAsObject;if(vt&&ut&&(typeof ut!="string"&&typeof ut!="boolean"&&typeof ut!="number")&&yt.indexOf(gt)<0&&!(typeof mt=="string"&&Array.isArray(ut))){if(!_e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Ct=this.options.returnedObjectHandler?this.options.returnedObjectHandler(dt,ut,{..._e,ns:ot}):`key '${rt} (${this.language})' returned an object instead of string.`;return tt?(st.res=Ct,st.usedParams=this.getUsedParamsDetails(_e),st):Ct}if(nt){const Ct=Array.isArray(ut),At=Ct?[]:{},kt=Ct?pt:dt;for(const St in ut)if(Object.prototype.hasOwnProperty.call(ut,St)){const wt=`${kt}${nt}${St}`;At[St]=this.translate(wt,{..._e,joinArrays:!1,ns:ot}),At[St]===wt&&(At[St]=ut[St])}ut=At}}else if(vt&&typeof mt=="string"&&Array.isArray(ut))ut=ut.join(mt),ut&&(ut=this.extendTranslation(ut,$,_e,et));else{let Ct=!1,At=!1;const kt=_e.count!==void 0&&typeof _e.count!="string",St=Translator.hasDefaultValue(_e),wt=kt?this.pluralResolver.getSuffix(at,_e.count,_e):"",It=_e.ordinal&&kt?this.pluralResolver.getSuffix(at,_e.count,{ordinal:!1}):"",Ut=kt&&!_e.ordinal&&_e.count===0&&this.pluralResolver.shouldUseIntlApi(),Yt=Ut&&_e[`defaultValue${this.options.pluralSeparator}zero`]||_e[`defaultValue${wt}`]||_e[`defaultValue${It}`]||_e.defaultValue;!this.isValidLookup(ut)&&St&&(Ct=!0,ut=Yt),this.isValidLookup(ut)||(At=!0,ut=rt);const hn=(_e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&At?void 0:ut,Vt=St&&Yt!==ut&&this.options.updateMissing;if(At||Ct||Vt){if(this.logger.log(Vt?"updateKey":"missingKey",at,it,rt,Vt?Yt:ut),nt){const zt=this.resolve(rt,{..._e,keySeparator:!1});zt&&zt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Zt=[];const en=this.languageUtils.getFallbackCodes(this.options.fallbackLng,_e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&en&&en[0])for(let zt=0;zt<en.length;zt++)Zt.push(en[zt]);else this.options.saveMissingTo==="all"?Zt=this.languageUtils.toResolveHierarchy(_e.lng||this.language):Zt.push(_e.lng||this.language);const fn=(zt,Wt,sn)=>{const nn=St&&sn!==ut?sn:hn;this.options.missingKeyHandler?this.options.missingKeyHandler(zt,it,Wt,nn,Vt,_e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(zt,it,Wt,nn,Vt,_e),this.emit("missingKey",zt,it,Wt,ut)};this.options.saveMissing&&(this.options.saveMissingPlurals&&kt?Zt.forEach(zt=>{const Wt=this.pluralResolver.getSuffixes(zt,_e);Ut&&_e[`defaultValue${this.options.pluralSeparator}zero`]&&Wt.indexOf(`${this.options.pluralSeparator}zero`)<0&&Wt.push(`${this.options.pluralSeparator}zero`),Wt.forEach(sn=>{fn([zt],rt+sn,_e[`defaultValue${sn}`]||Yt)})}):fn(Zt,rt,Yt))}ut=this.extendTranslation(ut,$,_e,st,et),At&&ut===rt&&this.options.appendNamespaceToMissingKey&&(ut=`${it}:${rt}`),(At||Ct)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?ut=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${it}:${rt}`:rt,Ct?ut:void 0):ut=this.options.parseMissingKeyHandler(ut))}return tt?(st.res=ut,st.usedParams=this.getUsedParamsDetails(_e),st):ut}extendTranslation($,_e,et,tt,nt){var rt=this;if(this.i18nFormat&&this.i18nFormat.parse)$=this.i18nFormat.parse($,{...this.options.interpolation.defaultVariables,...et},et.lng||this.language||tt.usedLng,tt.usedNS,tt.usedKey,{resolved:tt});else if(!et.skipInterpolation){et.interpolation&&this.interpolator.init({...et,interpolation:{...this.options.interpolation,...et.interpolation}});const at=typeof $=="string"&&(et&&et.interpolation&&et.interpolation.skipOnVariables!==void 0?et.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let ft;if(at){const ut=$.match(this.interpolator.nestingRegexp);ft=ut&&ut.length}let st=et.replace&&typeof et.replace!="string"?et.replace:et;if(this.options.interpolation.defaultVariables&&(st={...this.options.interpolation.defaultVariables,...st}),$=this.interpolator.interpolate($,st,et.lng||this.language||tt.usedLng,et),at){const ut=$.match(this.interpolator.nestingRegexp),dt=ut&&ut.length;ft<dt&&(et.nest=!1)}!et.lng&&this.options.compatibilityAPI!=="v1"&&tt&&tt.res&&(et.lng=this.language||tt.usedLng),et.nest!==!1&&($=this.interpolator.nest($,function(){for(var ut=arguments.length,dt=new Array(ut),pt=0;pt<ut;pt++)dt[pt]=arguments[pt];return nt&&nt[0]===dt[0]&&!et.context?(rt.logger.warn(`It seems you are nesting recursively key: ${dt[0]} in key: ${_e[0]}`),null):rt.translate(...dt,_e)},et)),et.interpolation&&this.interpolator.reset()}const ot=et.postProcess||this.options.postProcess,it=typeof ot=="string"?[ot]:ot;return $!=null&&it&&it.length&&et.applyPostProcessor!==!1&&($=postProcessor.handle(it,$,_e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...tt,usedParams:this.getUsedParamsDetails(et)},...et}:et,this)),$}resolve($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et,tt,nt,rt,ot;return typeof $=="string"&&($=[$]),$.forEach(it=>{if(this.isValidLookup(et))return;const at=this.extractFromKey(it,_e),ft=at.key;tt=ft;let st=at.namespaces;this.options.fallbackNS&&(st=st.concat(this.options.fallbackNS));const ut=_e.count!==void 0&&typeof _e.count!="string",dt=ut&&!_e.ordinal&&_e.count===0&&this.pluralResolver.shouldUseIntlApi(),pt=_e.context!==void 0&&(typeof _e.context=="string"||typeof _e.context=="number")&&_e.context!=="",gt=_e.lngs?_e.lngs:this.languageUtils.toResolveHierarchy(_e.lng||this.language,_e.fallbackLng);st.forEach(yt=>{this.isValidLookup(et)||(ot=yt,!checkedLoadedFor[`${gt[0]}-${yt}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(ot)&&(checkedLoadedFor[`${gt[0]}-${yt}`]=!0,this.logger.warn(`key "${tt}" for languages "${gt.join(", ")}" won't get resolved as namespace "${ot}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),gt.forEach(mt=>{if(this.isValidLookup(et))return;rt=mt;const vt=[ft];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(vt,ft,mt,yt,_e);else{let Ct;ut&&(Ct=this.pluralResolver.getSuffix(mt,_e.count,_e));const At=`${this.options.pluralSeparator}zero`,kt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(ut&&(vt.push(ft+Ct),_e.ordinal&&Ct.indexOf(kt)===0&&vt.push(ft+Ct.replace(kt,this.options.pluralSeparator)),dt&&vt.push(ft+At)),pt){const St=`${ft}${this.options.contextSeparator}${_e.context}`;vt.push(St),ut&&(vt.push(St+Ct),_e.ordinal&&Ct.indexOf(kt)===0&&vt.push(St+Ct.replace(kt,this.options.pluralSeparator)),dt&&vt.push(St+At))}}let _t;for(;_t=vt.pop();)this.isValidLookup(et)||(nt=_t,et=this.getResource(mt,yt,_t,_e))}))})}),{res:et,usedKey:tt,exactUsedKey:nt,usedLng:rt,usedNS:ot}}isValidLookup($){return $!==void 0&&!(!this.options.returnNull&&$===null)&&!(!this.options.returnEmptyString&&$==="")}getResource($,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource($,_e,et,tt):this.resourceStore.getResource($,_e,et,tt)}getUsedParamsDetails(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],et=$.replace&&typeof $.replace!="string";let tt=et?$.replace:$;if(et&&typeof $.count<"u"&&(tt.count=$.count),this.options.interpolation.defaultVariables&&(tt={...this.options.interpolation.defaultVariables,...tt}),!et){tt={...tt};for(const nt of _e)delete tt[nt]}return tt}static hasDefaultValue($){const _e="defaultValue";for(const et in $)if(Object.prototype.hasOwnProperty.call($,et)&&_e===et.substring(0,_e.length)&&$[et]!==void 0)return!0;return!1}}const capitalize=j=>j.charAt(0).toUpperCase()+j.slice(1);class LanguageUtil{constructor($){this.options=$,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode($){if($=getCleanedCode($),!$||$.indexOf("-")<0)return null;const _e=$.split("-");return _e.length===2||(_e.pop(),_e[_e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(_e.join("-"))}getLanguagePartFromCode($){if($=getCleanedCode($),!$||$.indexOf("-")<0)return $;const _e=$.split("-");return this.formatLanguageCode(_e[0])}formatLanguageCode($){if(typeof $=="string"&&$.indexOf("-")>-1){const _e=["hans","hant","latn","cyrl","cans","mong","arab"];let et=$.split("-");return this.options.lowerCaseLng?et=et.map(tt=>tt.toLowerCase()):et.length===2?(et[0]=et[0].toLowerCase(),et[1]=et[1].toUpperCase(),_e.indexOf(et[1].toLowerCase())>-1&&(et[1]=capitalize(et[1].toLowerCase()))):et.length===3&&(et[0]=et[0].toLowerCase(),et[1].length===2&&(et[1]=et[1].toUpperCase()),et[0]!=="sgn"&&et[2].length===2&&(et[2]=et[2].toUpperCase()),_e.indexOf(et[1].toLowerCase())>-1&&(et[1]=capitalize(et[1].toLowerCase())),_e.indexOf(et[2].toLowerCase())>-1&&(et[2]=capitalize(et[2].toLowerCase()))),et.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?$.toLowerCase():$}isSupportedCode($){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&($=this.getLanguagePartFromCode($)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf($)>-1}getBestMatchFromCodes($){if(!$)return null;let _e;return $.forEach(et=>{if(_e)return;const tt=this.formatLanguageCode(et);(!this.options.supportedLngs||this.isSupportedCode(tt))&&(_e=tt)}),!_e&&this.options.supportedLngs&&$.forEach(et=>{if(_e)return;const tt=this.getLanguagePartFromCode(et);if(this.isSupportedCode(tt))return _e=tt;_e=this.options.supportedLngs.find(nt=>{if(nt===tt)return nt;if(!(nt.indexOf("-")<0&&tt.indexOf("-")<0)&&(nt.indexOf("-")>0&&tt.indexOf("-")<0&&nt.substring(0,nt.indexOf("-"))===tt||nt.indexOf(tt)===0&&tt.length>1))return nt})}),_e||(_e=this.getFallbackCodes(this.options.fallbackLng)[0]),_e}getFallbackCodes($,_e){if(!$)return[];if(typeof $=="function"&&($=$(_e)),typeof $=="string"&&($=[$]),Array.isArray($))return $;if(!_e)return $.default||[];let et=$[_e];return et||(et=$[this.getScriptPartFromCode(_e)]),et||(et=$[this.formatLanguageCode(_e)]),et||(et=$[this.getLanguagePartFromCode(_e)]),et||(et=$.default),et||[]}toResolveHierarchy($,_e){const et=this.getFallbackCodes(_e||this.options.fallbackLng||[],$),tt=[],nt=rt=>{rt&&(this.isSupportedCode(rt)?tt.push(rt):this.logger.warn(`rejecting language code not found in supportedLngs: ${rt}`))};return typeof $=="string"&&($.indexOf("-")>-1||$.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&nt(this.formatLanguageCode($)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&nt(this.getScriptPartFromCode($)),this.options.load!=="currentOnly"&&nt(this.getLanguagePartFromCode($))):typeof $=="string"&&nt(this.formatLanguageCode($)),et.forEach(rt=>{tt.indexOf(rt)<0&&nt(this.formatLanguageCode(rt))}),tt}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:j=>+(j>1),2:j=>+(j!=1),3:j=>0,4:j=>j%10==1&&j%100!=11?0:j%10>=2&&j%10<=4&&(j%100<10||j%100>=20)?1:2,5:j=>j==0?0:j==1?1:j==2?2:j%100>=3&&j%100<=10?3:j%100>=11?4:5,6:j=>j==1?0:j>=2&&j<=4?1:2,7:j=>j==1?0:j%10>=2&&j%10<=4&&(j%100<10||j%100>=20)?1:2,8:j=>j==1?0:j==2?1:j!=8&&j!=11?2:3,9:j=>+(j>=2),10:j=>j==1?0:j==2?1:j<7?2:j<11?3:4,11:j=>j==1||j==11?0:j==2||j==12?1:j>2&&j<20?2:3,12:j=>+(j%10!=1||j%100==11),13:j=>+(j!==0),14:j=>j==1?0:j==2?1:j==3?2:3,15:j=>j%10==1&&j%100!=11?0:j%10>=2&&(j%100<10||j%100>=20)?1:2,16:j=>j%10==1&&j%100!=11?0:j!==0?1:2,17:j=>j==1||j%10==1&&j%100!=11?0:1,18:j=>j==0?0:j==1?1:2,19:j=>j==1?0:j==0||j%100>1&&j%100<11?1:j%100>10&&j%100<20?2:3,20:j=>j==1?0:j==0||j%100>0&&j%100<20?1:2,21:j=>j%100==1?1:j%100==2?2:j%100==3||j%100==4?3:0,22:j=>j==1?0:j==2?1:(j<0||j>10)&&j%10==0?2:3};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},createRules=()=>{const j={};return sets.forEach($=>{$.lngs.forEach(_e=>{j[_e]={numbers:$.nr,plurals:_rulesPluralsTypes[$.fc]}})}),j};class PluralResolver{constructor($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=$,this.options=_e,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules(),this.pluralRulesCache={}}addRule($,_e){this.rules[$]=_e}clearCache(){this.pluralRulesCache={}}getRule($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const et=getCleanedCode($==="dev"?"en":$),tt=_e.ordinal?"ordinal":"cardinal",nt=JSON.stringify({cleanedCode:et,type:tt});if(nt in this.pluralRulesCache)return this.pluralRulesCache[nt];const rt=new Intl.PluralRules(et,{type:tt});return this.pluralRulesCache[nt]=rt,rt}catch{return}return this.rules[$]||this.rules[this.languageUtils.getLanguagePartFromCode($)]}needsPlural($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const et=this.getRule($,_e);return this.shouldUseIntlApi()?et&&et.resolvedOptions().pluralCategories.length>1:et&&et.numbers.length>1}getPluralFormsOfKey($,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes($,et).map(tt=>`${_e}${tt}`)}getSuffixes($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const et=this.getRule($,_e);return et?this.shouldUseIntlApi()?et.resolvedOptions().pluralCategories.sort((tt,nt)=>suffixesOrder[tt]-suffixesOrder[nt]).map(tt=>`${this.options.prepend}${_e.ordinal?`ordinal${this.options.prepend}`:""}${tt}`):et.numbers.map(tt=>this.getSuffix($,tt,_e)):[]}getSuffix($,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const tt=this.getRule($,et);return tt?this.shouldUseIntlApi()?`${this.options.prepend}${et.ordinal?`ordinal${this.options.prepend}`:""}${tt.select(_e)}`:this.getSuffixRetroCompatible(tt,_e):(this.logger.warn(`no plural rule found for: ${$}`),"")}getSuffixRetroCompatible($,_e){const et=$.noAbs?$.plurals(_e):$.plurals(Math.abs(_e));let tt=$.numbers[et];this.options.simplifyPluralSuffix&&$.numbers.length===2&&$.numbers[0]===1&&(tt===2?tt="plural":tt===1&&(tt=""));const nt=()=>this.options.prepend&&tt.toString()?this.options.prepend+tt.toString():tt.toString();return this.options.compatibilityJSON==="v1"?tt===1?"":typeof tt=="number"?`_plural_${tt.toString()}`:nt():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&$.numbers.length===2&&$.numbers[0]===1?nt():this.options.prepend&&et.toString()?this.options.prepend+et.toString():et.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}const deepFindWithDefaults=function(j,$,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,nt=getPathWithDefaults(j,$,_e);return!nt&&tt&&typeof _e=="string"&&(nt=deepFind(j,_e,et),nt===void 0&&(nt=deepFind($,_e,et))),nt},regexSafe=j=>j.replace(/\$/g,"$$$$");class Interpolator{constructor(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=$,this.format=$.interpolation&&$.interpolation.format||(_e=>_e),this.init($)}init(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$.interpolation||($.interpolation={escapeValue:!0});const{escape:_e,escapeValue:et,useRawValueToEscape:tt,prefix:nt,prefixEscaped:rt,suffix:ot,suffixEscaped:it,formatSeparator:at,unescapeSuffix:ft,unescapePrefix:st,nestingPrefix:ut,nestingPrefixEscaped:dt,nestingSuffix:pt,nestingSuffixEscaped:gt,nestingOptionsSeparator:yt,maxReplaces:mt,alwaysFormat:vt}=$.interpolation;this.escape=_e!==void 0?_e:escape,this.escapeValue=et!==void 0?et:!0,this.useRawValueToEscape=tt!==void 0?tt:!1,this.prefix=nt?regexEscape(nt):rt||"{{",this.suffix=ot?regexEscape(ot):it||"}}",this.formatSeparator=at||",",this.unescapePrefix=ft?"":st||"-",this.unescapeSuffix=this.unescapePrefix?"":ft||"",this.nestingPrefix=ut?regexEscape(ut):dt||regexEscape("$t("),this.nestingSuffix=pt?regexEscape(pt):gt||regexEscape(")"),this.nestingOptionsSeparator=yt||",",this.maxReplaces=mt||1e3,this.alwaysFormat=vt!==void 0?vt:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const $=(_e,et)=>_e&&_e.source===et?(_e.lastIndex=0,_e):new RegExp(et,"g");this.regexp=$(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=$(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=$(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate($,_e,et,tt){let nt,rt,ot;const it=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},at=dt=>{if(dt.indexOf(this.formatSeparator)<0){const mt=deepFindWithDefaults(_e,it,dt,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(mt,void 0,et,{...tt,..._e,interpolationkey:dt}):mt}const pt=dt.split(this.formatSeparator),gt=pt.shift().trim(),yt=pt.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(_e,it,gt,this.options.keySeparator,this.options.ignoreJSONStructure),yt,et,{...tt,..._e,interpolationkey:gt})};this.resetRegExp();const ft=tt&&tt.missingInterpolationHandler||this.options.missingInterpolationHandler,st=tt&&tt.interpolation&&tt.interpolation.skipOnVariables!==void 0?tt.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:dt=>regexSafe(dt)},{regex:this.regexp,safeValue:dt=>this.escapeValue?regexSafe(this.escape(dt)):regexSafe(dt)}].forEach(dt=>{for(ot=0;nt=dt.regex.exec($);){const pt=nt[1].trim();if(rt=at(pt),rt===void 0)if(typeof ft=="function"){const yt=ft($,nt,tt);rt=typeof yt=="string"?yt:""}else if(tt&&Object.prototype.hasOwnProperty.call(tt,pt))rt="";else if(st){rt=nt[0];continue}else this.logger.warn(`missed to pass in variable ${pt} for interpolating ${$}`),rt="";else typeof rt!="string"&&!this.useRawValueToEscape&&(rt=makeString(rt));const gt=dt.safeValue(rt);if($=$.replace(nt[0],gt),st?(dt.regex.lastIndex+=rt.length,dt.regex.lastIndex-=nt[0].length):dt.regex.lastIndex=0,ot++,ot>=this.maxReplaces)break}}),$}nest($,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt,nt,rt;const ot=(it,at)=>{const ft=this.nestingOptionsSeparator;if(it.indexOf(ft)<0)return it;const st=it.split(new RegExp(`${ft}[ ]*{`));let ut=`{${st[1]}`;it=st[0],ut=this.interpolate(ut,rt);const dt=ut.match(/'/g),pt=ut.match(/"/g);(dt&&dt.length%2===0&&!pt||pt.length%2!==0)&&(ut=ut.replace(/'/g,'"'));try{rt=JSON.parse(ut),at&&(rt={...at,...rt})}catch(gt){return this.logger.warn(`failed parsing options string in nesting for key ${it}`,gt),`${it}${ft}${ut}`}return rt.defaultValue&&rt.defaultValue.indexOf(this.prefix)>-1&&delete rt.defaultValue,it};for(;tt=this.nestingRegexp.exec($);){let it=[];rt={...et},rt=rt.replace&&typeof rt.replace!="string"?rt.replace:rt,rt.applyPostProcessor=!1,delete rt.defaultValue;let at=!1;if(tt[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(tt[1])){const ft=tt[1].split(this.formatSeparator).map(st=>st.trim());tt[1]=ft.shift(),it=ft,at=!0}if(nt=_e(ot.call(this,tt[1].trim(),rt),rt),nt&&tt[0]===$&&typeof nt!="string")return nt;typeof nt!="string"&&(nt=makeString(nt)),nt||(this.logger.warn(`missed to resolve ${tt[1]} for nesting ${$}`),nt=""),at&&(nt=it.reduce((ft,st)=>this.format(ft,st,et.lng,{...et,interpolationkey:tt[1].trim()}),nt.trim())),$=$.replace(tt[0],nt),this.regexp.lastIndex=0}return $}}const parseFormatStr=j=>{let $=j.toLowerCase().trim();const _e={};if(j.indexOf("(")>-1){const et=j.split("(");$=et[0].toLowerCase().trim();const tt=et[1].substring(0,et[1].length-1);$==="currency"&&tt.indexOf(":")<0?_e.currency||(_e.currency=tt.trim()):$==="relativetime"&&tt.indexOf(":")<0?_e.range||(_e.range=tt.trim()):tt.split(";").forEach(rt=>{if(rt){const[ot,...it]=rt.split(":"),at=it.join(":").trim().replace(/^'+|'+$/g,""),ft=ot.trim();_e[ft]||(_e[ft]=at),at==="false"&&(_e[ft]=!1),at==="true"&&(_e[ft]=!0),isNaN(at)||(_e[ft]=parseInt(at,10))}})}return{formatName:$,formatOptions:_e}},createCachedFormatter=j=>{const $={};return(_e,et,tt)=>{let nt=tt;tt&&tt.interpolationkey&&tt.formatParams&&tt.formatParams[tt.interpolationkey]&&tt[tt.interpolationkey]&&(nt={...nt,[tt.interpolationkey]:void 0});const rt=et+JSON.stringify(nt);let ot=$[rt];return ot||(ot=j(getCleanedCode(et),tt),$[rt]=ot),ot(_e)}};class Formatter{constructor(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=$,this.formats={number:createCachedFormatter((_e,et)=>{const tt=new Intl.NumberFormat(_e,{...et});return nt=>tt.format(nt)}),currency:createCachedFormatter((_e,et)=>{const tt=new Intl.NumberFormat(_e,{...et,style:"currency"});return nt=>tt.format(nt)}),datetime:createCachedFormatter((_e,et)=>{const tt=new Intl.DateTimeFormat(_e,{...et});return nt=>tt.format(nt)}),relativetime:createCachedFormatter((_e,et)=>{const tt=new Intl.RelativeTimeFormat(_e,{...et});return nt=>tt.format(nt,et.range||"day")}),list:createCachedFormatter((_e,et)=>{const tt=new Intl.ListFormat(_e,{...et});return nt=>tt.format(nt)})},this.init($)}init($){const et=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=et.formatSeparator?et.formatSeparator:et.formatSeparator||","}add($,_e){this.formats[$.toLowerCase().trim()]=_e}addCached($,_e){this.formats[$.toLowerCase().trim()]=createCachedFormatter(_e)}format($,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const nt=_e.split(this.formatSeparator);if(nt.length>1&&nt[0].indexOf("(")>1&&nt[0].indexOf(")")<0&&nt.find(ot=>ot.indexOf(")")>-1)){const ot=nt.findIndex(it=>it.indexOf(")")>-1);nt[0]=[nt[0],...nt.splice(1,ot)].join(this.formatSeparator)}return nt.reduce((ot,it)=>{const{formatName:at,formatOptions:ft}=parseFormatStr(it);if(this.formats[at]){let st=ot;try{const ut=tt&&tt.formatParams&&tt.formatParams[tt.interpolationkey]||{},dt=ut.locale||ut.lng||tt.locale||tt.lng||et;st=this.formats[at](ot,dt,{...ft,...tt,...ut})}catch(ut){this.logger.warn(ut)}return st}else this.logger.warn(`there was no format function for ${at}`);return ot},$)}}const removePending=(j,$)=>{j.pending[$]!==void 0&&(delete j.pending[$],j.pendingCount--)};class Connector extends EventEmitter{constructor($,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=$,this.store=_e,this.services=et,this.languageUtils=et.languageUtils,this.options=tt,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=tt.maxParallelReads||10,this.readingCalls=0,this.maxRetries=tt.maxRetries>=0?tt.maxRetries:5,this.retryTimeout=tt.retryTimeout>=1?tt.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(et,tt.backend,tt)}queueLoad($,_e,et,tt){const nt={},rt={},ot={},it={};return $.forEach(at=>{let ft=!0;_e.forEach(st=>{const ut=`${at}|${st}`;!et.reload&&this.store.hasResourceBundle(at,st)?this.state[ut]=2:this.state[ut]<0||(this.state[ut]===1?rt[ut]===void 0&&(rt[ut]=!0):(this.state[ut]=1,ft=!1,rt[ut]===void 0&&(rt[ut]=!0),nt[ut]===void 0&&(nt[ut]=!0),it[st]===void 0&&(it[st]=!0)))}),ft||(ot[at]=!0)}),(Object.keys(nt).length||Object.keys(rt).length)&&this.queue.push({pending:rt,pendingCount:Object.keys(rt).length,loaded:{},errors:[],callback:tt}),{toLoad:Object.keys(nt),pending:Object.keys(rt),toLoadLanguages:Object.keys(ot),toLoadNamespaces:Object.keys(it)}}loaded($,_e,et){const tt=$.split("|"),nt=tt[0],rt=tt[1];_e&&this.emit("failedLoading",nt,rt,_e),et&&this.store.addResourceBundle(nt,rt,et,void 0,void 0,{skipCopy:!0}),this.state[$]=_e?-1:2;const ot={};this.queue.forEach(it=>{pushPath(it.loaded,[nt],rt),removePending(it,$),_e&&it.errors.push(_e),it.pendingCount===0&&!it.done&&(Object.keys(it.loaded).forEach(at=>{ot[at]||(ot[at]={});const ft=it.loaded[at];ft.length&&ft.forEach(st=>{ot[at][st]===void 0&&(ot[at][st]=!0)})}),it.done=!0,it.errors.length?it.callback(it.errors):it.callback())}),this.emit("loaded",ot),this.queue=this.queue.filter(it=>!it.done)}read($,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,rt=arguments.length>5?arguments[5]:void 0;if(!$.length)return rt(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:$,ns:_e,fcName:et,tried:tt,wait:nt,callback:rt});return}this.readingCalls++;const ot=(at,ft)=>{if(this.readingCalls--,this.waitingReads.length>0){const st=this.waitingReads.shift();this.read(st.lng,st.ns,st.fcName,st.tried,st.wait,st.callback)}if(at&&ft&&tt<this.maxRetries){setTimeout(()=>{this.read.call(this,$,_e,et,tt+1,nt*2,rt)},nt);return}rt(at,ft)},it=this.backend[et].bind(this.backend);if(it.length===2){try{const at=it($,_e);at&&typeof at.then=="function"?at.then(ft=>ot(null,ft)).catch(ot):ot(null,at)}catch(at){ot(at)}return}return it($,_e,ot)}prepareLoading($,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),tt&&tt();typeof $=="string"&&($=this.languageUtils.toResolveHierarchy($)),typeof _e=="string"&&(_e=[_e]);const nt=this.queueLoad($,_e,et,tt);if(!nt.toLoad.length)return nt.pending.length||tt(),null;nt.toLoad.forEach(rt=>{this.loadOne(rt)})}load($,_e,et){this.prepareLoading($,_e,{},et)}reload($,_e,et){this.prepareLoading($,_e,{reload:!0},et)}loadOne($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const et=$.split("|"),tt=et[0],nt=et[1];this.read(tt,nt,"read",void 0,void 0,(rt,ot)=>{rt&&this.logger.warn(`${_e}loading namespace ${nt} for language ${tt} failed`,rt),!rt&&ot&&this.logger.log(`${_e}loaded namespace ${nt} for language ${tt}`,ot),this.loaded($,rt,ot)})}saveMissing($,_e,et,tt,nt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},ot=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(_e)){this.logger.warn(`did not save key "${et}" as the namespace "${_e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(et==null||et==="")){if(this.backend&&this.backend.create){const it={...rt,isUpdate:nt},at=this.backend.create.bind(this.backend);if(at.length<6)try{let ft;at.length===5?ft=at($,_e,et,tt,it):ft=at($,_e,et,tt),ft&&typeof ft.then=="function"?ft.then(st=>ot(null,st)).catch(ot):ot(null,ft)}catch(ft){ot(ft)}else at($,_e,et,tt,ot,it)}!$||!$[0]||this.store.addResource($[0],_e,et,tt)}}}const get=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:j=>{let $={};if(typeof j[1]=="object"&&($=j[1]),typeof j[1]=="string"&&($.defaultValue=j[1]),typeof j[2]=="string"&&($.tDescription=j[2]),typeof j[2]=="object"||typeof j[3]=="object"){const _e=j[3]||j[2];Object.keys(_e).forEach(et=>{$[et]=_e[et]})}return $},interpolation:{escapeValue:!0,format:j=>j,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=j=>(typeof j.ns=="string"&&(j.ns=[j.ns]),typeof j.fallbackLng=="string"&&(j.fallbackLng=[j.fallbackLng]),typeof j.fallbackNS=="string"&&(j.fallbackNS=[j.fallbackNS]),j.supportedLngs&&j.supportedLngs.indexOf("cimode")<0&&(j.supportedLngs=j.supportedLngs.concat(["cimode"])),j),noop$2=()=>{},bindMemberFunctions=j=>{Object.getOwnPropertyNames(Object.getPrototypeOf(j)).forEach(_e=>{typeof j[_e]=="function"&&(j[_e]=j[_e].bind(j))})};class I18n extends EventEmitter{constructor(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions($),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),_e&&!this.isInitialized&&!$.isClone){if(!this.options.initImmediate)return this.init($,_e),this;setTimeout(()=>{this.init($,_e)},0)}}init(){var $=this;let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof _e=="function"&&(et=_e,_e={}),!_e.defaultNS&&_e.defaultNS!==!1&&_e.ns&&(typeof _e.ns=="string"?_e.defaultNS=_e.ns:_e.ns.indexOf("translation")<0&&(_e.defaultNS=_e.ns[0]));const tt=get();this.options={...tt,...this.options,...transformOptions(_e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...tt.interpolation,...this.options.interpolation}),_e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=_e.keySeparator),_e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=_e.nsSeparator);const nt=ft=>ft?typeof ft=="function"?new ft:ft:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(nt(this.modules.logger),this.options):baseLogger.init(null,this.options);let ft;this.modules.formatter?ft=this.modules.formatter:typeof Intl<"u"&&(ft=Formatter);const st=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const ut=this.services;ut.logger=baseLogger,ut.resourceStore=this.store,ut.languageUtils=st,ut.pluralResolver=new PluralResolver(st,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ft&&(!this.options.interpolation.format||this.options.interpolation.format===tt.interpolation.format)&&(ut.formatter=nt(ft),ut.formatter.init(ut,this.options),this.options.interpolation.format=ut.formatter.format.bind(ut.formatter)),ut.interpolator=new Interpolator(this.options),ut.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},ut.backendConnector=new Connector(nt(this.modules.backend),ut.resourceStore,ut,this.options),ut.backendConnector.on("*",function(dt){for(var pt=arguments.length,gt=new Array(pt>1?pt-1:0),yt=1;yt<pt;yt++)gt[yt-1]=arguments[yt];$.emit(dt,...gt)}),this.modules.languageDetector&&(ut.languageDetector=nt(this.modules.languageDetector),ut.languageDetector.init&&ut.languageDetector.init(ut,this.options.detection,this.options)),this.modules.i18nFormat&&(ut.i18nFormat=nt(this.modules.i18nFormat),ut.i18nFormat.init&&ut.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(dt){for(var pt=arguments.length,gt=new Array(pt>1?pt-1:0),yt=1;yt<pt;yt++)gt[yt-1]=arguments[yt];$.emit(dt,...gt)}),this.modules.external.forEach(dt=>{dt.init&&dt.init(this)})}if(this.format=this.options.interpolation.format,et||(et=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const ft=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ft.length>0&&ft[0]!=="dev"&&(this.options.lng=ft[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(ft=>{this[ft]=function(){return $.store[ft](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(ft=>{this[ft]=function(){return $.store[ft](...arguments),$}});const it=defer(),at=()=>{const ft=(st,ut)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),it.resolve(ut),et(st,ut)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return ft(null,this.t.bind(this));this.changeLanguage(this.options.lng,ft)};return this.options.resources||!this.options.initImmediate?at():setTimeout(at,0),it}loadResources($){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const tt=typeof $=="string"?$:this.language;if(typeof $=="function"&&(et=$),!this.options.resources||this.options.partialBundledLanguages){if(tt&&tt.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return et();const nt=[],rt=ot=>{if(!ot||ot==="cimode")return;this.services.languageUtils.toResolveHierarchy(ot).forEach(at=>{at!=="cimode"&&nt.indexOf(at)<0&&nt.push(at)})};tt?rt(tt):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(it=>rt(it)),this.options.preload&&this.options.preload.forEach(ot=>rt(ot)),this.services.backendConnector.load(nt,this.options.ns,ot=>{!ot&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),et(ot)})}else et(null)}reloadResources($,_e,et){const tt=defer();return $||($=this.languages),_e||(_e=this.options.ns),et||(et=noop$2),this.services.backendConnector.reload($,_e,nt=>{tt.resolve(),et(nt)}),tt}use($){if(!$)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!$.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return $.type==="backend"&&(this.modules.backend=$),($.type==="logger"||$.log&&$.warn&&$.error)&&(this.modules.logger=$),$.type==="languageDetector"&&(this.modules.languageDetector=$),$.type==="i18nFormat"&&(this.modules.i18nFormat=$),$.type==="postProcessor"&&postProcessor.addPostProcessor($),$.type==="formatter"&&(this.modules.formatter=$),$.type==="3rdParty"&&this.modules.external.push($),this}setResolvedLanguage($){if(!(!$||!this.languages)&&!(["cimode","dev"].indexOf($)>-1))for(let _e=0;_e<this.languages.length;_e++){const et=this.languages[_e];if(!(["cimode","dev"].indexOf(et)>-1)&&this.store.hasLanguageSomeTranslations(et)){this.resolvedLanguage=et;break}}}changeLanguage($,_e){var et=this;this.isLanguageChangingTo=$;const tt=defer();this.emit("languageChanging",$);const nt=it=>{this.language=it,this.languages=this.services.languageUtils.toResolveHierarchy(it),this.resolvedLanguage=void 0,this.setResolvedLanguage(it)},rt=(it,at)=>{at?(nt(at),this.translator.changeLanguage(at),this.isLanguageChangingTo=void 0,this.emit("languageChanged",at),this.logger.log("languageChanged",at)):this.isLanguageChangingTo=void 0,tt.resolve(function(){return et.t(...arguments)}),_e&&_e(it,function(){return et.t(...arguments)})},ot=it=>{!$&&!it&&this.services.languageDetector&&(it=[]);const at=typeof it=="string"?it:this.services.languageUtils.getBestMatchFromCodes(it);at&&(this.language||nt(at),this.translator.language||this.translator.changeLanguage(at),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(at)),this.loadResources(at,ft=>{rt(ft,at)})};return!$&&this.services.languageDetector&&!this.services.languageDetector.async?ot(this.services.languageDetector.detect()):!$&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(ot):this.services.languageDetector.detect(ot):ot($),tt}getFixedT($,_e,et){var tt=this;const nt=function(rt,ot){let it;if(typeof ot!="object"){for(var at=arguments.length,ft=new Array(at>2?at-2:0),st=2;st<at;st++)ft[st-2]=arguments[st];it=tt.options.overloadTranslationOptionHandler([rt,ot].concat(ft))}else it={...ot};it.lng=it.lng||nt.lng,it.lngs=it.lngs||nt.lngs,it.ns=it.ns||nt.ns,it.keyPrefix!==""&&(it.keyPrefix=it.keyPrefix||et||nt.keyPrefix);const ut=tt.options.keySeparator||".";let dt;return it.keyPrefix&&Array.isArray(rt)?dt=rt.map(pt=>`${it.keyPrefix}${ut}${pt}`):dt=it.keyPrefix?`${it.keyPrefix}${ut}${rt}`:rt,tt.t(dt,it)};return typeof $=="string"?nt.lng=$:nt.lngs=$,nt.ns=_e,nt.keyPrefix=et,nt}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace($){this.options.defaultNS=$}hasLoadedNamespace($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const et=_e.lng||this.resolvedLanguage||this.languages[0],tt=this.options?this.options.fallbackLng:!1,nt=this.languages[this.languages.length-1];if(et.toLowerCase()==="cimode")return!0;const rt=(ot,it)=>{const at=this.services.backendConnector.state[`${ot}|${it}`];return at===-1||at===2};if(_e.precheck){const ot=_e.precheck(this,rt);if(ot!==void 0)return ot}return!!(this.hasResourceBundle(et,$)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||rt(et,$)&&(!tt||rt(nt,$)))}loadNamespaces($,_e){const et=defer();return this.options.ns?(typeof $=="string"&&($=[$]),$.forEach(tt=>{this.options.ns.indexOf(tt)<0&&this.options.ns.push(tt)}),this.loadResources(tt=>{et.resolve(),_e&&_e(tt)}),et):(_e&&_e(),Promise.resolve())}loadLanguages($,_e){const et=defer();typeof $=="string"&&($=[$]);const tt=this.options.preload||[],nt=$.filter(rt=>tt.indexOf(rt)<0&&this.services.languageUtils.isSupportedCode(rt));return nt.length?(this.options.preload=tt.concat(nt),this.loadResources(rt=>{et.resolve(),_e&&_e(rt)}),et):(_e&&_e(),Promise.resolve())}dir($){if($||($=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!$)return"rtl";const _e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],et=this.services&&this.services.languageUtils||new LanguageUtil(get());return _e.indexOf(et.getLanguagePartFromCode($))>-1||$.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1?arguments[1]:void 0;return new I18n($,_e)}cloneInstance(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const et=$.forkResourceStore;et&&delete $.forkResourceStore;const tt={...this.options,...$,isClone:!0},nt=new I18n(tt);return($.debug!==void 0||$.prefix!==void 0)&&(nt.logger=nt.logger.clone($)),["store","services","language"].forEach(ot=>{nt[ot]=this[ot]}),nt.services={...this.services},nt.services.utils={hasLoadedNamespace:nt.hasLoadedNamespace.bind(nt)},et&&(nt.store=new ResourceStore(this.store.data,tt),nt.services.resourceStore=nt.store),nt.translator=new Translator(nt.services,tt),nt.translator.on("*",function(ot){for(var it=arguments.length,at=new Array(it>1?it-1:0),ft=1;ft<it;ft++)at[ft-1]=arguments[ft];nt.emit(ot,...at)}),nt.init(tt,_e),nt.translator.options=tt,nt.translator.backendConnector.services.utils={hasLoadedNamespace:nt.hasLoadedNamespace.bind(nt)},nt}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const warn=(...j)=>{console!=null&&console.warn&&(isString(j[0])&&(j[0]=`react-i18next:: ${j[0]}`),console.warn(...j))},alreadyWarned={},warnOnce=(...j)=>{isString(j[0])&&alreadyWarned[j[0]]||(isString(j[0])&&(alreadyWarned[j[0]]=new Date),warn(...j))},loadedClb=(j,$)=>()=>{if(j.isInitialized)$();else{const _e=()=>{setTimeout(()=>{j.off("initialized",_e)},0),$()};j.on("initialized",_e)}},loadNamespaces=(j,$,_e)=>{j.loadNamespaces($,loadedClb(j,_e))},loadLanguages=(j,$,_e,et)=>{isString(_e)&&(_e=[_e]),_e.forEach(tt=>{j.options.ns.indexOf(tt)<0&&j.options.ns.push(tt)}),j.loadLanguages($,loadedClb(j,et))},hasLoadedNamespace=(j,$,_e={})=>!$.languages||!$.languages.length?(warnOnce("i18n.languages were undefined or empty",$.languages),!0):$.hasLoadedNamespace(j,{lng:_e.lng,precheck:(et,tt)=>{var nt;if(((nt=_e.bindI18n)==null?void 0:nt.indexOf("languageChanging"))>-1&&et.services.backendConnector.backend&&et.isLanguageChangingTo&&!tt(et.isLanguageChangingTo,j))return!1}}),isString=j=>typeof j=="string",isObject=j=>typeof j=="object"&&j!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=j=>htmlEntities[j],unescape=j=>j.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};const setDefaults=(j={})=>{defaultOptions={...defaultOptions,...j}},getDefaults$2=()=>defaultOptions;let i18nInstance;const setI18n=j=>{i18nInstance=j},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(j){setDefaults(j.options.react),setI18n(j)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces($){$.forEach(_e=>{var et;(et=this.usedNamespaces)[_e]??(et[_e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious$2=(j,$)=>{const _e=reactExports.useRef();return reactExports.useEffect(()=>{_e.current=j},[j,$]),_e.current},alwaysNewT=(j,$,_e,et)=>j.getFixedT($,_e,et),useMemoizedT=(j,$,_e,et)=>reactExports.useCallback(alwaysNewT(j,$,_e,et),[j,$,_e,et]),useTranslation=(j,$={})=>{var Ct,At,kt,St;const{i18n:_e}=$,{i18n:et,defaultNS:tt}=reactExports.useContext(I18nContext)||{},nt=_e||et||getI18n();if(nt&&!nt.reportNamespaces&&(nt.reportNamespaces=new ReportNamespaces),!nt){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const wt=(Ut,Yt)=>isString(Yt)?Yt:isObject(Yt)&&isString(Yt.defaultValue)?Yt.defaultValue:Array.isArray(Ut)?Ut[Ut.length-1]:Ut,It=[wt,{},!1];return It.t=wt,It.i18n={},It.ready=!1,It}(Ct=nt.options.react)!=null&&Ct.wait&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const rt={...getDefaults$2(),...nt.options.react,...$},{useSuspense:ot,keyPrefix:it}=rt;let at=tt||((At=nt.options)==null?void 0:At.defaultNS);at=isString(at)?[at]:at||["translation"],(St=(kt=nt.reportNamespaces).addUsedNamespaces)==null||St.call(kt,at);const ft=(nt.isInitialized||nt.initializedStoreOnce)&&at.every(wt=>hasLoadedNamespace(wt,nt,rt)),st=useMemoizedT(nt,$.lng||null,rt.nsMode==="fallback"?at:at[0],it),ut=()=>st,dt=()=>alwaysNewT(nt,$.lng||null,rt.nsMode==="fallback"?at:at[0],it),[pt,gt]=reactExports.useState(ut);let yt=at.join();$.lng&&(yt=`${$.lng}${yt}`);const mt=usePrevious$2(yt),vt=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:wt,bindI18nStore:It}=rt;vt.current=!0,!ft&&!ot&&($.lng?loadLanguages(nt,$.lng,at,()=>{vt.current&&gt(dt)}):loadNamespaces(nt,at,()=>{vt.current&&gt(dt)})),ft&&mt&&mt!==yt&&vt.current&&gt(dt);const Ut=()=>{vt.current&&gt(dt)};return wt&&(nt==null||nt.on(wt,Ut)),It&&(nt==null||nt.store.on(It,Ut)),()=>{vt.current=!1,nt&&(wt==null||wt.split(" ").forEach(Yt=>nt.off(Yt,Ut))),It&&nt&&It.split(" ").forEach(Yt=>nt.store.off(Yt,Ut))}},[nt,yt]),reactExports.useEffect(()=>{vt.current&&ft&&gt(ut)},[nt,it,ft]);const _t=[pt,nt,ft];if(_t.t=pt,_t.i18n=nt,_t.ready=ft,ft||!ft&&!ot)return _t;throw new Promise(wt=>{$.lng?loadLanguages(nt,$.lng,at,()=>wt()):loadNamespaces(nt,at,()=>wt())})};function _classCallCheck(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")}function _typeof(j){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(j)}function toPrimitive(j,$){if(_typeof(j)!="object"||!j)return j;var _e=j[Symbol.toPrimitive];if(_e!==void 0){var et=_e.call(j,$);if(_typeof(et)!="object")return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function toPropertyKey(j){var $=toPrimitive(j,"string");return _typeof($)=="symbol"?$:$+""}function _defineProperties(j,$){for(var _e=0;_e<$.length;_e++){var et=$[_e];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(j,toPropertyKey(et.key),et)}}function _createClass(j,$,_e){return $&&_defineProperties(j.prototype,$),Object.defineProperty(j,"prototype",{writable:!1}),j}var arr=[],each$1=arr.forEach,slice$1=arr.slice;function defaults$3(j){return each$1.call(slice$1.call(arguments,1),function($){if($)for(var _e in $)j[_e]===void 0&&(j[_e]=$[_e])}),j}function createClassOnDemand(j){return j?typeof j=="function"?new j:j:null}function getDefaults$1(){return{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}}function handleCorrectReadFunction(j,$,_e,et){var tt=j.read.bind(j);if(tt.length===2){try{var nt=tt($,_e);nt&&typeof nt.then=="function"?nt.then(function(rt){return et(null,rt)}).catch(et):et(null,nt)}catch(rt){et(rt)}return}tt($,_e,et)}var Backend$1=function(){function j($){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,j),this.backends=[],this.type="backend",this.allOptions=et,this.init($,_e)}return _createClass(j,[{key:"init",value:function(_e){var et=this,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=_e,this.options=defaults$3(tt,this.options||{},getDefaults$1()),this.allOptions=nt,this.options.backends&&this.options.backends.forEach(function(rt,ot){et.backends[ot]=et.backends[ot]||createClassOnDemand(rt),et.backends[ot].init(_e,et.options.backendOptions&&et.options.backendOptions[ot]||{},nt)}),this.services&&this.options.reloadInterval&&setInterval(function(){return et.reload()},this.options.reloadInterval)}},{key:"read",value:function(_e,et,tt){var nt=this,rt=this.backends.length,ot=function at(ft){if(ft>=rt)return tt(new Error("non of the backend loaded data",!0));var st=ft===rt-1,ut=nt.options.handleEmptyResourcesAsFailed&&!st?0:-1,dt=nt.backends[ft];dt.read?handleCorrectReadFunction(dt,_e,et,function(pt,gt,yt){if(!pt&&gt&&Object.keys(gt).length>ut){if(tt(null,gt,ft),it(ft-1,gt),dt.save&&nt.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(nt.options.cacheHitMode)>-1){if(yt&&nt.options.refreshExpirationTime&&yt+nt.options.refreshExpirationTime>Date.now())return;var mt=nt.backends[ft+1];mt&&mt.read&&handleCorrectReadFunction(mt,_e,et,function(vt,_t){vt||_t&&(Object.keys(_t).length<=ut||(it(ft,_t),nt.options.cacheHitMode==="refreshAndUpdateStore"&&nt.services&&nt.services.resourceStore&&nt.services.resourceStore.addResourceBundle(_e,et,_t)))})}}else at(ft+1)}):at(ft+1)},it=function at(ft,st){if(!(ft<0)){var ut=nt.backends[ft];ut.save&&ut.save(_e,et,st),at(ft-1,st)}};ot(0)}},{key:"create",value:function(_e,et,tt,nt){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},ot=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.backends.forEach(function(it){if(it.create){var at=it.create.bind(it);if(at.length<6){try{var ft;at.length===5?ft=at(_e,et,tt,nt,ot):ft=at(_e,et,tt,nt),ft&&typeof ft.then=="function"?ft.then(function(st){return rt(null,st)}).catch(rt):rt(null,ft)}catch(st){rt(st)}return}at(_e,et,tt,nt,rt,ot)}})}},{key:"reload",value:function(){var _e=this,et=this.services,tt=et.backendConnector,nt=et.languageUtils,rt=et.logger,ot=tt.language;if(!(ot&&ot.toLowerCase()==="cimode")){var it=[],at=function(st){var ut=nt.toResolveHierarchy(st);ut.forEach(function(dt){it.indexOf(dt)<0&&it.push(dt)})};at(ot),this.allOptions.preload&&this.allOptions.preload.forEach(function(ft){return at(ft)}),it.forEach(function(ft){_e.allOptions.ns.forEach(function(st){tt.read(ft,st,"read",null,null,function(ut,dt){ut&&rt.warn("loading namespace ".concat(st," for language ").concat(ft," failed"),ut),!ut&&dt&&rt.log("loaded namespace ".concat(st," for language ").concat(ft),dt),tt.loaded("".concat(ft,"|").concat(st),ut,dt)})})})}}}]),j}();Backend$1.type="backend";const defaults$2={loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",multiSeparator:"+",allowMultiLoading:!1,fetch:typeof fetch>"u"?void 0:fetch,parse:JSON.parse,stringify:JSON.stringify,requestOptions:{}},arrify=j=>Array.isArray(j)?j:[j],normalize=(j,...$)=>typeof j=="function"?j(...$):j;class BackendError extends Error{constructor(_e,et=!1){super(_e);To(this,"retry",null);this.retry=et}}class Backend{constructor($,_e){To(this,"type","backend");this.init($,_e)}init($,_e={}){this.services=$,this.options={...defaults$2,...this.options,..._e}}getLoadPath($,_e){return normalize(this.options.loadPath,$,_e)}read($,_e,et){const tt=this.getLoadPath($,_e),nt=this.services.interpolator.interpolate(tt,{lng:$,ns:_e});this.loadUrl(nt,et)}readMulti($,_e,et){const tt=this.getLoadPath($,_e),{multiSeparator:nt}=this.options,rt=this.services.interpolator.interpolate(tt,{lng:$.join(nt),ns:_e.join(nt)});this.loadUrl(rt,et)}loadUrl($,_e){const{fetch:et,requestOptions:tt,parse:nt}=this.options;et($,tt).then(rt=>{const{ok:ot,status:it}=rt;if(!ot){const at=it>=500&&it<600;throw new BackendError(`failed loading ${$}`,at)}return rt.text()},()=>{throw new BackendError(`failed loading ${$}`)}).then(rt=>{try{return _e(null,nt(rt,$))}catch{throw new BackendError(`failed parsing ${$} to json`,!1)}}).catch(rt=>{rt instanceof BackendError&&_e(rt.message,rt.retry)})}create($,_e,et,tt){const nt={[et]:tt||""};arrify($).forEach(rt=>{const{addPath:ot,requestOptions:it,fetch:at,stringify:ft}=this.options,st=this.services.interpolator.interpolate(ot,{lng:rt,ns:_e});try{at(st,{method:"POST",body:ft(nt),...it})}catch(ut){console.error(ut)}})}}To(Backend,"type","backend");const{slice,forEach}=[];function defaults$1(j){return forEach.call(slice.call(arguments,1),$=>{if($)for(const _e in $)j[_e]===void 0&&(j[_e]=$[_e])}),j}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=(j,$,_e)=>{const et=_e||{};et.path=et.path||"/";const tt=encodeURIComponent($);let nt=`${j}=${tt}`;if(et.maxAge>0){const rt=et.maxAge-0;if(Number.isNaN(rt))throw new Error("maxAge should be a Number");nt+=`; Max-Age=${Math.floor(rt)}`}if(et.domain){if(!fieldContentRegExp.test(et.domain))throw new TypeError("option domain is invalid");nt+=`; Domain=${et.domain}`}if(et.path){if(!fieldContentRegExp.test(et.path))throw new TypeError("option path is invalid");nt+=`; Path=${et.path}`}if(et.expires){if(typeof et.expires.toUTCString!="function")throw new TypeError("option expires is invalid");nt+=`; Expires=${et.expires.toUTCString()}`}if(et.httpOnly&&(nt+="; HttpOnly"),et.secure&&(nt+="; Secure"),et.sameSite)switch(typeof et.sameSite=="string"?et.sameSite.toLowerCase():et.sameSite){case!0:nt+="; SameSite=Strict";break;case"lax":nt+="; SameSite=Lax";break;case"strict":nt+="; SameSite=Strict";break;case"none":nt+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return nt},cookie={create(j,$,_e,et){let tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};_e&&(tt.expires=new Date,tt.expires.setTime(tt.expires.getTime()+_e*60*1e3)),et&&(tt.domain=et),document.cookie=serializeCookie(j,encodeURIComponent($),tt)},read(j){const $=`${j}=`,_e=document.cookie.split(";");for(let et=0;et<_e.length;et++){let tt=_e[et];for(;tt.charAt(0)===" ";)tt=tt.substring(1,tt.length);if(tt.indexOf($)===0)return tt.substring($.length,tt.length)}return null},remove(j){this.create(j,"",-1)}};var cookie$1={name:"cookie",lookup(j){let{lookupCookie:$}=j;if($&&typeof document<"u")return cookie.read($)||void 0},cacheUserLanguage(j,$){let{lookupCookie:_e,cookieMinutes:et,cookieDomain:tt,cookieOptions:nt}=$;_e&&typeof document<"u"&&cookie.create(_e,j,et,tt,nt)}},querystring={name:"querystring",lookup(j){var et;let{lookupQuerystring:$}=j,_e;if(typeof window<"u"){let{search:tt}=window.location;!window.location.search&&((et=window.location.hash)==null?void 0:et.indexOf("?"))>-1&&(tt=window.location.hash.substring(window.location.hash.indexOf("?")));const rt=tt.substring(1).split("&");for(let ot=0;ot<rt.length;ot++){const it=rt[ot].indexOf("=");it>0&&rt[ot].substring(0,it)===$&&(_e=rt[ot].substring(it+1))}}return _e}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;const j="i18next.translate.boo";window.localStorage.setItem(j,"foo"),window.localStorage.removeItem(j)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(j){let{lookupLocalStorage:$}=j;if($&&localStorageAvailable())return window.localStorage.getItem($)||void 0},cacheUserLanguage(j,$){let{lookupLocalStorage:_e}=$;_e&&localStorageAvailable()&&window.localStorage.setItem(_e,j)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;const j="i18next.translate.boo";window.sessionStorage.setItem(j,"foo"),window.sessionStorage.removeItem(j)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(j){let{lookupSessionStorage:$}=j;if($&&sessionStorageAvailable())return window.sessionStorage.getItem($)||void 0},cacheUserLanguage(j,$){let{lookupSessionStorage:_e}=$;_e&&sessionStorageAvailable()&&window.sessionStorage.setItem(_e,j)}},navigator$1={name:"navigator",lookup(j){const $=[];if(typeof navigator<"u"){const{languages:_e,userLanguage:et,language:tt}=navigator;if(_e)for(let nt=0;nt<_e.length;nt++)$.push(_e[nt]);et&&$.push(et),tt&&$.push(tt)}return $.length>0?$:void 0}},htmlTag={name:"htmlTag",lookup(j){let{htmlTag:$}=j,_e;const et=$||(typeof document<"u"?document.documentElement:null);return et&&typeof et.getAttribute=="function"&&(_e=et.getAttribute("lang")),_e}},path={name:"path",lookup(j){var tt;let{lookupFromPathIndex:$}=j;if(typeof window>"u")return;const _e=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(_e)?(tt=_e[typeof $=="number"?$:0])==null?void 0:tt.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(j){var tt,nt;let{lookupFromSubdomainIndex:$}=j;const _e=typeof $=="number"?$+1:1,et=typeof window<"u"&&((nt=(tt=window.location)==null?void 0:tt.hostname)==null?void 0:nt.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(et)return et[_e]}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:j=>j}}let Browser$1=class{constructor($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init($,_e)}init($){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=$||{languageUtils:{}},this.options=defaults$1(_e,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=tt=>tt.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=et,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}addDetector($){return this.detectors[$.name]=$,this}detect($){$||($=this.options.order);let _e=[];return $.forEach(et=>{if(this.detectors[et]){let tt=this.detectors[et].lookup(this.options);tt&&typeof tt=="string"&&(tt=[tt]),tt&&(_e=_e.concat(tt))}}),_e=_e.map(et=>this.options.convertDetectedLanguage(et)),this.services.languageUtils.getBestMatchFromCodes?_e:_e.length>0?_e[0]:null}cacheUserLanguage($,_e){_e||(_e=this.options.caches),_e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf($)>-1||_e.forEach(et=>{this.detectors[et]&&this.detectors[et].cacheUserLanguage($,this.options)}))}};Browser$1.type="languageDetector";const locales=["en-US","en","ru-RU","uk-UA","zh"];instance.use(Backend$1).use(Browser$1).use(initReactI18next).init({fallbackLng:"en",supportedLngs:locales,defaultNS:"theme",fallbackNS:"translation",load:"currentOnly",debug:!0,interpolation:{escapeValue:!1},backend:{backends:[Backend],backendOptions:[{loadPath:new URL("locales/",window.location.href).href+"{{lng}}/{{ns}}.json"}]}});function loadThemeTranslations(j){const $={};for(const _e of j){if(!locales.includes(_e.lang))continue;const et=$[_e.lang]??{};et[_e.tkey]=_e.value,$[_e.lang]=et}for(const[_e,et]of Object.entries($))instance.addResourceBundle(_e,"theme",et,!0,!0)}function unloadThemeTranslations(){for(const j of locales)instance.removeResourceBundle(j,"theme")}function formatDate(j){return new Intl.DateTimeFormat(instance.language,{dateStyle:"long",timeStyle:"short"}).format(j)}const baseInit$=atom(!1),initDeferred$=atom(defer$1()),initialBaseUrl$=atom("/"),input$=create({isOpen:!1,content:"",entered:"",onfinished:null},j=>{const $=j.focus(et=>et.isOpen),_e=j.focus(et=>et.entered);return{open(et,tt){isPaused$.set(!0),j.set({isOpen:!0,content:et,entered:"",onfinished:tt})},enter(et){_e.set(et)},finish(){var et,tt;$.value&&($.set(!1),isPaused$.set(!1),(tt=(et=j.value).onfinished)==null||tt.call(et,_e.value))},close(){var et,tt;$.value&&($.set(!1),isPaused$.set(!1),(tt=(et=j.value).onfinished)==null||tt.call(et,""))},clear(){var et,tt;$.value&&((tt=(et=j.value).onfinished)==null||tt.call(et,""),isPaused$.set(!1)),j.set({isOpen:!1,content:"",entered:"",onfinished:null})}}}),selectedMenuItem$=atom(-1),menu$=atom({isOpen:!1,items:[],onselect:null},j=>{const $=j.focus(_e=>_e.isOpen);return{open(_e,et){j.set({isOpen:!0,items:_e,onselect:et})},select(_e){var et,tt;$.set(!1),(tt=(et=j.value).onselect)==null||tt.call(et,_e),j.value.onselect=null},close(){var _e,et;$.set(!1),(et=(_e=j.value).onselect)==null||et.call(_e,-1),j.value.onselect=null},clear(){var _e,et;$.value&&((et=(_e=j.value).onselect)==null||et.call(_e,-1)),j.set({isOpen:!1,items:[],onselect:null})}}}),msg$=create({isOpen:!1,content:"",onclosed:null},j=>{const $=j.focus(_e=>_e.isOpen);return{open(_e,et){isPaused$.set(!0),j.set({isOpen:!0,content:_e,onclosed:et})},close(){var _e,et;$.value&&(isPaused$.set(!1),$.set(!1),(et=(_e=j.value).onclosed)==null||et.call(_e))},clear(){var _e,et;$.value&&(isPaused$.set(!1),(et=(_e=j.value).onclosed)==null||et.call(_e)),j.set({isOpen:!1,content:"",onclosed:null})}}}),errorMessage$=atom(""),isErrorShown$=atom(!1);function showError(j){errorMessage$.set(j),isErrorShown$.set(!0)}const noticeMessage$=atom(""),isNoticeShown$=atom(!1);let noticeTimeout=null;function showNotice(j){noticeMessage$.set(j),isNoticeShown$.set(!0),noticeTimeout&&clearTimeout(noticeTimeout),noticeTimeout=setTimeout(()=>{isNoticeShown$.set(!1)},3e3)}const currentGameEntry$=atom(null),currentGame$=atom(),currentGameMode$=atom(j=>{var $;return(($=j(currentGame$))==null?void 0:$.mode)||"classic"}),currentAeroWidth$=atom(j=>{var $,_e;return((_e=($=j(currentGame$))==null?void 0:$.aero)==null?void 0:_e.width)??800}),currentAeroHeight$=atom(j=>{var $,_e;return((_e=($=j(currentGame$))==null?void 0:$.aero)==null?void 0:_e.height)??600}),saveSlotsCount$=atom(j=>{var $;return(($=j(currentGame$))==null?void 0:$.save_slots)??9}),onGameEnd$=atom(null),baseUrl$=atom("");async function runGame(j){var tt,nt,rt,ot,it,at,ft;if(!j)throw new Error("Game not found");baseUrl$.set(j.loadConfig.url);let $=j.loadConfig.descriptor||{id:j.id,mode:j.mode,title:j.title,file:""};try{const st=await fetchProxyFallback("game.cfg").then(dt=>dt.text()),ut=parse$1(st);if(((tt=ut.game)==null?void 0:tt.length)===1)[$]=ut.game;else{const dt=(nt=ut.game)==null?void 0:nt.find(pt=>pt.id===j.id);if(!dt)throw new Error("Config not found");$=dt}}catch{}if(($==null?void 0:$.mode)==="classic"||!($!=null&&$.mode))try{const st=await fetchProxyFallback("qspgui.cfg");if(!st.ok)throw new Error("No config file");const ut=await st.text(),dt=parseCfg(ut);if(!dt||!Object.keys(dt).length)throw new Error("Invalid config file");qspGuiCfg$.set(dt)}catch{}if($.mode==="aero")if($.aero)$.window={...$.window??{},...$.aero,resizable:!1};else try{const st=await fetchProxyFallback("config.xml");if(!st.ok)throw new Error("No config file");const ut=await st.text(),gt=new DOMParser().parseFromString(ut,"application/xml").querySelector("game");if(gt){const yt=parseInt(gt.getAttribute("width")||"800"),mt=parseInt(gt.getAttribute("height")||"600");$.aero={width:yt,height:mt},$.window={...$.window??{},width:yt,height:mt,resizable:!1}}}catch{$.aero={width:800,height:600},$.window={...$.window??{},width:800,height:600,resizable:!1}}(rt=windowManager$.value)==null||rt.setTitle(j.title),setupGlobalHotKeys(),$!=null&&$.hotkeys&&setupCustomHotKeys($.hotkeys),(ot=$==null?void 0:$.resources)!=null&&ot.icon&&((it=windowManager$.value)==null||it.setIcon($.resources.icon)),loadAdditionalResources($==null?void 0:$.resources),$!=null&&$.themes&&await registerThemes($.themes),$!=null&&$.defaultTheme?themeRegistry$.value[$.defaultTheme]?currentTheme$.set($.defaultTheme):showNotice(`Theme ${$.defaultTheme} not found`):($==null?void 0:$.mode)==="aero"?currentTheme$.set(AERO_THEME):currentTheme$.set(CLASSIC_THEME),loadThemeTranslations(currentTranslations$.value),$&&applyWindowSettings($.window);let _e=await fetchProxyFallback(j.loadConfig.entrypoint).then(st=>st.arrayBuffer());if(!_e)throw new Error("Failed to load game");j.loadConfig.entrypoint.toLowerCase().endsWith(".qsps")&&(_e=convertQsps(_e)),(at=qspApi$.value)==null||at.openGame(_e,!0),(ft=qspApi$.value)==null||ft.restartGame(),currentGameEntry$.set(j),$&&currentGame$.set($),loadSaveList()}let wasResized=!1;async function applyWindowSettings(j){var $,_e,et,tt;if(j){j.width&&j.height&&(await(($=windowManager$.value)==null?void 0:$.resize(j.width,j.height)),wasResized=!0);const nt=j.resizable??!0;(_e=windowManager$.value)==null||_e.setResizable(nt),nt&&(j.minWidth&&j.minHeight&&await((et=windowManager$.value)==null?void 0:et.setMinSize(j.minWidth,j.minHeight)),j.maxWidth&&j.maxHeight&&await((tt=windowManager$.value)==null?void 0:tt.setMaxSize(j.maxWidth,j.maxHeight))),j.fullscreen&&setTimeout(()=>{var rt;return(rt=windowManager$.value)==null?void 0:rt.goFullscreen()},0)}}baseUrl$.subscribe(j=>{const $=document.querySelector("#page-base");$.href=j||"/"});function stopCurrentGame(){var $;baseUrl$.set(initialBaseUrl$.value),currentGameEntry$.set(null),currentGame$.set(null),qspGuiCfg$.set(null),closePauseScreen(),pauseScreenCurrentPanel$.set("credits"),isPaused$.set(!0),input$.actions.clear(),menu$.actions.clear(),msg$.actions.clear(),mainContent$.set(""),statsContent$.set(""),actions$.set([]),objects$.set([]),cmdText$.set("");const j=windowManager$.value;j&&(j.setTitle("qSpider"),j.setIcon("favicon.ico"),j.setResizable(!0),j.unsetMaxSize(),j.unsetMinSize(),wasResized&&j.resize(1024,768)),sounds$.actions.clear(),regions$.set({}),layers$.set({}),clearAdditionalResources(),clearHotkeys(),unloadThemeTranslations(),currentTheme$.set(CLASSIC_THEME),themeRegistry$.actions.reset(),window.dispatchEvent(new Event("game-unload")),wasResized=!1,($=onGameEnd$.value)==null||$.call(onGameEnd$)}function onRestart(){reloadRegions(),reloadLayers()}function onRestore(){reloadRegions(),reloadLayers()}function onGameCommand(j){var $;if(j.startsWith("pause:")){const[,_e]=j.split(":");isPauseScreenVisible$.value||openPauseScreen(),pauseScreenCurrentPanel$.set(_e)}else if(j.startsWith("scroll:")){const[,_e,et]=j.split(":");switch(_e){case"main":mainScroll$.update(tt=>et==="top"?-1:Math.max(tt,0)+1);break;case"stats":statsScroll$.update(tt=>et==="top"?-1:Math.max(tt,0)+1);break}}switch(j){case"quit":stopCurrentGame();break;case"restart":isPaused$.set(!0),($=qspApi$.value)==null||$.restartGame(),onRestart(),closePauseScreen(),pauseScreenCurrentPanel$.set("credits");break;case"resume":closePauseScreen();break;case"mute":muted$.set(!0);break;case"unmute":muted$.set(!1);break;case"toggle-mute":muted$.update(_e=>!_e);break;case"quicksave":quickSave();break;case"quickload":quickLoad();break}}const wait$=create(null),waitTimeout$=create();function finishWait(){const j=wait$.value;j&&(clearTimeout(waitTimeout$.value),isPaused$.set(!1),wait$.set(null),j.finish())}wait$.subscribe(j=>{j&&(clearTimeout(waitTimeout$.value),isPaused$.set(!0),waitTimeout$.set(setTimeout(()=>{finishWait()},j.ms)))});const qspiderCommands={"action:"(j){onGameCommand(j)},"event:"(j){setTimeout(()=>{const $=j.trim().match(/(.*?)(\[(.*?)\])/i);if($){const _e=$[1],et=$[3].split(",").map(tt=>{const nt=tt.trim();return nt.startsWith('"')||nt.startsWith("'")?nt.replace(/['"](.*?)['"]/gim,(rt,ot)=>ot):parseInt(nt)});window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:_e,args:et}}))}else window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:j.trim()}}))},0)},"change_theme:"(j){if(!themeRegistry$.value[j]){errorMessage$.set(`Theme ${j} is not registered`);return}currentTheme$.set(j)},"update_region:"(j){var _e;regions$.focus(et=>et[j]).set(((_e=qspApi$.value)==null?void 0:_e.readVariableByKey("$qspider_region",j))??"")},"scroll_region:"(j){const[$,_e]=j.split(":"),et=regionsScroll$.focus(tt=>tt[$]);_e==="top"?et.set(-1):et.update(tt=>Math.max(tt,0)+1)},"update_layer:"(j){layers$.focus(_e=>_e[j]).set(readLayerState(j))},update_layers(){const j=layers$.value??{},$={};for(const _e of Object.keys(j))$[_e]=readLayerState(_e);layers$.set($)},"fullscreen:"(j){var $,_e;j==="on"?($=windowManager$.value)==null||$.goFullscreen():(_e=windowManager$.value)==null||_e.goWindowed()},quit(){stopCurrentGame()}},qspiderModuleContent=`# qspider_change_theme
! $args[0] - theme name
exec('qspider.change_theme:<<$args[0]>>')
---

# qspider_update_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_append_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] += $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_prepend_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1] + $qspider_region[$args[0]]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_scroll_region
! $args[0] - region name
! $args[1] - direction (top or bottom)
exec('qspider.scroll_region:<<$args[0]>>:<<$args[1]>>')
---
# qspider_clear_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = ''
exec('qspider.update_region:<<$args[0]>>')
---

# qspider_show_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 1
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_hide_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 0
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_show_only_layer
! $args[0] - layer name
killvar 'qspider_layers'
qspider_layers[$args[0]] = 1
exec('qspider.update_layers')
---

# qspider_quicksave
exec('qspider.action:quicksave')
---

# qspider_quickload
exec('qspider.action:quickload')
---

# qspider_restart
exec('qspider.action:restart')
---

# qspider_resume
exec('qspider.action:resume')
---

# qspider_quit
exec('qspider.action:quit')
---

# qspider_mute
exec('qspider.action:mute')
---

# qspider_unmute
exec('qspider.action:unmute')
---

# qspider_toggle_mute
exec('qspider.action:toggle-mute')
---

# qspider_open_pause_screen
! $args[0] - panel name
exec('qspider.action:pause:<<$args[0]>>')
---

# qspider_scroll
! $args[0] - panel (main or stats)
! $args[1] - direction (top or bottom)
exec('qspider.action:scroll:<<$args[0]>>:<<$args[1]>>')
---

#qspider_event
! $args[0] - event name
! any further args will be added as event args

local $event_args = ''
if ARRSIZE('$args') > 1:
  loop local i = 1 while i < ARRSIZE('$args') step i += 1:
    if LEN($event_args) > 0:  $event_args += ','
    if args[i] <> 0:
      $event_args += args[i]
    else:
      $event_args += '"<<$args[i]>>"'
    end
  end
end

if $event_args <> '':
  exec('qspider.event: <<$args[0]>>[<<$event_args>>]')
else:
  exec('qspider.event: <<$args[0]>>')
end
---
`,qspApi$=atom(),qspApiInitialized$=atom(!1),qspError$=atom(null),qspiderModule$=atom(o(s(qspiderModuleContent)));async function initQspApi(){const j=await fetch(wasmUrl).then(_e=>_e.arrayBuffer()),$=await A(j);console.log(`QSP version: ${$.version()}`),qspApi$.set($),qspApiInitialized$.set(!0)}function execCode(j){var $;($=qspApi$.value)==null||$.execCode(j)}function onLinkClicked(j){j.toLowerCase().startsWith("exec:")?execCode(j.substring(5)):window.location.href=j}function useQspVariable(j,$,_e,et){const[tt,nt]=reactExports.useState(et);return reactExports.useEffect(()=>{var ot,it;if(!j)return;const rt=$?(ot=qspApi$.value)==null?void 0:ot.watchVariableByKey(j,$,at=>nt(at||et)):(it=qspApi$.value)==null?void 0:it.watchVariable(j,_e,at=>nt(at||et));return()=>{rt==null||rt()}},[j,$,_e,et]),tt}function useQspExpression(j){const[$,_e]=reactExports.useState(!1);return reactExports.useEffect(()=>{var tt;if(!j)return;const et=(tt=qspApi$.value)==null?void 0:tt.watchExpression(j,nt=>_e(!!nt));return()=>{et==null||et()}},[j]),$}qspApi$.subscribe(j=>{j.on("version",($,_e)=>{var et,tt;switch($){case"player":return _e("qSpider");case"platform":return _e((et=windowManager$.value)!=null&&et.isBrowser?"browser":((tt=windowManager$.value)==null?void 0:tt.platform)||"unknown")}return _e(j.version())}),j.on("error",qspError$.set),j.on("system_cmd",$=>{if(!$.startsWith("qspider"))return;const[,_e]=$.split(".");for(const[et,tt]of Object.entries(qspiderCommands))if(_e.trim().startsWith(et)){const nt=_e.replace(et,"");tt(nt)}}),j.on("is_play",($,_e)=>{_e(sounds$.actions.isPlaying($))}),j.on("play_file",($,_e,et)=>{sounds$.actions.play($,_e),et()}),j.on("close_file",($,_e)=>{$?sounds$.actions.close($):sounds$.actions.closeAll(),_e()}),j.on("timer",$=>{counterDelay$.set($)}),j.on("open_game",async($,_e,et)=>{if($==="qspider"){j.openGame(qspiderModule$.value,!1),et();return}withCounterPaused(async()=>{const tt=await getBinaryContent($);let nt=tt;if($.toLowerCase().endsWith(".qsps")&&(nt=convertQsps(tt)),_e){const ot=cleanPath($);baseUrl$.update(it=>it+ot.slice(0,ot.lastIndexOf("/")+1))}j.openGame(nt,_e),et()})}),j.on("input",($,_e)=>{input$.actions.open($,_e)}),j.on("menu",($,_e)=>{menu$.actions.open(prepareList($),_e)}),j.on("msg",($,_e)=>{msg$.actions.open($,_e)}),j.on("main_changed",$=>{const _e=mainContent$.value,et=prepareContent($),tt=!_e||et!==_e&&!et.startsWith(_e);isNewLoc$.set(tt),nextMainContent$.set(et),tt?newLocHash$.set(String(hashString(nextMainContent$.value))):mainContent$.set(et)}),j.on("stats_changed",$=>{statsContent$.set(prepareContent($))}),j.on("actions_changed",$=>{actions$.set(prepareList($))}),j.on("objects_changed",$=>{objects$.set(prepareList($))}),j.on("user_input",$=>{cmdText$.set($)}),j.on("view",$=>{$?view$.actions.open($):view$.actions.close()}),j.on("panel_visibility",($,_e)=>{switch($){case e$1.VARS:isStatsVisible$.set(_e);break;case e$1.ACTS:isActsVisible$.set(_e);break;case e$1.OBJS:isObjsVisible$.set(_e);break;case e$1.INPUT:isCmdVisible$.set(_e);break}}),j.on("load_save",async($,_e)=>{if(!currentGameEntry$.value)return _e();saveLoadedCallback$.set(()=>{_e()}),$?await restoreFromPath($):(requestedAction$.set("load"),onGameCommand("pause:saves"))}),j.on("save_game",async($,_e)=>{if(!currentGameEntry$.value)return _e();gameSavedCallback$.set(()=>{_e()}),$?await saveToPath($):(requestedAction$.set("save"),onGameCommand("pause:saves"))}),j.on("wait",($,_e)=>{wait$.set({ms:$,finish:_e})})});function usePrevious$1(j){const $=reactExports.useRef();return reactExports.useEffect(()=>{$.current=j},[j]),$.current}const playerTheme$=create("light");function initTheme(){var $;let j=localStorage.getItem("qspider-theme");!j&&(($=window.matchMedia)!=null&&$.call(window,"(prefers-color-scheme: dark)").matches)?j="dark":j="light",playerTheme$.set(j)}function toggleTheme(){playerTheme$.update(j=>j==="dark"?"light":"dark")}playerTheme$.subscribe(j=>{j==="dark"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),localStorage.setItem("qspider-theme",j)});const componentsRegistry$=atom(new Map,j=>({register($,_e){j.value.set($,_e)}})),useComponent=j=>componentsRegistry$.value.get(j)||(()=>null),edgeHasTranslation$=atom(!1),othersHasTranslation$=atom(!1),hasBrowserTranslation$=atom(j=>j(edgeHasTranslation$)||j(othersHasTranslation$)),originalLanguge=document.documentElement.lang,langObserver=new MutationObserver(()=>{othersHasTranslation$.set(document.documentElement.lang!==originalLanguge)});langObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],childList:!1,characterData:!1});const[title]=document.getElementsByTagName("title"),titleObserver=new MutationObserver(()=>{edgeHasTranslation$.set(title.hasAttribute("_msttexthash"))});titleObserver.observe(title,{attributes:!0,attributeFilter:["_msttexthash"],childList:!1,characterData:!1});const fontSizeMap={"-2":"x-small","-1":"small","+0":"medium","+1":"large","+2":"x-large","+3":"xx-large","+4":"xxx-large",0:"medium",1:"x-small",2:"small",3:"medium",4:"large",5:"x-large",6:"xx-large",7:"xxx-large"},Font=({size:j,children:$,attrs:_e})=>{const[,et,tt]=useAttributes(_e,"span"),nt={...et,fontSize:j!=null?fontSizeMap[j]||"medium":"inherit"};return jsxRuntimeExports.jsx("span",{...tt,style:nt,children:$})},ATTRIBUTES_TO_PROPS$1=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",usemap:"useMap",cellspacing:"cellSpacing",cellpadding:"cellPadding",autoplay:"autoPlay","xlink:href":"xlinkHref","xmlns:xlink":"xmlnsXlink",for:"htmlFor",minlength:"minLength",maxlength:"maxLength"}),attributeToStyle={size:"fontSize",color:"color",face:"fontFace",valign:"verticalAlign",bgcolor:"backgroundColor",width:"width",height:"height"},imgAlignMap={texttop:"text-top",center:"middle",abscenter:"middle",bottom:"bottom"},attributeToStyleConverters={width:j=>/^\d+$/.test(j)?`${j}px`:j,height:j=>/^\d+$/.test(j)?`${j}px`:j,fontSize:j=>/^[+-]?\d+$/.test(j)?fontSizeMap[j]:j},attributesToStyle=(j,$)=>{var et;const _e={};for(const tt of Object.keys(j)){const nt=attributeToStyle[tt];if($==="img"&&tt==="align"){const rt=(et=j[tt])==null?void 0:et.toLowerCase();if(rt){const ot=imgAlignMap[rt];ot&&(_e.verticalAlign=ot)}}if(nt){const rt=j[tt];if(!rt)continue;attributeToStyleConverters[nt]?_e[nt]=attributeToStyleConverters[nt](rt):_e[nt]=rt}}return _e},supportedEvents=["click","mouseenter","mouseleave","contextmenu","dblclick","wheel"],eventsMap={click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},useAttributes=(j,$,_e=$)=>{const et={};_e.includes("-")&&(et["data-qsp"]=_e.replace("qsp-",""));const{tag:tt=$,style:nt={},"qsp-command":rt,"qsp-save-command":ot,...it}=j;for(const[ft,st]of Object.entries(it)){if(ft.startsWith("on"))continue;if(ft.startsWith("qsp-on")){const dt=st.slice(5),[,pt]=ft.split(":");supportedEvents.includes(pt)&&(et[eventsMap[pt]]=gt=>{gt.preventDefault(),execCode(dt)});continue}let ut=ATTRIBUTES_TO_PROPS$1[ft]||ft;ut.includes("-")&&!ut.startsWith("aria-")&&!ut.startsWith("data-")&&ut!=="mask-type"&&(ut=ut.replace(/-([a-z])/g,function(dt,pt){return pt.toUpperCase()})),et[ut]=st}tt.includes("-")&&et.className&&(et.class=et.className,delete et.className),tt==="iframe"&&(et.sandbox="allow-scripts allow-same-origin"),rt?(et.onClick=ft=>{ft.preventDefault(),onGameCommand(rt)},et["data-qsp-command"]=rt):ot&&(et["data-qsp-save-command"]=ot,et.onClick=ft=>{if(ft.preventDefault(),!ft.target)return;const st=getSaveContext(ft.target);st&&onSaveCommand(ot,st)});const at=attributesToStyle(j,tt);return[tt,{...nt,...at},et]};function getSaveContext(j){const $=j.closest("[data-qsp-save]");if(!$)return console.error("qsp-save-command used on element outside of save tag"),null;const _e="qspSaveIndex"in $.dataset?parseInt($.dataset.qspSaveIndex??"-1",0):-1,et=$.dataset.qspSavePath??"";return{slot_index:_e,save_path:et}}const Element$2=function({attributes:j={},className:$,children:_e=null,selfClose:et=!1,tagName:tt}){const nt=tt;return et?jsxRuntimeExports.jsx(nt,{className:$,...j}):jsxRuntimeExports.jsx(nt,{className:$,...j,children:_e})},Markup=function(j){const{content:$}=j,_e=$.length===1?$[0]:$;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e})},TYPE_FLOW=1,TYPE_SECTION=2,TYPE_HEADING=4,TYPE_PHRASING=8,TYPE_EMBEDDED=16,TYPE_INTERACTIVE=32,TYPE_PALPABLE=64,tagConfigs={a:{content:TYPE_FLOW|TYPE_PHRASING,self:!1,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:TYPE_FLOW|TYPE_PHRASING,void:!0},body:{content:TYPE_FLOW|TYPE_SECTION|TYPE_HEADING|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_INTERACTIVE|TYPE_PALPABLE},button:{content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},caption:{content:TYPE_FLOW,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:TYPE_FLOW|TYPE_INTERACTIVE|TYPE_PALPABLE},dd:{content:TYPE_FLOW,parent:["dl"]},dl:{children:["dt","dd"],type:TYPE_FLOW},dt:{content:TYPE_FLOW,invalid:["footer","header"],parent:["dl"]},figcaption:{content:TYPE_FLOW,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:TYPE_FLOW,void:!0},img:{void:!0},li:{content:TYPE_FLOW,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:TYPE_FLOW},picture:{children:["source","img"],type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:TYPE_PHRASING,parent:["ruby","rtc"]},rtc:{content:TYPE_PHRASING,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:TYPE_PHRASING,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:TYPE_FLOW},tbody:{parent:["table"],children:["tr"]},td:{content:TYPE_FLOW,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:TYPE_FLOW,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:TYPE_FLOW},video:{children:["track","source"]},wbr:{type:TYPE_FLOW|TYPE_PHRASING,void:!0}};function createConfigBuilder(j){return $=>{tagConfigs[$]={...j,...tagConfigs[$]}}}["address","main","div","figure","p","pre"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_PALPABLE}));["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_PALPABLE}));["p","pre"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PALPABLE}));["s","small","span","del","ins"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING}));["article","aside","footer","header","nav","section","blockquote"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_SECTION|TYPE_PALPABLE}));["h1","h2","h3","h4","h5","h6"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_HEADING|TYPE_PALPABLE}));["audio","canvas","iframe","img","video"].forEach(createConfigBuilder({type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_PALPABLE}));const TAGS=Object.freeze(tagConfigs),BANNED_TAG_LIST=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],ALLOWED_TAG_LIST=Object.keys(TAGS).filter(j=>j!=="canvas"&&j!=="iframe"),FILTER_ALLOW=1,FILTER_DENY=2,FILTER_CAST_NUMBER=3,FILTER_CAST_BOOL=4,FILTER_NO_CAST=5,ATTRIBUTES=Object.freeze({alt:FILTER_ALLOW,cite:FILTER_ALLOW,class:FILTER_ALLOW,colspan:FILTER_CAST_NUMBER,controls:FILTER_CAST_BOOL,datetime:FILTER_ALLOW,default:FILTER_CAST_BOOL,disabled:FILTER_CAST_BOOL,dir:FILTER_ALLOW,height:FILTER_ALLOW,href:FILTER_ALLOW,id:FILTER_ALLOW,kind:FILTER_ALLOW,label:FILTER_ALLOW,lang:FILTER_ALLOW,loading:FILTER_ALLOW,loop:FILTER_CAST_BOOL,media:FILTER_ALLOW,muted:FILTER_CAST_BOOL,poster:FILTER_ALLOW,rel:FILTER_ALLOW,role:FILTER_ALLOW,rowspan:FILTER_CAST_NUMBER,scope:FILTER_ALLOW,sizes:FILTER_ALLOW,span:FILTER_CAST_NUMBER,start:FILTER_CAST_NUMBER,style:FILTER_NO_CAST,src:FILTER_ALLOW,srclang:FILTER_ALLOW,srcset:FILTER_ALLOW,tabindex:FILTER_ALLOW,target:FILTER_ALLOW,title:FILTER_ALLOW,type:FILTER_ALLOW,width:FILTER_ALLOW}),ATTRIBUTES_TO_PROPS=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex"});function isHtmlElement(j){return j.nodeType===1}function isTextNode(j){return j.nodeType===3}const ALLOWED_ATTRS=/^(aria-|data-|\w+:)/iu,domParser=new DOMParser;class HtmlParser{constructor($={}){this.allowed=new Set($.allowList??ALLOWED_TAG_LIST),this.banned=new Set(BANNED_TAG_LIST),this.blocked=new Set($.blockList),this.transform=$.transform}parse($,_e=!0){if(!$)return[];const et=domParser.parseFromString(_e?this.convertLineBreaks($):$,"text/html");return et.body?this.parseNode(et.body,this.getTagConfig(et.body.nodeName.toLowerCase())):[]}parseNode($,_e){const et=[];let tt=[],nt=0;for(const rt of $.childNodes)if(isHtmlElement(rt)){const ot=rt.nodeName.toLowerCase(),it=this.getTagConfig(ot);tt.length>0&&(et.push(tt.join("")),tt=[]);let at;if(this.transform){at=this.parseNode(rt,it);const ft=this.transform(rt,at,it);if(ft===null)continue;if(typeof ft<"u"){nt++,et.push(React$1.cloneElement(ft,{key:nt}));continue}}if(this.banned.has(ot))continue;if(this.isTagAllowed(ot)&&this.canRenderChild(_e,it)){const ft=this.extractAttributes(rt),st={tagName:ot};ft&&(st.attributes=ft),it.void&&(st.selfClose=it.void),++nt,et.push(React$1.createElement(Element$2,{...st,key:nt},at??this.parseNode(rt,it)))}else et.push(...this.parseNode(rt,it.tagName?it:_e))}else if(isTextNode(rt)){const ot=rt.textContent;ot&&tt.push(ot)}return tt.length>0&&et.push(tt.join("")),et}getTagConfig($){const _e={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return TAGS[$]?{..._e,...TAGS[$],tagName:$}:_e}convertLineBreaks($){if($.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return $;let _e=$.replace(/\r\n/g,`
`);return _e=_e.replace(/\n{3,}/g,`


`),_e=_e.replace(/\n/g,"<br/>"),_e}canRenderChild($,_e){return!$.tagName||!_e.tagName||$.void?!1:$.children.length>0?$.children.includes(_e.tagName):$.invalid.length>0&&$.invalid.includes(_e.tagName)?!1:_e.parent.length>0?_e.parent.includes($.tagName):!$.self&&$.tagName===_e.tagName?!1:!!($&&$.content&_e.type)}extractAttributes($){const _e={};let et=0;if(!isHtmlElement($)||!$.attributes)return null;for(const tt of $.attributes){const{name:nt,value:rt}=tt,ot=nt.toLowerCase(),it=ATTRIBUTES[ot]||ATTRIBUTES[nt];if(!this.isSafe($)||!ot.match(ALLOWED_ATTRS)&&(!it||it===FILTER_DENY||ot.startsWith("on")||rt.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i)))continue;let at=ot==="style"?this.extractStyleAttribute($):rt;it===FILTER_CAST_BOOL?at=!0:it===FILTER_CAST_NUMBER?at=Number.parseFloat(String(at)):it!==FILTER_NO_CAST&&(at=String(at)),_e[ATTRIBUTES_TO_PROPS[ot]||ot]=at,et+=1}return et===0?null:_e}extractStyleAttribute($){const _e={};return Array.from($.style).forEach(et=>{const tt=$.style[et];(typeof tt=="string"||typeof tt=="number")&&(_e[et.replace(/-([a-z])/g,(nt,rt)=>String(rt).toUpperCase())]=tt)}),_e}isSafe($){if(typeof HTMLAnchorElement<"u"&&$ instanceof HTMLAnchorElement){const _e=$.getAttribute("href");if(_e!=null&&_e.startsWith("#"))return!0;const et=$.protocol.toLowerCase();return et===":"||et==="http:"||et==="https:"||et==="mailto:"||et==="tel:"}return!0}isTagAllowed($){return!(this.banned.has($)||this.blocked.has($))}}const actionContext=reactExports.createContext({action:{name:[],image:""},index:-1}),QspActions=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-actions");return useAtom_2(isActsVisible$)?jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$}):null},QspActionsList=({attrs:j,children:$})=>{const _e=useAtom_2(actionsWithParsedName$),[et,tt,nt]=useAttributes(j,"qsp-actions-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,ot)=>jsxRuntimeExports.jsx(actionContext.Provider,{value:{action:rt,index:ot},children:React$1.Children.map($,it=>React$1.cloneElement(it))},rt.key))})},QspActionItem=({attrs:j,children:$})=>{const _e=useAtom_2(selectedAction$),{action:et,index:tt}=reactExports.useContext(actionContext),[nt,rt,{useFormat:ot,...it}]=useAttributes(j,"qsp-action"),at={...rt,"--action-image":et.image?`url("${et.image}")`:""},ft=()=>{selectAction(tt)},st=()=>{selectAction(-1)},ut=pt=>{pt.preventDefault(),selectedAction$.value<0&&selectAction(tt),execSelectedAction()},dt=_e===tt;return jsxRuntimeExports.jsx(nt,{...it,style:at,"data-qsp-selected":dt?"":null,onMouseOver:ft,onMouseLeave:st,onClick:ut,children:$})},QspActionName=({attrs:j})=>{const[$,_e,et]=useAttributes(j,"qsp-action-name"),{action:tt}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx($,{...et,style:_e,children:jsxRuntimeExports.jsx(Markup,{content:tt.name})})},QspActionImage=({attrs:j})=>{const{action:$}=reactExports.useContext(actionContext),[,_e,et]=useAttributes(j,"img","qsp-action-image");return $.image?jsxRuntimeExports.jsx("img",{alt:"",style:_e,...et,src:$.image}):null},QspActionIndex=({attrs:j})=>{const[$,_e,et]=useAttributes(j,"qsp-action-index"),{index:tt}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx($,{...et,style:_e,children:tt+1})};function composeEventHandlers(j,$,{checkForDefaultPrevented:_e=!0}={}){return function(tt){if(j==null||j(tt),_e===!1||!tt.defaultPrevented)return $==null?void 0:$(tt)}}function setRef(j,$){typeof j=="function"?j($):j!=null&&(j.current=$)}function composeRefs(...j){return $=>j.forEach(_e=>setRef(_e,$))}function useComposedRefs(...j){return reactExports.useCallback(composeRefs(...j),j)}function createContext2(j,$){const _e=reactExports.createContext($);function et(nt){const{children:rt,...ot}=nt,it=reactExports.useMemo(()=>ot,Object.values(ot));return jsxRuntimeExports.jsx(_e.Provider,{value:it,children:rt})}function tt(nt){const rt=reactExports.useContext(_e);if(rt)return rt;if($!==void 0)return $;throw new Error(`\`${nt}\` must be used within \`${j}\``)}return et.displayName=j+"Provider",[et,tt]}function createContextScope(j,$=[]){let _e=[];function et(nt,rt){const ot=reactExports.createContext(rt),it=_e.length;_e=[..._e,rt];function at(st){const{scope:ut,children:dt,...pt}=st,gt=(ut==null?void 0:ut[j][it])||ot,yt=reactExports.useMemo(()=>pt,Object.values(pt));return jsxRuntimeExports.jsx(gt.Provider,{value:yt,children:dt})}function ft(st,ut){const dt=(ut==null?void 0:ut[j][it])||ot,pt=reactExports.useContext(dt);if(pt)return pt;if(rt!==void 0)return rt;throw new Error(`\`${st}\` must be used within \`${nt}\``)}return at.displayName=nt+"Provider",[at,ft]}const tt=()=>{const nt=_e.map(rt=>reactExports.createContext(rt));return function(ot){const it=(ot==null?void 0:ot[j])||nt;return reactExports.useMemo(()=>({[`__scope${j}`]:{...ot,[j]:it}}),[ot,it])}};return tt.scopeName=j,[et,composeContextScopes(tt,...$)]}function composeContextScopes(...j){const $=j[0];if(j.length===1)return $;const _e=()=>{const et=j.map(tt=>({useScope:tt(),scopeName:tt.scopeName}));return function(nt){const rt=et.reduce((ot,{useScope:it,scopeName:at})=>{const st=it(nt)[`__scope${at}`];return{...ot,...st}},{});return reactExports.useMemo(()=>({[`__scope${$.scopeName}`]:rt}),[rt])}};return _e.scopeName=$.scopeName,_e}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$2.useId||(()=>{}),count$1=0;function useId(j){const[$,_e]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{j||_e(et=>et??String(count$1++))},[j]),j||($?`radix-${$}`:"")}function useCallbackRef$1(j){const $=reactExports.useRef(j);return reactExports.useEffect(()=>{$.current=j}),reactExports.useMemo(()=>(..._e)=>{var et;return(et=$.current)==null?void 0:et.call($,..._e)},[])}function useControllableState({prop:j,defaultProp:$,onChange:_e=()=>{}}){const[et,tt]=useUncontrolledState({defaultProp:$,onChange:_e}),nt=j!==void 0,rt=nt?j:et,ot=useCallbackRef$1(_e),it=reactExports.useCallback(at=>{if(nt){const st=typeof at=="function"?at(j):at;st!==j&&ot(st)}else tt(at)},[nt,j,tt,ot]);return[rt,it]}function useUncontrolledState({defaultProp:j,onChange:$}){const _e=reactExports.useState(j),[et]=_e,tt=reactExports.useRef(et),nt=useCallbackRef$1($);return reactExports.useEffect(()=>{tt.current!==et&&(nt(et),tt.current=et)},[et,tt,nt]),_e}var Slot=reactExports.forwardRef((j,$)=>{const{children:_e,...et}=j,tt=reactExports.Children.toArray(_e),nt=tt.find(isSlottable);if(nt){const rt=nt.props.children,ot=tt.map(it=>it===nt?reactExports.Children.count(rt)>1?reactExports.Children.only(null):reactExports.isValidElement(rt)?rt.props.children:null:it);return jsxRuntimeExports.jsx(SlotClone,{...et,ref:$,children:reactExports.isValidElement(rt)?reactExports.cloneElement(rt,void 0,ot):null})}return jsxRuntimeExports.jsx(SlotClone,{...et,ref:$,children:_e})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((j,$)=>{const{children:_e,...et}=j;if(reactExports.isValidElement(_e)){const tt=getElementRef$1(_e);return reactExports.cloneElement(_e,{...mergeProps(et,_e.props),ref:$?composeRefs($,tt):tt})}return reactExports.Children.count(_e)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:j})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j});function isSlottable(j){return reactExports.isValidElement(j)&&j.type===Slottable}function mergeProps(j,$){const _e={...$};for(const et in $){const tt=j[et],nt=$[et];/^on[A-Z]/.test(et)?tt&&nt?_e[et]=(...ot)=>{nt(...ot),tt(...ot)}:tt&&(_e[et]=tt):et==="style"?_e[et]={...tt,...nt}:et==="className"&&(_e[et]=[tt,nt].filter(Boolean).join(" "))}return{...j,..._e}}function getElementRef$1(j){var et,tt;let $=(et=Object.getOwnPropertyDescriptor(j.props,"ref"))==null?void 0:et.get,_e=$&&"isReactWarning"in $&&$.isReactWarning;return _e?j.ref:($=(tt=Object.getOwnPropertyDescriptor(j,"ref"))==null?void 0:tt.get,_e=$&&"isReactWarning"in $&&$.isReactWarning,_e?j.props.ref:j.props.ref||j.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((j,$)=>{const _e=reactExports.forwardRef((et,tt)=>{const{asChild:nt,...rt}=et,ot=nt?Slot:$;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(ot,{...rt,ref:tt})});return _e.displayName=`Primitive.${$}`,{...j,[$]:_e}},{});function dispatchDiscreteCustomEvent(j,$){j&&reactDomExports.flushSync(()=>j.dispatchEvent($))}function useEscapeKeydown(j,$=globalThis==null?void 0:globalThis.document){const _e=useCallbackRef$1(j);reactExports.useEffect(()=>{const et=tt=>{tt.key==="Escape"&&_e(tt)};return $.addEventListener("keydown",et,{capture:!0}),()=>$.removeEventListener("keydown",et,{capture:!0})},[_e,$])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((j,$)=>{const{disableOutsidePointerEvents:_e=!1,onEscapeKeyDown:et,onPointerDownOutside:tt,onFocusOutside:nt,onInteractOutside:rt,onDismiss:ot,...it}=j,at=reactExports.useContext(DismissableLayerContext),[ft,st]=reactExports.useState(null),ut=(ft==null?void 0:ft.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,dt]=reactExports.useState({}),pt=useComposedRefs($,St=>st(St)),gt=Array.from(at.layers),[yt]=[...at.layersWithOutsidePointerEventsDisabled].slice(-1),mt=gt.indexOf(yt),vt=ft?gt.indexOf(ft):-1,_t=at.layersWithOutsidePointerEventsDisabled.size>0,Ct=vt>=mt,At=usePointerDownOutside(St=>{const wt=St.target,It=[...at.branches].some(Ut=>Ut.contains(wt));!Ct||It||(tt==null||tt(St),rt==null||rt(St),St.defaultPrevented||ot==null||ot())},ut),kt=useFocusOutside(St=>{const wt=St.target;[...at.branches].some(Ut=>Ut.contains(wt))||(nt==null||nt(St),rt==null||rt(St),St.defaultPrevented||ot==null||ot())},ut);return useEscapeKeydown(St=>{vt===at.layers.size-1&&(et==null||et(St),!St.defaultPrevented&&ot&&(St.preventDefault(),ot()))},ut),reactExports.useEffect(()=>{if(ft)return _e&&(at.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=ut.body.style.pointerEvents,ut.body.style.pointerEvents="none"),at.layersWithOutsidePointerEventsDisabled.add(ft)),at.layers.add(ft),dispatchUpdate(),()=>{_e&&at.layersWithOutsidePointerEventsDisabled.size===1&&(ut.body.style.pointerEvents=originalBodyPointerEvents)}},[ft,ut,_e,at]),reactExports.useEffect(()=>()=>{ft&&(at.layers.delete(ft),at.layersWithOutsidePointerEventsDisabled.delete(ft),dispatchUpdate())},[ft,at]),reactExports.useEffect(()=>{const St=()=>dt({});return document.addEventListener(CONTEXT_UPDATE,St),()=>document.removeEventListener(CONTEXT_UPDATE,St)},[]),jsxRuntimeExports.jsx(Primitive.div,{...it,ref:pt,style:{pointerEvents:_t?Ct?"auto":"none":void 0,...j.style},onFocusCapture:composeEventHandlers(j.onFocusCapture,kt.onFocusCapture),onBlurCapture:composeEventHandlers(j.onBlurCapture,kt.onBlurCapture),onPointerDownCapture:composeEventHandlers(j.onPointerDownCapture,At.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((j,$)=>{const _e=reactExports.useContext(DismissableLayerContext),et=reactExports.useRef(null),tt=useComposedRefs($,et);return reactExports.useEffect(()=>{const nt=et.current;if(nt)return _e.branches.add(nt),()=>{_e.branches.delete(nt)}},[_e.branches]),jsxRuntimeExports.jsx(Primitive.div,{...j,ref:tt})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(j,$=globalThis==null?void 0:globalThis.document){const _e=useCallbackRef$1(j),et=reactExports.useRef(!1),tt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const nt=ot=>{if(ot.target&&!et.current){let it=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,_e,at,{discrete:!0})};const at={originalEvent:ot};ot.pointerType==="touch"?($.removeEventListener("click",tt.current),tt.current=it,$.addEventListener("click",tt.current,{once:!0})):it()}else $.removeEventListener("click",tt.current);et.current=!1},rt=window.setTimeout(()=>{$.addEventListener("pointerdown",nt)},0);return()=>{window.clearTimeout(rt),$.removeEventListener("pointerdown",nt),$.removeEventListener("click",tt.current)}},[$,_e]),{onPointerDownCapture:()=>et.current=!0}}function useFocusOutside(j,$=globalThis==null?void 0:globalThis.document){const _e=useCallbackRef$1(j),et=reactExports.useRef(!1);return reactExports.useEffect(()=>{const tt=nt=>{nt.target&&!et.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,_e,{originalEvent:nt},{discrete:!1})};return $.addEventListener("focusin",tt),()=>$.removeEventListener("focusin",tt)},[$,_e]),{onFocusCapture:()=>et.current=!0,onBlurCapture:()=>et.current=!1}}function dispatchUpdate(){const j=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(j)}function handleAndDispatchCustomEvent$1(j,$,_e,{discrete:et}){const tt=_e.originalEvent.target,nt=new CustomEvent(j,{bubbles:!1,cancelable:!0,detail:_e});$&&tt.addEventListener(j,$,{once:!0}),et?dispatchDiscreteCustomEvent(tt,nt):tt.dispatchEvent(nt)}var Root$7=DismissableLayer,Branch=DismissableLayerBranch,AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((j,$)=>{const{loop:_e=!1,trapped:et=!1,onMountAutoFocus:tt,onUnmountAutoFocus:nt,...rt}=j,[ot,it]=reactExports.useState(null),at=useCallbackRef$1(tt),ft=useCallbackRef$1(nt),st=reactExports.useRef(null),ut=useComposedRefs($,gt=>it(gt)),dt=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(et){let gt=function(_t){if(dt.paused||!ot)return;const Ct=_t.target;ot.contains(Ct)?st.current=Ct:focus(st.current,{select:!0})},yt=function(_t){if(dt.paused||!ot)return;const Ct=_t.relatedTarget;Ct!==null&&(ot.contains(Ct)||focus(st.current,{select:!0}))},mt=function(_t){if(document.activeElement===document.body)for(const At of _t)At.removedNodes.length>0&&focus(ot)};document.addEventListener("focusin",gt),document.addEventListener("focusout",yt);const vt=new MutationObserver(mt);return ot&&vt.observe(ot,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",gt),document.removeEventListener("focusout",yt),vt.disconnect()}}},[et,ot,dt.paused]),reactExports.useEffect(()=>{if(ot){focusScopesStack.add(dt);const gt=document.activeElement;if(!ot.contains(gt)){const mt=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);ot.addEventListener(AUTOFOCUS_ON_MOUNT,at),ot.dispatchEvent(mt),mt.defaultPrevented||(focusFirst$3(removeLinks(getTabbableCandidates$1(ot)),{select:!0}),document.activeElement===gt&&focus(ot))}return()=>{ot.removeEventListener(AUTOFOCUS_ON_MOUNT,at),setTimeout(()=>{const mt=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);ot.addEventListener(AUTOFOCUS_ON_UNMOUNT,ft),ot.dispatchEvent(mt),mt.defaultPrevented||focus(gt??document.body,{select:!0}),ot.removeEventListener(AUTOFOCUS_ON_UNMOUNT,ft),focusScopesStack.remove(dt)},0)}}},[ot,at,ft,dt]);const pt=reactExports.useCallback(gt=>{if(!_e&&!et||dt.paused)return;const yt=gt.key==="Tab"&&!gt.altKey&&!gt.ctrlKey&&!gt.metaKey,mt=document.activeElement;if(yt&&mt){const vt=gt.currentTarget,[_t,Ct]=getTabbableEdges(vt);_t&&Ct?!gt.shiftKey&&mt===Ct?(gt.preventDefault(),_e&&focus(_t,{select:!0})):gt.shiftKey&&mt===_t&&(gt.preventDefault(),_e&&focus(Ct,{select:!0})):mt===vt&&gt.preventDefault()}},[_e,et,dt.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...rt,ref:ut,onKeyDown:pt})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$3(j,{select:$=!1}={}){const _e=document.activeElement;for(const et of j)if(focus(et,{select:$}),document.activeElement!==_e)return}function getTabbableEdges(j){const $=getTabbableCandidates$1(j),_e=findVisible($,j),et=findVisible($.reverse(),j);return[_e,et]}function getTabbableCandidates$1(j){const $=[],_e=document.createTreeWalker(j,NodeFilter.SHOW_ELEMENT,{acceptNode:et=>{const tt=et.tagName==="INPUT"&&et.type==="hidden";return et.disabled||et.hidden||tt?NodeFilter.FILTER_SKIP:et.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;_e.nextNode();)$.push(_e.currentNode);return $}function findVisible(j,$){for(const _e of j)if(!isHidden(_e,{upTo:$}))return _e}function isHidden(j,{upTo:$}){if(getComputedStyle(j).visibility==="hidden")return!0;for(;j;){if($!==void 0&&j===$)return!1;if(getComputedStyle(j).display==="none")return!0;j=j.parentElement}return!1}function isSelectableInput(j){return j instanceof HTMLInputElement&&"select"in j}function focus(j,{select:$=!1}={}){if(j&&j.focus){const _e=document.activeElement;j.focus({preventScroll:!0}),j!==_e&&isSelectableInput(j)&&$&&j.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let j=[];return{add($){const _e=j[0];$!==_e&&(_e==null||_e.pause()),j=arrayRemove(j,$),j.unshift($)},remove($){var _e;j=arrayRemove(j,$),(_e=j[0])==null||_e.resume()}}}function arrayRemove(j,$){const _e=[...j],et=_e.indexOf($);return et!==-1&&_e.splice(et,1),_e}function removeLinks(j){return j.filter($=>$.tagName!=="A")}var PORTAL_NAME$6="Portal",Portal$4=reactExports.forwardRef((j,$)=>{var ot;const{container:_e,...et}=j,[tt,nt]=reactExports.useState(!1);useLayoutEffect2(()=>nt(!0),[]);const rt=_e||tt&&((ot=globalThis==null?void 0:globalThis.document)==null?void 0:ot.body);return rt?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...et,ref:$}),rt):null});Portal$4.displayName=PORTAL_NAME$6;function useStateMachine$1(j,$){return reactExports.useReducer((_e,et)=>$[_e][et]??_e,j)}var Presence=j=>{const{present:$,children:_e}=j,et=usePresence($),tt=typeof _e=="function"?_e({present:et.isPresent}):reactExports.Children.only(_e),nt=useComposedRefs(et.ref,getElementRef(tt));return typeof _e=="function"||et.isPresent?reactExports.cloneElement(tt,{ref:nt}):null};Presence.displayName="Presence";function usePresence(j){const[$,_e]=reactExports.useState(),et=reactExports.useRef({}),tt=reactExports.useRef(j),nt=reactExports.useRef("none"),rt=j?"mounted":"unmounted",[ot,it]=useStateMachine$1(rt,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const at=getAnimationName(et.current);nt.current=ot==="mounted"?at:"none"},[ot]),useLayoutEffect2(()=>{const at=et.current,ft=tt.current;if(ft!==j){const ut=nt.current,dt=getAnimationName(at);j?it("MOUNT"):dt==="none"||(at==null?void 0:at.display)==="none"?it("UNMOUNT"):it(ft&&ut!==dt?"ANIMATION_OUT":"UNMOUNT"),tt.current=j}},[j,it]),useLayoutEffect2(()=>{if($){const at=st=>{const dt=getAnimationName(et.current).includes(st.animationName);st.target===$&&dt&&reactDomExports.flushSync(()=>it("ANIMATION_END"))},ft=st=>{st.target===$&&(nt.current=getAnimationName(et.current))};return $.addEventListener("animationstart",ft),$.addEventListener("animationcancel",at),$.addEventListener("animationend",at),()=>{$.removeEventListener("animationstart",ft),$.removeEventListener("animationcancel",at),$.removeEventListener("animationend",at)}}else it("ANIMATION_END")},[$,it]),{isPresent:["mounted","unmountSuspended"].includes(ot),ref:reactExports.useCallback(at=>{at&&(et.current=getComputedStyle(at)),_e(at)},[])}}function getAnimationName(j){return(j==null?void 0:j.animationName)||"none"}function getElementRef(j){var et,tt;let $=(et=Object.getOwnPropertyDescriptor(j.props,"ref"))==null?void 0:et.get,_e=$&&"isReactWarning"in $&&$.isReactWarning;return _e?j.ref:($=(tt=Object.getOwnPropertyDescriptor(j,"ref"))==null?void 0:tt.get,_e=$&&"isReactWarning"in $&&$.isReactWarning,_e?j.props.ref:j.props.ref||j.ref)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const j=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",j[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",j[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach($=>$.remove()),count--}},[])}function createFocusGuard(){const j=document.createElement("span");return j.setAttribute("data-radix-focus-guard",""),j.tabIndex=0,j.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",j}var __assign=function(){return __assign=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++){_e=arguments[et];for(var nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&($[nt]=_e[nt])}return $},__assign.apply(this,arguments)};function __rest(j,$){var _e={};for(var et in j)Object.prototype.hasOwnProperty.call(j,et)&&$.indexOf(et)<0&&(_e[et]=j[et]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,et=Object.getOwnPropertySymbols(j);tt<et.length;tt++)$.indexOf(et[tt])<0&&Object.prototype.propertyIsEnumerable.call(j,et[tt])&&(_e[et[tt]]=j[et[tt]]);return _e}function __spreadArray(j,$,_e){if(_e||arguments.length===2)for(var et=0,tt=$.length,nt;et<tt;et++)(nt||!(et in $))&&(nt||(nt=Array.prototype.slice.call($,0,et)),nt[et]=$[et]);return j.concat(nt||Array.prototype.slice.call($))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(j,$){return typeof j=="function"?j($):j&&(j.current=$),j}function useCallbackRef(j,$){var _e=reactExports.useState(function(){return{value:j,callback:$,facade:{get current(){return _e.value},set current(et){var tt=_e.value;tt!==et&&(_e.value=et,_e.callback(et,tt))}}}})[0];return _e.callback=$,_e.facade}function useMergeRefs(j,$){return useCallbackRef(null,function(_e){return j.forEach(function(et){return assignRef(et,_e)})})}function ItoI(j){return j}function innerCreateMedium(j,$){$===void 0&&($=ItoI);var _e=[],et=!1,tt={read:function(){if(et)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return _e.length?_e[_e.length-1]:j},useMedium:function(nt){var rt=$(nt,et);return _e.push(rt),function(){_e=_e.filter(function(ot){return ot!==rt})}},assignSyncMedium:function(nt){for(et=!0;_e.length;){var rt=_e;_e=[],rt.forEach(nt)}_e={push:function(ot){return nt(ot)},filter:function(){return _e}}},assignMedium:function(nt){et=!0;var rt=[];if(_e.length){var ot=_e;_e=[],ot.forEach(nt),rt=_e}var it=function(){var ft=rt;rt=[],ft.forEach(nt)},at=function(){return Promise.resolve().then(it)};at(),_e={push:function(ft){rt.push(ft),at()},filter:function(ft){return rt=rt.filter(ft),_e}}}};return tt}function createSidecarMedium(j){j===void 0&&(j={});var $=innerCreateMedium(null);return $.options=__assign({async:!0,ssr:!1},j),$}var SideCar$1=function(j){var $=j.sideCar,_e=__rest(j,["sideCar"]);if(!$)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var et=$.read();if(!et)throw new Error("Sidecar medium not found");return reactExports.createElement(et,__assign({},_e))};SideCar$1.isSideCarExport=!0;function exportSidecar(j,$){return j.useMedium($),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(j,$){var _e=reactExports.useRef(null),et=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),tt=et[0],nt=et[1],rt=j.forwardProps,ot=j.children,it=j.className,at=j.removeScrollBar,ft=j.enabled,st=j.shards,ut=j.sideCar,dt=j.noIsolation,pt=j.inert,gt=j.allowPinchZoom,yt=j.as,mt=yt===void 0?"div":yt,vt=j.gapMode,_t=__rest(j,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Ct=ut,At=useMergeRefs([_e,$]),kt=__assign(__assign({},_t),tt);return reactExports.createElement(reactExports.Fragment,null,ft&&reactExports.createElement(Ct,{sideCar:effectCar,removeScrollBar:at,shards:st,noIsolation:dt,inert:pt,setCallbacks:nt,allowPinchZoom:!!gt,lockRef:_e,gapMode:vt}),rt?reactExports.cloneElement(reactExports.Children.only(ot),__assign(__assign({},kt),{ref:At})):reactExports.createElement(mt,__assign({},kt,{className:it,ref:At}),ot))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var j=document.createElement("style");j.type="text/css";var $=getNonce();return $&&j.setAttribute("nonce",$),j}function injectStyles(j,$){j.styleSheet?j.styleSheet.cssText=$:j.appendChild(document.createTextNode($))}function insertStyleTag(j){var $=document.head||document.getElementsByTagName("head")[0];$.appendChild(j)}var stylesheetSingleton=function(){var j=0,$=null;return{add:function(_e){j==0&&($=makeStyleTag())&&(injectStyles($,_e),insertStyleTag($)),j++},remove:function(){j--,!j&&$&&($.parentNode&&$.parentNode.removeChild($),$=null)}}},styleHookSingleton=function(){var j=stylesheetSingleton();return function($,_e){reactExports.useEffect(function(){return j.add($),function(){j.remove()}},[$&&_e])}},styleSingleton=function(){var j=styleHookSingleton(),$=function(_e){var et=_e.styles,tt=_e.dynamic;return j(et,tt),null};return $},zeroGap={left:0,top:0,right:0,gap:0},parse=function(j){return parseInt(j||"",10)||0},getOffset=function(j){var $=window.getComputedStyle(document.body),_e=$[j==="padding"?"paddingLeft":"marginLeft"],et=$[j==="padding"?"paddingTop":"marginTop"],tt=$[j==="padding"?"paddingRight":"marginRight"];return[parse(_e),parse(et),parse(tt)]},getGapWidth=function(j){if(j===void 0&&(j="margin"),typeof window>"u")return zeroGap;var $=getOffset(j),_e=document.documentElement.clientWidth,et=window.innerWidth;return{left:$[0],top:$[1],right:$[2],gap:Math.max(0,et-_e+$[2]-$[0])}},Style=styleSingleton(),getStyles=function(j,$,_e,et){var tt=j.left,nt=j.top,rt=j.right,ot=j.gap;return _e===void 0&&(_e="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(et,`;
   padding-right: `).concat(ot,"px ").concat(et,`;
  }
  body {
    overflow: hidden `).concat(et,`;
    overscroll-behavior: contain;
    `).concat([$&&"position: relative ".concat(et,";"),_e==="margin"&&`
    padding-left: `.concat(tt,`px;
    padding-top: `).concat(nt,`px;
    padding-right: `).concat(rt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ot,"px ").concat(et,`;
    `),_e==="padding"&&"padding-right: ".concat(ot,"px ").concat(et,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(ot,"px ").concat(et,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(ot,"px ").concat(et,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(et,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(et,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(ot,`px;
  }
`)},RemoveScrollBar=function(j){var $=j.noRelative,_e=j.noImportant,et=j.gapMode,tt=et===void 0?"margin":et,nt=reactExports.useMemo(function(){return getGapWidth(tt)},[tt]);return reactExports.createElement(Style,{styles:getStyles(nt,!$,tt,_e?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(j){return j.tagName==="TEXTAREA"},elementCanBeScrolled=function(j,$){var _e=window.getComputedStyle(j);return _e[$]!=="hidden"&&!(_e.overflowY===_e.overflowX&&!alwaysContainsScroll(j)&&_e[$]==="visible")},elementCouldBeVScrolled=function(j){return elementCanBeScrolled(j,"overflowY")},elementCouldBeHScrolled=function(j){return elementCanBeScrolled(j,"overflowX")},locationCouldBeScrolled=function(j,$){var _e=$.ownerDocument,et=$;do{typeof ShadowRoot<"u"&&et instanceof ShadowRoot&&(et=et.host);var tt=elementCouldBeScrolled(j,et);if(tt){var nt=getScrollVariables(j,et),rt=nt[1],ot=nt[2];if(rt>ot)return!0}et=et.parentNode}while(et&&et!==_e.body);return!1},getVScrollVariables=function(j){var $=j.scrollTop,_e=j.scrollHeight,et=j.clientHeight;return[$,_e,et]},getHScrollVariables=function(j){var $=j.scrollLeft,_e=j.scrollWidth,et=j.clientWidth;return[$,_e,et]},elementCouldBeScrolled=function(j,$){return j==="v"?elementCouldBeVScrolled($):elementCouldBeHScrolled($)},getScrollVariables=function(j,$){return j==="v"?getVScrollVariables($):getHScrollVariables($)},getDirectionFactor=function(j,$){return j==="h"&&$==="rtl"?-1:1},handleScroll=function(j,$,_e,et,tt){var nt=getDirectionFactor(j,window.getComputedStyle($).direction),rt=nt*et,ot=_e.target,it=$.contains(ot),at=!1,ft=rt>0,st=0,ut=0;do{var dt=getScrollVariables(j,ot),pt=dt[0],gt=dt[1],yt=dt[2],mt=gt-yt-nt*pt;(pt||mt)&&elementCouldBeScrolled(j,ot)&&(st+=mt,ut+=pt),ot instanceof ShadowRoot?ot=ot.host:ot=ot.parentNode}while(!it&&ot!==document.body||it&&($.contains(ot)||$===ot));return(ft&&(Math.abs(st)<1||!tt)||!ft&&(Math.abs(ut)<1||!tt))&&(at=!0),at},getTouchXY=function(j){return"changedTouches"in j?[j.changedTouches[0].clientX,j.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(j){return[j.deltaX,j.deltaY]},extractRef=function(j){return j&&"current"in j?j.current:j},deltaCompare=function(j,$){return j[0]===$[0]&&j[1]===$[1]},generateStyle=function(j){return`
  .block-interactivity-`.concat(j,` {pointer-events: none;}
  .allow-interactivity-`).concat(j,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(j){var $=reactExports.useRef([]),_e=reactExports.useRef([0,0]),et=reactExports.useRef(),tt=reactExports.useState(idCounter++)[0],nt=reactExports.useState(styleSingleton)[0],rt=reactExports.useRef(j);reactExports.useEffect(function(){rt.current=j},[j]),reactExports.useEffect(function(){if(j.inert){document.body.classList.add("block-interactivity-".concat(tt));var gt=__spreadArray([j.lockRef.current],(j.shards||[]).map(extractRef),!0).filter(Boolean);return gt.forEach(function(yt){return yt.classList.add("allow-interactivity-".concat(tt))}),function(){document.body.classList.remove("block-interactivity-".concat(tt)),gt.forEach(function(yt){return yt.classList.remove("allow-interactivity-".concat(tt))})}}},[j.inert,j.lockRef.current,j.shards]);var ot=reactExports.useCallback(function(gt,yt){if("touches"in gt&&gt.touches.length===2)return!rt.current.allowPinchZoom;var mt=getTouchXY(gt),vt=_e.current,_t="deltaX"in gt?gt.deltaX:vt[0]-mt[0],Ct="deltaY"in gt?gt.deltaY:vt[1]-mt[1],At,kt=gt.target,St=Math.abs(_t)>Math.abs(Ct)?"h":"v";if("touches"in gt&&St==="h"&&kt.type==="range")return!1;var wt=locationCouldBeScrolled(St,kt);if(!wt)return!0;if(wt?At=St:(At=St==="v"?"h":"v",wt=locationCouldBeScrolled(St,kt)),!wt)return!1;if(!et.current&&"changedTouches"in gt&&(_t||Ct)&&(et.current=At),!At)return!0;var It=et.current||At;return handleScroll(It,yt,gt,It==="h"?_t:Ct,!0)},[]),it=reactExports.useCallback(function(gt){var yt=gt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==nt)){var mt="deltaY"in yt?getDeltaXY(yt):getTouchXY(yt),vt=$.current.filter(function(At){return At.name===yt.type&&(At.target===yt.target||yt.target===At.shadowParent)&&deltaCompare(At.delta,mt)})[0];if(vt&&vt.should){yt.cancelable&&yt.preventDefault();return}if(!vt){var _t=(rt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(At){return At.contains(yt.target)}),Ct=_t.length>0?ot(yt,_t[0]):!rt.current.noIsolation;Ct&&yt.cancelable&&yt.preventDefault()}}},[]),at=reactExports.useCallback(function(gt,yt,mt,vt){var _t={name:gt,delta:yt,target:mt,should:vt,shadowParent:getOutermostShadowParent(mt)};$.current.push(_t),setTimeout(function(){$.current=$.current.filter(function(Ct){return Ct!==_t})},1)},[]),ft=reactExports.useCallback(function(gt){_e.current=getTouchXY(gt),et.current=void 0},[]),st=reactExports.useCallback(function(gt){at(gt.type,getDeltaXY(gt),gt.target,ot(gt,j.lockRef.current))},[]),ut=reactExports.useCallback(function(gt){at(gt.type,getTouchXY(gt),gt.target,ot(gt,j.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(nt),j.setCallbacks({onScrollCapture:st,onWheelCapture:st,onTouchMoveCapture:ut}),document.addEventListener("wheel",it,nonPassive),document.addEventListener("touchmove",it,nonPassive),document.addEventListener("touchstart",ft,nonPassive),function(){lockStack=lockStack.filter(function(gt){return gt!==nt}),document.removeEventListener("wheel",it,nonPassive),document.removeEventListener("touchmove",it,nonPassive),document.removeEventListener("touchstart",ft,nonPassive)}},[]);var dt=j.removeScrollBar,pt=j.inert;return reactExports.createElement(reactExports.Fragment,null,pt?reactExports.createElement(nt,{styles:generateStyle(tt)}):null,dt?reactExports.createElement(RemoveScrollBar,{gapMode:j.gapMode}):null)}function getOutermostShadowParent(j){for(var $=null;j!==null;)j instanceof ShadowRoot&&($=j.host,j=j.host),j=j.parentNode;return $}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(j,$){return reactExports.createElement(RemoveScroll,__assign({},j,{ref:$,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(j){if(typeof document>"u")return null;var $=Array.isArray(j)?j[0]:j;return $.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(j){return j&&(j.host||unwrapHost(j.parentNode))},correctTargets=function(j,$){return $.map(function(_e){if(j.contains(_e))return _e;var et=unwrapHost(_e);return et&&j.contains(et)?et:(console.error("aria-hidden",_e,"in not contained inside",j,". Doing nothing"),null)}).filter(function(_e){return!!_e})},applyAttributeToOthers=function(j,$,_e,et){var tt=correctTargets($,Array.isArray(j)?j:[j]);markerMap[_e]||(markerMap[_e]=new WeakMap);var nt=markerMap[_e],rt=[],ot=new Set,it=new Set(tt),at=function(st){!st||ot.has(st)||(ot.add(st),at(st.parentNode))};tt.forEach(at);var ft=function(st){!st||it.has(st)||Array.prototype.forEach.call(st.children,function(ut){if(ot.has(ut))ft(ut);else{var dt=ut.getAttribute(et),pt=dt!==null&&dt!=="false",gt=(counterMap.get(ut)||0)+1,yt=(nt.get(ut)||0)+1;counterMap.set(ut,gt),nt.set(ut,yt),rt.push(ut),gt===1&&pt&&uncontrolledNodes.set(ut,!0),yt===1&&ut.setAttribute(_e,"true"),pt||ut.setAttribute(et,"true")}})};return ft($),ot.clear(),lockCount++,function(){rt.forEach(function(st){var ut=counterMap.get(st)-1,dt=nt.get(st)-1;counterMap.set(st,ut),nt.set(st,dt),ut||(uncontrolledNodes.has(st)||st.removeAttribute(et),uncontrolledNodes.delete(st)),dt||st.removeAttribute(_e)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(j,$,_e){_e===void 0&&(_e="data-aria-hidden");var et=Array.from(Array.isArray(j)?j:[j]),tt=getDefaultParent(j);return tt?(et.push.apply(et,Array.from(tt.querySelectorAll("[aria-live]"))),applyAttributeToOthers(et,tt,_e,"aria-hidden")):function(){return null}},DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog=j=>{const{__scopeDialog:$,children:_e,open:et,defaultOpen:tt,onOpenChange:nt,modal:rt=!0}=j,ot=reactExports.useRef(null),it=reactExports.useRef(null),[at=!1,ft]=useControllableState({prop:et,defaultProp:tt,onChange:nt});return jsxRuntimeExports.jsx(DialogProvider,{scope:$,triggerRef:ot,contentRef:it,contentId:useId(),titleId:useId(),descriptionId:useId(),open:at,onOpenChange:ft,onOpenToggle:reactExports.useCallback(()=>ft(st=>!st),[ft]),modal:rt,children:_e})};Dialog.displayName=DIALOG_NAME;var TRIGGER_NAME$4="DialogTrigger",DialogTrigger=reactExports.forwardRef((j,$)=>{const{__scopeDialog:_e,...et}=j,tt=useDialogContext(TRIGGER_NAME$4,_e),nt=useComposedRefs($,tt.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":tt.open,"aria-controls":tt.contentId,"data-state":getState$1(tt.open),...et,ref:nt,onClick:composeEventHandlers(j.onClick,tt.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$4;var PORTAL_NAME$5="DialogPortal",[PortalProvider$2,usePortalContext$2]=createDialogContext(PORTAL_NAME$5,{forceMount:void 0}),DialogPortal=j=>{const{__scopeDialog:$,forceMount:_e,children:et,container:tt}=j,nt=useDialogContext(PORTAL_NAME$5,$);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:$,forceMount:_e,children:reactExports.Children.map(et,rt=>jsxRuntimeExports.jsx(Presence,{present:_e||nt.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:tt,children:rt})}))})};DialogPortal.displayName=PORTAL_NAME$5;var OVERLAY_NAME$1="DialogOverlay",DialogOverlay=reactExports.forwardRef((j,$)=>{const _e=usePortalContext$2(OVERLAY_NAME$1,j.__scopeDialog),{forceMount:et=_e.forceMount,...tt}=j,nt=useDialogContext(OVERLAY_NAME$1,j.__scopeDialog);return nt.modal?jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...tt,ref:$})}):null});DialogOverlay.displayName=OVERLAY_NAME$1;var DialogOverlayImpl=reactExports.forwardRef((j,$)=>{const{__scopeDialog:_e,...et}=j,tt=useDialogContext(OVERLAY_NAME$1,_e);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[tt.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$1(tt.open),...et,ref:$,style:{pointerEvents:"auto",...et.style}})})}),CONTENT_NAME$6="DialogContent",DialogContent=reactExports.forwardRef((j,$)=>{const _e=usePortalContext$2(CONTENT_NAME$6,j.__scopeDialog),{forceMount:et=_e.forceMount,...tt}=j,nt=useDialogContext(CONTENT_NAME$6,j.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:nt.modal?jsxRuntimeExports.jsx(DialogContentModal,{...tt,ref:$}):jsxRuntimeExports.jsx(DialogContentNonModal,{...tt,ref:$})})});DialogContent.displayName=CONTENT_NAME$6;var DialogContentModal=reactExports.forwardRef((j,$)=>{const _e=useDialogContext(CONTENT_NAME$6,j.__scopeDialog),et=reactExports.useRef(null),tt=useComposedRefs($,_e.contentRef,et);return reactExports.useEffect(()=>{const nt=et.current;if(nt)return hideOthers(nt)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...j,ref:tt,trapFocus:_e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(j.onCloseAutoFocus,nt=>{var rt;nt.preventDefault(),(rt=_e.triggerRef.current)==null||rt.focus()}),onPointerDownOutside:composeEventHandlers(j.onPointerDownOutside,nt=>{const rt=nt.detail.originalEvent,ot=rt.button===0&&rt.ctrlKey===!0;(rt.button===2||ot)&&nt.preventDefault()}),onFocusOutside:composeEventHandlers(j.onFocusOutside,nt=>nt.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((j,$)=>{const _e=useDialogContext(CONTENT_NAME$6,j.__scopeDialog),et=reactExports.useRef(!1),tt=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...j,ref:$,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:nt=>{var rt,ot;(rt=j.onCloseAutoFocus)==null||rt.call(j,nt),nt.defaultPrevented||(et.current||(ot=_e.triggerRef.current)==null||ot.focus(),nt.preventDefault()),et.current=!1,tt.current=!1},onInteractOutside:nt=>{var it,at;(it=j.onInteractOutside)==null||it.call(j,nt),nt.defaultPrevented||(et.current=!0,nt.detail.originalEvent.type==="pointerdown"&&(tt.current=!0));const rt=nt.target;((at=_e.triggerRef.current)==null?void 0:at.contains(rt))&&nt.preventDefault(),nt.detail.originalEvent.type==="focusin"&&tt.current&&nt.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((j,$)=>{const{__scopeDialog:_e,trapFocus:et,onOpenAutoFocus:tt,onCloseAutoFocus:nt,...rt}=j,ot=useDialogContext(CONTENT_NAME$6,_e),it=reactExports.useRef(null),at=useComposedRefs($,it);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:et,onMountAutoFocus:tt,onUnmountAutoFocus:nt,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:ot.contentId,"aria-describedby":ot.descriptionId,"aria-labelledby":ot.titleId,"data-state":getState$1(ot.open),...rt,ref:at,onDismiss:()=>ot.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:ot.titleId}),jsxRuntimeExports.jsx(DescriptionWarning$1,{contentRef:it,descriptionId:ot.descriptionId})]})]})}),TITLE_NAME$2="DialogTitle",DialogTitle=reactExports.forwardRef((j,$)=>{const{__scopeDialog:_e,...et}=j,tt=useDialogContext(TITLE_NAME$2,_e);return jsxRuntimeExports.jsx(Primitive.h2,{id:tt.titleId,...et,ref:$})});DialogTitle.displayName=TITLE_NAME$2;var DESCRIPTION_NAME$2="DialogDescription",DialogDescription=reactExports.forwardRef((j,$)=>{const{__scopeDialog:_e,...et}=j,tt=useDialogContext(DESCRIPTION_NAME$2,_e);return jsxRuntimeExports.jsx(Primitive.p,{id:tt.descriptionId,...et,ref:$})});DialogDescription.displayName=DESCRIPTION_NAME$2;var CLOSE_NAME$1="DialogClose",DialogClose=reactExports.forwardRef((j,$)=>{const{__scopeDialog:_e,...et}=j,tt=useDialogContext(CLOSE_NAME$1,_e);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...et,ref:$,onClick:composeEventHandlers(j.onClick,()=>tt.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME$1;function getState$1(j){return j?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$6,titleName:TITLE_NAME$2,docsSlug:"dialog"}),TitleWarning=({titleId:j})=>{const $=useWarningContext(TITLE_WARNING_NAME),_e=`\`${$.contentName}\` requires a \`${$.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${$.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${$.docsSlug}`;return reactExports.useEffect(()=>{j&&(document.getElementById(j)||console.error(_e))},[_e,j]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning$1=({contentRef:j,descriptionId:$})=>{const et=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var nt;const tt=(nt=j.current)==null?void 0:nt.getAttribute("aria-describedby");$&&tt&&(document.getElementById($)||console.warn(et))},[et,j,$]),null},Root$6=Dialog,Trigger$3=DialogTrigger,Portal$3=DialogPortal,Overlay=DialogOverlay,Content$1=DialogContent,Title=DialogTitle,Description$1=DialogDescription,Close$1=DialogClose;const noop$1=j=>{},buttonContext=reactExports.createContext({okAction:noop$1,cancelAction:noop$1}),QspCloseButton=({attrs:j,children:$})=>{const[,_e,et]=useAttributes(j,"button","qsp-close-button");return jsxRuntimeExports.jsx(Close$1,{asChild:!0,children:jsxRuntimeExports.jsx("button",{style:_e,...et,children:$})})},QspOkButton=({attrs:j,children:$})=>{const[,_e,et]=useAttributes(j,"button","qsp-ok-button"),{okAction:tt}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:_e,...et,onClick:tt,children:$})},QspCancelButton=({attrs:j,children:$})=>{const[,_e,et]=useAttributes(j,"button","qsp-cancel-button"),{cancelAction:tt}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:_e,...et,onClick:tt,children:$})},QspCmd=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-cmd"),nt=useAtom_2(isCmdVisible$),rt=ot=>{ot.preventDefault(),submitUserInput()};return nt?jsxRuntimeExports.jsx(_e,{style:et,...tt,children:jsxRuntimeExports.jsx("form",{onSubmit:rt,children:$})}):null},QspCmdInput=({attrs:j})=>{const $=useAtom_2(cmdText$),[,_e,et]=useAttributes(j,"input","qsp-cmd-input"),tt=nt=>{cmdText$.set(nt.target.value)};return jsxRuntimeExports.jsx("input",{style:_e,...et,type:"text",value:$,onInput:tt})};var DirectionContext=reactExports.createContext(void 0);function useDirection(j){const $=reactExports.useContext(DirectionContext);return j||$||"ltr"}function clamp$2(j,[$,_e]){return Math.min(_e,Math.max($,j))}function useStateMachine(j,$){return reactExports.useReducer((_e,et)=>$[_e][et]??_e,j)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea=reactExports.forwardRef((j,$)=>{const{__scopeScrollArea:_e,type:et="hover",dir:tt,scrollHideDelay:nt=600,...rt}=j,[ot,it]=reactExports.useState(null),[at,ft]=reactExports.useState(null),[st,ut]=reactExports.useState(null),[dt,pt]=reactExports.useState(null),[gt,yt]=reactExports.useState(null),[mt,vt]=reactExports.useState(0),[_t,Ct]=reactExports.useState(0),[At,kt]=reactExports.useState(!1),[St,wt]=reactExports.useState(!1),It=useComposedRefs($,Yt=>it(Yt)),Ut=useDirection(tt);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:_e,type:et,dir:Ut,scrollHideDelay:nt,scrollArea:ot,viewport:at,onViewportChange:ft,content:st,onContentChange:ut,scrollbarX:dt,onScrollbarXChange:pt,scrollbarXEnabled:At,onScrollbarXEnabledChange:kt,scrollbarY:gt,onScrollbarYChange:yt,scrollbarYEnabled:St,onScrollbarYEnabledChange:wt,onCornerWidthChange:vt,onCornerHeightChange:Ct,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Ut,...rt,ref:It,style:{position:"relative","--radix-scroll-area-corner-width":mt+"px","--radix-scroll-area-corner-height":_t+"px",...j.style}})})});ScrollArea.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME$2="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((j,$)=>{const{__scopeScrollArea:_e,children:et,nonce:tt,...nt}=j,rt=useScrollAreaContext(VIEWPORT_NAME$2,_e),ot=reactExports.useRef(null),it=useComposedRefs($,ot,rt.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:tt}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...nt,ref:it,style:{overflowX:rt.scrollbarXEnabled?"scroll":"hidden",overflowY:rt.scrollbarYEnabled?"scroll":"hidden",...j.style},children:jsxRuntimeExports.jsx("div",{ref:rt.onContentChange,style:{minWidth:"100%",display:"table"},children:et})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME$2;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((j,$)=>{const{forceMount:_e,...et}=j,tt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),{onScrollbarXEnabledChange:nt,onScrollbarYEnabledChange:rt}=tt,ot=j.orientation==="horizontal";return reactExports.useEffect(()=>(ot?nt(!0):rt(!0),()=>{ot?nt(!1):rt(!1)}),[ot,nt,rt]),tt.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...et,ref:$,forceMount:_e}):tt.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...et,ref:$,forceMount:_e}):tt.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...et,ref:$,forceMount:_e}):tt.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...et,ref:$}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((j,$)=>{const{forceMount:_e,...et}=j,tt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),[nt,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{const ot=tt.scrollArea;let it=0;if(ot){const at=()=>{window.clearTimeout(it),rt(!0)},ft=()=>{it=window.setTimeout(()=>rt(!1),tt.scrollHideDelay)};return ot.addEventListener("pointerenter",at),ot.addEventListener("pointerleave",ft),()=>{window.clearTimeout(it),ot.removeEventListener("pointerenter",at),ot.removeEventListener("pointerleave",ft)}}},[tt.scrollArea,tt.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:_e||nt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":nt?"visible":"hidden",...et,ref:$})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((j,$)=>{const{forceMount:_e,...et}=j,tt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),nt=j.orientation==="horizontal",rt=useDebounceCallback(()=>it("SCROLL_END"),100),[ot,it]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(ot==="idle"){const at=window.setTimeout(()=>it("HIDE"),tt.scrollHideDelay);return()=>window.clearTimeout(at)}},[ot,tt.scrollHideDelay,it]),reactExports.useEffect(()=>{const at=tt.viewport,ft=nt?"scrollLeft":"scrollTop";if(at){let st=at[ft];const ut=()=>{const dt=at[ft];st!==dt&&(it("SCROLL"),rt()),st=dt};return at.addEventListener("scroll",ut),()=>at.removeEventListener("scroll",ut)}},[tt.viewport,nt,it,rt]),jsxRuntimeExports.jsx(Presence,{present:_e||ot!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":ot==="hidden"?"hidden":"visible",...et,ref:$,onPointerEnter:composeEventHandlers(j.onPointerEnter,()=>it("POINTER_ENTER")),onPointerLeave:composeEventHandlers(j.onPointerLeave,()=>it("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((j,$)=>{const _e=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),{forceMount:et,...tt}=j,[nt,rt]=reactExports.useState(!1),ot=j.orientation==="horizontal",it=useDebounceCallback(()=>{if(_e.viewport){const at=_e.viewport.offsetWidth<_e.viewport.scrollWidth,ft=_e.viewport.offsetHeight<_e.viewport.scrollHeight;rt(ot?at:ft)}},10);return useResizeObserver(_e.viewport,it),useResizeObserver(_e.content,it),jsxRuntimeExports.jsx(Presence,{present:et||nt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":nt?"visible":"hidden",...tt,ref:$})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((j,$)=>{const{orientation:_e="vertical",...et}=j,tt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),nt=reactExports.useRef(null),rt=reactExports.useRef(0),[ot,it]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),at=getThumbRatio(ot.viewport,ot.content),ft={...et,sizes:ot,onSizesChange:it,hasThumb:at>0&&at<1,onThumbChange:ut=>nt.current=ut,onThumbPointerUp:()=>rt.current=0,onThumbPointerDown:ut=>rt.current=ut};function st(ut,dt){return getScrollPositionFromPointer(ut,rt.current,ot,dt)}return _e==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...ft,ref:$,onThumbPositionChange:()=>{if(tt.viewport&&nt.current){const ut=tt.viewport.scrollLeft,dt=getThumbOffsetFromScroll(ut,ot,tt.dir);nt.current.style.transform=`translate3d(${dt}px, 0, 0)`}},onWheelScroll:ut=>{tt.viewport&&(tt.viewport.scrollLeft=ut)},onDragScroll:ut=>{tt.viewport&&(tt.viewport.scrollLeft=st(ut,tt.dir))}}):_e==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...ft,ref:$,onThumbPositionChange:()=>{if(tt.viewport&&nt.current){const ut=tt.viewport.scrollTop,dt=getThumbOffsetFromScroll(ut,ot);nt.current.style.transform=`translate3d(0, ${dt}px, 0)`}},onWheelScroll:ut=>{tt.viewport&&(tt.viewport.scrollTop=ut)},onDragScroll:ut=>{tt.viewport&&(tt.viewport.scrollTop=st(ut))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((j,$)=>{const{sizes:_e,onSizesChange:et,...tt}=j,nt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),[rt,ot]=reactExports.useState(),it=reactExports.useRef(null),at=useComposedRefs($,it,nt.onScrollbarXChange);return reactExports.useEffect(()=>{it.current&&ot(getComputedStyle(it.current))},[it]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...tt,ref:at,sizes:_e,style:{bottom:0,left:nt.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:nt.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(_e)+"px",...j.style},onThumbPointerDown:ft=>j.onThumbPointerDown(ft.x),onDragScroll:ft=>j.onDragScroll(ft.x),onWheelScroll:(ft,st)=>{if(nt.viewport){const ut=nt.viewport.scrollLeft+ft.deltaX;j.onWheelScroll(ut),isScrollingWithinScrollbarBounds(ut,st)&&ft.preventDefault()}},onResize:()=>{it.current&&nt.viewport&&rt&&et({content:nt.viewport.scrollWidth,viewport:nt.viewport.offsetWidth,scrollbar:{size:it.current.clientWidth,paddingStart:toInt(rt.paddingLeft),paddingEnd:toInt(rt.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((j,$)=>{const{sizes:_e,onSizesChange:et,...tt}=j,nt=useScrollAreaContext(SCROLLBAR_NAME,j.__scopeScrollArea),[rt,ot]=reactExports.useState(),it=reactExports.useRef(null),at=useComposedRefs($,it,nt.onScrollbarYChange);return reactExports.useEffect(()=>{it.current&&ot(getComputedStyle(it.current))},[it]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...tt,ref:at,sizes:_e,style:{top:0,right:nt.dir==="ltr"?0:void 0,left:nt.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(_e)+"px",...j.style},onThumbPointerDown:ft=>j.onThumbPointerDown(ft.y),onDragScroll:ft=>j.onDragScroll(ft.y),onWheelScroll:(ft,st)=>{if(nt.viewport){const ut=nt.viewport.scrollTop+ft.deltaY;j.onWheelScroll(ut),isScrollingWithinScrollbarBounds(ut,st)&&ft.preventDefault()}},onResize:()=>{it.current&&nt.viewport&&rt&&et({content:nt.viewport.scrollHeight,viewport:nt.viewport.offsetHeight,scrollbar:{size:it.current.clientHeight,paddingStart:toInt(rt.paddingTop),paddingEnd:toInt(rt.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((j,$)=>{const{__scopeScrollArea:_e,sizes:et,hasThumb:tt,onThumbChange:nt,onThumbPointerUp:rt,onThumbPointerDown:ot,onThumbPositionChange:it,onDragScroll:at,onWheelScroll:ft,onResize:st,...ut}=j,dt=useScrollAreaContext(SCROLLBAR_NAME,_e),[pt,gt]=reactExports.useState(null),yt=useComposedRefs($,It=>gt(It)),mt=reactExports.useRef(null),vt=reactExports.useRef(""),_t=dt.viewport,Ct=et.content-et.viewport,At=useCallbackRef$1(ft),kt=useCallbackRef$1(it),St=useDebounceCallback(st,10);function wt(It){if(mt.current){const Ut=It.clientX-mt.current.left,Yt=It.clientY-mt.current.top;at({x:Ut,y:Yt})}}return reactExports.useEffect(()=>{const It=Ut=>{const Yt=Ut.target;(pt==null?void 0:pt.contains(Yt))&&At(Ut,Ct)};return document.addEventListener("wheel",It,{passive:!1}),()=>document.removeEventListener("wheel",It,{passive:!1})},[_t,pt,Ct,At]),reactExports.useEffect(kt,[et,kt]),useResizeObserver(pt,St),useResizeObserver(dt.content,St),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:_e,scrollbar:pt,hasThumb:tt,onThumbChange:useCallbackRef$1(nt),onThumbPointerUp:useCallbackRef$1(rt),onThumbPositionChange:kt,onThumbPointerDown:useCallbackRef$1(ot),children:jsxRuntimeExports.jsx(Primitive.div,{...ut,ref:yt,style:{position:"absolute",...ut.style},onPointerDown:composeEventHandlers(j.onPointerDown,It=>{It.button===0&&(It.target.setPointerCapture(It.pointerId),mt.current=pt.getBoundingClientRect(),vt.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",dt.viewport&&(dt.viewport.style.scrollBehavior="auto"),wt(It))}),onPointerMove:composeEventHandlers(j.onPointerMove,wt),onPointerUp:composeEventHandlers(j.onPointerUp,It=>{const Ut=It.target;Ut.hasPointerCapture(It.pointerId)&&Ut.releasePointerCapture(It.pointerId),document.body.style.webkitUserSelect=vt.current,dt.viewport&&(dt.viewport.style.scrollBehavior=""),mt.current=null})})})}),THUMB_NAME$2="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((j,$)=>{const{forceMount:_e,...et}=j,tt=useScrollbarContext(THUMB_NAME$2,j.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:_e||tt.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:$,...et})})}),ScrollAreaThumbImpl=reactExports.forwardRef((j,$)=>{const{__scopeScrollArea:_e,style:et,...tt}=j,nt=useScrollAreaContext(THUMB_NAME$2,_e),rt=useScrollbarContext(THUMB_NAME$2,_e),{onThumbPositionChange:ot}=rt,it=useComposedRefs($,st=>rt.onThumbChange(st)),at=reactExports.useRef(),ft=useDebounceCallback(()=>{at.current&&(at.current(),at.current=void 0)},100);return reactExports.useEffect(()=>{const st=nt.viewport;if(st){const ut=()=>{if(ft(),!at.current){const dt=addUnlinkedScrollListener(st,ot);at.current=dt,ot()}};return ot(),st.addEventListener("scroll",ut),()=>st.removeEventListener("scroll",ut)}},[nt.viewport,ft,ot]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":rt.hasThumb?"visible":"hidden",...tt,ref:it,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...et},onPointerDownCapture:composeEventHandlers(j.onPointerDownCapture,st=>{const dt=st.target.getBoundingClientRect(),pt=st.clientX-dt.left,gt=st.clientY-dt.top;rt.onThumbPointerDown({x:pt,y:gt})}),onPointerUp:composeEventHandlers(j.onPointerUp,rt.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME$2;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((j,$)=>{const _e=useScrollAreaContext(CORNER_NAME,j.__scopeScrollArea),et=!!(_e.scrollbarX&&_e.scrollbarY);return _e.type!=="scroll"&&et?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...j,ref:$}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((j,$)=>{const{__scopeScrollArea:_e,...et}=j,tt=useScrollAreaContext(CORNER_NAME,_e),[nt,rt]=reactExports.useState(0),[ot,it]=reactExports.useState(0),at=!!(nt&&ot);return useResizeObserver(tt.scrollbarX,()=>{var st;const ft=((st=tt.scrollbarX)==null?void 0:st.offsetHeight)||0;tt.onCornerHeightChange(ft),it(ft)}),useResizeObserver(tt.scrollbarY,()=>{var st;const ft=((st=tt.scrollbarY)==null?void 0:st.offsetWidth)||0;tt.onCornerWidthChange(ft),rt(ft)}),at?jsxRuntimeExports.jsx(Primitive.div,{...et,ref:$,style:{width:nt,height:ot,position:"absolute",right:tt.dir==="ltr"?0:void 0,left:tt.dir==="rtl"?0:void 0,bottom:0,...j.style}}):null});function toInt(j){return j?parseInt(j,10):0}function getThumbRatio(j,$){const _e=j/$;return isNaN(_e)?0:_e}function getThumbSize(j){const $=getThumbRatio(j.viewport,j.content),_e=j.scrollbar.paddingStart+j.scrollbar.paddingEnd,et=(j.scrollbar.size-_e)*$;return Math.max(et,18)}function getScrollPositionFromPointer(j,$,_e,et="ltr"){const tt=getThumbSize(_e),nt=tt/2,rt=$||nt,ot=tt-rt,it=_e.scrollbar.paddingStart+rt,at=_e.scrollbar.size-_e.scrollbar.paddingEnd-ot,ft=_e.content-_e.viewport,st=et==="ltr"?[0,ft]:[ft*-1,0];return linearScale$1([it,at],st)(j)}function getThumbOffsetFromScroll(j,$,_e="ltr"){const et=getThumbSize($),tt=$.scrollbar.paddingStart+$.scrollbar.paddingEnd,nt=$.scrollbar.size-tt,rt=$.content-$.viewport,ot=nt-et,it=_e==="ltr"?[0,rt]:[rt*-1,0],at=clamp$2(j,it);return linearScale$1([0,rt],[0,ot])(at)}function linearScale$1(j,$){return _e=>{if(j[0]===j[1]||$[0]===$[1])return $[0];const et=($[1]-$[0])/(j[1]-j[0]);return $[0]+et*(_e-j[0])}}function isScrollingWithinScrollbarBounds(j,$){return j>0&&j<$}var addUnlinkedScrollListener=(j,$=()=>{})=>{let _e={left:j.scrollLeft,top:j.scrollTop},et=0;return function tt(){const nt={left:j.scrollLeft,top:j.scrollTop},rt=_e.left!==nt.left,ot=_e.top!==nt.top;(rt||ot)&&$(),_e=nt,et=window.requestAnimationFrame(tt)}(),()=>window.cancelAnimationFrame(et)};function useDebounceCallback(j,$){const _e=useCallbackRef$1(j),et=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(et.current),[]),reactExports.useCallback(()=>{window.clearTimeout(et.current),et.current=window.setTimeout(_e,$)},[_e,$])}function useResizeObserver(j,$){const _e=useCallbackRef$1($);useLayoutEffect2(()=>{let et=0;if(j){const tt=new ResizeObserver(()=>{cancelAnimationFrame(et),et=window.requestAnimationFrame(_e)});return tt.observe(j),()=>{window.cancelAnimationFrame(et),tt.unobserve(j)}}},[j,_e])}var Root$5=ScrollArea,Viewport$2=ScrollAreaViewport,Scrollbar=ScrollAreaScrollbar,Thumb$2=ScrollAreaThumb,Corner=ScrollAreaCorner;const noopScrollAtom$=atom(0),scrollContext=reactExports.createContext(noopScrollAtom$),isScrollType=j=>typeof j=="string"&&["both","horizontal","vertical"].includes(j),QspScrollable=({children:j,attrs:$,scroll:_e="both"})=>{const[,et,{className:tt="",...nt}]=useAttributes($,"div","qsp-scrollable"),rt=reactExports.useRef(null),ot=useAtom_2(reactExports.useContext(scrollContext)),it=useSetup(()=>atom(!1)),at=useAtom_2(it),ft=useSetup(()=>atom(!1)),st=useAtom_2(ft);return reactExports.useEffect(()=>{rt.current&&ot&&(rt.current.scrollTop=ot>0?rt.current.scrollHeight:0)},[ot]),reactExports.useLayoutEffect(()=>{const ut=rt.current;if(!ut)return;function dt(){const gt=rt.current?rt.current.scrollTop>0:!1;it.value!==gt&&it.set(gt);const yt=rt.current?rt.current.offsetHeight+rt.current.scrollTop<rt.current.scrollHeight:!0;yt!==ft.value&&ft.set(yt)}dt();const pt=setInterval(dt,300);return ut.addEventListener("scroll",dt,{passive:!0}),()=>{ut.removeEventListener("scroll",dt),clearInterval(pt)}},[]),jsxRuntimeExports.jsxs(Root$5,{style:et,...nt,className:tt+" qsp-scroll-root","data-upscroll":at||void 0,"data-downscroll":st||void 0,children:[jsxRuntimeExports.jsx(Viewport$2,{ref:rt,className:"qsp-scroll-area",children:j}),_e==="both"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:"horizontal",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:"vertical",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qsp-scrollbar-thumb"})})]}):jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:_e,children:jsxRuntimeExports.jsx(Thumb$2,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx(Corner,{className:"qsp-scrollbar-corner"})]})};var updateQueue=makeQueue(),raf=j=>schedule(j,updateQueue),writeQueue=makeQueue();raf.write=j=>schedule(j,writeQueue);var onStartQueue=makeQueue();raf.onStart=j=>schedule(j,onStartQueue);var onFrameQueue=makeQueue();raf.onFrame=j=>schedule(j,onFrameQueue);var onFinishQueue=makeQueue();raf.onFinish=j=>schedule(j,onFinishQueue);var timeouts=[];raf.setTimeout=(j,$)=>{const _e=raf.now()+$,et=()=>{const nt=timeouts.findIndex(rt=>rt.cancel==et);~nt&&timeouts.splice(nt,1),pendingCount-=~nt?1:0},tt={time:_e,handler:j,cancel:et};return timeouts.splice(findTimeout(_e),0,tt),pendingCount+=1,start(),tt};var findTimeout=j=>~(~timeouts.findIndex($=>$.time>j)||~timeouts.length);raf.cancel=j=>{onStartQueue.delete(j),onFrameQueue.delete(j),onFinishQueue.delete(j),updateQueue.delete(j),writeQueue.delete(j)};raf.sync=j=>{sync=!0,raf.batchedUpdates(j),sync=!1};raf.throttle=j=>{let $;function _e(){try{j(...$)}finally{$=null}}function et(...tt){$=tt,raf.onStart(_e)}return et.handler=j,et.cancel=()=>{onStartQueue.delete(_e),$=null},et};var nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=j=>nativeRaf=j;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=j=>j();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};var ts=-1,pendingCount=0,sync=!1;function schedule(j,$){sync?($.delete(j),j(0)):($.add(j),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop))}function stop(){ts=-1}function loop(){~ts&&(nativeRaf(loop),raf.batchedUpdates(update))}function update(){const j=ts;ts=raf.now();const $=findTimeout(ts);if($&&(eachSafely(timeouts.splice(0,$),_e=>_e.handler()),pendingCount-=$),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush(j?Math.min(64,ts-j):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let j=new Set,$=j;return{add(_e){pendingCount+=$==j&&!j.has(_e)?1:0,j.add(_e)},delete(_e){return pendingCount-=$==j&&j.has(_e)?1:0,j.delete(_e)},flush(_e){$.size&&(j=new Set,pendingCount-=$.size,eachSafely($,et=>et(_e)&&j.add(et)),pendingCount+=j.size,$=j)}}}function eachSafely(j,$){j.forEach(_e=>{try{$(_e)}catch(et){raf.catch(et)}})}var __defProp=Object.defineProperty,__export=(j,$)=>{for(var _e in $)__defProp(j,_e,{get:$[_e],enumerable:!0})},globals_exports={};__export(globals_exports,{assign:()=>assign,colors:()=>colors,createStringInterpolator:()=>createStringInterpolator,skipAnimation:()=>skipAnimation,to:()=>to,willAdvance:()=>willAdvance});function noop(){}var defineHidden=(j,$,_e)=>Object.defineProperty(j,$,{value:_e,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:j=>!!j&&j.constructor.name==="Object",fun:j=>typeof j=="function",str:j=>typeof j=="string",num:j=>typeof j=="number",und:j=>j===void 0};function isEqual(j,$){if(is.arr(j)){if(!is.arr($)||j.length!==$.length)return!1;for(let _e=0;_e<j.length;_e++)if(j[_e]!==$[_e])return!1;return!0}return j===$}var each=(j,$)=>j.forEach($);function eachProp(j,$,_e){if(is.arr(j)){for(let et=0;et<j.length;et++)$.call(_e,j[et],`${et}`);return}for(const et in j)j.hasOwnProperty(et)&&$.call(_e,j[et],et)}var toArray=j=>is.und(j)?[]:is.arr(j)?j:[j];function flush(j,$){if(j.size){const _e=Array.from(j);j.clear(),each(_e,$)}}var flushCalls=(j,...$)=>flush(j,_e=>_e(...$)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator,to,colors=null,skipAnimation=!1,willAdvance=noop,assign=j=>{j.to&&(to=j.to),j.now&&(raf.now=j.now),j.colors!==void 0&&(colors=j.colors),j.skipAnimation!=null&&(skipAnimation=j.skipAnimation),j.createStringInterpolator&&(createStringInterpolator=j.createStringInterpolator),j.requestAnimationFrame&&raf.use(j.requestAnimationFrame),j.batchedUpdates&&(raf.batchedUpdates=j.batchedUpdates),j.willAdvance&&(willAdvance=j.willAdvance),j.frameLoop&&(raf.frameLoop=j.frameLoop)},startQueue=new Set,currentFrame=[],prevFrame=[],priority=0,frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start(j){priority>j.priority?(startQueue.add(j),raf.onStart(flushStartQueue)):(startSafely(j),raf(advance))},advance,sort(j){if(priority)raf.onFrame(()=>frameLoop.sort(j));else{const $=currentFrame.indexOf(j);~$&&(currentFrame.splice($,1),startUnsafely(j))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely(j){currentFrame.includes(j)||startUnsafely(j)}function startUnsafely(j){currentFrame.splice(findIndex(currentFrame,$=>$.priority>j.priority),0,j)}function advance(j){const $=prevFrame;for(let _e=0;_e<currentFrame.length;_e++){const et=currentFrame[_e];priority=et.priority,et.idle||(willAdvance(et),et.advance(j),et.idle||$.push(et))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=$,currentFrame.length>0}function findIndex(j,$){const _e=j.findIndex($);return _e<0?j.length:_e}var clamp$1=(j,$,_e)=>Math.min(Math.max(_e,j),$),colors2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call(...j){return"\\(\\s*("+j.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(j){let $;return typeof j=="number"?j>>>0===j&&j>=0&&j<=4294967295?j:null:($=hex6.exec(j))?parseInt($[1]+"ff",16)>>>0:colors&&colors[j]!==void 0?colors[j]:($=rgb.exec(j))?(parse255($[1])<<24|parse255($[2])<<16|parse255($[3])<<8|255)>>>0:($=rgba.exec(j))?(parse255($[1])<<24|parse255($[2])<<16|parse255($[3])<<8|parse1($[4]))>>>0:($=hex3.exec(j))?parseInt($[1]+$[1]+$[2]+$[2]+$[3]+$[3]+"ff",16)>>>0:($=hex8.exec(j))?parseInt($[1],16)>>>0:($=hex4.exec(j))?parseInt($[1]+$[1]+$[2]+$[2]+$[3]+$[3]+$[4]+$[4],16)>>>0:($=hsl.exec(j))?(hslToRgb(parse360($[1]),parsePercentage($[2]),parsePercentage($[3]))|255)>>>0:($=hsla.exec(j))?(hslToRgb(parse360($[1]),parsePercentage($[2]),parsePercentage($[3]))|parse1($[4]))>>>0:null}function hue2rgb(j,$,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?j+($-j)*6*_e:_e<1/2?$:_e<2/3?j+($-j)*(2/3-_e)*6:j}function hslToRgb(j,$,_e){const et=_e<.5?_e*(1+$):_e+$-_e*$,tt=2*_e-et,nt=hue2rgb(tt,et,j+1/3),rt=hue2rgb(tt,et,j),ot=hue2rgb(tt,et,j-1/3);return Math.round(nt*255)<<24|Math.round(rt*255)<<16|Math.round(ot*255)<<8}function parse255(j){const $=parseInt(j,10);return $<0?0:$>255?255:$}function parse360(j){return(parseFloat(j)%360+360)%360/360}function parse1(j){const $=parseFloat(j);return $<0?0:$>1?255:Math.round($*255)}function parsePercentage(j){const $=parseFloat(j);return $<0?0:$>100?1:$/100}function colorToRgba(j){let $=normalizeColor(j);if($===null)return j;$=$||0;const _e=($&4278190080)>>>24,et=($&16711680)>>>16,tt=($&65280)>>>8,nt=($&255)/255;return`rgba(${_e}, ${et}, ${tt}, ${nt})`}var createInterpolator=(j,$,_e)=>{if(is.fun(j))return j;if(is.arr(j))return createInterpolator({range:j,output:$,extrapolate:_e});if(is.str(j.output[0]))return createStringInterpolator(j);const et=j,tt=et.output,nt=et.range||[0,1],rt=et.extrapolateLeft||et.extrapolate||"extend",ot=et.extrapolateRight||et.extrapolate||"extend",it=et.easing||(at=>at);return at=>{const ft=findRange(at,nt);return interpolate(at,nt[ft],nt[ft+1],tt[ft],tt[ft+1],it,rt,ot,et.map)}};function interpolate(j,$,_e,et,tt,nt,rt,ot,it){let at=it?it(j):j;if(at<$){if(rt==="identity")return at;rt==="clamp"&&(at=$)}if(at>_e){if(ot==="identity")return at;ot==="clamp"&&(at=_e)}return et===tt?et:$===_e?j<=$?et:tt:($===-1/0?at=-at:_e===1/0?at=at-$:at=(at-$)/(_e-$),at=nt(at),et===-1/0?at=-at:tt===1/0?at=at+et:at=at*(tt-et)+et,at)}function findRange(j,$){for(var _e=1;_e<$.length-1&&!($[_e]>=j);++_e);return _e-1}var steps=(j,$="end")=>_e=>{_e=$==="end"?Math.min(_e,.999):Math.max(_e,.001);const et=_e*j,tt=$==="end"?Math.floor(et):Math.ceil(et);return clamp$1(0,1,tt/j)},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=j=>j<1/2.75?7.5625*j*j:j<2/2.75?7.5625*(j-=1.5/2.75)*j+.75:j<2.5/2.75?7.5625*(j-=2.25/2.75)*j+.9375:7.5625*(j-=2.625/2.75)*j+.984375,easings={linear:j=>j,easeInQuad:j=>j*j,easeOutQuad:j=>1-(1-j)*(1-j),easeInOutQuad:j=>j<.5?2*j*j:1-Math.pow(-2*j+2,2)/2,easeInCubic:j=>j*j*j,easeOutCubic:j=>1-Math.pow(1-j,3),easeInOutCubic:j=>j<.5?4*j*j*j:1-Math.pow(-2*j+2,3)/2,easeInQuart:j=>j*j*j*j,easeOutQuart:j=>1-Math.pow(1-j,4),easeInOutQuart:j=>j<.5?8*j*j*j*j:1-Math.pow(-2*j+2,4)/2,easeInQuint:j=>j*j*j*j*j,easeOutQuint:j=>1-Math.pow(1-j,5),easeInOutQuint:j=>j<.5?16*j*j*j*j*j:1-Math.pow(-2*j+2,5)/2,easeInSine:j=>1-Math.cos(j*Math.PI/2),easeOutSine:j=>Math.sin(j*Math.PI/2),easeInOutSine:j=>-(Math.cos(Math.PI*j)-1)/2,easeInExpo:j=>j===0?0:Math.pow(2,10*j-10),easeOutExpo:j=>j===1?1:1-Math.pow(2,-10*j),easeInOutExpo:j=>j===0?0:j===1?1:j<.5?Math.pow(2,20*j-10)/2:(2-Math.pow(2,-20*j+10))/2,easeInCirc:j=>1-Math.sqrt(1-Math.pow(j,2)),easeOutCirc:j=>Math.sqrt(1-Math.pow(j-1,2)),easeInOutCirc:j=>j<.5?(1-Math.sqrt(1-Math.pow(2*j,2)))/2:(Math.sqrt(1-Math.pow(-2*j+2,2))+1)/2,easeInBack:j=>c3*j*j*j-c1*j*j,easeOutBack:j=>1+c3*Math.pow(j-1,3)+c1*Math.pow(j-1,2),easeInOutBack:j=>j<.5?Math.pow(2*j,2)*((c2+1)*2*j-c2)/2:(Math.pow(2*j-2,2)*((c2+1)*(j*2-2)+c2)+2)/2,easeInElastic:j=>j===0?0:j===1?1:-Math.pow(2,10*j-10)*Math.sin((j*10-10.75)*c4),easeOutElastic:j=>j===0?0:j===1?1:Math.pow(2,-10*j)*Math.sin((j*10-.75)*c4)+1,easeInOutElastic:j=>j===0?0:j===1?1:j<.5?-(Math.pow(2,20*j-10)*Math.sin((20*j-11.125)*c5))/2:Math.pow(2,-20*j+10)*Math.sin((20*j-11.125)*c5)/2+1,easeInBounce:j=>1-bounceOut(1-j),easeOutBounce:bounceOut,easeInOutBounce:j=>j<.5?(1-bounceOut(1-2*j))/2:(1+bounceOut(2*j-1))/2,steps},$get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=j=>!!(j&&j[$get]),getFluidValue=j=>j&&j[$get]?j[$get]():j,getFluidObservers=j=>j[$observers]||null;function callFluidObserver(j,$){j.eventObserved?j.eventObserved($):j($)}function callFluidObservers(j,$){const _e=j[$observers];_e&&_e.forEach(et=>{callFluidObserver(et,$)})}var FluidValue=class{constructor(j){if(!j&&!(j=this.get))throw Error("Unknown getter");setFluidGetter(this,j)}},setFluidGetter=(j,$)=>setHidden(j,$get,$);function addFluidObserver(j,$){if(j[$get]){let _e=j[$observers];_e||setHidden(j,$observers,_e=new Set),_e.has($)||(_e.add($),j.observerAdded&&j.observerAdded(_e.size,$))}return $}function removeFluidObserver(j,$){const _e=j[$observers];if(_e&&_e.has($)){const et=_e.size-1;et?_e.delete($):j[$observers]=null,j.observerRemoved&&j.observerRemoved(et,$)}}var setHidden=(j,$,_e)=>Object.defineProperty(j,$,{value:_e,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=j=>{const[$,_e]=parseCSSVariable(j);if(!$||isSSR())return j;const et=window.getComputedStyle(document.documentElement).getPropertyValue($);if(et)return et.trim();if(_e&&_e.startsWith("--")){const tt=window.getComputedStyle(document.documentElement).getPropertyValue(_e);return tt||j}else{if(_e&&cssVariableRegex.test(_e))return variableToRgba(_e);if(_e)return _e}return j},parseCSSVariable=j=>{const $=cssVariableRegex.exec(j);if(!$)return[,];const[,_e,et]=$;return[_e,et]},namedColorRegex,rgbaRound=(j,$,_e,et,tt)=>`rgba(${Math.round($)}, ${Math.round(_e)}, ${Math.round(et)}, ${tt})`,createStringInterpolator2=j=>{namedColorRegex||(namedColorRegex=colors?new RegExp(`(${Object.keys(colors).join("|")})(?!\\w)`,"g"):/^\b$/);const $=j.output.map(nt=>getFluidValue(nt).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),_e=$.map(nt=>nt.match(numberRegex).map(Number)),tt=_e[0].map((nt,rt)=>_e.map(ot=>{if(!(rt in ot))throw Error('The arity of each "output" value must be equal');return ot[rt]})).map(nt=>createInterpolator({...j,output:nt}));return nt=>{var it;const rt=!unitRegex.test($[0])&&((it=$.find(at=>unitRegex.test(at)))==null?void 0:it.replace(numberRegex,""));let ot=0;return $[0].replace(numberRegex,()=>`${tt[ot++](nt)}${rt||""}`).replace(rgbaRegex,rgbaRound)}},prefix="react-spring: ",once=j=>{const $=j;let _e=!1;if(typeof $!="function")throw new TypeError(`${prefix}once requires a function parameter`);return(...et)=>{_e||($(...et),_e=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString(j){return is.str(j)&&(j[0]=="#"||/\d/.test(j)||!isSSR()&&cssVariableRegex.test(j)||j in(colors||{}))}var useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const j=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(j.current=!0,()=>{j.current=!1}),[]),j};function useForceUpdate(){const j=reactExports.useState()[1],$=useIsMounted();return()=>{$.current&&j(Math.random())}}function useMemoOne(j,$){const[_e]=reactExports.useState(()=>({inputs:$,result:j()})),et=reactExports.useRef(),tt=et.current;let nt=tt;return nt?$&&nt.inputs&&areInputsEqual($,nt.inputs)||(nt={inputs:$,result:j()}):nt=_e,reactExports.useEffect(()=>{et.current=nt,tt==_e&&(_e.inputs=_e.result=void 0)},[nt]),nt.result}function areInputsEqual(j,$){if(j.length!==$.length)return!1;for(let _e=0;_e<j.length;_e++)if(j[_e]!==$[_e])return!1;return!0}var useOnce=j=>reactExports.useEffect(j,emptyDeps),emptyDeps=[];function usePrev(j){const $=reactExports.useRef();return reactExports.useEffect(()=>{$.current=j}),$.current}var $node=Symbol.for("Animated:node"),isAnimated=j=>!!j&&j[$node]===j,getAnimated=j=>j&&j[$node],setAnimated=(j,$)=>defineHidden(j,$node,$),getPayload=j=>j&&j[$node]&&j[$node].getPayload(),Animated=class{constructor(){setAnimated(this,this)}getPayload(){return this.payload||[]}},AnimatedValue=class extends Animated{constructor(j){super(),this._value=j,this.done=!0,this.durationProgress=0,is.num(this._value)&&(this.lastPosition=this._value)}static create(j){return new AnimatedValue(j)}getPayload(){return[this]}getValue(){return this._value}setValue(j,$){return is.num(j)&&(this.lastPosition=j,$&&(j=Math.round(j/$)*$,this.done&&(this.lastPosition=j))),this._value===j?!1:(this._value=j,!0)}reset(){const{done:j}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,j&&(this.lastVelocity=null),this.v0=null)}},AnimatedString=class extends AnimatedValue{constructor(j){super(0),this._string=null,this._toString=createInterpolator({output:[j,j]})}static create(j){return new AnimatedString(j)}getValue(){const j=this._string;return j??(this._string=this._toString(this._value))}setValue(j){if(is.str(j)){if(j==this._string)return!1;this._string=j,this._value=1}else if(super.setValue(j))this._string=null;else return!1;return!0}reset(j){j&&(this._toString=createInterpolator({output:[this.getValue(),j]})),this._value=0,super.reset()}},TreeContext={dependencies:null},AnimatedObject=class extends Animated{constructor(j){super(),this.source=j,this.setValue(j)}getValue(j){const $={};return eachProp(this.source,(_e,et)=>{isAnimated(_e)?$[et]=_e.getValue(j):hasFluidValue(_e)?$[et]=getFluidValue(_e):j||($[et]=_e)}),$}setValue(j){this.source=j,this.payload=this._makePayload(j)}reset(){this.payload&&each(this.payload,j=>j.reset())}_makePayload(j){if(j){const $=new Set;return eachProp(j,this._addToPayload,$),Array.from($)}}_addToPayload(j){TreeContext.dependencies&&hasFluidValue(j)&&TreeContext.dependencies.add(j);const $=getPayload(j);$&&each($,_e=>this.add(_e))}},AnimatedArray=class extends AnimatedObject{constructor(j){super(j)}static create(j){return new AnimatedArray(j)}getValue(){return this.source.map(j=>j.getValue())}setValue(j){const $=this.getPayload();return j.length==$.length?$.map((_e,et)=>_e.setValue(j[et])).some(Boolean):(super.setValue(j.map(makeAnimated)),!0)}};function makeAnimated(j){return(isAnimatedString(j)?AnimatedString:AnimatedValue).create(j)}function getAnimatedType(j){const $=getAnimated(j);return $?$.constructor:is.arr(j)?AnimatedArray:isAnimatedString(j)?AnimatedString:AnimatedValue}var withAnimated=(j,$)=>{const _e=!is.fun(j)||j.prototype&&j.prototype.isReactComponent;return reactExports.forwardRef((et,tt)=>{const nt=reactExports.useRef(null),rt=_e&&reactExports.useCallback(pt=>{nt.current=updateRef(tt,pt)},[tt]),[ot,it]=getAnimatedState(et,$),at=useForceUpdate(),ft=()=>{const pt=nt.current;if(_e&&!pt)return;(pt?$.applyAnimatedValues(pt,ot.getValue(!0)):!1)===!1&&at()},st=new PropsObserver(ft,it),ut=reactExports.useRef();useIsomorphicLayoutEffect(()=>(ut.current=st,each(it,pt=>addFluidObserver(pt,st)),()=>{ut.current&&(each(ut.current.deps,pt=>removeFluidObserver(pt,ut.current)),raf.cancel(ut.current.update))})),reactExports.useEffect(ft,[]),useOnce(()=>()=>{const pt=ut.current;each(pt.deps,gt=>removeFluidObserver(gt,pt))});const dt=$.getComponentProps(ot.getValue());return reactExports.createElement(j,{...dt,ref:rt})})},PropsObserver=class{constructor(j,$){this.update=j,this.deps=$}eventObserved(j){j.type=="change"&&raf.write(this.update)}};function getAnimatedState(j,$){const _e=new Set;return TreeContext.dependencies=_e,j.style&&(j={...j,style:$.createAnimatedStyle(j.style)}),j=new AnimatedObject(j),TreeContext.dependencies=null,[j,_e]}function updateRef(j,$){return j&&(is.fun(j)?j($):j.current=$),$}var cacheKey=Symbol.for("AnimatedComponent"),createHost=(j,{applyAnimatedValues:$=()=>!1,createAnimatedStyle:_e=tt=>new AnimatedObject(tt),getComponentProps:et=tt=>tt}={})=>{const tt={applyAnimatedValues:$,createAnimatedStyle:_e,getComponentProps:et},nt=rt=>{const ot=getDisplayName(rt)||"Anonymous";return is.str(rt)?rt=nt[rt]||(nt[rt]=withAnimated(rt,tt)):rt=rt[cacheKey]||(rt[cacheKey]=withAnimated(rt,tt)),rt.displayName=`Animated(${ot})`,rt};return eachProp(j,(rt,ot)=>{is.arr(j)&&(ot=getDisplayName(rt)),nt[ot]=nt(rt)}),{animated:nt}},getDisplayName=j=>is.str(j)?j:j&&is.str(j.displayName)?j.displayName:is.fun(j)&&j.name||null;function callProp(j,...$){return is.fun(j)?j(...$):j}var matchProp=(j,$)=>j===!0||!!($&&j&&(is.fun(j)?j($):toArray(j).includes($))),resolveProp=(j,$)=>is.obj(j)?$&&j[$]:j,getDefaultProp=(j,$)=>j.default===!0?j[$]:j.default?j.default[$]:void 0,noopTransform=j=>j,getDefaultProps=(j,$=noopTransform)=>{let _e=DEFAULT_PROPS;j.default&&j.default!==!0&&(j=j.default,_e=Object.keys(j));const et={};for(const tt of _e){const nt=$(j[tt],tt);is.und(nt)||(et[tt]=nt)}return et},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(j){const $={};let _e=0;if(eachProp(j,(et,tt)=>{RESERVED_PROPS[tt]||($[tt]=et,_e++)}),_e)return $}function inferTo(j){const $=getForwardProps(j);if($){const _e={to:$};return eachProp(j,(et,tt)=>tt in $||(_e[tt]=et)),_e}return{...j}}function computeGoal(j){return j=getFluidValue(j),is.arr(j)?j.map(computeGoal):isAnimatedString(j)?globals_exports.createStringInterpolator({range:[0,1],output:[j,j]})(1):j}function hasProps(j){for(const $ in j)return!0;return!1}function isAsyncTo(j){return is.fun(j)||is.arr(j)&&is.obj(j[0])}function detachRefs(j,$){var _e;(_e=j.ref)==null||_e.delete(j),$==null||$.delete(j)}function replaceRef(j,$){var _e;$&&j.ref!==$&&((_e=j.ref)==null||_e.delete(j),$.add(j),j.ref=$)}var config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults={...config.default,mass:1,damping:1,easing:easings.linear,clamp:!1},AnimationConfig=class{constructor(){this.velocity=0,Object.assign(this,defaults)}};function mergeConfig(j,$,_e){_e&&(_e={..._e},sanitizeConfig(_e,$),$={..._e,...$}),sanitizeConfig(j,$),Object.assign(j,$);for(const rt in defaults)j[rt]==null&&(j[rt]=defaults[rt]);let{frequency:et,damping:tt}=j;const{mass:nt}=j;return is.und(et)||(et<.01&&(et=.01),tt<0&&(tt=0),j.tension=Math.pow(2*Math.PI/et,2)*nt,j.friction=4*Math.PI*tt*nt/et),j}function sanitizeConfig(j,$){if(!is.und($.decay))j.duration=void 0;else{const _e=!is.und($.tension)||!is.und($.friction);(_e||!is.und($.frequency)||!is.und($.damping)||!is.und($.mass))&&(j.duration=void 0,j.decay=void 0),_e&&(j.frequency=void 0)}}var emptyArray=[],Animation=class{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.config=new AnimationConfig,this.immediate=!1}};function scheduleProps(j,{key:$,props:_e,defaultProps:et,state:tt,actions:nt}){return new Promise((rt,ot)=>{let it,at,ft=matchProp(_e.cancel??(et==null?void 0:et.cancel),$);if(ft)dt();else{is.und(_e.pause)||(tt.paused=matchProp(_e.pause,$));let pt=et==null?void 0:et.pause;pt!==!0&&(pt=tt.paused||matchProp(pt,$)),it=callProp(_e.delay||0,$),pt?(tt.resumeQueue.add(ut),nt.pause()):(nt.resume(),ut())}function st(){tt.resumeQueue.add(ut),tt.timeouts.delete(at),at.cancel(),it=at.time-raf.now()}function ut(){it>0&&!globals_exports.skipAnimation?(tt.delayed=!0,at=raf.setTimeout(dt,it),tt.pauseQueue.add(st),tt.timeouts.add(at)):dt()}function dt(){tt.delayed&&(tt.delayed=!1),tt.pauseQueue.delete(st),tt.timeouts.delete(at),j<=(tt.cancelId||0)&&(ft=!0);try{nt.start({..._e,callId:j,cancel:ft},rt)}catch(pt){ot(pt)}}})}var getCombinedResult=(j,$)=>$.length==1?$[0]:$.some(_e=>_e.cancelled)?getCancelledResult(j.get()):$.every(_e=>_e.noop)?getNoopResult(j.get()):getFinishedResult(j.get(),$.every(_e=>_e.finished)),getNoopResult=j=>({value:j,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=(j,$,_e=!1)=>({value:j,finished:$,cancelled:_e}),getCancelledResult=j=>({value:j,cancelled:!0,finished:!1});function runAsync(j,$,_e,et){const{callId:tt,parentId:nt,onRest:rt}=$,{asyncTo:ot,promise:it}=_e;return!nt&&j===ot&&!$.reset?it:_e.promise=(async()=>{_e.asyncId=tt,_e.asyncTo=j;const at=getDefaultProps($,(yt,mt)=>mt==="onRest"?void 0:yt);let ft,st;const ut=new Promise((yt,mt)=>(ft=yt,st=mt)),dt=yt=>{const mt=tt<=(_e.cancelId||0)&&getCancelledResult(et)||tt!==_e.asyncId&&getFinishedResult(et,!1);if(mt)throw yt.result=mt,st(yt),yt},pt=(yt,mt)=>{const vt=new BailSignal,_t=new SkipAnimationSignal;return(async()=>{if(globals_exports.skipAnimation)throw stopAsync(_e),_t.result=getFinishedResult(et,!1),st(_t),_t;dt(vt);const Ct=is.obj(yt)?{...yt}:{...mt,to:yt};Ct.parentId=tt,eachProp(at,(kt,St)=>{is.und(Ct[St])&&(Ct[St]=kt)});const At=await et.start(Ct);return dt(vt),_e.paused&&await new Promise(kt=>{_e.resumeQueue.add(kt)}),At})()};let gt;if(globals_exports.skipAnimation)return stopAsync(_e),getFinishedResult(et,!1);try{let yt;is.arr(j)?yt=(async mt=>{for(const vt of mt)await pt(vt)})(j):yt=Promise.resolve(j(pt,et.stop.bind(et))),await Promise.all([yt.then(ft),ut]),gt=getFinishedResult(et.get(),!0,!1)}catch(yt){if(yt instanceof BailSignal)gt=yt.result;else if(yt instanceof SkipAnimationSignal)gt=yt.result;else throw yt}finally{tt==_e.asyncId&&(_e.asyncId=nt,_e.asyncTo=nt?ot:void 0,_e.promise=nt?it:void 0)}return is.fun(rt)&&raf.batchedUpdates(()=>{rt(gt,et,et.item)}),gt})()}function stopAsync(j,$){flush(j.timeouts,_e=>_e.cancel()),j.pauseQueue.clear(),j.resumeQueue.clear(),j.asyncId=j.asyncTo=j.promise=void 0,$&&(j.cancelId=$)}var BailSignal=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue=j=>j instanceof FrameValue,nextId=1,FrameValue=class extends FluidValue{constructor(){super(...arguments),this.id=nextId++,this._priority=0}get priority(){return this._priority}set priority(j){this._priority!=j&&(this._priority=j,this._onPriorityChange(j))}get(){const j=getAnimated(this);return j&&j.getValue()}to(...j){return globals_exports.to(this,j)}interpolate(...j){return deprecateInterpolate(),globals_exports.to(this,j)}toJSON(){return this.get()}observerAdded(j){j==1&&this._attach()}observerRemoved(j){j==0&&this._detach()}_attach(){}_detach(){}_onChange(j,$=!1){callFluidObservers(this,{type:"change",parent:this,value:j,idle:$})}_onPriorityChange(j){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:j})}},$P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=j=>(j[$P]&HAS_ANIMATED)>0,isAnimating=j=>(j[$P]&IS_ANIMATING)>0,isPaused=j=>(j[$P]&IS_PAUSED)>0,setActiveBit=(j,$)=>$?j[$P]|=IS_ANIMATING|HAS_ANIMATED:j[$P]&=~IS_ANIMATING,setPausedBit=(j,$)=>$?j[$P]|=IS_PAUSED:j[$P]&=~IS_PAUSED,SpringValue=class extends FrameValue{constructor(j,$){if(super(),this.animation=new Animation,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und(j)||!is.und($)){const _e=is.obj(j)?{...j}:{...$,from:j};is.und(_e.default)&&(_e.default=!0),this.start(_e)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const j=getAnimated(this);return j instanceof AnimatedValue?j.lastVelocity||0:j.getPayload().map($=>$.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance(j){let $=!0,_e=!1;const et=this.animation;let{toValues:tt}=et;const{config:nt}=et,rt=getPayload(et.to);!rt&&hasFluidValue(et.to)&&(tt=toArray(getFluidValue(et.to))),et.values.forEach((at,ft)=>{if(at.done)return;const st=at.constructor==AnimatedString?1:rt?rt[ft].lastPosition:tt[ft];let ut=et.immediate,dt=st;if(!ut){if(dt=at.lastPosition,nt.tension<=0){at.done=!0;return}let pt=at.elapsedTime+=j;const gt=et.fromValues[ft],yt=at.v0!=null?at.v0:at.v0=is.arr(nt.velocity)?nt.velocity[ft]:nt.velocity;let mt;const vt=nt.precision||(gt==st?.005:Math.min(1,Math.abs(st-gt)*.001));if(is.und(nt.duration))if(nt.decay){const _t=nt.decay===!0?.998:nt.decay,Ct=Math.exp(-(1-_t)*pt);dt=gt+yt/(1-_t)*(1-Ct),ut=Math.abs(at.lastPosition-dt)<=vt,mt=yt*Ct}else{mt=at.lastVelocity==null?yt:at.lastVelocity;const _t=nt.restVelocity||vt/10,Ct=nt.clamp?0:nt.bounce,At=!is.und(Ct),kt=gt==st?at.v0>0:gt<st;let St,wt=!1;const It=1,Ut=Math.ceil(j/It);for(let Yt=0;Yt<Ut&&(St=Math.abs(mt)>_t,!(!St&&(ut=Math.abs(st-dt)<=vt,ut)));++Yt){At&&(wt=dt==st||dt>st==kt,wt&&(mt=-mt*Ct,dt=st));const rn=-nt.tension*1e-6*(dt-st),hn=-nt.friction*.001*mt,Vt=(rn+hn)/nt.mass;mt=mt+Vt*It,dt=dt+mt*It}}else{let _t=1;nt.duration>0&&(this._memoizedDuration!==nt.duration&&(this._memoizedDuration=nt.duration,at.durationProgress>0&&(at.elapsedTime=nt.duration*at.durationProgress,pt=at.elapsedTime+=j)),_t=(nt.progress||0)+pt/this._memoizedDuration,_t=_t>1?1:_t<0?0:_t,at.durationProgress=_t),dt=gt+nt.easing(_t)*(st-gt),mt=(dt-at.lastPosition)/j,ut=_t==1}at.lastVelocity=mt,Number.isNaN(dt)&&(console.warn("Got NaN while animating:",this),ut=!0)}rt&&!rt[ft].done&&(ut=!1),ut?at.done=!0:$=!1,at.setValue(dt,nt.round)&&(_e=!0)});const ot=getAnimated(this),it=ot.getValue();if($){const at=getFluidValue(et.to);(it!==at||_e)&&!nt.decay?(ot.setValue(at),this._onChange(at)):_e&&nt.decay&&this._onChange(it),this._stop()}else _e&&this._onChange(it)}set(j){return raf.batchedUpdates(()=>{this._stop(),this._focus(j),this._set(j)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:j,config:$}=this.animation;raf.batchedUpdates(()=>{this._onStart(),$.decay||this._set(j,!1),this._stop()})}return this}update(j){return(this.queue||(this.queue=[])).push(j),this}start(j,$){let _e;return is.und(j)?(_e=this.queue||[],this.queue=[]):_e=[is.obj(j)?j:{...$,to:j}],Promise.all(_e.map(et=>this._update(et))).then(et=>getCombinedResult(this,et))}stop(j){const{to:$}=this.animation;return this._focus(this.get()),stopAsync(this._state,j&&this._lastCallId),raf.batchedUpdates(()=>this._stop($,j)),this}reset(){this._update({reset:!0})}eventObserved(j){j.type=="change"?this._start():j.type=="priority"&&(this.priority=j.priority+1)}_prepareNode(j){const $=this.key||"";let{to:_e,from:et}=j;_e=is.obj(_e)?_e[$]:_e,(_e==null||isAsyncTo(_e))&&(_e=void 0),et=is.obj(et)?et[$]:et,et==null&&(et=void 0);const tt={to:_e,from:et};return hasAnimated(this)||(j.reverse&&([_e,et]=[et,_e]),et=getFluidValue(et),is.und(et)?getAnimated(this)||this._set(_e):this._set(et)),tt}_update({...j},$){const{key:_e,defaultProps:et}=this;j.default&&Object.assign(et,getDefaultProps(j,(rt,ot)=>/^on/.test(ot)?resolveProp(rt,_e):rt)),mergeActiveFn(this,j,"onProps"),sendEvent(this,"onProps",j,this);const tt=this._prepareNode(j);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const nt=this._state;return scheduleProps(++this._lastCallId,{key:_e,props:j,defaultProps:et,state:nt,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(nt.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(nt.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,tt)}}).then(rt=>{if(j.loop&&rt.finished&&!($&&rt.noop)){const ot=createLoopUpdate(j);if(ot)return this._update(ot,!0)}return rt})}_merge(j,$,_e){if($.cancel)return this.stop(!0),_e(getCancelledResult(this));const et=!is.und(j.to),tt=!is.und(j.from);if(et||tt)if($.callId>this._lastToId)this._lastToId=$.callId;else return _e(getCancelledResult(this));const{key:nt,defaultProps:rt,animation:ot}=this,{to:it,from:at}=ot;let{to:ft=it,from:st=at}=j;tt&&!et&&(!$.default||is.und(ft))&&(ft=st),$.reverse&&([ft,st]=[st,ft]);const ut=!isEqual(st,at);ut&&(ot.from=st),st=getFluidValue(st);const dt=!isEqual(ft,it);dt&&this._focus(ft);const pt=isAsyncTo($.to),{config:gt}=ot,{decay:yt,velocity:mt}=gt;(et||tt)&&(gt.velocity=0),$.config&&!pt&&mergeConfig(gt,callProp($.config,nt),$.config!==rt.config?callProp(rt.config,nt):void 0);let vt=getAnimated(this);if(!vt||is.und(ft))return _e(getFinishedResult(this,!0));const _t=is.und($.reset)?tt&&!$.default:!is.und(st)&&matchProp($.reset,nt),Ct=_t?st:this.get(),At=computeGoal(ft),kt=is.num(At)||is.arr(At)||isAnimatedString(At),St=!pt&&(!kt||matchProp(rt.immediate||$.immediate,nt));if(dt){const Yt=getAnimatedType(ft);if(Yt!==vt.constructor)if(St)vt=this._set(At);else throw Error(`Cannot animate between ${vt.constructor.name} and ${Yt.name}, as the "to" prop suggests`)}const wt=vt.constructor;let It=hasFluidValue(ft),Ut=!1;if(!It){const Yt=_t||!hasAnimated(this)&&ut;(dt||Yt)&&(Ut=isEqual(computeGoal(Ct),At),It=!Ut),(!isEqual(ot.immediate,St)&&!St||!isEqual(gt.decay,yt)||!isEqual(gt.velocity,mt))&&(It=!0)}if(Ut&&isAnimating(this)&&(ot.changed&&!_t?It=!0:It||this._stop(it)),!pt&&((It||hasFluidValue(it))&&(ot.values=vt.getPayload(),ot.toValues=hasFluidValue(ft)?null:wt==AnimatedString?[1]:toArray(At)),ot.immediate!=St&&(ot.immediate=St,!St&&!_t&&this._set(it)),It)){const{onRest:Yt}=ot;each(ACTIVE_EVENTS,hn=>mergeActiveFn(this,$,hn));const rn=getFinishedResult(this,checkFinished(this,it));flushCalls(this._pendingCalls,rn),this._pendingCalls.add(_e),ot.changed&&raf.batchedUpdates(()=>{var hn;ot.changed=!_t,Yt==null||Yt(rn,this),_t?callProp(rt.onRest,rn):(hn=ot.onStart)==null||hn.call(ot,rn,this)})}_t&&this._set(Ct),pt?_e(runAsync($.to,$,this._state,this)):It?this._start():isAnimating(this)&&!dt?this._pendingCalls.add(_e):_e(getNoopResult(Ct))}_focus(j){const $=this.animation;j!==$.to&&(getFluidObservers(this)&&this._detach(),$.to=j,getFluidObservers(this)&&this._attach())}_attach(){let j=0;const{to:$}=this.animation;hasFluidValue($)&&(addFluidObserver($,this),isFrameValue($)&&(j=$.priority+1)),this.priority=j}_detach(){const{to:j}=this.animation;hasFluidValue(j)&&removeFluidObserver(j,this)}_set(j,$=!0){const _e=getFluidValue(j);if(!is.und(_e)){const et=getAnimated(this);if(!et||!isEqual(_e,et.getValue())){const tt=getAnimatedType(_e);!et||et.constructor!=tt?setAnimated(this,tt.create(_e)):et.setValue(_e),et&&raf.batchedUpdates(()=>{this._onChange(_e,$)})}}return getAnimated(this)}_onStart(){const j=this.animation;j.changed||(j.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,j.to)),this))}_onChange(j,$){$||(this._onStart(),callProp(this.animation.onChange,j,this)),callProp(this.defaultProps.onChange,j,this),super._onChange(j,$)}_start(){const j=this.animation;getAnimated(this).reset(getFluidValue(j.to)),j.immediate||(j.fromValues=j.values.map($=>$.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals_exports.skipAnimation?this.finish():frameLoop.start(this)}_stop(j,$){if(isAnimating(this)){setActiveBit(this,!1);const _e=this.animation;each(_e.values,tt=>{tt.done=!0}),_e.toValues&&(_e.onChange=_e.onPause=_e.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const et=$?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,j??_e.to));flushCalls(this._pendingCalls,et),_e.changed&&(_e.changed=!1,sendEvent(this,"onRest",et,this))}}};function checkFinished(j,$){const _e=computeGoal($),et=computeGoal(j.get());return isEqual(et,_e)}function createLoopUpdate(j,$=j.loop,_e=j.to){const et=callProp($);if(et){const tt=et!==!0&&inferTo(et),nt=(tt||j).reverse,rt=!tt||tt.reset;return createUpdate({...j,loop:$,default:!1,pause:void 0,to:!nt||isAsyncTo(_e)?_e:void 0,from:rt?j.from:void 0,reset:rt,...tt})}}function createUpdate(j){const{to:$,from:_e}=j=inferTo(j),et=new Set;return is.obj($)&&findDefined($,et),is.obj(_e)&&findDefined(_e,et),j.keys=et.size?Array.from(et):null,j}function declareUpdate(j){const $=createUpdate(j);return is.und($.default)&&($.default=getDefaultProps($)),$}function findDefined(j,$){eachProp(j,(_e,et)=>_e!=null&&$.add(et))}var ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn(j,$,_e){j.animation[_e]=$[_e]!==getDefaultProp($,_e)?resolveProp($[_e],j.key):void 0}function sendEvent(j,$,..._e){var et,tt,nt,rt;(tt=(et=j.animation)[$])==null||tt.call(et,..._e),(rt=(nt=j.defaultProps)[$])==null||rt.call(nt,..._e)}var BATCHED_EVENTS=["onStart","onChange","onRest"],nextId2=1,Controller=class{constructor(j,$){this.id=nextId2++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),$&&(this._flush=$),j&&this.start({default:!0,...j})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(j=>j.idle&&!j.isDelayed&&!j.isPaused)}get item(){return this._item}set item(j){this._item=j}get(){const j={};return this.each(($,_e)=>j[_e]=$.get()),j}set(j){for(const $ in j){const _e=j[$];is.und(_e)||this.springs[$].set(_e)}}update(j){return j&&this.queue.push(createUpdate(j)),this}start(j){let{queue:$}=this;return j?$=toArray(j).map(createUpdate):this.queue=[],this._flush?this._flush(this,$):(prepareKeys(this,$),flushUpdateQueue(this,$))}stop(j,$){if(j!==!!j&&($=j),$){const _e=this.springs;each(toArray($),et=>_e[et].stop(!!j))}else stopAsync(this._state,this._lastAsyncId),this.each(_e=>_e.stop(!!j));return this}pause(j){if(is.und(j))this.start({pause:!0});else{const $=this.springs;each(toArray(j),_e=>$[_e].pause())}return this}resume(j){if(is.und(j))this.start({pause:!1});else{const $=this.springs;each(toArray(j),_e=>$[_e].resume())}return this}each(j){eachProp(this.springs,j)}_onFrame(){const{onStart:j,onChange:$,onRest:_e}=this._events,et=this._active.size>0,tt=this._changed.size>0;(et&&!this._started||tt&&!this._started)&&(this._started=!0,flush(j,([ot,it])=>{it.value=this.get(),ot(it,this,this._item)}));const nt=!et&&this._started,rt=tt||nt&&_e.size?this.get():null;tt&&$.size&&flush($,([ot,it])=>{it.value=rt,ot(it,this,this._item)}),nt&&(this._started=!1,flush(_e,([ot,it])=>{it.value=rt,ot(it,this,this._item)}))}eventObserved(j){if(j.type=="change")this._changed.add(j.parent),j.idle||this._active.add(j.parent);else if(j.type=="idle")this._active.delete(j.parent);else return;raf.onFrame(this._onFrame)}};function flushUpdateQueue(j,$){return Promise.all($.map(_e=>flushUpdate(j,_e))).then(_e=>getCombinedResult(j,_e))}async function flushUpdate(j,$,_e){const{keys:et,to:tt,from:nt,loop:rt,onRest:ot,onResolve:it}=$,at=is.obj($.default)&&$.default;rt&&($.loop=!1),tt===!1&&($.to=null),nt===!1&&($.from=null);const ft=is.arr(tt)||is.fun(tt)?tt:void 0;ft?($.to=void 0,$.onRest=void 0,at&&(at.onRest=void 0)):each(BATCHED_EVENTS,gt=>{const yt=$[gt];if(is.fun(yt)){const mt=j._events[gt];$[gt]=({finished:vt,cancelled:_t})=>{const Ct=mt.get(yt);Ct?(vt||(Ct.finished=!1),_t&&(Ct.cancelled=!0)):mt.set(yt,{value:null,finished:vt||!1,cancelled:_t||!1})},at&&(at[gt]=$[gt])}});const st=j._state;$.pause===!st.paused?(st.paused=$.pause,flushCalls($.pause?st.pauseQueue:st.resumeQueue)):st.paused&&($.pause=!0);const ut=(et||Object.keys(j.springs)).map(gt=>j.springs[gt].start($)),dt=$.cancel===!0||getDefaultProp($,"cancel")===!0;(ft||dt&&st.asyncId)&&ut.push(scheduleProps(++j._lastAsyncId,{props:$,state:st,actions:{pause:noop,resume:noop,start(gt,yt){dt?(stopAsync(st,j._lastAsyncId),yt(getCancelledResult(j))):(gt.onRest=ot,yt(runAsync(ft,gt,st,j)))}}})),st.paused&&await new Promise(gt=>{st.resumeQueue.add(gt)});const pt=getCombinedResult(j,await Promise.all(ut));if(rt&&pt.finished&&!(_e&&pt.noop)){const gt=createLoopUpdate($,rt,tt);if(gt)return prepareKeys(j,[gt]),flushUpdate(j,gt,!0)}return it&&raf.batchedUpdates(()=>it(pt,j,j.item)),pt}function getSprings(j,$){const _e={...j.springs};return $&&each(toArray($),et=>{is.und(et.keys)&&(et=createUpdate(et)),is.obj(et.to)||(et={...et,to:void 0}),prepareSprings(_e,et,tt=>createSpring(tt))}),setSprings(j,_e),_e}function setSprings(j,$){eachProp($,(_e,et)=>{j.springs[et]||(j.springs[et]=_e,addFluidObserver(_e,j))})}function createSpring(j,$){const _e=new SpringValue;return _e.key=j,$&&addFluidObserver(_e,$),_e}function prepareSprings(j,$,_e){$.keys&&each($.keys,et=>{(j[et]||(j[et]=_e(et)))._prepareNode($)})}function prepareKeys(j,$){each($,_e=>{prepareSprings(j.springs,_e,et=>createSpring(et,j))})}var SpringContext=({children:j,...$})=>{const _e=reactExports.useContext(ctx),et=$.pause||!!_e.pause,tt=$.immediate||!!_e.immediate;$=useMemoOne(()=>({pause:et,immediate:tt}),[et,tt]);const{Provider:nt}=ctx;return reactExports.createElement(nt,{value:$},j)},ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext(j,$){return Object.assign(j,reactExports.createContext($)),j.Provider._context=j,j.Consumer._context=j,j}var SpringRef=()=>{const j=[],$=function(et){deprecateDirectCall();const tt=[];return each(j,(nt,rt)=>{if(is.und(et))tt.push(nt.start());else{const ot=_e(et,nt,rt);ot&&tt.push(nt.start(ot))}}),tt};$.current=j,$.add=function(et){j.includes(et)||j.push(et)},$.delete=function(et){const tt=j.indexOf(et);~tt&&j.splice(tt,1)},$.pause=function(){return each(j,et=>et.pause(...arguments)),this},$.resume=function(){return each(j,et=>et.resume(...arguments)),this},$.set=function(et){each(j,(tt,nt)=>{const rt=is.fun(et)?et(nt,tt):et;rt&&tt.set(rt)})},$.start=function(et){const tt=[];return each(j,(nt,rt)=>{if(is.und(et))tt.push(nt.start());else{const ot=this._getProps(et,nt,rt);ot&&tt.push(nt.start(ot))}}),tt},$.stop=function(){return each(j,et=>et.stop(...arguments)),this},$.update=function(et){return each(j,(tt,nt)=>tt.update(this._getProps(et,tt,nt))),this};const _e=function(et,tt,nt){return is.fun(et)?et(nt,tt):et};return $._getProps=_e,$};function useSprings(j,$,_e){const et=is.fun($)&&$;et&&!_e&&(_e=[]);const tt=reactExports.useMemo(()=>et||arguments.length==3?SpringRef():void 0,[]),nt=reactExports.useRef(0),rt=useForceUpdate(),ot=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(mt,vt){const _t=getSprings(mt,vt);return nt.current>0&&!ot.queue.length&&!Object.keys(_t).some(At=>!mt.springs[At])?flushUpdateQueue(mt,vt):new Promise(At=>{setSprings(mt,_t),ot.queue.push(()=>{At(flushUpdateQueue(mt,vt))}),rt()})}}),[]),it=reactExports.useRef([...ot.ctrls]),at=[],ft=usePrev(j)||0;reactExports.useMemo(()=>{each(it.current.slice(j,ft),mt=>{detachRefs(mt,tt),mt.stop(!0)}),it.current.length=j,st(ft,j)},[j]),reactExports.useMemo(()=>{st(0,Math.min(ft,j))},_e);function st(mt,vt){for(let _t=mt;_t<vt;_t++){const Ct=it.current[_t]||(it.current[_t]=new Controller(null,ot.flush)),At=et?et(_t,Ct):$[_t];At&&(at[_t]=declareUpdate(At))}}const ut=it.current.map((mt,vt)=>getSprings(mt,at[vt])),dt=reactExports.useContext(SpringContext),pt=usePrev(dt),gt=dt!==pt&&hasProps(dt);useIsomorphicLayoutEffect(()=>{nt.current++,ot.ctrls=it.current;const{queue:mt}=ot;mt.length&&(ot.queue=[],each(mt,vt=>vt())),each(it.current,(vt,_t)=>{tt==null||tt.add(vt),gt&&vt.start({default:dt});const Ct=at[_t];Ct&&(replaceRef(vt,Ct.ref),vt.ref?vt.queue.push(Ct):vt.start(Ct))})}),useOnce(()=>()=>{each(ot.ctrls,mt=>mt.stop(!0))});const yt=ut.map(mt=>({...mt}));return tt?[yt,tt]:yt}function useSpring(j,$){const _e=is.fun(j),[[et],tt]=useSprings(1,_e?j:[j],_e?[]:$);return _e||arguments.length==2?[et,tt]:et}function useTransition(j,$,_e){const et=is.fun($)&&$,{reset:tt,sort:nt,trail:rt=0,expires:ot=!0,exitBeforeEnter:it=!1,onDestroyed:at,ref:ft,config:st}=et?et():$,ut=reactExports.useMemo(()=>et||arguments.length==3?SpringRef():void 0,[]),dt=toArray(j),pt=[],gt=reactExports.useRef(null),yt=tt?null:gt.current;useIsomorphicLayoutEffect(()=>{gt.current=pt}),useOnce(()=>(each(pt,Vt=>{ut==null||ut.add(Vt.ctrl),Vt.ctrl.ref=ut}),()=>{each(gt.current,Vt=>{Vt.expired&&clearTimeout(Vt.expirationId),detachRefs(Vt.ctrl,ut),Vt.ctrl.stop(!0)})}));const mt=getKeys(dt,et?et():$,yt),vt=tt&&gt.current||[];useIsomorphicLayoutEffect(()=>each(vt,({ctrl:Vt,item:Zt,key:en})=>{detachRefs(Vt,ut),callProp(at,Zt,en)}));const _t=[];if(yt&&each(yt,(Vt,Zt)=>{Vt.expired?(clearTimeout(Vt.expirationId),vt.push(Vt)):(Zt=_t[Zt]=mt.indexOf(Vt.key),~Zt&&(pt[Zt]=Vt))}),each(dt,(Vt,Zt)=>{pt[Zt]||(pt[Zt]={key:mt[Zt],item:Vt,phase:"mount",ctrl:new Controller},pt[Zt].ctrl.item=Vt)}),_t.length){let Vt=-1;const{leave:Zt}=et?et():$;each(_t,(en,fn)=>{const zt=yt[fn];~en?(Vt=pt.indexOf(zt),pt[Vt]={...zt,item:dt[en]}):Zt&&pt.splice(++Vt,0,zt)})}is.fun(nt)&&pt.sort((Vt,Zt)=>nt(Vt.item,Zt.item));let Ct=-rt;const At=useForceUpdate(),kt=getDefaultProps($),St=new Map,wt=reactExports.useRef(new Map),It=reactExports.useRef(!1);each(pt,(Vt,Zt)=>{const en=Vt.key,fn=Vt.phase,zt=et?et():$;let Wt,sn;const nn=callProp(zt.delay||0,en);if(fn=="mount")Wt=zt.enter,sn="enter";else{const En=mt.indexOf(en)<0;if(fn!="leave")if(En)Wt=zt.leave,sn="leave";else if(Wt=zt.update)sn="update";else return;else if(!En)Wt=zt.enter,sn="enter";else return}if(Wt=callProp(Wt,Vt.item,Zt),Wt=is.obj(Wt)?inferTo(Wt):{to:Wt},!Wt.config){const En=st||kt.config;Wt.config=callProp(En,Vt.item,Zt,sn)}Ct+=rt;const un={...kt,delay:nn+Ct,ref:ft,immediate:zt.immediate,reset:!1,...Wt};if(sn=="enter"&&is.und(un.from)){const En=et?et():$,Cn=is.und(En.initial)||yt?En.from:En.initial;un.from=callProp(Cn,Vt.item,Zt)}const{onResolve:wn}=un;un.onResolve=En=>{callProp(wn,En);const Cn=gt.current,tn=Cn.find(bn=>bn.key===en);if(tn&&!(En.cancelled&&tn.phase!="update")&&tn.ctrl.idle){const bn=Cn.every(Jt=>Jt.ctrl.idle);if(tn.phase=="leave"){const Jt=callProp(ot,tn.item);if(Jt!==!1){const Sn=Jt===!0?0:Jt;if(tn.expired=!0,!bn&&Sn>0){Sn<=2147483647&&(tn.expirationId=setTimeout(At,Sn));return}}}bn&&Cn.some(Jt=>Jt.expired)&&(wt.current.delete(tn),it&&(It.current=!0),At())}};const vn=getSprings(Vt.ctrl,un);sn==="leave"&&it?wt.current.set(Vt,{phase:sn,springs:vn,payload:un}):St.set(Vt,{phase:sn,springs:vn,payload:un})});const Ut=reactExports.useContext(SpringContext),Yt=usePrev(Ut),rn=Ut!==Yt&&hasProps(Ut);useIsomorphicLayoutEffect(()=>{rn&&each(pt,Vt=>{Vt.ctrl.start({default:Ut})})},[Ut]),each(St,(Vt,Zt)=>{if(wt.current.size){const en=pt.findIndex(fn=>fn.key===Zt.key);pt.splice(en,1)}}),useIsomorphicLayoutEffect(()=>{each(wt.current.size?wt.current:St,({phase:Vt,payload:Zt},en)=>{const{ctrl:fn}=en;en.phase=Vt,ut==null||ut.add(fn),rn&&Vt=="enter"&&fn.start({default:Ut}),Zt&&(replaceRef(fn,Zt.ref),(fn.ref||ut)&&!It.current?fn.update(Zt):(fn.start(Zt),It.current&&(It.current=!1)))})},tt?void 0:_e);const hn=Vt=>reactExports.createElement(reactExports.Fragment,null,pt.map((Zt,en)=>{const{springs:fn}=St.get(Zt)||Zt.ctrl,zt=Vt({...fn},Zt.item,Zt,en);return zt&&zt.type?reactExports.createElement(zt.type,{...zt.props,key:is.str(Zt.key)||is.num(Zt.key)?Zt.key:Zt.ctrl.id,ref:zt.ref}):zt}));return ut?[hn,ut]:hn}var nextKey=1;function getKeys(j,{key:$,keys:_e=$},et){if(_e===null){const tt=new Set;return j.map(nt=>{const rt=et&&et.find(ot=>ot.item===nt&&ot.phase!=="leave"&&!tt.has(ot));return rt?(tt.add(rt),rt.key):nextKey++})}return is.und(_e)?j:is.fun(_e)?j.map(_e):toArray(_e)}var Interpolation=class extends FrameValue{constructor(j,$){super(),this.source=j,this.idle=!0,this._active=new Set,this.calc=createInterpolator(...$);const _e=this._get(),et=getAnimatedType(_e);setAnimated(this,et.create(_e))}advance(j){const $=this._get(),_e=this.get();isEqual($,_e)||(getAnimated(this).setValue($),this._onChange($,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const j=is.arr(this.source)?this.source.map(getFluidValue):toArray(getFluidValue(this.source));return this.calc(...j)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each(getPayload(this),j=>{j.done=!1}),globals_exports.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let j=1;each(toArray(this.source),$=>{hasFluidValue($)&&addFluidObserver($,this),isFrameValue($)&&($.idle||this._active.add($),j=Math.max(j,$.priority+1))}),this.priority=j,this._start()}_detach(){each(toArray(this.source),j=>{hasFluidValue(j)&&removeFluidObserver(j,this)}),this._active.clear(),becomeIdle(this)}eventObserved(j){j.type=="change"?j.idle?this.advance():(this._active.add(j.parent),this._start()):j.type=="idle"?this._active.delete(j.parent):j.type=="priority"&&(this.priority=toArray(this.source).reduce(($,_e)=>Math.max($,(isFrameValue(_e)?_e.priority:0)+1),0))}};function isIdle(j){return j.idle!==!1}function checkIdle(j){return!j.size||Array.from(j).every(isIdle)}function becomeIdle(j){j.idle||(j.idle=!0,each(getPayload(j),$=>{$.done=!0}),callFluidObservers(j,{type:"idle",parent:j}))}globals_exports.assign({createStringInterpolator:createStringInterpolator2,to:(j,$)=>new Interpolation(j,$)});var isCustomPropRE=/^--/;function dangerousStyleValue(j,$){return $==null||typeof $=="boolean"||$===""?"":typeof $=="number"&&$!==0&&!isCustomPropRE.test(j)&&!(isUnitlessNumber.hasOwnProperty(j)&&isUnitlessNumber[j])?$+"px":(""+$).trim()}var attributeCache={};function applyAnimatedValues(j,$){if(!j.nodeType||!j.setAttribute)return!1;const _e=j.nodeName==="filter"||j.parentNode&&j.parentNode.nodeName==="filter",{style:et,children:tt,scrollTop:nt,scrollLeft:rt,viewBox:ot,...it}=$,at=Object.values(it),ft=Object.keys(it).map(st=>_e||j.hasAttribute(st)?st:attributeCache[st]||(attributeCache[st]=st.replace(/([A-Z])/g,ut=>"-"+ut.toLowerCase())));tt!==void 0&&(j.textContent=tt);for(const st in et)if(et.hasOwnProperty(st)){const ut=dangerousStyleValue(st,et[st]);isCustomPropRE.test(st)?j.style.setProperty(st,ut):j.style[st]=ut}ft.forEach((st,ut)=>{j.setAttribute(st,at[ut])}),nt!==void 0&&(j.scrollTop=nt),rt!==void 0&&(j.scrollLeft=rt),ot!==void 0&&j.setAttribute("viewBox",ot)}var isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey=(j,$)=>j+$.charAt(0).toUpperCase()+$.substring(1),prefixes=["Webkit","Ms","Moz","O"];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce((j,$)=>(prefixes.forEach(_e=>j[prefixKey(_e,$)]=j[$]),j),isUnitlessNumber);var domTransforms=/^(matrix|translate|scale|rotate|skew)/,pxTransforms=/^(translate)/,degTransforms=/^(rotate|skew)/,addUnit=(j,$)=>is.num(j)&&j!==0?j+$:j,isValueIdentity=(j,$)=>is.arr(j)?j.every(_e=>isValueIdentity(_e,$)):is.num(j)?j===$:parseFloat(j)===$,AnimatedStyle=class extends AnimatedObject{constructor({x:j,y:$,z:_e,...et}){const tt=[],nt=[];(j||$||_e)&&(tt.push([j||0,$||0,_e||0]),nt.push(rt=>[`translate3d(${rt.map(ot=>addUnit(ot,"px")).join(",")})`,isValueIdentity(rt,0)])),eachProp(et,(rt,ot)=>{if(ot==="transform")tt.push([rt||""]),nt.push(it=>[it,it===""]);else if(domTransforms.test(ot)){if(delete et[ot],is.und(rt))return;const it=pxTransforms.test(ot)?"px":degTransforms.test(ot)?"deg":"";tt.push(toArray(rt)),nt.push(ot==="rotate3d"?([at,ft,st,ut])=>[`rotate3d(${at},${ft},${st},${addUnit(ut,it)})`,isValueIdentity(ut,0)]:at=>[`${ot}(${at.map(ft=>addUnit(ft,it)).join(",")})`,isValueIdentity(at,ot.startsWith("scale")?1:0)])}}),tt.length&&(et.transform=new FluidTransform(tt,nt)),super(et)}},FluidTransform=class extends FluidValue{constructor(j,$){super(),this.inputs=j,this.transforms=$,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let j="",$=!0;return each(this.inputs,(_e,et)=>{const tt=getFluidValue(_e[0]),[nt,rt]=this.transforms[et](is.arr(tt)?tt:_e.map(getFluidValue));j+=" "+nt,$=$&&rt}),$?"none":j}observerAdded(j){j==1&&each(this.inputs,$=>each($,_e=>hasFluidValue(_e)&&addFluidObserver(_e,this)))}observerRemoved(j){j==0&&each(this.inputs,$=>each($,_e=>hasFluidValue(_e)&&removeFluidObserver(_e,this)))}eventObserved(j){j.type=="change"&&(this._value=null),callFluidObservers(this,j)}},primitives=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2,colors:colors2});var host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:j=>new AnimatedStyle(j),getComponentProps:({scrollTop:j,scrollLeft:$,..._e})=>_e}),animated=host.animated;function useFadeTransition(j){return useTransition(j,{from:{opacity:0,transform:"translate(0, -2%) scale(0.96)"},enter:{opacity:1,transform:"translate(0, 0) scale(1)"},leave:{opacity:0,transform:"translate(0, -2%) scale(0.96)"}})}const QspInput=({attrs:j,children:$})=>{const _e=useAtom_2(input$),[et,tt,nt]=useAttributes(j,"qsp-input"),rt=useFadeTransition(_e.isOpen);return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:ot=>{ot.preventDefault(),input$.actions.finish()},cancelAction:ot=>{ot.preventDefault(),input$.actions.close()}},children:jsxRuntimeExports.jsx(Root$6,{open:_e.isOpen,onOpenChange:()=>input$.actions.close(),children:rt((ot,it)=>it?jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:ot,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(et,{style:tt,...nt,children:jsxRuntimeExports.jsx("form",{onSubmit:at=>{at.preventDefault(),input$.actions.finish()},children:$})})})})]}):null)})})},QspInputContent=({attrs:j})=>{const{content:$,key:_e}=useAtom_2(parsedInputContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes(j,"qsp-input-content");return jsxRuntimeExports.jsx(Description$1,{asChild:!0,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(Markup,{content:$}))})})},QspInputTag=({attrs:j})=>{const[,$,_e]=useAttributes(j,"input","qsp-input-tag"),et=useAtom_2(input$),tt=nt=>{input$.actions.enter(nt.target.value)};return jsxRuntimeExports.jsx("input",{style:$,..._e,type:"text",value:et.entered,onInput:tt,autoFocus:!0})};function createCollection(j){const $=j+"CollectionProvider",[_e,et]=createContextScope($),[tt,nt]=_e($,{collectionRef:{current:null},itemMap:new Map}),rt=dt=>{const{scope:pt,children:gt}=dt,yt=React$1.useRef(null),mt=React$1.useRef(new Map).current;return jsxRuntimeExports.jsx(tt,{scope:pt,itemMap:mt,collectionRef:yt,children:gt})};rt.displayName=$;const ot=j+"CollectionSlot",it=React$1.forwardRef((dt,pt)=>{const{scope:gt,children:yt}=dt,mt=nt(ot,gt),vt=useComposedRefs(pt,mt.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:vt,children:yt})});it.displayName=ot;const at=j+"CollectionItemSlot",ft="data-radix-collection-item",st=React$1.forwardRef((dt,pt)=>{const{scope:gt,children:yt,...mt}=dt,vt=React$1.useRef(null),_t=useComposedRefs(pt,vt),Ct=nt(at,gt);return React$1.useEffect(()=>(Ct.itemMap.set(vt,{ref:vt,...mt}),()=>void Ct.itemMap.delete(vt))),jsxRuntimeExports.jsx(Slot,{[ft]:"",ref:_t,children:yt})});st.displayName=at;function ut(dt){const pt=nt(j+"CollectionConsumer",dt);return React$1.useCallback(()=>{const yt=pt.collectionRef.current;if(!yt)return[];const mt=Array.from(yt.querySelectorAll(`[${ft}]`));return Array.from(pt.itemMap.values()).sort((Ct,At)=>mt.indexOf(Ct.ref.current)-mt.indexOf(At.ref.current))},[pt.collectionRef,pt.itemMap])}return[{Provider:rt,Slot:it,ItemSlot:st},ut,et]}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=j=>({x:j,y:j}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(j,$,_e){return max(j,min($,_e))}function evaluate(j,$){return typeof j=="function"?j($):j}function getSide(j){return j.split("-")[0]}function getAlignment(j){return j.split("-")[1]}function getOppositeAxis(j){return j==="x"?"y":"x"}function getAxisLength(j){return j==="y"?"height":"width"}function getSideAxis(j){return["top","bottom"].includes(getSide(j))?"y":"x"}function getAlignmentAxis(j){return getOppositeAxis(getSideAxis(j))}function getAlignmentSides(j,$,_e){_e===void 0&&(_e=!1);const et=getAlignment(j),tt=getAlignmentAxis(j),nt=getAxisLength(tt);let rt=tt==="x"?et===(_e?"end":"start")?"right":"left":et==="start"?"bottom":"top";return $.reference[nt]>$.floating[nt]&&(rt=getOppositePlacement(rt)),[rt,getOppositePlacement(rt)]}function getExpandedPlacements(j){const $=getOppositePlacement(j);return[getOppositeAlignmentPlacement(j),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(j){return j.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(j,$,_e){const et=["left","right"],tt=["right","left"],nt=["top","bottom"],rt=["bottom","top"];switch(j){case"top":case"bottom":return _e?$?tt:et:$?et:tt;case"left":case"right":return $?nt:rt;default:return[]}}function getOppositeAxisPlacements(j,$,_e,et){const tt=getAlignment(j);let nt=getSideList(getSide(j),_e==="start",et);return tt&&(nt=nt.map(rt=>rt+"-"+tt),$&&(nt=nt.concat(nt.map(getOppositeAlignmentPlacement)))),nt}function getOppositePlacement(j){return j.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(j){return{top:0,right:0,bottom:0,left:0,...j}}function getPaddingObject(j){return typeof j!="number"?expandPaddingObject(j):{top:j,right:j,bottom:j,left:j}}function rectToClientRect(j){return{...j,top:j.y,left:j.x,right:j.x+j.width,bottom:j.y+j.height}}function computeCoordsFromPlacement(j,$,_e){let{reference:et,floating:tt}=j;const nt=getSideAxis($),rt=getAlignmentAxis($),ot=getAxisLength(rt),it=getSide($),at=nt==="y",ft=et.x+et.width/2-tt.width/2,st=et.y+et.height/2-tt.height/2,ut=et[ot]/2-tt[ot]/2;let dt;switch(it){case"top":dt={x:ft,y:et.y-tt.height};break;case"bottom":dt={x:ft,y:et.y+et.height};break;case"right":dt={x:et.x+et.width,y:st};break;case"left":dt={x:et.x-tt.width,y:st};break;default:dt={x:et.x,y:et.y}}switch(getAlignment($)){case"start":dt[rt]-=ut*(_e&&at?-1:1);break;case"end":dt[rt]+=ut*(_e&&at?-1:1);break}return dt}const computePosition$1=async(j,$,_e)=>{const{placement:et="bottom",strategy:tt="absolute",middleware:nt=[],platform:rt}=_e,ot=nt.filter(Boolean),it=await(rt.isRTL==null?void 0:rt.isRTL($));let at=await rt.getElementRects({reference:j,floating:$,strategy:tt}),{x:ft,y:st}=computeCoordsFromPlacement(at,et,it),ut=et,dt={},pt=0;for(let gt=0;gt<ot.length;gt++){const{name:yt,fn:mt}=ot[gt],{x:vt,y:_t,data:Ct,reset:At}=await mt({x:ft,y:st,initialPlacement:et,placement:ut,strategy:tt,middlewareData:dt,rects:at,platform:rt,elements:{reference:j,floating:$}});if(ft=vt??ft,st=_t??st,dt={...dt,[yt]:{...dt[yt],...Ct}},At&&pt<=50){pt++,typeof At=="object"&&(At.placement&&(ut=At.placement),At.rects&&(at=At.rects===!0?await rt.getElementRects({reference:j,floating:$,strategy:tt}):At.rects),{x:ft,y:st}=computeCoordsFromPlacement(at,ut,it)),gt=-1;continue}}return{x:ft,y:st,placement:ut,strategy:tt,middlewareData:dt}};async function detectOverflow(j,$){var _e;$===void 0&&($={});const{x:et,y:tt,platform:nt,rects:rt,elements:ot,strategy:it}=j,{boundary:at="clippingAncestors",rootBoundary:ft="viewport",elementContext:st="floating",altBoundary:ut=!1,padding:dt=0}=evaluate($,j),pt=getPaddingObject(dt),yt=ot[ut?st==="floating"?"reference":"floating":st],mt=rectToClientRect(await nt.getClippingRect({element:(_e=await(nt.isElement==null?void 0:nt.isElement(yt)))==null||_e?yt:yt.contextElement||await(nt.getDocumentElement==null?void 0:nt.getDocumentElement(ot.floating)),boundary:at,rootBoundary:ft,strategy:it})),vt=st==="floating"?{...rt.floating,x:et,y:tt}:rt.reference,_t=await(nt.getOffsetParent==null?void 0:nt.getOffsetParent(ot.floating)),Ct=await(nt.isElement==null?void 0:nt.isElement(_t))?await(nt.getScale==null?void 0:nt.getScale(_t))||{x:1,y:1}:{x:1,y:1},At=rectToClientRect(nt.convertOffsetParentRelativeRectToViewportRelativeRect?await nt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:vt,offsetParent:_t,strategy:it}):vt);return{top:(mt.top-At.top+pt.top)/Ct.y,bottom:(At.bottom-mt.bottom+pt.bottom)/Ct.y,left:(mt.left-At.left+pt.left)/Ct.x,right:(At.right-mt.right+pt.right)/Ct.x}}const arrow$1=j=>({name:"arrow",options:j,async fn($){const{x:_e,y:et,placement:tt,rects:nt,platform:rt,elements:ot,middlewareData:it}=$,{element:at,padding:ft=0}=evaluate(j,$)||{};if(at==null)return{};const st=getPaddingObject(ft),ut={x:_e,y:et},dt=getAlignmentAxis(tt),pt=getAxisLength(dt),gt=await rt.getDimensions(at),yt=dt==="y",mt=yt?"top":"left",vt=yt?"bottom":"right",_t=yt?"clientHeight":"clientWidth",Ct=nt.reference[pt]+nt.reference[dt]-ut[dt]-nt.floating[pt],At=ut[dt]-nt.reference[dt],kt=await(rt.getOffsetParent==null?void 0:rt.getOffsetParent(at));let St=kt?kt[_t]:0;(!St||!await(rt.isElement==null?void 0:rt.isElement(kt)))&&(St=ot.floating[_t]||nt.floating[pt]);const wt=Ct/2-At/2,It=St/2-gt[pt]/2-1,Ut=min(st[mt],It),Yt=min(st[vt],It),rn=Ut,hn=St-gt[pt]-Yt,Vt=St/2-gt[pt]/2+wt,Zt=clamp(rn,Vt,hn),en=!it.arrow&&getAlignment(tt)!=null&&Vt!=Zt&&nt.reference[pt]/2-(Vt<rn?Ut:Yt)-gt[pt]/2<0,fn=en?Vt<rn?Vt-rn:Vt-hn:0;return{[dt]:ut[dt]+fn,data:{[dt]:Zt,centerOffset:Vt-Zt-fn,...en&&{alignmentOffset:fn}},reset:en}}}),flip=function(j){return j===void 0&&(j={}),{name:"flip",options:j,async fn($){var _e,et;const{placement:tt,middlewareData:nt,rects:rt,initialPlacement:ot,platform:it,elements:at}=$,{mainAxis:ft=!0,crossAxis:st=!0,fallbackPlacements:ut,fallbackStrategy:dt="bestFit",fallbackAxisSideDirection:pt="none",flipAlignment:gt=!0,...yt}=evaluate(j,$);if((_e=nt.arrow)!=null&&_e.alignmentOffset)return{};const mt=getSide(tt),vt=getSide(ot)===ot,_t=await(it.isRTL==null?void 0:it.isRTL(at.floating)),Ct=ut||(vt||!gt?[getOppositePlacement(ot)]:getExpandedPlacements(ot));!ut&&pt!=="none"&&Ct.push(...getOppositeAxisPlacements(ot,gt,pt,_t));const At=[ot,...Ct],kt=await detectOverflow($,yt),St=[];let wt=((et=nt.flip)==null?void 0:et.overflows)||[];if(ft&&St.push(kt[mt]),st){const rn=getAlignmentSides(tt,rt,_t);St.push(kt[rn[0]],kt[rn[1]])}if(wt=[...wt,{placement:tt,overflows:St}],!St.every(rn=>rn<=0)){var It,Ut;const rn=(((It=nt.flip)==null?void 0:It.index)||0)+1,hn=At[rn];if(hn)return{data:{index:rn,overflows:wt},reset:{placement:hn}};let Vt=(Ut=wt.filter(Zt=>Zt.overflows[0]<=0).sort((Zt,en)=>Zt.overflows[1]-en.overflows[1])[0])==null?void 0:Ut.placement;if(!Vt)switch(dt){case"bestFit":{var Yt;const Zt=(Yt=wt.map(en=>[en.placement,en.overflows.filter(fn=>fn>0).reduce((fn,zt)=>fn+zt,0)]).sort((en,fn)=>en[1]-fn[1])[0])==null?void 0:Yt[0];Zt&&(Vt=Zt);break}case"initialPlacement":Vt=ot;break}if(tt!==Vt)return{reset:{placement:Vt}}}return{}}}};function getSideOffsets(j,$){return{top:j.top-$.height,right:j.right-$.width,bottom:j.bottom-$.height,left:j.left-$.width}}function isAnySideFullyClipped(j){return sides.some($=>j[$]>=0)}const hide=function(j){return j===void 0&&(j={}),{name:"hide",options:j,async fn($){const{rects:_e}=$,{strategy:et="referenceHidden",...tt}=evaluate(j,$);switch(et){case"referenceHidden":{const nt=await detectOverflow($,{...tt,elementContext:"reference"}),rt=getSideOffsets(nt,_e.reference);return{data:{referenceHiddenOffsets:rt,referenceHidden:isAnySideFullyClipped(rt)}}}case"escaped":{const nt=await detectOverflow($,{...tt,altBoundary:!0}),rt=getSideOffsets(nt,_e.floating);return{data:{escapedOffsets:rt,escaped:isAnySideFullyClipped(rt)}}}default:return{}}}}};async function convertValueToCoords(j,$){const{placement:_e,platform:et,elements:tt}=j,nt=await(et.isRTL==null?void 0:et.isRTL(tt.floating)),rt=getSide(_e),ot=getAlignment(_e),it=getSideAxis(_e)==="y",at=["left","top"].includes(rt)?-1:1,ft=nt&&it?-1:1,st=evaluate($,j);let{mainAxis:ut,crossAxis:dt,alignmentAxis:pt}=typeof st=="number"?{mainAxis:st,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...st};return ot&&typeof pt=="number"&&(dt=ot==="end"?pt*-1:pt),it?{x:dt*ft,y:ut*at}:{x:ut*at,y:dt*ft}}const offset=function(j){return j===void 0&&(j=0),{name:"offset",options:j,async fn($){var _e,et;const{x:tt,y:nt,placement:rt,middlewareData:ot}=$,it=await convertValueToCoords($,j);return rt===((_e=ot.offset)==null?void 0:_e.placement)&&(et=ot.arrow)!=null&&et.alignmentOffset?{}:{x:tt+it.x,y:nt+it.y,data:{...it,placement:rt}}}}},shift=function(j){return j===void 0&&(j={}),{name:"shift",options:j,async fn($){const{x:_e,y:et,placement:tt}=$,{mainAxis:nt=!0,crossAxis:rt=!1,limiter:ot={fn:yt=>{let{x:mt,y:vt}=yt;return{x:mt,y:vt}}},...it}=evaluate(j,$),at={x:_e,y:et},ft=await detectOverflow($,it),st=getSideAxis(getSide(tt)),ut=getOppositeAxis(st);let dt=at[ut],pt=at[st];if(nt){const yt=ut==="y"?"top":"left",mt=ut==="y"?"bottom":"right",vt=dt+ft[yt],_t=dt-ft[mt];dt=clamp(vt,dt,_t)}if(rt){const yt=st==="y"?"top":"left",mt=st==="y"?"bottom":"right",vt=pt+ft[yt],_t=pt-ft[mt];pt=clamp(vt,pt,_t)}const gt=ot.fn({...$,[ut]:dt,[st]:pt});return{...gt,data:{x:gt.x-_e,y:gt.y-et}}}}},limitShift=function(j){return j===void 0&&(j={}),{options:j,fn($){const{x:_e,y:et,placement:tt,rects:nt,middlewareData:rt}=$,{offset:ot=0,mainAxis:it=!0,crossAxis:at=!0}=evaluate(j,$),ft={x:_e,y:et},st=getSideAxis(tt),ut=getOppositeAxis(st);let dt=ft[ut],pt=ft[st];const gt=evaluate(ot,$),yt=typeof gt=="number"?{mainAxis:gt,crossAxis:0}:{mainAxis:0,crossAxis:0,...gt};if(it){const _t=ut==="y"?"height":"width",Ct=nt.reference[ut]-nt.floating[_t]+yt.mainAxis,At=nt.reference[ut]+nt.reference[_t]-yt.mainAxis;dt<Ct?dt=Ct:dt>At&&(dt=At)}if(at){var mt,vt;const _t=ut==="y"?"width":"height",Ct=["top","left"].includes(getSide(tt)),At=nt.reference[st]-nt.floating[_t]+(Ct&&((mt=rt.offset)==null?void 0:mt[st])||0)+(Ct?0:yt.crossAxis),kt=nt.reference[st]+nt.reference[_t]+(Ct?0:((vt=rt.offset)==null?void 0:vt[st])||0)-(Ct?yt.crossAxis:0);pt<At?pt=At:pt>kt&&(pt=kt)}return{[ut]:dt,[st]:pt}}}},size=function(j){return j===void 0&&(j={}),{name:"size",options:j,async fn($){const{placement:_e,rects:et,platform:tt,elements:nt}=$,{apply:rt=()=>{},...ot}=evaluate(j,$),it=await detectOverflow($,ot),at=getSide(_e),ft=getAlignment(_e),st=getSideAxis(_e)==="y",{width:ut,height:dt}=et.floating;let pt,gt;at==="top"||at==="bottom"?(pt=at,gt=ft===(await(tt.isRTL==null?void 0:tt.isRTL(nt.floating))?"start":"end")?"left":"right"):(gt=at,pt=ft==="end"?"top":"bottom");const yt=dt-it[pt],mt=ut-it[gt],vt=!$.middlewareData.shift;let _t=yt,Ct=mt;if(st){const kt=ut-it.left-it.right;Ct=ft||vt?min(mt,kt):kt}else{const kt=dt-it.top-it.bottom;_t=ft||vt?min(yt,kt):kt}if(vt&&!ft){const kt=max(it.left,0),St=max(it.right,0),wt=max(it.top,0),It=max(it.bottom,0);st?Ct=ut-2*(kt!==0||St!==0?kt+St:max(it.left,it.right)):_t=dt-2*(wt!==0||It!==0?wt+It:max(it.top,it.bottom))}await rt({...$,availableWidth:Ct,availableHeight:_t});const At=await tt.getDimensions(nt.floating);return ut!==At.width||dt!==At.height?{reset:{rects:!0}}:{}}}};function getNodeName(j){return isNode(j)?(j.nodeName||"").toLowerCase():"#document"}function getWindow(j){var $;return(j==null||($=j.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(j){var $;return($=(isNode(j)?j.ownerDocument:j.document)||window.document)==null?void 0:$.documentElement}function isNode(j){return j instanceof Node||j instanceof getWindow(j).Node}function isElement(j){return j instanceof Element||j instanceof getWindow(j).Element}function isHTMLElement$1(j){return j instanceof HTMLElement||j instanceof getWindow(j).HTMLElement}function isShadowRoot(j){return typeof ShadowRoot>"u"?!1:j instanceof ShadowRoot||j instanceof getWindow(j).ShadowRoot}function isOverflowElement(j){const{overflow:$,overflowX:_e,overflowY:et,display:tt}=getComputedStyle$1(j);return/auto|scroll|overlay|hidden|clip/.test($+et+_e)&&!["inline","contents"].includes(tt)}function isTableElement(j){return["table","td","th"].includes(getNodeName(j))}function isContainingBlock(j){const $=isWebKit(),_e=getComputedStyle$1(j);return _e.transform!=="none"||_e.perspective!=="none"||(_e.containerType?_e.containerType!=="normal":!1)||!$&&(_e.backdropFilter?_e.backdropFilter!=="none":!1)||!$&&(_e.filter?_e.filter!=="none":!1)||["transform","perspective","filter"].some(et=>(_e.willChange||"").includes(et))||["paint","layout","strict","content"].some(et=>(_e.contain||"").includes(et))}function getContainingBlock(j){let $=getParentNode(j);for(;isHTMLElement$1($)&&!isLastTraversableNode($);){if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(j){return["html","body","#document"].includes(getNodeName(j))}function getComputedStyle$1(j){return getWindow(j).getComputedStyle(j)}function getNodeScroll(j){return isElement(j)?{scrollLeft:j.scrollLeft,scrollTop:j.scrollTop}:{scrollLeft:j.pageXOffset,scrollTop:j.pageYOffset}}function getParentNode(j){if(getNodeName(j)==="html")return j;const $=j.assignedSlot||j.parentNode||isShadowRoot(j)&&j.host||getDocumentElement(j);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(j){const $=getParentNode(j);return isLastTraversableNode($)?j.ownerDocument?j.ownerDocument.body:j.body:isHTMLElement$1($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(j,$,_e){var et;$===void 0&&($=[]),_e===void 0&&(_e=!0);const tt=getNearestOverflowAncestor(j),nt=tt===((et=j.ownerDocument)==null?void 0:et.body),rt=getWindow(tt);return nt?$.concat(rt,rt.visualViewport||[],isOverflowElement(tt)?tt:[],rt.frameElement&&_e?getOverflowAncestors(rt.frameElement):[]):$.concat(tt,getOverflowAncestors(tt,[],_e))}function getCssDimensions(j){const $=getComputedStyle$1(j);let _e=parseFloat($.width)||0,et=parseFloat($.height)||0;const tt=isHTMLElement$1(j),nt=tt?j.offsetWidth:_e,rt=tt?j.offsetHeight:et,ot=round(_e)!==nt||round(et)!==rt;return ot&&(_e=nt,et=rt),{width:_e,height:et,$:ot}}function unwrapElement(j){return isElement(j)?j:j.contextElement}function getScale(j){const $=unwrapElement(j);if(!isHTMLElement$1($))return createCoords(1);const _e=$.getBoundingClientRect(),{width:et,height:tt,$:nt}=getCssDimensions($);let rt=(nt?round(_e.width):_e.width)/et,ot=(nt?round(_e.height):_e.height)/tt;return(!rt||!Number.isFinite(rt))&&(rt=1),(!ot||!Number.isFinite(ot))&&(ot=1),{x:rt,y:ot}}const noOffsets=createCoords(0);function getVisualOffsets(j){const $=getWindow(j);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(j,$,_e){return $===void 0&&($=!1),!_e||$&&_e!==getWindow(j)?!1:$}function getBoundingClientRect(j,$,_e,et){$===void 0&&($=!1),_e===void 0&&(_e=!1);const tt=j.getBoundingClientRect(),nt=unwrapElement(j);let rt=createCoords(1);$&&(et?isElement(et)&&(rt=getScale(et)):rt=getScale(j));const ot=shouldAddVisualOffsets(nt,_e,et)?getVisualOffsets(nt):createCoords(0);let it=(tt.left+ot.x)/rt.x,at=(tt.top+ot.y)/rt.y,ft=tt.width/rt.x,st=tt.height/rt.y;if(nt){const ut=getWindow(nt),dt=et&&isElement(et)?getWindow(et):et;let pt=ut.frameElement;for(;pt&&et&&dt!==ut;){const gt=getScale(pt),yt=pt.getBoundingClientRect(),mt=getComputedStyle$1(pt),vt=yt.left+(pt.clientLeft+parseFloat(mt.paddingLeft))*gt.x,_t=yt.top+(pt.clientTop+parseFloat(mt.paddingTop))*gt.y;it*=gt.x,at*=gt.y,ft*=gt.x,st*=gt.y,it+=vt,at+=_t,pt=getWindow(pt).frameElement}}return rectToClientRect({width:ft,height:st,x:it,y:at})}function convertOffsetParentRelativeRectToViewportRelativeRect(j){let{rect:$,offsetParent:_e,strategy:et}=j;const tt=isHTMLElement$1(_e),nt=getDocumentElement(_e);if(_e===nt)return $;let rt={scrollLeft:0,scrollTop:0},ot=createCoords(1);const it=createCoords(0);if((tt||!tt&&et!=="fixed")&&((getNodeName(_e)!=="body"||isOverflowElement(nt))&&(rt=getNodeScroll(_e)),isHTMLElement$1(_e))){const at=getBoundingClientRect(_e);ot=getScale(_e),it.x=at.x+_e.clientLeft,it.y=at.y+_e.clientTop}return{width:$.width*ot.x,height:$.height*ot.y,x:$.x*ot.x-rt.scrollLeft*ot.x+it.x,y:$.y*ot.y-rt.scrollTop*ot.y+it.y}}function getClientRects(j){return Array.from(j.getClientRects())}function getWindowScrollBarX(j){return getBoundingClientRect(getDocumentElement(j)).left+getNodeScroll(j).scrollLeft}function getDocumentRect(j){const $=getDocumentElement(j),_e=getNodeScroll(j),et=j.ownerDocument.body,tt=max($.scrollWidth,$.clientWidth,et.scrollWidth,et.clientWidth),nt=max($.scrollHeight,$.clientHeight,et.scrollHeight,et.clientHeight);let rt=-_e.scrollLeft+getWindowScrollBarX(j);const ot=-_e.scrollTop;return getComputedStyle$1(et).direction==="rtl"&&(rt+=max($.clientWidth,et.clientWidth)-tt),{width:tt,height:nt,x:rt,y:ot}}function getViewportRect(j,$){const _e=getWindow(j),et=getDocumentElement(j),tt=_e.visualViewport;let nt=et.clientWidth,rt=et.clientHeight,ot=0,it=0;if(tt){nt=tt.width,rt=tt.height;const at=isWebKit();(!at||at&&$==="fixed")&&(ot=tt.offsetLeft,it=tt.offsetTop)}return{width:nt,height:rt,x:ot,y:it}}function getInnerBoundingClientRect(j,$){const _e=getBoundingClientRect(j,!0,$==="fixed"),et=_e.top+j.clientTop,tt=_e.left+j.clientLeft,nt=isHTMLElement$1(j)?getScale(j):createCoords(1),rt=j.clientWidth*nt.x,ot=j.clientHeight*nt.y,it=tt*nt.x,at=et*nt.y;return{width:rt,height:ot,x:it,y:at}}function getClientRectFromClippingAncestor(j,$,_e){let et;if($==="viewport")et=getViewportRect(j,_e);else if($==="document")et=getDocumentRect(getDocumentElement(j));else if(isElement($))et=getInnerBoundingClientRect($,_e);else{const tt=getVisualOffsets(j);et={...$,x:$.x-tt.x,y:$.y-tt.y}}return rectToClientRect(et)}function hasFixedPositionAncestor(j,$){const _e=getParentNode(j);return _e===$||!isElement(_e)||isLastTraversableNode(_e)?!1:getComputedStyle$1(_e).position==="fixed"||hasFixedPositionAncestor(_e,$)}function getClippingElementAncestors(j,$){const _e=$.get(j);if(_e)return _e;let et=getOverflowAncestors(j,[],!1).filter(ot=>isElement(ot)&&getNodeName(ot)!=="body"),tt=null;const nt=getComputedStyle$1(j).position==="fixed";let rt=nt?getParentNode(j):j;for(;isElement(rt)&&!isLastTraversableNode(rt);){const ot=getComputedStyle$1(rt),it=isContainingBlock(rt);!it&&ot.position==="fixed"&&(tt=null),(nt?!it&&!tt:!it&&ot.position==="static"&&!!tt&&["absolute","fixed"].includes(tt.position)||isOverflowElement(rt)&&!it&&hasFixedPositionAncestor(j,rt))?et=et.filter(ft=>ft!==rt):tt=ot,rt=getParentNode(rt)}return $.set(j,et),et}function getClippingRect(j){let{element:$,boundary:_e,rootBoundary:et,strategy:tt}=j;const rt=[..._e==="clippingAncestors"?getClippingElementAncestors($,this._c):[].concat(_e),et],ot=rt[0],it=rt.reduce((at,ft)=>{const st=getClientRectFromClippingAncestor($,ft,tt);return at.top=max(st.top,at.top),at.right=min(st.right,at.right),at.bottom=min(st.bottom,at.bottom),at.left=max(st.left,at.left),at},getClientRectFromClippingAncestor($,ot,tt));return{width:it.right-it.left,height:it.bottom-it.top,x:it.left,y:it.top}}function getDimensions(j){return getCssDimensions(j)}function getRectRelativeToOffsetParent(j,$,_e){const et=isHTMLElement$1($),tt=getDocumentElement($),nt=_e==="fixed",rt=getBoundingClientRect(j,!0,nt,$);let ot={scrollLeft:0,scrollTop:0};const it=createCoords(0);if(et||!et&&!nt)if((getNodeName($)!=="body"||isOverflowElement(tt))&&(ot=getNodeScroll($)),et){const at=getBoundingClientRect($,!0,nt,$);it.x=at.x+$.clientLeft,it.y=at.y+$.clientTop}else tt&&(it.x=getWindowScrollBarX(tt));return{x:rt.left+ot.scrollLeft-it.x,y:rt.top+ot.scrollTop-it.y,width:rt.width,height:rt.height}}function getTrueOffsetParent(j,$){return!isHTMLElement$1(j)||getComputedStyle$1(j).position==="fixed"?null:$?$(j):j.offsetParent}function getOffsetParent(j,$){const _e=getWindow(j);if(!isHTMLElement$1(j))return _e;let et=getTrueOffsetParent(j,$);for(;et&&isTableElement(et)&&getComputedStyle$1(et).position==="static";)et=getTrueOffsetParent(et,$);return et&&(getNodeName(et)==="html"||getNodeName(et)==="body"&&getComputedStyle$1(et).position==="static"&&!isContainingBlock(et))?_e:et||getContainingBlock(j)||_e}const getElementRects=async function(j){let{reference:$,floating:_e,strategy:et}=j;const tt=this.getOffsetParent||getOffsetParent,nt=this.getDimensions;return{reference:getRectRelativeToOffsetParent($,await tt(_e),et),floating:{x:0,y:0,...await nt(_e)}}};function isRTL(j){return getComputedStyle$1(j).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(j,$){let _e=null,et;const tt=getDocumentElement(j);function nt(){clearTimeout(et),_e&&_e.disconnect(),_e=null}function rt(ot,it){ot===void 0&&(ot=!1),it===void 0&&(it=1),nt();const{left:at,top:ft,width:st,height:ut}=j.getBoundingClientRect();if(ot||$(),!st||!ut)return;const dt=floor(ft),pt=floor(tt.clientWidth-(at+st)),gt=floor(tt.clientHeight-(ft+ut)),yt=floor(at),vt={rootMargin:-dt+"px "+-pt+"px "+-gt+"px "+-yt+"px",threshold:max(0,min(1,it))||1};let _t=!0;function Ct(At){const kt=At[0].intersectionRatio;if(kt!==it){if(!_t)return rt();kt?rt(!1,kt):et=setTimeout(()=>{rt(!1,1e-7)},100)}_t=!1}try{_e=new IntersectionObserver(Ct,{...vt,root:tt.ownerDocument})}catch{_e=new IntersectionObserver(Ct,vt)}_e.observe(j)}return rt(!0),nt}function autoUpdate(j,$,_e,et){et===void 0&&(et={});const{ancestorScroll:tt=!0,ancestorResize:nt=!0,elementResize:rt=typeof ResizeObserver=="function",layoutShift:ot=typeof IntersectionObserver=="function",animationFrame:it=!1}=et,at=unwrapElement(j),ft=tt||nt?[...at?getOverflowAncestors(at):[],...getOverflowAncestors($)]:[];ft.forEach(mt=>{tt&&mt.addEventListener("scroll",_e,{passive:!0}),nt&&mt.addEventListener("resize",_e)});const st=at&&ot?observeMove(at,_e):null;let ut=-1,dt=null;rt&&(dt=new ResizeObserver(mt=>{let[vt]=mt;vt&&vt.target===at&&dt&&(dt.unobserve($),cancelAnimationFrame(ut),ut=requestAnimationFrame(()=>{dt&&dt.observe($)})),_e()}),at&&!it&&dt.observe(at),dt.observe($));let pt,gt=it?getBoundingClientRect(j):null;it&&yt();function yt(){const mt=getBoundingClientRect(j);gt&&(mt.x!==gt.x||mt.y!==gt.y||mt.width!==gt.width||mt.height!==gt.height)&&_e(),gt=mt,pt=requestAnimationFrame(yt)}return _e(),()=>{ft.forEach(mt=>{tt&&mt.removeEventListener("scroll",_e),nt&&mt.removeEventListener("resize",_e)}),st&&st(),dt&&dt.disconnect(),dt=null,it&&cancelAnimationFrame(pt)}}const computePosition=(j,$,_e)=>{const et=new Map,tt={platform,..._e},nt={...tt.platform,_c:et};return computePosition$1(j,$,{...tt,platform:nt})},arrow=j=>{function $(_e){return{}.hasOwnProperty.call(_e,"current")}return{name:"arrow",options:j,fn(_e){const{element:et,padding:tt}=typeof j=="function"?j(_e):j;return et&&$(et)?et.current!=null?arrow$1({element:et.current,padding:tt}).fn(_e):{}:et?arrow$1({element:et,padding:tt}).fn(_e):{}}}};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(j,$){if(j===$)return!0;if(typeof j!=typeof $)return!1;if(typeof j=="function"&&j.toString()===$.toString())return!0;let _e,et,tt;if(j&&$&&typeof j=="object"){if(Array.isArray(j)){if(_e=j.length,_e!=$.length)return!1;for(et=_e;et--!==0;)if(!deepEqual(j[et],$[et]))return!1;return!0}if(tt=Object.keys(j),_e=tt.length,_e!==Object.keys($).length)return!1;for(et=_e;et--!==0;)if(!{}.hasOwnProperty.call($,tt[et]))return!1;for(et=_e;et--!==0;){const nt=tt[et];if(!(nt==="_owner"&&j.$$typeof)&&!deepEqual(j[nt],$[nt]))return!1}return!0}return j!==j&&$!==$}function getDPR(j){return typeof window>"u"?1:(j.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(j,$){const _e=getDPR(j);return Math.round($*_e)/_e}function useLatestRef(j){const $=reactExports.useRef(j);return index(()=>{$.current=j}),$}function useFloating(j){j===void 0&&(j={});const{placement:$="bottom",strategy:_e="absolute",middleware:et=[],platform:tt,elements:{reference:nt,floating:rt}={},transform:ot=!0,whileElementsMounted:it,open:at}=j,[ft,st]=reactExports.useState({x:0,y:0,strategy:_e,placement:$,middlewareData:{},isPositioned:!1}),[ut,dt]=reactExports.useState(et);deepEqual(ut,et)||dt(et);const[pt,gt]=reactExports.useState(null),[yt,mt]=reactExports.useState(null),vt=reactExports.useCallback(en=>{en!=kt.current&&(kt.current=en,gt(en))},[gt]),_t=reactExports.useCallback(en=>{en!==St.current&&(St.current=en,mt(en))},[mt]),Ct=nt||pt,At=rt||yt,kt=reactExports.useRef(null),St=reactExports.useRef(null),wt=reactExports.useRef(ft),It=useLatestRef(it),Ut=useLatestRef(tt),Yt=reactExports.useCallback(()=>{if(!kt.current||!St.current)return;const en={placement:$,strategy:_e,middleware:ut};Ut.current&&(en.platform=Ut.current),computePosition(kt.current,St.current,en).then(fn=>{const zt={...fn,isPositioned:!0};rn.current&&!deepEqual(wt.current,zt)&&(wt.current=zt,reactDomExports.flushSync(()=>{st(zt)}))})},[ut,$,_e,Ut]);index(()=>{at===!1&&wt.current.isPositioned&&(wt.current.isPositioned=!1,st(en=>({...en,isPositioned:!1})))},[at]);const rn=reactExports.useRef(!1);index(()=>(rn.current=!0,()=>{rn.current=!1}),[]),index(()=>{if(Ct&&(kt.current=Ct),At&&(St.current=At),Ct&&At){if(It.current)return It.current(Ct,At,Yt);Yt()}},[Ct,At,Yt,It]);const hn=reactExports.useMemo(()=>({reference:kt,floating:St,setReference:vt,setFloating:_t}),[vt,_t]),Vt=reactExports.useMemo(()=>({reference:Ct,floating:At}),[Ct,At]),Zt=reactExports.useMemo(()=>{const en={position:_e,left:0,top:0};if(!Vt.floating)return en;const fn=roundByDPR(Vt.floating,ft.x),zt=roundByDPR(Vt.floating,ft.y);return ot?{...en,transform:"translate("+fn+"px, "+zt+"px)",...getDPR(Vt.floating)>=1.5&&{willChange:"transform"}}:{position:_e,left:fn,top:zt}},[_e,ot,Vt.floating,ft.x,ft.y]);return reactExports.useMemo(()=>({...ft,update:Yt,refs:hn,elements:Vt,floatingStyles:Zt}),[ft,Yt,hn,Vt,Zt])}var NAME$1="Arrow",Arrow$1=reactExports.forwardRef((j,$)=>{const{children:_e,width:et=10,height:tt=5,...nt}=j;return jsxRuntimeExports.jsx(Primitive.svg,{...nt,ref:$,width:et,height:tt,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:j.asChild?_e:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$1;var Root$4=Arrow$1;function useSize(j){const[$,_e]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(j){_e({width:j.offsetWidth,height:j.offsetHeight});const et=new ResizeObserver(tt=>{if(!Array.isArray(tt)||!tt.length)return;const nt=tt[0];let rt,ot;if("borderBoxSize"in nt){const it=nt.borderBoxSize,at=Array.isArray(it)?it[0]:it;rt=at.inlineSize,ot=at.blockSize}else rt=j.offsetWidth,ot=j.offsetHeight;_e({width:rt,height:ot})});return et.observe(j,{box:"border-box"}),()=>et.unobserve(j)}else _e(void 0)},[j]),$}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=j=>{const{__scopePopper:$,children:_e}=j,[et,tt]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:$,anchor:et,onAnchorChange:tt,children:_e})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((j,$)=>{const{__scopePopper:_e,virtualRef:et,...tt}=j,nt=usePopperContext(ANCHOR_NAME$1,_e),rt=reactExports.useRef(null),ot=useComposedRefs($,rt);return reactExports.useEffect(()=>{nt.onAnchorChange((et==null?void 0:et.current)||rt.current)}),et?null:jsxRuntimeExports.jsx(Primitive.div,{...tt,ref:ot})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$5="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$5),PopperContent=reactExports.forwardRef((j,$)=>{var tn,bn,Jt,Sn,$n,xn;const{__scopePopper:_e,side:et="bottom",sideOffset:tt=0,align:nt="center",alignOffset:rt=0,arrowPadding:ot=0,avoidCollisions:it=!0,collisionBoundary:at=[],collisionPadding:ft=0,sticky:st="partial",hideWhenDetached:ut=!1,updatePositionStrategy:dt="optimized",onPlaced:pt,...gt}=j,yt=usePopperContext(CONTENT_NAME$5,_e),[mt,vt]=reactExports.useState(null),_t=useComposedRefs($,Hn=>vt(Hn)),[Ct,At]=reactExports.useState(null),kt=useSize(Ct),St=(kt==null?void 0:kt.width)??0,wt=(kt==null?void 0:kt.height)??0,It=et+(nt!=="center"?"-"+nt:""),Ut=typeof ft=="number"?ft:{top:0,right:0,bottom:0,left:0,...ft},Yt=Array.isArray(at)?at:[at],rn=Yt.length>0,hn={padding:Ut,boundary:Yt.filter(isNotNull),altBoundary:rn},{refs:Vt,floatingStyles:Zt,placement:en,isPositioned:fn,middlewareData:zt}=useFloating({strategy:"fixed",placement:It,whileElementsMounted:(...Hn)=>autoUpdate(...Hn,{animationFrame:dt==="always"}),elements:{reference:yt.anchor},middleware:[offset({mainAxis:tt+wt,alignmentAxis:rt}),it&&shift({mainAxis:!0,crossAxis:!1,limiter:st==="partial"?limitShift():void 0,...hn}),it&&flip({...hn}),size({...hn,apply:({elements:Hn,rects:Qn,availableWidth:Kn,availableHeight:Yn})=>{const{width:lr,height:fr}=Qn.reference,ur=Hn.floating.style;ur.setProperty("--radix-popper-available-width",`${Kn}px`),ur.setProperty("--radix-popper-available-height",`${Yn}px`),ur.setProperty("--radix-popper-anchor-width",`${lr}px`),ur.setProperty("--radix-popper-anchor-height",`${fr}px`)}}),Ct&&arrow({element:Ct,padding:ot}),transformOrigin({arrowWidth:St,arrowHeight:wt}),ut&&hide({strategy:"referenceHidden",...hn})]}),[Wt,sn]=getSideAndAlignFromPlacement(en),nn=useCallbackRef$1(pt);useLayoutEffect2(()=>{fn&&(nn==null||nn())},[fn,nn]);const un=(tn=zt.arrow)==null?void 0:tn.x,wn=(bn=zt.arrow)==null?void 0:bn.y,vn=((Jt=zt.arrow)==null?void 0:Jt.centerOffset)!==0,[En,Cn]=reactExports.useState();return useLayoutEffect2(()=>{mt&&Cn(window.getComputedStyle(mt).zIndex)},[mt]),jsxRuntimeExports.jsx("div",{ref:Vt.setFloating,"data-radix-popper-content-wrapper":"",style:{...Zt,transform:fn?Zt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:En,"--radix-popper-transform-origin":[(Sn=zt.transformOrigin)==null?void 0:Sn.x,($n=zt.transformOrigin)==null?void 0:$n.y].join(" "),...((xn=zt.hide)==null?void 0:xn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:j.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:_e,placedSide:Wt,onArrowChange:At,arrowX:un,arrowY:wn,shouldHideArrow:vn,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Wt,"data-align":sn,...gt,ref:_t,style:{...gt.style,animation:fn?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$5;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function j($,_e){const{__scopePopper:et,...tt}=$,nt=useContentContext(ARROW_NAME$4,et),rt=OPPOSITE_SIDE[nt.placedSide];return jsxRuntimeExports.jsx("span",{ref:nt.onArrowChange,style:{position:"absolute",left:nt.arrowX,top:nt.arrowY,[rt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[nt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[nt.placedSide],visibility:nt.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$4,{...tt,ref:_e,style:{...tt.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$4;function isNotNull(j){return j!==null}var transformOrigin=j=>({name:"transformOrigin",options:j,fn($){var yt,mt,vt;const{placement:_e,rects:et,middlewareData:tt}=$,rt=((yt=tt.arrow)==null?void 0:yt.centerOffset)!==0,ot=rt?0:j.arrowWidth,it=rt?0:j.arrowHeight,[at,ft]=getSideAndAlignFromPlacement(_e),st={start:"0%",center:"50%",end:"100%"}[ft],ut=(((mt=tt.arrow)==null?void 0:mt.x)??0)+ot/2,dt=(((vt=tt.arrow)==null?void 0:vt.y)??0)+it/2;let pt="",gt="";return at==="bottom"?(pt=rt?st:`${ut}px`,gt=`${-it}px`):at==="top"?(pt=rt?st:`${ut}px`,gt=`${et.floating.height+it}px`):at==="right"?(pt=`${-it}px`,gt=rt?st:`${dt}px`):at==="left"&&(pt=`${et.floating.width+it}px`,gt=rt?st:`${dt}px`),{data:{x:pt,y:gt}}}});function getSideAndAlignFromPlacement(j){const[$,_e="center"]=j.split("-");return[$,_e]}var Root2$4=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$3="RovingFocusGroup",[Collection$4,useCollection$4,createCollectionScope$4]=createCollection(GROUP_NAME$3),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$3,[createCollectionScope$4]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$3),RovingFocusGroup=reactExports.forwardRef((j,$)=>jsxRuntimeExports.jsx(Collection$4.Provider,{scope:j.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$4.Slot,{scope:j.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...j,ref:$})})}));RovingFocusGroup.displayName=GROUP_NAME$3;var RovingFocusGroupImpl=reactExports.forwardRef((j,$)=>{const{__scopeRovingFocusGroup:_e,orientation:et,loop:tt=!1,dir:nt,currentTabStopId:rt,defaultCurrentTabStopId:ot,onCurrentTabStopIdChange:it,onEntryFocus:at,preventScrollOnEntryFocus:ft=!1,...st}=j,ut=reactExports.useRef(null),dt=useComposedRefs($,ut),pt=useDirection(nt),[gt=null,yt]=useControllableState({prop:rt,defaultProp:ot,onChange:it}),[mt,vt]=reactExports.useState(!1),_t=useCallbackRef$1(at),Ct=useCollection$4(_e),At=reactExports.useRef(!1),[kt,St]=reactExports.useState(0);return reactExports.useEffect(()=>{const wt=ut.current;if(wt)return wt.addEventListener(ENTRY_FOCUS,_t),()=>wt.removeEventListener(ENTRY_FOCUS,_t)},[_t]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:_e,orientation:et,dir:pt,loop:tt,currentTabStopId:gt,onItemFocus:reactExports.useCallback(wt=>yt(wt),[yt]),onItemShiftTab:reactExports.useCallback(()=>vt(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>St(wt=>wt+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>St(wt=>wt-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:mt||kt===0?-1:0,"data-orientation":et,...st,ref:dt,style:{outline:"none",...j.style},onMouseDown:composeEventHandlers(j.onMouseDown,()=>{At.current=!0}),onFocus:composeEventHandlers(j.onFocus,wt=>{const It=!At.current;if(wt.target===wt.currentTarget&&It&&!mt){const Ut=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(wt.currentTarget.dispatchEvent(Ut),!Ut.defaultPrevented){const Yt=Ct().filter(en=>en.focusable),rn=Yt.find(en=>en.active),hn=Yt.find(en=>en.id===gt),Zt=[rn,hn,...Yt].filter(Boolean).map(en=>en.ref.current);focusFirst$2(Zt,ft)}}At.current=!1}),onBlur:composeEventHandlers(j.onBlur,()=>vt(!1))})})}),ITEM_NAME$3="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((j,$)=>{const{__scopeRovingFocusGroup:_e,focusable:et=!0,active:tt=!1,tabStopId:nt,...rt}=j,ot=useId(),it=nt||ot,at=useRovingFocusContext(ITEM_NAME$3,_e),ft=at.currentTabStopId===it,st=useCollection$4(_e),{onFocusableItemAdd:ut,onFocusableItemRemove:dt}=at;return reactExports.useEffect(()=>{if(et)return ut(),()=>dt()},[et,ut,dt]),jsxRuntimeExports.jsx(Collection$4.ItemSlot,{scope:_e,id:it,focusable:et,active:tt,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:ft?0:-1,"data-orientation":at.orientation,...rt,ref:$,onMouseDown:composeEventHandlers(j.onMouseDown,pt=>{et?at.onItemFocus(it):pt.preventDefault()}),onFocus:composeEventHandlers(j.onFocus,()=>at.onItemFocus(it)),onKeyDown:composeEventHandlers(j.onKeyDown,pt=>{if(pt.key==="Tab"&&pt.shiftKey){at.onItemShiftTab();return}if(pt.target!==pt.currentTarget)return;const gt=getFocusIntent(pt,at.orientation,at.dir);if(gt!==void 0){if(pt.metaKey||pt.ctrlKey||pt.altKey||pt.shiftKey)return;pt.preventDefault();let mt=st().filter(vt=>vt.focusable).map(vt=>vt.ref.current);if(gt==="last")mt.reverse();else if(gt==="prev"||gt==="next"){gt==="prev"&&mt.reverse();const vt=mt.indexOf(pt.currentTarget);mt=at.loop?wrapArray$2(mt,vt+1):mt.slice(vt+1)}setTimeout(()=>focusFirst$2(mt))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME$3;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(j,$){return $!=="rtl"?j:j==="ArrowLeft"?"ArrowRight":j==="ArrowRight"?"ArrowLeft":j}function getFocusIntent(j,$,_e){const et=getDirectionAwareKey(j.key,_e);if(!($==="vertical"&&["ArrowLeft","ArrowRight"].includes(et))&&!($==="horizontal"&&["ArrowUp","ArrowDown"].includes(et)))return MAP_KEY_TO_FOCUS_INTENT[et]}function focusFirst$2(j,$=!1){const _e=document.activeElement;for(const et of j)if(et===_e||(et.focus({preventScroll:$}),document.activeElement!==_e))return}function wrapArray$2(j,$){return j.map((_e,et)=>j[($+et)%j.length])}var Root$3=RovingFocusGroup,Item$1=RovingFocusGroupItem,SELECTION_KEYS$1=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS$1,"ArrowRight"],rtl:[...SELECTION_KEYS$1,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope$3,createPopperScope,createRovingFocusGroupScope]),usePopperScope$2=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=j=>{const{__scopeMenu:$,open:_e=!1,children:et,dir:tt,onOpenChange:nt,modal:rt=!0}=j,ot=usePopperScope$2($),[it,at]=reactExports.useState(null),ft=reactExports.useRef(!1),st=useCallbackRef$1(nt),ut=useDirection(tt);return reactExports.useEffect(()=>{const dt=()=>{ft.current=!0,document.addEventListener("pointerdown",pt,{capture:!0,once:!0}),document.addEventListener("pointermove",pt,{capture:!0,once:!0})},pt=()=>ft.current=!1;return document.addEventListener("keydown",dt,{capture:!0}),()=>{document.removeEventListener("keydown",dt,{capture:!0}),document.removeEventListener("pointerdown",pt,{capture:!0}),document.removeEventListener("pointermove",pt,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$4,{...ot,children:jsxRuntimeExports.jsx(MenuProvider,{scope:$,open:_e,onOpenChange:st,content:it,onContentChange:at,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:$,onClose:reactExports.useCallback(()=>st(!1),[st]),isUsingKeyboardRef:ft,dir:ut,modal:rt,children:et})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,...et}=j,tt=usePopperScope$2(_e);return jsxRuntimeExports.jsx(Anchor,{...tt,...et,ref:$})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$4="MenuPortal",[PortalProvider$1,usePortalContext$1]=createMenuContext(PORTAL_NAME$4,{forceMount:void 0}),MenuPortal=j=>{const{__scopeMenu:$,forceMount:_e,children:et,container:tt}=j,nt=useMenuContext(PORTAL_NAME$4,$);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:$,forceMount:_e,children:jsxRuntimeExports.jsx(Presence,{present:_e||nt.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:tt,children:et})})})};MenuPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$4="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$4),MenuContent=reactExports.forwardRef((j,$)=>{const _e=usePortalContext$1(CONTENT_NAME$4,j.__scopeMenu),{forceMount:et=_e.forceMount,...tt}=j,nt=useMenuContext(CONTENT_NAME$4,j.__scopeMenu),rt=useMenuRootContext(CONTENT_NAME$4,j.__scopeMenu);return jsxRuntimeExports.jsx(Collection$3.Provider,{scope:j.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:j.__scopeMenu,children:rt.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...tt,ref:$}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...tt,ref:$})})})})}),MenuRootContentModal=reactExports.forwardRef((j,$)=>{const _e=useMenuContext(CONTENT_NAME$4,j.__scopeMenu),et=reactExports.useRef(null),tt=useComposedRefs($,et);return reactExports.useEffect(()=>{const nt=et.current;if(nt)return hideOthers(nt)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...j,ref:tt,trapFocus:_e.open,disableOutsidePointerEvents:_e.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(j.onFocusOutside,nt=>nt.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>_e.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((j,$)=>{const _e=useMenuContext(CONTENT_NAME$4,j.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...j,ref:$,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>_e.onOpenChange(!1)})}),MenuContentImpl=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,loop:et=!1,trapFocus:tt,onOpenAutoFocus:nt,onCloseAutoFocus:rt,disableOutsidePointerEvents:ot,onEntryFocus:it,onEscapeKeyDown:at,onPointerDownOutside:ft,onFocusOutside:st,onInteractOutside:ut,onDismiss:dt,disableOutsideScroll:pt,...gt}=j,yt=useMenuContext(CONTENT_NAME$4,_e),mt=useMenuRootContext(CONTENT_NAME$4,_e),vt=usePopperScope$2(_e),_t=useRovingFocusGroupScope(_e),Ct=useCollection$3(_e),[At,kt]=reactExports.useState(null),St=reactExports.useRef(null),wt=useComposedRefs($,St,yt.onContentChange),It=reactExports.useRef(0),Ut=reactExports.useRef(""),Yt=reactExports.useRef(0),rn=reactExports.useRef(null),hn=reactExports.useRef("right"),Vt=reactExports.useRef(0),Zt=pt?ReactRemoveScroll:reactExports.Fragment,en=pt?{as:Slot,allowPinchZoom:!0}:void 0,fn=Wt=>{var tn,bn;const sn=Ut.current+Wt,nn=Ct().filter(Jt=>!Jt.disabled),un=document.activeElement,wn=(tn=nn.find(Jt=>Jt.ref.current===un))==null?void 0:tn.textValue,vn=nn.map(Jt=>Jt.textValue),En=getNextMatch(vn,sn,wn),Cn=(bn=nn.find(Jt=>Jt.textValue===En))==null?void 0:bn.ref.current;(function Jt(Sn){Ut.current=Sn,window.clearTimeout(It.current),Sn!==""&&(It.current=window.setTimeout(()=>Jt(""),1e3))})(sn),Cn&&setTimeout(()=>Cn.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(It.current),[]),useFocusGuards();const zt=reactExports.useCallback(Wt=>{var nn,un;return hn.current===((nn=rn.current)==null?void 0:nn.side)&&isPointerInGraceArea(Wt,(un=rn.current)==null?void 0:un.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:_e,searchRef:Ut,onItemEnter:reactExports.useCallback(Wt=>{zt(Wt)&&Wt.preventDefault()},[zt]),onItemLeave:reactExports.useCallback(Wt=>{var sn;zt(Wt)||((sn=St.current)==null||sn.focus(),kt(null))},[zt]),onTriggerLeave:reactExports.useCallback(Wt=>{zt(Wt)&&Wt.preventDefault()},[zt]),pointerGraceTimerRef:Yt,onPointerGraceIntentChange:reactExports.useCallback(Wt=>{rn.current=Wt},[]),children:jsxRuntimeExports.jsx(Zt,{...en,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:tt,onMountAutoFocus:composeEventHandlers(nt,Wt=>{var sn;Wt.preventDefault(),(sn=St.current)==null||sn.focus({preventScroll:!0})}),onUnmountAutoFocus:rt,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:ot,onEscapeKeyDown:at,onPointerDownOutside:ft,onFocusOutside:st,onInteractOutside:ut,onDismiss:dt,children:jsxRuntimeExports.jsx(Root$3,{asChild:!0,..._t,dir:mt.dir,orientation:"vertical",loop:et,currentTabStopId:At,onCurrentTabStopIdChange:kt,onEntryFocus:composeEventHandlers(it,Wt=>{mt.isUsingKeyboardRef.current||Wt.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(yt.open),"data-radix-menu-content":"",dir:mt.dir,...vt,...gt,ref:wt,style:{outline:"none",...gt.style},onKeyDown:composeEventHandlers(gt.onKeyDown,Wt=>{const nn=Wt.target.closest("[data-radix-menu-content]")===Wt.currentTarget,un=Wt.ctrlKey||Wt.altKey||Wt.metaKey,wn=Wt.key.length===1;nn&&(Wt.key==="Tab"&&Wt.preventDefault(),!un&&wn&&fn(Wt.key));const vn=St.current;if(Wt.target!==vn||!FIRST_LAST_KEYS.includes(Wt.key))return;Wt.preventDefault();const Cn=Ct().filter(tn=>!tn.disabled).map(tn=>tn.ref.current);LAST_KEYS.includes(Wt.key)&&Cn.reverse(),focusFirst$1(Cn)}),onBlur:composeEventHandlers(j.onBlur,Wt=>{Wt.currentTarget.contains(Wt.target)||(window.clearTimeout(It.current),Ut.current="")}),onPointerMove:composeEventHandlers(j.onPointerMove,whenMouse(Wt=>{const sn=Wt.target,nn=Vt.current!==Wt.clientX;if(Wt.currentTarget.contains(sn)&&nn){const un=Wt.clientX>Vt.current?"right":"left";hn.current=un,Vt.current=Wt.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$4;var GROUP_NAME$2="MenuGroup",MenuGroup=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...et,ref:$})});MenuGroup.displayName=GROUP_NAME$2;var LABEL_NAME$2="MenuLabel",MenuLabel=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.div,{...et,ref:$})});MenuLabel.displayName=LABEL_NAME$2;var ITEM_NAME$2="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((j,$)=>{const{disabled:_e=!1,onSelect:et,...tt}=j,nt=reactExports.useRef(null),rt=useMenuRootContext(ITEM_NAME$2,j.__scopeMenu),ot=useMenuContentContext(ITEM_NAME$2,j.__scopeMenu),it=useComposedRefs($,nt),at=reactExports.useRef(!1),ft=()=>{const st=nt.current;if(!_e&&st){const ut=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});st.addEventListener(ITEM_SELECT,dt=>et==null?void 0:et(dt),{once:!0}),dispatchDiscreteCustomEvent(st,ut),ut.defaultPrevented?at.current=!1:rt.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...tt,ref:it,disabled:_e,onClick:composeEventHandlers(j.onClick,ft),onPointerDown:st=>{var ut;(ut=j.onPointerDown)==null||ut.call(j,st),at.current=!0},onPointerUp:composeEventHandlers(j.onPointerUp,st=>{var ut;at.current||(ut=st.currentTarget)==null||ut.click()}),onKeyDown:composeEventHandlers(j.onKeyDown,st=>{const ut=ot.searchRef.current!=="";_e||ut&&st.key===" "||SELECTION_KEYS$1.includes(st.key)&&(st.currentTarget.click(),st.preventDefault())})})});MenuItem.displayName=ITEM_NAME$2;var MenuItemImpl=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,disabled:et=!1,textValue:tt,...nt}=j,rt=useMenuContentContext(ITEM_NAME$2,_e),ot=useRovingFocusGroupScope(_e),it=reactExports.useRef(null),at=useComposedRefs($,it),[ft,st]=reactExports.useState(!1),[ut,dt]=reactExports.useState("");return reactExports.useEffect(()=>{const pt=it.current;pt&&dt((pt.textContent??"").trim())},[nt.children]),jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:_e,disabled:et,textValue:tt??ut,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...ot,focusable:!et,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":ft?"":void 0,"aria-disabled":et||void 0,"data-disabled":et?"":void 0,...nt,ref:at,onPointerMove:composeEventHandlers(j.onPointerMove,whenMouse(pt=>{et?rt.onItemLeave(pt):(rt.onItemEnter(pt),pt.defaultPrevented||pt.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(j.onPointerLeave,whenMouse(pt=>rt.onItemLeave(pt))),onFocus:composeEventHandlers(j.onFocus,()=>st(!0)),onBlur:composeEventHandlers(j.onBlur,()=>st(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((j,$)=>{const{checked:_e=!1,onCheckedChange:et,...tt}=j;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:j.__scopeMenu,checked:_e,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(_e)?"mixed":_e,...tt,ref:$,"data-state":getCheckedState(_e),onSelect:composeEventHandlers(tt.onSelect,()=>et==null?void 0:et(isIndeterminate(_e)?!0:!_e),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((j,$)=>{const{value:_e,onValueChange:et,...tt}=j,nt=useCallbackRef$1(et);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:j.__scopeMenu,value:_e,onValueChange:nt,children:jsxRuntimeExports.jsx(MenuGroup,{...tt,ref:$})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((j,$)=>{const{value:_e,...et}=j,tt=useRadioGroupContext(RADIO_ITEM_NAME$1,j.__scopeMenu),nt=_e===tt.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:j.__scopeMenu,checked:nt,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":nt,...et,ref:$,"data-state":getCheckedState(nt),onSelect:composeEventHandlers(et.onSelect,()=>{var rt;return(rt=tt.onValueChange)==null?void 0:rt.call(tt,_e)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME$1="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME$1,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,forceMount:et,...tt}=j,nt=useItemIndicatorContext(ITEM_INDICATOR_NAME$1,_e);return jsxRuntimeExports.jsx(Presence,{present:et||isIndeterminate(nt.checked)||nt.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...tt,ref:$,"data-state":getCheckedState(nt.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SEPARATOR_NAME$2="MenuSeparator",MenuSeparator=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...et,ref:$})});MenuSeparator.displayName=SEPARATOR_NAME$2;var ARROW_NAME$3="MenuArrow",MenuArrow=reactExports.forwardRef((j,$)=>{const{__scopeMenu:_e,...et}=j,tt=usePopperScope$2(_e);return jsxRuntimeExports.jsx(Arrow,{...tt,...et,ref:$})});MenuArrow.displayName=ARROW_NAME$3;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((j,$)=>{const _e=useMenuContext(SUB_TRIGGER_NAME$1,j.__scopeMenu),et=useMenuRootContext(SUB_TRIGGER_NAME$1,j.__scopeMenu),tt=useMenuSubContext(SUB_TRIGGER_NAME$1,j.__scopeMenu),nt=useMenuContentContext(SUB_TRIGGER_NAME$1,j.__scopeMenu),rt=reactExports.useRef(null),{pointerGraceTimerRef:ot,onPointerGraceIntentChange:it}=nt,at={__scopeMenu:j.__scopeMenu},ft=reactExports.useCallback(()=>{rt.current&&window.clearTimeout(rt.current),rt.current=null},[]);return reactExports.useEffect(()=>ft,[ft]),reactExports.useEffect(()=>{const st=ot.current;return()=>{window.clearTimeout(st),it(null)}},[ot,it]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...at,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:tt.triggerId,"aria-haspopup":"menu","aria-expanded":_e.open,"aria-controls":tt.contentId,"data-state":getOpenState(_e.open),...j,ref:composeRefs($,tt.onTriggerChange),onClick:st=>{var ut;(ut=j.onClick)==null||ut.call(j,st),!(j.disabled||st.defaultPrevented)&&(st.currentTarget.focus(),_e.open||_e.onOpenChange(!0))},onPointerMove:composeEventHandlers(j.onPointerMove,whenMouse(st=>{nt.onItemEnter(st),!st.defaultPrevented&&!j.disabled&&!_e.open&&!rt.current&&(nt.onPointerGraceIntentChange(null),rt.current=window.setTimeout(()=>{_e.onOpenChange(!0),ft()},100))})),onPointerLeave:composeEventHandlers(j.onPointerLeave,whenMouse(st=>{var dt,pt;ft();const ut=(dt=_e.content)==null?void 0:dt.getBoundingClientRect();if(ut){const gt=(pt=_e.content)==null?void 0:pt.dataset.side,yt=gt==="right",mt=yt?-5:5,vt=ut[yt?"left":"right"],_t=ut[yt?"right":"left"];nt.onPointerGraceIntentChange({area:[{x:st.clientX+mt,y:st.clientY},{x:vt,y:ut.top},{x:_t,y:ut.top},{x:_t,y:ut.bottom},{x:vt,y:ut.bottom}],side:gt}),window.clearTimeout(ot.current),ot.current=window.setTimeout(()=>nt.onPointerGraceIntentChange(null),300)}else{if(nt.onTriggerLeave(st),st.defaultPrevented)return;nt.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(j.onKeyDown,st=>{var dt;const ut=nt.searchRef.current!=="";j.disabled||ut&&st.key===" "||SUB_OPEN_KEYS[et.dir].includes(st.key)&&(_e.onOpenChange(!0),(dt=_e.content)==null||dt.focus(),st.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((j,$)=>{const _e=usePortalContext$1(CONTENT_NAME$4,j.__scopeMenu),{forceMount:et=_e.forceMount,...tt}=j,nt=useMenuContext(CONTENT_NAME$4,j.__scopeMenu),rt=useMenuRootContext(CONTENT_NAME$4,j.__scopeMenu),ot=useMenuSubContext(SUB_CONTENT_NAME$1,j.__scopeMenu),it=reactExports.useRef(null),at=useComposedRefs($,it);return jsxRuntimeExports.jsx(Collection$3.Provider,{scope:j.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:jsxRuntimeExports.jsx(Collection$3.Slot,{scope:j.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:ot.contentId,"aria-labelledby":ot.triggerId,...tt,ref:at,align:"start",side:rt.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:ft=>{var st;rt.isUsingKeyboardRef.current&&((st=it.current)==null||st.focus()),ft.preventDefault()},onCloseAutoFocus:ft=>ft.preventDefault(),onFocusOutside:composeEventHandlers(j.onFocusOutside,ft=>{ft.target!==ot.trigger&&nt.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(j.onEscapeKeyDown,ft=>{rt.onClose(),ft.preventDefault()}),onKeyDown:composeEventHandlers(j.onKeyDown,ft=>{var dt;const st=ft.currentTarget.contains(ft.target),ut=SUB_CLOSE_KEYS[rt.dir].includes(ft.key);st&&ut&&(nt.onOpenChange(!1),(dt=ot.trigger)==null||dt.focus(),ft.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(j){return j?"open":"closed"}function isIndeterminate(j){return j==="indeterminate"}function getCheckedState(j){return isIndeterminate(j)?"indeterminate":j?"checked":"unchecked"}function focusFirst$1(j){const $=document.activeElement;for(const _e of j)if(_e===$||(_e.focus(),document.activeElement!==$))return}function wrapArray$1(j,$){return j.map((_e,et)=>j[($+et)%j.length])}function getNextMatch(j,$,_e){const tt=$.length>1&&Array.from($).every(at=>at===$[0])?$[0]:$,nt=_e?j.indexOf(_e):-1;let rt=wrapArray$1(j,Math.max(nt,0));tt.length===1&&(rt=rt.filter(at=>at!==_e));const it=rt.find(at=>at.toLowerCase().startsWith(tt.toLowerCase()));return it!==_e?it:void 0}function isPointInPolygon$1(j,$){const{x:_e,y:et}=j;let tt=!1;for(let nt=0,rt=$.length-1;nt<$.length;rt=nt++){const ot=$[nt].x,it=$[nt].y,at=$[rt].x,ft=$[rt].y;it>et!=ft>et&&_e<(at-ot)*(et-it)/(ft-it)+ot&&(tt=!tt)}return tt}function isPointerInGraceArea(j,$){if(!$)return!1;const _e={x:j.clientX,y:j.clientY};return isPointInPolygon$1(_e,$)}function whenMouse(j){return $=>$.pointerType==="mouse"?j($):void 0}var Root3$1=Menu,Anchor2=MenuAnchor,Portal$2=MenuPortal,Content2$4=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator$1=MenuItemIndicator,Separator=MenuSeparator,Arrow2$1=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu=j=>{const{__scopeDropdownMenu:$,children:_e,dir:et,open:tt,defaultOpen:nt,onOpenChange:rt,modal:ot=!0}=j,it=useMenuScope($),at=reactExports.useRef(null),[ft=!1,st]=useControllableState({prop:tt,defaultProp:nt,onChange:rt});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:$,triggerId:useId(),triggerRef:at,contentId:useId(),open:ft,onOpenChange:st,onOpenToggle:reactExports.useCallback(()=>st(ut=>!ut),[st]),modal:ot,children:jsxRuntimeExports.jsx(Root3$1,{...it,open:ft,onOpenChange:st,dir:et,modal:ot,children:_e})})};DropdownMenu.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$3="DropdownMenuTrigger",DropdownMenuTrigger=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,disabled:et=!1,...tt}=j,nt=useDropdownMenuContext(TRIGGER_NAME$3,_e),rt=useMenuScope(_e);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...rt,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:nt.triggerId,"aria-haspopup":"menu","aria-expanded":nt.open,"aria-controls":nt.open?nt.contentId:void 0,"data-state":nt.open?"open":"closed","data-disabled":et?"":void 0,disabled:et,...tt,ref:composeRefs($,nt.triggerRef),onPointerDown:composeEventHandlers(j.onPointerDown,ot=>{!et&&ot.button===0&&ot.ctrlKey===!1&&(nt.onOpenToggle(),nt.open||ot.preventDefault())}),onKeyDown:composeEventHandlers(j.onKeyDown,ot=>{et||(["Enter"," "].includes(ot.key)&&nt.onOpenToggle(),ot.key==="ArrowDown"&&nt.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(ot.key)&&ot.preventDefault())})})})});DropdownMenuTrigger.displayName=TRIGGER_NAME$3;var PORTAL_NAME$3="DropdownMenuPortal",DropdownMenuPortal=j=>{const{__scopeDropdownMenu:$,..._e}=j,et=useMenuScope($);return jsxRuntimeExports.jsx(Portal$2,{...et,..._e})};DropdownMenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$3="DropdownMenuContent",DropdownMenuContent=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useDropdownMenuContext(CONTENT_NAME$3,_e),nt=useMenuScope(_e),rt=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$4,{id:tt.contentId,"aria-labelledby":tt.triggerId,...nt,...et,ref:$,onCloseAutoFocus:composeEventHandlers(j.onCloseAutoFocus,ot=>{var it;rt.current||(it=tt.triggerRef.current)==null||it.focus(),rt.current=!1,ot.preventDefault()}),onInteractOutside:composeEventHandlers(j.onInteractOutside,ot=>{const it=ot.detail.originalEvent,at=it.button===0&&it.ctrlKey===!0,ft=it.button===2||at;(!tt.modal||ft)&&(rt.current=!0)}),style:{...j.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent.displayName=CONTENT_NAME$3;var GROUP_NAME$1="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Group,{...tt,...et,ref:$})});DropdownMenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="DropdownMenuLabel",DropdownMenuLabel=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Label,{...tt,...et,ref:$})});DropdownMenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="DropdownMenuItem",DropdownMenuItem=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Item2$1,{...tt,...et,ref:$})});DropdownMenuItem.displayName=ITEM_NAME$1;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(CheckboxItem,{...tt,...et,ref:$})});DropdownMenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(RadioGroup,{...tt,...et,ref:$})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(RadioItem,{...tt,...et,ref:$})});DropdownMenuRadioItem.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(ItemIndicator$1,{...tt,...et,ref:$})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME$1="DropdownMenuSeparator",DropdownMenuSeparator=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Separator,{...tt,...et,ref:$})});DropdownMenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$2="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Arrow2$1,{...tt,...et,ref:$})});DropdownMenuArrow.displayName=ARROW_NAME$2;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(SubTrigger,{...tt,...et,ref:$})});DropdownMenuSubTrigger.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent=reactExports.forwardRef((j,$)=>{const{__scopeDropdownMenu:_e,...et}=j,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(SubContent,{...tt,...et,ref:$,style:{...j.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent.displayName=SUB_CONTENT_NAME;var Root2$3=DropdownMenu,Trigger$2=DropdownMenuTrigger,Portal2$1=DropdownMenuPortal,Content2$3=DropdownMenuContent,Item2=DropdownMenuItem;function useEventListener(j,$,_e=window,et){const tt=reactExports.useRef(),{capture:nt,passive:rt,once:ot}=et||{};reactExports.useEffect(()=>{tt.current=$},[$]),reactExports.useEffect(()=>{if(!(_e&&_e.addEventListener))return;const at=st=>{tt.current&&tt.current(st)},ft={capture:nt,passive:rt,once:ot};return _e.addEventListener(j,at,ft),()=>{_e.removeEventListener(j,at)}},[j,_e,nt,rt,ot])}function useClickCoordinates(){const[j,$]=reactExports.useState({x:0,y:0}),_e=reactExports.useCallback(({clientX:et,clientY:tt})=>{$({x:et,y:tt})},[$]);return useEventListener("mouseup",_e),useEventListener("touchend",_e),j}const menuContext=reactExports.createContext({item:{name:[],image:""},index:-1,displayIndex:-1}),QspMenu=({attrs:j,showAs:$,showAt:_e,offsetX:et,offsetY:tt,children:nt})=>{const[rt,ot,it]=useAttributes(j,"qsp-menu"),at=useAtom_2(menu$),ft=useClickCoordinates(),st={position:"fixed"},ut=useFadeTransition(at.isOpen);let dt="start",pt="bottom";if($==="fixed"){const[gt,yt]=(_e??"left top").split(" ");switch(gt){case"left":st.left=et;break;case"center":st.left=`calc(50% - ${et}px)`,dt="center";break;case"right":st.right=et,dt="end";break}switch(yt){case"top":st.top=tt;break;case"center":st.top=`calc(50% - ${tt}px)`,pt="left";break;case"bottom":st.bottom=tt,pt="top";break}}else st.left=ft.x??0,st.top=ft.y??0;return jsxRuntimeExports.jsxs(Root2$3,{open:at.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx(Trigger$2,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:st})}),ut((gt,yt)=>yt?jsxRuntimeExports.jsx(Portal2$1,{container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx(Content2$3,{forceMount:!0,asChild:!0,align:dt,side:pt,loop:!0,children:jsxRuntimeExports.jsx(animated.div,{style:gt,children:jsxRuntimeExports.jsx(rt,{style:ot,...it,children:nt})})})}):null)]})},QspMenuList=({attrs:j,children:$})=>{const _e=useAtom_2(menuWithParsedName$),[et,tt,nt]=useAttributes(j,"qsp-menu-list");let rt=1;return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((ot,it)=>ot.name[0]==="-"?jsxRuntimeExports.jsx("qsp-menu-separator",{},ot.key):jsxRuntimeExports.jsx(menuContext.Provider,{value:{item:ot,index:it,displayIndex:rt++},children:React$1.Children.map($,at=>React$1.cloneElement(at))},ot.key))})},QspMenuItem=({attrs:j,children:$})=>{const[_e,et]=reactExports.useState(!1),[tt,nt,{useFormat:rt,...ot}]=useAttributes(j,"qsp-menu-item"),{item:it,index:at}=reactExports.useContext(menuContext),ft={...nt,"--menu-item-image":it.image?`url("${it.image}")`:""},st=()=>{et(!0)},ut=()=>{et(!1)},dt=pt=>{pt.preventDefault(),menu$.actions.select(at)};return jsxRuntimeExports.jsx(Item2,{asChild:!0,children:jsxRuntimeExports.jsx(tt,{...ot,style:ft,"data-qsp-selected":_e?"":null,onClick:dt,onMouseOver:st,onMouseLeave:ut,children:$})})},QspMenuItemName=({attrs:j})=>{const{item:$}=reactExports.useContext(menuContext),[_e,et,tt]=useAttributes(j,"qsp-menu-name");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:jsxRuntimeExports.jsx(Markup,{content:$.name})})},QspMenuItemImage=({attrs:j})=>{const{item:$}=reactExports.useContext(menuContext),[,_e,et]=useAttributes(j,"img","qsp-menu-image");return $.image?jsxRuntimeExports.jsx("img",{alt:"",...et,style:_e,src:$.image}):null},QspMenuItemIndex=({attrs:j})=>{const{displayIndex:$}=reactExports.useContext(menuContext),[_e,et,tt]=useAttributes(j,"qsp-menu-index");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$})},QspMsg=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-msg"),nt=useAtom_2(msg$),rt=useFadeTransition(nt.isOpen);function ot(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:ot,cancelAction:ot},children:jsxRuntimeExports.jsx(Root$6,{open:nt.isOpen,onOpenChange:ot,children:rt((it,at)=>at?jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:it,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$})})})]}):null)})})},QspMsgContent=({attrs:j})=>{const{content:$,key:_e}=useAtom_2(parsedMsgContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes(j,"qsp-msg-content");return jsxRuntimeExports.jsx(Description$1,{asChild:!0,children:reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:$})}))})},objectContext=reactExports.createContext({object:{name:[],image:""},index:-1}),QspObjects=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-objects");return useAtom_2(isObjsVisible$)?jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$}):null},QspObjectsList=({attrs:j,children:$})=>{const _e=useAtom_2(objectsWithParsedName$),[et,tt,nt]=useAttributes(j,"qsp-objects-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,ot)=>jsxRuntimeExports.jsx(objectContext.Provider,{value:{object:rt,index:ot},children:React$1.Children.map($,it=>React$1.cloneElement(it))},rt.key))})},QspObjectItem=({attrs:j,children:$})=>{const[_e,et]=reactExports.useState(!1),[tt,nt,{useFormat:rt,...ot}]=useAttributes(j,"qsp-object"),{object:it,index:at}=reactExports.useContext(objectContext),ft={...nt,"--object-image":it.image?`url("${it.image}")`:""},st=()=>{et(!0)},ut=()=>{et(!1)},dt=()=>{selectObject(at)};return jsxRuntimeExports.jsx(tt,{...ot,style:ft,"data-qsp-selected":_e?"":null,onClick:dt,onMouseOver:st,onMouseLeave:ut,children:$})},QspObjectName=({attrs:j})=>{const[$,_e,et]=useAttributes(j,"qsp-object-name"),{object:tt}=reactExports.useContext(objectContext);return jsxRuntimeExports.jsx($,{...et,style:_e,children:jsxRuntimeExports.jsx(Markup,{content:tt.name})})},QspObjectImage=({attrs:j})=>{const{object:$}=reactExports.useContext(objectContext),[_e,et,tt]=useAttributes(j,"img","qsp-object-image");return $.image?jsxRuntimeExports.jsx(_e,{...tt,style:et,src:$.image}):null},QspObjectIndex=({attrs:j})=>{const{index:$}=reactExports.useContext(objectContext),[_e,et,tt]=useAttributes(j,"qsp-object-index");return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:$+1})},QspPauseScreen=({attrs:j,children:$})=>{const _e=useAtom_2(isPauseScreenVisible$),et=useAtom_2(currentGameEntry$),[tt,nt,rt]=useAttributes(j,"qsp-pause-screen"),ot=useFadeTransition(_e);return jsxRuntimeExports.jsx(Root$6,{modal:!0,open:_e,onOpenChange:it=>it?openPauseScreen():closePauseScreen(),children:ot((it,at)=>at?jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{className:"qsp-dialog-container",style:it,children:jsxRuntimeExports.jsxs("div",{className:"qsp-pause-dialog",children:[jsxRuntimeExports.jsx(Title,{children:(et==null?void 0:et.title)||"Pause"}),jsxRuntimeExports.jsx(tt,{style:nt,...rt,children:$})]})})})]}):null)})},QspPauseScreenContent=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-pause-screen-content"),nt=useAtom_2(requestedAction$);return jsxRuntimeExports.jsx(_e,{style:et,...tt,"data-requested-save-command":nt,children:$})},slotContentContext=reactExports.createContext({index:-1}),baseSlots$=atom(j=>Array.from({length:j(saveSlotsCount$)},($,_e)=>_e+1)),QspSlotsList=({attrs:j,children:$})=>{const _e=useAtom_2(baseSlots$),et=useAtom_2(saveSlots$),[tt,nt,rt]=useAttributes(j,"qsp-slots-list");return jsxRuntimeExports.jsx(tt,{style:nt,...rt,children:_e.map(ot=>{const it=et.find(at=>at.slot===ot);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:ot,date:it==null?void 0:it.timestamp},children:React$1.Children.map($,at=>React$1.cloneElement(at))},ot)})})},QspSlot=({attrs:j,children:$})=>{const{index:_e,date:et}=reactExports.useContext(slotContentContext),[tt,nt,rt]=useAttributes(j,"qsp-save-slot"),ot={...nt,"--slot-index":`${_e}`};return jsxRuntimeExports.jsx(tt,{...rt,style:ot,"data-qsp-save":!0,"data-qsp-save-index":_e,"data-save-empty":et?null:"",children:$})},QspSlotIndex=({attrs:j})=>{const{index:$}=reactExports.useContext(slotContentContext),[_e,et,tt]=useAttributes(j,"qsp-slot-index");return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:$})},QspSlotDate=({children:j,attrs:$})=>{const{date:_e}=reactExports.useContext(slotContentContext),[et,tt,nt]=useAttributes($,"qsp-slot-date");return _e?jsxRuntimeExports.jsx(et,{...nt,style:tt,children:formatDate(new Date(_e))}):jsxRuntimeExports.jsx(et,{...nt,style:tt,children:j})},QspPauseScreenPanel=({name:j,attrs:$,children:_e})=>{const[et,tt,nt]=useAttributes($,"qsp-pause-screen-panel");return useAtom_2(pauseScreenCurrentPanel$)===j?jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e}):null},QspStats=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-stats"),nt=useAtom_2(isStatsVisible$),rt=useAtom_2(statsContent$),ot=usePrevious$1(rt),it=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{it||(ot&&rt!==ot&&rt.startsWith(ot)?statsScroll$.update(at=>Math.max(at,0)+1):statsScroll$.set(-1))},[ot,rt]),nt?jsxRuntimeExports.jsx(scrollContext.Provider,{value:statsScroll$,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$})}):null},QspStatsContent=({attrs:j})=>{const[$,_e,{useFormat:et,...tt}]=useAttributes(j,"qsp-stats-content"),{content:nt,key:rt}=useAtom_2(parsedStatsContent$);return reactExports.createElement($,{style:_e,...tt,key:rt},jsxRuntimeExports.jsx(Markup,{content:nt}))},QspView=({attrs:j,modal:$,children:_e})=>{const[et,tt,nt]=useAttributes(j,"qsp-view"),rt=useAtom_2(view$),ot={...tt,"--view-image":`url("${rt.path}")`};return $?jsxRuntimeExports.jsx(Root$6,{open:rt.isOpen,onOpenChange:()=>view$.actions.close(),children:jsxRuntimeExports.jsxs(Portal$3,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(et,{...nt,style:ot,children:_e})})]})}):jsxRuntimeExports.jsx(et,{...nt,style:ot,children:_e})},QspViewImage=({attrs:j})=>{const[,$,_e]=useAttributes(j,"img","qsp-view-image"),et=useAtom_2(view$);return et.path?jsxRuntimeExports.jsx("img",{src:et.path,alt:"",style:$,..._e}):null},Link=({exec:j,act:$,children:_e,attrs:et})=>{const tt=reactExports.useCallback(ot=>{ot.preventDefault(),ot.stopPropagation(),j?execCode(j):$&&(selectAction($-1),execSelectedAction())},[j,$]),[,nt,rt]=useAttributes(et,"a");return jsxRuntimeExports.jsx("a",{...rt,style:nt,href:"#",onClick:tt,children:_e})},HtmlLink=({children:j,attrs:$})=>{const[,_e,{href:et,...tt}]=useAttributes($,"a"),nt=rt=>{if(tt.onClick)return tt.onClick(rt);et.startsWith("#")&&(rt.preventDefault(),et!=="#"&&(window.location.hash=et))};return jsxRuntimeExports.jsx("a",{...tt,style:_e,href:et,onClick:nt,children:j})},voidTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],TAGS_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},Element$1=({attrs:j={},children:$=null,tagName:_e})=>{const et=_e in TAGS_MAP?TAGS_MAP[_e]:_e,[tt,nt,rt]=useAttributes(j,et);return voidTags.includes(_e)?jsxRuntimeExports.jsx(tt,{style:nt,...rt}):jsxRuntimeExports.jsx(tt,{style:nt,...rt,children:$})},QspT=({children:j})=>{const[$]=useTranslation();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$(j)})},QspMain=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-main"),nt=useAtom_2(mainContent$),rt=useAtom_2(isNewLoc$),ot=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{ot||mainScroll$.update(it=>rt?-1:Math.max(it,0)+1)},[rt,nt]),jsxRuntimeExports.jsx(scrollContext.Provider,{value:mainScroll$,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$})})},QspMainContent=({attrs:j})=>{const{key:$,content:_e}=useAtom_2(parsedMainContent$),et=useAtom_2(newLocHash$),[tt,nt,{useFormat:rt,...ot}]=useAttributes(j,"qsp-main-content");return reactExports.useEffect(()=>{mainContent$.set(nextMainContent$.value)},[et]),reactExports.createElement(tt,{style:nt,...ot,key:$},jsxRuntimeExports.jsx(Markup,{content:_e}))};function useQspBind(j,$,_e){return[useQspVariable(j,$,_e,""),nt=>{var st;const ot=nt.target.type==="checkbox"?nt.target.checked?nt.target.value:"":nt.target.value,it=[j];($||_e)&&(it.push("["),$?it.push(`"${$}"`):it.push(String(_e)),it.push("]"));const at=it.join(""),ft=at.startsWith("$")?`"${ot}"`:ot||0;(st=qspApi$.value)==null||st.execCode(`${at} = ${ft}`)}]}const QspBoundSelect=({attributes:j,style:$,bind:_e,bindKey:et,bindIndex:tt,children:nt})=>{const[rt,ot]=useQspBind(_e,et,tt);return jsxRuntimeExports.jsx("select",{...j,style:$,value:rt,onChange:ot,children:nt})},HtmlSelect=({attrs:j,children:$})=>{const[,_e,{value:et,qspBind:tt,qspBindKey:nt,qspBindIndex:rt,...ot}]=useAttributes(j,"select");if(tt){const it=parseInt(rt||"0",10);return jsxRuntimeExports.jsx(QspBoundSelect,{attributes:ot,style:_e,bind:tt,bindKey:nt,bindIndex:it,children:$})}return jsxRuntimeExports.jsx("select",{...ot,style:_e,defaultValue:et,children:$})},QspBoundTextarea=({attributes:j,style:$,bind:_e,bindKey:et,bindIndex:tt})=>{const[nt,rt]=useQspBind(_e,et,tt);return jsxRuntimeExports.jsx("textarea",{...j,style:$,value:nt,onChange:rt})},HtmlTextarea=({attrs:j})=>{const[,$,{value:_e,qspBind:et,qspBindKey:tt,qspBindIndex:nt,...rt}]=useAttributes(j,"textarea");if(et){const ot=parseInt(nt||"0",10);return jsxRuntimeExports.jsx(QspBoundTextarea,{attributes:rt,style:$,bind:et,bindKey:tt,bindIndex:ot})}return jsxRuntimeExports.jsx("textarea",{...rt,style:$,defaultValue:_e})},QspBoundInput=({attributes:j,style:$,bind:_e,bindKey:et,bindIndex:tt,value:nt})=>{const[rt,ot]=useQspBind(_e,et,tt),it=j.type||"text";return it==="radio"?jsxRuntimeExports.jsx("input",{...j,style:$,type:"radio",value:nt,checked:rt===nt,onChange:ot}):it==="checkbox"?jsxRuntimeExports.jsx("input",{...j,style:$,type:"checkbox",value:nt,checked:!!rt,onChange:ot}):jsxRuntimeExports.jsx("input",{...j,style:$,value:rt,onChange:ot})},HtmlInput=({attrs:j})=>{const[,$,{value:_e,qspBind:et,qspBindKey:tt,qspBindIndex:nt,...rt}]=useAttributes(j,"input");if(et){const ot=parseInt(nt||"0",10);return jsxRuntimeExports.jsx(QspBoundInput,{attributes:rt,style:$,bind:et,bindKey:tt,bindIndex:ot,value:_e})}return jsxRuntimeExports.jsx("input",{...rt,style:$,defaultValue:_e})},HtmlForm=({attrs:j,children:$})=>{const[,_e,et]=useAttributes(j,"form"),tt=et["qspOn:submit"];delete et["qspOn:submit"];function nt(rt){var ot;rt.preventDefault(),tt!=null&&tt.toLowerCase().startsWith("exec:")&&((ot=qspApi$.value)==null||ot.execCode(tt.substring(5)))}return jsxRuntimeExports.jsx("form",{...et,style:_e,onSubmit:nt,children:$})},HtmlImg=({attrs:j,src:$})=>{const[,_e,et]=useAttributes(j,"img");return jsxRuntimeExports.jsx("img",{src:$.replace("\\","/"),alt:"",style:_e,...et})},QspLayer=j=>{const $=useSetup(rt=>{const ot=atom(it=>it(rt).name);return atom(it=>it(layers$)[it(ot)])},j),_e=useAtom_2($),[et,tt,nt]=useAttributes(j.attrs,"qsp-layer");return reactExports.useEffect(()=>registerLayer(j.name),[]),_e?(tt.zIndex=j.index,jsxRuntimeExports.jsx(et,{...nt,style:tt,"data-layer-name":j.name,children:j.children})):null},QspRegion=j=>{const $=useSetup(ot=>{const it=atom(at=>at(ot).name);return atom(at=>templateParser.parse(at(regions$)[at(it)]))},j),_e=useSetup(ot=>{const it=atom(at=>at(ot).name);return atom(at=>at(regionsScroll$)[at(it)]??0)},j),et=useAtom_2($),[tt,nt,rt]=useAttributes(j.attrs,"qsp-region");return j.scrollable?jsxRuntimeExports.jsx(scrollContext.Provider,{value:_e,children:jsxRuntimeExports.jsx(tt,{"data-region-name":j.name,style:nt,...rt,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:et})})})}):jsxRuntimeExports.jsx(tt,{"data-region-name":j.name,style:nt,...rt,children:jsxRuntimeExports.jsx(Markup,{content:et})})},QspShow=({condition:j,children:$})=>useQspExpression(j||"")?$:null,QspStyle=({from:j})=>{const $=useQspVariable(j,"",0,"");return $?jsxRuntimeExports.jsx("style",{"data-qsp-from":j,children:$}):null},QspVariable=({name:j,vkey:$="",index:_e=0})=>{const et=j.startsWith("$")?"":0,tt=useQspVariable(j,$,_e,et);return jsxRuntimeExports.jsx("qsp-variable",{"data-name":j,"data-key":$||_e,children:tt})},namedSlotContentContext=reactExports.createContext({path:""}),QspNamedSlot=j=>{const{attrs:$,children:_e,path:et}=j,[tt,nt,rt]=useAttributes($,"qsp-save-slot"),ot=useSetup(at=>{const ft=at.focus(st=>st.path);return atom(st=>{const ut=st(ft);return st(namedSlots$).find(pt=>pt.key===ut)})},j),it=useAtom_2(ot);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:-1,date:it==null?void 0:it.timestamp},children:jsxRuntimeExports.jsx(namedSlotContentContext.Provider,{value:{path:j.path},children:jsxRuntimeExports.jsx(tt,{...rt,style:nt,"data-qsp-save":!0,"data-qsp-save-path":et,"data-save-empty":it?null:"",children:_e})})})};function usePrevious(j){const $=reactExports.useRef({value:j,previous:j});return reactExports.useMemo(()=>($.current.value!==j&&($.current.previous=$.current.value,$.current.value=j),$.current.previous),[j])}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope(SLIDER_NAME,[createCollectionScope$2]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider=reactExports.forwardRef((j,$)=>{const{name:_e,min:et=0,max:tt=100,step:nt=1,orientation:rt="horizontal",disabled:ot=!1,minStepsBetweenThumbs:it=0,defaultValue:at=[et],value:ft,onValueChange:st=()=>{},onValueCommit:ut=()=>{},inverted:dt=!1,...pt}=j,gt=reactExports.useRef(new Set),yt=reactExports.useRef(0),vt=rt==="horizontal"?SliderHorizontal:SliderVertical,[_t=[],Ct]=useControllableState({prop:ft,defaultProp:at,onChange:Ut=>{var rn;(rn=[...gt.current][yt.current])==null||rn.focus(),st(Ut)}}),At=reactExports.useRef(_t);function kt(Ut){const Yt=getClosestValueIndex(_t,Ut);It(Ut,Yt)}function St(Ut){It(Ut,yt.current)}function wt(){const Ut=At.current[yt.current];_t[yt.current]!==Ut&&ut(_t)}function It(Ut,Yt,{commit:rn}={commit:!1}){const hn=getDecimalCount(nt),Vt=roundValue(Math.round((Ut-et)/nt)*nt+et,hn),Zt=clamp$2(Vt,[et,tt]);Ct((en=[])=>{const fn=getNextSortedValues(en,Zt,Yt);if(hasMinStepsBetweenValues(fn,it*nt)){yt.current=fn.indexOf(Zt);const zt=String(fn)!==String(en);return zt&&rn&&ut(fn),zt?fn:en}else return en})}return jsxRuntimeExports.jsx(SliderProvider,{scope:j.__scopeSlider,name:_e,disabled:ot,min:et,max:tt,valueIndexToChangeRef:yt,thumbs:gt.current,values:_t,orientation:rt,children:jsxRuntimeExports.jsx(Collection$2.Provider,{scope:j.__scopeSlider,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:j.__scopeSlider,children:jsxRuntimeExports.jsx(vt,{"aria-disabled":ot,"data-disabled":ot?"":void 0,...pt,ref:$,onPointerDown:composeEventHandlers(pt.onPointerDown,()=>{ot||(At.current=_t)}),min:et,max:tt,inverted:dt,onSlideStart:ot?void 0:kt,onSlideMove:ot?void 0:St,onSlideEnd:ot?void 0:wt,onHomeKeyDown:()=>!ot&&It(et,0,{commit:!0}),onEndKeyDown:()=>!ot&&It(tt,_t.length-1,{commit:!0}),onStepKeyDown:({event:Ut,direction:Yt})=>{if(!ot){const Vt=PAGE_KEYS.includes(Ut.key)||Ut.shiftKey&&ARROW_KEYS.includes(Ut.key)?10:1,Zt=yt.current,en=_t[Zt],fn=nt*Vt*Yt;It(en+fn,Zt,{commit:!0})}}})})})})});Slider.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((j,$)=>{const{min:_e,max:et,dir:tt,inverted:nt,onSlideStart:rt,onSlideMove:ot,onSlideEnd:it,onStepKeyDown:at,...ft}=j,[st,ut]=reactExports.useState(null),dt=useComposedRefs($,_t=>ut(_t)),pt=reactExports.useRef(),gt=useDirection(tt),yt=gt==="ltr",mt=yt&&!nt||!yt&&nt;function vt(_t){const Ct=pt.current||st.getBoundingClientRect(),At=[0,Ct.width],St=linearScale(At,mt?[_e,et]:[et,_e]);return pt.current=Ct,St(_t-Ct.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:j.__scopeSlider,startEdge:mt?"left":"right",endEdge:mt?"right":"left",direction:mt?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:gt,"data-orientation":"horizontal",...ft,ref:dt,style:{...ft.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_t=>{const Ct=vt(_t.clientX);rt==null||rt(Ct)},onSlideMove:_t=>{const Ct=vt(_t.clientX);ot==null||ot(Ct)},onSlideEnd:()=>{pt.current=void 0,it==null||it()},onStepKeyDown:_t=>{const At=BACK_KEYS[mt?"from-left":"from-right"].includes(_t.key);at==null||at({event:_t,direction:At?-1:1})}})})}),SliderVertical=reactExports.forwardRef((j,$)=>{const{min:_e,max:et,inverted:tt,onSlideStart:nt,onSlideMove:rt,onSlideEnd:ot,onStepKeyDown:it,...at}=j,ft=reactExports.useRef(null),st=useComposedRefs($,ft),ut=reactExports.useRef(),dt=!tt;function pt(gt){const yt=ut.current||ft.current.getBoundingClientRect(),mt=[0,yt.height],_t=linearScale(mt,dt?[et,_e]:[_e,et]);return ut.current=yt,_t(gt-yt.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:j.__scopeSlider,startEdge:dt?"bottom":"top",endEdge:dt?"top":"bottom",size:"height",direction:dt?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...at,ref:st,style:{...at.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:gt=>{const yt=pt(gt.clientY);nt==null||nt(yt)},onSlideMove:gt=>{const yt=pt(gt.clientY);rt==null||rt(yt)},onSlideEnd:()=>{ut.current=void 0,ot==null||ot()},onStepKeyDown:gt=>{const mt=BACK_KEYS[dt?"from-bottom":"from-top"].includes(gt.key);it==null||it({event:gt,direction:mt?-1:1})}})})}),SliderImpl=reactExports.forwardRef((j,$)=>{const{__scopeSlider:_e,onSlideStart:et,onSlideMove:tt,onSlideEnd:nt,onHomeKeyDown:rt,onEndKeyDown:ot,onStepKeyDown:it,...at}=j,ft=useSliderContext(SLIDER_NAME,_e);return jsxRuntimeExports.jsx(Primitive.span,{...at,ref:$,onKeyDown:composeEventHandlers(j.onKeyDown,st=>{st.key==="Home"?(rt(st),st.preventDefault()):st.key==="End"?(ot(st),st.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(st.key)&&(it(st),st.preventDefault())}),onPointerDown:composeEventHandlers(j.onPointerDown,st=>{const ut=st.target;ut.setPointerCapture(st.pointerId),st.preventDefault(),ft.thumbs.has(ut)?ut.focus():et(st)}),onPointerMove:composeEventHandlers(j.onPointerMove,st=>{st.target.hasPointerCapture(st.pointerId)&&tt(st)}),onPointerUp:composeEventHandlers(j.onPointerUp,st=>{const ut=st.target;ut.hasPointerCapture(st.pointerId)&&(ut.releasePointerCapture(st.pointerId),nt(st))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((j,$)=>{const{__scopeSlider:_e,...et}=j,tt=useSliderContext(TRACK_NAME,_e);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":tt.disabled?"":void 0,"data-orientation":tt.orientation,...et,ref:$})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((j,$)=>{const{__scopeSlider:_e,...et}=j,tt=useSliderContext(RANGE_NAME,_e),nt=useSliderOrientationContext(RANGE_NAME,_e),rt=reactExports.useRef(null),ot=useComposedRefs($,rt),it=tt.values.length,at=tt.values.map(ut=>convertValueToPercentage(ut,tt.min,tt.max)),ft=it>1?Math.min(...at):0,st=100-Math.max(...at);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":tt.orientation,"data-disabled":tt.disabled?"":void 0,...et,ref:ot,style:{...j.style,[nt.startEdge]:ft+"%",[nt.endEdge]:st+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME$1="SliderThumb",SliderThumb=reactExports.forwardRef((j,$)=>{const _e=useCollection$2(j.__scopeSlider),[et,tt]=reactExports.useState(null),nt=useComposedRefs($,ot=>tt(ot)),rt=reactExports.useMemo(()=>et?_e().findIndex(ot=>ot.ref.current===et):-1,[_e,et]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...j,ref:nt,index:rt})}),SliderThumbImpl=reactExports.forwardRef((j,$)=>{const{__scopeSlider:_e,index:et,name:tt,...nt}=j,rt=useSliderContext(THUMB_NAME$1,_e),ot=useSliderOrientationContext(THUMB_NAME$1,_e),[it,at]=reactExports.useState(null),ft=useComposedRefs($,vt=>at(vt)),st=it?!!it.closest("form"):!0,ut=useSize(it),dt=rt.values[et],pt=dt===void 0?0:convertValueToPercentage(dt,rt.min,rt.max),gt=getLabel(et,rt.values.length),yt=ut==null?void 0:ut[ot.size],mt=yt?getThumbInBoundsOffset(yt,pt,ot.direction):0;return reactExports.useEffect(()=>{if(it)return rt.thumbs.add(it),()=>{rt.thumbs.delete(it)}},[it,rt.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[ot.startEdge]:`calc(${pt}% + ${mt}px)`},children:[jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:j.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":j["aria-label"]||gt,"aria-valuemin":rt.min,"aria-valuenow":dt,"aria-valuemax":rt.max,"aria-orientation":rt.orientation,"data-orientation":rt.orientation,"data-disabled":rt.disabled?"":void 0,tabIndex:rt.disabled?void 0:0,...nt,ref:ft,style:dt===void 0?{display:"none"}:j.style,onFocus:composeEventHandlers(j.onFocus,()=>{rt.valueIndexToChangeRef.current=et})})}),st&&jsxRuntimeExports.jsx(BubbleInput$1,{name:tt??(rt.name?rt.name+(rt.values.length>1?"[]":""):void 0),value:dt},et)]})});SliderThumb.displayName=THUMB_NAME$1;var BubbleInput$1=j=>{const{value:$,..._e}=j,et=reactExports.useRef(null),tt=usePrevious($);return reactExports.useEffect(()=>{const nt=et.current,rt=window.HTMLInputElement.prototype,it=Object.getOwnPropertyDescriptor(rt,"value").set;if(tt!==$&&it){const at=new Event("input",{bubbles:!0});it.call(nt,$),nt.dispatchEvent(at)}},[tt,$]),jsxRuntimeExports.jsx("input",{style:{display:"none"},..._e,ref:et,defaultValue:$})};function getNextSortedValues(j=[],$,_e){const et=[...j];return et[_e]=$,et.sort((tt,nt)=>tt-nt)}function convertValueToPercentage(j,$,_e){const nt=100/(_e-$)*(j-$);return clamp$2(nt,[0,100])}function getLabel(j,$){return $>2?`Value ${j+1} of ${$}`:$===2?["Minimum","Maximum"][j]:void 0}function getClosestValueIndex(j,$){if(j.length===1)return 0;const _e=j.map(tt=>Math.abs(tt-$)),et=Math.min(..._e);return _e.indexOf(et)}function getThumbInBoundsOffset(j,$,_e){const et=j/2,nt=linearScale([0,50],[0,et]);return(et-nt($)*_e)*_e}function getStepsBetweenValues(j){return j.slice(0,-1).map(($,_e)=>j[_e+1]-$)}function hasMinStepsBetweenValues(j,$){if($>0){const _e=getStepsBetweenValues(j);return Math.min(..._e)>=$}return!0}function linearScale(j,$){return _e=>{if(j[0]===j[1]||$[0]===$[1])return $[0];const et=($[1]-$[0])/(j[1]-j[0]);return $[0]+et*(_e-j[0])}}function getDecimalCount(j){return(String(j).split(".")[1]||"").length}function roundValue(j,$){const _e=Math.pow(10,$);return Math.round(j*_e)/_e}var Root$2=Slider,Track=SliderTrack,Range=SliderRange,Thumb$1=SliderThumb;const QspVolumeSlider=({attrs:j})=>{const $=useAtom_2(volume$),[_e]=useTranslation(),[,et,tt]=useAttributes(j,"span");return jsxRuntimeExports.jsxs(Root$2,{className:"qsp-volume-root",defaultValue:[$],max:100,step:1,style:et,...tt,onValueChange:([nt])=>volume$.set(nt),children:[jsxRuntimeExports.jsx(Track,{className:"qsp-volume-slider-track",children:jsxRuntimeExports.jsx(Range,{className:"qsp-volume-slider-range"})}),jsxRuntimeExports.jsx(Thumb$1,{className:"qsp-volume-slider-thumb","aria-label":_e("Volume")||void 0})]})},QspMuteToggle=({attrs:j})=>{const[$]=useTranslation(),[_e,et,tt]=useAttributes(j,"qsp-mute-toggle"),nt=useAtom_2(muted$);return jsxRuntimeExports.jsx(_e,{role:"button",style:et,...tt,onClick:()=>muted$.update(rt=>!rt),children:$(nt?"Unmute":"Mute")})},QspGlobalHotkeys=({attrs:j})=>{const[$,_e,et]=useAttributes(j,"qsp-global-hotkeys"),{t:tt}=useTranslation(),nt=useAtom_2(globalHotKeys$);return jsxRuntimeExports.jsx($,{style:_e,...et,children:nt.map((rt,ot)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:tt(rt.description)}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:prettifyHotkeys(rt.keys).map((it,at)=>it.type==="key"?jsxRuntimeExports.jsx("qsp-hotkey-key",{children:it.symbol},at):it.symbol)})]},ot))})},QspGameHotkeys=({attrs:j})=>{const[$,_e,et]=useAttributes(j,"qsp-game-hotkeys"),tt=useAtom_2(currentGame$);if(!tt)return null;const{hotkeys:nt}=tt;return nt?jsxRuntimeExports.jsx($,{style:_e,...et,children:Object.entries(nt).map(([rt,ot],it)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:ot}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:prettifyHotkeys(rt).map((at,ft)=>at.type==="key"?jsxRuntimeExports.jsx("qsp-hotkey-key",{children:at.symbol},ft):at.symbol)})]},it))}):null},QspLocaleSelect=({attrs:j})=>{const{i18n:$}=useTranslation(),[,_e,et]=useAttributes(j,"qsp-locale-select"),tt=nt=>{$.changeLanguage(nt.target.value)};return jsxRuntimeExports.jsx("select",{value:$.language,...et,style:_e,onChange:tt,children:locales$1.map(nt=>jsxRuntimeExports.jsx("option",{value:nt.value,children:nt.label},nt.value))})},QspGameTitle=({attrs:j})=>{const[$]=useTranslation(),[_e,et,tt]=useAttributes(j,"qsp-game-title"),nt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:(nt==null?void 0:nt.author)||$("n/a")})},QspGameAuthor=({attrs:j})=>{const[$]=useTranslation(),[_e,et,tt]=useAttributes(j,"qsp-game-author"),nt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:(nt==null?void 0:nt.author)||$("n/a")})},QspGameVersion=({attrs:j})=>{const[$]=useTranslation(),[_e,et,tt]=useAttributes(j,"qsp-game-version"),nt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:(nt==null?void 0:nt.version)||$("n/a")})},QspGameDescription=({attrs:j})=>{const[$,_e,et]=useAttributes(j,"qsp-game-description"),tt=useAtom_2(currentGameDescription$);return jsxRuntimeExports.jsx($,{...et,style:_e,children:jsxRuntimeExports.jsx(Markup,{content:tt})})},defaultTransform=(j,$)=>{const _e=j.tagName.toLowerCase(),et=extractAttributes(j);return jsxRuntimeExports.jsx(Element$1,{tagName:_e,attrs:et,children:$})},defaultTransformers={"qsp-scrollable"(j,$){const{scroll:_e,...et}=extractAttributes(j),tt=isScrollType(_e)?_e:void 0;return jsxRuntimeExports.jsx(QspScrollable,{scroll:tt,attrs:et,children:$})},"qsp-main"(j,$){return jsxRuntimeExports.jsx(QspMain,{attrs:extractAttributes(j),children:$})},"qsp-main-content"(j){return jsxRuntimeExports.jsx(QspMainContent,{attrs:extractAttributes(j)})},"qsp-stats"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspStats,{attrs:_e,children:$})},"qsp-stats-content"(j){return jsxRuntimeExports.jsx(QspStatsContent,{attrs:extractAttributes(j)})},"qsp-actions"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspActions,{attrs:_e,children:$})},"qsp-actions-list"(j,$){return jsxRuntimeExports.jsx(QspActionsList,{attrs:extractAttributes(j),children:$})},"qsp-action"(j,$){return jsxRuntimeExports.jsx(QspActionItem,{attrs:extractAttributes(j),children:$})},"qsp-action-name"(j){return jsxRuntimeExports.jsx(QspActionName,{attrs:extractAttributes(j)})},"qsp-action-image"(j){return jsxRuntimeExports.jsx(QspActionImage,{attrs:extractAttributes(j)})},"qsp-action-index"(j){return jsxRuntimeExports.jsx(QspActionIndex,{attrs:extractAttributes(j)})},"qsp-objects"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspObjects,{attrs:_e,children:$})},"qsp-objects-list"(j,$){return jsxRuntimeExports.jsx(QspObjectsList,{attrs:extractAttributes(j),children:$})},"qsp-object"(j,$){return jsxRuntimeExports.jsx(QspObjectItem,{attrs:extractAttributes(j),children:$})},"qsp-object-name"(j){return jsxRuntimeExports.jsx(QspObjectName,{attrs:extractAttributes(j)})},"qsp-object-image"(j){return jsxRuntimeExports.jsx(QspObjectImage,{attrs:extractAttributes(j)})},"qsp-object-index"(j){return jsxRuntimeExports.jsx(QspObjectIndex,{attrs:extractAttributes(j)})},"qsp-cmd"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspCmd,{attrs:_e,children:$})},"qsp-cmd-input"(j){const $=extractAttributes(j);return jsxRuntimeExports.jsx(QspCmdInput,{attrs:$})},"qsp-view"(j,$){const _e=extractAttributes(j),et="modal"in _e;return view$.actions.setIsModal(et),jsxRuntimeExports.jsx(QspView,{attrs:_e,modal:et,children:$})},"qsp-view-image"(j){const $=extractAttributes(j);return jsxRuntimeExports.jsx(QspViewImage,{attrs:$})},"qsp-menu"(j,$){const{"show-as":_e,"show-at":et,"offset-x":tt,"offset-y":nt,...rt}=extractAttributes(j);return jsxRuntimeExports.jsx(QspMenu,{showAs:_e,showAt:et,offsetX:tt?parseInt(tt,10):0,offsetY:nt?parseInt(nt,10):0,attrs:rt,children:$})},"qsp-menu-list"(j,$){return jsxRuntimeExports.jsx(QspMenuList,{attrs:extractAttributes(j),children:$})},"qsp-menu-item"(j,$){return jsxRuntimeExports.jsx(QspMenuItem,{attrs:extractAttributes(j),children:$})},"qsp-menu-name"(j){return jsxRuntimeExports.jsx(QspMenuItemName,{attrs:extractAttributes(j)})},"qsp-menu-image"(j){return jsxRuntimeExports.jsx(QspMenuItemImage,{attrs:extractAttributes(j)})},"qsp-menu-index"(j){return jsxRuntimeExports.jsx(QspMenuItemIndex,{attrs:extractAttributes(j)})},"qsp-msg"(j,$){return jsxRuntimeExports.jsx(QspMsg,{attrs:extractAttributes(j),children:$})},"qsp-msg-content"(j){return jsxRuntimeExports.jsx(QspMsgContent,{attrs:extractAttributes(j)})},"qsp-input"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspInput,{attrs:_e,children:$})},"qsp-input-content"(j){return jsxRuntimeExports.jsx(QspInputContent,{attrs:extractAttributes(j)})},"qsp-input-tag"(j){const $=extractAttributes(j);return jsxRuntimeExports.jsx(QspInputTag,{attrs:$})},"qsp-close-button"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspCloseButton,{attrs:_e,children:$})},"qsp-ok-button"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspOkButton,{attrs:_e,children:$})},"qsp-cancel-button"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspCancelButton,{attrs:_e,children:$})},"qsp-pause-screen"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspPauseScreen,{attrs:_e,children:$})},"qsp-pause-screen-content"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(QspPauseScreenContent,{attrs:_e,children:$})},"qsp-pause-screen-panel"(j,$){const{name:_e,...et}=extractAttributes(j);return _e?jsxRuntimeExports.jsx(QspPauseScreenPanel,{name:_e,attrs:et,children:$}):null},"qsp-slots-list"(j,$){return jsxRuntimeExports.jsx(QspSlotsList,{attrs:extractAttributes(j),children:$})},"qsp-save-slot"(j,$){return jsxRuntimeExports.jsx(QspSlot,{attrs:extractAttributes(j),index:-1,children:$})},"qsp-save-file"(j,$){const{path:_e,...et}=extractAttributes(j);return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:et,path:_e,children:$})},"qsp-quick-save"(j,$){return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:extractAttributes(j),path:QUICK_SAVE_KEY,children:$})},"qsp-slot-index"(j){return jsxRuntimeExports.jsx(QspSlotIndex,{attrs:extractAttributes(j)})},"qsp-slot-date"(j,$){return jsxRuntimeExports.jsx(QspSlotDate,{attrs:extractAttributes(j),children:$})},"qsp-variable"(j){const{name:$,key:_e,index:et}=extractAttributes(j);return jsxRuntimeExports.jsx(QspVariable,{name:$,vkey:_e,index:et?parseInt(et,10):void 0})},"qsp-region"(j){const{name:$,..._e}=extractAttributes(j),et="scrollable"in _e;return jsxRuntimeExports.jsx(QspRegion,{name:$,scrollable:et,attrs:_e})},"qsp-layer"(j,$){const{name:_e,index:et,...tt}=extractAttributes(j);return jsxRuntimeExports.jsx(QspLayer,{name:_e,index:parseInt(et),attrs:tt,children:$})},"qsp-show"(j,$){const _e=j.getAttribute("when")||"";return jsxRuntimeExports.jsx(QspShow,{condition:_e,children:$})},"qsp-style"(j){const $=j.getAttribute("from")||"";return jsxRuntimeExports.jsx(QspStyle,{from:$})},"qsp-t"(j){const $=j.innerText;return jsxRuntimeExports.jsx(QspT,{children:$})},a:(j,$)=>{const{href:_e,...et}=extractAttributes(j);if(_e){if(_e.toLowerCase().startsWith("exec:"))return jsxRuntimeExports.jsx(Link,{attrs:et,exec:_e.substring(5),children:$});if(parseInt(_e)>0)return jsxRuntimeExports.jsx(Link,{attrs:et,act:parseInt(_e),children:$})}const tt={href:_e,...et};return jsxRuntimeExports.jsx(HtmlLink,{attrs:tt,children:$})},select(j,$){return jsxRuntimeExports.jsx(HtmlSelect,{attrs:extractAttributes(j),children:$})},textarea(j){const $=extractAttributes(j);return $.value=j.innerText,jsxRuntimeExports.jsx(HtmlTextarea,{attrs:$})},input(j){return jsxRuntimeExports.jsx(HtmlInput,{attrs:extractAttributes(j)})},img(j){const{src:$,..._e}=extractAttributes(j);return jsxRuntimeExports.jsx(HtmlImg,{src:$,attrs:_e})},form(j,$){return jsxRuntimeExports.jsx(HtmlForm,{attrs:extractAttributes(j),children:$})},"qsp-volume-slider"(j){return jsxRuntimeExports.jsx(QspVolumeSlider,{attrs:extractAttributes(j)})},"qsp-mute-toggle"(j){return jsxRuntimeExports.jsx(QspMuteToggle,{attrs:extractAttributes(j)})},"qsp-global-hotkeys"(j){return jsxRuntimeExports.jsx(QspGlobalHotkeys,{attrs:extractAttributes(j)})},"qsp-game-hotkeys"(j){return jsxRuntimeExports.jsx(QspGameHotkeys,{attrs:extractAttributes(j)})},"qsp-locale-select"(j){return jsxRuntimeExports.jsx(QspLocaleSelect,{attrs:extractAttributes(j)})},"qsp-game-title"(j){return jsxRuntimeExports.jsx(QspGameTitle,{attrs:extractAttributes(j)})},"qsp-game-author"(j){return jsxRuntimeExports.jsx(QspGameAuthor,{attrs:extractAttributes(j)})},"qsp-game-version"(j){return jsxRuntimeExports.jsx(QspGameVersion,{attrs:extractAttributes(j)})},"qsp-game-description"(j){return jsxRuntimeExports.jsx(QspGameDescription,{attrs:extractAttributes(j)})}},Strike=({children:j,attrs:$})=>{const[,_e,et]=useAttributes($,"span"),tt={..._e,textDecoration:"line-through"};return jsxRuntimeExports.jsx("span",{...et,style:tt,children:j})},Big=({children:j,attrs:$})=>{const[,_e,et]=useAttributes($,"span"),tt={..._e,fontSize:"larger"};return jsxRuntimeExports.jsx("span",{...et,style:tt,children:j})},Tt=({children:j,attrs:$})=>{const[,_e,et]=useAttributes($,"span"),tt={..._e,fontFamily:"monospace"};return jsxRuntimeExports.jsx("span",{...et,style:tt,children:j})},Hr=({attrs:j,width:$,size:_e,noshade:et})=>{const[,tt,nt]=useAttributes(j,"hr"),rt={...tt,borderWidth:Number(_e)>0?"1px":"1px 0 0 0",borderStyle:et?"solid":"inset",borderColor:"rgb(128, 128, 128)",borderRadius:"1px",height:`${_e||"0"}px`,margin:"0.5em auto",width:$||"100%",backgroundColor:et?"rgb(128, 128, 128)":"transparent"};return jsxRuntimeExports.jsx("div",{...nt,style:rt})},Table=({border:j,cellspacing:$,cellpadding:_e,align:et,valign:tt,attrs:nt,children:rt})=>{const[,ot,{className:it,...at}]=useAttributes(nt,"table"),ft={...ot,textAlign:et??"left",verticalAlign:tt??"top","--table-border-width":`${j||0}px`,"--table-cellspacing":`${$||0}px`,"--table-cellpadding":`${_e||0}px`},st=it?`${it} classic-table`:"classic-table";return jsxRuntimeExports.jsx("table",{...at,style:ft,className:st,children:rt})},Area=({href:j,attrs:$})=>{const _e=reactExports.useCallback(nt=>{nt.preventDefault(),nt.stopPropagation(),onLinkClicked(j)},[j]),[,et,tt]=useAttributes($,"area");return jsxRuntimeExports.jsx("area",{...tt,style:et,href:"#",onClick:_e,alt:""})},Video=({children:j,attrs:$})=>{const[,_e,et]=useAttributes($,"video");return jsxRuntimeExports.jsx("video",{style:_e,...et,preload:"auto",loop:!0,autoPlay:!0,children:j})},QspCL=({children:j})=>{const $=useAtom_2(qspGuiLayout$);return $?jsxRuntimeExports.jsx("qsp-cl",{children:jsxRuntimeExports.jsx(Markup,{content:$})}):jsxRuntimeExports.jsx("qsp-cl",{children:j})},QspCLLayer=j=>{const $=useSetup(et=>{const tt=et==null?void 0:et.focus(ot=>ot.children),nt=atom(ot=>{const it={};return React$1.Children.forEach(ot(tt),at=>{reactExports.isValidElement(at)&&at.type===QspCLDock&&(it[at.props.place]={visibility:at.props.visibility,size:at.props.size})}),it}),rt=atom(ot=>{var ft;const it=ot(nt),at={};for(const[st,ut]of Object.entries(it))(((ft=ut.visibility)==null?void 0:ft.split("|").some(pt=>{const gt=penelAtoms[pt];return gt?ot(gt):!1}))??!0)&&(at[st]=ut);return at});return atom(ot=>{const it=ot(rt),at=["center"];let ft="1fr",st=1,ut="1fr";return it.left&&(at[0]="left "+at[0],st++,ft=`${it.left.size}px `+ft),it.right&&(at[0]+=" right",st++,ft+=` ${it.right.size}px`),it.top&&(ut=`${it.top.size}px `+ut,at.unshift("top ".repeat(st).trim())),it.bottom&&(ut+=` ${it.bottom.size}px`,at.push("bottom ".repeat(st).trim())),{gridTemplateColumns:ft,gridTemplateRows:ut,gridTemplateAreas:'"'+at.join('" "')+'"'}})},j),_e=useAtom_2($);return jsxRuntimeExports.jsx("qsp-cl-layer",{style:_e,children:j.children})},penelAtoms={input:isCmdVisible$,imgview:view$.focus(j=>j.isOpen),objs:isObjsVisible$,acts:isActsVisible$,vars:isStatsVisible$},QspCLDock=j=>{const $=useSetup(et=>atom(tt=>{const nt=et.focus(ot=>ot.visibility),rt=tt(nt);return rt?rt.split("|").some(ot=>{const it=penelAtoms[ot];return it?tt(it):!1}):!0}),j);return useAtom_2($)?jsxRuntimeExports.jsx("qsp-cl-dock",{"data-place":j.place,children:j.children}):null},QspCLPane=j=>{const $=useSetup(et=>atom(tt=>{const nt=et.focus(it=>it.visibility),rt=tt(nt);if(!rt)return!0;const ot=penelAtoms[rt];return ot?tt(ot):!1}),j);return useAtom_2($)?jsxRuntimeExports.jsx("qsp-cl-pane",{style:{flexGrow:j.proportion},children:j.children}):null},QspCLDefaults=()=>{const j=useAtom_2(qspGuiCfg$);if(!j)return null;const $=[];if(j.BackColor){const et=convertColor(j.BackColor,!1);if(et){const tt=invertColor(et);$.push(`--cl-background-color: ${et}`),$.push(`--cl-background-color-contrast: ${getContrastColor(et)}`),$.push(`--cl-background-color-inverted: ${tt}`),$.push(`--cl-background-color-inverted-contrast: ${getContrastColor(tt)}`)}}if(j.FontColor){const et=convertColor(j.FontColor,!1);et&&$.push(`--cl-color: ${et}`)}if(j.LinkColor){const et=convertColor(j.LinkColor,!1);et&&$.push(`--cl-link-color: ${et}`)}j.FontSize&&$.push(`--cl-font-size: ${j.FontSize}pt`),j.FontName&&$.push(`--cl-font-name: ${j.FontName}`);const _e=`qsp-game-root, #portal-container {${$.join(";")}}`;return jsxRuntimeExports.jsx("style",{children:_e})},classicTransformers={font:(j,$)=>jsxRuntimeExports.jsx(Font,{size:j.getAttribute("size"),attrs:extractAttributes(j),children:$}),big:(j,$)=>jsxRuntimeExports.jsx(Big,{attrs:extractAttributes(j),children:$}),hr:j=>{const{width:$,size:_e,noshade:et,...tt}=extractAttributes(j);return jsxRuntimeExports.jsx(Hr,{attrs:tt,width:$,size:_e,noshade:!!et})},tt:(j,$)=>jsxRuntimeExports.jsx(Tt,{attrs:extractAttributes(j),children:$}),strike:(j,$)=>jsxRuntimeExports.jsx(Strike,{attrs:extractAttributes(j),children:$}),tbody:(j,$)=>jsxRuntimeExports.jsx("tbody",{children:$.filter(_e=>typeof _e!="string")}),table:(j,$)=>{const{border:_e="0",cellspacing:et="0",cellpadding:tt="1",align:nt,valign:rt,...ot}=extractAttributes(j);return jsxRuntimeExports.jsx(Table,{align:nt,valign:rt,border:Number(_e),cellspacing:Number(et),cellpadding:Number(tt),attrs:ot,children:$.filter(it=>typeof it!="string")})},area:j=>{const{href:$,..._e}=extractAttributes(j);return jsxRuntimeExports.jsx(Area,{href:$||"",attrs:_e})},video:(j,$)=>jsxRuntimeExports.jsx(Video,{attrs:extractAttributes(j),children:$}),"qsp-cl":(j,$)=>jsxRuntimeExports.jsx(QspCL,{children:$}),"qsp-cl-layer":(j,$)=>jsxRuntimeExports.jsx(QspCLLayer,{children:$}),"qsp-cl-dock":(j,$)=>{const _e=j.getAttribute("place")||"center",et=j.getAttribute("visibility"),tt=j.getAttribute("size")??0;return jsxRuntimeExports.jsx(QspCLDock,{place:_e,visibility:et,size:Number(tt),children:$})},"qsp-cl-pane":(j,$)=>{const _e=j.getAttribute("proportion")??1,et=j.getAttribute("visibility");return jsxRuntimeExports.jsx(QspCLPane,{visibility:et,proportion:Number(_e),children:$})},"qsp-cl-defaults"(){return jsxRuntimeExports.jsx(QspCLDefaults,{})}},AERO_EFFECTS={fade:{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},blur:{from:{opacity:0,filter:"blur(15px)"},enter:{opacity:1,filter:"blur(0px)"},leave:{opacity:0,filter:"blur(15px)"}},l_slide:{from:{transform:"translate3d(-100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(-100%, 0, 0)"}},r_slide:{from:{transform:"translate3d(100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(100%, 0, 0)"}},u_slide:{from:{transform:"translate3d(0, 100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, 100%, 0)"}},d_slide:{from:{transform:"translate3d(0, -100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, -100%, 0)"}},iris:{from:{clipPath:"circle(0% at center)"},enter:{clipPath:"circle(120% at center)"},leave:{clipPath:"circle(0% at center)"}},photo:{from:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"},enter:{opacity:1,boxShadow:"inset 0 0 0 0px #fff"},leave:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"}},rotate:{from:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0},enter:{transform:"rotate3d(0, 0, 1, 0deg)",opacity:1},leave:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0}},v_squeeze:{from:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"}},h_squeeze:{from:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"}},zoom:{from:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"}},wipe1:{from:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"},enter:{clipPath:"polygon(0 0, 0 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"}},wipe2:{from:{clipPath:"polygon(100% 0, 100% 0%, 100% 0%, 100% 0)"},enter:{clipPath:"polygon(0% 0, 0% 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(100% 0, 100% 0, 100% 0%, 100% 0)"}},wipe3:{from:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"}},wipe4:{from:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"}},quake:{from:{transform:"translate3d(0px, 0px, 0)",opacity:0},enter:[{transform:"translate3d(-2px, 3px, 0)",opacity:.1},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-2px, 3px, 0)",opacity:.9}],leave:[{transform:"translate3d(-2px, 3px, 0)",opacity:.9},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-2px, 3px, 0)",opacity:.1}]}};function useAeroEffect(j,$,_e){const et=useQspVariable($,"",0,"");let tt=useQspVariable(_e,"",0,500);const nt=AERO_EFFECTS[et]??{};return nt.enter&&Array.isArray(nt.enter)&&(tt/=nt.enter.length),useTransition(j,{...nt,config:{duration:tt}})}const AeroQspMenu=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-menu"),nt=useAtom_2(menu$),rt=useClickCoordinates(),ot=useQspVariable("FIXED_SIZE_MENU","",0,0),it=useQspVariable("MENU_X","",0,-1),at=useQspVariable("MENU_Y","",0,-1),ft=useAeroEffect(nt.isOpen,"$MENU_EFFECT","MENU_EFFECT_TIME"),st=it<0||at<0,ut=st?rt.x:it,dt=st?rt.y:at;let pt=tt.className||"";return ot&&(pt+=" aero-fixed-menu"),jsxRuntimeExports.jsxs(Root2$3,{open:nt.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx(Trigger$2,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:ut,top:dt}})}),ft((gt,yt)=>yt?jsxRuntimeExports.jsx(Portal2$1,{forceMount:!0,container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx(Content2$3,{align:"start",forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:gt,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,className:pt.trim(),children:$})})})}):null)]})},AeroQspMenuList=({attrs:j,children:$})=>{const _e=useAtom_2(aeroMenuWithParsedName$),[et,tt,nt]=useAttributes(j,"qsp-menu-list");let rt=1;return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((ot,it)=>ot.name[0]==="-"?jsxRuntimeExports.jsx("qsp-menu-separator",{},ot.key):jsxRuntimeExports.jsx(menuContext.Provider,{value:{item:ot,index:it,displayIndex:rt++},children:React$1.Children.map($,at=>React$1.cloneElement(at))},ot.key))})},AeroQspMenuItem=({attrs:j})=>{const{item:$,index:_e}=reactExports.useContext(menuContext),[et,tt,{useFormat:nt,useSelectedFormat:rt,...ot}]=useAttributes(j,"qsp-menu-item"),it={...tt,"--menu-item-image":$.image?`url("${$.image}")`:""},at=()=>{selectedMenuItem$.set(_e)},ft=()=>{selectedMenuItem$.set(-1)},st=ut=>{ut.preventDefault(),menu$.actions.select(_e)};return jsxRuntimeExports.jsx(Item2,{asChild:!0,children:jsxRuntimeExports.jsx(et,{...ot,style:it,onClick:st,onMouseOver:at,onMouseLeave:ft,children:jsxRuntimeExports.jsx(Markup,{content:$.name})})})},AeroStyles=()=>{const j=useAtom_2(currentAeroWidth$),$=useAtom_2(currentAeroHeight$),_e=`
  qsp-game-root, #portal-container {
    --aero-player-width: ${j}px;
    --aero-player-height: ${$}px;
  }`;return jsxRuntimeExports.jsx("style",{children:_e})},AeroQspView=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-view"),nt=useAtom_2(view$),rt=useQspVariable("ALWAYS_SHOW_VIEW","",0,0),ot=useAeroEffect(nt.isOpen,"$VIEW_EFFECT","VIEW_EFFECT_TIME"),it={...et,"--view-image":`url("${nt.path}")`},at=()=>{rt||view$.actions.close()};return ot((ft,st)=>st?jsxRuntimeExports.jsx(animated.div,{style:ft,children:jsxRuntimeExports.jsx(_e,{...tt,style:it,onClick:at,children:$})}):null)},AeroQspActionsList=({attrs:j,children:$})=>{const _e=useAtom_2(aeroActionsWithParsedName$),[et,tt,nt]=useAttributes(j,"qsp-actions-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,ot)=>jsxRuntimeExports.jsx(actionContext.Provider,{value:{action:rt,index:ot},children:React$1.Children.map($,it=>React$1.cloneElement(it))},rt.key))})},AeroQspActionItem=({attrs:j})=>{const{action:$,index:_e}=reactExports.useContext(actionContext),[et,tt,{useFormat:nt,useSelectedFormat:rt,...ot}]=useAttributes(j,"qsp-action"),it=$.image?$.image:"",at={...tt,"--action-image":$.image?`url("${it}")`:""},ft=()=>{selectAction(_e)},st=()=>{selectAction(-1)},ut=dt=>{dt.preventDefault(),selectedAction$.value<0&&selectAction(_e),execSelectedAction()};return jsxRuntimeExports.jsx(et,{...ot,style:at,onMouseOver:ft,onMouseLeave:st,onClick:ut,children:jsxRuntimeExports.jsx(Markup,{content:$.name})})},AeroQspStatsContent=({attrs:j})=>{const[$,_e,{useFormat:et,...tt}]=useAttributes(j,"qsp-stats-content"),{content:nt,key:rt}=useAtom_2(aeroParsedStatsContent$);return reactExports.createElement($,{style:_e,...tt,key:rt},jsxRuntimeExports.jsx(Markup,{content:nt}))},AeroQspMainContent=({attrs:j})=>{const{content:$,key:_e}=useAtom_2(aeroParsedMainContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes(j,"qsp-main-content");return reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(Markup,{content:$}))},AeroOverlay=reactExports.forwardRef(()=>{const j=useQspVariable("DISABLESHADE","",0,0),$=useSpring({from:{opacity:0},to:{opacity:.8}});return j?null:jsxRuntimeExports.jsx(Overlay,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:$,className:"qsp-overlay"})})}),AeroQspMsg=({attrs:j,children:$})=>{const[_e,et,tt]=useAttributes(j,"qsp-msg"),nt=useAtom_2(msg$),rt=useClickCoordinates(),ot=useQspVariable("MSG_X","",0,200),it=useQspVariable("MSG_Y","",0,165),at=useAeroEffect(nt.isOpen,"$MSG_EFFECT","MSG_EFFECT_TIME"),ft=ot<0||it<0,st={"--aero-msg-x":`${ft?rt.x:ot}px`,"--aero-msg-y":`${ft?rt.y:it}px`},ut=`qsp-dialog-container${ft?" at-mouse":""}`;function dt(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:dt,cancelAction:dt},children:jsxRuntimeExports.jsx(Root$6,{open:nt.isOpen,onOpenChange:dt,children:at((pt,gt)=>gt?jsxRuntimeExports.jsxs(Portal$3,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,style:st,children:jsxRuntimeExports.jsx(animated.div,{style:pt,className:ut,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:$})})})]}):null)})})},AeroQspMsgContent=({attrs:j})=>{const{content:$,key:_e}=useAtom_2(aeroParsedMsgContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes(j,"qsp-msg-content");return reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:$})}))},AeroQspInput=({attrs:j,children:$})=>{const _e=useAtom_2(input$),[et,tt,nt]=useAttributes(j,"qsp-input"),rt=useClickCoordinates(),ot=useQspVariable("INPUT_X","",0,200),it=useQspVariable("INPUT_Y","",0,165),at=useAeroEffect(_e.isOpen,"$INPUT_EFFECT","INPUT_EFFECT_TIME"),ft=ot<0||it<0,st={"--aero-input-x":`${ft?rt.x:ot}px`,"--aero-input-y":`${ft?rt.y:it}px`},ut=`qsp-dialog-container${ft?" at-mouse":""}`;return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:dt=>{dt.preventDefault(),input$.actions.finish()},cancelAction:dt=>{dt.preventDefault(),input$.actions.close()}},children:jsxRuntimeExports.jsx(Root$6,{open:_e.isOpen,onOpenChange:()=>input$.actions.close(),children:at((dt,pt)=>pt?jsxRuntimeExports.jsxs(Portal$3,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,style:st,children:jsxRuntimeExports.jsx(animated.div,{style:dt,className:ut,children:jsxRuntimeExports.jsx("form",{onSubmit:gt=>{gt.preventDefault(),input$.actions.finish()},children:jsxRuntimeExports.jsx(et,{style:tt,...nt,children:$})})})})]}):null)})})},AeroQspInputContent=({attrs:j})=>{const{content:$,key:_e}=useAtom_2(aeroParsedInputContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes(j,"qsp-input-content");return jsxRuntimeExports.jsx(Description$1,{asChild:!0,children:reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:$})}))})},AeroQspObjectsList=({attrs:j,children:$})=>{const _e=useAtom_2(aeroObjectsWithParsedName$),[et,tt,nt]=useAttributes(j,"qsp-objects-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,ot)=>jsxRuntimeExports.jsx(objectContext.Provider,{value:{object:rt,index:ot},children:React$1.Children.map($,it=>React$1.cloneElement(it))},rt.key))})},AeroQspObjectItem=({attrs:j})=>{const[$,_e,{useFormat:et,useSelectedFormat:tt,...nt}]=useAttributes(j,"qsp-object"),{object:rt,index:ot}=reactExports.useContext(objectContext),it={..._e,"--object-image":rt.image?`url("${rt.image}")`:""},at=()=>{selectedObject$.set(ot)},ft=()=>{selectedObject$.set(-1)},st=()=>{selectObject(ot)};return jsxRuntimeExports.jsx($,{...nt,style:it,onClick:st,onMouseOver:at,onMouseLeave:ft,children:jsxRuntimeExports.jsx(Markup,{content:rt.name})})},AeroNewlocEffect=({children:j})=>{const $=useQspVariable("$NEWLOC_EFFECT","",0,"");let _e=useQspVariable("NEWLOC_EFFECT_TIME","",0,500);const et=!!useQspVariable("NEWLOC_EFFECT_SEQ","",0,0),tt=AERO_EFFECTS[$]??{};tt.enter&&Array.isArray(tt.enter)&&(_e/=tt.enter.length);const nt=useAtom_2(newLocHash$),rt=useTransition(nt,{...tt,key:nt,exitBeforeEnter:et,...et?{}:{leave:{...tt.leave,config:{duration:0}}},config:{duration:_e},onRest(){mainContent$.set(nextMainContent$.value)}});return reactExports.useEffect(()=>{(!$||!et)&&mainContent$.set(nextMainContent$.value)},[$,nt]),$?rt((ot,it)=>jsxRuntimeExports.jsx(animated.div,{style:ot,children:j},it)):j},aeroTransformers={"aero-newloc-effect"(j,$){return jsxRuntimeExports.jsx(AeroNewlocEffect,{children:$})},"aero-styles"(){return jsxRuntimeExports.jsx(AeroStyles,{})},"qsp-main-content"(j){return jsxRuntimeExports.jsx(AeroQspMainContent,{attrs:extractAttributes(j)})},"qsp-stats-content"(j){return jsxRuntimeExports.jsx(AeroQspStatsContent,{attrs:extractAttributes(j)})},"qsp-actions-list"(j,$){return jsxRuntimeExports.jsx(AeroQspActionsList,{attrs:extractAttributes(j),children:$})},"qsp-action"(j){return jsxRuntimeExports.jsx(AeroQspActionItem,{attrs:extractAttributes(j)})},"qsp-objects-list"(j,$){return jsxRuntimeExports.jsx(AeroQspObjectsList,{attrs:extractAttributes(j),children:$})},"qsp-object"(j,$){return jsxRuntimeExports.jsx(AeroQspObjectItem,{attrs:extractAttributes(j),children:$})},"qsp-menu"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(AeroQspMenu,{attrs:_e,children:$})},"qsp-menu-list"(j,$){return jsxRuntimeExports.jsx(AeroQspMenuList,{attrs:extractAttributes(j),children:$})},"qsp-menu-item"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(AeroQspMenuItem,{attrs:_e,children:$})},"qsp-msg"(j,$){return jsxRuntimeExports.jsx(AeroQspMsg,{attrs:extractAttributes(j),children:$})},"qsp-msg-content"(j){return jsxRuntimeExports.jsx(AeroQspMsgContent,{attrs:extractAttributes(j)})},"qsp-input"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(AeroQspInput,{attrs:_e,children:$})},"qsp-input-content"(j){return jsxRuntimeExports.jsx(AeroQspInputContent,{attrs:extractAttributes(j)})},"qsp-view"(j,$){const _e=extractAttributes(j);return jsxRuntimeExports.jsx(AeroQspView,{attrs:_e,modal:"modal"in _e,children:$})}},currentTransformers$=atom(j=>{switch(j(currentGameMode$)){case"classic":return{...defaultTransformers,...classicTransformers};case"aero":return{...defaultTransformers,...classicTransformers,...aeroTransformers};case"qspider":default:return defaultTransformers}}),transform=(j,$,_e)=>{const et=currentTransformers$.value[j.tagName.toLowerCase()];return et?et(j,$,_e):defaultTransform(j,$)},templateParser=new HtmlParser({transform}),currentGameDescription$=atom(j=>{const $=j(currentGameEntry$);return $!=null&&$.description?templateParser.parse($.description):[]}),playerTemplate$=atom(j=>{const _e=j(currentThemeData$).qsp_player??{template:"",attrs:{}},{attrs:et,template:tt}=_e;return{attrs:et,template:templateParser.parse(tt,!1)}}),qspGuiLayout$=atom(j=>{var nt;const $=j(qspGuiCfg$);if(!$)return null;const _e=((nt=j(defaultClassicTheme$).qsp_player)==null?void 0:nt.template)??"",et=buildLayoutTree($.Panels);let tt="";et.layer&&(tt+=convertLayer(et.layer,$.Docks,_e));for(const rt of et.floating)tt+=convertPane(rt,_e,!0);return templateParser.parse(tt,!1)});let mainContentKey=0;const parsedMainContent$=atom(j=>{const $=j(mainContent$);return j(hasBrowserTranslation$)||(mainContentKey=0),{content:templateParser.parse($),key:mainContentKey++}});let statsContentKey=0;const parsedStatsContent$=atom(j=>{const $=j(statsContent$);return j(hasBrowserTranslation$)||(statsContentKey=0),{content:templateParser.parse($),key:statsContentKey++}});let msgKey=0;const parsedMsgContent$=atom(j=>{const $=j(msg$);return j(hasBrowserTranslation$)||(msgKey=0),{content:templateParser.parse($.content),key:msgKey++}});let inputKey=0;const parsedInputContent$=atom(j=>{const $=j(input$);return j(hasBrowserTranslation$)||(inputKey=0),{content:templateParser.parse($.content),key:inputKey++}});let actionsKey=0;const actionsWithParsedName$=atom(j=>{const $=j(actions$);return j(hasBrowserTranslation$)||(actionsKey=0),$.map(_e=>({..._e,name:templateParser.parse(_e.name),key:actionsKey++}))});let objectsKey=0;const objectsWithParsedName$=atom(j=>{const $=j(objects$);return j(hasBrowserTranslation$)||(objectsKey=0),$.map(_e=>({..._e,name:templateParser.parse(_e.name),key:objectsKey++}))});let menuKey=0;const menuWithParsedName$=atom(j=>{const $=j(menu$);return j(hasBrowserTranslation$)||(menuKey=0),$.items.map(_e=>({..._e,name:templateParser.parse(_e.name),key:menuKey++}))});function createVariableAtom(j,$){const _e=atom($??"");return qspApi$.watch(et=>{et==null||et.watchVariable(j,0,tt=>{_e.set(tt||$||"")})}),_e}const mainFormat$=createVariableAtom("$MAIN_FORMAT"),aeroParsedMainContent$=atom(j=>{let $=j(mainContent$);const _e=j(mainFormat$);return _e&&($=_e.replace(TEXT_PLACEHOLDER,$)),j(hasBrowserTranslation$)||(mainContentKey=0),{content:templateParser.parse($),key:mainContentKey++}}),statsFormat$=createVariableAtom("$STATS_FORMAT"),aeroParsedStatsContent$=atom(j=>{let $=j(statsContent$);const _e=j(statsFormat$);return _e&&($=_e.replace(TEXT_PLACEHOLDER,$)),j(hasBrowserTranslation$)||(statsContentKey=0),{content:templateParser.parse($),key:statsContentKey++}}),inputFormat$=createVariableAtom("$INPUT_FORMAT"),aeroParsedInputContent$=atom(j=>{let $=j(input$).content;const _e=j(inputFormat$);return _e&&($=_e.replace(TEXT_PLACEHOLDER,$)),j(hasBrowserTranslation$)||(inputKey=0),{content:templateParser.parse($),key:inputKey++}}),msgFormat$=createVariableAtom("$MSG_FORMAT"),aeroParsedMsgContent$=atom(j=>{let $=j(msg$).content;const _e=j(msgFormat$);return _e&&($=_e.replace(TEXT_PLACEHOLDER,$)),j(hasBrowserTranslation$)||(msgKey=0),{content:templateParser.parse($),key:msgKey++}}),actionFormat$=createVariableAtom("$ACTION_FORMAT",DEFAULT_LIST_FORMAT),selectedActionFormat$=createVariableAtom("$SEL_ACTION_FORMAT",DEFAULT_SELECTED_LIST_FORMAT),aeroActionsWithParsedName$=atom(j=>{const $=j(actions$),_e=j(actionFormat$),et=j(selectedActionFormat$),tt=j(selectedAction$);return j(hasBrowserTranslation$)||(actionsKey=0),$.map((nt,rt)=>{const ot=rt===tt?et:_e;return{...nt,name:templateParser.parse(ot.replace(TEXT_PLACEHOLDER,nt.name).replace(IMAGE_PLACEHOLDER,nt.image||"")),key:actionsKey++}})}),objectsFormat$=createVariableAtom("$OBJECT_FORMAT",DEFAULT_LIST_FORMAT),selectedObjectFormat$=createVariableAtom("$SEL_OBJECT_FORMAT",DEFAULT_SELECTED_LIST_FORMAT),aeroObjectsWithParsedName$=atom(j=>{const $=j(objects$),_e=j(objectsFormat$),et=j(selectedObjectFormat$),tt=j(selectedObject$);return j(hasBrowserTranslation$)||(objectsKey=0),$.map((nt,rt)=>{const ot=rt===tt?et:_e;return{...nt,name:templateParser.parse(ot.replace(TEXT_PLACEHOLDER,nt.name).replace(IMAGE_PLACEHOLDER,nt.image||"")),key:objectsKey++}})}),menuFormat$=createVariableAtom("$MENU_FORMAT",DEFAULT_LIST_FORMAT),selectedMenuFormat$=createVariableAtom("$SEL_MENU_FORMAT",DEFAULT_SELECTED_LIST_FORMAT),aeroMenuWithParsedName$=atom(j=>{const $=j(menu$),_e=j(menuFormat$),et=j(selectedMenuFormat$),tt=j(selectedMenuItem$);return j(hasBrowserTranslation$)||(menuKey=0),$.items.map((nt,rt)=>{const ot=rt===tt?et:_e;return{...nt,name:templateParser.parse(ot.replace(TEXT_PLACEHOLDER,nt.name).replace(IMAGE_PLACEHOLDER,nt.image||"")),key:menuKey++}})}),QspPlayer=()=>{const{attrs:j,template:$}=useAtom_2(playerTemplate$),[_e,et,tt]=useAttributes(j,"qsp-player");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:jsxRuntimeExports.jsx(Markup,{content:$})})},loadingMessage$=atom(""),QspiderLoader=()=>{const j=useAtom_2(loadingMessage$);return jsxRuntimeExports.jsxs("div",{className:"q-loader",children:[jsxRuntimeExports.jsxs("div",{className:"q-book",children:[jsxRuntimeExports.jsxs("div",{className:"q-inner",children:[jsxRuntimeExports.jsx("div",{className:"q-left"})," ",jsxRuntimeExports.jsx("div",{className:"q-middle"})," ",jsxRuntimeExports.jsx("div",{className:"q-right"})]}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{}),jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})]})]}),j&&jsxRuntimeExports.jsx("div",{className:"q-loader__message",children:j})]})},ClickCoordinates=()=>{const{x:j,y:$}=useClickCoordinates(),_e=`qsp-game-root {--mouse-x: ${j}px;--mouse-y:${$}px;}`;return jsxRuntimeExports.jsx("style",{children:_e})};var ROOT_NAME="AlertDialog",[createAlertDialogContext,createAlertDialogScope]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog=j=>{const{__scopeAlertDialog:$,..._e}=j,et=useDialogScope($);return jsxRuntimeExports.jsx(Root$6,{...et,..._e,modal:!0})};AlertDialog.displayName=ROOT_NAME;var TRIGGER_NAME$2="AlertDialogTrigger",AlertDialogTrigger=reactExports.forwardRef((j,$)=>{const{__scopeAlertDialog:_e,...et}=j,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Trigger$3,{...tt,...et,ref:$})});AlertDialogTrigger.displayName=TRIGGER_NAME$2;var PORTAL_NAME$2="AlertDialogPortal",AlertDialogPortal=j=>{const{__scopeAlertDialog:$,..._e}=j,et=useDialogScope($);return jsxRuntimeExports.jsx(Portal$3,{...et,..._e})};AlertDialogPortal.displayName=PORTAL_NAME$2;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay=reactExports.forwardRef((j,$)=>{const{__scopeAlertDialog:_e,...et}=j,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Overlay,{...tt,...et,ref:$})});AlertDialogOverlay.displayName=OVERLAY_NAME;var CONTENT_NAME$2="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME$2),AlertDialogContent=reactExports.forwardRef((j,$)=>{const{__scopeAlertDialog:_e,children:et,...tt}=j,nt=useDialogScope(_e),rt=reactExports.useRef(null),ot=useComposedRefs($,rt),it=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME$2,titleName:TITLE_NAME$1,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:_e,cancelRef:it,children:jsxRuntimeExports.jsxs(Content$1,{role:"alertdialog",...nt,...tt,ref:ot,onOpenAutoFocus:composeEventHandlers(tt.onOpenAutoFocus,at=>{var ft;at.preventDefault(),(ft=it.current)==null||ft.focus({preventScroll:!0})}),onPointerDownOutside:at=>at.preventDefault(),onInteractOutside:at=>at.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:et}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:rt})]})})})});AlertDialogContent.displayName=CONTENT_NAME$2;var TITLE_NAME$1="AlertDialogTitle",AlertDialogTitle=reactExports.forwardRef((j,$)=>{const{__scopeAlertDialog:_e,...et}=j,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Title,{...tt,...et,ref:$})});AlertDialogTitle.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="AlertDialogDescription",AlertDialogDescription=reactExports.forwardRef((j,$)=>{const{__scopeAlertDialog:_e,...et}=j,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Description$1,{...tt,...et,ref:$})});AlertDialogDescription.displayName=DESCRIPTION_NAME$1;var ACTION_NAME$1="AlertDialogAction",AlertDialogAction=reactExports.forwardRef((j,$)=>{const{__scopeAlertDialog:_e,...et}=j,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Close$1,{...tt,...et,ref:$})});AlertDialogAction.displayName=ACTION_NAME$1;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel=reactExports.forwardRef((j,$)=>{const{__scopeAlertDialog:_e,...et}=j,{cancelRef:tt}=useAlertDialogContentContext(CANCEL_NAME,_e),nt=useDialogScope(_e),rt=useComposedRefs($,tt);return jsxRuntimeExports.jsx(Close$1,{...nt,...et,ref:rt})});AlertDialogCancel.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:j})=>{const $=`\`${CONTENT_NAME$2}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME$2}\` by passing a \`${DESCRIPTION_NAME$1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME$2}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var et;document.getElementById((et=j.current)==null?void 0:et.getAttribute("aria-describedby"))||console.warn($)},[$,j]),null},Root2$2=AlertDialog,Portal2=AlertDialogPortal,Overlay2=AlertDialogOverlay,Content2$2=AlertDialogContent,Cancel=AlertDialogCancel,Title2=AlertDialogTitle,Description2=AlertDialogDescription;const QspErrorAlert=()=>{const j=useAtom_2(qspError$),{t:$}=useTranslation();return j?jsxRuntimeExports.jsx(Root2$2,{open:!0,onOpenChange:()=>qspError$.set(null),children:jsxRuntimeExports.jsxs(Portal2,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay2,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content2$2,{className:"qsp-dialog-container qsp-error-container",children:jsxRuntimeExports.jsxs("div",{className:"qsp-error",children:[jsxRuntimeExports.jsx(Title2,{children:$("Error")}),jsxRuntimeExports.jsxs(Description2,{children:[$("Error"),": ",$(j.description),jsxRuntimeExports.jsx("br",{}),j.code>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$("Error code"),": ",j.code,jsxRuntimeExports.jsx("br",{})]}):"",j.location&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$("Location"),": ",j.location,jsxRuntimeExports.jsx("br",{})]}),j.actionIndex>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$("Action index"),": ",j.actionIndex," ",jsxRuntimeExports.jsx("br",{})]}):"",j.line>=0?$("Line")+": "+j.line:""]}),jsxRuntimeExports.jsx("div",{className:"qsp-dialog-buttons",children:jsxRuntimeExports.jsx(Cancel,{className:"qsp-button",children:$("Close")})})]})})]})}):null},QspCSSVariables=()=>{const j=useAtom_2(currentCssVariables$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j.map($=>jsxRuntimeExports.jsx(QspCssVariable,{definition:$},$.name))})},imageSizes$=atom({}),QspCssVariableResource=j=>{const $=useSetup(ot=>{const it=ot.focus(at=>at.url);return it.watch(at=>{if(at=prepareUrl(at),!!at&&!imageSizes$.value[at]){const ft=document.createElement("img");ft.onload=()=>{const st={width:ft.naturalWidth,height:ft.naturalHeight};imageSizes$.update(ut=>({...ut,[at]:st}))},ft.src=at}}),atom(at=>{const ft=prepareUrl(at(it));return at(imageSizes$)[ft]??{width:0,height:0}})},j),_e=useAtom_2($);let{url:et}=j;et=prepareUrl(et);const{name:tt}=j,nt=j.withSize?`${tt}-w: ${_e.width}px; ${tt}-h: ${_e.height}px`:"",rt=`qsp-game-root, #portal-container {${tt}: ${et?`url("${et}")`:"none"};${nt}}`;return jsxRuntimeExports.jsx("style",{children:rt})};function prepareUrl(j){return j.startsWith("qspider:")?j=j.replace("qspider:",initialBaseUrl$.value):j=baseUrl$.value+j,j.replace("\\","/")}const QspCssVariable=({definition:j})=>{const $=useQspVariable(j.from,"",0,""),_e=[];if(j.type==="color"){const tt=$?convertColor(Number($)):j.defaultValue;if(tt&&(_e.push(`${j.name}: ${tt}`),j.withContrast&&_e.push(`${j.name}-contrast: ${getContrastColor(tt)}`),j.withInverted)){const nt=invertColor(tt);_e.push(`${j.name}-inverted: ${nt}`),j.withContrast&&_e.push(`${j.name}-inverted-contrast: ${getContrastColor(nt)}`)}}else if(j.type==="unit"){const tt=`${$||j.defaultValue}${j.unit||""}`;_e.push(`${j.name}: ${tt}`)}else{if(j.type==="resource")return!$&&!j.defaultValue?null:jsxRuntimeExports.jsx(QspCssVariableResource,{name:j.name,url:$||j.defaultValue,withSize:j.withSize});$&&_e.push(`${j.name}: ${$}`)}if(!_e.length)return null;const et=`qsp-game-root, #portal-container {${_e.join("; ")}}`;return jsxRuntimeExports.jsx("style",{children:et})},WaitLock=()=>{const j=useAtom_2(wait$);return useEventListener("keypress",$=>{wait$.value&&($.preventDefault(),$.stopPropagation(),finishWait())},document),j?jsxRuntimeExports.jsx("div",{className:"wait-lock",onClick:finishWait}):null},QspCSSLinks=()=>{const j=useAtom_2(currentCssLinks$),$=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j.map(_e=>jsxRuntimeExports.jsx("link",{rel:"stylesheet",href:_e.startsWith("qspider:")?_e.replace("qspider:",$):_e},_e))})},QspScriptLinks=()=>{const j=useAtom_2(currentScriptLinks$),$=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j.map(_e=>jsxRuntimeExports.jsx("script",{src:_e.startsWith("qspider:")?_e.replace("qspider:",$):_e},_e))})},handler=throttle(j=>{var $;if(j.key==="Escape"){if(!currentGameEntry$.value||wait$.value||msg$.value.isOpen||input$.value.isOpen||menu$.value.isOpen||isPauseScreenVisible$.value||view$.value.isOpen&&view$.value.isModal)return;j.preventDefault(),j.stopPropagation(),(($=qspApi$.value)==null?void 0:$.readVariable("NOSAVE"))&&requestedAction$.set("load"),openPauseScreen()}},10),GameRunner=()=>{const j=useAtom_2(currentGameEntry$);return useEventListener("keydown",handler,document,{capture:!0}),j?jsxRuntimeExports.jsxs("qsp-game-root",{children:[jsxRuntimeExports.jsx(ClickCoordinates,{}),jsxRuntimeExports.jsx(QspCSSVariables,{}),jsxRuntimeExports.jsx(QspCSSLinks,{}),jsxRuntimeExports.jsx(QspPlayer,{}),jsxRuntimeExports.jsx(WaitLock,{}),jsxRuntimeExports.jsx(QspErrorAlert,{}),jsxRuntimeExports.jsx(QspScriptLinks,{})]}):jsxRuntimeExports.jsx(QspiderLoader,{})};function _extends(){return _extends=Object.assign||function(j){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(j[et]=_e[et])}return j},_extends.apply(this,arguments)}var Action;(function(j){j.Pop="POP",j.Push="PUSH",j.Replace="REPLACE"})(Action||(Action={}));var readOnly=function(j){return j},BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory(j){j===void 0&&(j={});var $=j,_e=$.window,et=_e===void 0?document.defaultView:_e,tt=et.history;function nt(){var St=et.location,wt=St.pathname,It=St.search,Ut=St.hash,Yt=tt.state||{};return[Yt.idx,readOnly({pathname:wt,search:It,hash:Ut,state:Yt.usr||null,key:Yt.key||"default"})]}var rt=null;function ot(){if(rt)dt.call(rt),rt=null;else{var St=Action.Pop,wt=nt(),It=wt[0],Ut=wt[1];if(dt.length){if(It!=null){var Yt=ft-It;Yt&&(rt={action:St,location:Ut,retry:function(){At(Yt*-1)}},At(Yt))}}else vt(St)}}et.addEventListener(PopStateEventType,ot);var it=Action.Pop,at=nt(),ft=at[0],st=at[1],ut=createEvents(),dt=createEvents();ft==null&&(ft=0,tt.replaceState(_extends({},tt.state,{idx:ft}),""));function pt(St){return typeof St=="string"?St:createPath(St)}function gt(St,wt){return wt===void 0&&(wt=null),readOnly(_extends({pathname:st.pathname,hash:"",search:""},typeof St=="string"?parsePath(St):St,{state:wt,key:createKey()}))}function yt(St,wt){return[{usr:St.state,key:St.key,idx:wt},pt(St)]}function mt(St,wt,It){return!dt.length||(dt.call({action:St,location:wt,retry:It}),!1)}function vt(St){it=St;var wt=nt();ft=wt[0],st=wt[1],ut.call({action:it,location:st})}function _t(St,wt){var It=Action.Push,Ut=gt(St,wt);function Yt(){_t(St,wt)}if(mt(It,Ut,Yt)){var rn=yt(Ut,ft+1),hn=rn[0],Vt=rn[1];try{tt.pushState(hn,"",Vt)}catch{et.location.assign(Vt)}vt(It)}}function Ct(St,wt){var It=Action.Replace,Ut=gt(St,wt);function Yt(){Ct(St,wt)}if(mt(It,Ut,Yt)){var rn=yt(Ut,ft),hn=rn[0],Vt=rn[1];tt.replaceState(hn,"",Vt),vt(It)}}function At(St){tt.go(St)}var kt={get action(){return it},get location(){return st},createHref:pt,push:_t,replace:Ct,go:At,back:function(){At(-1)},forward:function(){At(1)},listen:function(wt){return ut.push(wt)},block:function(wt){var It=dt.push(wt);return dt.length===1&&et.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){It(),dt.length||et.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return kt}function promptBeforeUnload(j){j.preventDefault(),j.returnValue=""}function createEvents(){var j=[];return{get length(){return j.length},push:function(_e){return j.push(_e),function(){j=j.filter(function(et){return et!==_e})}},call:function(_e){j.forEach(function(et){return et&&et(_e)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(j){var $=j.pathname,_e=$===void 0?"/":$,et=j.search,tt=et===void 0?"":et,nt=j.hash,rt=nt===void 0?"":nt;return tt&&tt!=="?"&&(_e+=tt.charAt(0)==="?"?tt:"?"+tt),rt&&rt!=="#"&&(_e+=rt.charAt(0)==="#"?rt:"#"+rt),_e}function parsePath(j){var $={};if(j){var _e=j.indexOf("#");_e>=0&&($.hash=j.substr(_e),j=j.substr(0,_e));var et=j.indexOf("?");et>=0&&($.search=j.substr(et),j=j.substr(0,et)),j&&($.pathname=j)}return $}var browser=createBrowserHistory();function navigateTo(j){browser.push(`?${j}`)}function goToGame(j){browser.push(`${initialBaseUrl$.value}?run=${j}`)}const currentMode$=atom("shelf"),games$=atom({},j=>({add($,_e){var et;(et=storage$.value)==null||et.addGame($,_e).catch(console.error),j.update(tt=>({...tt,[$]:_e}))},update($,_e){var et;(et=storage$.value)==null||et.updateGame($,_e).catch(console.error),j.update(tt=>({...tt,[$]:{...tt[$]||{},..._e}}))},remove($){var _e;(_e=storage$.value)==null||_e.removeGame($).catch(console.error),j.update(et=>{const{[$]:tt,...nt}=et;return nt})}})),gamesList$=atom(j=>Object.values(j(games$)).sort(($,_e)=>$.title.localeCompare(_e.title))),gameSourceMap$=atom(j=>{var _e;const $=new Map;for(const et of Object.values(j(games$)))if((_e=et.meta)!=null&&_e.source){const tt=$.get(et.meta.source)??new Set;tt.add(et.meta.source_id),$.set(et.meta.source,tt)}return $});browser.listen(({location:j})=>{processLocationChange(j.search)});async function processLocationChange(j){const $=new URLSearchParams(j),_e=$.get("run");if(_e){await initDeferred$.value.promise;const et=games$.value[_e];await runGame(et),currentMode$.set("game")}else $.has("catalog")?(currentGameEntry$.value&&stopCurrentGame(),currentMode$.set("catalog")):(currentGameEntry$.value&&stopCurrentGame(),currentMode$.set("shelf"))}async function loadGamesFromStorage(){var $;const j=await(($=storage$.value)==null?void 0:$.getGames());j&&games$.set(j)}function _objectWithoutPropertiesLoose(j,$){if(j==null)return{};var _e={},et=Object.keys(j),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=j[tt]);return _e}var _excluded$T=["color"],CheckIcon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$T);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$W=["color"],ChevronDownIcon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$W);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$Z=["color"],ChevronUpIcon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$Z);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1q=["color"],Cross1Icon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$1q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1L=["color"],DoubleArrowDownIcon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$1L);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M3.85355 2.14645C3.65829 1.95118 3.34171 1.95118 3.14645 2.14645C2.95118 2.34171 2.95118 2.65829 3.14645 2.85355L7.14645 6.85355C7.34171 7.04882 7.65829 7.04882 7.85355 6.85355L11.8536 2.85355C12.0488 2.65829 12.0488 2.34171 11.8536 2.14645C11.6583 1.95118 11.3417 1.95118 11.1464 2.14645L7.5 5.79289L3.85355 2.14645ZM3.85355 8.14645C3.65829 7.95118 3.34171 7.95118 3.14645 8.14645C2.95118 8.34171 2.95118 8.65829 3.14645 8.85355L7.14645 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L11.8536 8.85355C12.0488 8.65829 12.0488 8.34171 11.8536 8.14645C11.6583 7.95118 11.3417 7.95118 11.1464 8.14645L7.5 11.7929L3.85355 8.14645Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1O=["color"],DoubleArrowUpIcon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$1O);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M11.1464 6.85355C11.3417 7.04882 11.6583 7.04882 11.8536 6.85355C12.0488 6.65829 12.0488 6.34171 11.8536 6.14645L7.85355 2.14645C7.65829 1.95118 7.34171 1.95118 7.14645 2.14645L3.14645 6.14645C2.95118 6.34171 2.95118 6.65829 3.14645 6.85355C3.34171 7.04882 3.65829 7.04882 3.85355 6.85355L7.5 3.20711L11.1464 6.85355ZM11.1464 12.8536C11.3417 13.0488 11.6583 13.0488 11.8536 12.8536C12.0488 12.6583 12.0488 12.3417 11.8536 12.1464L7.85355 8.14645C7.65829 7.95118 7.34171 7.95118 7.14645 8.14645L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L7.5 9.20711L11.1464 12.8536Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4i=["color"],SunIcon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$4i);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M7.5 0C7.77614 0 8 0.223858 8 0.5V2.5C8 2.77614 7.77614 3 7.5 3C7.22386 3 7 2.77614 7 2.5V0.5C7 0.223858 7.22386 0 7.5 0ZM2.1967 2.1967C2.39196 2.00144 2.70854 2.00144 2.90381 2.1967L4.31802 3.61091C4.51328 3.80617 4.51328 4.12276 4.31802 4.31802C4.12276 4.51328 3.80617 4.51328 3.61091 4.31802L2.1967 2.90381C2.00144 2.70854 2.00144 2.39196 2.1967 2.1967ZM0.5 7C0.223858 7 0 7.22386 0 7.5C0 7.77614 0.223858 8 0.5 8H2.5C2.77614 8 3 7.77614 3 7.5C3 7.22386 2.77614 7 2.5 7H0.5ZM2.1967 12.8033C2.00144 12.608 2.00144 12.2915 2.1967 12.0962L3.61091 10.682C3.80617 10.4867 4.12276 10.4867 4.31802 10.682C4.51328 10.8772 4.51328 11.1938 4.31802 11.3891L2.90381 12.8033C2.70854 12.9986 2.39196 12.9986 2.1967 12.8033ZM12.5 7C12.2239 7 12 7.22386 12 7.5C12 7.77614 12.2239 8 12.5 8H14.5C14.7761 8 15 7.77614 15 7.5C15 7.22386 14.7761 7 14.5 7H12.5ZM10.682 4.31802C10.4867 4.12276 10.4867 3.80617 10.682 3.61091L12.0962 2.1967C12.2915 2.00144 12.608 2.00144 12.8033 2.1967C12.9986 2.39196 12.9986 2.70854 12.8033 2.90381L11.3891 4.31802C11.1938 4.51328 10.8772 4.51328 10.682 4.31802ZM8 12.5C8 12.2239 7.77614 12 7.5 12C7.22386 12 7 12.2239 7 12.5V14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5V12.5ZM10.682 10.682C10.8772 10.4867 11.1938 10.4867 11.3891 10.682L12.8033 12.0962C12.9986 12.2915 12.9986 12.608 12.8033 12.8033C12.608 12.9986 12.2915 12.9986 12.0962 12.8033L10.682 11.3891C10.4867 11.1938 10.4867 10.8772 10.682 10.682ZM5.5 7.5C5.5 6.39543 6.39543 5.5 7.5 5.5C8.60457 5.5 9.5 6.39543 9.5 7.5C9.5 8.60457 8.60457 9.5 7.5 9.5C6.39543 9.5 5.5 8.60457 5.5 7.5ZM7.5 4.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5C9.15685 10.5 10.5 9.15685 10.5 7.5C10.5 5.84315 9.15685 4.5 7.5 4.5Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4N=["color"],UpdateIcon=reactExports.forwardRef(function(j,$){var _e=j.color,et=_e===void 0?"currentColor":_e,tt=_objectWithoutPropertiesLoose(j,_excluded$4N);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt,{ref:$}),reactExports.createElement("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:et,fillRule:"evenodd",clipRule:"evenodd"}))});const SevenZipWasmUrl=""+new URL("7zz-VeZPb8VL.wasm",import.meta.url).href,isSupportedArchive=j=>{const $=new Uint8Array(j);return isZip($)||isRar($)||is7zip($)},isZip=j=>j[0]===80&&j[1]===75&&(j[2]===3||j[2]===5||j[2]===7)&&(j[3]===4||j[3]===6||j[3]===8),isRar=j=>j[0]===82&&j[1]===97&&j[2]===114&&j[3]===33,is7zip=j=>j[0]===55&&j[1]===122&&j[2]===188&&j[3]===175&&j[4]===39&&j[5]===28;let sevenZip=null;async function initSevenZip(){if(sevenZip)return sevenZip;const j=(await __vitePreload(async()=>{const{default:_e}=await import("./7zz.es6-Bov7skm9.js");return{default:_e}},__vite__mapDeps([0,1]),import.meta.url)).default;sevenZip=await j({wasmBinary:await fetch(SevenZipWasmUrl).then(_e=>_e.arrayBuffer())});const $=sevenZip.FS.chmod;return sevenZip.FS.chmod=function(_e,et,tt){et&&$(_e,et,tt)},sevenZip}const read7zip=async j=>{const $=await initSevenZip(),_e="archive.tmp",et=new Uint8Array(j),tt=$.FS.open(_e,"w+");$.FS.write(tt,et,0,et.length),$.FS.close(tt),$.FS.mkdir("game"),$.callMain(["x",_e,"-ogame","-y","-r"]),$.FS.chdir("game");const nt=readExtractedDirectory($.FS,".");return removeDirRecursive($.FS,"game"),$.FS.rmdir("game"),$.FS.unlink(_e),nt},readSupportedArchive=j=>read7zip(j),folderToSkip=new Set([".","..","__MACOSX"]),filesToSkip=new Set([".DS_Store"]);function readExtractedDirectory(j,$){const _e={type:"dir",name:$,content:[]};j.chdir($);for(const et of j.readdir(".")){if(folderToSkip.has(et)||filesToSkip.has(et))continue;const{mode:tt}=j.lookupPath(et).node;j.isFile(tt)?_e.content.push({type:"file",name:et,data:j.readFile(et)}):j.isDir(tt)&&_e.content.push(readExtractedDirectory(j,et))}return j.chdir(".."),_e}function removeDirRecursive(j,$){j.chdir($);for(const _e of j.readdir(".")){if(_e==="."||_e==="..")continue;const{mode:et}=j.lookupPath(_e).node;j.isFile(et)?j.unlink(_e):j.isDir(et)&&(removeDirRecursive(j,_e),j.rmdir(_e))}j.chdir("..")}async function importArchive(j,$,_e){var ot,it,at;const et=storage$.value;if(!et)throw new Error("missing storage");if(!isSupportedArchive($))throw new Error("unsupporter archive format");const tt=await readSupportedArchive($),nt=findRootDescriptorFolder(tt);if(nt){const[ft,st]=nt,ut=await readGameDescriptor(st);for(const dt of ut)try{const pt=getGameFolder(ft,dt.file);await storeFolderContent(dt.id,pt);const gt=pt.content.find(yt=>yt.type==="file"&&yt.name===GAME_DESCRIPTOR_NAME);if(gt){const[yt]=await readGameDescriptor(gt.data);Object.assign(dt,yt)}else{const yt=stringify({game:[dt]});await((ot=storage$.value)==null?void 0:ot.addGameResource(dt.id,GAME_DESCRIPTOR_NAME,new TextEncoder().encode(yt)))}}catch(pt){console.error(pt)}return Promise.all(ut.map(async dt=>{var mt;const pt=dt.file.slice(dt.file.lastIndexOf("/")+1),gt=await et.prepareLoadConfig(dt.id,pt);let yt=(mt=dt.resources)==null?void 0:mt.icon;return yt&&(yt=`${gt.url}${yt}`),{id:dt.id,mode:dt.mode,title:dt.title,author:dt.author,ported_by:dt.ported_by,version:dt.version,description:dt.description,icon:yt,loadConfig:{...gt,descriptor:dt}}}))}const rt=findRootGameFileFolder(tt);if(rt){const[ft,st]=rt,ut=(_e==null?void 0:_e.id)||cyrb53(j);if(await storeFolderContent(ut,ft),_e){const gt=stringify({game:[_e]});await((it=storage$.value)==null?void 0:it.addGameResource(ut,GAME_DESCRIPTOR_NAME,new TextEncoder().encode(gt)))}const dt=await et.prepareLoadConfig(ut,st);let pt=(at=_e==null?void 0:_e.resources)==null?void 0:at.icon;return pt&&(pt=`${dt.url}${pt}`),[{id:ut,title:(_e==null?void 0:_e.title)||j.slice(j.lastIndexOf("/")+1),mode:(_e==null?void 0:_e.mode)||(j.endsWith("aqsp")?"aero":"classic"),author:_e==null?void 0:_e.author,ported_by:_e==null?void 0:_e.ported_by,version:_e==null?void 0:_e.version,description:_e==null?void 0:_e.description,icon:pt,loadConfig:dt}]}throw new Error("Game files not found inside archive")}function findRootDescriptorFolder(j){for(const $ of j.content)if($.type==="file"&&$.name===GAME_DESCRIPTOR_NAME)return[j,$.data];for(const $ of j.content)if($.type==="dir"){const _e=findRootDescriptorFolder($);if(_e)return _e}return null}function findRootGameFileFolder(j){let $=null,_e=null;for(const et of j.content)et.type==="file"&&((et.name.endsWith(".qsp")||et.name.endsWith(".gam"))&&($=et.name),et.name.endsWith(".qsps")&&(_e=et.name));if($)return[j,$];if(_e)return[j,_e];for(const et of j.content)if(et.type==="dir"){const tt=findRootGameFileFolder(et);if(tt)return tt}return null}function getGameFolder(j,$){const _e=$.split("/");_e.pop();let et=j;for(const tt of _e){const nt=et.content.find(rt=>rt.type==="dir"&&rt.name===tt);if(!nt)throw new Error(`Failed to find game file ${$} in archvive`);et=nt}return et}async function readGameDescriptor(j){const _e=await new Blob([j]).text();return parse$1(_e).game}async function storeFolderContent(j,$,_e=""){var et;for(const tt of $.content)if(tt.type==="dir")await storeFolderContent(j,tt,`${_e}${tt.name}/`);else{if(tt.name===".DS_Store")continue;await((et=storage$.value)==null?void 0:et.addGameResource(j,`${_e}${tt.name}`,tt.data))}}async function importUrl(j,$,_e){const et=new URL(j);et.hash="",et.search="";const tt=et.toString(),nt=await fetchProxyFallback(j).then(it=>{if(!it.ok)throw new Error(`Failed to load url ${j}`);return it.arrayBuffer()});if(isSupportedArchive(nt))return importArchive($||tt,nt,_e);const rt=tt.slice(0,tt.lastIndexOf("/")+1),ot=tt.replace(rt,"");if(ot.endsWith(".cfg")){const it=new TextDecoder().decode(nt),at=parse$1(it),ft=[];for(const st of at.game){const ut=`${rt}${st.file}`;ft.push(...await importUrl(ut,st.file,st))}return ft}else{const it=`${rt}game.cfg`;try{const at=await fetchProxyFallback(it).then(ut=>ut.text()),st=parse$1(at).game.find(ut=>ut.file===ot);if(!st)throw new Error("Config not found");return[{id:st.id,mode:st.mode,title:st.title,author:st.author,ported_by:st.ported_by,version:st.version,description:st.description,loadConfig:{url:rt,entrypoint:st.file}}]}catch{return[{id:(_e==null?void 0:_e.id)||cyrb53(tt),title:(_e==null?void 0:_e.title)||ot,mode:(_e==null?void 0:_e.mode)||"classic",author:_e==null?void 0:_e.author,ported_by:_e==null?void 0:_e.ported_by,version:_e==null?void 0:_e.version,description:_e==null?void 0:_e.description,loadConfig:{url:rt,entrypoint:ot,descriptor:_e}}]}}}async function importFile(j,$){var et;if(!storage$.value)throw new Error("missing storage");if(isSupportedArchive($))return importArchive(j,$);const _e=cyrb53(j);return await((et=storage$.value)==null?void 0:et.addGameResource(_e,j,$)),[{id:cyrb53(j),title:j,mode:"classic",loadConfig:await storage$.value.prepareLoadConfig(_e,j)}]}const qspCatalogList$=atom([]),qspAuthorFilter$=atom(""),qspSortByField$=atom("title"),qspSortDirection$=atom("asc"),qspTitleSearch$=atom(""),onlyAero$=atom(!1),qspCatalogPreparedList$=atom(j=>{const $=j(qspCatalogList$),_e=j(qspAuthorFilter$),et=j(qspSortByField$),tt=j(qspSortDirection$),nt=j(qspTitleSearch$).toLocaleLowerCase(),rt=j(onlyAero$);let ot=_e?$.filter(it=>it.author.includes(_e)):$.slice();return rt&&(ot=ot.filter(it=>it.file_ext==="aqsp")),nt&&(ot=ot.filter(it=>it.title.toLocaleLowerCase().includes(nt))),ot.sort(sortByField(et)),tt==="desc"&&ot.reverse(),ot}),qspAuthors$=atom(j=>{const $=j(qspCatalogList$),_e=new Set;for(const et of $){const tt=et.author.split(",");for(const nt of tt)nt.trim()&&_e.add(nt.trim())}return[..._e].sort((et,tt)=>et.localeCompare(tt))}),catalogLoading$=atom("pending"),sourceName="org.qsp.games",CATALOG_URL="https://catalog.qspider.xyz/",catalogLoadingDeferred=defer$1();async function loadQspCatalog(){if(catalogLoading$.value==="loading")return catalogLoadingDeferred.promise;catalogLoading$.value="loading";try{const j=await fetch(CATALOG_URL);if(!j.ok)throw new Error("Failed to load catalog");const $=await j.json();qspCatalogList$.value=$,catalogLoading$.value="loaded"}catch{catalogLoading$.value="failed"}return catalogLoadingDeferred.resolve(),catalogLoadingDeferred.promise}async function moveToShelf(j){try{const $=await importUrl(`${CATALOG_URL}game-source?id=${j.id}`,`qsp-game-${j.id}.${j.file_ext}`);for(const _e of $)_e.title=j.title,_e.description=j.description,_e.icon=`https://qsp.su/gamestock/image.php?name=${j.icon}`,_e.author=j.author,_e.ported_by=j.ported_by,_e.version=j.version,_e.meta={source:"org.qsp.games",source_id:String(j.id),source_date:j.mod_date},games$.actions.add(_e.id,_e),showNotice(instance.t("{{ name }} added to shelf",{name:j.title}));return $}catch($){console.error($),showError(`Failed to load source for game ${j.title}`)}return[]}function toggleSortDirection(){qspSortDirection$.update(j=>j==="asc"?"desc":"asc")}function sortByField(j){return($,_e)=>{const et=$[j],tt=_e[j];return typeof et=="number"&&typeof tt=="number"?et-tt:typeof et=="string"&&typeof tt=="string"?et.localeCompare(tt):et===tt?0:et<tt?1:-1}}const GameCard=j=>{const{game:$}=j,_e=useSetup(ft=>{const st=ft.focus(ut=>ut.game.description);return atom(ut=>templateParser.parse(ut(st)??""))},j),{t:et}=useTranslation(),tt=reactExports.useCallback(()=>{games$.actions.remove($.id)},[$.id]),nt=useSetup(ft=>{const st=ft.focus(ut=>ut.game);return atom(ut=>{var gt;const dt=(gt=ut(st).meta)==null?void 0:gt.source_id;if(!dt)return null;const pt=parseInt(dt);return ut(qspCatalogList$).find(yt=>yt.id===pt)})},j),rt=useAtom_2(nt),ot=useAtom_2(_e),it=$.meta&&rt?$.meta.source_date<rt.mod_date:!1,at=()=>{!it||!rt||moveToShelf(rt)};return jsxRuntimeExports.jsx(Root$6,{children:jsxRuntimeExports.jsxs("div",{className:"game-shelf__card","data-qa":`game-${$.id}`,children:[jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-content",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"q-ghost-button q-remove-game-button",title:"Remove from Game Shelf",onClick:tt,children:jsxRuntimeExports.jsx(Cross1Icon,{})}),jsxRuntimeExports.jsxs("h3",{className:"game-shelf__card-title",children:[$.icon&&jsxRuntimeExports.jsx("img",{alt:"",src:$.icon,loading:"lazy"}),$.title]})]}),jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details",children:[$.author&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[et("Author"),": ",$.author]}),$.ported_by&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[et("Ported by"),": ",$.ported_by]}),$.version&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[et("Version"),": ",$.version]})]}),it&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-actions",children:[et("Game has been updated in catalog"),jsxRuntimeExports.jsx("button",{className:"q-button",onClick:at,children:et("Update on shelf")})]}),jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-actions",children:[$.description?jsxRuntimeExports.jsx(Trigger$3,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",children:et("Read Description")})}):jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("a",{href:"#",onClick:ft=>{ft.preventDefault(),goToGame($.id)},children:et("Run")})]}),$.description&&jsxRuntimeExports.jsxs(Portal$3,{children:[jsxRuntimeExports.jsx(Overlay,{className:"qspider-dialog-overlay"}),jsxRuntimeExports.jsxs(Content$1,{className:"qspider-dialog-content",children:[jsxRuntimeExports.jsxs(Root$5,{className:"qspider-scroll-root",children:[jsxRuntimeExports.jsx(Viewport$2,{className:"qspider-scroll-area",children:jsxRuntimeExports.jsx(Markup,{content:ot})}),jsxRuntimeExports.jsx(Scrollbar,{className:"qspider-scroll-bar",orientation:"vertical",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qspider-scroll-thumb"})})]}),jsxRuntimeExports.jsx(Close$1,{className:"q-ghost-button q-dialog-close","aria-label":"Close",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]})]})]})})},GameShelf=()=>{const j=useAtom_2(gamesList$),{t:$}=useTranslation();return jsxRuntimeExports.jsx("div",{className:"game-shelf",children:j.length>0?jsxRuntimeExports.jsx("div",{className:"game-shelf__list",children:j.map(_e=>jsxRuntimeExports.jsx(GameCard,{game:_e},_e.id))}):jsxRuntimeExports.jsx("div",{className:"game-shelf__empty",children:$("Game shelf is empty")})})},sizes=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],byteSize=1024;function formatBytes(j,$=2){if(j===0)return"0 Bytes";const _e=Math.floor(Math.log(j)/Math.log(byteSize));return parseFloat((j/Math.pow(byteSize,_e)).toFixed($))+" "+sizes[_e]}const CatalogGameCard=j=>{const{t:$}=useTranslation(),_e=useSetup(st=>{const ut=st.focus(dt=>dt.game.id);return atom(dt=>{const pt=dt(gameSourceMap$).get(sourceName),gt=String(dt(ut));return pt==null?void 0:pt.has(gt)})},j),et=useSetup(st=>{const ut=st.focus(dt=>dt.game.description);return atom(dt=>templateParser.parse(dt(ut)))},j),tt=useAtom_2(_e),nt=useAtom_2(et),{game:rt}=j,ot=rt.icon?rt.icon.substring(rt.icon.lastIndexOf("com_sobi2")):null,[it,at]=reactExports.useState(!1),ft=reactExports.useCallback(async()=>{at(!0),await moveToShelf(rt),at(!1)},[rt]);return jsxRuntimeExports.jsx(Root$6,{children:jsxRuntimeExports.jsxs("div",{className:"q-catalog__card","data-id":rt.id,children:[jsxRuntimeExports.jsxs("h5",{className:"q-title",children:[rt.icon&&jsxRuntimeExports.jsx("img",{alt:"",src:"https://qsp.su/gamestock/image.php?name="+ot,loading:"lazy"}),rt.title]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[$("Author"),": ",rt.author]}),rt.ported_by&&jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[$("Ported by"),": ",rt.ported_by]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[$("Version"),": ",rt.version]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[$("Size"),": ",formatBytes(rt.file_size)]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[$("Type"),": ",rt.file_ext]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[$("Last update"),": ",formatDate(new Date(rt.mod_date))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-buttons",children:[rt.description?jsxRuntimeExports.jsx(Trigger$3,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",children:$("Read Description")})}):jsxRuntimeExports.jsx("div",{}),tt?jsxRuntimeExports.jsx("span",{children:$("On Shelf")}):jsxRuntimeExports.jsx("button",{className:"q-button",disabled:it,onClick:ft,children:it?jsxRuntimeExports.jsx("span",{className:"q-spin",children:jsxRuntimeExports.jsx(UpdateIcon,{})}):$("Add to shelf")})]}),rt.description?jsxRuntimeExports.jsxs(Portal$3,{children:[jsxRuntimeExports.jsx(Overlay,{className:"qspider-dialog-overlay"}),jsxRuntimeExports.jsxs(Content$1,{className:"qspider-dialog-content",children:[jsxRuntimeExports.jsxs(Root$5,{className:"qspider-scroll-root",children:[jsxRuntimeExports.jsx(Viewport$2,{className:"qspider-scroll-area",children:jsxRuntimeExports.jsx(Markup,{content:nt})}),jsxRuntimeExports.jsx(Scrollbar,{className:"qspider-scroll-bar",orientation:"vertical",children:jsxRuntimeExports.jsx(Thumb$2,{className:"qspider-scroll-thumb"})})]}),jsxRuntimeExports.jsx(Close$1,{className:"q-ghost-button q-dialog-close","aria-label":"Close",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]})]}):null]})})};var NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((j,$)=>jsxRuntimeExports.jsx(Primitive.span,{...j,ref:$,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...j.style}}));VisuallyHidden.displayName=NAME;var Root$1=VisuallyHidden,OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope$1=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=j=>{const{__scopeSelect:$,children:_e,open:et,defaultOpen:tt,onOpenChange:nt,value:rt,defaultValue:ot,onValueChange:it,dir:at,name:ft,autoComplete:st,disabled:ut,required:dt}=j,pt=usePopperScope$1($),[gt,yt]=reactExports.useState(null),[mt,vt]=reactExports.useState(null),[_t,Ct]=reactExports.useState(!1),At=useDirection(at),[kt=!1,St]=useControllableState({prop:et,defaultProp:tt,onChange:nt}),[wt,It]=useControllableState({prop:rt,defaultProp:ot,onChange:it}),Ut=reactExports.useRef(null),Yt=gt?!!gt.closest("form"):!0,[rn,hn]=reactExports.useState(new Set),Vt=Array.from(rn).map(Zt=>Zt.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...pt,children:jsxRuntimeExports.jsxs(SelectProvider,{required:dt,scope:$,trigger:gt,onTriggerChange:yt,valueNode:mt,onValueNodeChange:vt,valueNodeHasChildren:_t,onValueNodeHasChildrenChange:Ct,contentId:useId(),value:wt,onValueChange:It,open:kt,onOpenChange:St,dir:At,triggerPointerDownPosRef:Ut,disabled:ut,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:$,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:j.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Zt=>{hn(en=>new Set(en).add(Zt))},[]),onNativeOptionRemove:reactExports.useCallback(Zt=>{hn(en=>{const fn=new Set(en);return fn.delete(Zt),fn})},[]),children:_e})}),Yt?jsxRuntimeExports.jsxs(BubbleSelect,{"aria-hidden":!0,required:dt,tabIndex:-1,name:ft,autoComplete:st,value:wt,onChange:Zt=>It(Zt.target.value),disabled:ut,children:[wt===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(rn)]},Vt):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,disabled:et=!1,...tt}=j,nt=usePopperScope$1(_e),rt=useSelectContext(TRIGGER_NAME$1,_e),ot=rt.disabled||et,it=useComposedRefs($,rt.onTriggerChange),at=useCollection$1(_e),[ft,st,ut]=useTypeaheadSearch(pt=>{const gt=at().filter(vt=>!vt.disabled),yt=gt.find(vt=>vt.value===rt.value),mt=findNextItem(gt,pt,yt);mt!==void 0&&rt.onValueChange(mt.value)}),dt=()=>{ot||(rt.onOpenChange(!0),ut())};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...nt,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":rt.contentId,"aria-expanded":rt.open,"aria-required":rt.required,"aria-autocomplete":"none",dir:rt.dir,"data-state":rt.open?"open":"closed",disabled:ot,"data-disabled":ot?"":void 0,"data-placeholder":shouldShowPlaceholder(rt.value)?"":void 0,...tt,ref:it,onClick:composeEventHandlers(tt.onClick,pt=>{pt.currentTarget.focus()}),onPointerDown:composeEventHandlers(tt.onPointerDown,pt=>{const gt=pt.target;gt.hasPointerCapture(pt.pointerId)&&gt.releasePointerCapture(pt.pointerId),pt.button===0&&pt.ctrlKey===!1&&(dt(),rt.triggerPointerDownPosRef.current={x:Math.round(pt.pageX),y:Math.round(pt.pageY)},pt.preventDefault())}),onKeyDown:composeEventHandlers(tt.onKeyDown,pt=>{const gt=ft.current!=="";!(pt.ctrlKey||pt.altKey||pt.metaKey)&&pt.key.length===1&&st(pt.key),!(gt&&pt.key===" ")&&OPEN_KEYS.includes(pt.key)&&(dt(),pt.preventDefault())})})})});SelectTrigger.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,className:et,style:tt,children:nt,placeholder:rt="",...ot}=j,it=useSelectContext(VALUE_NAME,_e),{onValueNodeHasChildrenChange:at}=it,ft=nt!==void 0,st=useComposedRefs($,it.onValueNodeChange);return useLayoutEffect2(()=>{at(ft)},[at,ft]),jsxRuntimeExports.jsx(Primitive.span,{...ot,ref:st,style:{pointerEvents:"none"},children:shouldShowPlaceholder(it.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rt}):nt})});SelectValue.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,children:et,...tt}=j;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...tt,ref:$,children:et||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$1="SelectPortal",SelectPortal=j=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...j});SelectPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="SelectContent",SelectContent=reactExports.forwardRef((j,$)=>{const _e=useSelectContext(CONTENT_NAME$1,j.__scopeSelect),[et,tt]=reactExports.useState();if(useLayoutEffect2(()=>{tt(new DocumentFragment)},[]),!_e.open){const nt=et;return nt?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:j.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:j.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:j.children})})}),nt):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...j,ref:$})});SelectContent.displayName=CONTENT_NAME$1;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$1),CONTENT_IMPL_NAME="SelectContentImpl",SelectContentImpl=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,position:et="item-aligned",onCloseAutoFocus:tt,onEscapeKeyDown:nt,onPointerDownOutside:rt,side:ot,sideOffset:it,align:at,alignOffset:ft,arrowPadding:st,collisionBoundary:ut,collisionPadding:dt,sticky:pt,hideWhenDetached:gt,avoidCollisions:yt,...mt}=j,vt=useSelectContext(CONTENT_NAME$1,_e),[_t,Ct]=reactExports.useState(null),[At,kt]=reactExports.useState(null),St=useComposedRefs($,tn=>Ct(tn)),[wt,It]=reactExports.useState(null),[Ut,Yt]=reactExports.useState(null),rn=useCollection$1(_e),[hn,Vt]=reactExports.useState(!1),Zt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(_t)return hideOthers(_t)},[_t]),useFocusGuards();const en=reactExports.useCallback(tn=>{const[bn,...Jt]=rn().map(xn=>xn.ref.current),[Sn]=Jt.slice(-1),$n=document.activeElement;for(const xn of tn)if(xn===$n||(xn==null||xn.scrollIntoView({block:"nearest"}),xn===bn&&At&&(At.scrollTop=0),xn===Sn&&At&&(At.scrollTop=At.scrollHeight),xn==null||xn.focus(),document.activeElement!==$n))return},[rn,At]),fn=reactExports.useCallback(()=>en([wt,_t]),[en,wt,_t]);reactExports.useEffect(()=>{hn&&fn()},[hn,fn]);const{onOpenChange:zt,triggerPointerDownPosRef:Wt}=vt;reactExports.useEffect(()=>{if(_t){let tn={x:0,y:0};const bn=Sn=>{var $n,xn;tn={x:Math.abs(Math.round(Sn.pageX)-((($n=Wt.current)==null?void 0:$n.x)??0)),y:Math.abs(Math.round(Sn.pageY)-(((xn=Wt.current)==null?void 0:xn.y)??0))}},Jt=Sn=>{tn.x<=10&&tn.y<=10?Sn.preventDefault():_t.contains(Sn.target)||zt(!1),document.removeEventListener("pointermove",bn),Wt.current=null};return Wt.current!==null&&(document.addEventListener("pointermove",bn),document.addEventListener("pointerup",Jt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",bn),document.removeEventListener("pointerup",Jt,{capture:!0})}}},[_t,zt,Wt]),reactExports.useEffect(()=>{const tn=()=>zt(!1);return window.addEventListener("blur",tn),window.addEventListener("resize",tn),()=>{window.removeEventListener("blur",tn),window.removeEventListener("resize",tn)}},[zt]);const[sn,nn]=useTypeaheadSearch(tn=>{const bn=rn().filter($n=>!$n.disabled),Jt=bn.find($n=>$n.ref.current===document.activeElement),Sn=findNextItem(bn,tn,Jt);Sn&&setTimeout(()=>Sn.ref.current.focus())}),un=reactExports.useCallback((tn,bn,Jt)=>{const Sn=!Zt.current&&!Jt;(vt.value!==void 0&&vt.value===bn||Sn)&&(It(tn),Sn&&(Zt.current=!0))},[vt.value]),wn=reactExports.useCallback(()=>_t==null?void 0:_t.focus(),[_t]),vn=reactExports.useCallback((tn,bn,Jt)=>{const Sn=!Zt.current&&!Jt;(vt.value!==void 0&&vt.value===bn||Sn)&&Yt(tn)},[vt.value]),En=et==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Cn=En===SelectPopperPosition?{side:ot,sideOffset:it,align:at,alignOffset:ft,arrowPadding:st,collisionBoundary:ut,collisionPadding:dt,sticky:pt,hideWhenDetached:gt,avoidCollisions:yt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:_e,content:_t,viewport:At,onViewportChange:kt,itemRefCallback:un,selectedItem:wt,onItemLeave:wn,itemTextRefCallback:vn,focusSelectedItem:fn,selectedItemText:Ut,position:et,isPositioned:hn,searchRef:sn,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:vt.open,onMountAutoFocus:tn=>{tn.preventDefault()},onUnmountAutoFocus:composeEventHandlers(tt,tn=>{var bn;(bn=vt.trigger)==null||bn.focus({preventScroll:!0}),tn.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:nt,onPointerDownOutside:rt,onFocusOutside:tn=>tn.preventDefault(),onDismiss:()=>vt.onOpenChange(!1),children:jsxRuntimeExports.jsx(En,{role:"listbox",id:vt.contentId,"data-state":vt.open?"open":"closed",dir:vt.dir,onContextMenu:tn=>tn.preventDefault(),...mt,...Cn,onPlaced:()=>Vt(!0),ref:St,style:{display:"flex",flexDirection:"column",outline:"none",...mt.style},onKeyDown:composeEventHandlers(mt.onKeyDown,tn=>{const bn=tn.ctrlKey||tn.altKey||tn.metaKey;if(tn.key==="Tab"&&tn.preventDefault(),!bn&&tn.key.length===1&&nn(tn.key),["ArrowUp","ArrowDown","Home","End"].includes(tn.key)){let Sn=rn().filter($n=>!$n.disabled).map($n=>$n.ref.current);if(["ArrowUp","End"].includes(tn.key)&&(Sn=Sn.slice().reverse()),["ArrowUp","ArrowDown"].includes(tn.key)){const $n=tn.target,xn=Sn.indexOf($n);Sn=Sn.slice(xn+1)}setTimeout(()=>en(Sn)),tn.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,onPlaced:et,...tt}=j,nt=useSelectContext(CONTENT_NAME$1,_e),rt=useSelectContentContext(CONTENT_NAME$1,_e),[ot,it]=reactExports.useState(null),[at,ft]=reactExports.useState(null),st=useComposedRefs($,St=>ft(St)),ut=useCollection$1(_e),dt=reactExports.useRef(!1),pt=reactExports.useRef(!0),{viewport:gt,selectedItem:yt,selectedItemText:mt,focusSelectedItem:vt}=rt,_t=reactExports.useCallback(()=>{if(nt.trigger&&nt.valueNode&&ot&&at&&gt&&yt&&mt){const St=nt.trigger.getBoundingClientRect(),wt=at.getBoundingClientRect(),It=nt.valueNode.getBoundingClientRect(),Ut=mt.getBoundingClientRect();if(nt.dir!=="rtl"){const $n=Ut.left-wt.left,xn=It.left-$n,Hn=St.left-xn,Qn=St.width+Hn,Kn=Math.max(Qn,wt.width),Yn=window.innerWidth-CONTENT_MARGIN,lr=clamp$2(xn,[CONTENT_MARGIN,Yn-Kn]);ot.style.minWidth=Qn+"px",ot.style.left=lr+"px"}else{const $n=wt.right-Ut.right,xn=window.innerWidth-It.right-$n,Hn=window.innerWidth-St.right-xn,Qn=St.width+Hn,Kn=Math.max(Qn,wt.width),Yn=window.innerWidth-CONTENT_MARGIN,lr=clamp$2(xn,[CONTENT_MARGIN,Yn-Kn]);ot.style.minWidth=Qn+"px",ot.style.right=lr+"px"}const Yt=ut(),rn=window.innerHeight-CONTENT_MARGIN*2,hn=gt.scrollHeight,Vt=window.getComputedStyle(at),Zt=parseInt(Vt.borderTopWidth,10),en=parseInt(Vt.paddingTop,10),fn=parseInt(Vt.borderBottomWidth,10),zt=parseInt(Vt.paddingBottom,10),Wt=Zt+en+hn+zt+fn,sn=Math.min(yt.offsetHeight*5,Wt),nn=window.getComputedStyle(gt),un=parseInt(nn.paddingTop,10),wn=parseInt(nn.paddingBottom,10),vn=St.top+St.height/2-CONTENT_MARGIN,En=rn-vn,Cn=yt.offsetHeight/2,tn=yt.offsetTop+Cn,bn=Zt+en+tn,Jt=Wt-bn;if(bn<=vn){const $n=yt===Yt[Yt.length-1].ref.current;ot.style.bottom="0px";const xn=at.clientHeight-gt.offsetTop-gt.offsetHeight,Hn=Math.max(En,Cn+($n?wn:0)+xn+fn),Qn=bn+Hn;ot.style.height=Qn+"px"}else{const $n=yt===Yt[0].ref.current;ot.style.top="0px";const Hn=Math.max(vn,Zt+gt.offsetTop+($n?un:0)+Cn)+Jt;ot.style.height=Hn+"px",gt.scrollTop=bn-vn+gt.offsetTop}ot.style.margin=`${CONTENT_MARGIN}px 0`,ot.style.minHeight=sn+"px",ot.style.maxHeight=rn+"px",et==null||et(),requestAnimationFrame(()=>dt.current=!0)}},[ut,nt.trigger,nt.valueNode,ot,at,gt,yt,mt,nt.dir,et]);useLayoutEffect2(()=>_t(),[_t]);const[Ct,At]=reactExports.useState();useLayoutEffect2(()=>{at&&At(window.getComputedStyle(at).zIndex)},[at]);const kt=reactExports.useCallback(St=>{St&&pt.current===!0&&(_t(),vt==null||vt(),pt.current=!1)},[_t,vt]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:_e,contentWrapper:ot,shouldExpandOnScrollRef:dt,onScrollButtonChange:kt,children:jsxRuntimeExports.jsx("div",{ref:it,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Ct},children:jsxRuntimeExports.jsx(Primitive.div,{...tt,ref:st,style:{boxSizing:"border-box",maxHeight:"100%",...tt.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,align:et="start",collisionPadding:tt=CONTENT_MARGIN,...nt}=j,rt=usePopperScope$1(_e);return jsxRuntimeExports.jsx(Content,{...rt,...nt,ref:$,align:et,collisionPadding:tt,style:{boxSizing:"border-box",...nt.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$1,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,nonce:et,...tt}=j,nt=useSelectContentContext(VIEWPORT_NAME$1,_e),rt=useSelectViewportContext(VIEWPORT_NAME$1,_e),ot=useComposedRefs($,nt.onViewportChange),it=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:et}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:_e,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...tt,ref:ot,style:{position:"relative",flex:1,overflow:"auto",...tt.style},onScroll:composeEventHandlers(tt.onScroll,at=>{const ft=at.currentTarget,{contentWrapper:st,shouldExpandOnScrollRef:ut}=rt;if(ut!=null&&ut.current&&st){const dt=Math.abs(it.current-ft.scrollTop);if(dt>0){const pt=window.innerHeight-CONTENT_MARGIN*2,gt=parseFloat(st.style.minHeight),yt=parseFloat(st.style.height),mt=Math.max(gt,yt);if(mt<pt){const vt=mt+dt,_t=Math.min(pt,vt),Ct=vt-_t;st.style.height=_t+"px",st.style.bottom==="0px"&&(ft.scrollTop=Ct>0?Ct:0,st.style.justifyContent="flex-end")}}}it.current=ft.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,...et}=j,tt=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:_e,id:tt,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":tt,...et,ref:$})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,...et}=j,tt=useSelectGroupContext(LABEL_NAME,_e);return jsxRuntimeExports.jsx(Primitive.div,{id:tt.id,...et,ref:$})});SelectLabel.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,value:et,disabled:tt=!1,textValue:nt,...rt}=j,ot=useSelectContext(ITEM_NAME,_e),it=useSelectContentContext(ITEM_NAME,_e),at=ot.value===et,[ft,st]=reactExports.useState(nt??""),[ut,dt]=reactExports.useState(!1),pt=useComposedRefs($,mt=>{var vt;return(vt=it.itemRefCallback)==null?void 0:vt.call(it,mt,et,tt)}),gt=useId(),yt=()=>{tt||(ot.onValueChange(et),ot.onOpenChange(!1))};if(et==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:_e,value:et,disabled:tt,textId:gt,isSelected:at,onItemTextChange:reactExports.useCallback(mt=>{st(vt=>vt||((mt==null?void 0:mt.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:_e,value:et,disabled:tt,textValue:ft,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":gt,"data-highlighted":ut?"":void 0,"aria-selected":at&&ut,"data-state":at?"checked":"unchecked","aria-disabled":tt||void 0,"data-disabled":tt?"":void 0,tabIndex:tt?void 0:-1,...rt,ref:pt,onFocus:composeEventHandlers(rt.onFocus,()=>dt(!0)),onBlur:composeEventHandlers(rt.onBlur,()=>dt(!1)),onPointerUp:composeEventHandlers(rt.onPointerUp,yt),onPointerMove:composeEventHandlers(rt.onPointerMove,mt=>{var vt;tt?(vt=it.onItemLeave)==null||vt.call(it):mt.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(rt.onPointerLeave,mt=>{var vt;mt.currentTarget===document.activeElement&&((vt=it.onItemLeave)==null||vt.call(it))}),onKeyDown:composeEventHandlers(rt.onKeyDown,mt=>{var _t;((_t=it.searchRef)==null?void 0:_t.current)!==""&&mt.key===" "||(SELECTION_KEYS.includes(mt.key)&&yt(),mt.key===" "&&mt.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,className:et,style:tt,...nt}=j,rt=useSelectContext(ITEM_TEXT_NAME,_e),ot=useSelectContentContext(ITEM_TEXT_NAME,_e),it=useSelectItemContext(ITEM_TEXT_NAME,_e),at=useSelectNativeOptionsContext(ITEM_TEXT_NAME,_e),[ft,st]=reactExports.useState(null),ut=useComposedRefs($,mt=>st(mt),it.onItemTextChange,mt=>{var vt;return(vt=ot.itemTextRefCallback)==null?void 0:vt.call(ot,mt,it.value,it.disabled)}),dt=ft==null?void 0:ft.textContent,pt=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:it.value,disabled:it.disabled,children:dt},it.value),[it.disabled,it.value,dt]),{onNativeOptionAdd:gt,onNativeOptionRemove:yt}=at;return useLayoutEffect2(()=>(gt(pt),()=>yt(pt)),[gt,yt,pt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:it.textId,...nt,ref:ut}),it.isSelected&&rt.valueNode&&!rt.valueNodeHasChildren?reactDomExports.createPortal(nt.children,rt.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,...et}=j;return useSelectItemContext(ITEM_INDICATOR_NAME,_e).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...et,ref:$}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton=reactExports.forwardRef((j,$)=>{const _e=useSelectContentContext(SCROLL_UP_BUTTON_NAME,j.__scopeSelect),et=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,j.__scopeSelect),[tt,nt]=reactExports.useState(!1),rt=useComposedRefs($,et.onScrollButtonChange);return useLayoutEffect2(()=>{if(_e.viewport&&_e.isPositioned){let ot=function(){const at=it.scrollTop>0;nt(at)};const it=_e.viewport;return ot(),it.addEventListener("scroll",ot),()=>it.removeEventListener("scroll",ot)}},[_e.viewport,_e.isPositioned]),tt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...j,ref:rt,onAutoScroll:()=>{const{viewport:ot,selectedItem:it}=_e;ot&&it&&(ot.scrollTop=ot.scrollTop-it.offsetHeight)}}):null});SelectScrollUpButton.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton=reactExports.forwardRef((j,$)=>{const _e=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,j.__scopeSelect),et=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,j.__scopeSelect),[tt,nt]=reactExports.useState(!1),rt=useComposedRefs($,et.onScrollButtonChange);return useLayoutEffect2(()=>{if(_e.viewport&&_e.isPositioned){let ot=function(){const at=it.scrollHeight-it.clientHeight,ft=Math.ceil(it.scrollTop)<at;nt(ft)};const it=_e.viewport;return ot(),it.addEventListener("scroll",ot),()=>it.removeEventListener("scroll",ot)}},[_e.viewport,_e.isPositioned]),tt?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...j,ref:rt,onAutoScroll:()=>{const{viewport:ot,selectedItem:it}=_e;ot&&it&&(ot.scrollTop=ot.scrollTop+it.offsetHeight)}}):null});SelectScrollDownButton.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,onAutoScroll:et,...tt}=j,nt=useSelectContentContext("SelectScrollButton",_e),rt=reactExports.useRef(null),ot=useCollection$1(_e),it=reactExports.useCallback(()=>{rt.current!==null&&(window.clearInterval(rt.current),rt.current=null)},[]);return reactExports.useEffect(()=>()=>it(),[it]),useLayoutEffect2(()=>{var ft;const at=ot().find(st=>st.ref.current===document.activeElement);(ft=at==null?void 0:at.ref.current)==null||ft.scrollIntoView({block:"nearest"})},[ot]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...tt,ref:$,style:{flexShrink:0,...tt.style},onPointerDown:composeEventHandlers(tt.onPointerDown,()=>{rt.current===null&&(rt.current=window.setInterval(et,50))}),onPointerMove:composeEventHandlers(tt.onPointerMove,()=>{var at;(at=nt.onItemLeave)==null||at.call(nt),rt.current===null&&(rt.current=window.setInterval(et,50))}),onPointerLeave:composeEventHandlers(tt.onPointerLeave,()=>{it()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...et,ref:$})});SelectSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME$1="SelectArrow",SelectArrow=reactExports.forwardRef((j,$)=>{const{__scopeSelect:_e,...et}=j,tt=usePopperScope$1(_e),nt=useSelectContext(ARROW_NAME$1,_e),rt=useSelectContentContext(ARROW_NAME$1,_e);return nt.open&&rt.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...tt,...et,ref:$}):null});SelectArrow.displayName=ARROW_NAME$1;function shouldShowPlaceholder(j){return j===""||j===void 0}var BubbleSelect=reactExports.forwardRef((j,$)=>{const{value:_e,...et}=j,tt=reactExports.useRef(null),nt=useComposedRefs($,tt),rt=usePrevious(_e);return reactExports.useEffect(()=>{const ot=tt.current,it=window.HTMLSelectElement.prototype,ft=Object.getOwnPropertyDescriptor(it,"value").set;if(rt!==_e&&ft){const st=new Event("change",{bubbles:!0});ft.call(ot,_e),ot.dispatchEvent(st)}},[rt,_e]),jsxRuntimeExports.jsx(VisuallyHidden,{asChild:!0,children:jsxRuntimeExports.jsx("select",{...et,ref:nt,defaultValue:_e})})});BubbleSelect.displayName="BubbleSelect";function useTypeaheadSearch(j){const $=useCallbackRef$1(j),_e=reactExports.useRef(""),et=reactExports.useRef(0),tt=reactExports.useCallback(rt=>{const ot=_e.current+rt;$(ot),function it(at){_e.current=at,window.clearTimeout(et.current),at!==""&&(et.current=window.setTimeout(()=>it(""),1e3))}(ot)},[$]),nt=reactExports.useCallback(()=>{_e.current="",window.clearTimeout(et.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(et.current),[]),[_e,tt,nt]}function findNextItem(j,$,_e){const tt=$.length>1&&Array.from($).every(at=>at===$[0])?$[0]:$,nt=_e?j.indexOf(_e):-1;let rt=wrapArray(j,Math.max(nt,0));tt.length===1&&(rt=rt.filter(at=>at!==_e));const it=rt.find(at=>at.textValue.toLowerCase().startsWith(tt.toLowerCase()));return it!==_e?it:void 0}function wrapArray(j,$){return j.map((_e,et)=>j[($+et)%j.length])}var Root2$1=Select$1,Trigger$1=SelectTrigger,Value=SelectValue,Icon=SelectIcon,Portal$1=SelectPortal,Content2$1=SelectContent,Viewport$1=SelectViewport,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton,ScrollDownButton=SelectScrollDownButton;const SelectItem=({children:j,...$})=>jsxRuntimeExports.jsxs(Item,{className:"q-select-item",...$,children:[jsxRuntimeExports.jsx(ItemText,{children:j}),jsxRuntimeExports.jsx(ItemIndicator,{className:"q-select-item-indicator",children:jsxRuntimeExports.jsx(CheckIcon,{})})]}),Select=({options:j,placeholder:$,label:_e,value:et,name:tt,onValueChange:nt})=>jsxRuntimeExports.jsxs(Root2$1,{value:et,onValueChange:nt,name:tt,children:[jsxRuntimeExports.jsxs(Trigger$1,{className:"q-select","aria-label":_e,children:[jsxRuntimeExports.jsx(Value,{placeholder:$}),jsxRuntimeExports.jsx(Icon,{className:"q-select-icon",children:jsxRuntimeExports.jsx(ChevronDownIcon,{})})]}),jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2$1,{className:"q-select-content",children:[jsxRuntimeExports.jsx(ScrollUpButton,{className:"q-select-scroll-button",children:jsxRuntimeExports.jsx(ChevronUpIcon,{})}),jsxRuntimeExports.jsx(Viewport$1,{className:"SelectViewport",children:j.map(rt=>jsxRuntimeExports.jsx(SelectItem,{value:rt.value,children:rt.label},rt.value))}),jsxRuntimeExports.jsx(ScrollDownButton,{className:"q-select-scroll-button",children:jsxRuntimeExports.jsx(ChevronDownIcon,{})})]})})]});var[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME$1="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME$1),TooltipProvider=j=>{const{__scopeTooltip:$,delayDuration:_e=DEFAULT_DELAY_DURATION,skipDelayDuration:et=300,disableHoverableContent:tt=!1,children:nt}=j,[rt,ot]=reactExports.useState(!0),it=reactExports.useRef(!1),at=reactExports.useRef(0);return reactExports.useEffect(()=>{const ft=at.current;return()=>window.clearTimeout(ft)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:$,isOpenDelayed:rt,delayDuration:_e,onOpen:reactExports.useCallback(()=>{window.clearTimeout(at.current),ot(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(at.current),at.current=window.setTimeout(()=>ot(!0),et)},[et]),isPointerInTransitRef:it,onPointerInTransitChange:reactExports.useCallback(ft=>{it.current=ft},[]),disableHoverableContent:tt,children:nt})};TooltipProvider.displayName=PROVIDER_NAME$1;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip$1=j=>{const{__scopeTooltip:$,children:_e,open:et,defaultOpen:tt=!1,onOpenChange:nt,disableHoverableContent:rt,delayDuration:ot}=j,it=useTooltipProviderContext(TOOLTIP_NAME,j.__scopeTooltip),at=usePopperScope($),[ft,st]=reactExports.useState(null),ut=useId(),dt=reactExports.useRef(0),pt=rt??it.disableHoverableContent,gt=ot??it.delayDuration,yt=reactExports.useRef(!1),[mt=!1,vt]=useControllableState({prop:et,defaultProp:tt,onChange:St=>{St?(it.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):it.onClose(),nt==null||nt(St)}}),_t=reactExports.useMemo(()=>mt?yt.current?"delayed-open":"instant-open":"closed",[mt]),Ct=reactExports.useCallback(()=>{window.clearTimeout(dt.current),yt.current=!1,vt(!0)},[vt]),At=reactExports.useCallback(()=>{window.clearTimeout(dt.current),vt(!1)},[vt]),kt=reactExports.useCallback(()=>{window.clearTimeout(dt.current),dt.current=window.setTimeout(()=>{yt.current=!0,vt(!0)},gt)},[gt,vt]);return reactExports.useEffect(()=>()=>window.clearTimeout(dt.current),[]),jsxRuntimeExports.jsx(Root2$4,{...at,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:$,contentId:ut,open:mt,stateAttribute:_t,trigger:ft,onTriggerChange:st,onTriggerEnter:reactExports.useCallback(()=>{it.isOpenDelayed?kt():Ct()},[it.isOpenDelayed,kt,Ct]),onTriggerLeave:reactExports.useCallback(()=>{pt?At():window.clearTimeout(dt.current)},[At,pt]),onOpen:Ct,onClose:At,disableHoverableContent:pt,children:_e})})};Tooltip$1.displayName=TOOLTIP_NAME;var TRIGGER_NAME="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((j,$)=>{const{__scopeTooltip:_e,...et}=j,tt=useTooltipContext(TRIGGER_NAME,_e),nt=useTooltipProviderContext(TRIGGER_NAME,_e),rt=usePopperScope(_e),ot=reactExports.useRef(null),it=useComposedRefs($,ot,tt.onTriggerChange),at=reactExports.useRef(!1),ft=reactExports.useRef(!1),st=reactExports.useCallback(()=>at.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",st),[st]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...rt,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":tt.open?tt.contentId:void 0,"data-state":tt.stateAttribute,...et,ref:it,onPointerMove:composeEventHandlers(j.onPointerMove,ut=>{ut.pointerType!=="touch"&&!ft.current&&!nt.isPointerInTransitRef.current&&(tt.onTriggerEnter(),ft.current=!0)}),onPointerLeave:composeEventHandlers(j.onPointerLeave,()=>{tt.onTriggerLeave(),ft.current=!1}),onPointerDown:composeEventHandlers(j.onPointerDown,()=>{at.current=!0,document.addEventListener("pointerup",st,{once:!0})}),onFocus:composeEventHandlers(j.onFocus,()=>{at.current||tt.onOpen()}),onBlur:composeEventHandlers(j.onBlur,tt.onClose),onClick:composeEventHandlers(j.onClick,tt.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),TooltipPortal=j=>{const{__scopeTooltip:$,forceMount:_e,children:et,container:tt}=j,nt=useTooltipContext(PORTAL_NAME,$);return jsxRuntimeExports.jsx(PortalProvider,{scope:$,forceMount:_e,children:jsxRuntimeExports.jsx(Presence,{present:_e||nt.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:tt,children:et})})})};TooltipPortal.displayName=PORTAL_NAME;var CONTENT_NAME="TooltipContent",TooltipContent=reactExports.forwardRef((j,$)=>{const _e=usePortalContext(CONTENT_NAME,j.__scopeTooltip),{forceMount:et=_e.forceMount,side:tt="top",...nt}=j,rt=useTooltipContext(CONTENT_NAME,j.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:et||rt.open,children:rt.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:tt,...nt,ref:$}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:tt,...nt,ref:$})})}),TooltipContentHoverable=reactExports.forwardRef((j,$)=>{const _e=useTooltipContext(CONTENT_NAME,j.__scopeTooltip),et=useTooltipProviderContext(CONTENT_NAME,j.__scopeTooltip),tt=reactExports.useRef(null),nt=useComposedRefs($,tt),[rt,ot]=reactExports.useState(null),{trigger:it,onClose:at}=_e,ft=tt.current,{onPointerInTransitChange:st}=et,ut=reactExports.useCallback(()=>{ot(null),st(!1)},[st]),dt=reactExports.useCallback((pt,gt)=>{const yt=pt.currentTarget,mt={x:pt.clientX,y:pt.clientY},vt=getExitSideFromRect(mt,yt.getBoundingClientRect()),_t=getPaddedExitPoints(mt,vt),Ct=getPointsFromRect(gt.getBoundingClientRect()),At=getHull([..._t,...Ct]);ot(At),st(!0)},[st]);return reactExports.useEffect(()=>()=>ut(),[ut]),reactExports.useEffect(()=>{if(it&&ft){const pt=yt=>dt(yt,ft),gt=yt=>dt(yt,it);return it.addEventListener("pointerleave",pt),ft.addEventListener("pointerleave",gt),()=>{it.removeEventListener("pointerleave",pt),ft.removeEventListener("pointerleave",gt)}}},[it,ft,dt,ut]),reactExports.useEffect(()=>{if(rt){const pt=gt=>{const yt=gt.target,mt={x:gt.clientX,y:gt.clientY},vt=(it==null?void 0:it.contains(yt))||(ft==null?void 0:ft.contains(yt)),_t=!isPointInPolygon(mt,rt);vt?ut():_t&&(ut(),at())};return document.addEventListener("pointermove",pt),()=>document.removeEventListener("pointermove",pt)}},[it,ft,rt,at,ut]),jsxRuntimeExports.jsx(TooltipContentImpl,{...j,ref:nt})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((j,$)=>{const{__scopeTooltip:_e,children:et,"aria-label":tt,onEscapeKeyDown:nt,onPointerDownOutside:rt,...ot}=j,it=useTooltipContext(CONTENT_NAME,_e),at=usePopperScope(_e),{onClose:ft}=it;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,ft),()=>document.removeEventListener(TOOLTIP_OPEN,ft)),[ft]),reactExports.useEffect(()=>{if(it.trigger){const st=ut=>{const dt=ut.target;dt!=null&&dt.contains(it.trigger)&&ft()};return window.addEventListener("scroll",st,{capture:!0}),()=>window.removeEventListener("scroll",st,{capture:!0})}},[it.trigger,ft]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:nt,onPointerDownOutside:rt,onFocusOutside:st=>st.preventDefault(),onDismiss:ft,children:jsxRuntimeExports.jsxs(Content,{"data-state":it.stateAttribute,...at,...ot,ref:$,style:{...ot.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:et}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:_e,isInside:!0,children:jsxRuntimeExports.jsx(Root$1,{id:it.contentId,role:"tooltip",children:tt||et})})]})})});TooltipContent.displayName=CONTENT_NAME;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((j,$)=>{const{__scopeTooltip:_e,...et}=j,tt=usePopperScope(_e);return useVisuallyHiddenContentContext(ARROW_NAME,_e).isInside?null:jsxRuntimeExports.jsx(Arrow,{...tt,...et,ref:$})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(j,$){const _e=Math.abs($.top-j.y),et=Math.abs($.bottom-j.y),tt=Math.abs($.right-j.x),nt=Math.abs($.left-j.x);switch(Math.min(_e,et,tt,nt)){case nt:return"left";case tt:return"right";case _e:return"top";case et:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(j,$,_e=5){const et=[];switch($){case"top":et.push({x:j.x-_e,y:j.y+_e},{x:j.x+_e,y:j.y+_e});break;case"bottom":et.push({x:j.x-_e,y:j.y-_e},{x:j.x+_e,y:j.y-_e});break;case"left":et.push({x:j.x+_e,y:j.y-_e},{x:j.x+_e,y:j.y+_e});break;case"right":et.push({x:j.x-_e,y:j.y-_e},{x:j.x-_e,y:j.y+_e});break}return et}function getPointsFromRect(j){const{top:$,right:_e,bottom:et,left:tt}=j;return[{x:tt,y:$},{x:_e,y:$},{x:_e,y:et},{x:tt,y:et}]}function isPointInPolygon(j,$){const{x:_e,y:et}=j;let tt=!1;for(let nt=0,rt=$.length-1;nt<$.length;rt=nt++){const ot=$[nt].x,it=$[nt].y,at=$[rt].x,ft=$[rt].y;it>et!=ft>et&&_e<(at-ot)*(et-it)/(ft-it)+ot&&(tt=!tt)}return tt}function getHull(j){const $=j.slice();return $.sort((_e,et)=>_e.x<et.x?-1:_e.x>et.x?1:_e.y<et.y?-1:_e.y>et.y?1:0),getHullPresorted($)}function getHullPresorted(j){if(j.length<=1)return j.slice();const $=[];for(let et=0;et<j.length;et++){const tt=j[et];for(;$.length>=2;){const nt=$[$.length-1],rt=$[$.length-2];if((nt.x-rt.x)*(tt.y-rt.y)>=(nt.y-rt.y)*(tt.x-rt.x))$.pop();else break}$.push(tt)}$.pop();const _e=[];for(let et=j.length-1;et>=0;et--){const tt=j[et];for(;_e.length>=2;){const nt=_e[_e.length-1],rt=_e[_e.length-2];if((nt.x-rt.x)*(tt.y-rt.y)>=(nt.y-rt.y)*(tt.x-rt.x))_e.pop();else break}_e.push(tt)}return _e.pop(),$.length===1&&_e.length===1&&$[0].x===_e[0].x&&$[0].y===_e[0].y?$:$.concat(_e)}var Provider$1=TooltipProvider,Root3=Tooltip$1,Trigger=TooltipTrigger,Portal=TooltipPortal,Content2=TooltipContent,Arrow2=TooltipArrow;const Tooltip=({children:j,content:$})=>jsxRuntimeExports.jsx(Provider$1,{children:jsxRuntimeExports.jsxs(Root3,{children:[jsxRuntimeExports.jsx(Trigger,{asChild:!0,children:j}),jsxRuntimeExports.jsx(Portal,{container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsxs(Content2,{className:"q-tooltip",sideOffset:5,children:[$,jsxRuntimeExports.jsx(Arrow2,{className:"q-tooltip-arrow"})]})})]})});var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((j,$)=>{const{__scopeSwitch:_e,name:et,checked:tt,defaultChecked:nt,required:rt,disabled:ot,value:it="on",onCheckedChange:at,...ft}=j,[st,ut]=reactExports.useState(null),dt=useComposedRefs($,vt=>ut(vt)),pt=reactExports.useRef(!1),gt=st?!!st.closest("form"):!0,[yt=!1,mt]=useControllableState({prop:tt,defaultProp:nt,onChange:at});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:_e,checked:yt,disabled:ot,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":yt,"aria-required":rt,"data-state":getState(yt),"data-disabled":ot?"":void 0,disabled:ot,value:it,...ft,ref:dt,onClick:composeEventHandlers(j.onClick,vt=>{mt(_t=>!_t),gt&&(pt.current=vt.isPropagationStopped(),pt.current||vt.stopPropagation())})}),gt&&jsxRuntimeExports.jsx(BubbleInput,{control:st,bubbles:!pt.current,name:et,value:it,checked:yt,required:rt,disabled:ot,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((j,$)=>{const{__scopeSwitch:_e,...et}=j,tt=useSwitchContext(THUMB_NAME,_e);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(tt.checked),"data-disabled":tt.disabled?"":void 0,...et,ref:$})});SwitchThumb.displayName=THUMB_NAME;var BubbleInput=j=>{const{control:$,checked:_e,bubbles:et=!0,...tt}=j,nt=reactExports.useRef(null),rt=usePrevious(_e),ot=useSize($);return reactExports.useEffect(()=>{const it=nt.current,at=window.HTMLInputElement.prototype,st=Object.getOwnPropertyDescriptor(at,"checked").set;if(rt!==_e&&st){const ut=new Event("click",{bubbles:et});st.call(it,_e),it.dispatchEvent(ut)}},[rt,_e,et]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:_e,...tt,tabIndex:-1,ref:nt,style:{...j.style,...ot,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function getState(j){return j?"checked":"unchecked"}var Root=Switch$1,Thumb=SwitchThumb;const Switch=({checked:j,disabled:$,onChange:_e})=>jsxRuntimeExports.jsx(Root,{className:"q-switch",checked:j,disabled:$,onCheckedChange:_e,children:jsxRuntimeExports.jsx(Thumb,{className:"q-switch-thumb"})}),sortOptions=[{label:"Title",value:"title"},{label:"Size",value:"file_size"},{label:"Last Updated",value:"mod_date"}];loadQspCatalog();const QspCatalog=()=>{const{t:j}=useTranslation(),$=useAtom_2(catalogLoading$),_e=useAtom_2(qspCatalogPreparedList$),et=useAtom_2(qspAuthors$),tt=useAtom_2(qspAuthorFilter$),nt=useAtom_2(qspSortByField$),rt=useAtom_2(qspSortDirection$),ot=useAtom_2(qspTitleSearch$),it=useAtom_2(onlyAero$);return($==="pending"||$==="loading")&&!_e.length?jsxRuntimeExports.jsx(QspiderLoader,{}):$==="failed"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[j("Loading failed"),jsxRuntimeExports.jsx("button",{onClick:()=>{loadQspCatalog()},children:j("Retry")})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar",children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{children:[j("Filter by Author"),":"]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-group",children:[jsxRuntimeExports.jsx(Select,{name:"author-filter",options:et.map(at=>({label:at,value:at})),placeholder:"",label:"Author",value:tt,onValueChange:at=>qspAuthorFilter$.set(at)}),tt?jsxRuntimeExports.jsx(Tooltip,{content:j("Clear Author filter"),children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button","aria-label":j("Clear Author filter")??"",onClick:()=>qspAuthorFilter$.set(""),children:jsxRuntimeExports.jsx(Cross1Icon,{})})}):null]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{children:[j("Sort by"),":"]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-group",children:[jsxRuntimeExports.jsx(Select,{options:sortOptions.map(at=>({...at,label:j(at.label)})),placeholder:j("Sort by"),label:j("Sort field"),value:nt,onValueChange:at=>qspSortByField$.set(at)}),jsxRuntimeExports.jsx(Tooltip,{content:rt==="asc"?j("Sort Ascending")||"":j("Sort Descending")||"",children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",onClick:toggleSortDirection,"aria-label":rt==="asc"?j("Sort Ascending")||"":j("Sort Descending")||"",children:rt==="asc"?jsxRuntimeExports.jsx(DoubleArrowDownIcon,{}):jsxRuntimeExports.jsx(DoubleArrowUpIcon,{})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsx("label",{htmlFor:"only-aero",children:j("Aero games")}),jsxRuntimeExports.jsx(Switch,{checked:it,onChange:at=>onlyAero$.set(at)})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"search-input",children:[j("Search"),":"]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{name:"search-input",type:"text",className:"q-input",value:ot,onInput:at=>qspTitleSearch$.set(at.target.value)})})]})]}),jsxRuntimeExports.jsx("div",{className:"q-catalog__list",children:_e.map(at=>jsxRuntimeExports.jsx(CatalogGameCard,{game:at},at.id))})]})},QspiderThemeSwitch=()=>{const{t:j}=useTranslation();return jsxRuntimeExports.jsx(Tooltip,{content:j("Toggle theme")??"",children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button","aria-label":j("toggle a light and dark color scheme")??"",onClick:toggleTheme,children:jsxRuntimeExports.jsx(SunIcon,{})})})},LocaleSelector=()=>{const{i18n:j}=useTranslation();return jsxRuntimeExports.jsx(Select,{options:locales$1,placeholder:"",label:"",value:j.language,onValueChange:$=>{j.changeLanguage($)}})},QspiderPlayer=()=>{const{t:j}=useTranslation(),$=useComponent(ProvidedComponents.OpenGameButton),_e=useAtom_2(currentMode$);return jsxRuntimeExports.jsxs("div",{className:"qspider-player",children:[jsxRuntimeExports.jsxs("nav",{className:"qspider-navbar",children:[jsxRuntimeExports.jsx("div",{className:"qspider-logo",children:"spider"}),jsxRuntimeExports.jsxs("div",{className:"qspider-nav",children:[jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",onClick:et=>{et.preventDefault(),navigateTo("")},className:_e==="shelf"?"qspider-active":"",children:j("Game Shelf")})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",onClick:et=>{et.preventDefault(),navigateTo("catalog")},className:_e==="catalog"?"qspider-active":"",children:j("Qsp Game Catalog")})})]}),jsxRuntimeExports.jsxs("div",{className:"qspider-block",children:[jsxRuntimeExports.jsx($,{}),jsxRuntimeExports.jsx(LocaleSelector,{}),jsxRuntimeExports.jsx(QspiderThemeSwitch,{})]})]})]}),jsxRuntimeExports.jsxs("main",{className:"qspider-player-main",children:[_e==="shelf"&&jsxRuntimeExports.jsx(GameShelf,{}),_e==="catalog"&&jsxRuntimeExports.jsx(QspCatalog,{})]})]})},PlayerWithShelf=()=>useAtom_2(currentMode$)==="game"?jsxRuntimeExports.jsx(GameRunner,{}):jsxRuntimeExports.jsx(QspiderPlayer,{});var PROVIDER_NAME="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),ToastProvider=j=>{const{__scopeToast:$,label:_e="Notification",duration:et=5e3,swipeDirection:tt="right",swipeThreshold:nt=50,children:rt}=j,[ot,it]=reactExports.useState(null),[at,ft]=reactExports.useState(0),st=reactExports.useRef(!1),ut=reactExports.useRef(!1);return _e.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:$,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:$,label:_e,duration:et,swipeDirection:tt,swipeThreshold:nt,toastCount:at,viewport:ot,onViewportChange:it,onToastAdd:reactExports.useCallback(()=>ft(dt=>dt+1),[]),onToastRemove:reactExports.useCallback(()=>ft(dt=>dt-1),[]),isFocusedToastEscapeKeyDownRef:st,isClosePausedRef:ut,children:rt})})};ToastProvider.displayName=PROVIDER_NAME;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport=reactExports.forwardRef((j,$)=>{const{__scopeToast:_e,hotkey:et=VIEWPORT_DEFAULT_HOTKEY,label:tt="Notifications ({hotkey})",...nt}=j,rt=useToastProviderContext(VIEWPORT_NAME,_e),ot=useCollection(_e),it=reactExports.useRef(null),at=reactExports.useRef(null),ft=reactExports.useRef(null),st=reactExports.useRef(null),ut=useComposedRefs($,st,rt.onViewportChange),dt=et.join("+").replace(/Key/g,"").replace(/Digit/g,""),pt=rt.toastCount>0;reactExports.useEffect(()=>{const yt=mt=>{var _t;et.every(Ct=>mt[Ct]||mt.code===Ct)&&((_t=st.current)==null||_t.focus())};return document.addEventListener("keydown",yt),()=>document.removeEventListener("keydown",yt)},[et]),reactExports.useEffect(()=>{const yt=it.current,mt=st.current;if(pt&&yt&&mt){const vt=()=>{if(!rt.isClosePausedRef.current){const kt=new CustomEvent(VIEWPORT_PAUSE);mt.dispatchEvent(kt),rt.isClosePausedRef.current=!0}},_t=()=>{if(rt.isClosePausedRef.current){const kt=new CustomEvent(VIEWPORT_RESUME);mt.dispatchEvent(kt),rt.isClosePausedRef.current=!1}},Ct=kt=>{!yt.contains(kt.relatedTarget)&&_t()},At=()=>{yt.contains(document.activeElement)||_t()};return yt.addEventListener("focusin",vt),yt.addEventListener("focusout",Ct),yt.addEventListener("pointermove",vt),yt.addEventListener("pointerleave",At),window.addEventListener("blur",vt),window.addEventListener("focus",_t),()=>{yt.removeEventListener("focusin",vt),yt.removeEventListener("focusout",Ct),yt.removeEventListener("pointermove",vt),yt.removeEventListener("pointerleave",At),window.removeEventListener("blur",vt),window.removeEventListener("focus",_t)}}},[pt,rt.isClosePausedRef]);const gt=reactExports.useCallback(({tabbingDirection:yt})=>{const vt=ot().map(_t=>{const Ct=_t.ref.current,At=[Ct,...getTabbableCandidates(Ct)];return yt==="forwards"?At:At.reverse()});return(yt==="forwards"?vt.reverse():vt).flat()},[ot]);return reactExports.useEffect(()=>{const yt=st.current;if(yt){const mt=vt=>{var At,kt,St;const _t=vt.altKey||vt.ctrlKey||vt.metaKey;if(vt.key==="Tab"&&!_t){const wt=document.activeElement,It=vt.shiftKey;if(vt.target===yt&&It){(At=at.current)==null||At.focus();return}const rn=gt({tabbingDirection:It?"backwards":"forwards"}),hn=rn.findIndex(Vt=>Vt===wt);focusFirst(rn.slice(hn+1))?vt.preventDefault():It?(kt=at.current)==null||kt.focus():(St=ft.current)==null||St.focus()}};return yt.addEventListener("keydown",mt),()=>yt.removeEventListener("keydown",mt)}},[ot,gt]),jsxRuntimeExports.jsxs(Branch,{ref:it,role:"region","aria-label":tt.replace("{hotkey}",dt),tabIndex:-1,style:{pointerEvents:pt?void 0:"none"},children:[pt&&jsxRuntimeExports.jsx(FocusProxy,{ref:at,onFocusFromOutsideViewport:()=>{const yt=gt({tabbingDirection:"forwards"});focusFirst(yt)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:_e,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...nt,ref:ut})}),pt&&jsxRuntimeExports.jsx(FocusProxy,{ref:ft,onFocusFromOutsideViewport:()=>{const yt=gt({tabbingDirection:"backwards"});focusFirst(yt)}})]})});ToastViewport.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((j,$)=>{const{__scopeToast:_e,onFocusFromOutsideViewport:et,...tt}=j,nt=useToastProviderContext(FOCUS_PROXY_NAME,_e);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...tt,ref:$,style:{position:"fixed"},onFocus:rt=>{var at;const ot=rt.relatedTarget;!((at=nt.viewport)!=null&&at.contains(ot))&&et()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast=reactExports.forwardRef((j,$)=>{const{forceMount:_e,open:et,defaultOpen:tt,onOpenChange:nt,...rt}=j,[ot=!0,it]=useControllableState({prop:et,defaultProp:tt,onChange:nt});return jsxRuntimeExports.jsx(Presence,{present:_e||ot,children:jsxRuntimeExports.jsx(ToastImpl,{open:ot,...rt,ref:$,onClose:()=>it(!1),onPause:useCallbackRef$1(j.onPause),onResume:useCallbackRef$1(j.onResume),onSwipeStart:composeEventHandlers(j.onSwipeStart,at=>{at.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(j.onSwipeMove,at=>{const{x:ft,y:st}=at.detail.delta;at.currentTarget.setAttribute("data-swipe","move"),at.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${ft}px`),at.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${st}px`)}),onSwipeCancel:composeEventHandlers(j.onSwipeCancel,at=>{at.currentTarget.setAttribute("data-swipe","cancel"),at.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),at.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),at.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),at.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(j.onSwipeEnd,at=>{const{x:ft,y:st}=at.detail.delta;at.currentTarget.setAttribute("data-swipe","end"),at.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),at.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),at.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${ft}px`),at.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${st}px`),it(!1)})})})});Toast.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((j,$)=>{const{__scopeToast:_e,type:et="foreground",duration:tt,open:nt,onClose:rt,onEscapeKeyDown:ot,onPause:it,onResume:at,onSwipeStart:ft,onSwipeMove:st,onSwipeCancel:ut,onSwipeEnd:dt,...pt}=j,gt=useToastProviderContext(TOAST_NAME,_e),[yt,mt]=reactExports.useState(null),vt=useComposedRefs($,Vt=>mt(Vt)),_t=reactExports.useRef(null),Ct=reactExports.useRef(null),At=tt||gt.duration,kt=reactExports.useRef(0),St=reactExports.useRef(At),wt=reactExports.useRef(0),{onToastAdd:It,onToastRemove:Ut}=gt,Yt=useCallbackRef$1(()=>{var Zt;(yt==null?void 0:yt.contains(document.activeElement))&&((Zt=gt.viewport)==null||Zt.focus()),rt()}),rn=reactExports.useCallback(Vt=>{!Vt||Vt===1/0||(window.clearTimeout(wt.current),kt.current=new Date().getTime(),wt.current=window.setTimeout(Yt,Vt))},[Yt]);reactExports.useEffect(()=>{const Vt=gt.viewport;if(Vt){const Zt=()=>{rn(St.current),at==null||at()},en=()=>{const fn=new Date().getTime()-kt.current;St.current=St.current-fn,window.clearTimeout(wt.current),it==null||it()};return Vt.addEventListener(VIEWPORT_PAUSE,en),Vt.addEventListener(VIEWPORT_RESUME,Zt),()=>{Vt.removeEventListener(VIEWPORT_PAUSE,en),Vt.removeEventListener(VIEWPORT_RESUME,Zt)}}},[gt.viewport,At,it,at,rn]),reactExports.useEffect(()=>{nt&&!gt.isClosePausedRef.current&&rn(At)},[nt,At,gt.isClosePausedRef,rn]),reactExports.useEffect(()=>(It(),()=>Ut()),[It,Ut]);const hn=reactExports.useMemo(()=>yt?getAnnounceTextContent(yt):null,[yt]);return gt.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[hn&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:_e,role:"status","aria-live":et==="foreground"?"assertive":"polite","aria-atomic":!0,children:hn}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:_e,onClose:Yt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:_e,children:jsxRuntimeExports.jsx(Root$7,{asChild:!0,onEscapeKeyDown:composeEventHandlers(ot,()=>{gt.isFocusedToastEscapeKeyDownRef.current||Yt(),gt.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":nt?"open":"closed","data-swipe-direction":gt.swipeDirection,...pt,ref:vt,style:{userSelect:"none",touchAction:"none",...j.style},onKeyDown:composeEventHandlers(j.onKeyDown,Vt=>{Vt.key==="Escape"&&(ot==null||ot(Vt.nativeEvent),Vt.nativeEvent.defaultPrevented||(gt.isFocusedToastEscapeKeyDownRef.current=!0,Yt()))}),onPointerDown:composeEventHandlers(j.onPointerDown,Vt=>{Vt.button===0&&(_t.current={x:Vt.clientX,y:Vt.clientY})}),onPointerMove:composeEventHandlers(j.onPointerMove,Vt=>{if(!_t.current)return;const Zt=Vt.clientX-_t.current.x,en=Vt.clientY-_t.current.y,fn=!!Ct.current,zt=["left","right"].includes(gt.swipeDirection),Wt=["left","up"].includes(gt.swipeDirection)?Math.min:Math.max,sn=zt?Wt(0,Zt):0,nn=zt?0:Wt(0,en),un=Vt.pointerType==="touch"?10:2,wn={x:sn,y:nn},vn={originalEvent:Vt,delta:wn};fn?(Ct.current=wn,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,st,vn,{discrete:!1})):isDeltaInDirection(wn,gt.swipeDirection,un)?(Ct.current=wn,handleAndDispatchCustomEvent(TOAST_SWIPE_START,ft,vn,{discrete:!1}),Vt.target.setPointerCapture(Vt.pointerId)):(Math.abs(Zt)>un||Math.abs(en)>un)&&(_t.current=null)}),onPointerUp:composeEventHandlers(j.onPointerUp,Vt=>{const Zt=Ct.current,en=Vt.target;if(en.hasPointerCapture(Vt.pointerId)&&en.releasePointerCapture(Vt.pointerId),Ct.current=null,_t.current=null,Zt){const fn=Vt.currentTarget,zt={originalEvent:Vt,delta:Zt};isDeltaInDirection(Zt,gt.swipeDirection,gt.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,dt,zt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,ut,zt,{discrete:!0}),fn.addEventListener("click",Wt=>Wt.preventDefault(),{once:!0})}})})})}),gt.viewport)})]}):null}),ToastAnnounce=j=>{const{__scopeToast:$,children:_e,...et}=j,tt=useToastProviderContext(TOAST_NAME,$),[nt,rt]=reactExports.useState(!1),[ot,it]=reactExports.useState(!1);return useNextFrame(()=>rt(!0)),reactExports.useEffect(()=>{const at=window.setTimeout(()=>it(!0),1e3);return()=>window.clearTimeout(at)},[]),ot?null:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...et,children:nt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[tt.label," ",_e]})})})},TITLE_NAME="ToastTitle",ToastTitle=reactExports.forwardRef((j,$)=>{const{__scopeToast:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.div,{...et,ref:$})});ToastTitle.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription=reactExports.forwardRef((j,$)=>{const{__scopeToast:_e,...et}=j;return jsxRuntimeExports.jsx(Primitive.div,{...et,ref:$})});ToastDescription.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction=reactExports.forwardRef((j,$)=>{const{altText:_e,...et}=j;return _e.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:_e,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose,{...et,ref:$})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose=reactExports.forwardRef((j,$)=>{const{__scopeToast:_e,...et}=j,tt=useToastInteractiveContext(CLOSE_NAME,_e);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...et,ref:$,onClick:composeEventHandlers(j.onClick,tt.onClose)})})});ToastClose.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((j,$)=>{const{__scopeToast:_e,altText:et,...tt}=j;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":et||void 0,...tt,ref:$})});function getAnnounceTextContent(j){const $=[];return Array.from(j.childNodes).forEach(et=>{if(et.nodeType===et.TEXT_NODE&&et.textContent&&$.push(et.textContent),isHTMLElement(et)){const tt=et.ariaHidden||et.hidden||et.style.display==="none",nt=et.dataset.radixToastAnnounceExclude==="";if(!tt)if(nt){const rt=et.dataset.radixToastAnnounceAlt;rt&&$.push(rt)}else $.push(...getAnnounceTextContent(et))}}),$}function handleAndDispatchCustomEvent(j,$,_e,{discrete:et}){const tt=_e.originalEvent.currentTarget,nt=new CustomEvent(j,{bubbles:!0,cancelable:!0,detail:_e});$&&tt.addEventListener(j,$,{once:!0}),et?dispatchDiscreteCustomEvent(tt,nt):tt.dispatchEvent(nt)}var isDeltaInDirection=(j,$,_e=0)=>{const et=Math.abs(j.x),tt=Math.abs(j.y),nt=et>tt;return $==="left"||$==="right"?nt&&et>_e:!nt&&tt>_e};function useNextFrame(j=()=>{}){const $=useCallbackRef$1(j);useLayoutEffect2(()=>{let _e=0,et=0;return _e=window.requestAnimationFrame(()=>et=window.requestAnimationFrame($)),()=>{window.cancelAnimationFrame(_e),window.cancelAnimationFrame(et)}},[$])}function isHTMLElement(j){return j.nodeType===j.ELEMENT_NODE}function getTabbableCandidates(j){const $=[],_e=document.createTreeWalker(j,NodeFilter.SHOW_ELEMENT,{acceptNode:et=>{const tt=et.tagName==="INPUT"&&et.type==="hidden";return et.disabled||et.hidden||tt?NodeFilter.FILTER_SKIP:et.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;_e.nextNode();)$.push(_e.currentNode);return $}function focusFirst(j){const $=document.activeElement;return j.some(_e=>_e===$?!0:(_e.focus(),document.activeElement!==$))}var Provider=ToastProvider,Viewport=ToastViewport,Root2=Toast,Description=ToastDescription,Close=ToastClose;const ErrorAlert=()=>{const{t:j}=useTranslation(),$=useAtom_2(isErrorShown$),_e=useAtom_2(errorMessage$);return $?jsxRuntimeExports.jsxs(Provider,{children:[jsxRuntimeExports.jsxs(Root2,{className:"qsp-toast-root error",open:$,onOpenChange:()=>isErrorShown$.set(!1),children:[jsxRuntimeExports.jsx(Description,{className:"qsp-toast-description",children:j(_e)}),jsxRuntimeExports.jsx(Close,{className:"q-ghost-button",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]}),jsxRuntimeExports.jsx(Viewport,{className:"qsp-toast-viewport"})]}):null},NoticeToast=()=>{const j=useAtom_2(isNoticeShown$),$=useAtom_2(noticeMessage$),{t:_e}=useTranslation();return j?jsxRuntimeExports.jsxs(Provider,{children:[jsxRuntimeExports.jsx(Root2,{className:"qsp-toast-root",open:j,children:jsxRuntimeExports.jsx(Description,{className:"qsp-toast-description",children:_e($)})}),jsxRuntimeExports.jsx(Viewport,{className:"qsp-toast-viewport"})]}):null};var dexie_min={exports:{}};(function(j,$){(function(_e,et){j.exports=et()})(commonjsGlobal,function(){var _e=function(lt,ct){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,xt){ht.__proto__=xt}||function(ht,xt){for(var Et in xt)Object.prototype.hasOwnProperty.call(xt,Et)&&(ht[Et]=xt[Et])})(lt,ct)},et=function(){return(et=Object.assign||function(lt){for(var ct,ht=1,xt=arguments.length;ht<xt;ht++)for(var Et in ct=arguments[ht])Object.prototype.hasOwnProperty.call(ct,Et)&&(lt[Et]=ct[Et]);return lt}).apply(this,arguments)};function tt(lt,ct,ht){for(var xt,Et=0,bt=ct.length;Et<bt;Et++)!xt&&Et in ct||((xt=xt||Array.prototype.slice.call(ct,0,Et))[Et]=ct[Et]);return lt.concat(xt||Array.prototype.slice.call(ct))}var nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,rt=Object.keys,ot=Array.isArray;function it(lt,ct){return typeof ct!="object"||rt(ct).forEach(function(ht){lt[ht]=ct[ht]}),lt}typeof Promise>"u"||nt.Promise||(nt.Promise=Promise);var at=Object.getPrototypeOf,ft={}.hasOwnProperty;function st(lt,ct){return ft.call(lt,ct)}function ut(lt,ct){typeof ct=="function"&&(ct=ct(at(lt))),(typeof Reflect>"u"?rt:Reflect.ownKeys)(ct).forEach(function(ht){pt(lt,ht,ct[ht])})}var dt=Object.defineProperty;function pt(lt,ct,ht,xt){dt(lt,ct,it(ht&&st(ht,"get")&&typeof ht.get=="function"?{get:ht.get,set:ht.set,configurable:!0}:{value:ht,configurable:!0,writable:!0},xt))}function gt(lt){return{from:function(ct){return lt.prototype=Object.create(ct.prototype),pt(lt.prototype,"constructor",lt),{extend:ut.bind(null,lt.prototype)}}}}var yt=Object.getOwnPropertyDescriptor,mt=[].slice;function vt(lt,ct,ht){return mt.call(lt,ct,ht)}function _t(lt,ct){return ct(lt)}function Ct(lt){if(!lt)throw new Error("Assertion Failed")}function At(lt){nt.setImmediate?setImmediate(lt):setTimeout(lt,0)}function kt(lt,ct){if(typeof ct=="string"&&st(lt,ct))return lt[ct];if(!ct)return lt;if(typeof ct!="string"){for(var ht=[],xt=0,Et=ct.length;xt<Et;++xt){var bt=kt(lt,ct[xt]);ht.push(bt)}return ht}var Rt=ct.indexOf(".");if(Rt!==-1){var Pt=lt[ct.substr(0,Rt)];return Pt==null?void 0:kt(Pt,ct.substr(Rt+1))}}function St(lt,ct,ht){if(lt&&ct!==void 0&&!("isFrozen"in Object&&Object.isFrozen(lt)))if(typeof ct!="string"&&"length"in ct){Ct(typeof ht!="string"&&"length"in ht);for(var xt=0,Et=ct.length;xt<Et;++xt)St(lt,ct[xt],ht[xt])}else{var bt,Rt,Pt=ct.indexOf(".");Pt!==-1?(bt=ct.substr(0,Pt),(Rt=ct.substr(Pt+1))===""?ht===void 0?ot(lt)&&!isNaN(parseInt(bt))?lt.splice(bt,1):delete lt[bt]:lt[bt]=ht:St(Pt=!(Pt=lt[bt])||!st(lt,bt)?lt[bt]={}:Pt,Rt,ht)):ht===void 0?ot(lt)&&!isNaN(parseInt(ct))?lt.splice(ct,1):delete lt[ct]:lt[ct]=ht}}function wt(lt){var ct,ht={};for(ct in lt)st(lt,ct)&&(ht[ct]=lt[ct]);return ht}var It=[].concat;function Ut(lt){return It.apply([],lt)}var xr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ut([8,16,32,64].map(function(lt){return["Int","Uint","Float"].map(function(ct){return ct+lt+"Array"})}))).filter(function(lt){return nt[lt]}),Yt=new Set(xr.map(function(lt){return nt[lt]})),rn=null;function hn(lt){return rn=new WeakMap,lt=function ct(ht){if(!ht||typeof ht!="object")return ht;var xt=rn.get(ht);if(xt)return xt;if(ot(ht)){xt=[],rn.set(ht,xt);for(var Et=0,bt=ht.length;Et<bt;++Et)xt.push(ct(ht[Et]))}else if(Yt.has(ht.constructor))xt=ht;else{var Rt,Pt=at(ht);for(Rt in xt=Pt===Object.prototype?{}:Object.create(Pt),rn.set(ht,xt),ht)st(ht,Rt)&&(xt[Rt]=ct(ht[Rt]))}return xt}(lt),rn=null,lt}var Vt={}.toString;function Zt(lt){return Vt.call(lt).slice(8,-1)}var en=typeof Symbol<"u"?Symbol.iterator:"@@iterator",fn=typeof en=="symbol"?function(lt){var ct;return lt!=null&&(ct=lt[en])&&ct.apply(lt)}:function(){return null};function zt(lt,ct){return ct=lt.indexOf(ct),0<=ct&&lt.splice(ct,1),0<=ct}var Wt={};function sn(lt){var ct,ht,xt,Et;if(arguments.length===1){if(ot(lt))return lt.slice();if(this===Wt&&typeof lt=="string")return[lt];if(Et=fn(lt)){for(ht=[];!(xt=Et.next()).done;)ht.push(xt.value);return ht}if(lt==null)return[lt];if(typeof(ct=lt.length)!="number")return[lt];for(ht=new Array(ct);ct--;)ht[ct]=lt[ct];return ht}for(ct=arguments.length,ht=new Array(ct);ct--;)ht[ct]=arguments[ct];return ht}var nn=typeof Symbol<"u"?function(lt){return lt[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Pr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ar=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Pr),un={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function wn(lt,ct){this.name=lt,this.message=ct}function vn(lt,ct){return lt+". Errors: "+Object.keys(ct).map(function(ht){return ct[ht].toString()}).filter(function(ht,xt,Et){return Et.indexOf(ht)===xt}).join(`
`)}function En(lt,ct,ht,xt){this.failures=ct,this.failedKeys=xt,this.successCount=ht,this.message=vn(lt,ct)}function Cn(lt,ct){this.name="BulkError",this.failures=Object.keys(ct).map(function(ht){return ct[ht]}),this.failuresByPos=ct,this.message=vn(lt,this.failures)}gt(wn).from(Error).extend({toString:function(){return this.name+": "+this.message}}),gt(En).from(wn),gt(Cn).from(wn);var tn=ar.reduce(function(lt,ct){return lt[ct]=ct+"Error",lt},{}),bn=wn,Jt=ar.reduce(function(lt,ct){var ht=ct+"Error";function xt(Et,bt){this.name=ht,Et?typeof Et=="string"?(this.message="".concat(Et).concat(bt?`
 `+bt:""),this.inner=bt||null):typeof Et=="object"&&(this.message="".concat(Et.name," ").concat(Et.message),this.inner=Et):(this.message=un[ct]||ht,this.inner=null)}return gt(xt).from(bn),lt[ct]=xt,lt},{});Jt.Syntax=SyntaxError,Jt.Type=TypeError,Jt.Range=RangeError;var Sn=Pr.reduce(function(lt,ct){return lt[ct+"Error"]=Jt[ct],lt},{}),$n=ar.reduce(function(lt,ct){return["Syntax","Type","Range"].indexOf(ct)===-1&&(lt[ct+"Error"]=Jt[ct]),lt},{});function xn(){}function Hn(lt){return lt}function Qn(lt,ct){return lt==null||lt===Hn?ct:function(ht){return ct(lt(ht))}}function Kn(lt,ct){return function(){lt.apply(this,arguments),ct.apply(this,arguments)}}function Yn(lt,ct){return lt===xn?ct:function(){var ht=lt.apply(this,arguments);ht!==void 0&&(arguments[0]=ht);var xt=this.onsuccess,Et=this.onerror;this.onsuccess=null,this.onerror=null;var bt=ct.apply(this,arguments);return xt&&(this.onsuccess=this.onsuccess?Kn(xt,this.onsuccess):xt),Et&&(this.onerror=this.onerror?Kn(Et,this.onerror):Et),bt!==void 0?bt:ht}}function lr(lt,ct){return lt===xn?ct:function(){lt.apply(this,arguments);var ht=this.onsuccess,xt=this.onerror;this.onsuccess=this.onerror=null,ct.apply(this,arguments),ht&&(this.onsuccess=this.onsuccess?Kn(ht,this.onsuccess):ht),xt&&(this.onerror=this.onerror?Kn(xt,this.onerror):xt)}}function fr(lt,ct){return lt===xn?ct:function(ht){var xt=lt.apply(this,arguments);it(ht,xt);var Et=this.onsuccess,bt=this.onerror;return this.onsuccess=null,this.onerror=null,ht=ct.apply(this,arguments),Et&&(this.onsuccess=this.onsuccess?Kn(Et,this.onsuccess):Et),bt&&(this.onerror=this.onerror?Kn(bt,this.onerror):bt),xt===void 0?ht===void 0?void 0:ht:it(xt,ht)}}function ur(lt,ct){return lt===xn?ct:function(){return ct.apply(this,arguments)!==!1&&lt.apply(this,arguments)}}function mr(lt,ct){return lt===xn?ct:function(){var ht=lt.apply(this,arguments);if(ht&&typeof ht.then=="function"){for(var xt=this,Et=arguments.length,bt=new Array(Et);Et--;)bt[Et]=arguments[Et];return ht.then(function(){return ct.apply(xt,bt)})}return ct.apply(this,arguments)}}$n.ModifyError=En,$n.DexieError=wn,$n.BulkError=Cn;var tr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Yr(lt){tr=lt}var Er={},Xr=100,xr=typeof Promise>"u"?[]:function(){var lt=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[lt,at(lt),lt];var ct=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[ct,at(ct),lt]}(),Pr=xr[0],ar=xr[1],xr=xr[2],ar=ar&&ar.then,jr=Pr&&Pr.constructor,$r=!!xr,dr=function(lt,ct){_r.push([lt,ct]),kr&&(queueMicrotask(qn),kr=!1)},Vr=!0,kr=!0,gr=[],or=[],qr=Hn,er={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xn,pgp:!1,env:{},finalize:xn},yn=er,_r=[],sr=0,Or=[];function mn(lt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var ct=this._PSD=yn;if(typeof lt!="function"){if(lt!==Er)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&gn(this,this._value))}this._state=null,this._value=null,++ct.ref,function ht(xt,Et){try{Et(function(bt){if(xt._state===null){if(bt===xt)throw new TypeError("A promise cannot be resolved with itself.");var Rt=xt._lib&&Nn();bt&&typeof bt.then=="function"?ht(xt,function(Pt,Mt){bt instanceof mn?bt._then(Pt,Mt):bt.then(Pt,Mt)}):(xt._state=!0,xt._value=bt,_n(xt)),Rt&&Dn()}},gn.bind(null,xt))}catch(bt){gn(xt,bt)}}(this,lt)}var jt={get:function(){var lt=yn,ct=wr;function ht(xt,Et){var bt=this,Rt=!lt.global&&(lt!==yn||ct!==wr),Pt=Rt&&!Sr(),Mt=new mn(function(Ot,Ft){On(bt,new Qt(ss(xt,lt,Rt,Pt),ss(Et,lt,Rt,Pt),Ot,Ft,lt))});return this._consoleTask&&(Mt._consoleTask=this._consoleTask),Mt}return ht.prototype=Er,ht},set:function(lt){pt(this,"then",lt&&lt.prototype===Er?jt:{get:function(){return lt},set:jt.set})}};function Qt(lt,ct,ht,xt,Et){this.onFulfilled=typeof lt=="function"?lt:null,this.onRejected=typeof ct=="function"?ct:null,this.resolve=ht,this.reject=xt,this.psd=Et}function gn(lt,ct){var ht,xt;or.push(ct),lt._state===null&&(ht=lt._lib&&Nn(),ct=qr(ct),lt._state=!1,lt._value=ct,xt=lt,gr.some(function(Et){return Et._value===xt._value})||gr.push(xt),_n(lt),ht&&Dn())}function _n(lt){var ct=lt._listeners;lt._listeners=[];for(var ht=0,xt=ct.length;ht<xt;++ht)On(lt,ct[ht]);var Et=lt._PSD;--Et.ref||Et.finalize(),sr===0&&(++sr,dr(function(){--sr==0&&nr()},[]))}function On(lt,ct){if(lt._state!==null){var ht=lt._state?ct.onFulfilled:ct.onRejected;if(ht===null)return(lt._state?ct.resolve:ct.reject)(lt._value);++ct.psd.ref,++sr,dr(Mn,[ht,lt,ct])}else lt._listeners.push(ct)}function Mn(lt,ct,ht){try{var xt,Et=ct._value;!ct._state&&or.length&&(or=[]),xt=tr&&ct._consoleTask?ct._consoleTask.run(function(){return lt(Et)}):lt(Et),ct._state||or.indexOf(Et)!==-1||function(bt){for(var Rt=gr.length;Rt;)if(gr[--Rt]._value===bt._value)return gr.splice(Rt,1)}(ct),ht.resolve(xt)}catch(bt){ht.reject(bt)}finally{--sr==0&&nr(),--ht.psd.ref||ht.psd.finalize()}}function qn(){Mr(er,function(){Nn()&&Dn()})}function Nn(){var lt=Vr;return kr=Vr=!1,lt}function Dn(){var lt,ct,ht;do for(;0<_r.length;)for(lt=_r,_r=[],ht=lt.length,ct=0;ct<ht;++ct){var xt=lt[ct];xt[0].apply(null,xt[1])}while(0<_r.length);kr=Vr=!0}function nr(){var lt=gr;gr=[],lt.forEach(function(xt){xt._PSD.onunhandled.call(null,xt._value,xt)});for(var ct=Or.slice(0),ht=ct.length;ht;)ct[--ht]()}function Xn(lt){return new mn(Er,!1,lt)}function Tn(lt,ct){var ht=yn;return function(){var xt=Nn(),Et=yn;try{return Cr(ht,!0),lt.apply(this,arguments)}catch(bt){ct&&ct(bt)}finally{Cr(Et,!1),xt&&Dn()}}}ut(mn.prototype,{then:jt,_then:function(lt,ct){On(this,new Qt(null,null,lt,ct,yn))},catch:function(lt){if(arguments.length===1)return this.then(null,lt);var ct=lt,ht=arguments[1];return typeof ct=="function"?this.then(null,function(xt){return(xt instanceof ct?ht:Xn)(xt)}):this.then(null,function(xt){return(xt&&xt.name===ct?ht:Xn)(xt)})},finally:function(lt){return this.then(function(ct){return mn.resolve(lt()).then(function(){return ct})},function(ct){return mn.resolve(lt()).then(function(){return Xn(ct)})})},timeout:function(lt,ct){var ht=this;return lt<1/0?new mn(function(xt,Et){var bt=setTimeout(function(){return Et(new Jt.Timeout(ct))},lt);ht.then(xt,Et).finally(clearTimeout.bind(null,bt))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&pt(mn.prototype,Symbol.toStringTag,"Dexie.Promise"),er.env=os(),ut(mn,{all:function(){var lt=sn.apply(null,arguments).map(lo);return new mn(function(ct,ht){lt.length===0&&ct([]);var xt=lt.length;lt.forEach(function(Et,bt){return mn.resolve(Et).then(function(Rt){lt[bt]=Rt,--xt||ct(lt)},ht)})})},resolve:function(lt){return lt instanceof mn?lt:lt&&typeof lt.then=="function"?new mn(function(ct,ht){lt.then(ct,ht)}):new mn(Er,!0,lt)},reject:Xn,race:function(){var lt=sn.apply(null,arguments).map(lo);return new mn(function(ct,ht){lt.map(function(xt){return mn.resolve(xt).then(ct,ht)})})},PSD:{get:function(){return yn},set:function(lt){return yn=lt}},totalEchoes:{get:function(){return wr}},newPSD:br,usePSD:Mr,scheduler:{get:function(){return dr},set:function(lt){dr=lt}},rejectionMapper:{get:function(){return qr},set:function(lt){qr=lt}},follow:function(lt,ct){return new mn(function(ht,xt){return br(function(Et,bt){var Rt=yn;Rt.unhandleds=[],Rt.onunhandled=bt,Rt.finalize=Kn(function(){var Pt,Mt=this;Pt=function(){Mt.unhandleds.length===0?Et():bt(Mt.unhandleds[0])},Or.push(function Ot(){Pt(),Or.splice(Or.indexOf(Ot),1)}),++sr,dr(function(){--sr==0&&nr()},[])},Rt.finalize),lt()},ct,ht,xt)})}}),jr&&(jr.allSettled&&pt(mn,"allSettled",function(){var lt=sn.apply(null,arguments).map(lo);return new mn(function(ct){lt.length===0&&ct([]);var ht=lt.length,xt=new Array(ht);lt.forEach(function(Et,bt){return mn.resolve(Et).then(function(Rt){return xt[bt]={status:"fulfilled",value:Rt}},function(Rt){return xt[bt]={status:"rejected",reason:Rt}}).then(function(){return--ht||ct(xt)})})})}),jr.any&&typeof AggregateError<"u"&&pt(mn,"any",function(){var lt=sn.apply(null,arguments).map(lo);return new mn(function(ct,ht){lt.length===0&&ht(new AggregateError([]));var xt=lt.length,Et=new Array(xt);lt.forEach(function(bt,Rt){return mn.resolve(bt).then(function(Pt){return ct(Pt)},function(Pt){Et[Rt]=Pt,--xt||ht(new AggregateError(Et))})})})}));var Fn={awaits:0,echoes:0,id:0},Nr=0,ir=[],Ir=0,wr=0,Ms=0;function br(lt,ct,ht,xt){var Et=yn,bt=Object.create(Et);return bt.parent=Et,bt.ref=0,bt.global=!1,bt.id=++Ms,er.env,bt.env=$r?{Promise:mn,PromiseProp:{value:mn,configurable:!0,writable:!0},all:mn.all,race:mn.race,allSettled:mn.allSettled,any:mn.any,resolve:mn.resolve,reject:mn.reject}:{},ct&&it(bt,ct),++Et.ref,bt.finalize=function(){--this.parent.ref||this.parent.finalize()},xt=Mr(bt,lt,ht,xt),bt.ref===0&&bt.finalize(),xt}function zr(){return Fn.id||(Fn.id=++Nr),++Fn.awaits,Fn.echoes+=Xr,Fn.id}function Sr(){return!!Fn.awaits&&(--Fn.awaits==0&&(Fn.id=0),Fn.echoes=Fn.awaits*Xr,!0)}function lo(lt){return Fn.echoes&&lt&&lt.constructor===jr?(zr(),lt.then(function(ct){return Sr(),ct},function(ct){return Sr(),Un(ct)})):lt}function Ls(){var lt=ir[ir.length-1];ir.pop(),Cr(lt,!1)}function Cr(lt,ct){var ht,xt=yn;(ct?!Fn.echoes||Ir++&&lt===yn:!Ir||--Ir&&lt===yn)||queueMicrotask(ct?(function(Et){++wr,Fn.echoes&&--Fn.echoes!=0||(Fn.echoes=Fn.awaits=Fn.id=0),ir.push(yn),Cr(Et,!0)}).bind(null,lt):Ls),lt!==yn&&(yn=lt,xt===er&&(er.env=os()),$r&&(ht=er.env.Promise,ct=lt.env,(xt.global||lt.global)&&(Object.defineProperty(nt,"Promise",ct.PromiseProp),ht.all=ct.all,ht.race=ct.race,ht.resolve=ct.resolve,ht.reject=ct.reject,ct.allSettled&&(ht.allSettled=ct.allSettled),ct.any&&(ht.any=ct.any))))}function os(){var lt=nt.Promise;return $r?{Promise:lt,PromiseProp:Object.getOwnPropertyDescriptor(nt,"Promise"),all:lt.all,race:lt.race,allSettled:lt.allSettled,any:lt.any,resolve:lt.resolve,reject:lt.reject}:{}}function Mr(lt,ct,ht,xt,Et){var bt=yn;try{return Cr(lt,!0),ct(ht,xt,Et)}finally{Cr(bt,!1)}}function ss(lt,ct,ht,xt){return typeof lt!="function"?lt:function(){var Et=yn;ht&&zr(),Cr(ct,!0);try{return lt.apply(this,arguments)}finally{Cr(Et,!1),xt&&queueMicrotask(Sr)}}}function Po(lt){Promise===jr&&Fn.echoes===0?Ir===0?lt():enqueueNativeMicroTask(lt):setTimeout(lt,0)}(""+ar).indexOf("[native code]")===-1&&(zr=Sr=xn);var Un=mn.reject,Lr="",vr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",as="String expected.",Kr=[],uo="__dbnames",jo="readonly",$o="readwrite";function Dr(lt,ct){return lt?ct?function(){return lt.apply(this,arguments)&&ct.apply(this,arguments)}:lt:ct}var ls={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function co(lt){return typeof lt!="string"||/\./.test(lt)?function(ct){return ct}:function(ct){return ct[lt]===void 0&&lt in ct&&delete(ct=hn(ct))[lt],ct}}function us(){throw Jt.Type()}function In(lt,ct){try{var ht=fs(lt),xt=fs(ct);if(ht!==xt)return ht==="Array"?1:xt==="Array"?-1:ht==="binary"?1:xt==="binary"?-1:ht==="string"?1:xt==="string"?-1:ht==="Date"?1:xt!=="Date"?NaN:-1;switch(ht){case"number":case"Date":case"string":return ct<lt?1:lt<ct?-1:0;case"binary":return function(Et,bt){for(var Rt=Et.length,Pt=bt.length,Mt=Rt<Pt?Rt:Pt,Ot=0;Ot<Mt;++Ot)if(Et[Ot]!==bt[Ot])return Et[Ot]<bt[Ot]?-1:1;return Rt===Pt?0:Rt<Pt?-1:1}(ds(lt),ds(ct));case"Array":return function(Et,bt){for(var Rt=Et.length,Pt=bt.length,Mt=Rt<Pt?Rt:Pt,Ot=0;Ot<Mt;++Ot){var Ft=In(Et[Ot],bt[Ot]);if(Ft!==0)return Ft}return Rt===Pt?0:Rt<Pt?-1:1}(lt,ct)}}catch{}return NaN}function fs(lt){var ct=typeof lt;return ct!="object"?ct:ArrayBuffer.isView(lt)?"binary":(lt=Zt(lt),lt==="ArrayBuffer"?"binary":lt)}function ds(lt){return lt instanceof Uint8Array?lt:ArrayBuffer.isView(lt)?new Uint8Array(lt.buffer,lt.byteOffset,lt.byteLength):new Uint8Array(lt)}var ps=(Bn.prototype._trans=function(lt,ct,ht){var xt=this._tx||yn.trans,Et=this.name,bt=tr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(lt==="readonly"?"read":"write"," ").concat(this.name));function Rt(Ot,Ft,$t){if(!$t.schema[Et])throw new Jt.NotFound("Table "+Et+" not part of transaction");return ct($t.idbtrans,$t)}var Pt=Nn();try{var Mt=xt&&xt.db._novip===this.db._novip?xt===yn.trans?xt._promise(lt,Rt,ht):br(function(){return xt._promise(lt,Rt,ht)},{trans:xt,transless:yn.transless||yn}):function Ot(Ft,$t,Bt,Nt){if(Ft.idbdb&&(Ft._state.openComplete||yn.letThrough||Ft._vip)){var Dt=Ft._createTransaction($t,Bt,Ft._dbSchema);try{Dt.create(),Ft._state.PR1398_maxLoop=3}catch(Ht){return Ht.name===tn.InvalidState&&Ft.isOpen()&&0<--Ft._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ft.close({disableAutoOpen:!1}),Ft.open().then(function(){return Ot(Ft,$t,Bt,Nt)})):Un(Ht)}return Dt._promise($t,function(Ht,Lt){return br(function(){return yn.trans=Dt,Nt(Ht,Lt,Dt)})}).then(function(Ht){if($t==="readwrite")try{Dt.idbtrans.commit()}catch{}return $t==="readonly"?Ht:Dt._completion.then(function(){return Ht})})}if(Ft._state.openComplete)return Un(new Jt.DatabaseClosed(Ft._state.dbOpenError));if(!Ft._state.isBeingOpened){if(!Ft._state.autoOpen)return Un(new Jt.DatabaseClosed);Ft.open().catch(xn)}return Ft._state.dbReadyPromise.then(function(){return Ot(Ft,$t,Bt,Nt)})}(this.db,lt,[this.name],Rt);return bt&&(Mt._consoleTask=bt,Mt=Mt.catch(function(Ot){return console.trace(Ot),Un(Ot)})),Mt}finally{Pt&&Dn()}},Bn.prototype.get=function(lt,ct){var ht=this;return lt&&lt.constructor===Object?this.where(lt).first(ct):lt==null?Un(new Jt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(xt){return ht.core.get({trans:xt,key:lt}).then(function(Et){return ht.hook.reading.fire(Et)})}).then(ct)},Bn.prototype.where=function(lt){if(typeof lt=="string")return new this.db.WhereClause(this,lt);if(ot(lt))return new this.db.WhereClause(this,"[".concat(lt.join("+"),"]"));var ct=rt(lt);if(ct.length===1)return this.where(ct[0]).equals(lt[ct[0]]);var ht=this.schema.indexes.concat(this.schema.primKey).filter(function(Mt){if(Mt.compound&&ct.every(function(Ft){return 0<=Mt.keyPath.indexOf(Ft)})){for(var Ot=0;Ot<ct.length;++Ot)if(ct.indexOf(Mt.keyPath[Ot])===-1)return!1;return!0}return!1}).sort(function(Mt,Ot){return Mt.keyPath.length-Ot.keyPath.length})[0];if(ht&&this.db._maxKey!==Lr){var Rt=ht.keyPath.slice(0,ct.length);return this.where(Rt).equals(Rt.map(function(Ot){return lt[Ot]}))}!ht&&tr&&console.warn("The query ".concat(JSON.stringify(lt)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(ct.join("+"),"]"));var xt=this.schema.idxByName,Et=this.db._deps.indexedDB;function bt(Mt,Ot){return Et.cmp(Mt,Ot)===0}var Pt=ct.reduce(function(Bt,Ot){var Ft=Bt[0],$t=Bt[1],Bt=xt[Ot],Nt=lt[Ot];return[Ft||Bt,Ft||!Bt?Dr($t,Bt&&Bt.multi?function(Dt){return Dt=kt(Dt,Ot),ot(Dt)&&Dt.some(function(Ht){return bt(Nt,Ht)})}:function(Dt){return bt(Nt,kt(Dt,Ot))}):$t]},[null,null]),Rt=Pt[0],Pt=Pt[1];return Rt?this.where(Rt.name).equals(lt[Rt.keyPath]).filter(Pt):ht?this.filter(Pt):this.where(ct).equals("")},Bn.prototype.filter=function(lt){return this.toCollection().and(lt)},Bn.prototype.count=function(lt){return this.toCollection().count(lt)},Bn.prototype.offset=function(lt){return this.toCollection().offset(lt)},Bn.prototype.limit=function(lt){return this.toCollection().limit(lt)},Bn.prototype.each=function(lt){return this.toCollection().each(lt)},Bn.prototype.toArray=function(lt){return this.toCollection().toArray(lt)},Bn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Bn.prototype.orderBy=function(lt){return new this.db.Collection(new this.db.WhereClause(this,ot(lt)?"[".concat(lt.join("+"),"]"):lt))},Bn.prototype.reverse=function(){return this.toCollection().reverse()},Bn.prototype.mapToClass=function(lt){var ct,ht=this.db,xt=this.name;function Et(){return ct!==null&&ct.apply(this,arguments)||this}(this.schema.mappedClass=lt).prototype instanceof us&&(function(Mt,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Class extends value "+String(Ot)+" is not a constructor or null");function Ft(){this.constructor=Mt}_e(Mt,Ot),Mt.prototype=Ot===null?Object.create(Ot):(Ft.prototype=Ot.prototype,new Ft)}(Et,ct=lt),Object.defineProperty(Et.prototype,"db",{get:function(){return ht},enumerable:!1,configurable:!0}),Et.prototype.table=function(){return xt},lt=Et);for(var bt=new Set,Rt=lt.prototype;Rt;Rt=at(Rt))Object.getOwnPropertyNames(Rt).forEach(function(Mt){return bt.add(Mt)});function Pt(Mt){if(!Mt)return Mt;var Ot,Ft=Object.create(lt.prototype);for(Ot in Mt)if(!bt.has(Ot))try{Ft[Ot]=Mt[Ot]}catch{}return Ft}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Pt,this.hook("reading",Pt),lt},Bn.prototype.defineClass=function(){return this.mapToClass(function(lt){it(this,lt)})},Bn.prototype.add=function(lt,ct){var ht=this,xt=this.schema.primKey,Et=xt.auto,bt=xt.keyPath,Rt=lt;return bt&&Et&&(Rt=co(bt)(lt)),this._trans("readwrite",function(Pt){return ht.core.mutate({trans:Pt,type:"add",keys:ct!=null?[ct]:null,values:[Rt]})}).then(function(Pt){return Pt.numFailures?mn.reject(Pt.failures[0]):Pt.lastResult}).then(function(Pt){if(bt)try{St(lt,bt,Pt)}catch{}return Pt})},Bn.prototype.update=function(lt,ct){return typeof lt!="object"||ot(lt)?this.where(":id").equals(lt).modify(ct):(lt=kt(lt,this.schema.primKey.keyPath),lt===void 0?Un(new Jt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(lt).modify(ct))},Bn.prototype.put=function(lt,ct){var ht=this,xt=this.schema.primKey,Et=xt.auto,bt=xt.keyPath,Rt=lt;return bt&&Et&&(Rt=co(bt)(lt)),this._trans("readwrite",function(Pt){return ht.core.mutate({trans:Pt,type:"put",values:[Rt],keys:ct!=null?[ct]:null})}).then(function(Pt){return Pt.numFailures?mn.reject(Pt.failures[0]):Pt.lastResult}).then(function(Pt){if(bt)try{St(lt,bt,Pt)}catch{}return Pt})},Bn.prototype.delete=function(lt){var ct=this;return this._trans("readwrite",function(ht){return ct.core.mutate({trans:ht,type:"delete",keys:[lt]})}).then(function(ht){return ht.numFailures?mn.reject(ht.failures[0]):void 0})},Bn.prototype.clear=function(){var lt=this;return this._trans("readwrite",function(ct){return lt.core.mutate({trans:ct,type:"deleteRange",range:ls})}).then(function(ct){return ct.numFailures?mn.reject(ct.failures[0]):void 0})},Bn.prototype.bulkGet=function(lt){var ct=this;return this._trans("readonly",function(ht){return ct.core.getMany({keys:lt,trans:ht}).then(function(xt){return xt.map(function(Et){return ct.hook.reading.fire(Et)})})})},Bn.prototype.bulkAdd=function(lt,ct,ht){var xt=this,Et=Array.isArray(ct)?ct:void 0,bt=(ht=ht||(Et?void 0:ct))?ht.allKeys:void 0;return this._trans("readwrite",function(Rt){var Ot=xt.schema.primKey,Pt=Ot.auto,Ot=Ot.keyPath;if(Ot&&Et)throw new Jt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Et&&Et.length!==lt.length)throw new Jt.InvalidArgument("Arguments objects and keys must have the same length");var Mt=lt.length,Ot=Ot&&Pt?lt.map(co(Ot)):lt;return xt.core.mutate({trans:Rt,type:"add",keys:Et,values:Ot,wantResults:bt}).then(function(Dt){var $t=Dt.numFailures,Bt=Dt.results,Nt=Dt.lastResult,Dt=Dt.failures;if($t===0)return bt?Bt:Nt;throw new Cn("".concat(xt.name,".bulkAdd(): ").concat($t," of ").concat(Mt," operations failed"),Dt)})})},Bn.prototype.bulkPut=function(lt,ct,ht){var xt=this,Et=Array.isArray(ct)?ct:void 0,bt=(ht=ht||(Et?void 0:ct))?ht.allKeys:void 0;return this._trans("readwrite",function(Rt){var Ot=xt.schema.primKey,Pt=Ot.auto,Ot=Ot.keyPath;if(Ot&&Et)throw new Jt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Et&&Et.length!==lt.length)throw new Jt.InvalidArgument("Arguments objects and keys must have the same length");var Mt=lt.length,Ot=Ot&&Pt?lt.map(co(Ot)):lt;return xt.core.mutate({trans:Rt,type:"put",keys:Et,values:Ot,wantResults:bt}).then(function(Dt){var $t=Dt.numFailures,Bt=Dt.results,Nt=Dt.lastResult,Dt=Dt.failures;if($t===0)return bt?Bt:Nt;throw new Cn("".concat(xt.name,".bulkPut(): ").concat($t," of ").concat(Mt," operations failed"),Dt)})})},Bn.prototype.bulkUpdate=function(lt){var ct=this,ht=this.core,xt=lt.map(function(Rt){return Rt.key}),Et=lt.map(function(Rt){return Rt.changes}),bt=[];return this._trans("readwrite",function(Rt){return ht.getMany({trans:Rt,keys:xt,cache:"clone"}).then(function(Pt){var Mt=[],Ot=[];lt.forEach(function($t,Bt){var Nt=$t.key,Dt=$t.changes,Ht=Pt[Bt];if(Ht){for(var Lt=0,qt=Object.keys(Dt);Lt<qt.length;Lt++){var Kt=qt[Lt],Gt=Dt[Kt];if(Kt===ct.schema.primKey.keyPath){if(In(Gt,Nt)!==0)throw new Jt.Constraint("Cannot update primary key in bulkUpdate()")}else St(Ht,Kt,Gt)}bt.push(Bt),Mt.push(Nt),Ot.push(Ht)}});var Ft=Mt.length;return ht.mutate({trans:Rt,type:"put",keys:Mt,values:Ot,updates:{keys:xt,changeSpecs:Et}}).then(function($t){var Bt=$t.numFailures,Nt=$t.failures;if(Bt===0)return Ft;for(var Dt=0,Ht=Object.keys(Nt);Dt<Ht.length;Dt++){var Lt,qt=Ht[Dt],Kt=bt[Number(qt)];Kt!=null&&(Lt=Nt[qt],delete Nt[qt],Nt[Kt]=Lt)}throw new Cn("".concat(ct.name,".bulkUpdate(): ").concat(Bt," of ").concat(Ft," operations failed"),Nt)})})})},Bn.prototype.bulkDelete=function(lt){var ct=this,ht=lt.length;return this._trans("readwrite",function(xt){return ct.core.mutate({trans:xt,type:"delete",keys:lt})}).then(function(Rt){var Et=Rt.numFailures,bt=Rt.lastResult,Rt=Rt.failures;if(Et===0)return bt;throw new Cn("".concat(ct.name,".bulkDelete(): ").concat(Et," of ").concat(ht," operations failed"),Rt)})},Bn);function Bn(){}function Zr(lt){function ct(Rt,Pt){if(Pt){for(var Mt=arguments.length,Ot=new Array(Mt-1);--Mt;)Ot[Mt-1]=arguments[Mt];return ht[Rt].subscribe.apply(null,Ot),lt}if(typeof Rt=="string")return ht[Rt]}var ht={};ct.addEventType=bt;for(var xt=1,Et=arguments.length;xt<Et;++xt)bt(arguments[xt]);return ct;function bt(Rt,Pt,Mt){if(typeof Rt!="object"){var Ot;Pt=Pt||ur;var Ft={subscribers:[],fire:Mt=Mt||xn,subscribe:function($t){Ft.subscribers.indexOf($t)===-1&&(Ft.subscribers.push($t),Ft.fire=Pt(Ft.fire,$t))},unsubscribe:function($t){Ft.subscribers=Ft.subscribers.filter(function(Bt){return Bt!==$t}),Ft.fire=Ft.subscribers.reduce(Pt,Mt)}};return ht[Rt]=ct[Rt]=Ft}rt(Ot=Rt).forEach(function($t){var Bt=Ot[$t];if(ot(Bt))bt($t,Ot[$t][0],Ot[$t][1]);else{if(Bt!=="asap")throw new Jt.InvalidArgument("Invalid event config");var Nt=bt($t,Hn,function(){for(var Dt=arguments.length,Ht=new Array(Dt);Dt--;)Ht[Dt]=arguments[Dt];Nt.subscribers.forEach(function(Lt){At(function(){Lt.apply(null,Ht)})})})}})}}function Jr(lt,ct){return gt(ct).from({prototype:lt}),ct}function Wr(lt,ct){return!(lt.filter||lt.algorithm||lt.or)&&(ct?lt.justLimit:!lt.replayFilter)}function ko(lt,ct){lt.filter=Dr(lt.filter,ct)}function Oo(lt,ct,ht){var xt=lt.replayFilter;lt.replayFilter=xt?function(){return Dr(xt(),ct())}:ct,lt.justLimit=ht&&!xt}function fo(lt,ct){if(lt.isPrimKey)return ct.primaryKey;var ht=ct.getIndexByKeyPath(lt.index);if(!ht)throw new Jt.Schema("KeyPath "+lt.index+" on object store "+ct.name+" is not indexed");return ht}function hs(lt,ct,ht){var xt=fo(lt,ct.schema);return ct.openCursor({trans:ht,values:!lt.keysOnly,reverse:lt.dir==="prev",unique:!!lt.unique,query:{index:xt,range:lt.range}})}function po(lt,ct,ht,xt){var Et=lt.replayFilter?Dr(lt.filter,lt.replayFilter()):lt.filter;if(lt.or){var bt={},Rt=function(Pt,Mt,Ot){var Ft,$t;Et&&!Et(Mt,Ot,function(Bt){return Mt.stop(Bt)},function(Bt){return Mt.fail(Bt)})||(($t=""+(Ft=Mt.primaryKey))=="[object ArrayBuffer]"&&($t=""+new Uint8Array(Ft)),st(bt,$t)||(bt[$t]=!0,ct(Pt,Mt,Ot)))};return Promise.all([lt.or._iterate(Rt,ht),ms(hs(lt,xt,ht),lt.algorithm,Rt,!lt.keysOnly&&lt.valueMapper)])}return ms(hs(lt,xt,ht),Dr(lt.algorithm,Et),ct,!lt.keysOnly&&lt.valueMapper)}function ms(lt,ct,ht,xt){var Et=Tn(xt?function(bt,Rt,Pt){return ht(xt(bt),Rt,Pt)}:ht);return lt.then(function(bt){if(bt)return bt.start(function(){var Rt=function(){return bt.continue()};ct&&!ct(bt,function(Pt){return Rt=Pt},function(Pt){bt.stop(Pt),Rt=xn},function(Pt){bt.fail(Pt),Rt=xn})||Et(bt.value,bt,function(Pt){return Rt=Pt}),Rt()})})}var xr=Symbol(),eo=(gs.prototype.execute=function(lt){if(this.add!==void 0){var ct=this.add;if(ot(ct))return tt(tt([],ot(lt)?lt:[],!0),ct).sort();if(typeof ct=="number")return(Number(lt)||0)+ct;if(typeof ct=="bigint")try{return BigInt(lt)+ct}catch{return BigInt(0)+ct}throw new TypeError("Invalid term ".concat(ct))}if(this.remove!==void 0){var ht=this.remove;if(ot(ht))return ot(lt)?lt.filter(function(xt){return!ht.includes(xt)}).sort():[];if(typeof ht=="number")return Number(lt)-ht;if(typeof ht=="bigint")try{return BigInt(lt)-ht}catch{return BigInt(0)-ht}throw new TypeError("Invalid subtrahend ".concat(ht))}return ct=(ct=this.replacePrefix)===null||ct===void 0?void 0:ct[0],ct&&typeof lt=="string"&&lt.startsWith(ct)?this.replacePrefix[1]+lt.substring(ct.length):lt},gs);function gs(lt){Object.assign(this,lt)}var Ds=(Ln.prototype._read=function(lt,ct){var ht=this._ctx;return ht.error?ht.table._trans(null,Un.bind(null,ht.error)):ht.table._trans("readonly",lt).then(ct)},Ln.prototype._write=function(lt){var ct=this._ctx;return ct.error?ct.table._trans(null,Un.bind(null,ct.error)):ct.table._trans("readwrite",lt,"locked")},Ln.prototype._addAlgorithm=function(lt){var ct=this._ctx;ct.algorithm=Dr(ct.algorithm,lt)},Ln.prototype._iterate=function(lt,ct){return po(this._ctx,lt,ct,this._ctx.table.core)},Ln.prototype.clone=function(lt){var ct=Object.create(this.constructor.prototype),ht=Object.create(this._ctx);return lt&&it(ht,lt),ct._ctx=ht,ct},Ln.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ln.prototype.each=function(lt){var ct=this._ctx;return this._read(function(ht){return po(ct,lt,ht,ct.table.core)})},Ln.prototype.count=function(lt){var ct=this;return this._read(function(ht){var xt=ct._ctx,Et=xt.table.core;if(Wr(xt,!0))return Et.count({trans:ht,query:{index:fo(xt,Et.schema),range:xt.range}}).then(function(Rt){return Math.min(Rt,xt.limit)});var bt=0;return po(xt,function(){return++bt,!1},ht,Et).then(function(){return bt})}).then(lt)},Ln.prototype.sortBy=function(lt,ct){var ht=lt.split(".").reverse(),xt=ht[0],Et=ht.length-1;function bt(Mt,Ot){return Ot?bt(Mt[ht[Ot]],Ot-1):Mt[xt]}var Rt=this._ctx.dir==="next"?1:-1;function Pt(Mt,Ot){return Mt=bt(Mt,Et),Ot=bt(Ot,Et),Mt<Ot?-Rt:Ot<Mt?Rt:0}return this.toArray(function(Mt){return Mt.sort(Pt)}).then(ct)},Ln.prototype.toArray=function(lt){var ct=this;return this._read(function(ht){var xt=ct._ctx;if(xt.dir==="next"&&Wr(xt,!0)&&0<xt.limit){var Et=xt.valueMapper,bt=fo(xt,xt.table.core.schema);return xt.table.core.query({trans:ht,limit:xt.limit,values:!0,query:{index:bt,range:xt.range}}).then(function(Pt){return Pt=Pt.result,Et?Pt.map(Et):Pt})}var Rt=[];return po(xt,function(Pt){return Rt.push(Pt)},ht,xt.table.core).then(function(){return Rt})},lt)},Ln.prototype.offset=function(lt){var ct=this._ctx;return lt<=0||(ct.offset+=lt,Wr(ct)?Oo(ct,function(){var ht=lt;return function(xt,Et){return ht===0||(ht===1?--ht:Et(function(){xt.advance(ht),ht=0}),!1)}}):Oo(ct,function(){var ht=lt;return function(){return--ht<0}})),this},Ln.prototype.limit=function(lt){return this._ctx.limit=Math.min(this._ctx.limit,lt),Oo(this._ctx,function(){var ct=lt;return function(ht,xt,Et){return--ct<=0&&xt(Et),0<=ct}},!0),this},Ln.prototype.until=function(lt,ct){return ko(this._ctx,function(ht,xt,Et){return!lt(ht.value)||(xt(Et),ct)}),this},Ln.prototype.first=function(lt){return this.limit(1).toArray(function(ct){return ct[0]}).then(lt)},Ln.prototype.last=function(lt){return this.reverse().first(lt)},Ln.prototype.filter=function(lt){var ct;return ko(this._ctx,function(ht){return lt(ht.value)}),(ct=this._ctx).isMatch=Dr(ct.isMatch,lt),this},Ln.prototype.and=function(lt){return this.filter(lt)},Ln.prototype.or=function(lt){return new this.db.WhereClause(this._ctx.table,lt,this)},Ln.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ln.prototype.desc=function(){return this.reverse()},Ln.prototype.eachKey=function(lt){var ct=this._ctx;return ct.keysOnly=!ct.isMatch,this.each(function(ht,xt){lt(xt.key,xt)})},Ln.prototype.eachUniqueKey=function(lt){return this._ctx.unique="unique",this.eachKey(lt)},Ln.prototype.eachPrimaryKey=function(lt){var ct=this._ctx;return ct.keysOnly=!ct.isMatch,this.each(function(ht,xt){lt(xt.primaryKey,xt)})},Ln.prototype.keys=function(lt){var ct=this._ctx;ct.keysOnly=!ct.isMatch;var ht=[];return this.each(function(xt,Et){ht.push(Et.key)}).then(function(){return ht}).then(lt)},Ln.prototype.primaryKeys=function(lt){var ct=this._ctx;if(ct.dir==="next"&&Wr(ct,!0)&&0<ct.limit)return this._read(function(xt){var Et=fo(ct,ct.table.core.schema);return ct.table.core.query({trans:xt,values:!1,limit:ct.limit,query:{index:Et,range:ct.range}})}).then(function(xt){return xt.result}).then(lt);ct.keysOnly=!ct.isMatch;var ht=[];return this.each(function(xt,Et){ht.push(Et.primaryKey)}).then(function(){return ht}).then(lt)},Ln.prototype.uniqueKeys=function(lt){return this._ctx.unique="unique",this.keys(lt)},Ln.prototype.firstKey=function(lt){return this.limit(1).keys(function(ct){return ct[0]}).then(lt)},Ln.prototype.lastKey=function(lt){return this.reverse().firstKey(lt)},Ln.prototype.distinct=function(){var lt=this._ctx,lt=lt.index&&lt.table.schema.idxByName[lt.index];if(!lt||!lt.multi)return this;var ct={};return ko(this._ctx,function(Et){var xt=Et.primaryKey.toString(),Et=st(ct,xt);return ct[xt]=!0,!Et}),this},Ln.prototype.modify=function(lt){var ct=this,ht=this._ctx;return this._write(function(xt){var Et,bt,Rt;Rt=typeof lt=="function"?lt:(Et=rt(lt),bt=Et.length,function(Lt){for(var qt=!1,Kt=0;Kt<bt;++Kt){var Gt=Et[Kt],Xt=lt[Gt],an=kt(Lt,Gt);Xt instanceof eo?(St(Lt,Gt,Xt.execute(an)),qt=!0):an!==Xt&&(St(Lt,Gt,Xt),qt=!0)}return qt});function Pt(Lt,Gt){var Kt=Gt.failures,Gt=Gt.numFailures;Dt+=Lt-Gt;for(var Xt=0,an=rt(Kt);Xt<an.length;Xt++){var dn=an[Xt];Nt.push(Kt[dn])}}var Mt=ht.table.core,Ot=Mt.schema.primaryKey,Ft=Ot.outbound,$t=Ot.extractKey,Bt=ct.db._options.modifyChunkSize||200,Nt=[],Dt=0,Ht=[];return ct.clone().primaryKeys().then(function(Lt){function qt(Gt){var Xt=Math.min(Bt,Lt.length-Gt);return Mt.getMany({trans:xt,keys:Lt.slice(Gt,Gt+Xt),cache:"immutable"}).then(function(an){for(var dn=[],ln=[],cn=Ft?[]:null,pn=[],on=0;on<Xt;++on){var Rn=an[on],An={value:hn(Rn),primKey:Lt[Gt+on]};Rt.call(An,An.value,An)!==!1&&(An.value==null?pn.push(Lt[Gt+on]):Ft||In($t(Rn),$t(An.value))===0?(ln.push(An.value),Ft&&cn.push(Lt[Gt+on])):(pn.push(Lt[Gt+on]),dn.push(An.value)))}return Promise.resolve(0<dn.length&&Mt.mutate({trans:xt,type:"add",values:dn}).then(function(kn){for(var Pn in kn.failures)pn.splice(parseInt(Pn),1);Pt(dn.length,kn)})).then(function(){return(0<ln.length||Kt&&typeof lt=="object")&&Mt.mutate({trans:xt,type:"put",keys:cn,values:ln,criteria:Kt,changeSpec:typeof lt!="function"&&lt,isAdditionalChunk:0<Gt}).then(function(kn){return Pt(ln.length,kn)})}).then(function(){return(0<pn.length||Kt&&lt===No)&&Mt.mutate({trans:xt,type:"delete",keys:pn,criteria:Kt,isAdditionalChunk:0<Gt}).then(function(kn){return Pt(pn.length,kn)})}).then(function(){return Lt.length>Gt+Xt&&qt(Gt+Bt)})})}var Kt=Wr(ht)&&ht.limit===1/0&&(typeof lt!="function"||lt===No)&&{index:ht.index,range:ht.range};return qt(0).then(function(){if(0<Nt.length)throw new En("Error modifying one or more objects",Nt,Dt,Ht);return Lt.length})})})},Ln.prototype.delete=function(){var lt=this._ctx,ct=lt.range;return Wr(lt)&&(lt.isPrimKey||ct.type===3)?this._write(function(ht){var xt=lt.table.core.schema.primaryKey,Et=ct;return lt.table.core.count({trans:ht,query:{index:xt,range:Et}}).then(function(bt){return lt.table.core.mutate({trans:ht,type:"deleteRange",range:Et}).then(function(Rt){var Pt=Rt.failures;if(Rt.lastResult,Rt.results,Rt=Rt.numFailures,Rt)throw new En("Could not delete some values",Object.keys(Pt).map(function(Mt){return Pt[Mt]}),bt-Rt);return bt-Rt})})}):this.modify(No)},Ln);function Ln(){}var No=function(lt,ct){return ct.value=null};function Fs(lt,ct){return lt<ct?-1:lt===ct?0:1}function Bs(lt,ct){return ct<lt?-1:lt===ct?0:1}function rr(lt,ct,ht){return lt=lt instanceof xs?new lt.Collection(lt):lt,lt._ctx.error=new(ht||TypeError)(ct),lt}function Gr(lt){return new lt.Collection(lt,function(){return vs("")}).limit(0)}function ho(lt,ct,ht,xt){var Et,bt,Rt,Pt,Mt,Ot,Ft,$t=ht.length;if(!ht.every(function(Dt){return typeof Dt=="string"}))return rr(lt,as);function Bt(Dt){Et=Dt==="next"?function(Lt){return Lt.toUpperCase()}:function(Lt){return Lt.toLowerCase()},bt=Dt==="next"?function(Lt){return Lt.toLowerCase()}:function(Lt){return Lt.toUpperCase()},Rt=Dt==="next"?Fs:Bs;var Ht=ht.map(function(Lt){return{lower:bt(Lt),upper:Et(Lt)}}).sort(function(Lt,qt){return Rt(Lt.lower,qt.lower)});Pt=Ht.map(function(Lt){return Lt.upper}),Mt=Ht.map(function(Lt){return Lt.lower}),Ft=(Ot=Dt)==="next"?"":xt}Bt("next"),lt=new lt.Collection(lt,function(){return Rr(Pt[0],Mt[$t-1]+xt)}),lt._ondirectionchange=function(Dt){Bt(Dt)};var Nt=0;return lt._addAlgorithm(function(Dt,Ht,Lt){var qt=Dt.key;if(typeof qt!="string")return!1;var Kt=bt(qt);if(ct(Kt,Mt,Nt))return!0;for(var Gt=null,Xt=Nt;Xt<$t;++Xt){var an=function(dn,ln,cn,pn,on,Rn){for(var An=Math.min(dn.length,pn.length),kn=-1,Pn=0;Pn<An;++Pn){var cr=ln[Pn];if(cr!==pn[Pn])return on(dn[Pn],cn[Pn])<0?dn.substr(0,Pn)+cn[Pn]+cn.substr(Pn+1):on(dn[Pn],pn[Pn])<0?dn.substr(0,Pn)+pn[Pn]+cn.substr(Pn+1):0<=kn?dn.substr(0,kn)+ln[kn]+cn.substr(kn+1):null;on(dn[Pn],cr)<0&&(kn=Pn)}return An<pn.length&&Rn==="next"?dn+cn.substr(dn.length):An<dn.length&&Rn==="prev"?dn.substr(0,cn.length):kn<0?null:dn.substr(0,kn)+pn[kn]+cn.substr(kn+1)}(qt,Kt,Pt[Xt],Mt[Xt],Rt,Ot);an===null&&Gt===null?Nt=Xt+1:(Gt===null||0<Rt(Gt,an))&&(Gt=an)}return Ht(Gt!==null?function(){Dt.continue(Gt+Ft)}:Lt),!1}),lt}function Rr(lt,ct,ht,xt){return{type:2,lower:lt,upper:ct,lowerOpen:ht,upperOpen:xt}}function vs(lt){return{type:1,lower:lt,upper:lt}}var xs=(Object.defineProperty(zn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zn.prototype.between=function(lt,ct,ht,xt){ht=ht!==!1,xt=xt===!0;try{return 0<this._cmp(lt,ct)||this._cmp(lt,ct)===0&&(ht||xt)&&(!ht||!xt)?Gr(this):new this.Collection(this,function(){return Rr(lt,ct,!ht,!xt)})}catch{return rr(this,vr)}},zn.prototype.equals=function(lt){return lt==null?rr(this,vr):new this.Collection(this,function(){return vs(lt)})},zn.prototype.above=function(lt){return lt==null?rr(this,vr):new this.Collection(this,function(){return Rr(lt,void 0,!0)})},zn.prototype.aboveOrEqual=function(lt){return lt==null?rr(this,vr):new this.Collection(this,function(){return Rr(lt,void 0,!1)})},zn.prototype.below=function(lt){return lt==null?rr(this,vr):new this.Collection(this,function(){return Rr(void 0,lt,!1,!0)})},zn.prototype.belowOrEqual=function(lt){return lt==null?rr(this,vr):new this.Collection(this,function(){return Rr(void 0,lt)})},zn.prototype.startsWith=function(lt){return typeof lt!="string"?rr(this,as):this.between(lt,lt+Lr,!0,!0)},zn.prototype.startsWithIgnoreCase=function(lt){return lt===""?this.startsWith(lt):ho(this,function(ct,ht){return ct.indexOf(ht[0])===0},[lt],Lr)},zn.prototype.equalsIgnoreCase=function(lt){return ho(this,function(ct,ht){return ct===ht[0]},[lt],"")},zn.prototype.anyOfIgnoreCase=function(){var lt=sn.apply(Wt,arguments);return lt.length===0?Gr(this):ho(this,function(ct,ht){return ht.indexOf(ct)!==-1},lt,"")},zn.prototype.startsWithAnyOfIgnoreCase=function(){var lt=sn.apply(Wt,arguments);return lt.length===0?Gr(this):ho(this,function(ct,ht){return ht.some(function(xt){return ct.indexOf(xt)===0})},lt,Lr)},zn.prototype.anyOf=function(){var lt=this,ct=sn.apply(Wt,arguments),ht=this._cmp;try{ct.sort(ht)}catch{return rr(this,vr)}if(ct.length===0)return Gr(this);var xt=new this.Collection(this,function(){return Rr(ct[0],ct[ct.length-1])});xt._ondirectionchange=function(bt){ht=bt==="next"?lt._ascending:lt._descending,ct.sort(ht)};var Et=0;return xt._addAlgorithm(function(bt,Rt,Pt){for(var Mt=bt.key;0<ht(Mt,ct[Et]);)if(++Et===ct.length)return Rt(Pt),!1;return ht(Mt,ct[Et])===0||(Rt(function(){bt.continue(ct[Et])}),!1)}),xt},zn.prototype.notEqual=function(lt){return this.inAnyRange([[-1/0,lt],[lt,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zn.prototype.noneOf=function(){var lt=sn.apply(Wt,arguments);if(lt.length===0)return new this.Collection(this);try{lt.sort(this._ascending)}catch{return rr(this,vr)}var ct=lt.reduce(function(ht,xt){return ht?ht.concat([[ht[ht.length-1][1],xt]]):[[-1/0,xt]]},null);return ct.push([lt[lt.length-1],this.db._maxKey]),this.inAnyRange(ct,{includeLowers:!1,includeUppers:!1})},zn.prototype.inAnyRange=function(qt,ct){var ht=this,xt=this._cmp,Et=this._ascending,bt=this._descending,Rt=this._min,Pt=this._max;if(qt.length===0)return Gr(this);if(!qt.every(function(Kt){return Kt[0]!==void 0&&Kt[1]!==void 0&&Et(Kt[0],Kt[1])<=0}))return rr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Jt.InvalidArgument);var Mt=!ct||ct.includeLowers!==!1,Ot=ct&&ct.includeUppers===!0,Ft,$t=Et;function Bt(Kt,Gt){return $t(Kt[0],Gt[0])}try{(Ft=qt.reduce(function(Kt,Gt){for(var Xt=0,an=Kt.length;Xt<an;++Xt){var dn=Kt[Xt];if(xt(Gt[0],dn[1])<0&&0<xt(Gt[1],dn[0])){dn[0]=Rt(dn[0],Gt[0]),dn[1]=Pt(dn[1],Gt[1]);break}}return Xt===an&&Kt.push(Gt),Kt},[])).sort(Bt)}catch{return rr(this,vr)}var Nt=0,Dt=Ot?function(Kt){return 0<Et(Kt,Ft[Nt][1])}:function(Kt){return 0<=Et(Kt,Ft[Nt][1])},Ht=Mt?function(Kt){return 0<bt(Kt,Ft[Nt][0])}:function(Kt){return 0<=bt(Kt,Ft[Nt][0])},Lt=Dt,qt=new this.Collection(this,function(){return Rr(Ft[0][0],Ft[Ft.length-1][1],!Mt,!Ot)});return qt._ondirectionchange=function(Kt){$t=Kt==="next"?(Lt=Dt,Et):(Lt=Ht,bt),Ft.sort(Bt)},qt._addAlgorithm(function(Kt,Gt,Xt){for(var an,dn=Kt.key;Lt(dn);)if(++Nt===Ft.length)return Gt(Xt),!1;return!Dt(an=dn)&&!Ht(an)||(ht._cmp(dn,Ft[Nt][1])===0||ht._cmp(dn,Ft[Nt][0])===0||Gt(function(){$t===Et?Kt.continue(Ft[Nt][0]):Kt.continue(Ft[Nt][1])}),!1)}),qt},zn.prototype.startsWithAnyOf=function(){var lt=sn.apply(Wt,arguments);return lt.every(function(ct){return typeof ct=="string"})?lt.length===0?Gr(this):this.inAnyRange(lt.map(function(ct){return[ct,ct+Lr]})):rr(this,"startsWithAnyOf() only works with strings")},zn);function zn(){}function pr(lt){return Tn(function(ct){return no(ct),lt(ct.target.error),!1})}function no(lt){lt.stopPropagation&&lt.stopPropagation(),lt.preventDefault&&lt.preventDefault()}var ro="storagemutated",Io="x-storagemutated-1",Ar=Zr(null,ro),Hs=(hr.prototype._lock=function(){return Ct(!yn.global),++this._reculock,this._reculock!==1||yn.global||(yn.lockOwnerFor=this),this},hr.prototype._unlock=function(){if(Ct(!yn.global),--this._reculock==0)for(yn.global||(yn.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var lt=this._blockedFuncs.shift();try{Mr(lt[1],lt[0])}catch{}}return this},hr.prototype._locked=function(){return this._reculock&&yn.lockOwnerFor!==this},hr.prototype.create=function(lt){var ct=this;if(!this.mode)return this;var ht=this.db.idbdb,xt=this.db._state.dbOpenError;if(Ct(!this.idbtrans),!lt&&!ht)switch(xt&&xt.name){case"DatabaseClosedError":throw new Jt.DatabaseClosed(xt);case"MissingAPIError":throw new Jt.MissingAPI(xt.message,xt);default:throw new Jt.OpenFailed(xt)}if(!this.active)throw new Jt.TransactionInactive;return Ct(this._completion._state===null),(lt=this.idbtrans=lt||(this.db.core||ht).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Tn(function(Et){no(Et),ct._reject(lt.error)}),lt.onabort=Tn(function(Et){no(Et),ct.active&&ct._reject(new Jt.Abort(lt.error)),ct.active=!1,ct.on("abort").fire(Et)}),lt.oncomplete=Tn(function(){ct.active=!1,ct._resolve(),"mutatedParts"in lt&&Ar.storagemutated.fire(lt.mutatedParts)}),this},hr.prototype._promise=function(lt,ct,ht){var xt=this;if(lt==="readwrite"&&this.mode!=="readwrite")return Un(new Jt.ReadOnly("Transaction is readonly"));if(!this.active)return Un(new Jt.TransactionInactive);if(this._locked())return new mn(function(bt,Rt){xt._blockedFuncs.push([function(){xt._promise(lt,ct,ht).then(bt,Rt)},yn])});if(ht)return br(function(){var bt=new mn(function(Rt,Pt){xt._lock();var Mt=ct(Rt,Pt,xt);Mt&&Mt.then&&Mt.then(Rt,Pt)});return bt.finally(function(){return xt._unlock()}),bt._lib=!0,bt});var Et=new mn(function(bt,Rt){var Pt=ct(bt,Rt,xt);Pt&&Pt.then&&Pt.then(bt,Rt)});return Et._lib=!0,Et},hr.prototype._root=function(){return this.parent?this.parent._root():this},hr.prototype.waitFor=function(lt){var ct,ht=this._root(),xt=mn.resolve(lt);ht._waitingFor?ht._waitingFor=ht._waitingFor.then(function(){return xt}):(ht._waitingFor=xt,ht._waitingQueue=[],ct=ht.idbtrans.objectStore(ht.storeNames[0]),function bt(){for(++ht._spinCount;ht._waitingQueue.length;)ht._waitingQueue.shift()();ht._waitingFor&&(ct.get(-1/0).onsuccess=bt)}());var Et=ht._waitingFor;return new mn(function(bt,Rt){xt.then(function(Pt){return ht._waitingQueue.push(Tn(bt.bind(null,Pt)))},function(Pt){return ht._waitingQueue.push(Tn(Rt.bind(null,Pt)))}).finally(function(){ht._waitingFor===Et&&(ht._waitingFor=null)})})},hr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Jt.Abort))},hr.prototype.table=function(lt){var ct=this._memoizedTables||(this._memoizedTables={});if(st(ct,lt))return ct[lt];var ht=this.schema[lt];if(!ht)throw new Jt.NotFound("Table "+lt+" not part of transaction");return ht=new this.db.Table(lt,ht,this),ht.core=this.db.core.table(lt),ct[lt]=ht},hr);function hr(){}function Mo(lt,ct,ht,xt,Et,bt,Rt){return{name:lt,keyPath:ct,unique:ht,multi:xt,auto:Et,compound:bt,src:(ht&&!Rt?"&":"")+(xt?"*":"")+(Et?"++":"")+ys(ct)}}function ys(lt){return typeof lt=="string"?lt:lt?"["+[].join.call(lt,"+")+"]":""}function Lo(lt,ct,ht){return{name:lt,primKey:ct,indexes:ht,mappedClass:null,idxByName:(xt=function(Et){return[Et.name,Et]},ht.reduce(function(Et,bt,Rt){return Rt=xt(bt,Rt),Rt&&(Et[Rt[0]]=Rt[1]),Et},{}))};var xt}var oo=function(lt){try{return lt.only([[]]),oo=function(){return[[]]},[[]]}catch{return oo=function(){return Lr},Lr}};function Do(lt){return lt==null?function(){}:typeof lt=="string"?(ct=lt).split(".").length===1?function(ht){return ht[ct]}:function(ht){return kt(ht,ct)}:function(ht){return kt(ht,lt)};var ct}function Es(lt){return[].slice.call(lt)}var Us=0;function so(lt){return lt==null?":id":typeof lt=="string"?lt:"[".concat(lt.join("+"),"]")}function Vs(lt,ct,Mt){function xt(Lt){if(Lt.type===3)return null;if(Lt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Nt=Lt.lower,Dt=Lt.upper,Ht=Lt.lowerOpen,Lt=Lt.upperOpen;return Nt===void 0?Dt===void 0?null:ct.upperBound(Dt,!!Lt):Dt===void 0?ct.lowerBound(Nt,!!Ht):ct.bound(Nt,Dt,!!Ht,!!Lt)}function Et(Bt){var Nt,Dt=Bt.name;return{name:Dt,schema:Bt,mutate:function(Ht){var Lt=Ht.trans,qt=Ht.type,Kt=Ht.keys,Gt=Ht.values,Xt=Ht.range;return new Promise(function(an,dn){an=Tn(an);var ln=Lt.objectStore(Dt),cn=ln.keyPath==null,pn=qt==="put"||qt==="add";if(!pn&&qt!=="delete"&&qt!=="deleteRange")throw new Error("Invalid operation type: "+qt);var on,Rn=(Kt||Gt||{length:1}).length;if(Kt&&Gt&&Kt.length!==Gt.length)throw new Error("Given keys array must have same length as given values array.");if(Rn===0)return an({numFailures:0,failures:{},results:[],lastResult:void 0});function An(Jn){++cr,no(Jn)}var kn=[],Pn=[],cr=0;if(qt==="deleteRange"){if(Xt.type===4)return an({numFailures:cr,failures:Pn,results:[],lastResult:void 0});Xt.type===3?kn.push(on=ln.clear()):kn.push(on=ln.delete(xt(Xt)))}else{var cn=pn?cn?[Gt,Kt]:[Gt,null]:[Kt,null],jn=cn[0],Wn=cn[1];if(pn)for(var Gn=0;Gn<Rn;++Gn)kn.push(on=Wn&&Wn[Gn]!==void 0?ln[qt](jn[Gn],Wn[Gn]):ln[qt](jn[Gn])),on.onerror=An;else for(Gn=0;Gn<Rn;++Gn)kn.push(on=ln[qt](jn[Gn])),on.onerror=An}function Ao(Jn){Jn=Jn.target.result,kn.forEach(function(Ur,rs){return Ur.error!=null&&(Pn[rs]=Ur.error)}),an({numFailures:cr,failures:Pn,results:qt==="delete"?Kt:kn.map(function(Ur){return Ur.result}),lastResult:Jn})}on.onerror=function(Jn){An(Jn),Ao(Jn)},on.onsuccess=Ao})},getMany:function(Ht){var Lt=Ht.trans,qt=Ht.keys;return new Promise(function(Kt,Gt){Kt=Tn(Kt);for(var Xt,an=Lt.objectStore(Dt),dn=qt.length,ln=new Array(dn),cn=0,pn=0,on=function(kn){kn=kn.target,ln[kn._pos]=kn.result,++pn===cn&&Kt(ln)},Rn=pr(Gt),An=0;An<dn;++An)qt[An]!=null&&((Xt=an.get(qt[An]))._pos=An,Xt.onsuccess=on,Xt.onerror=Rn,++cn);cn===0&&Kt(ln)})},get:function(Ht){var Lt=Ht.trans,qt=Ht.key;return new Promise(function(Kt,Gt){Kt=Tn(Kt);var Xt=Lt.objectStore(Dt).get(qt);Xt.onsuccess=function(an){return Kt(an.target.result)},Xt.onerror=pr(Gt)})},query:(Nt=Ot,function(Ht){return new Promise(function(Lt,qt){Lt=Tn(Lt);var Kt,Gt,Xt,cn=Ht.trans,an=Ht.values,dn=Ht.limit,on=Ht.query,ln=dn===1/0?void 0:dn,pn=on.index,on=on.range,cn=cn.objectStore(Dt),pn=pn.isPrimaryKey?cn:cn.index(pn.name),on=xt(on);if(dn===0)return Lt({result:[]});Nt?((ln=an?pn.getAll(on,ln):pn.getAllKeys(on,ln)).onsuccess=function(Rn){return Lt({result:Rn.target.result})},ln.onerror=pr(qt)):(Kt=0,Gt=!an&&"openKeyCursor"in pn?pn.openKeyCursor(on):pn.openCursor(on),Xt=[],Gt.onsuccess=function(Rn){var An=Gt.result;return An?(Xt.push(an?An.value:An.primaryKey),++Kt===dn?Lt({result:Xt}):void An.continue()):Lt({result:Xt})},Gt.onerror=pr(qt))})}),openCursor:function(Ht){var Lt=Ht.trans,qt=Ht.values,Kt=Ht.query,Gt=Ht.reverse,Xt=Ht.unique;return new Promise(function(an,dn){an=Tn(an);var pn=Kt.index,ln=Kt.range,cn=Lt.objectStore(Dt),cn=pn.isPrimaryKey?cn:cn.index(pn.name),pn=Gt?Xt?"prevunique":"prev":Xt?"nextunique":"next",on=!qt&&"openKeyCursor"in cn?cn.openKeyCursor(xt(ln),pn):cn.openCursor(xt(ln),pn);on.onerror=pr(dn),on.onsuccess=Tn(function(Rn){var An,kn,Pn,cr,jn=on.result;jn?(jn.___id=++Us,jn.done=!1,An=jn.continue.bind(jn),kn=(kn=jn.continuePrimaryKey)&&kn.bind(jn),Pn=jn.advance.bind(jn),cr=function(){throw new Error("Cursor not stopped")},jn.trans=Lt,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=Tn(dn),jn.next=function(){var Wn=this,Gn=1;return this.start(function(){return Gn--?Wn.continue():Wn.stop()}).then(function(){return Wn})},jn.start=function(Wn){function Gn(){if(on.result)try{Wn()}catch(Jn){jn.fail(Jn)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var Ao=new Promise(function(Jn,Ur){Jn=Tn(Jn),on.onerror=pr(Ur),jn.fail=Ur,jn.stop=function(rs){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=cr,Jn(rs)}});return on.onsuccess=Tn(function(Jn){on.onsuccess=Gn,Gn()}),jn.continue=An,jn.continuePrimaryKey=kn,jn.advance=Pn,Gn(),Ao},an(jn)):an(null)},dn)})},count:function(Ht){var Lt=Ht.query,qt=Ht.trans,Kt=Lt.index,Gt=Lt.range;return new Promise(function(Xt,an){var dn=qt.objectStore(Dt),ln=Kt.isPrimaryKey?dn:dn.index(Kt.name),dn=xt(Gt),ln=dn?ln.count(dn):ln.count();ln.onsuccess=Tn(function(cn){return Xt(cn.target.result)}),ln.onerror=pr(an)})}}}var bt,Rt,Pt,Ft=(Rt=Mt,Pt=Es((bt=lt).objectStoreNames),{schema:{name:bt.name,tables:Pt.map(function(Bt){return Rt.objectStore(Bt)}).map(function(Bt){var Nt=Bt.keyPath,Lt=Bt.autoIncrement,Dt=ot(Nt),Ht={},Lt={name:Bt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Nt==null,compound:Dt,keyPath:Nt,autoIncrement:Lt,unique:!0,extractKey:Do(Nt)},indexes:Es(Bt.indexNames).map(function(qt){return Bt.index(qt)}).map(function(Xt){var Kt=Xt.name,Gt=Xt.unique,an=Xt.multiEntry,Xt=Xt.keyPath,an={name:Kt,compound:ot(Xt),keyPath:Xt,unique:Gt,multiEntry:an,extractKey:Do(Xt)};return Ht[so(Xt)]=an}),getIndexByKeyPath:function(qt){return Ht[so(qt)]}};return Ht[":id"]=Lt.primaryKey,Nt!=null&&(Ht[so(Nt)]=Lt.primaryKey),Lt})},hasGetAll:0<Pt.length&&"getAll"in Rt.objectStore(Pt[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Mt=Ft.schema,Ot=Ft.hasGetAll,Ft=Mt.tables.map(Et),$t={};return Ft.forEach(function(Bt){return $t[Bt.name]=Bt}),{stack:"dbcore",transaction:lt.transaction.bind(lt),table:function(Bt){if(!$t[Bt])throw new Error("Table '".concat(Bt,"' not found"));return $t[Bt]},MIN_KEY:-1/0,MAX_KEY:oo(ct),schema:Mt}}function qs(lt,ct,ht,xt){var Et=ht.IDBKeyRange;return ht.indexedDB,{dbcore:(xt=Vs(ct,Et,xt),lt.dbcore.reduce(function(bt,Rt){return Rt=Rt.create,et(et({},bt),Rt(bt))},xt))}}function mo(lt,xt){var ht=xt.db,xt=qs(lt._middlewares,ht,lt._deps,xt);lt.core=xt.dbcore,lt.tables.forEach(function(Et){var bt=Et.name;lt.core.schema.tables.some(function(Rt){return Rt.name===bt})&&(Et.core=lt.core.table(bt),lt[bt]instanceof lt.Table&&(lt[bt].core=Et.core))})}function go(lt,ct,ht,xt){ht.forEach(function(Et){var bt=xt[Et];ct.forEach(function(Rt){var Pt=function Mt(Ot,Ft){return yt(Ot,Ft)||(Ot=at(Ot))&&Mt(Ot,Ft)}(Rt,Et);(!Pt||"value"in Pt&&Pt.value===void 0)&&(Rt===lt.Transaction.prototype||Rt instanceof lt.Transaction?pt(Rt,Et,{get:function(){return this.table(Et)},set:function(Mt){dt(this,Et,{value:Mt,writable:!0,configurable:!0,enumerable:!0})}}):Rt[Et]=new lt.Table(Et,bt))})})}function Fo(lt,ct){ct.forEach(function(ht){for(var xt in ht)ht[xt]instanceof lt.Table&&delete ht[xt]})}function zs(lt,ct){return lt._cfg.version-ct._cfg.version}function Ks(lt,ct,ht,xt){var Et=lt._dbSchema;ht.objectStoreNames.contains("$meta")&&!Et.$meta&&(Et.$meta=Lo("$meta",ws("")[0],[]),lt._storeNames.push("$meta"));var bt=lt._createTransaction("readwrite",lt._storeNames,Et);bt.create(ht),bt._completion.catch(xt);var Rt=bt._reject.bind(bt),Pt=yn.transless||yn;br(function(){return yn.trans=bt,yn.transless=Pt,ct!==0?(mo(lt,ht),Ot=ct,((Mt=bt).storeNames.includes("$meta")?Mt.table("$meta").get("version").then(function(Ft){return Ft??Ot}):mn.resolve(Ot)).then(function(Ft){return Bt=Ft,Nt=bt,Dt=ht,Ht=[],Ft=($t=lt)._versions,Lt=$t._dbSchema=xo(0,$t.idbdb,Dt),(Ft=Ft.filter(function(qt){return qt._cfg.version>=Bt})).length!==0?(Ft.forEach(function(qt){Ht.push(function(){var Kt=Lt,Gt=qt._cfg.dbschema;yo($t,Kt,Dt),yo($t,Gt,Dt),Lt=$t._dbSchema=Gt;var Xt=Bo(Kt,Gt);Xt.add.forEach(function(pn){Ho(Dt,pn[0],pn[1].primKey,pn[1].indexes)}),Xt.change.forEach(function(pn){if(pn.recreate)throw new Jt.Upgrade("Not yet support for changing primary key");var on=Dt.objectStore(pn.name);pn.add.forEach(function(Rn){return vo(on,Rn)}),pn.change.forEach(function(Rn){on.deleteIndex(Rn.name),vo(on,Rn)}),pn.del.forEach(function(Rn){return on.deleteIndex(Rn)})});var an=qt._cfg.contentUpgrade;if(an&&qt._cfg.version>Bt){mo($t,Dt),Nt._memoizedTables={};var dn=wt(Gt);Xt.del.forEach(function(pn){dn[pn]=Kt[pn]}),Fo($t,[$t.Transaction.prototype]),go($t,[$t.Transaction.prototype],rt(dn),dn),Nt.schema=dn;var ln,cn=nn(an);return cn&&zr(),Xt=mn.follow(function(){var pn;(ln=an(Nt))&&cn&&(pn=Sr.bind(null,null),ln.then(pn,pn))}),ln&&typeof ln.then=="function"?mn.resolve(ln):Xt.then(function(){return ln})}}),Ht.push(function(Kt){var Gt,Xt,an=qt._cfg.dbschema;Gt=an,Xt=Kt,[].slice.call(Xt.db.objectStoreNames).forEach(function(dn){return Gt[dn]==null&&Xt.db.deleteObjectStore(dn)}),Fo($t,[$t.Transaction.prototype]),go($t,[$t.Transaction.prototype],$t._storeNames,$t._dbSchema),Nt.schema=$t._dbSchema}),Ht.push(function(Kt){$t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil($t.idbdb.version/10)===qt._cfg.version?($t.idbdb.deleteObjectStore("$meta"),delete $t._dbSchema.$meta,$t._storeNames=$t._storeNames.filter(function(Gt){return Gt!=="$meta"})):Kt.objectStore("$meta").put(qt._cfg.version,"version"))})}),function qt(){return Ht.length?mn.resolve(Ht.shift()(Nt.idbtrans)).then(qt):mn.resolve()}().then(function(){_s(Lt,Dt)})):mn.resolve();var $t,Bt,Nt,Dt,Ht,Lt}).catch(Rt)):(rt(Et).forEach(function(Ft){Ho(ht,Ft,Et[Ft].primKey,Et[Ft].indexes)}),mo(lt,ht),void mn.follow(function(){return lt.on.populate.fire(bt)}).catch(Rt));var Mt,Ot})}function Ws(lt,ct){_s(lt._dbSchema,ct),ct.db.version%10!=0||ct.objectStoreNames.contains("$meta")||ct.db.createObjectStore("$meta").add(Math.ceil(ct.db.version/10-1),"version");var ht=xo(0,lt.idbdb,ct);yo(lt,lt._dbSchema,ct);for(var xt=0,Et=Bo(ht,lt._dbSchema).change;xt<Et.length;xt++){var bt=function(Rt){if(Rt.change.length||Rt.recreate)return console.warn("Unable to patch indexes of table ".concat(Rt.name," because it has changes on the type of index or primary key.")),{value:void 0};var Pt=ct.objectStore(Rt.name);Rt.add.forEach(function(Mt){tr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Rt.name,".").concat(Mt.src)),vo(Pt,Mt)})}(Et[xt]);if(typeof bt=="object")return bt.value}}function Bo(lt,ct){var ht,xt={del:[],add:[],change:[]};for(ht in lt)ct[ht]||xt.del.push(ht);for(ht in ct){var Et=lt[ht],bt=ct[ht];if(Et){var Rt={name:ht,def:bt,recreate:!1,del:[],add:[],change:[]};if(""+(Et.primKey.keyPath||"")!=""+(bt.primKey.keyPath||"")||Et.primKey.auto!==bt.primKey.auto)Rt.recreate=!0,xt.change.push(Rt);else{var Pt=Et.idxByName,Mt=bt.idxByName,Ot=void 0;for(Ot in Pt)Mt[Ot]||Rt.del.push(Ot);for(Ot in Mt){var Ft=Pt[Ot],$t=Mt[Ot];Ft?Ft.src!==$t.src&&Rt.change.push($t):Rt.add.push($t)}(0<Rt.del.length||0<Rt.add.length||0<Rt.change.length)&&xt.change.push(Rt)}}else xt.add.push([ht,bt])}return xt}function Ho(lt,ct,ht,xt){var Et=lt.db.createObjectStore(ct,ht.keyPath?{keyPath:ht.keyPath,autoIncrement:ht.auto}:{autoIncrement:ht.auto});return xt.forEach(function(bt){return vo(Et,bt)}),Et}function _s(lt,ct){rt(lt).forEach(function(ht){ct.db.objectStoreNames.contains(ht)||(tr&&console.debug("Dexie: Creating missing table",ht),Ho(ct,ht,lt[ht].primKey,lt[ht].indexes))})}function vo(lt,ct){lt.createIndex(ct.name,ct.keyPath,{unique:ct.unique,multiEntry:ct.multi})}function xo(lt,ct,ht){var xt={};return vt(ct.objectStoreNames,0).forEach(function(Et){for(var bt=ht.objectStore(Et),Rt=Mo(ys(Ot=bt.keyPath),Ot||"",!0,!1,!!bt.autoIncrement,Ot&&typeof Ot!="string",!0),Pt=[],Mt=0;Mt<bt.indexNames.length;++Mt){var Ft=bt.index(bt.indexNames[Mt]),Ot=Ft.keyPath,Ft=Mo(Ft.name,Ot,!!Ft.unique,!!Ft.multiEntry,!1,Ot&&typeof Ot!="string",!1);Pt.push(Ft)}xt[Et]=Lo(Et,Rt,Pt)}),xt}function yo(lt,ct,ht){for(var xt=ht.db.objectStoreNames,Et=0;Et<xt.length;++Et){var bt=xt[Et],Rt=ht.objectStore(bt);lt._hasGetAll="getAll"in Rt;for(var Pt=0;Pt<Rt.indexNames.length;++Pt){var Mt=Rt.indexNames[Pt],Ot=Rt.index(Mt).keyPath,Ft=typeof Ot=="string"?Ot:"["+vt(Ot).join("+")+"]";!ct[bt]||(Ot=ct[bt].idxByName[Ft])&&(Ot.name=Mt,delete ct[bt].idxByName[Ft],ct[bt].idxByName[Mt]=Ot)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&nt.WorkerGlobalScope&&nt instanceof nt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(lt._hasGetAll=!1)}function ws(lt){return lt.split(",").map(function(ct,ht){var xt=(ct=ct.trim()).replace(/([&*]|\+\+)/g,""),Et=/^\[/.test(xt)?xt.match(/^\[(.*)\]$/)[1].split("+"):xt;return Mo(xt,Et||null,/\&/.test(ct),/\*/.test(ct),/\+\+/.test(ct),ot(Et),ht===0)})}var Gs=(Eo.prototype._parseStoresSpec=function(lt,ct){rt(lt).forEach(function(ht){if(lt[ht]!==null){var xt=ws(lt[ht]),Et=xt.shift();if(Et.unique=!0,Et.multi)throw new Jt.Schema("Primary key cannot be multi-valued");xt.forEach(function(bt){if(bt.auto)throw new Jt.Schema("Only primary key can be marked as autoIncrement (++)");if(!bt.keyPath)throw new Jt.Schema("Index must have a name and cannot be an empty string")}),ct[ht]=Lo(ht,Et,xt)}})},Eo.prototype.stores=function(ht){var ct=this.db;this._cfg.storesSource=this._cfg.storesSource?it(this._cfg.storesSource,ht):ht;var ht=ct._versions,xt={},Et={};return ht.forEach(function(bt){it(xt,bt._cfg.storesSource),Et=bt._cfg.dbschema={},bt._parseStoresSpec(xt,Et)}),ct._dbSchema=Et,Fo(ct,[ct._allTables,ct,ct.Transaction.prototype]),go(ct,[ct._allTables,ct,ct.Transaction.prototype,this._cfg.tables],rt(Et),Et),ct._storeNames=rt(Et),this},Eo.prototype.upgrade=function(lt){return this._cfg.contentUpgrade=mr(this._cfg.contentUpgrade||xn,lt),this},Eo);function Eo(){}function Uo(lt,ct){var ht=lt._dbNamesDB;return ht||(ht=lt._dbNamesDB=new yr(uo,{addons:[],indexedDB:lt,IDBKeyRange:ct})).version(1).stores({dbnames:"name"}),ht.table("dbnames")}function Vo(lt){return lt&&typeof lt.databases=="function"}function qo(lt){return br(function(){return yn.letThrough=!0,lt()})}function zo(lt){return!("from"in lt)}var Zn=function(lt,ct){if(!this){var ht=new Zn;return lt&&"d"in lt&&it(ht,lt),ht}it(this,arguments.length?{d:1,from:lt,to:1<arguments.length?ct:lt}:{d:0})};function io(lt,ct,ht){var xt=In(ct,ht);if(!isNaN(xt)){if(0<xt)throw RangeError();if(zo(lt))return it(lt,{from:ct,to:ht,d:1});var Et=lt.l,xt=lt.r;if(In(ht,lt.from)<0)return Et?io(Et,ct,ht):lt.l={from:ct,to:ht,d:1,l:null,r:null},Ss(lt);if(0<In(ct,lt.to))return xt?io(xt,ct,ht):lt.r={from:ct,to:ht,d:1,l:null,r:null},Ss(lt);In(ct,lt.from)<0&&(lt.from=ct,lt.l=null,lt.d=xt?xt.d+1:1),0<In(ht,lt.to)&&(lt.to=ht,lt.r=null,lt.d=lt.l?lt.l.d+1:1),ht=!lt.r,Et&&!lt.l&&ao(lt,Et),xt&&ht&&ao(lt,xt)}}function ao(lt,ct){zo(ct)||function ht(xt,Mt){var bt=Mt.from,Rt=Mt.to,Pt=Mt.l,Mt=Mt.r;io(xt,bt,Rt),Pt&&ht(xt,Pt),Mt&&ht(xt,Mt)}(lt,ct)}function bs(lt,ct){var ht=_o(ct),xt=ht.next();if(xt.done)return!1;for(var Et=xt.value,bt=_o(lt),Rt=bt.next(Et.from),Pt=Rt.value;!xt.done&&!Rt.done;){if(In(Pt.from,Et.to)<=0&&0<=In(Pt.to,Et.from))return!0;In(Et.from,Pt.from)<0?Et=(xt=ht.next(Pt.from)).value:Pt=(Rt=bt.next(Et.from)).value}return!1}function _o(lt){var ct=zo(lt)?null:{s:0,n:lt};return{next:function(ht){for(var xt=0<arguments.length;ct;)switch(ct.s){case 0:if(ct.s=1,xt)for(;ct.n.l&&In(ht,ct.n.from)<0;)ct={up:ct,n:ct.n.l,s:1};else for(;ct.n.l;)ct={up:ct,n:ct.n.l,s:1};case 1:if(ct.s=2,!xt||In(ht,ct.n.to)<=0)return{value:ct.n,done:!1};case 2:if(ct.n.r){ct.s=3,ct={up:ct,n:ct.n.r,s:0};continue}case 3:ct=ct.up}return{done:!0}}}}function Ss(lt){var ct,ht,xt=(((ct=lt.r)===null||ct===void 0?void 0:ct.d)||0)-(((ht=lt.l)===null||ht===void 0?void 0:ht.d)||0),Et=1<xt?"r":xt<-1?"l":"";Et&&(ct=Et=="r"?"l":"r",ht=et({},lt),xt=lt[Et],lt.from=xt.from,lt.to=xt.to,lt[Et]=xt[Et],ht[Et]=xt[ct],(lt[ct]=ht).d=Cs(ht)),lt.d=Cs(lt)}function Cs(ht){var ct=ht.r,ht=ht.l;return(ct?ht?Math.max(ct.d,ht.d):ct.d:ht?ht.d:0)+1}function wo(lt,ct){return rt(ct).forEach(function(ht){lt[ht]?ao(lt[ht],ct[ht]):lt[ht]=function xt(Et){var bt,Rt,Pt={};for(bt in Et)st(Et,bt)&&(Rt=Et[bt],Pt[bt]=!Rt||typeof Rt!="object"||Yt.has(Rt.constructor)?Rt:xt(Rt));return Pt}(ct[ht])}),lt}function Ko(lt,ct){return lt.all||ct.all||Object.keys(lt).some(function(ht){return ct[ht]&&bs(ct[ht],lt[ht])})}ut(Zn.prototype,((ar={add:function(lt){return ao(this,lt),this},addKey:function(lt){return io(this,lt,lt),this},addKeys:function(lt){var ct=this;return lt.forEach(function(ht){return io(ct,ht,ht)}),this},hasKey:function(lt){var ct=_o(this).next(lt).value;return ct&&In(ct.from,lt)<=0&&0<=In(ct.to,lt)}})[en]=function(){return _o(this)},ar));var Fr={},Wo={},Go=!1;function bo(lt){wo(Wo,lt),Go||(Go=!0,setTimeout(function(){Go=!1,Qo(Wo,!(Wo={}))},0))}function Qo(lt,ct){ct===void 0&&(ct=!1);var ht=new Set;if(lt.all)for(var xt=0,Et=Object.values(Fr);xt<Et.length;xt++)Rs(Rt=Et[xt],lt,ht,ct);else for(var bt in lt){var Rt,Pt=/^idb\:\/\/(.*)\/(.*)\//.exec(bt);Pt&&(bt=Pt[1],Pt=Pt[2],(Rt=Fr["idb://".concat(bt,"/").concat(Pt)])&&Rs(Rt,lt,ht,ct))}ht.forEach(function(Mt){return Mt()})}function Rs(lt,ct,ht,xt){for(var Et=[],bt=0,Rt=Object.entries(lt.queries.query);bt<Rt.length;bt++){for(var Pt=Rt[bt],Mt=Pt[0],Ot=[],Ft=0,$t=Pt[1];Ft<$t.length;Ft++){var Bt=$t[Ft];Ko(ct,Bt.obsSet)?Bt.subscribers.forEach(function(Lt){return ht.add(Lt)}):xt&&Ot.push(Bt)}xt&&Et.push([Mt,Ot])}if(xt)for(var Nt=0,Dt=Et;Nt<Dt.length;Nt++){var Ht=Dt[Nt],Mt=Ht[0],Ot=Ht[1];lt.queries.query[Mt]=Ot}}function Qs(lt){var ct=lt._state,ht=lt._deps.indexedDB;if(ct.isBeingOpened||lt.idbdb)return ct.dbReadyPromise.then(function(){return ct.dbOpenError?Un(ct.dbOpenError):lt});ct.isBeingOpened=!0,ct.dbOpenError=null,ct.openComplete=!1;var xt=ct.openCanceller,Et=Math.round(10*lt.verno),bt=!1;function Rt(){if(ct.openCanceller!==xt)throw new Jt.DatabaseClosed("db.open() was cancelled")}function Pt(){return new mn(function(Bt,Nt){if(Rt(),!ht)throw new Jt.MissingAPI;var Dt=lt.name,Ht=ct.autoSchema||!Et?ht.open(Dt):ht.open(Dt,Et);if(!Ht)throw new Jt.MissingAPI;Ht.onerror=pr(Nt),Ht.onblocked=Tn(lt._fireOnBlocked),Ht.onupgradeneeded=Tn(function(Lt){var qt;Ft=Ht.transaction,ct.autoSchema&&!lt._options.allowEmptyDB?(Ht.onerror=no,Ft.abort(),Ht.result.close(),(qt=ht.deleteDatabase(Dt)).onsuccess=qt.onerror=Tn(function(){Nt(new Jt.NoSuchDatabase("Database ".concat(Dt," doesnt exist")))})):(Ft.onerror=pr(Nt),Lt=Lt.oldVersion>Math.pow(2,62)?0:Lt.oldVersion,$t=Lt<1,lt.idbdb=Ht.result,bt&&Ws(lt,Ft),Ks(lt,Lt/10,Ft,Nt))},Nt),Ht.onsuccess=Tn(function(){Ft=null;var Lt,qt,Kt,Gt,Xt,an=lt.idbdb=Ht.result,dn=vt(an.objectStoreNames);if(0<dn.length)try{var ln=an.transaction((Gt=dn).length===1?Gt[0]:Gt,"readonly");if(ct.autoSchema)qt=an,Kt=ln,(Lt=lt).verno=qt.version/10,Kt=Lt._dbSchema=xo(0,qt,Kt),Lt._storeNames=vt(qt.objectStoreNames,0),go(Lt,[Lt._allTables],rt(Kt),Kt);else if(yo(lt,lt._dbSchema,ln),((Xt=Bo(xo(0,(Xt=lt).idbdb,ln),Xt._dbSchema)).add.length||Xt.change.some(function(cn){return cn.add.length||cn.change.length}))&&!bt)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),an.close(),Et=an.version+1,bt=!0,Bt(Pt());mo(lt,ln)}catch{}Kr.push(lt),an.onversionchange=Tn(function(cn){ct.vcFired=!0,lt.on("versionchange").fire(cn)}),an.onclose=Tn(function(cn){lt.on("close").fire(cn)}),$t&&(Xt=lt._deps,ln=Dt,an=Xt.indexedDB,Xt=Xt.IDBKeyRange,Vo(an)||ln===uo||Uo(an,Xt).put({name:ln}).catch(xn)),Bt()},Nt)}).catch(function(Bt){switch(Bt==null?void 0:Bt.name){case"UnknownError":if(0<ct.PR1398_maxLoop)return ct.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Pt();break;case"VersionError":if(0<Et)return Et=0,Pt()}return mn.reject(Bt)})}var Mt,Ot=ct.dbReadyResolve,Ft=null,$t=!1;return mn.race([xt,(typeof navigator>"u"?mn.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Bt){function Nt(){return indexedDB.databases().finally(Bt)}Mt=setInterval(Nt,100),Nt()}).finally(function(){return clearInterval(Mt)}):Promise.resolve()).then(Pt)]).then(function(){return Rt(),ct.onReadyBeingFired=[],mn.resolve(qo(function(){return lt.on.ready.fire(lt.vip)})).then(function Bt(){if(0<ct.onReadyBeingFired.length){var Nt=ct.onReadyBeingFired.reduce(mr,xn);return ct.onReadyBeingFired=[],mn.resolve(qo(function(){return Nt(lt.vip)})).then(Bt)}})}).finally(function(){ct.openCanceller===xt&&(ct.onReadyBeingFired=null,ct.isBeingOpened=!1)}).catch(function(Bt){ct.dbOpenError=Bt;try{Ft&&Ft.abort()}catch{}return xt===ct.openCanceller&&lt._close(),Un(Bt)}).finally(function(){ct.openComplete=!0,Ot()}).then(function(){var Bt;return $t&&(Bt={},lt.tables.forEach(function(Nt){Nt.schema.indexes.forEach(function(Dt){Dt.name&&(Bt["idb://".concat(lt.name,"/").concat(Nt.name,"/").concat(Dt.name)]=new Zn(-1/0,[[[]]]))}),Bt["idb://".concat(lt.name,"/").concat(Nt.name,"/")]=Bt["idb://".concat(lt.name,"/").concat(Nt.name,"/:dels")]=new Zn(-1/0,[[[]]])}),Ar(ro).fire(Bt),Qo(Bt,!0)),lt})}function Yo(lt){function ct(bt){return lt.next(bt)}var ht=Et(ct),xt=Et(function(bt){return lt.throw(bt)});function Et(bt){return function(Mt){var Pt=bt(Mt),Mt=Pt.value;return Pt.done?Mt:Mt&&typeof Mt.then=="function"?Mt.then(ht,xt):ot(Mt)?Promise.all(Mt).then(ht,xt):ht(Mt)}}return Et(ct)()}function So(lt,ct,ht){for(var xt=ot(lt)?lt.slice():[lt],Et=0;Et<ht;++Et)xt.push(ct);return xt}var Ys={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(lt){return et(et({},lt),{table:function(ct){var ht=lt.table(ct),xt=ht.schema,Et={},bt=[];function Rt($t,Bt,Nt){var Dt=so($t),Ht=Et[Dt]=Et[Dt]||[],Lt=$t==null?0:typeof $t=="string"?1:$t.length,qt=0<Bt,qt=et(et({},Nt),{name:qt?"".concat(Dt,"(virtual-from:").concat(Nt.name,")"):Nt.name,lowLevelIndex:Nt,isVirtual:qt,keyTail:Bt,keyLength:Lt,extractKey:Do($t),unique:!qt&&Nt.unique});return Ht.push(qt),qt.isPrimaryKey||bt.push(qt),1<Lt&&Rt(Lt===2?$t[0]:$t.slice(0,Lt-1),Bt+1,Nt),Ht.sort(function(Kt,Gt){return Kt.keyTail-Gt.keyTail}),qt}ct=Rt(xt.primaryKey.keyPath,0,xt.primaryKey),Et[":id"]=[ct];for(var Pt=0,Mt=xt.indexes;Pt<Mt.length;Pt++){var Ot=Mt[Pt];Rt(Ot.keyPath,0,Ot)}function Ft($t){var Bt,Nt=$t.query.index;return Nt.isVirtual?et(et({},$t),{query:{index:Nt.lowLevelIndex,range:(Bt=$t.query.range,Nt=Nt.keyTail,{type:Bt.type===1?2:Bt.type,lower:So(Bt.lower,Bt.lowerOpen?lt.MAX_KEY:lt.MIN_KEY,Nt),lowerOpen:!0,upper:So(Bt.upper,Bt.upperOpen?lt.MIN_KEY:lt.MAX_KEY,Nt),upperOpen:!0})}}):$t}return et(et({},ht),{schema:et(et({},xt),{primaryKey:ct,indexes:bt,getIndexByKeyPath:function($t){return($t=Et[so($t)])&&$t[0]}}),count:function($t){return ht.count(Ft($t))},query:function($t){return ht.query(Ft($t))},openCursor:function($t){var Bt=$t.query.index,Nt=Bt.keyTail,Dt=Bt.isVirtual,Ht=Bt.keyLength;return Dt?ht.openCursor(Ft($t)).then(function(qt){return qt&&Lt(qt)}):ht.openCursor($t);function Lt(qt){return Object.create(qt,{continue:{value:function(Kt){Kt!=null?qt.continue(So(Kt,$t.reverse?lt.MAX_KEY:lt.MIN_KEY,Nt)):$t.unique?qt.continue(qt.key.slice(0,Ht).concat($t.reverse?lt.MIN_KEY:lt.MAX_KEY,Nt)):qt.continue()}},continuePrimaryKey:{value:function(Kt,Gt){qt.continuePrimaryKey(So(Kt,lt.MAX_KEY,Nt),Gt)}},primaryKey:{get:function(){return qt.primaryKey}},key:{get:function(){var Kt=qt.key;return Ht===1?Kt[0]:Kt.slice(0,Ht)}},value:{get:function(){return qt.value}}})}}})}})}};function Xo(lt,ct,ht,xt){return ht=ht||{},xt=xt||"",rt(lt).forEach(function(Et){var bt,Rt,Pt;st(ct,Et)?(bt=lt[Et],Rt=ct[Et],typeof bt=="object"&&typeof Rt=="object"&&bt&&Rt?(Pt=Zt(bt))!==Zt(Rt)?ht[xt+Et]=ct[Et]:Pt==="Object"?Xo(bt,Rt,ht,xt+Et+"."):bt!==Rt&&(ht[xt+Et]=ct[Et]):bt!==Rt&&(ht[xt+Et]=ct[Et])):ht[xt+Et]=void 0}),rt(ct).forEach(function(Et){st(lt,Et)||(ht[xt+Et]=ct[Et])}),ht}function Zo(lt,ct){return ct.type==="delete"?ct.keys:ct.keys||ct.values.map(lt.extractKey)}var Xs={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(lt){return et(et({},lt),{table:function(ct){var ht=lt.table(ct),xt=ht.schema.primaryKey;return et(et({},ht),{mutate:function(Et){var bt=yn.trans,Rt=bt.table(ct).hook,Pt=Rt.deleting,Mt=Rt.creating,Ot=Rt.updating;switch(Et.type){case"add":if(Mt.fire===xn)break;return bt._promise("readwrite",function(){return Ft(Et)},!0);case"put":if(Mt.fire===xn&&Ot.fire===xn)break;return bt._promise("readwrite",function(){return Ft(Et)},!0);case"delete":if(Pt.fire===xn)break;return bt._promise("readwrite",function(){return Ft(Et)},!0);case"deleteRange":if(Pt.fire===xn)break;return bt._promise("readwrite",function(){return function $t(Bt,Nt,Dt){return ht.query({trans:Bt,values:!1,query:{index:xt,range:Nt},limit:Dt}).then(function(Ht){var Lt=Ht.result;return Ft({type:"delete",keys:Lt,trans:Bt}).then(function(qt){return 0<qt.numFailures?Promise.reject(qt.failures[0]):Lt.length<Dt?{failures:[],numFailures:0,lastResult:void 0}:$t(Bt,et(et({},Nt),{lower:Lt[Lt.length-1],lowerOpen:!0}),Dt)})})}(Et.trans,Et.range,1e4)},!0)}return ht.mutate(Et);function Ft($t){var Bt,Nt,Dt,Ht=yn.trans,Lt=$t.keys||Zo(xt,$t);if(!Lt)throw new Error("Keys missing");return($t=$t.type==="add"||$t.type==="put"?et(et({},$t),{keys:Lt}):et({},$t)).type!=="delete"&&($t.values=tt([],$t.values)),$t.keys&&($t.keys=tt([],$t.keys)),Bt=ht,Dt=Lt,((Nt=$t).type==="add"?Promise.resolve([]):Bt.getMany({trans:Nt.trans,keys:Dt,cache:"immutable"})).then(function(qt){var Kt=Lt.map(function(Gt,Xt){var an,dn,ln,cn=qt[Xt],pn={onerror:null,onsuccess:null};return $t.type==="delete"?Pt.fire.call(pn,Gt,cn,Ht):$t.type==="add"||cn===void 0?(an=Mt.fire.call(pn,Gt,$t.values[Xt],Ht),Gt==null&&an!=null&&($t.keys[Xt]=Gt=an,xt.outbound||St($t.values[Xt],xt.keyPath,Gt))):(an=Xo(cn,$t.values[Xt]),(dn=Ot.fire.call(pn,an,Gt,cn,Ht))&&(ln=$t.values[Xt],Object.keys(dn).forEach(function(on){st(ln,on)?ln[on]=dn[on]:St(ln,on,dn[on])}))),pn});return ht.mutate($t).then(function(Gt){for(var Xt=Gt.failures,an=Gt.results,dn=Gt.numFailures,Gt=Gt.lastResult,ln=0;ln<Lt.length;++ln){var cn=(an||Lt)[ln],pn=Kt[ln];cn==null?pn.onerror&&pn.onerror(Xt[ln]):pn.onsuccess&&pn.onsuccess($t.type==="put"&&qt[ln]?$t.values[ln]:cn)}return{failures:Xt,results:an,numFailures:dn,lastResult:Gt}}).catch(function(Gt){return Kt.forEach(function(Xt){return Xt.onerror&&Xt.onerror(Gt)}),Promise.reject(Gt)})})}}})}})}};function As(lt,ct,ht){try{if(!ct||ct.keys.length<lt.length)return null;for(var xt=[],Et=0,bt=0;Et<ct.keys.length&&bt<lt.length;++Et)In(ct.keys[Et],lt[bt])===0&&(xt.push(ht?hn(ct.values[Et]):ct.values[Et]),++bt);return xt.length===lt.length?xt:null}catch{return null}}var Zs={stack:"dbcore",level:-1,create:function(lt){return{table:function(ct){var ht=lt.table(ct);return et(et({},ht),{getMany:function(xt){if(!xt.cache)return ht.getMany(xt);var Et=As(xt.keys,xt.trans._cache,xt.cache==="clone");return Et?mn.resolve(Et):ht.getMany(xt).then(function(bt){return xt.trans._cache={keys:xt.keys,values:xt.cache==="clone"?hn(bt):bt},bt})},mutate:function(xt){return xt.type!=="add"&&(xt.trans._cache=null),ht.mutate(xt)}})}}}};function Ts(lt,ct){return lt.trans.mode==="readonly"&&!!lt.subscr&&!lt.trans.explicit&&lt.trans.db._options.cache!=="disabled"&&!ct.schema.primaryKey.outbound}function Ps(lt,ct){switch(lt){case"query":return ct.values&&!ct.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Js={stack:"dbcore",level:0,name:"Observability",create:function(lt){var ct=lt.schema.name,ht=new Zn(lt.MIN_KEY,lt.MAX_KEY);return et(et({},lt),{transaction:function(xt,Et,bt){if(yn.subscr&&Et!=="readonly")throw new Jt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(yn.querier));return lt.transaction(xt,Et,bt)},table:function(xt){var Et=lt.table(xt),bt=Et.schema,Rt=bt.primaryKey,$t=bt.indexes,Pt=Rt.extractKey,Mt=Rt.outbound,Ot=Rt.autoIncrement&&$t.filter(function(Nt){return Nt.compound&&Nt.keyPath.includes(Rt.keyPath)}),Ft=et(et({},Et),{mutate:function(Nt){function Dt(on){return on="idb://".concat(ct,"/").concat(xt,"/").concat(on),Gt[on]||(Gt[on]=new Zn)}var Ht,Lt,qt,Kt=Nt.trans,Gt=Nt.mutatedParts||(Nt.mutatedParts={}),Xt=Dt(""),an=Dt(":dels"),dn=Nt.type,pn=Nt.type==="deleteRange"?[Nt.range]:Nt.type==="delete"?[Nt.keys]:Nt.values.length<50?[Zo(Rt,Nt).filter(function(on){return on}),Nt.values]:[],ln=pn[0],cn=pn[1],pn=Nt.trans._cache;return ot(ln)?(Xt.addKeys(ln),(pn=dn==="delete"||ln.length===cn.length?As(ln,pn):null)||an.addKeys(ln),(pn||cn)&&(Ht=Dt,Lt=pn,qt=cn,bt.indexes.forEach(function(on){var Rn=Ht(on.name||"");function An(Pn){return Pn!=null?on.extractKey(Pn):null}function kn(Pn){return on.multiEntry&&ot(Pn)?Pn.forEach(function(cr){return Rn.addKey(cr)}):Rn.addKey(Pn)}(Lt||qt).forEach(function(Pn,Wn){var jn=Lt&&An(Lt[Wn]),Wn=qt&&An(qt[Wn]);In(jn,Wn)!==0&&(jn!=null&&kn(jn),Wn!=null&&kn(Wn))})}))):ln?(cn={from:ln.lower,to:ln.upper},an.add(cn),Xt.add(cn)):(Xt.add(ht),an.add(ht),bt.indexes.forEach(function(on){return Dt(on.name).add(ht)})),Et.mutate(Nt).then(function(on){return!ln||Nt.type!=="add"&&Nt.type!=="put"||(Xt.addKeys(on.results),Ot&&Ot.forEach(function(Rn){var An=Nt.values.map(function(Pn){return Rn.extractKey(Pn)}),kn=Rn.keyPath.findIndex(function(Pn){return Pn===Rt.keyPath});on.results.forEach(function(Pn){return An[kn]=Pn}),Dt(Rn.name).addKeys(An)})),Kt.mutatedParts=wo(Kt.mutatedParts||{},Gt),on})}}),$t=function(Dt){var Ht=Dt.query,Dt=Ht.index,Ht=Ht.range;return[Dt,new Zn((Dt=Ht.lower)!==null&&Dt!==void 0?Dt:lt.MIN_KEY,(Ht=Ht.upper)!==null&&Ht!==void 0?Ht:lt.MAX_KEY)]},Bt={get:function(Nt){return[Rt,new Zn(Nt.key)]},getMany:function(Nt){return[Rt,new Zn().addKeys(Nt.keys)]},count:$t,query:$t,openCursor:$t};return rt(Bt).forEach(function(Nt){Ft[Nt]=function(Dt){var Ht=yn.subscr,Lt=!!Ht,qt=Ts(yn,Et)&&Ps(Nt,Dt)?Dt.obsSet={}:Ht;if(Lt){var Kt=function(cn){return cn="idb://".concat(ct,"/").concat(xt,"/").concat(cn),qt[cn]||(qt[cn]=new Zn)},Gt=Kt(""),Xt=Kt(":dels"),Ht=Bt[Nt](Dt),Lt=Ht[0],Ht=Ht[1];if((Nt==="query"&&Lt.isPrimaryKey&&!Dt.values?Xt:Kt(Lt.name||"")).add(Ht),!Lt.isPrimaryKey){if(Nt!=="count"){var an=Nt==="query"&&Mt&&Dt.values&&Et.query(et(et({},Dt),{values:!1}));return Et[Nt].apply(this,arguments).then(function(cn){if(Nt==="query"){if(Mt&&Dt.values)return an.then(function(An){return An=An.result,Gt.addKeys(An),cn});var pn=Dt.values?cn.result.map(Pt):cn.result;(Dt.values?Gt:Xt).addKeys(pn)}else if(Nt==="openCursor"){var on=cn,Rn=Dt.values;return on&&Object.create(on,{key:{get:function(){return Xt.addKey(on.primaryKey),on.key}},primaryKey:{get:function(){var An=on.primaryKey;return Xt.addKey(An),An}},value:{get:function(){return Rn&&Gt.addKey(on.primaryKey),on.value}}})}return cn})}Xt.add(ht)}}return Et[Nt].apply(this,arguments)}}),Ft}})}};function js(lt,ct,ht){if(ht.numFailures===0)return ct;if(ct.type==="deleteRange")return null;var xt=ct.keys?ct.keys.length:"values"in ct&&ct.values?ct.values.length:1;return ht.numFailures===xt?null:(ct=et({},ct),ot(ct.keys)&&(ct.keys=ct.keys.filter(function(Et,bt){return!(bt in ht.failures)})),"values"in ct&&ot(ct.values)&&(ct.values=ct.values.filter(function(Et,bt){return!(bt in ht.failures)})),ct)}function Jo(lt,ct){return ht=lt,((xt=ct).lower===void 0||(xt.lowerOpen?0<In(ht,xt.lower):0<=In(ht,xt.lower)))&&(lt=lt,(ct=ct).upper===void 0||(ct.upperOpen?In(lt,ct.upper)<0:In(lt,ct.upper)<=0));var ht,xt}function $s(lt,ct,Bt,xt,Et,bt){if(!Bt||Bt.length===0)return lt;var Rt=ct.query.index,Pt=Rt.multiEntry,Mt=ct.query.range,Ot=xt.schema.primaryKey.extractKey,Ft=Rt.extractKey,$t=(Rt.lowLevelIndex||Rt).extractKey,Bt=Bt.reduce(function(Nt,Dt){var Ht=Nt,Lt=[];if(Dt.type==="add"||Dt.type==="put")for(var qt=new Zn,Kt=Dt.values.length-1;0<=Kt;--Kt){var Gt,Xt=Dt.values[Kt],an=Ot(Xt);qt.hasKey(an)||(Gt=Ft(Xt),(Pt&&ot(Gt)?Gt.some(function(pn){return Jo(pn,Mt)}):Jo(Gt,Mt))&&(qt.addKey(an),Lt.push(Xt)))}switch(Dt.type){case"add":Ht=Nt.concat(ct.values?Lt:Lt.map(function(on){return Ot(on)}));break;case"put":var dn=new Zn().addKeys(Dt.values.map(function(on){return Ot(on)})),Ht=Nt.filter(function(on){return!dn.hasKey(ct.values?Ot(on):on)}).concat(ct.values?Lt:Lt.map(function(on){return Ot(on)}));break;case"delete":var ln=new Zn().addKeys(Dt.keys);Ht=Nt.filter(function(on){return!ln.hasKey(ct.values?Ot(on):on)});break;case"deleteRange":var cn=Dt.range;Ht=Nt.filter(function(on){return!Jo(Ot(on),cn)})}return Ht},lt);return Bt===lt?lt:(Bt.sort(function(Nt,Dt){return In($t(Nt),$t(Dt))||In(Ot(Nt),Ot(Dt))}),ct.limit&&ct.limit<1/0&&(Bt.length>ct.limit?Bt.length=ct.limit:lt.length===ct.limit&&Bt.length<ct.limit&&(Et.dirty=!0)),bt?Object.freeze(Bt):Bt)}function ks(lt,ct){return In(lt.lower,ct.lower)===0&&In(lt.upper,ct.upper)===0&&!!lt.lowerOpen==!!ct.lowerOpen&&!!lt.upperOpen==!!ct.upperOpen}function _i(lt,ct){return function(ht,xt,Et,bt){if(ht===void 0)return xt!==void 0?-1:0;if(xt===void 0)return 1;if((xt=In(ht,xt))===0){if(Et&&bt)return 0;if(Et)return 1;if(bt)return-1}return xt}(lt.lower,ct.lower,lt.lowerOpen,ct.lowerOpen)<=0&&0<=function(ht,xt,Et,bt){if(ht===void 0)return xt!==void 0?1:0;if(xt===void 0)return-1;if((xt=In(ht,xt))===0){if(Et&&bt)return 0;if(Et)return-1;if(bt)return 1}return xt}(lt.upper,ct.upper,lt.upperOpen,ct.upperOpen)}function na(lt,ct,ht,xt){lt.subscribers.add(ht),xt.addEventListener("abort",function(){var Et,bt;lt.subscribers.delete(ht),lt.subscribers.size===0&&(Et=lt,bt=ct,setTimeout(function(){Et.subscribers.size===0&&zt(bt,Et)},3e3))})}var ga={stack:"dbcore",level:0,name:"Cache",create:function(lt){var ct=lt.schema.name;return et(et({},lt),{transaction:function(ht,xt,Et){var bt,Rt,Pt=lt.transaction(ht,xt,Et);return xt==="readwrite"&&(Rt=(bt=new AbortController).signal,Et=function(Mt){return function(){if(bt.abort(),xt==="readwrite"){for(var Ot=new Set,Ft=0,$t=ht;Ft<$t.length;Ft++){var Bt=$t[Ft],Nt=Fr["idb://".concat(ct,"/").concat(Bt)];if(Nt){var Dt=lt.table(Bt),Ht=Nt.optimisticOps.filter(function(Rn){return Rn.trans===Pt});if(Pt._explicit&&Mt&&Pt.mutatedParts)for(var Lt=0,qt=Object.values(Nt.queries.query);Lt<qt.length;Lt++)for(var Kt=0,Gt=(dn=qt[Lt]).slice();Kt<Gt.length;Kt++)Ko((ln=Gt[Kt]).obsSet,Pt.mutatedParts)&&(zt(dn,ln),ln.subscribers.forEach(function(Rn){return Ot.add(Rn)}));else if(0<Ht.length){Nt.optimisticOps=Nt.optimisticOps.filter(function(Rn){return Rn.trans!==Pt});for(var Xt=0,an=Object.values(Nt.queries.query);Xt<an.length;Xt++)for(var dn,ln,cn,pn=0,on=(dn=an[Xt]).slice();pn<on.length;pn++)(ln=on[pn]).res!=null&&Pt.mutatedParts&&(Mt&&!ln.dirty?(cn=Object.isFrozen(ln.res),cn=$s(ln.res,ln.req,Ht,Dt,ln,cn),ln.dirty?(zt(dn,ln),ln.subscribers.forEach(function(Rn){return Ot.add(Rn)})):cn!==ln.res&&(ln.res=cn,ln.promise=mn.resolve({result:cn}))):(ln.dirty&&zt(dn,ln),ln.subscribers.forEach(function(Rn){return Ot.add(Rn)})))}}}Ot.forEach(function(Rn){return Rn()})}}},Pt.addEventListener("abort",Et(!1),{signal:Rt}),Pt.addEventListener("error",Et(!1),{signal:Rt}),Pt.addEventListener("complete",Et(!0),{signal:Rt})),Pt},table:function(ht){var xt=lt.table(ht),Et=xt.schema.primaryKey;return et(et({},xt),{mutate:function(bt){var Rt=yn.trans;if(Et.outbound||Rt.db._options.cache==="disabled"||Rt.explicit)return xt.mutate(bt);var Pt=Fr["idb://".concat(ct,"/").concat(ht)];return Pt?(Rt=xt.mutate(bt),bt.type!=="add"&&bt.type!=="put"||!(50<=bt.values.length||Zo(Et,bt).some(function(Mt){return Mt==null}))?(Pt.optimisticOps.push(bt),bt.mutatedParts&&bo(bt.mutatedParts),Rt.then(function(Mt){0<Mt.numFailures&&(zt(Pt.optimisticOps,bt),(Mt=js(0,bt,Mt))&&Pt.optimisticOps.push(Mt),bt.mutatedParts&&bo(bt.mutatedParts))}),Rt.catch(function(){zt(Pt.optimisticOps,bt),bt.mutatedParts&&bo(bt.mutatedParts)})):Rt.then(function(Mt){var Ot=js(0,et(et({},bt),{values:bt.values.map(function(Nt,$t){var Bt,Nt=(Bt=Et.keyPath)!==null&&Bt!==void 0&&Bt.includes(".")?hn(Nt):et({},Nt);return St(Nt,Et.keyPath,Mt.results[$t]),Nt})}),Mt);Pt.optimisticOps.push(Ot),queueMicrotask(function(){return bt.mutatedParts&&bo(bt.mutatedParts)})}),Rt):xt.mutate(bt)},query:function(bt){if(!Ts(yn,xt)||!Ps("query",bt))return xt.query(bt);var Rt=((Ot=yn.trans)===null||Ot===void 0?void 0:Ot.db._options.cache)==="immutable",$t=yn,Pt=$t.requery,Mt=$t.signal,Ot=function(Dt,Ht,Lt,qt){var Kt=Fr["idb://".concat(Dt,"/").concat(Ht)];if(!Kt)return[];if(!(Ht=Kt.queries[Lt]))return[null,!1,Kt,null];var Gt=Ht[(qt.query?qt.query.index.name:null)||""];if(!Gt)return[null,!1,Kt,null];switch(Lt){case"query":var Xt=Gt.find(function(an){return an.req.limit===qt.limit&&an.req.values===qt.values&&ks(an.req.query.range,qt.query.range)});return Xt?[Xt,!0,Kt,Gt]:[Gt.find(function(an){return("limit"in an.req?an.req.limit:1/0)>=qt.limit&&(!qt.values||an.req.values)&&_i(an.req.query.range,qt.query.range)}),!1,Kt,Gt];case"count":return Xt=Gt.find(function(an){return ks(an.req.query.range,qt.query.range)}),[Xt,!!Xt,Kt,Gt]}}(ct,ht,"query",bt),Ft=Ot[0],$t=Ot[1],Bt=Ot[2],Nt=Ot[3];return Ft&&$t?Ft.obsSet=bt.obsSet:($t=xt.query(bt).then(function(Dt){var Ht=Dt.result;if(Ft&&(Ft.res=Ht),Rt){for(var Lt=0,qt=Ht.length;Lt<qt;++Lt)Object.freeze(Ht[Lt]);Object.freeze(Ht)}else Dt.result=hn(Ht);return Dt}).catch(function(Dt){return Nt&&Ft&&zt(Nt,Ft),Promise.reject(Dt)}),Ft={obsSet:bt.obsSet,promise:$t,subscribers:new Set,type:"query",req:bt,dirty:!1},Nt?Nt.push(Ft):(Nt=[Ft],(Bt=Bt||(Fr["idb://".concat(ct,"/").concat(ht)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[bt.query.index.name||""]=Nt)),na(Ft,Nt,Pt,Mt),Ft.promise.then(function(Dt){return{result:$s(Dt.result,bt,Bt==null?void 0:Bt.optimisticOps,xt,Ft,Rt)}})}})}})}};function Co(lt,ct){return new Proxy(lt,{get:function(ht,xt,Et){return xt==="db"?ct:Reflect.get(ht,xt,Et)}})}var yr=(Vn.prototype.version=function(lt){if(isNaN(lt)||lt<.1)throw new Jt.Type("Given version is not a positive number");if(lt=Math.round(10*lt)/10,this.idbdb||this._state.isBeingOpened)throw new Jt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,lt);var ct=this._versions,ht=ct.filter(function(xt){return xt._cfg.version===lt})[0];return ht||(ht=new this.Version(lt),ct.push(ht),ct.sort(zs),ht.stores({}),this._state.autoSchema=!1,ht)},Vn.prototype._whenReady=function(lt){var ct=this;return this.idbdb&&(this._state.openComplete||yn.letThrough||this._vip)?lt():new mn(function(ht,xt){if(ct._state.openComplete)return xt(new Jt.DatabaseClosed(ct._state.dbOpenError));if(!ct._state.isBeingOpened){if(!ct._state.autoOpen)return void xt(new Jt.DatabaseClosed);ct.open().catch(xn)}ct._state.dbReadyPromise.then(ht,xt)}).then(lt)},Vn.prototype.use=function(lt){var ct=lt.stack,ht=lt.create,xt=lt.level,Et=lt.name;return Et&&this.unuse({stack:ct,name:Et}),lt=this._middlewares[ct]||(this._middlewares[ct]=[]),lt.push({stack:ct,create:ht,level:xt??10,name:Et}),lt.sort(function(bt,Rt){return bt.level-Rt.level}),this},Vn.prototype.unuse=function(lt){var ct=lt.stack,ht=lt.name,xt=lt.create;return ct&&this._middlewares[ct]&&(this._middlewares[ct]=this._middlewares[ct].filter(function(Et){return xt?Et.create!==xt:!!ht&&Et.name!==ht})),this},Vn.prototype.open=function(){var lt=this;return Mr(er,function(){return Qs(lt)})},Vn.prototype._close=function(){var lt=this._state,ct=Kr.indexOf(this);if(0<=ct&&Kr.splice(ct,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}lt.isBeingOpened||(lt.dbReadyPromise=new mn(function(ht){lt.dbReadyResolve=ht}),lt.openCanceller=new mn(function(ht,xt){lt.cancelOpen=xt}))},Vn.prototype.close=function(ht){var ct=(ht===void 0?{disableAutoOpen:!0}:ht).disableAutoOpen,ht=this._state;ct?(ht.isBeingOpened&&ht.cancelOpen(new Jt.DatabaseClosed),this._close(),ht.autoOpen=!1,ht.dbOpenError=new Jt.DatabaseClosed):(this._close(),ht.autoOpen=this._options.autoOpen||ht.isBeingOpened,ht.openComplete=!1,ht.dbOpenError=null)},Vn.prototype.delete=function(lt){var ct=this;lt===void 0&&(lt={disableAutoOpen:!0});var ht=0<arguments.length&&typeof arguments[0]!="object",xt=this._state;return new mn(function(Et,bt){function Rt(){ct.close(lt);var Pt=ct._deps.indexedDB.deleteDatabase(ct.name);Pt.onsuccess=Tn(function(){var Mt,Ot,Ft;Mt=ct._deps,Ot=ct.name,Ft=Mt.indexedDB,Mt=Mt.IDBKeyRange,Vo(Ft)||Ot===uo||Uo(Ft,Mt).delete(Ot).catch(xn),Et()}),Pt.onerror=pr(bt),Pt.onblocked=ct._fireOnBlocked}if(ht)throw new Jt.InvalidArgument("Invalid closeOptions argument to db.delete()");xt.isBeingOpened?xt.dbReadyPromise.then(Rt):Rt()})},Vn.prototype.backendDB=function(){return this.idbdb},Vn.prototype.isOpen=function(){return this.idbdb!==null},Vn.prototype.hasBeenClosed=function(){var lt=this._state.dbOpenError;return lt&&lt.name==="DatabaseClosed"},Vn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Vn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Vn.prototype,"tables",{get:function(){var lt=this;return rt(this._allTables).map(function(ct){return lt._allTables[ct]})},enumerable:!1,configurable:!0}),Vn.prototype.transaction=function(){var lt=(function(ct,ht,xt){var Et=arguments.length;if(Et<2)throw new Jt.InvalidArgument("Too few arguments");for(var bt=new Array(Et-1);--Et;)bt[Et-1]=arguments[Et];return xt=bt.pop(),[ct,Ut(bt),xt]}).apply(this,arguments);return this._transaction.apply(this,lt)},Vn.prototype._transaction=function(lt,ct,ht){var xt=this,Et=yn.trans;Et&&Et.db===this&&lt.indexOf("!")===-1||(Et=null);var bt,Rt,Pt=lt.indexOf("?")!==-1;lt=lt.replace("!","").replace("?","");try{if(Rt=ct.map(function(Ot){if(Ot=Ot instanceof xt.Table?Ot.name:Ot,typeof Ot!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ot}),lt=="r"||lt===jo)bt=jo;else{if(lt!="rw"&&lt!=$o)throw new Jt.InvalidArgument("Invalid transaction mode: "+lt);bt=$o}if(Et){if(Et.mode===jo&&bt===$o){if(!Pt)throw new Jt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Et=null}Et&&Rt.forEach(function(Ot){if(Et&&Et.storeNames.indexOf(Ot)===-1){if(!Pt)throw new Jt.SubTransaction("Table "+Ot+" not included in parent transaction.");Et=null}}),Pt&&Et&&!Et.active&&(Et=null)}}catch(Ot){return Et?Et._promise(null,function(Ft,$t){$t(Ot)}):Un(Ot)}var Mt=(function Ot(Ft,$t,Bt,Nt,Dt){return mn.resolve().then(function(){var Ht=yn.transless||yn,Lt=Ft._createTransaction($t,Bt,Ft._dbSchema,Nt);if(Lt.explicit=!0,Ht={trans:Lt,transless:Ht},Nt)Lt.idbtrans=Nt.idbtrans;else try{Lt.create(),Lt.idbtrans._explicit=!0,Ft._state.PR1398_maxLoop=3}catch(Gt){return Gt.name===tn.InvalidState&&Ft.isOpen()&&0<--Ft._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ft.close({disableAutoOpen:!1}),Ft.open().then(function(){return Ot(Ft,$t,Bt,null,Dt)})):Un(Gt)}var qt,Kt=nn(Dt);return Kt&&zr(),Ht=mn.follow(function(){var Gt;(qt=Dt.call(Lt,Lt))&&(Kt?(Gt=Sr.bind(null,null),qt.then(Gt,Gt)):typeof qt.next=="function"&&typeof qt.throw=="function"&&(qt=Yo(qt)))},Ht),(qt&&typeof qt.then=="function"?mn.resolve(qt).then(function(Gt){return Lt.active?Gt:Un(new Jt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ht.then(function(){return qt})).then(function(Gt){return Nt&&Lt._resolve(),Lt._completion.then(function(){return Gt})}).catch(function(Gt){return Lt._reject(Gt),Un(Gt)})})}).bind(null,this,bt,Rt,Et,ht);return Et?Et._promise(bt,Mt,"lock"):yn.trans?Mr(yn.transless,function(){return xt._whenReady(Mt)}):this._whenReady(Mt)},Vn.prototype.table=function(lt){if(!st(this._allTables,lt))throw new Jt.InvalidTable("Table ".concat(lt," does not exist"));return this._allTables[lt]},Vn);function Vn(lt,ct){var ht=this;this._middlewares={},this.verno=0;var xt=Vn.dependencies;this._options=ct=et({addons:Vn.addons,autoOpen:!0,indexedDB:xt.indexedDB,IDBKeyRange:xt.IDBKeyRange,cache:"cloned"},ct),this._deps={indexedDB:ct.indexedDB,IDBKeyRange:ct.IDBKeyRange},xt=ct.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var Et,bt,Rt,Pt,Mt,Ot={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xn,dbReadyPromise:null,cancelOpen:xn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:ct.autoOpen};Ot.dbReadyPromise=new mn(function($t){Ot.dbReadyResolve=$t}),Ot.openCanceller=new mn(function($t,Bt){Ot.cancelOpen=Bt}),this._state=Ot,this.name=lt,this.on=Zr(this,"populate","blocked","versionchange","close",{ready:[mr,xn]}),this.on.ready.subscribe=_t(this.on.ready.subscribe,function($t){return function(Bt,Nt){Vn.vip(function(){var Dt,Ht=ht._state;Ht.openComplete?(Ht.dbOpenError||mn.resolve().then(Bt),Nt&&$t(Bt)):Ht.onReadyBeingFired?(Ht.onReadyBeingFired.push(Bt),Nt&&$t(Bt)):($t(Bt),Dt=ht,Nt||$t(function Lt(){Dt.on.ready.unsubscribe(Bt),Dt.on.ready.unsubscribe(Lt)}))})}}),this.Collection=(Et=this,Jr(Ds.prototype,function(qt,Lt){this.db=Et;var Nt=ls,Dt=null;if(Lt)try{Nt=Lt()}catch(Kt){Dt=Kt}var Ht=qt._ctx,Lt=Ht.table,qt=Lt.hook.reading.fire;this._ctx={table:Lt,index:Ht.index,isPrimKey:!Ht.index||Lt.schema.primKey.keyPath&&Ht.index===Lt.schema.primKey.name,range:Nt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Dt,or:Ht.or,valueMapper:qt!==Hn?qt:null}})),this.Table=(bt=this,Jr(ps.prototype,function($t,Bt,Nt){this.db=bt,this._tx=Nt,this.name=$t,this.schema=Bt,this.hook=bt._allTables[$t]?bt._allTables[$t].hook:Zr(null,{creating:[Yn,xn],reading:[Qn,Hn],updating:[fr,xn],deleting:[lr,xn]})})),this.Transaction=(Rt=this,Jr(Hs.prototype,function($t,Bt,Nt,Dt,Ht){var Lt=this;this.db=Rt,this.mode=$t,this.storeNames=Bt,this.schema=Nt,this.chromeTransactionDurability=Dt,this.idbtrans=null,this.on=Zr(this,"complete","error","abort"),this.parent=Ht||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new mn(function(qt,Kt){Lt._resolve=qt,Lt._reject=Kt}),this._completion.then(function(){Lt.active=!1,Lt.on.complete.fire()},function(qt){var Kt=Lt.active;return Lt.active=!1,Lt.on.error.fire(qt),Lt.parent?Lt.parent._reject(qt):Kt&&Lt.idbtrans&&Lt.idbtrans.abort(),Un(qt)})})),this.Version=(Pt=this,Jr(Gs.prototype,function($t){this.db=Pt,this._cfg={version:$t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Mt=this,Jr(xs.prototype,function($t,Bt,Nt){if(this.db=Mt,this._ctx={table:$t,index:Bt===":id"?null:Bt,or:Nt},this._cmp=this._ascending=In,this._descending=function(Dt,Ht){return In(Ht,Dt)},this._max=function(Dt,Ht){return 0<In(Dt,Ht)?Dt:Ht},this._min=function(Dt,Ht){return In(Dt,Ht)<0?Dt:Ht},this._IDBKeyRange=Mt._deps.IDBKeyRange,!this._IDBKeyRange)throw new Jt.MissingAPI})),this.on("versionchange",function($t){0<$t.newVersion?console.warn("Another connection wants to upgrade database '".concat(ht.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(ht.name,"'. Closing db now to resume the delete request.")),ht.close({disableAutoOpen:!1})}),this.on("blocked",function($t){!$t.newVersion||$t.newVersion<$t.oldVersion?console.warn("Dexie.delete('".concat(ht.name,"') was blocked")):console.warn("Upgrade '".concat(ht.name,"' blocked by other connection holding version ").concat($t.oldVersion/10))}),this._maxKey=oo(ct.IDBKeyRange),this._createTransaction=function($t,Bt,Nt,Dt){return new ht.Transaction($t,Bt,Nt,ht._options.chromeTransactionDurability,Dt)},this._fireOnBlocked=function($t){ht.on("blocked").fire($t),Kr.filter(function(Bt){return Bt.name===ht.name&&Bt!==ht&&!Bt._state.vcFired}).map(function(Bt){return Bt.on("versionchange").fire($t)})},this.use(Zs),this.use(ga),this.use(Js),this.use(Ys),this.use(Xs);var Ft=new Proxy(this,{get:function($t,Bt,Nt){if(Bt==="_vip")return!0;if(Bt==="table")return function(Ht){return Co(ht.table(Ht),Ft)};var Dt=Reflect.get($t,Bt,Nt);return Dt instanceof ps?Co(Dt,Ft):Bt==="tables"?Dt.map(function(Ht){return Co(Ht,Ft)}):Bt==="_createTransaction"?function(){return Co(Dt.apply(this,arguments),Ft)}:Dt}});this.vip=Ft,xt.forEach(function($t){return $t(ht)})}var Ro,ar=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xa=(es.prototype.subscribe=function(lt,ct,ht){return this._subscribe(lt&&typeof lt!="function"?lt:{next:lt,error:ct,complete:ht})},es.prototype[ar]=function(){return this},es);function es(lt){this._subscribe=lt}try{Ro={indexedDB:nt.indexedDB||nt.mozIndexedDB||nt.webkitIndexedDB||nt.msIndexedDB,IDBKeyRange:nt.IDBKeyRange||nt.webkitIDBKeyRange}}catch{Ro={indexedDB:null,IDBKeyRange:null}}function Os(lt){var ct,ht=!1,xt=new xa(function(Et){var bt=nn(lt),Rt,Pt=!1,Mt={},Ot={},Ft={get closed(){return Pt},unsubscribe:function(){Pt||(Pt=!0,Rt&&Rt.abort(),$t&&Ar.storagemutated.unsubscribe(Nt))}};Et.start&&Et.start(Ft);var $t=!1,Bt=function(){return Po(Dt)},Nt=function(Ht){wo(Mt,Ht),Ko(Ot,Mt)&&Bt()},Dt=function(){var Ht,Lt,qt;!Pt&&Ro.indexedDB&&(Mt={},Ht={},Rt&&Rt.abort(),Rt=new AbortController,qt=function(Kt){var Gt=Nn();try{bt&&zr();var Xt=br(lt,Kt);return Xt=bt?Xt.finally(Sr):Xt}finally{Gt&&Dn()}}(Lt={subscr:Ht,signal:Rt.signal,requery:Bt,querier:lt,trans:null}),Promise.resolve(qt).then(function(Kt){ht=!0,ct=Kt,Pt||Lt.signal.aborted||(Mt={},function(Gt){for(var Xt in Gt)if(st(Gt,Xt))return;return 1}(Ot=Ht)||$t||(Ar(ro,Nt),$t=!0),Po(function(){return!Pt&&Et.next&&Et.next(Kt)}))},function(Kt){ht=!1,["DatabaseClosedError","AbortError"].includes(Kt==null?void 0:Kt.name)||Pt||Po(function(){Pt||Et.error&&Et.error(Kt)})}))};return setTimeout(Bt,0),Ft});return xt.hasValue=function(){return ht},xt.getValue=function(){return ct},xt}var Br=yr;function ns(lt){var ct=Tr;try{Tr=!0,Ar.storagemutated.fire(lt),Qo(lt,!0)}finally{Tr=ct}}ut(Br,et(et({},$n),{delete:function(lt){return new Br(lt,{addons:[]}).delete()},exists:function(lt){return new Br(lt,{addons:[]}).open().then(function(ct){return ct.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(lt){try{return ct=Br.dependencies,ht=ct.indexedDB,ct=ct.IDBKeyRange,(Vo(ht)?Promise.resolve(ht.databases()).then(function(xt){return xt.map(function(Et){return Et.name}).filter(function(Et){return Et!==uo})}):Uo(ht,ct).toCollection().primaryKeys()).then(lt)}catch{return Un(new Jt.MissingAPI)}var ct,ht},defineClass:function(){return function(lt){it(this,lt)}},ignoreTransaction:function(lt){return yn.trans?Mr(yn.transless,lt):lt()},vip:qo,async:function(lt){return function(){try{var ct=Yo(lt.apply(this,arguments));return ct&&typeof ct.then=="function"?ct:mn.resolve(ct)}catch(ht){return Un(ht)}}},spawn:function(lt,ct,ht){try{var xt=Yo(lt.apply(ht,ct||[]));return xt&&typeof xt.then=="function"?xt:mn.resolve(xt)}catch(Et){return Un(Et)}},currentTransaction:{get:function(){return yn.trans||null}},waitFor:function(lt,ct){return ct=mn.resolve(typeof lt=="function"?Br.ignoreTransaction(lt):lt).timeout(ct||6e4),yn.trans?yn.trans.waitFor(ct):ct},Promise:mn,debug:{get:function(){return tr},set:function(lt){Yr(lt)}},derive:gt,extend:it,props:ut,override:_t,Events:Zr,on:Ar,liveQuery:Os,extendObservabilitySet:wo,getByKeyPath:kt,setByKeyPath:St,delByKeyPath:function(lt,ct){typeof ct=="string"?St(lt,ct,void 0):"length"in ct&&[].map.call(ct,function(ht){St(lt,ht,void 0)})},shallowClone:wt,deepClone:hn,getObjectDiff:Xo,cmp:In,asap:At,minKey:-1/0,addons:[],connections:Kr,errnames:tn,dependencies:Ro,cache:Fr,semVer:"4.0.8",version:"4.0.8".split(".").map(function(lt){return parseInt(lt)}).reduce(function(lt,ct,ht){return lt+ct/Math.pow(10,2*ht)})})),Br.maxKey=oo(Br.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ar(ro,function(lt){Tr||(lt=new CustomEvent(Io,{detail:lt}),Tr=!0,dispatchEvent(lt),Tr=!1)}),addEventListener(Io,function(lt){lt=lt.detail,Tr||ns(lt)}));var Qr,Tr=!1,Ns=function(){};return typeof BroadcastChannel<"u"&&((Ns=function(){(Qr=new BroadcastChannel(Io)).onmessage=function(lt){return lt.data&&ns(lt.data)}})(),typeof Qr.unref=="function"&&Qr.unref(),Ar(ro,function(lt){Tr||Qr.postMessage(lt)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(lt){if(!yr.disableBfCache&&lt.persisted){tr&&console.debug("Dexie: handling persisted pagehide"),Qr!=null&&Qr.close();for(var ct=0,ht=Kr;ct<ht.length;ct++)ht[ct].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(lt){!yr.disableBfCache&&lt.persisted&&(tr&&console.debug("Dexie: handling persisted pageshow"),Ns(),ns({all:new Zn(-1/0,[[]])}))})),mn.rejectionMapper=function(lt,ct){return!lt||lt instanceof wn||lt instanceof TypeError||lt instanceof SyntaxError||!lt.name||!Sn[lt.name]?lt:(ct=new Sn[lt.name](ct||lt.message,lt),"stack"in lt&&pt(ct,"stack",{get:function(){return this.inner.stack}}),ct)},Yr(tr),et(yr,Object.freeze({__proto__:null,Dexie:yr,liveQuery:Os,Entity:us,cmp:In,PropModSymbol:xr,PropModification:eo,replacePrefix:function(lt,ct){return new eo({replacePrefix:[lt,ct]})},add:function(lt){return new eo({add:lt})},remove:function(lt){return new eo({remove:lt})},default:yr,RangeSet:Zn,mergeRanges:ao,rangesOverlap:bs}),{default:yr}),yr})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);class QspiderDatabase extends Dexie{constructor(){super("QspiderDatabase"),this.version(2).stores({games:"id, title",gameResources:"++, game_id, &[game_id+path]",gameSaves:"++, game_id, &[game_id+key+slot], slot, [game_id+slot], [game_id+key]"})}}class WebStorage{constructor(){this.db=new QspiderDatabase}async prepareLoadConfig($,_e){return{url:`/qspider-files/${$}/`,entrypoint:_e}}async getGames(){return(await this.db.games.toArray()).reduce((_e,et)=>(_e[et.id]=et,_e),{})}async addGame($,_e){await this.db.games.put(_e,$)}async updateGame($,_e){await this.db.games.update($,_e)}async removeGame($){await this.db.transaction("rw",this.db.games,this.db.gameResources,async()=>{await this.db.games.delete($),await this.db.gameResources.where("game_id").equals($).delete()})}async addGameResource($,_e,et){const tt=_e.toLowerCase();await this.db.gameResources.where({game_id:$,path:tt}).delete(),await this.db.gameResources.put({game_id:$,path:tt,content:et})}async getGameResource($,_e){const et=_e.toLowerCase(),tt=await this.db.gameResources.where({game_id:$,path:et}).first();return(tt==null?void 0:tt.content)||null}async saveByKey($,_e,et){await this.db.gameSaves.where({game_id:$,key:_e,slot:-1}).delete();const tt={timestamp:Date.now(),game_id:$,key:_e,slot:-1,data:et};await this.db.gameSaves.put(tt)}async saveBySlot($,_e,et){await this.db.gameSaves.where({game_id:$,key:"",slot:_e}).delete();const tt={timestamp:Date.now(),game_id:$,key:"",slot:_e,data:et};await this.db.gameSaves.put(tt)}async hasSaveByKey($,_e){return await this.db.gameSaves.where({game_id:$,key:_e}).count()>0}async hasSaveBySlot($,_e){return await this.db.gameSaves.where({game_id:$,slot:_e}).count()>0}async getSaveDataByKey($,_e){const et=await this.db.gameSaves.where({game_id:$,key:_e}).first();return(et==null?void 0:et.data)||null}async getSaveDataBySlot($,_e){const et=await this.db.gameSaves.where({game_id:$,slot:_e}).first();return(et==null?void 0:et.data)||null}async getSavedSlots($){return await this.db.gameSaves.where({game_id:$}).and(_e=>_e.slot>0).toArray()}async getNamedSaves($){return await this.db.gameSaves.where({game_id:$}).and(_e=>_e.key!=="").toArray()}async clearSaveSlot($,_e){await this.db.gameSaves.where({game_id:$,key:"",slot:_e}).delete()}async clearSaveKey($,_e){await this.db.gameSaves.where({game_id:$,key:_e,slot:-1}).delete()}}const MIN_SIZE_ID="min-size-style",MAX_SIZE_ID="max-size-style",windowManager={isBrowser:!0,platform:detectPlatform(),setTitle(j){document.title=j},setIcon(j){document.getElementById("favicon").href=j},goFullscreen(){var j;document.fullscreenEnabled&&((j=document.querySelector("qsp-game-root"))==null||j.requestFullscreen().catch(()=>{function $(){var _e;(_e=document.querySelector("qsp-game-root"))==null||_e.requestFullscreen(),document.removeEventListener("click",$)}document.addEventListener("click",$)}))},goWindowed(){document.fullscreenEnabled&&document.exitFullscreen()},async setMinSize(j,$){const _e=document.createElement("style");_e.innerText=`qsp-game-root {min-width: ${j}px;min-height:${$}px;}`,_e.id=MIN_SIZE_ID,document.body.appendChild(_e)},unsetMinSize(){var j;(j=document.getElementById(MIN_SIZE_ID))==null||j.remove()},async setMaxSize(j,$){const _e=document.createElement("style");_e.innerText=`qsp-game-root {max-width: ${j}px;max-height:${$}px;}`,_e.id=MAX_SIZE_ID,document.body.appendChild(_e)},unsetMaxSize(){var j;(j=document.getElementById(MAX_SIZE_ID))==null||j.remove()},setResizable(j){},async resize(j,$){},closeWindow(){window.close()}};function detectPlatform(){const j=navigator.userAgent;return j.includes("Windows")?"Windows":j.includes("Macintosh")?"Macintosh":j.includes("Linux")?"Linux":"Unknown"}async function init(){var ot;initialBaseUrl$.set(prepareBaseUrl(window.location.href)),onGameEnd$.set(()=>navigateTo("")),initTheme(),storage$.set(new WebStorage),windowManager$.set(windowManager),await loadGamesFromStorage();const j=window.location.search,$=new URLSearchParams(j),_e=$.get("config"),tt=$.get("game")||_e;let nt=null;if(tt){const it=await importUrl(tt);for(const at of it)games$.value[at.id]||games$.actions.add(at.id,at);nt=it[0].id}const rt=$.get("catalogId");if(rt){let it;for(const[at,ft]of Object.entries(games$.value))if(((ot=ft.meta)==null?void 0:ot.source_id)===rt){it=at;break}if(it)nt=it;else{await loadQspCatalog();const at=qspCatalogList$.value.find(ft=>ft.id===Number(rt));if(at){loadingMessage$.set(instance.t("Loading game from catalog..."));const[ft]=await moveToShelf(at);ft&&(nt=ft.id),loadingMessage$.set("")}else showError(instance.t("Game with id {{catalogId}} not found in catalog",{catalogId:rt}))}}initDeferred$.value.resolve(),await initQspApi(),await registerDefaultThemes(initialBaseUrl$.value),nt?goToGame(nt):await processLocationChange(window.location.search),baseInit$.set(!0)}const OpenGameButton=()=>{const{t:j}=useTranslation(),$=reactExports.useCallback(_e=>{var nt;const et=(nt=_e.target.files)==null?void 0:nt[0];if(!et)return;const tt=new FileReader;tt.onload=async function(rt){var it;const ot=(it=rt.target)==null?void 0:it.result;try{const at=await importFile(et.name,ot);for(const st of at)games$.actions.add(st.id,st);const ft=at[0].id;ft&&goToGame(ft)}catch(at){showError(at instanceof Error?at.message:String(at))}},tt.readAsArrayBuffer(et)},[]);return jsxRuntimeExports.jsxs("label",{className:"q-button q-open-game-button",htmlFor:"openGame",children:[j("Open game"),jsxRuntimeExports.jsx("input",{type:"file",id:"openGame",accept:".zip, .aqsp, .qsp, .qsps, .rar, .7z",onChange:$})]})};componentsRegistry$.actions.register(ProvidedComponents.OpenGameButton,OpenGameButton);init();const App=()=>useAtom_2(baseInit$)?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(QspiderLoader,{}),children:jsxRuntimeExports.jsxs(QspiderRoot,{children:[jsxRuntimeExports.jsx(PlayerWithShelf,{}),jsxRuntimeExports.jsx(ErrorAlert,{}),jsxRuntimeExports.jsx(NoticeToast,{})]})}):jsxRuntimeExports.jsx(QspiderLoader,{}),root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));"serviceWorker"in navigator&&new l$2(new URL("./service-worker.js",window.location.href).toString(),{type:"classic"}).register();export{getAugmentedNamespace as g};
