var Cp=Object.defineProperty;var Ap=(or,ar,cr)=>ar in or?Cp(or,ar,{enumerable:!0,configurable:!0,writable:!0,value:cr}):or[ar]=cr;var Fs=(or,ar,cr)=>(Ap(or,typeof ar!="symbol"?ar+"":ar,cr),cr);function _mergeNamespaces(or,ar){for(var cr=0;cr<ar.length;cr++){const lr=ar[cr];if(typeof lr!="string"&&!Array.isArray(lr)){for(const ur in lr)if(ur!=="default"&&!(ur in or)){const fr=Object.getOwnPropertyDescriptor(lr,ur);fr&&Object.defineProperty(or,ur,fr.get?fr:{enumerable:!0,get:()=>lr[ur]})}}}return Object.freeze(Object.defineProperty(or,Symbol.toStringTag,{value:"Module"}))}(function(){const ar=document.createElement("link").relList;if(ar&&ar.supports&&ar.supports("modulepreload"))return;for(const ur of document.querySelectorAll('link[rel="modulepreload"]'))lr(ur);new MutationObserver(ur=>{for(const fr of ur)if(fr.type==="childList")for(const dr of fr.addedNodes)dr.tagName==="LINK"&&dr.rel==="modulepreload"&&lr(dr)}).observe(document,{childList:!0,subtree:!0});function cr(ur){const fr={};return ur.integrity&&(fr.integrity=ur.integrity),ur.referrerPolicy&&(fr.referrerPolicy=ur.referrerPolicy),ur.crossOrigin==="use-credentials"?fr.credentials="include":ur.crossOrigin==="anonymous"?fr.credentials="omit":fr.credentials="same-origin",fr}function lr(ur){if(ur.ep)return;ur.ep=!0;const fr=cr(ur);fetch(ur.href,fr)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(or){return or&&or.__esModule&&Object.prototype.hasOwnProperty.call(or,"default")?or.default:or}function getAugmentedNamespace(or){if(or.__esModule)return or;var ar=or.default;if(typeof ar=="function"){var cr=function lr(){return this instanceof lr?Reflect.construct(ar,arguments,this.constructor):ar.apply(this,arguments)};cr.prototype=ar.prototype}else cr={};return Object.defineProperty(cr,"__esModule",{value:!0}),Object.keys(or).forEach(function(lr){var ur=Object.getOwnPropertyDescriptor(or,lr);Object.defineProperty(cr,lr,ur.get?ur:{enumerable:!0,get:function(){return or[lr]}})}),cr}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$2={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(or){return or===null||typeof or!="object"?null:(or=z$2&&or[z$2]||or["@@iterator"],typeof or=="function"?or:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(or,ar,cr){this.props=or,this.context=ar,this.refs=D$2,this.updater=cr||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(or,ar){if(typeof or!="object"&&typeof or!="function"&&or!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,or,ar,"setState")};E$2.prototype.forceUpdate=function(or){this.updater.enqueueForceUpdate(this,or,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(or,ar,cr){this.props=or,this.context=ar,this.refs=D$2,this.updater=cr||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(or,ar,cr){var lr,ur={},fr=null,dr=null;if(ar!=null)for(lr in ar.ref!==void 0&&(dr=ar.ref),ar.key!==void 0&&(fr=""+ar.key),ar)J$1.call(ar,lr)&&!L$2.hasOwnProperty(lr)&&(ur[lr]=ar[lr]);var pr=arguments.length-2;if(pr===1)ur.children=cr;else if(1<pr){for(var mr=Array(pr),gr=0;gr<pr;gr++)mr[gr]=arguments[gr+2];ur.children=mr}if(or&&or.defaultProps)for(lr in pr=or.defaultProps,pr)ur[lr]===void 0&&(ur[lr]=pr[lr]);return{$$typeof:l$4,type:or,key:fr,ref:dr,props:ur,_owner:K$2.current}}function N$2(or,ar){return{$$typeof:l$4,type:or.type,key:ar,ref:or.ref,props:or.props,_owner:or._owner}}function O$2(or){return typeof or=="object"&&or!==null&&or.$$typeof===l$4}function escape$1(or){var ar={"=":"=0",":":"=2"};return"$"+or.replace(/[=:]/g,function(cr){return ar[cr]})}var P$2=/\/+/g;function Q$2(or,ar){return typeof or=="object"&&or!==null&&or.key!=null?escape$1(""+or.key):ar.toString(36)}function R$2(or,ar,cr,lr,ur){var fr=typeof or;(fr==="undefined"||fr==="boolean")&&(or=null);var dr=!1;if(or===null)dr=!0;else switch(fr){case"string":case"number":dr=!0;break;case"object":switch(or.$$typeof){case l$4:case n$6:dr=!0}}if(dr)return dr=or,ur=ur(dr),or=lr===""?"."+Q$2(dr,0):lr,I$2(ur)?(cr="",or!=null&&(cr=or.replace(P$2,"$&/")+"/"),R$2(ur,ar,cr,"",function(gr){return gr})):ur!=null&&(O$2(ur)&&(ur=N$2(ur,cr+(!ur.key||dr&&dr.key===ur.key?"":(""+ur.key).replace(P$2,"$&/")+"/")+or)),ar.push(ur)),1;if(dr=0,lr=lr===""?".":lr+":",I$2(or))for(var pr=0;pr<or.length;pr++){fr=or[pr];var mr=lr+Q$2(fr,pr);dr+=R$2(fr,ar,cr,mr,ur)}else if(mr=A$2(or),typeof mr=="function")for(or=mr.call(or),pr=0;!(fr=or.next()).done;)fr=fr.value,mr=lr+Q$2(fr,pr++),dr+=R$2(fr,ar,cr,mr,ur);else if(fr==="object")throw ar=String(or),Error("Objects are not valid as a React child (found: "+(ar==="[object Object]"?"object with keys {"+Object.keys(or).join(", ")+"}":ar)+"). If you meant to render a collection of children, use an array instead.");return dr}function S$3(or,ar,cr){if(or==null)return or;var lr=[],ur=0;return R$2(or,lr,"","",function(fr){return ar.call(cr,fr,ur++)}),lr}function T$2(or){if(or._status===-1){var ar=or._result;ar=ar(),ar.then(function(cr){(or._status===0||or._status===-1)&&(or._status=1,or._result=cr)},function(cr){(or._status===0||or._status===-1)&&(or._status=2,or._result=cr)}),or._status===-1&&(or._status=0,or._result=ar)}if(or._status===1)return or._result.default;throw or._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$3,forEach:function(or,ar,cr){S$3(or,function(){ar.apply(this,arguments)},cr)},count:function(or){var ar=0;return S$3(or,function(){ar++}),ar},toArray:function(or){return S$3(or,function(ar){return ar})||[]},only:function(or){if(!O$2(or))throw Error("React.Children.only expected to receive a single React element child.");return or}};react_production_min.Component=E$2;react_production_min.Fragment=p$5;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(or,ar,cr){if(or==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+or+".");var lr=C$2({},or.props),ur=or.key,fr=or.ref,dr=or._owner;if(ar!=null){if(ar.ref!==void 0&&(fr=ar.ref,dr=K$2.current),ar.key!==void 0&&(ur=""+ar.key),or.type&&or.type.defaultProps)var pr=or.type.defaultProps;for(mr in ar)J$1.call(ar,mr)&&!L$2.hasOwnProperty(mr)&&(lr[mr]=ar[mr]===void 0&&pr!==void 0?pr[mr]:ar[mr])}var mr=arguments.length-2;if(mr===1)lr.children=cr;else if(1<mr){pr=Array(mr);for(var gr=0;gr<mr;gr++)pr[gr]=arguments[gr+2];lr.children=pr}return{$$typeof:l$4,type:or.type,key:ur,ref:fr,props:lr,_owner:dr}};react_production_min.createContext=function(or){return or={$$typeof:u$4,_currentValue:or,_currentValue2:or,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},or.Provider={$$typeof:t$5,_context:or},or.Consumer=or};react_production_min.createElement=M$2;react_production_min.createFactory=function(or){var ar=M$2.bind(null,or);return ar.type=or,ar};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(or){return{$$typeof:v$4,render:or}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(or){return{$$typeof:y$2,_payload:{_status:-1,_result:or},_init:T$2}};react_production_min.memo=function(or,ar){return{$$typeof:x$2,type:or,compare:ar===void 0?null:ar}};react_production_min.startTransition=function(or){var ar=V$2.transition;V$2.transition={};try{or()}finally{V$2.transition=ar}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(or,ar){return U$2.current.useCallback(or,ar)};react_production_min.useContext=function(or){return U$2.current.useContext(or)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(or){return U$2.current.useDeferredValue(or)};react_production_min.useEffect=function(or,ar){return U$2.current.useEffect(or,ar)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(or,ar,cr){return U$2.current.useImperativeHandle(or,ar,cr)};react_production_min.useInsertionEffect=function(or,ar){return U$2.current.useInsertionEffect(or,ar)};react_production_min.useLayoutEffect=function(or,ar){return U$2.current.useLayoutEffect(or,ar)};react_production_min.useMemo=function(or,ar){return U$2.current.useMemo(or,ar)};react_production_min.useReducer=function(or,ar,cr){return U$2.current.useReducer(or,ar,cr)};react_production_min.useRef=function(or){return U$2.current.useRef(or)};react_production_min.useState=function(or){return U$2.current.useState(or)};react_production_min.useSyncExternalStore=function(or,ar,cr){return U$2.current.useSyncExternalStore(or,ar,cr)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react$2.exports=react_production_min;var reactExports=react$2.exports;const React$1=getDefaultExportFromCjs(reactExports),$2AODx$react=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$2=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$5=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$2(or,ar,cr){var lr,ur={},fr=null,dr=null;cr!==void 0&&(fr=""+cr),ar.key!==void 0&&(fr=""+ar.key),ar.ref!==void 0&&(dr=ar.ref);for(lr in ar)m$4.call(ar,lr)&&!p$4.hasOwnProperty(lr)&&(ur[lr]=ar[lr]);if(or&&or.defaultProps)for(lr in ar=or.defaultProps,ar)ur[lr]===void 0&&(ur[lr]=ar[lr]);return{$$typeof:k$2,type:or,key:fr,ref:dr,props:ur,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(or){function ar(Wr,Ur){var ro=Wr.length;Wr.push(Ur);e:for(;0<ro;){var Gr=ro-1>>>1,Qr=Wr[Gr];if(0<ur(Qr,Ur))Wr[Gr]=Ur,Wr[ro]=Qr,ro=Gr;else break e}}function cr(Wr){return Wr.length===0?null:Wr[0]}function lr(Wr){if(Wr.length===0)return null;var Ur=Wr[0],ro=Wr.pop();if(ro!==Ur){Wr[0]=ro;e:for(var Gr=0,Qr=Wr.length,lo=Qr>>>1;Gr<lo;){var ao=2*(Gr+1)-1,Yr=Wr[ao],io=ao+1,Jr=Wr[io];if(0>ur(Yr,ro))io<Qr&&0>ur(Jr,Yr)?(Wr[Gr]=Jr,Wr[io]=ro,Gr=io):(Wr[Gr]=Yr,Wr[ao]=ro,Gr=ao);else if(io<Qr&&0>ur(Jr,ro))Wr[Gr]=Jr,Wr[io]=ro,Gr=io;else break e}}return Ur}function ur(Wr,Ur){var ro=Wr.sortIndex-Ur.sortIndex;return ro!==0?ro:Wr.id-Ur.id}if(typeof performance=="object"&&typeof performance.now=="function"){var fr=performance;or.unstable_now=function(){return fr.now()}}else{var dr=Date,pr=dr.now();or.unstable_now=function(){return dr.now()-pr}}var mr=[],gr=[],vr=1,hr=null,$r=3,xr=!1,br=!1,Er=!1,wr=typeof setTimeout=="function"?setTimeout:null,yr=typeof clearTimeout=="function"?clearTimeout:null,_r=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Sr(Wr){for(var Ur=cr(gr);Ur!==null;){if(Ur.callback===null)lr(gr);else if(Ur.startTime<=Wr)lr(gr),Ur.sortIndex=Ur.expirationTime,ar(mr,Ur);else break;Ur=cr(gr)}}function Pr(Wr){if(Er=!1,Sr(Wr),!br)if(cr(mr)!==null)br=!0,no(Or);else{var Ur=cr(gr);Ur!==null&&eo(Pr,Ur.startTime-Wr)}}function Or(Wr,Ur){br=!1,Er&&(Er=!1,yr(jr),jr=-1),xr=!0;var ro=$r;try{for(Sr(Ur),hr=cr(mr);hr!==null&&(!(hr.expirationTime>Ur)||Wr&&!Vr());){var Gr=hr.callback;if(typeof Gr=="function"){hr.callback=null,$r=hr.priorityLevel;var Qr=Gr(hr.expirationTime<=Ur);Ur=or.unstable_now(),typeof Qr=="function"?hr.callback=Qr:hr===cr(mr)&&lr(mr),Sr(Ur)}else lr(mr);hr=cr(mr)}if(hr!==null)var lo=!0;else{var ao=cr(gr);ao!==null&&eo(Pr,ao.startTime-Ur),lo=!1}return lo}finally{hr=null,$r=ro,xr=!1}}var Lr=!1,Tr=null,jr=-1,Rr=5,Fr=-1;function Vr(){return!(or.unstable_now()-Fr<Rr)}function Zr(){if(Tr!==null){var Wr=or.unstable_now();Fr=Wr;var Ur=!0;try{Ur=Tr(!0,Wr)}finally{Ur?so():(Lr=!1,Tr=null)}}else Lr=!1}var so;if(typeof _r=="function")so=function(){_r(Zr)};else if(typeof MessageChannel<"u"){var Ir=new MessageChannel,Kr=Ir.port2;Ir.port1.onmessage=Zr,so=function(){Kr.postMessage(null)}}else so=function(){wr(Zr,0)};function no(Wr){Tr=Wr,Lr||(Lr=!0,so())}function eo(Wr,Ur){jr=wr(function(){Wr(or.unstable_now())},Ur)}or.unstable_IdlePriority=5,or.unstable_ImmediatePriority=1,or.unstable_LowPriority=4,or.unstable_NormalPriority=3,or.unstable_Profiling=null,or.unstable_UserBlockingPriority=2,or.unstable_cancelCallback=function(Wr){Wr.callback=null},or.unstable_continueExecution=function(){br||xr||(br=!0,no(Or))},or.unstable_forceFrameRate=function(Wr){0>Wr||125<Wr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rr=0<Wr?Math.floor(1e3/Wr):5},or.unstable_getCurrentPriorityLevel=function(){return $r},or.unstable_getFirstCallbackNode=function(){return cr(mr)},or.unstable_next=function(Wr){switch($r){case 1:case 2:case 3:var Ur=3;break;default:Ur=$r}var ro=$r;$r=Ur;try{return Wr()}finally{$r=ro}},or.unstable_pauseExecution=function(){},or.unstable_requestPaint=function(){},or.unstable_runWithPriority=function(Wr,Ur){switch(Wr){case 1:case 2:case 3:case 4:case 5:break;default:Wr=3}var ro=$r;$r=Wr;try{return Ur()}finally{$r=ro}},or.unstable_scheduleCallback=function(Wr,Ur,ro){var Gr=or.unstable_now();switch(typeof ro=="object"&&ro!==null?(ro=ro.delay,ro=typeof ro=="number"&&0<ro?Gr+ro:Gr):ro=Gr,Wr){case 1:var Qr=-1;break;case 2:Qr=250;break;case 5:Qr=1073741823;break;case 4:Qr=1e4;break;default:Qr=5e3}return Qr=ro+Qr,Wr={id:vr++,callback:Ur,priorityLevel:Wr,startTime:ro,expirationTime:Qr,sortIndex:-1},ro>Gr?(Wr.sortIndex=ro,ar(gr,Wr),cr(mr)===null&&Wr===cr(gr)&&(Er?(yr(jr),jr=-1):Er=!0,eo(Pr,ro-Gr))):(Wr.sortIndex=Qr,ar(mr,Wr),br||xr||(br=!0,no(Or))),Wr},or.unstable_shouldYield=Vr,or.unstable_wrapCallback=function(Wr){var Ur=$r;return function(){var ro=$r;$r=Ur;try{return Wr.apply(this,arguments)}finally{$r=ro}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(or){for(var ar="https://reactjs.org/docs/error-decoder.html?invariant="+or,cr=1;cr<arguments.length;cr++)ar+="&args[]="+encodeURIComponent(arguments[cr]);return"Minified React error #"+or+"; visit "+ar+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(or,ar){ha(or,ar),ha(or+"Capture",ar)}function ha(or,ar){for(ea[or]=ar,or=0;or<ar.length;or++)da.add(ar[or])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(or){return ja.call(ma,or)?!0:ja.call(la,or)?!1:ka.test(or)?ma[or]=!0:(la[or]=!0,!1)}function pa(or,ar,cr,lr){if(cr!==null&&cr.type===0)return!1;switch(typeof ar){case"function":case"symbol":return!0;case"boolean":return lr?!1:cr!==null?!cr.acceptsBooleans:(or=or.toLowerCase().slice(0,5),or!=="data-"&&or!=="aria-");default:return!1}}function qa(or,ar,cr,lr){if(ar===null||typeof ar>"u"||pa(or,ar,cr,lr))return!0;if(lr)return!1;if(cr!==null)switch(cr.type){case 3:return!ar;case 4:return ar===!1;case 5:return isNaN(ar);case 6:return isNaN(ar)||1>ar}return!1}function v$3(or,ar,cr,lr,ur,fr,dr){this.acceptsBooleans=ar===2||ar===3||ar===4,this.attributeName=lr,this.attributeNamespace=ur,this.mustUseProperty=cr,this.propertyName=or,this.type=ar,this.sanitizeURL=fr,this.removeEmptyString=dr}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(or){z$1[or]=new v$3(or,0,!1,or,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(or){var ar=or[0];z$1[ar]=new v$3(ar,1,!1,or[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(or){z$1[or]=new v$3(or,2,!1,or.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(or){z$1[or]=new v$3(or,2,!1,or,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(or){z$1[or]=new v$3(or,3,!1,or.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(or){z$1[or]=new v$3(or,3,!0,or,null,!1,!1)});["capture","download"].forEach(function(or){z$1[or]=new v$3(or,4,!1,or,null,!1,!1)});["cols","rows","size","span"].forEach(function(or){z$1[or]=new v$3(or,6,!1,or,null,!1,!1)});["rowSpan","start"].forEach(function(or){z$1[or]=new v$3(or,5,!1,or.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(or){return or[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(or){var ar=or.replace(ra,sa);z$1[ar]=new v$3(ar,1,!1,or,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(or){var ar=or.replace(ra,sa);z$1[ar]=new v$3(ar,1,!1,or,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(or){var ar=or.replace(ra,sa);z$1[ar]=new v$3(ar,1,!1,or,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(or){z$1[or]=new v$3(or,1,!1,or.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(or){z$1[or]=new v$3(or,1,!1,or.toLowerCase(),null,!0,!0)});function ta(or,ar,cr,lr){var ur=z$1.hasOwnProperty(ar)?z$1[ar]:null;(ur!==null?ur.type!==0:lr||!(2<ar.length)||ar[0]!=="o"&&ar[0]!=="O"||ar[1]!=="n"&&ar[1]!=="N")&&(qa(ar,cr,ur,lr)&&(cr=null),lr||ur===null?oa(ar)&&(cr===null?or.removeAttribute(ar):or.setAttribute(ar,""+cr)):ur.mustUseProperty?or[ur.propertyName]=cr===null?ur.type===3?!1:"":cr:(ar=ur.attributeName,lr=ur.attributeNamespace,cr===null?or.removeAttribute(ar):(ur=ur.type,cr=ur===3||ur===4&&cr===!0?"":""+cr,lr?or.setAttributeNS(lr,ar,cr):or.setAttribute(ar,cr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(or){return or===null||typeof or!="object"?null:(or=Ja&&or[Ja]||or["@@iterator"],typeof or=="function"?or:null)}var A$1=Object.assign,La;function Ma(or){if(La===void 0)try{throw Error()}catch(cr){var ar=cr.stack.trim().match(/\n( *(at )?)/);La=ar&&ar[1]||""}return`
`+La+or}var Na=!1;function Oa(or,ar){if(!or||Na)return"";Na=!0;var cr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ar)if(ar=function(){throw Error()},Object.defineProperty(ar.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ar,[])}catch(gr){var lr=gr}Reflect.construct(or,[],ar)}else{try{ar.call()}catch(gr){lr=gr}or.call(ar.prototype)}else{try{throw Error()}catch(gr){lr=gr}or()}}catch(gr){if(gr&&lr&&typeof gr.stack=="string"){for(var ur=gr.stack.split(`
`),fr=lr.stack.split(`
`),dr=ur.length-1,pr=fr.length-1;1<=dr&&0<=pr&&ur[dr]!==fr[pr];)pr--;for(;1<=dr&&0<=pr;dr--,pr--)if(ur[dr]!==fr[pr]){if(dr!==1||pr!==1)do if(dr--,pr--,0>pr||ur[dr]!==fr[pr]){var mr=`
`+ur[dr].replace(" at new "," at ");return or.displayName&&mr.includes("<anonymous>")&&(mr=mr.replace("<anonymous>",or.displayName)),mr}while(1<=dr&&0<=pr);break}}}finally{Na=!1,Error.prepareStackTrace=cr}return(or=or?or.displayName||or.name:"")?Ma(or):""}function Pa(or){switch(or.tag){case 5:return Ma(or.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return or=Oa(or.type,!1),or;case 11:return or=Oa(or.type.render,!1),or;case 1:return or=Oa(or.type,!0),or;default:return""}}function Qa(or){if(or==null)return null;if(typeof or=="function")return or.displayName||or.name||null;if(typeof or=="string")return or;switch(or){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof or=="object")switch(or.$$typeof){case Ca:return(or.displayName||"Context")+".Consumer";case Ba:return(or._context.displayName||"Context")+".Provider";case Da:var ar=or.render;return or=or.displayName,or||(or=ar.displayName||ar.name||"",or=or!==""?"ForwardRef("+or+")":"ForwardRef"),or;case Ga:return ar=or.displayName||null,ar!==null?ar:Qa(or.type)||"Memo";case Ha:ar=or._payload,or=or._init;try{return Qa(or(ar))}catch{}}return null}function Ra(or){var ar=or.type;switch(or.tag){case 24:return"Cache";case 9:return(ar.displayName||"Context")+".Consumer";case 10:return(ar._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return or=ar.render,or=or.displayName||or.name||"",ar.displayName||(or!==""?"ForwardRef("+or+")":"ForwardRef");case 7:return"Fragment";case 5:return ar;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(ar);case 8:return ar===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ar=="function")return ar.displayName||ar.name||null;if(typeof ar=="string")return ar}return null}function Sa(or){switch(typeof or){case"boolean":case"number":case"string":case"undefined":return or;case"object":return or;default:return""}}function Ta(or){var ar=or.type;return(or=or.nodeName)&&or.toLowerCase()==="input"&&(ar==="checkbox"||ar==="radio")}function Ua(or){var ar=Ta(or)?"checked":"value",cr=Object.getOwnPropertyDescriptor(or.constructor.prototype,ar),lr=""+or[ar];if(!or.hasOwnProperty(ar)&&typeof cr<"u"&&typeof cr.get=="function"&&typeof cr.set=="function"){var ur=cr.get,fr=cr.set;return Object.defineProperty(or,ar,{configurable:!0,get:function(){return ur.call(this)},set:function(dr){lr=""+dr,fr.call(this,dr)}}),Object.defineProperty(or,ar,{enumerable:cr.enumerable}),{getValue:function(){return lr},setValue:function(dr){lr=""+dr},stopTracking:function(){or._valueTracker=null,delete or[ar]}}}}function Va(or){or._valueTracker||(or._valueTracker=Ua(or))}function Wa(or){if(!or)return!1;var ar=or._valueTracker;if(!ar)return!0;var cr=ar.getValue(),lr="";return or&&(lr=Ta(or)?or.checked?"true":"false":or.value),or=lr,or!==cr?(ar.setValue(or),!0):!1}function Xa(or){if(or=or||(typeof document<"u"?document:void 0),typeof or>"u")return null;try{return or.activeElement||or.body}catch{return or.body}}function Ya(or,ar){var cr=ar.checked;return A$1({},ar,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:cr??or._wrapperState.initialChecked})}function Za(or,ar){var cr=ar.defaultValue==null?"":ar.defaultValue,lr=ar.checked!=null?ar.checked:ar.defaultChecked;cr=Sa(ar.value!=null?ar.value:cr),or._wrapperState={initialChecked:lr,initialValue:cr,controlled:ar.type==="checkbox"||ar.type==="radio"?ar.checked!=null:ar.value!=null}}function ab(or,ar){ar=ar.checked,ar!=null&&ta(or,"checked",ar,!1)}function bb(or,ar){ab(or,ar);var cr=Sa(ar.value),lr=ar.type;if(cr!=null)lr==="number"?(cr===0&&or.value===""||or.value!=cr)&&(or.value=""+cr):or.value!==""+cr&&(or.value=""+cr);else if(lr==="submit"||lr==="reset"){or.removeAttribute("value");return}ar.hasOwnProperty("value")?cb(or,ar.type,cr):ar.hasOwnProperty("defaultValue")&&cb(or,ar.type,Sa(ar.defaultValue)),ar.checked==null&&ar.defaultChecked!=null&&(or.defaultChecked=!!ar.defaultChecked)}function db(or,ar,cr){if(ar.hasOwnProperty("value")||ar.hasOwnProperty("defaultValue")){var lr=ar.type;if(!(lr!=="submit"&&lr!=="reset"||ar.value!==void 0&&ar.value!==null))return;ar=""+or._wrapperState.initialValue,cr||ar===or.value||(or.value=ar),or.defaultValue=ar}cr=or.name,cr!==""&&(or.name=""),or.defaultChecked=!!or._wrapperState.initialChecked,cr!==""&&(or.name=cr)}function cb(or,ar,cr){(ar!=="number"||Xa(or.ownerDocument)!==or)&&(cr==null?or.defaultValue=""+or._wrapperState.initialValue:or.defaultValue!==""+cr&&(or.defaultValue=""+cr))}var eb=Array.isArray;function fb(or,ar,cr,lr){if(or=or.options,ar){ar={};for(var ur=0;ur<cr.length;ur++)ar["$"+cr[ur]]=!0;for(cr=0;cr<or.length;cr++)ur=ar.hasOwnProperty("$"+or[cr].value),or[cr].selected!==ur&&(or[cr].selected=ur),ur&&lr&&(or[cr].defaultSelected=!0)}else{for(cr=""+Sa(cr),ar=null,ur=0;ur<or.length;ur++){if(or[ur].value===cr){or[ur].selected=!0,lr&&(or[ur].defaultSelected=!0);return}ar!==null||or[ur].disabled||(ar=or[ur])}ar!==null&&(ar.selected=!0)}}function gb(or,ar){if(ar.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$1({},ar,{value:void 0,defaultValue:void 0,children:""+or._wrapperState.initialValue})}function hb(or,ar){var cr=ar.value;if(cr==null){if(cr=ar.children,ar=ar.defaultValue,cr!=null){if(ar!=null)throw Error(p$3(92));if(eb(cr)){if(1<cr.length)throw Error(p$3(93));cr=cr[0]}ar=cr}ar==null&&(ar=""),cr=ar}or._wrapperState={initialValue:Sa(cr)}}function ib(or,ar){var cr=Sa(ar.value),lr=Sa(ar.defaultValue);cr!=null&&(cr=""+cr,cr!==or.value&&(or.value=cr),ar.defaultValue==null&&or.defaultValue!==cr&&(or.defaultValue=cr)),lr!=null&&(or.defaultValue=""+lr)}function jb(or){var ar=or.textContent;ar===or._wrapperState.initialValue&&ar!==""&&ar!==null&&(or.value=ar)}function kb(or){switch(or){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(or,ar){return or==null||or==="http://www.w3.org/1999/xhtml"?kb(ar):or==="http://www.w3.org/2000/svg"&&ar==="foreignObject"?"http://www.w3.org/1999/xhtml":or}var mb,nb=function(or){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ar,cr,lr,ur){MSApp.execUnsafeLocalFunction(function(){return or(ar,cr,lr,ur)})}:or}(function(or,ar){if(or.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in or)or.innerHTML=ar;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+ar.valueOf().toString()+"</svg>",ar=mb.firstChild;or.firstChild;)or.removeChild(or.firstChild);for(;ar.firstChild;)or.appendChild(ar.firstChild)}});function ob(or,ar){if(ar){var cr=or.firstChild;if(cr&&cr===or.lastChild&&cr.nodeType===3){cr.nodeValue=ar;return}}or.textContent=ar}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(or){qb.forEach(function(ar){ar=ar+or.charAt(0).toUpperCase()+or.substring(1),pb[ar]=pb[or]})});function rb(or,ar,cr){return ar==null||typeof ar=="boolean"||ar===""?"":cr||typeof ar!="number"||ar===0||pb.hasOwnProperty(or)&&pb[or]?(""+ar).trim():ar+"px"}function sb(or,ar){or=or.style;for(var cr in ar)if(ar.hasOwnProperty(cr)){var lr=cr.indexOf("--")===0,ur=rb(cr,ar[cr],lr);cr==="float"&&(cr="cssFloat"),lr?or.setProperty(cr,ur):or[cr]=ur}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(or,ar){if(ar){if(tb[or]&&(ar.children!=null||ar.dangerouslySetInnerHTML!=null))throw Error(p$3(137,or));if(ar.dangerouslySetInnerHTML!=null){if(ar.children!=null)throw Error(p$3(60));if(typeof ar.dangerouslySetInnerHTML!="object"||!("__html"in ar.dangerouslySetInnerHTML))throw Error(p$3(61))}if(ar.style!=null&&typeof ar.style!="object")throw Error(p$3(62))}}function vb(or,ar){if(or.indexOf("-")===-1)return typeof ar.is=="string";switch(or){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(or){return or=or.target||or.srcElement||window,or.correspondingUseElement&&(or=or.correspondingUseElement),or.nodeType===3?or.parentNode:or}var yb=null,zb=null,Ab=null;function Bb(or){if(or=Cb(or)){if(typeof yb!="function")throw Error(p$3(280));var ar=or.stateNode;ar&&(ar=Db(ar),yb(or.stateNode,or.type,ar))}}function Eb(or){zb?Ab?Ab.push(or):Ab=[or]:zb=or}function Fb(){if(zb){var or=zb,ar=Ab;if(Ab=zb=null,Bb(or),ar)for(or=0;or<ar.length;or++)Bb(ar[or])}}function Gb(or,ar){return or(ar)}function Hb(){}var Ib=!1;function Jb(or,ar,cr){if(Ib)return or(ar,cr);Ib=!0;try{return Gb(or,ar,cr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(or,ar){var cr=or.stateNode;if(cr===null)return null;var lr=Db(cr);if(lr===null)return null;cr=lr[ar];e:switch(ar){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(lr=!lr.disabled)||(or=or.type,lr=!(or==="button"||or==="input"||or==="select"||or==="textarea")),or=!lr;break e;default:or=!1}if(or)return null;if(cr&&typeof cr!="function")throw Error(p$3(231,ar,typeof cr));return cr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(or,ar,cr,lr,ur,fr,dr,pr,mr){var gr=Array.prototype.slice.call(arguments,3);try{ar.apply(cr,gr)}catch(vr){this.onError(vr)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(or){Ob=!0,Pb=or}};function Tb(or,ar,cr,lr,ur,fr,dr,pr,mr){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(or,ar,cr,lr,ur,fr,dr,pr,mr){if(Tb.apply(this,arguments),Ob){if(Ob){var gr=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=gr)}}function Vb(or){var ar=or,cr=or;if(or.alternate)for(;ar.return;)ar=ar.return;else{or=ar;do ar=or,ar.flags&4098&&(cr=ar.return),or=ar.return;while(or)}return ar.tag===3?cr:null}function Wb(or){if(or.tag===13){var ar=or.memoizedState;if(ar===null&&(or=or.alternate,or!==null&&(ar=or.memoizedState)),ar!==null)return ar.dehydrated}return null}function Xb(or){if(Vb(or)!==or)throw Error(p$3(188))}function Yb(or){var ar=or.alternate;if(!ar){if(ar=Vb(or),ar===null)throw Error(p$3(188));return ar!==or?null:or}for(var cr=or,lr=ar;;){var ur=cr.return;if(ur===null)break;var fr=ur.alternate;if(fr===null){if(lr=ur.return,lr!==null){cr=lr;continue}break}if(ur.child===fr.child){for(fr=ur.child;fr;){if(fr===cr)return Xb(ur),or;if(fr===lr)return Xb(ur),ar;fr=fr.sibling}throw Error(p$3(188))}if(cr.return!==lr.return)cr=ur,lr=fr;else{for(var dr=!1,pr=ur.child;pr;){if(pr===cr){dr=!0,cr=ur,lr=fr;break}if(pr===lr){dr=!0,lr=ur,cr=fr;break}pr=pr.sibling}if(!dr){for(pr=fr.child;pr;){if(pr===cr){dr=!0,cr=fr,lr=ur;break}if(pr===lr){dr=!0,lr=fr,cr=ur;break}pr=pr.sibling}if(!dr)throw Error(p$3(189))}}if(cr.alternate!==lr)throw Error(p$3(190))}if(cr.tag!==3)throw Error(p$3(188));return cr.stateNode.current===cr?or:ar}function Zb(or){return or=Yb(or),or!==null?$b(or):null}function $b(or){if(or.tag===5||or.tag===6)return or;for(or=or.child;or!==null;){var ar=$b(or);if(ar!==null)return ar;or=or.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(or){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,or,void 0,(or.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(or){return or>>>=0,or===0?32:31-(pc(or)/qc|0)|0}var rc=64,sc=4194304;function tc(or){switch(or&-or){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return or&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return or&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return or}}function uc(or,ar){var cr=or.pendingLanes;if(cr===0)return 0;var lr=0,ur=or.suspendedLanes,fr=or.pingedLanes,dr=cr&268435455;if(dr!==0){var pr=dr&~ur;pr!==0?lr=tc(pr):(fr&=dr,fr!==0&&(lr=tc(fr)))}else dr=cr&~ur,dr!==0?lr=tc(dr):fr!==0&&(lr=tc(fr));if(lr===0)return 0;if(ar!==0&&ar!==lr&&!(ar&ur)&&(ur=lr&-lr,fr=ar&-ar,ur>=fr||ur===16&&(fr&4194240)!==0))return ar;if(lr&4&&(lr|=cr&16),ar=or.entangledLanes,ar!==0)for(or=or.entanglements,ar&=lr;0<ar;)cr=31-oc(ar),ur=1<<cr,lr|=or[cr],ar&=~ur;return lr}function vc(or,ar){switch(or){case 1:case 2:case 4:return ar+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ar+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(or,ar){for(var cr=or.suspendedLanes,lr=or.pingedLanes,ur=or.expirationTimes,fr=or.pendingLanes;0<fr;){var dr=31-oc(fr),pr=1<<dr,mr=ur[dr];mr===-1?(!(pr&cr)||pr&lr)&&(ur[dr]=vc(pr,ar)):mr<=ar&&(or.expiredLanes|=pr),fr&=~pr}}function xc(or){return or=or.pendingLanes&-1073741825,or!==0?or:or&1073741824?1073741824:0}function yc(){var or=rc;return rc<<=1,!(rc&4194240)&&(rc=64),or}function zc(or){for(var ar=[],cr=0;31>cr;cr++)ar.push(or);return ar}function Ac(or,ar,cr){or.pendingLanes|=ar,ar!==536870912&&(or.suspendedLanes=0,or.pingedLanes=0),or=or.eventTimes,ar=31-oc(ar),or[ar]=cr}function Bc(or,ar){var cr=or.pendingLanes&~ar;or.pendingLanes=ar,or.suspendedLanes=0,or.pingedLanes=0,or.expiredLanes&=ar,or.mutableReadLanes&=ar,or.entangledLanes&=ar,ar=or.entanglements;var lr=or.eventTimes;for(or=or.expirationTimes;0<cr;){var ur=31-oc(cr),fr=1<<ur;ar[ur]=0,lr[ur]=-1,or[ur]=-1,cr&=~fr}}function Cc(or,ar){var cr=or.entangledLanes|=ar;for(or=or.entanglements;cr;){var lr=31-oc(cr),ur=1<<lr;ur&ar|or[lr]&ar&&(or[lr]|=ar),cr&=~ur}}var C$1=0;function Dc(or){return or&=-or,1<or?4<or?or&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(or,ar){switch(or){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(ar.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(ar.pointerId)}}function Tc(or,ar,cr,lr,ur,fr){return or===null||or.nativeEvent!==fr?(or={blockedOn:ar,domEventName:cr,eventSystemFlags:lr,nativeEvent:fr,targetContainers:[ur]},ar!==null&&(ar=Cb(ar),ar!==null&&Fc(ar)),or):(or.eventSystemFlags|=lr,ar=or.targetContainers,ur!==null&&ar.indexOf(ur)===-1&&ar.push(ur),or)}function Uc(or,ar,cr,lr,ur){switch(ar){case"focusin":return Lc=Tc(Lc,or,ar,cr,lr,ur),!0;case"dragenter":return Mc=Tc(Mc,or,ar,cr,lr,ur),!0;case"mouseover":return Nc=Tc(Nc,or,ar,cr,lr,ur),!0;case"pointerover":var fr=ur.pointerId;return Oc.set(fr,Tc(Oc.get(fr)||null,or,ar,cr,lr,ur)),!0;case"gotpointercapture":return fr=ur.pointerId,Pc.set(fr,Tc(Pc.get(fr)||null,or,ar,cr,lr,ur)),!0}return!1}function Vc(or){var ar=Wc(or.target);if(ar!==null){var cr=Vb(ar);if(cr!==null){if(ar=cr.tag,ar===13){if(ar=Wb(cr),ar!==null){or.blockedOn=ar,Ic(or.priority,function(){Gc(cr)});return}}else if(ar===3&&cr.stateNode.current.memoizedState.isDehydrated){or.blockedOn=cr.tag===3?cr.stateNode.containerInfo:null;return}}}or.blockedOn=null}function Xc(or){if(or.blockedOn!==null)return!1;for(var ar=or.targetContainers;0<ar.length;){var cr=Yc(or.domEventName,or.eventSystemFlags,ar[0],or.nativeEvent);if(cr===null){cr=or.nativeEvent;var lr=new cr.constructor(cr.type,cr);wb=lr,cr.target.dispatchEvent(lr),wb=null}else return ar=Cb(cr),ar!==null&&Fc(ar),or.blockedOn=cr,!1;ar.shift()}return!0}function Zc(or,ar,cr){Xc(or)&&cr.delete(ar)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(or,ar){or.blockedOn===ar&&(or.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(or){function ar(ur){return ad(ur,or)}if(0<Kc.length){ad(Kc[0],or);for(var cr=1;cr<Kc.length;cr++){var lr=Kc[cr];lr.blockedOn===or&&(lr.blockedOn=null)}}for(Lc!==null&&ad(Lc,or),Mc!==null&&ad(Mc,or),Nc!==null&&ad(Nc,or),Oc.forEach(ar),Pc.forEach(ar),cr=0;cr<Qc.length;cr++)lr=Qc[cr],lr.blockedOn===or&&(lr.blockedOn=null);for(;0<Qc.length&&(cr=Qc[0],cr.blockedOn===null);)Vc(cr),cr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(or,ar,cr,lr){var ur=C$1,fr=cd.transition;cd.transition=null;try{C$1=1,fd$1(or,ar,cr,lr)}finally{C$1=ur,cd.transition=fr}}function gd(or,ar,cr,lr){var ur=C$1,fr=cd.transition;cd.transition=null;try{C$1=4,fd$1(or,ar,cr,lr)}finally{C$1=ur,cd.transition=fr}}function fd$1(or,ar,cr,lr){if(dd){var ur=Yc(or,ar,cr,lr);if(ur===null)hd(or,ar,lr,id,cr),Sc(or,lr);else if(Uc(ur,or,ar,cr,lr))lr.stopPropagation();else if(Sc(or,lr),ar&4&&-1<Rc.indexOf(or)){for(;ur!==null;){var fr=Cb(ur);if(fr!==null&&Ec(fr),fr=Yc(or,ar,cr,lr),fr===null&&hd(or,ar,lr,id,cr),fr===ur)break;ur=fr}ur!==null&&lr.stopPropagation()}else hd(or,ar,lr,null,cr)}}var id=null;function Yc(or,ar,cr,lr){if(id=null,or=xb(lr),or=Wc(or),or!==null)if(ar=Vb(or),ar===null)or=null;else if(cr=ar.tag,cr===13){if(or=Wb(ar),or!==null)return or;or=null}else if(cr===3){if(ar.stateNode.current.memoizedState.isDehydrated)return ar.tag===3?ar.stateNode.containerInfo:null;or=null}else ar!==or&&(or=null);return id=or,null}function jd(or){switch(or){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var or,ar=ld,cr=ar.length,lr,ur="value"in kd?kd.value:kd.textContent,fr=ur.length;for(or=0;or<cr&&ar[or]===ur[or];or++);var dr=cr-or;for(lr=1;lr<=dr&&ar[cr-lr]===ur[fr-lr];lr++);return md=ur.slice(or,1<lr?1-lr:void 0)}function od(or){var ar=or.keyCode;return"charCode"in or?(or=or.charCode,or===0&&ar===13&&(or=13)):or=ar,or===10&&(or=13),32<=or||or===13?or:0}function pd(){return!0}function qd(){return!1}function rd(or){function ar(cr,lr,ur,fr,dr){this._reactName=cr,this._targetInst=ur,this.type=lr,this.nativeEvent=fr,this.target=dr,this.currentTarget=null;for(var pr in or)or.hasOwnProperty(pr)&&(cr=or[pr],this[pr]=cr?cr(fr):fr[pr]);return this.isDefaultPrevented=(fr.defaultPrevented!=null?fr.defaultPrevented:fr.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(ar.prototype,{preventDefault:function(){this.defaultPrevented=!0;var cr=this.nativeEvent;cr&&(cr.preventDefault?cr.preventDefault():typeof cr.returnValue!="unknown"&&(cr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var cr=this.nativeEvent;cr&&(cr.stopPropagation?cr.stopPropagation():typeof cr.cancelBubble!="unknown"&&(cr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ar}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(or){return or.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(or){return or.relatedTarget===void 0?or.fromElement===or.srcElement?or.toElement:or.fromElement:or.relatedTarget},movementX:function(or){return"movementX"in or?or.movementX:(or!==yd&&(yd&&or.type==="mousemove"?(wd=or.screenX-yd.screenX,xd=or.screenY-yd.screenY):xd=wd=0,yd=or),wd)},movementY:function(or){return"movementY"in or?or.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(or){return"clipboardData"in or?or.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(or){var ar=this.nativeEvent;return ar.getModifierState?ar.getModifierState(or):(or=Od[or])?!!ar[or]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(or){if(or.key){var ar=Md[or.key]||or.key;if(ar!=="Unidentified")return ar}return or.type==="keypress"?(or=od(or),or===13?"Enter":String.fromCharCode(or)):or.type==="keydown"||or.type==="keyup"?Nd[or.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(or){return or.type==="keypress"?od(or):0},keyCode:function(or){return or.type==="keydown"||or.type==="keyup"?or.keyCode:0},which:function(or){return or.type==="keypress"?od(or):or.type==="keydown"||or.type==="keyup"?or.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(or){return"deltaX"in or?or.deltaX:"wheelDeltaX"in or?-or.wheelDeltaX:0},deltaY:function(or){return"deltaY"in or?or.deltaY:"wheelDeltaY"in or?-or.wheelDeltaY:"wheelDelta"in or?-or.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(or,ar){switch(or){case"keyup":return $d.indexOf(ar.keyCode)!==-1;case"keydown":return ar.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(or){return or=or.detail,typeof or=="object"&&"data"in or?or.data:null}var ie$1=!1;function je$1(or,ar){switch(or){case"compositionend":return he$1(ar);case"keypress":return ar.which!==32?null:(fe$1=!0,ee$1);case"textInput":return or=ar.data,or===ee$1&&fe$1?null:or;default:return null}}function ke$1(or,ar){if(ie$1)return or==="compositionend"||!ae$1&&ge$1(or,ar)?(or=nd(),md=ld=kd=null,ie$1=!1,or):null;switch(or){case"paste":return null;case"keypress":if(!(ar.ctrlKey||ar.altKey||ar.metaKey)||ar.ctrlKey&&ar.altKey){if(ar.char&&1<ar.char.length)return ar.char;if(ar.which)return String.fromCharCode(ar.which)}return null;case"compositionend":return de$1&&ar.locale!=="ko"?null:ar.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(or){var ar=or&&or.nodeName&&or.nodeName.toLowerCase();return ar==="input"?!!le$1[or.type]:ar==="textarea"}function ne$1(or,ar,cr,lr){Eb(lr),ar=oe$1(ar,"onChange"),0<ar.length&&(cr=new td$1("onChange","change",null,cr,lr),or.push({event:cr,listeners:ar}))}var pe$1=null,qe$1=null;function re$1(or){se$1(or,0)}function te$1(or){var ar=ue$1(or);if(Wa(ar))return or}function ve$1(or,ar){if(or==="change")return ar}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(or){if(or.propertyName==="value"&&te$1(qe$1)){var ar=[];ne$1(ar,qe$1,or,xb(or)),Jb(re$1,ar)}}function Ce$1(or,ar,cr){or==="focusin"?(Ae$1(),pe$1=ar,qe$1=cr,pe$1.attachEvent("onpropertychange",Be$1)):or==="focusout"&&Ae$1()}function De$1(or){if(or==="selectionchange"||or==="keyup"||or==="keydown")return te$1(qe$1)}function Ee$1(or,ar){if(or==="click")return te$1(ar)}function Fe$1(or,ar){if(or==="input"||or==="change")return te$1(ar)}function Ge$1(or,ar){return or===ar&&(or!==0||1/or===1/ar)||or!==or&&ar!==ar}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(or,ar){if(He$1(or,ar))return!0;if(typeof or!="object"||or===null||typeof ar!="object"||ar===null)return!1;var cr=Object.keys(or),lr=Object.keys(ar);if(cr.length!==lr.length)return!1;for(lr=0;lr<cr.length;lr++){var ur=cr[lr];if(!ja.call(ar,ur)||!He$1(or[ur],ar[ur]))return!1}return!0}function Je$1(or){for(;or&&or.firstChild;)or=or.firstChild;return or}function Ke$1(or,ar){var cr=Je$1(or);or=0;for(var lr;cr;){if(cr.nodeType===3){if(lr=or+cr.textContent.length,or<=ar&&lr>=ar)return{node:cr,offset:ar-or};or=lr}e:{for(;cr;){if(cr.nextSibling){cr=cr.nextSibling;break e}cr=cr.parentNode}cr=void 0}cr=Je$1(cr)}}function Le$1(or,ar){return or&&ar?or===ar?!0:or&&or.nodeType===3?!1:ar&&ar.nodeType===3?Le$1(or,ar.parentNode):"contains"in or?or.contains(ar):or.compareDocumentPosition?!!(or.compareDocumentPosition(ar)&16):!1:!1}function Me$1(){for(var or=window,ar=Xa();ar instanceof or.HTMLIFrameElement;){try{var cr=typeof ar.contentWindow.location.href=="string"}catch{cr=!1}if(cr)or=ar.contentWindow;else break;ar=Xa(or.document)}return ar}function Ne$1(or){var ar=or&&or.nodeName&&or.nodeName.toLowerCase();return ar&&(ar==="input"&&(or.type==="text"||or.type==="search"||or.type==="tel"||or.type==="url"||or.type==="password")||ar==="textarea"||or.contentEditable==="true")}function Oe$1(or){var ar=Me$1(),cr=or.focusedElem,lr=or.selectionRange;if(ar!==cr&&cr&&cr.ownerDocument&&Le$1(cr.ownerDocument.documentElement,cr)){if(lr!==null&&Ne$1(cr)){if(ar=lr.start,or=lr.end,or===void 0&&(or=ar),"selectionStart"in cr)cr.selectionStart=ar,cr.selectionEnd=Math.min(or,cr.value.length);else if(or=(ar=cr.ownerDocument||document)&&ar.defaultView||window,or.getSelection){or=or.getSelection();var ur=cr.textContent.length,fr=Math.min(lr.start,ur);lr=lr.end===void 0?fr:Math.min(lr.end,ur),!or.extend&&fr>lr&&(ur=lr,lr=fr,fr=ur),ur=Ke$1(cr,fr);var dr=Ke$1(cr,lr);ur&&dr&&(or.rangeCount!==1||or.anchorNode!==ur.node||or.anchorOffset!==ur.offset||or.focusNode!==dr.node||or.focusOffset!==dr.offset)&&(ar=ar.createRange(),ar.setStart(ur.node,ur.offset),or.removeAllRanges(),fr>lr?(or.addRange(ar),or.extend(dr.node,dr.offset)):(ar.setEnd(dr.node,dr.offset),or.addRange(ar)))}}for(ar=[],or=cr;or=or.parentNode;)or.nodeType===1&&ar.push({element:or,left:or.scrollLeft,top:or.scrollTop});for(typeof cr.focus=="function"&&cr.focus(),cr=0;cr<ar.length;cr++)or=ar[cr],or.element.scrollLeft=or.left,or.element.scrollTop=or.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(or,ar,cr){var lr=cr.window===cr?cr.document:cr.nodeType===9?cr:cr.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(lr)||(lr=Qe$1,"selectionStart"in lr&&Ne$1(lr)?lr={start:lr.selectionStart,end:lr.selectionEnd}:(lr=(lr.ownerDocument&&lr.ownerDocument.defaultView||window).getSelection(),lr={anchorNode:lr.anchorNode,anchorOffset:lr.anchorOffset,focusNode:lr.focusNode,focusOffset:lr.focusOffset}),Se$1&&Ie$1(Se$1,lr)||(Se$1=lr,lr=oe$1(Re$1,"onSelect"),0<lr.length&&(ar=new td$1("onSelect","select",null,ar,cr),or.push({event:ar,listeners:lr}),ar.target=Qe$1)))}function Ve$1(or,ar){var cr={};return cr[or.toLowerCase()]=ar.toLowerCase(),cr["Webkit"+or]="webkit"+ar,cr["Moz"+or]="moz"+ar,cr}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(or){if(Xe$1[or])return Xe$1[or];if(!We$1[or])return or;var ar=We$1[or],cr;for(cr in ar)if(ar.hasOwnProperty(cr)&&cr in Ye$1)return Xe$1[or]=ar[cr];return or}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(or,ar){df.set(or,ar),fa(ar,[or])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(or,ar,cr){var lr=or.type||"unknown-event";or.currentTarget=cr,Ub(lr,ar,void 0,or),or.currentTarget=null}function se$1(or,ar){ar=(ar&4)!==0;for(var cr=0;cr<or.length;cr++){var lr=or[cr],ur=lr.event;lr=lr.listeners;e:{var fr=void 0;if(ar)for(var dr=lr.length-1;0<=dr;dr--){var pr=lr[dr],mr=pr.instance,gr=pr.currentTarget;if(pr=pr.listener,mr!==fr&&ur.isPropagationStopped())break e;nf(ur,pr,gr),fr=mr}else for(dr=0;dr<lr.length;dr++){if(pr=lr[dr],mr=pr.instance,gr=pr.currentTarget,pr=pr.listener,mr!==fr&&ur.isPropagationStopped())break e;nf(ur,pr,gr),fr=mr}}}if(Qb)throw or=Rb,Qb=!1,Rb=null,or}function D$1(or,ar){var cr=ar[of];cr===void 0&&(cr=ar[of]=new Set);var lr=or+"__bubble";cr.has(lr)||(pf(ar,or,2,!1),cr.add(lr))}function qf(or,ar,cr){var lr=0;ar&&(lr|=4),pf(cr,or,lr,ar)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(or){if(!or[rf]){or[rf]=!0,da.forEach(function(cr){cr!=="selectionchange"&&(mf.has(cr)||qf(cr,!1,or),qf(cr,!0,or))});var ar=or.nodeType===9?or:or.ownerDocument;ar===null||ar[rf]||(ar[rf]=!0,qf("selectionchange",!1,ar))}}function pf(or,ar,cr,lr){switch(jd(ar)){case 1:var ur=ed;break;case 4:ur=gd;break;default:ur=fd$1}cr=ur.bind(null,ar,cr,or),ur=void 0,!Lb||ar!=="touchstart"&&ar!=="touchmove"&&ar!=="wheel"||(ur=!0),lr?ur!==void 0?or.addEventListener(ar,cr,{capture:!0,passive:ur}):or.addEventListener(ar,cr,!0):ur!==void 0?or.addEventListener(ar,cr,{passive:ur}):or.addEventListener(ar,cr,!1)}function hd(or,ar,cr,lr,ur){var fr=lr;if(!(ar&1)&&!(ar&2)&&lr!==null)e:for(;;){if(lr===null)return;var dr=lr.tag;if(dr===3||dr===4){var pr=lr.stateNode.containerInfo;if(pr===ur||pr.nodeType===8&&pr.parentNode===ur)break;if(dr===4)for(dr=lr.return;dr!==null;){var mr=dr.tag;if((mr===3||mr===4)&&(mr=dr.stateNode.containerInfo,mr===ur||mr.nodeType===8&&mr.parentNode===ur))return;dr=dr.return}for(;pr!==null;){if(dr=Wc(pr),dr===null)return;if(mr=dr.tag,mr===5||mr===6){lr=fr=dr;continue e}pr=pr.parentNode}}lr=lr.return}Jb(function(){var gr=fr,vr=xb(cr),hr=[];e:{var $r=df.get(or);if($r!==void 0){var xr=td$1,br=or;switch(or){case"keypress":if(od(cr)===0)break e;case"keydown":case"keyup":xr=Rd;break;case"focusin":br="focus",xr=Fd;break;case"focusout":br="blur",xr=Fd;break;case"beforeblur":case"afterblur":xr=Fd;break;case"click":if(cr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xr=Vd;break;case $e$1:case af:case bf:xr=Hd;break;case cf:xr=Xd;break;case"scroll":xr=vd;break;case"wheel":xr=Zd;break;case"copy":case"cut":case"paste":xr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xr=Td}var Er=(ar&4)!==0,wr=!Er&&or==="scroll",yr=Er?$r!==null?$r+"Capture":null:$r;Er=[];for(var _r=gr,Sr;_r!==null;){Sr=_r;var Pr=Sr.stateNode;if(Sr.tag===5&&Pr!==null&&(Sr=Pr,yr!==null&&(Pr=Kb(_r,yr),Pr!=null&&Er.push(tf(_r,Pr,Sr)))),wr)break;_r=_r.return}0<Er.length&&($r=new xr($r,br,null,cr,vr),hr.push({event:$r,listeners:Er}))}}if(!(ar&7)){e:{if($r=or==="mouseover"||or==="pointerover",xr=or==="mouseout"||or==="pointerout",$r&&cr!==wb&&(br=cr.relatedTarget||cr.fromElement)&&(Wc(br)||br[uf]))break e;if((xr||$r)&&($r=vr.window===vr?vr:($r=vr.ownerDocument)?$r.defaultView||$r.parentWindow:window,xr?(br=cr.relatedTarget||cr.toElement,xr=gr,br=br?Wc(br):null,br!==null&&(wr=Vb(br),br!==wr||br.tag!==5&&br.tag!==6)&&(br=null)):(xr=null,br=gr),xr!==br)){if(Er=Bd,Pr="onMouseLeave",yr="onMouseEnter",_r="mouse",(or==="pointerout"||or==="pointerover")&&(Er=Td,Pr="onPointerLeave",yr="onPointerEnter",_r="pointer"),wr=xr==null?$r:ue$1(xr),Sr=br==null?$r:ue$1(br),$r=new Er(Pr,_r+"leave",xr,cr,vr),$r.target=wr,$r.relatedTarget=Sr,Pr=null,Wc(vr)===gr&&(Er=new Er(yr,_r+"enter",br,cr,vr),Er.target=Sr,Er.relatedTarget=wr,Pr=Er),wr=Pr,xr&&br)t:{for(Er=xr,yr=br,_r=0,Sr=Er;Sr;Sr=vf(Sr))_r++;for(Sr=0,Pr=yr;Pr;Pr=vf(Pr))Sr++;for(;0<_r-Sr;)Er=vf(Er),_r--;for(;0<Sr-_r;)yr=vf(yr),Sr--;for(;_r--;){if(Er===yr||yr!==null&&Er===yr.alternate)break t;Er=vf(Er),yr=vf(yr)}Er=null}else Er=null;xr!==null&&wf(hr,$r,xr,Er,!1),br!==null&&wr!==null&&wf(hr,wr,br,Er,!0)}}e:{if($r=gr?ue$1(gr):window,xr=$r.nodeName&&$r.nodeName.toLowerCase(),xr==="select"||xr==="input"&&$r.type==="file")var Or=ve$1;else if(me$1($r))if(we$1)Or=Fe$1;else{Or=De$1;var Lr=Ce$1}else(xr=$r.nodeName)&&xr.toLowerCase()==="input"&&($r.type==="checkbox"||$r.type==="radio")&&(Or=Ee$1);if(Or&&(Or=Or(or,gr))){ne$1(hr,Or,cr,vr);break e}Lr&&Lr(or,$r,gr),or==="focusout"&&(Lr=$r._wrapperState)&&Lr.controlled&&$r.type==="number"&&cb($r,"number",$r.value)}switch(Lr=gr?ue$1(gr):window,or){case"focusin":(me$1(Lr)||Lr.contentEditable==="true")&&(Qe$1=Lr,Re$1=gr,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(hr,cr,vr);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(hr,cr,vr)}var Tr;if(ae$1)e:{switch(or){case"compositionstart":var jr="onCompositionStart";break e;case"compositionend":jr="onCompositionEnd";break e;case"compositionupdate":jr="onCompositionUpdate";break e}jr=void 0}else ie$1?ge$1(or,cr)&&(jr="onCompositionEnd"):or==="keydown"&&cr.keyCode===229&&(jr="onCompositionStart");jr&&(de$1&&cr.locale!=="ko"&&(ie$1||jr!=="onCompositionStart"?jr==="onCompositionEnd"&&ie$1&&(Tr=nd()):(kd=vr,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Lr=oe$1(gr,jr),0<Lr.length&&(jr=new Ld(jr,or,null,cr,vr),hr.push({event:jr,listeners:Lr}),Tr?jr.data=Tr:(Tr=he$1(cr),Tr!==null&&(jr.data=Tr)))),(Tr=ce$1?je$1(or,cr):ke$1(or,cr))&&(gr=oe$1(gr,"onBeforeInput"),0<gr.length&&(vr=new Ld("onBeforeInput","beforeinput",null,cr,vr),hr.push({event:vr,listeners:gr}),vr.data=Tr))}se$1(hr,ar)})}function tf(or,ar,cr){return{instance:or,listener:ar,currentTarget:cr}}function oe$1(or,ar){for(var cr=ar+"Capture",lr=[];or!==null;){var ur=or,fr=ur.stateNode;ur.tag===5&&fr!==null&&(ur=fr,fr=Kb(or,cr),fr!=null&&lr.unshift(tf(or,fr,ur)),fr=Kb(or,ar),fr!=null&&lr.push(tf(or,fr,ur))),or=or.return}return lr}function vf(or){if(or===null)return null;do or=or.return;while(or&&or.tag!==5);return or||null}function wf(or,ar,cr,lr,ur){for(var fr=ar._reactName,dr=[];cr!==null&&cr!==lr;){var pr=cr,mr=pr.alternate,gr=pr.stateNode;if(mr!==null&&mr===lr)break;pr.tag===5&&gr!==null&&(pr=gr,ur?(mr=Kb(cr,fr),mr!=null&&dr.unshift(tf(cr,mr,pr))):ur||(mr=Kb(cr,fr),mr!=null&&dr.push(tf(cr,mr,pr)))),cr=cr.return}dr.length!==0&&or.push({event:ar,listeners:dr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(or){return(typeof or=="string"?or:""+or).replace(xf,`
`).replace(yf,"")}function Af(or,ar,cr){if(ar=zf(ar),zf(or)!==ar&&cr)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(or,ar){return or==="textarea"||or==="noscript"||typeof ar.children=="string"||typeof ar.children=="number"||typeof ar.dangerouslySetInnerHTML=="object"&&ar.dangerouslySetInnerHTML!==null&&ar.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(or){return Hf.resolve(null).then(or).catch(If)}:Ff;function If(or){setTimeout(function(){throw or})}function Kf(or,ar){var cr=ar,lr=0;do{var ur=cr.nextSibling;if(or.removeChild(cr),ur&&ur.nodeType===8)if(cr=ur.data,cr==="/$"){if(lr===0){or.removeChild(ur),bd(ar);return}lr--}else cr!=="$"&&cr!=="$?"&&cr!=="$!"||lr++;cr=ur}while(cr);bd(ar)}function Lf(or){for(;or!=null;or=or.nextSibling){var ar=or.nodeType;if(ar===1||ar===3)break;if(ar===8){if(ar=or.data,ar==="$"||ar==="$!"||ar==="$?")break;if(ar==="/$")return null}}return or}function Mf(or){or=or.previousSibling;for(var ar=0;or;){if(or.nodeType===8){var cr=or.data;if(cr==="$"||cr==="$!"||cr==="$?"){if(ar===0)return or;ar--}else cr==="/$"&&ar++}or=or.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(or){var ar=or[Of];if(ar)return ar;for(var cr=or.parentNode;cr;){if(ar=cr[uf]||cr[Of]){if(cr=ar.alternate,ar.child!==null||cr!==null&&cr.child!==null)for(or=Mf(or);or!==null;){if(cr=or[Of])return cr;or=Mf(or)}return ar}or=cr,cr=or.parentNode}return null}function Cb(or){return or=or[Of]||or[uf],!or||or.tag!==5&&or.tag!==6&&or.tag!==13&&or.tag!==3?null:or}function ue$1(or){if(or.tag===5||or.tag===6)return or.stateNode;throw Error(p$3(33))}function Db(or){return or[Pf]||null}var Sf=[],Tf=-1;function Uf(or){return{current:or}}function E$1(or){0>Tf||(or.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(or,ar){Tf++,Sf[Tf]=or.current,or.current=ar}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(or,ar){var cr=or.type.contextTypes;if(!cr)return Vf;var lr=or.stateNode;if(lr&&lr.__reactInternalMemoizedUnmaskedChildContext===ar)return lr.__reactInternalMemoizedMaskedChildContext;var ur={},fr;for(fr in cr)ur[fr]=ar[fr];return lr&&(or=or.stateNode,or.__reactInternalMemoizedUnmaskedChildContext=ar,or.__reactInternalMemoizedMaskedChildContext=ur),ur}function Zf(or){return or=or.childContextTypes,or!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(or,ar,cr){if(H$1.current!==Vf)throw Error(p$3(168));G$1(H$1,ar),G$1(Wf,cr)}function bg(or,ar,cr){var lr=or.stateNode;if(ar=ar.childContextTypes,typeof lr.getChildContext!="function")return cr;lr=lr.getChildContext();for(var ur in lr)if(!(ur in ar))throw Error(p$3(108,Ra(or)||"Unknown",ur));return A$1({},cr,lr)}function cg(or){return or=(or=or.stateNode)&&or.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,or),G$1(Wf,Wf.current),!0}function dg(or,ar,cr){var lr=or.stateNode;if(!lr)throw Error(p$3(169));cr?(or=bg(or,ar,Xf),lr.__reactInternalMemoizedMergedChildContext=or,E$1(Wf),E$1(H$1),G$1(H$1,or)):E$1(Wf),G$1(Wf,cr)}var eg=null,fg=!1,gg=!1;function hg(or){eg===null?eg=[or]:eg.push(or)}function ig(or){fg=!0,hg(or)}function jg(){if(!gg&&eg!==null){gg=!0;var or=0,ar=C$1;try{var cr=eg;for(C$1=1;or<cr.length;or++){var lr=cr[or];do lr=lr(!0);while(lr!==null)}eg=null,fg=!1}catch(ur){throw eg!==null&&(eg=eg.slice(or+1)),ac(fc,jg),ur}finally{C$1=ar,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(or,ar){kg[lg++]=ng,kg[lg++]=mg,mg=or,ng=ar}function ug(or,ar,cr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=or;var lr=rg;or=sg;var ur=32-oc(lr)-1;lr&=~(1<<ur),cr+=1;var fr=32-oc(ar)+ur;if(30<fr){var dr=ur-ur%5;fr=(lr&(1<<dr)-1).toString(32),lr>>=dr,ur-=dr,rg=1<<32-oc(ar)+ur|cr<<ur|lr,sg=fr+or}else rg=1<<fr|cr<<ur|lr,sg=or}function vg(or){or.return!==null&&(tg(or,1),ug(or,1,0))}function wg(or){for(;or===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;or===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(or,ar){var cr=Bg(5,null,null,0);cr.elementType="DELETED",cr.stateNode=ar,cr.return=or,ar=or.deletions,ar===null?(or.deletions=[cr],or.flags|=16):ar.push(cr)}function Cg(or,ar){switch(or.tag){case 5:var cr=or.type;return ar=ar.nodeType!==1||cr.toLowerCase()!==ar.nodeName.toLowerCase()?null:ar,ar!==null?(or.stateNode=ar,xg=or,yg=Lf(ar.firstChild),!0):!1;case 6:return ar=or.pendingProps===""||ar.nodeType!==3?null:ar,ar!==null?(or.stateNode=ar,xg=or,yg=null,!0):!1;case 13:return ar=ar.nodeType!==8?null:ar,ar!==null?(cr=qg!==null?{id:rg,overflow:sg}:null,or.memoizedState={dehydrated:ar,treeContext:cr,retryLane:1073741824},cr=Bg(18,null,null,0),cr.stateNode=ar,cr.return=or,or.child=cr,xg=or,yg=null,!0):!1;default:return!1}}function Dg(or){return(or.mode&1)!==0&&(or.flags&128)===0}function Eg(or){if(I$1){var ar=yg;if(ar){var cr=ar;if(!Cg(or,ar)){if(Dg(or))throw Error(p$3(418));ar=Lf(cr.nextSibling);var lr=xg;ar&&Cg(or,ar)?Ag(lr,cr):(or.flags=or.flags&-4097|2,I$1=!1,xg=or)}}else{if(Dg(or))throw Error(p$3(418));or.flags=or.flags&-4097|2,I$1=!1,xg=or}}}function Fg(or){for(or=or.return;or!==null&&or.tag!==5&&or.tag!==3&&or.tag!==13;)or=or.return;xg=or}function Gg(or){if(or!==xg)return!1;if(!I$1)return Fg(or),I$1=!0,!1;var ar;if((ar=or.tag!==3)&&!(ar=or.tag!==5)&&(ar=or.type,ar=ar!=="head"&&ar!=="body"&&!Ef(or.type,or.memoizedProps)),ar&&(ar=yg)){if(Dg(or))throw Hg(),Error(p$3(418));for(;ar;)Ag(or,ar),ar=Lf(ar.nextSibling)}if(Fg(or),or.tag===13){if(or=or.memoizedState,or=or!==null?or.dehydrated:null,!or)throw Error(p$3(317));e:{for(or=or.nextSibling,ar=0;or;){if(or.nodeType===8){var cr=or.data;if(cr==="/$"){if(ar===0){yg=Lf(or.nextSibling);break e}ar--}else cr!=="$"&&cr!=="$!"&&cr!=="$?"||ar++}or=or.nextSibling}yg=null}}else yg=xg?Lf(or.stateNode.nextSibling):null;return!0}function Hg(){for(var or=yg;or;)or=Lf(or.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(or){zg===null?zg=[or]:zg.push(or)}var Kg=ua.ReactCurrentBatchConfig;function Lg(or,ar){if(or&&or.defaultProps){ar=A$1({},ar),or=or.defaultProps;for(var cr in or)ar[cr]===void 0&&(ar[cr]=or[cr]);return ar}return ar}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(or){var ar=Mg.current;E$1(Mg),or._currentValue=ar}function Sg(or,ar,cr){for(;or!==null;){var lr=or.alternate;if((or.childLanes&ar)!==ar?(or.childLanes|=ar,lr!==null&&(lr.childLanes|=ar)):lr!==null&&(lr.childLanes&ar)!==ar&&(lr.childLanes|=ar),or===cr)break;or=or.return}}function Tg(or,ar){Ng=or,Pg=Og=null,or=or.dependencies,or!==null&&or.firstContext!==null&&(or.lanes&ar&&(Ug=!0),or.firstContext=null)}function Vg(or){var ar=or._currentValue;if(Pg!==or)if(or={context:or,memoizedValue:ar,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=or,Ng.dependencies={lanes:0,firstContext:or}}else Og=Og.next=or;return ar}var Wg=null;function Xg(or){Wg===null?Wg=[or]:Wg.push(or)}function Yg(or,ar,cr,lr){var ur=ar.interleaved;return ur===null?(cr.next=cr,Xg(ar)):(cr.next=ur.next,ur.next=cr),ar.interleaved=cr,Zg(or,lr)}function Zg(or,ar){or.lanes|=ar;var cr=or.alternate;for(cr!==null&&(cr.lanes|=ar),cr=or,or=or.return;or!==null;)or.childLanes|=ar,cr=or.alternate,cr!==null&&(cr.childLanes|=ar),cr=or,or=or.return;return cr.tag===3?cr.stateNode:null}var $g=!1;function ah(or){or.updateQueue={baseState:or.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(or,ar){or=or.updateQueue,ar.updateQueue===or&&(ar.updateQueue={baseState:or.baseState,firstBaseUpdate:or.firstBaseUpdate,lastBaseUpdate:or.lastBaseUpdate,shared:or.shared,effects:or.effects})}function ch$1(or,ar){return{eventTime:or,lane:ar,tag:0,payload:null,callback:null,next:null}}function dh(or,ar,cr){var lr=or.updateQueue;if(lr===null)return null;if(lr=lr.shared,K$1&2){var ur=lr.pending;return ur===null?ar.next=ar:(ar.next=ur.next,ur.next=ar),lr.pending=ar,Zg(or,cr)}return ur=lr.interleaved,ur===null?(ar.next=ar,Xg(lr)):(ar.next=ur.next,ur.next=ar),lr.interleaved=ar,Zg(or,cr)}function eh(or,ar,cr){if(ar=ar.updateQueue,ar!==null&&(ar=ar.shared,(cr&4194240)!==0)){var lr=ar.lanes;lr&=or.pendingLanes,cr|=lr,ar.lanes=cr,Cc(or,cr)}}function fh(or,ar){var cr=or.updateQueue,lr=or.alternate;if(lr!==null&&(lr=lr.updateQueue,cr===lr)){var ur=null,fr=null;if(cr=cr.firstBaseUpdate,cr!==null){do{var dr={eventTime:cr.eventTime,lane:cr.lane,tag:cr.tag,payload:cr.payload,callback:cr.callback,next:null};fr===null?ur=fr=dr:fr=fr.next=dr,cr=cr.next}while(cr!==null);fr===null?ur=fr=ar:fr=fr.next=ar}else ur=fr=ar;cr={baseState:lr.baseState,firstBaseUpdate:ur,lastBaseUpdate:fr,shared:lr.shared,effects:lr.effects},or.updateQueue=cr;return}or=cr.lastBaseUpdate,or===null?cr.firstBaseUpdate=ar:or.next=ar,cr.lastBaseUpdate=ar}function gh(or,ar,cr,lr){var ur=or.updateQueue;$g=!1;var fr=ur.firstBaseUpdate,dr=ur.lastBaseUpdate,pr=ur.shared.pending;if(pr!==null){ur.shared.pending=null;var mr=pr,gr=mr.next;mr.next=null,dr===null?fr=gr:dr.next=gr,dr=mr;var vr=or.alternate;vr!==null&&(vr=vr.updateQueue,pr=vr.lastBaseUpdate,pr!==dr&&(pr===null?vr.firstBaseUpdate=gr:pr.next=gr,vr.lastBaseUpdate=mr))}if(fr!==null){var hr=ur.baseState;dr=0,vr=gr=mr=null,pr=fr;do{var $r=pr.lane,xr=pr.eventTime;if((lr&$r)===$r){vr!==null&&(vr=vr.next={eventTime:xr,lane:0,tag:pr.tag,payload:pr.payload,callback:pr.callback,next:null});e:{var br=or,Er=pr;switch($r=ar,xr=cr,Er.tag){case 1:if(br=Er.payload,typeof br=="function"){hr=br.call(xr,hr,$r);break e}hr=br;break e;case 3:br.flags=br.flags&-65537|128;case 0:if(br=Er.payload,$r=typeof br=="function"?br.call(xr,hr,$r):br,$r==null)break e;hr=A$1({},hr,$r);break e;case 2:$g=!0}}pr.callback!==null&&pr.lane!==0&&(or.flags|=64,$r=ur.effects,$r===null?ur.effects=[pr]:$r.push(pr))}else xr={eventTime:xr,lane:$r,tag:pr.tag,payload:pr.payload,callback:pr.callback,next:null},vr===null?(gr=vr=xr,mr=hr):vr=vr.next=xr,dr|=$r;if(pr=pr.next,pr===null){if(pr=ur.shared.pending,pr===null)break;$r=pr,pr=$r.next,$r.next=null,ur.lastBaseUpdate=$r,ur.shared.pending=null}}while(!0);if(vr===null&&(mr=hr),ur.baseState=mr,ur.firstBaseUpdate=gr,ur.lastBaseUpdate=vr,ar=ur.shared.interleaved,ar!==null){ur=ar;do dr|=ur.lane,ur=ur.next;while(ur!==ar)}else fr===null&&(ur.shared.lanes=0);hh|=dr,or.lanes=dr,or.memoizedState=hr}}function ih(or,ar,cr){if(or=ar.effects,ar.effects=null,or!==null)for(ar=0;ar<or.length;ar++){var lr=or[ar],ur=lr.callback;if(ur!==null){if(lr.callback=null,lr=cr,typeof ur!="function")throw Error(p$3(191,ur));ur.call(lr)}}}var jh=new aa.Component().refs;function kh(or,ar,cr,lr){ar=or.memoizedState,cr=cr(lr,ar),cr=cr==null?ar:A$1({},ar,cr),or.memoizedState=cr,or.lanes===0&&(or.updateQueue.baseState=cr)}var nh={isMounted:function(or){return(or=or._reactInternals)?Vb(or)===or:!1},enqueueSetState:function(or,ar,cr){or=or._reactInternals;var lr=L$1(),ur=lh(or),fr=ch$1(lr,ur);fr.payload=ar,cr!=null&&(fr.callback=cr),ar=dh(or,fr,ur),ar!==null&&(mh(ar,or,ur,lr),eh(ar,or,ur))},enqueueReplaceState:function(or,ar,cr){or=or._reactInternals;var lr=L$1(),ur=lh(or),fr=ch$1(lr,ur);fr.tag=1,fr.payload=ar,cr!=null&&(fr.callback=cr),ar=dh(or,fr,ur),ar!==null&&(mh(ar,or,ur,lr),eh(ar,or,ur))},enqueueForceUpdate:function(or,ar){or=or._reactInternals;var cr=L$1(),lr=lh(or),ur=ch$1(cr,lr);ur.tag=2,ar!=null&&(ur.callback=ar),ar=dh(or,ur,lr),ar!==null&&(mh(ar,or,lr,cr),eh(ar,or,lr))}};function oh(or,ar,cr,lr,ur,fr,dr){return or=or.stateNode,typeof or.shouldComponentUpdate=="function"?or.shouldComponentUpdate(lr,fr,dr):ar.prototype&&ar.prototype.isPureReactComponent?!Ie$1(cr,lr)||!Ie$1(ur,fr):!0}function ph(or,ar,cr){var lr=!1,ur=Vf,fr=ar.contextType;return typeof fr=="object"&&fr!==null?fr=Vg(fr):(ur=Zf(ar)?Xf:H$1.current,lr=ar.contextTypes,fr=(lr=lr!=null)?Yf(or,ur):Vf),ar=new ar(cr,fr),or.memoizedState=ar.state!==null&&ar.state!==void 0?ar.state:null,ar.updater=nh,or.stateNode=ar,ar._reactInternals=or,lr&&(or=or.stateNode,or.__reactInternalMemoizedUnmaskedChildContext=ur,or.__reactInternalMemoizedMaskedChildContext=fr),ar}function qh(or,ar,cr,lr){or=ar.state,typeof ar.componentWillReceiveProps=="function"&&ar.componentWillReceiveProps(cr,lr),typeof ar.UNSAFE_componentWillReceiveProps=="function"&&ar.UNSAFE_componentWillReceiveProps(cr,lr),ar.state!==or&&nh.enqueueReplaceState(ar,ar.state,null)}function rh(or,ar,cr,lr){var ur=or.stateNode;ur.props=cr,ur.state=or.memoizedState,ur.refs=jh,ah(or);var fr=ar.contextType;typeof fr=="object"&&fr!==null?ur.context=Vg(fr):(fr=Zf(ar)?Xf:H$1.current,ur.context=Yf(or,fr)),ur.state=or.memoizedState,fr=ar.getDerivedStateFromProps,typeof fr=="function"&&(kh(or,ar,fr,cr),ur.state=or.memoizedState),typeof ar.getDerivedStateFromProps=="function"||typeof ur.getSnapshotBeforeUpdate=="function"||typeof ur.UNSAFE_componentWillMount!="function"&&typeof ur.componentWillMount!="function"||(ar=ur.state,typeof ur.componentWillMount=="function"&&ur.componentWillMount(),typeof ur.UNSAFE_componentWillMount=="function"&&ur.UNSAFE_componentWillMount(),ar!==ur.state&&nh.enqueueReplaceState(ur,ur.state,null),gh(or,cr,ur,lr),ur.state=or.memoizedState),typeof ur.componentDidMount=="function"&&(or.flags|=4194308)}function sh(or,ar,cr){if(or=cr.ref,or!==null&&typeof or!="function"&&typeof or!="object"){if(cr._owner){if(cr=cr._owner,cr){if(cr.tag!==1)throw Error(p$3(309));var lr=cr.stateNode}if(!lr)throw Error(p$3(147,or));var ur=lr,fr=""+or;return ar!==null&&ar.ref!==null&&typeof ar.ref=="function"&&ar.ref._stringRef===fr?ar.ref:(ar=function(dr){var pr=ur.refs;pr===jh&&(pr=ur.refs={}),dr===null?delete pr[fr]:pr[fr]=dr},ar._stringRef=fr,ar)}if(typeof or!="string")throw Error(p$3(284));if(!cr._owner)throw Error(p$3(290,or))}return or}function th(or,ar){throw or=Object.prototype.toString.call(ar),Error(p$3(31,or==="[object Object]"?"object with keys {"+Object.keys(ar).join(", ")+"}":or))}function uh(or){var ar=or._init;return ar(or._payload)}function vh(or){function ar(yr,_r){if(or){var Sr=yr.deletions;Sr===null?(yr.deletions=[_r],yr.flags|=16):Sr.push(_r)}}function cr(yr,_r){if(!or)return null;for(;_r!==null;)ar(yr,_r),_r=_r.sibling;return null}function lr(yr,_r){for(yr=new Map;_r!==null;)_r.key!==null?yr.set(_r.key,_r):yr.set(_r.index,_r),_r=_r.sibling;return yr}function ur(yr,_r){return yr=wh(yr,_r),yr.index=0,yr.sibling=null,yr}function fr(yr,_r,Sr){return yr.index=Sr,or?(Sr=yr.alternate,Sr!==null?(Sr=Sr.index,Sr<_r?(yr.flags|=2,_r):Sr):(yr.flags|=2,_r)):(yr.flags|=1048576,_r)}function dr(yr){return or&&yr.alternate===null&&(yr.flags|=2),yr}function pr(yr,_r,Sr,Pr){return _r===null||_r.tag!==6?(_r=xh(Sr,yr.mode,Pr),_r.return=yr,_r):(_r=ur(_r,Sr),_r.return=yr,_r)}function mr(yr,_r,Sr,Pr){var Or=Sr.type;return Or===ya?vr(yr,_r,Sr.props.children,Pr,Sr.key):_r!==null&&(_r.elementType===Or||typeof Or=="object"&&Or!==null&&Or.$$typeof===Ha&&uh(Or)===_r.type)?(Pr=ur(_r,Sr.props),Pr.ref=sh(yr,_r,Sr),Pr.return=yr,Pr):(Pr=yh(Sr.type,Sr.key,Sr.props,null,yr.mode,Pr),Pr.ref=sh(yr,_r,Sr),Pr.return=yr,Pr)}function gr(yr,_r,Sr,Pr){return _r===null||_r.tag!==4||_r.stateNode.containerInfo!==Sr.containerInfo||_r.stateNode.implementation!==Sr.implementation?(_r=zh$1(Sr,yr.mode,Pr),_r.return=yr,_r):(_r=ur(_r,Sr.children||[]),_r.return=yr,_r)}function vr(yr,_r,Sr,Pr,Or){return _r===null||_r.tag!==7?(_r=Ah(Sr,yr.mode,Pr,Or),_r.return=yr,_r):(_r=ur(_r,Sr),_r.return=yr,_r)}function hr(yr,_r,Sr){if(typeof _r=="string"&&_r!==""||typeof _r=="number")return _r=xh(""+_r,yr.mode,Sr),_r.return=yr,_r;if(typeof _r=="object"&&_r!==null){switch(_r.$$typeof){case va:return Sr=yh(_r.type,_r.key,_r.props,null,yr.mode,Sr),Sr.ref=sh(yr,null,_r),Sr.return=yr,Sr;case wa:return _r=zh$1(_r,yr.mode,Sr),_r.return=yr,_r;case Ha:var Pr=_r._init;return hr(yr,Pr(_r._payload),Sr)}if(eb(_r)||Ka(_r))return _r=Ah(_r,yr.mode,Sr,null),_r.return=yr,_r;th(yr,_r)}return null}function $r(yr,_r,Sr,Pr){var Or=_r!==null?_r.key:null;if(typeof Sr=="string"&&Sr!==""||typeof Sr=="number")return Or!==null?null:pr(yr,_r,""+Sr,Pr);if(typeof Sr=="object"&&Sr!==null){switch(Sr.$$typeof){case va:return Sr.key===Or?mr(yr,_r,Sr,Pr):null;case wa:return Sr.key===Or?gr(yr,_r,Sr,Pr):null;case Ha:return Or=Sr._init,$r(yr,_r,Or(Sr._payload),Pr)}if(eb(Sr)||Ka(Sr))return Or!==null?null:vr(yr,_r,Sr,Pr,null);th(yr,Sr)}return null}function xr(yr,_r,Sr,Pr,Or){if(typeof Pr=="string"&&Pr!==""||typeof Pr=="number")return yr=yr.get(Sr)||null,pr(_r,yr,""+Pr,Or);if(typeof Pr=="object"&&Pr!==null){switch(Pr.$$typeof){case va:return yr=yr.get(Pr.key===null?Sr:Pr.key)||null,mr(_r,yr,Pr,Or);case wa:return yr=yr.get(Pr.key===null?Sr:Pr.key)||null,gr(_r,yr,Pr,Or);case Ha:var Lr=Pr._init;return xr(yr,_r,Sr,Lr(Pr._payload),Or)}if(eb(Pr)||Ka(Pr))return yr=yr.get(Sr)||null,vr(_r,yr,Pr,Or,null);th(_r,Pr)}return null}function br(yr,_r,Sr,Pr){for(var Or=null,Lr=null,Tr=_r,jr=_r=0,Rr=null;Tr!==null&&jr<Sr.length;jr++){Tr.index>jr?(Rr=Tr,Tr=null):Rr=Tr.sibling;var Fr=$r(yr,Tr,Sr[jr],Pr);if(Fr===null){Tr===null&&(Tr=Rr);break}or&&Tr&&Fr.alternate===null&&ar(yr,Tr),_r=fr(Fr,_r,jr),Lr===null?Or=Fr:Lr.sibling=Fr,Lr=Fr,Tr=Rr}if(jr===Sr.length)return cr(yr,Tr),I$1&&tg(yr,jr),Or;if(Tr===null){for(;jr<Sr.length;jr++)Tr=hr(yr,Sr[jr],Pr),Tr!==null&&(_r=fr(Tr,_r,jr),Lr===null?Or=Tr:Lr.sibling=Tr,Lr=Tr);return I$1&&tg(yr,jr),Or}for(Tr=lr(yr,Tr);jr<Sr.length;jr++)Rr=xr(Tr,yr,jr,Sr[jr],Pr),Rr!==null&&(or&&Rr.alternate!==null&&Tr.delete(Rr.key===null?jr:Rr.key),_r=fr(Rr,_r,jr),Lr===null?Or=Rr:Lr.sibling=Rr,Lr=Rr);return or&&Tr.forEach(function(Vr){return ar(yr,Vr)}),I$1&&tg(yr,jr),Or}function Er(yr,_r,Sr,Pr){var Or=Ka(Sr);if(typeof Or!="function")throw Error(p$3(150));if(Sr=Or.call(Sr),Sr==null)throw Error(p$3(151));for(var Lr=Or=null,Tr=_r,jr=_r=0,Rr=null,Fr=Sr.next();Tr!==null&&!Fr.done;jr++,Fr=Sr.next()){Tr.index>jr?(Rr=Tr,Tr=null):Rr=Tr.sibling;var Vr=$r(yr,Tr,Fr.value,Pr);if(Vr===null){Tr===null&&(Tr=Rr);break}or&&Tr&&Vr.alternate===null&&ar(yr,Tr),_r=fr(Vr,_r,jr),Lr===null?Or=Vr:Lr.sibling=Vr,Lr=Vr,Tr=Rr}if(Fr.done)return cr(yr,Tr),I$1&&tg(yr,jr),Or;if(Tr===null){for(;!Fr.done;jr++,Fr=Sr.next())Fr=hr(yr,Fr.value,Pr),Fr!==null&&(_r=fr(Fr,_r,jr),Lr===null?Or=Fr:Lr.sibling=Fr,Lr=Fr);return I$1&&tg(yr,jr),Or}for(Tr=lr(yr,Tr);!Fr.done;jr++,Fr=Sr.next())Fr=xr(Tr,yr,jr,Fr.value,Pr),Fr!==null&&(or&&Fr.alternate!==null&&Tr.delete(Fr.key===null?jr:Fr.key),_r=fr(Fr,_r,jr),Lr===null?Or=Fr:Lr.sibling=Fr,Lr=Fr);return or&&Tr.forEach(function(Zr){return ar(yr,Zr)}),I$1&&tg(yr,jr),Or}function wr(yr,_r,Sr,Pr){if(typeof Sr=="object"&&Sr!==null&&Sr.type===ya&&Sr.key===null&&(Sr=Sr.props.children),typeof Sr=="object"&&Sr!==null){switch(Sr.$$typeof){case va:e:{for(var Or=Sr.key,Lr=_r;Lr!==null;){if(Lr.key===Or){if(Or=Sr.type,Or===ya){if(Lr.tag===7){cr(yr,Lr.sibling),_r=ur(Lr,Sr.props.children),_r.return=yr,yr=_r;break e}}else if(Lr.elementType===Or||typeof Or=="object"&&Or!==null&&Or.$$typeof===Ha&&uh(Or)===Lr.type){cr(yr,Lr.sibling),_r=ur(Lr,Sr.props),_r.ref=sh(yr,Lr,Sr),_r.return=yr,yr=_r;break e}cr(yr,Lr);break}else ar(yr,Lr);Lr=Lr.sibling}Sr.type===ya?(_r=Ah(Sr.props.children,yr.mode,Pr,Sr.key),_r.return=yr,yr=_r):(Pr=yh(Sr.type,Sr.key,Sr.props,null,yr.mode,Pr),Pr.ref=sh(yr,_r,Sr),Pr.return=yr,yr=Pr)}return dr(yr);case wa:e:{for(Lr=Sr.key;_r!==null;){if(_r.key===Lr)if(_r.tag===4&&_r.stateNode.containerInfo===Sr.containerInfo&&_r.stateNode.implementation===Sr.implementation){cr(yr,_r.sibling),_r=ur(_r,Sr.children||[]),_r.return=yr,yr=_r;break e}else{cr(yr,_r);break}else ar(yr,_r);_r=_r.sibling}_r=zh$1(Sr,yr.mode,Pr),_r.return=yr,yr=_r}return dr(yr);case Ha:return Lr=Sr._init,wr(yr,_r,Lr(Sr._payload),Pr)}if(eb(Sr))return br(yr,_r,Sr,Pr);if(Ka(Sr))return Er(yr,_r,Sr,Pr);th(yr,Sr)}return typeof Sr=="string"&&Sr!==""||typeof Sr=="number"?(Sr=""+Sr,_r!==null&&_r.tag===6?(cr(yr,_r.sibling),_r=ur(_r,Sr),_r.return=yr,yr=_r):(cr(yr,_r),_r=xh(Sr,yr.mode,Pr),_r.return=yr,yr=_r),dr(yr)):cr(yr,_r)}return wr}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(or){if(or===Dh)throw Error(p$3(174));return or}function Ih(or,ar){switch(G$1(Gh,ar),G$1(Fh,or),G$1(Eh,Dh),or=ar.nodeType,or){case 9:case 11:ar=(ar=ar.documentElement)?ar.namespaceURI:lb(null,"");break;default:or=or===8?ar.parentNode:ar,ar=or.namespaceURI||null,or=or.tagName,ar=lb(ar,or)}E$1(Eh),G$1(Eh,ar)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(or){Hh(Gh.current);var ar=Hh(Eh.current),cr=lb(ar,or.type);ar!==cr&&(G$1(Fh,or),G$1(Eh,cr))}function Lh(or){Fh.current===or&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(or){for(var ar=or;ar!==null;){if(ar.tag===13){var cr=ar.memoizedState;if(cr!==null&&(cr=cr.dehydrated,cr===null||cr.data==="$?"||cr.data==="$!"))return ar}else if(ar.tag===19&&ar.memoizedProps.revealOrder!==void 0){if(ar.flags&128)return ar}else if(ar.child!==null){ar.child.return=ar,ar=ar.child;continue}if(ar===or)break;for(;ar.sibling===null;){if(ar.return===null||ar.return===or)return null;ar=ar.return}ar.sibling.return=ar.return,ar=ar.sibling}return null}var Nh=[];function Oh(){for(var or=0;or<Nh.length;or++)Nh[or]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$3(321))}function Wh(or,ar){if(ar===null)return!1;for(var cr=0;cr<ar.length&&cr<or.length;cr++)if(!He$1(or[cr],ar[cr]))return!1;return!0}function Xh(or,ar,cr,lr,ur,fr){if(Rh=fr,N$1=ar,ar.memoizedState=null,ar.updateQueue=null,ar.lanes=0,Ph.current=or===null||or.memoizedState===null?Yh:Zh,or=cr(lr,ur),Th){fr=0;do{if(Th=!1,Uh=0,25<=fr)throw Error(p$3(301));fr+=1,P$1=O$1=null,ar.updateQueue=null,Ph.current=$h,or=cr(lr,ur)}while(Th)}if(Ph.current=ai,ar=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,ar)throw Error(p$3(300));return or}function bi(){var or=Uh!==0;return Uh=0,or}function ci(){var or={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=or:P$1=P$1.next=or,P$1}function di(){if(O$1===null){var or=N$1.alternate;or=or!==null?or.memoizedState:null}else or=O$1.next;var ar=P$1===null?N$1.memoizedState:P$1.next;if(ar!==null)P$1=ar,O$1=or;else{if(or===null)throw Error(p$3(310));O$1=or,or={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=or:P$1=P$1.next=or}return P$1}function ei(or,ar){return typeof ar=="function"?ar(or):ar}function fi(or){var ar=di(),cr=ar.queue;if(cr===null)throw Error(p$3(311));cr.lastRenderedReducer=or;var lr=O$1,ur=lr.baseQueue,fr=cr.pending;if(fr!==null){if(ur!==null){var dr=ur.next;ur.next=fr.next,fr.next=dr}lr.baseQueue=ur=fr,cr.pending=null}if(ur!==null){fr=ur.next,lr=lr.baseState;var pr=dr=null,mr=null,gr=fr;do{var vr=gr.lane;if((Rh&vr)===vr)mr!==null&&(mr=mr.next={lane:0,action:gr.action,hasEagerState:gr.hasEagerState,eagerState:gr.eagerState,next:null}),lr=gr.hasEagerState?gr.eagerState:or(lr,gr.action);else{var hr={lane:vr,action:gr.action,hasEagerState:gr.hasEagerState,eagerState:gr.eagerState,next:null};mr===null?(pr=mr=hr,dr=lr):mr=mr.next=hr,N$1.lanes|=vr,hh|=vr}gr=gr.next}while(gr!==null&&gr!==fr);mr===null?dr=lr:mr.next=pr,He$1(lr,ar.memoizedState)||(Ug=!0),ar.memoizedState=lr,ar.baseState=dr,ar.baseQueue=mr,cr.lastRenderedState=lr}if(or=cr.interleaved,or!==null){ur=or;do fr=ur.lane,N$1.lanes|=fr,hh|=fr,ur=ur.next;while(ur!==or)}else ur===null&&(cr.lanes=0);return[ar.memoizedState,cr.dispatch]}function gi(or){var ar=di(),cr=ar.queue;if(cr===null)throw Error(p$3(311));cr.lastRenderedReducer=or;var lr=cr.dispatch,ur=cr.pending,fr=ar.memoizedState;if(ur!==null){cr.pending=null;var dr=ur=ur.next;do fr=or(fr,dr.action),dr=dr.next;while(dr!==ur);He$1(fr,ar.memoizedState)||(Ug=!0),ar.memoizedState=fr,ar.baseQueue===null&&(ar.baseState=fr),cr.lastRenderedState=fr}return[fr,lr]}function hi(){}function ii(or,ar){var cr=N$1,lr=di(),ur=ar(),fr=!He$1(lr.memoizedState,ur);if(fr&&(lr.memoizedState=ur,Ug=!0),lr=lr.queue,ji(ki.bind(null,cr,lr,or),[or]),lr.getSnapshot!==ar||fr||P$1!==null&&P$1.memoizedState.tag&1){if(cr.flags|=2048,li(9,mi.bind(null,cr,lr,ur,ar),void 0,null),R$1===null)throw Error(p$3(349));Rh&30||ni(cr,ar,ur)}return ur}function ni(or,ar,cr){or.flags|=16384,or={getSnapshot:ar,value:cr},ar=N$1.updateQueue,ar===null?(ar={lastEffect:null,stores:null},N$1.updateQueue=ar,ar.stores=[or]):(cr=ar.stores,cr===null?ar.stores=[or]:cr.push(or))}function mi(or,ar,cr,lr){ar.value=cr,ar.getSnapshot=lr,oi(ar)&&pi(or)}function ki(or,ar,cr){return cr(function(){oi(ar)&&pi(or)})}function oi(or){var ar=or.getSnapshot;or=or.value;try{var cr=ar();return!He$1(or,cr)}catch{return!0}}function pi(or){var ar=Zg(or,1);ar!==null&&mh(ar,or,1,-1)}function qi(or){var ar=ci();return typeof or=="function"&&(or=or()),ar.memoizedState=ar.baseState=or,or={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:or},ar.queue=or,or=or.dispatch=ri.bind(null,N$1,or),[ar.memoizedState,or]}function li(or,ar,cr,lr){return or={tag:or,create:ar,destroy:cr,deps:lr,next:null},ar=N$1.updateQueue,ar===null?(ar={lastEffect:null,stores:null},N$1.updateQueue=ar,ar.lastEffect=or.next=or):(cr=ar.lastEffect,cr===null?ar.lastEffect=or.next=or:(lr=cr.next,cr.next=or,or.next=lr,ar.lastEffect=or)),or}function si(){return di().memoizedState}function ti(or,ar,cr,lr){var ur=ci();N$1.flags|=or,ur.memoizedState=li(1|ar,cr,void 0,lr===void 0?null:lr)}function ui(or,ar,cr,lr){var ur=di();lr=lr===void 0?null:lr;var fr=void 0;if(O$1!==null){var dr=O$1.memoizedState;if(fr=dr.destroy,lr!==null&&Wh(lr,dr.deps)){ur.memoizedState=li(ar,cr,fr,lr);return}}N$1.flags|=or,ur.memoizedState=li(1|ar,cr,fr,lr)}function vi(or,ar){return ti(8390656,8,or,ar)}function ji(or,ar){return ui(2048,8,or,ar)}function wi(or,ar){return ui(4,2,or,ar)}function xi(or,ar){return ui(4,4,or,ar)}function yi(or,ar){if(typeof ar=="function")return or=or(),ar(or),function(){ar(null)};if(ar!=null)return or=or(),ar.current=or,function(){ar.current=null}}function zi(or,ar,cr){return cr=cr!=null?cr.concat([or]):null,ui(4,4,yi.bind(null,ar,or),cr)}function Ai(){}function Bi(or,ar){var cr=di();ar=ar===void 0?null:ar;var lr=cr.memoizedState;return lr!==null&&ar!==null&&Wh(ar,lr[1])?lr[0]:(cr.memoizedState=[or,ar],or)}function Ci(or,ar){var cr=di();ar=ar===void 0?null:ar;var lr=cr.memoizedState;return lr!==null&&ar!==null&&Wh(ar,lr[1])?lr[0]:(or=or(),cr.memoizedState=[or,ar],or)}function Di(or,ar,cr){return Rh&21?(He$1(cr,ar)||(cr=yc(),N$1.lanes|=cr,hh|=cr,or.baseState=!0),ar):(or.baseState&&(or.baseState=!1,Ug=!0),or.memoizedState=cr)}function Ei(or,ar){var cr=C$1;C$1=cr!==0&&4>cr?cr:4,or(!0);var lr=Qh.transition;Qh.transition={};try{or(!1),ar()}finally{C$1=cr,Qh.transition=lr}}function Fi(){return di().memoizedState}function Gi(or,ar,cr){var lr=lh(or);if(cr={lane:lr,action:cr,hasEagerState:!1,eagerState:null,next:null},Hi(or))Ii(ar,cr);else if(cr=Yg(or,ar,cr,lr),cr!==null){var ur=L$1();mh(cr,or,lr,ur),Ji(cr,ar,lr)}}function ri(or,ar,cr){var lr=lh(or),ur={lane:lr,action:cr,hasEagerState:!1,eagerState:null,next:null};if(Hi(or))Ii(ar,ur);else{var fr=or.alternate;if(or.lanes===0&&(fr===null||fr.lanes===0)&&(fr=ar.lastRenderedReducer,fr!==null))try{var dr=ar.lastRenderedState,pr=fr(dr,cr);if(ur.hasEagerState=!0,ur.eagerState=pr,He$1(pr,dr)){var mr=ar.interleaved;mr===null?(ur.next=ur,Xg(ar)):(ur.next=mr.next,mr.next=ur),ar.interleaved=ur;return}}catch{}finally{}cr=Yg(or,ar,ur,lr),cr!==null&&(ur=L$1(),mh(cr,or,lr,ur),Ji(cr,ar,lr))}}function Hi(or){var ar=or.alternate;return or===N$1||ar!==null&&ar===N$1}function Ii(or,ar){Th=Sh=!0;var cr=or.pending;cr===null?ar.next=ar:(ar.next=cr.next,cr.next=ar),or.pending=ar}function Ji(or,ar,cr){if(cr&4194240){var lr=ar.lanes;lr&=or.pendingLanes,cr|=lr,ar.lanes=cr,Cc(or,cr)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(or,ar){return ci().memoizedState=[or,ar===void 0?null:ar],or},useContext:Vg,useEffect:vi,useImperativeHandle:function(or,ar,cr){return cr=cr!=null?cr.concat([or]):null,ti(4194308,4,yi.bind(null,ar,or),cr)},useLayoutEffect:function(or,ar){return ti(4194308,4,or,ar)},useInsertionEffect:function(or,ar){return ti(4,2,or,ar)},useMemo:function(or,ar){var cr=ci();return ar=ar===void 0?null:ar,or=or(),cr.memoizedState=[or,ar],or},useReducer:function(or,ar,cr){var lr=ci();return ar=cr!==void 0?cr(ar):ar,lr.memoizedState=lr.baseState=ar,or={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:ar},lr.queue=or,or=or.dispatch=Gi.bind(null,N$1,or),[lr.memoizedState,or]},useRef:function(or){var ar=ci();return or={current:or},ar.memoizedState=or},useState:qi,useDebugValue:Ai,useDeferredValue:function(or){return ci().memoizedState=or},useTransition:function(){var or=qi(!1),ar=or[0];return or=Ei.bind(null,or[1]),ci().memoizedState=or,[ar,or]},useMutableSource:function(){},useSyncExternalStore:function(or,ar,cr){var lr=N$1,ur=ci();if(I$1){if(cr===void 0)throw Error(p$3(407));cr=cr()}else{if(cr=ar(),R$1===null)throw Error(p$3(349));Rh&30||ni(lr,ar,cr)}ur.memoizedState=cr;var fr={value:cr,getSnapshot:ar};return ur.queue=fr,vi(ki.bind(null,lr,fr,or),[or]),lr.flags|=2048,li(9,mi.bind(null,lr,fr,cr,ar),void 0,null),cr},useId:function(){var or=ci(),ar=R$1.identifierPrefix;if(I$1){var cr=sg,lr=rg;cr=(lr&~(1<<32-oc(lr)-1)).toString(32)+cr,ar=":"+ar+"R"+cr,cr=Uh++,0<cr&&(ar+="H"+cr.toString(32)),ar+=":"}else cr=Vh++,ar=":"+ar+"r"+cr.toString(32)+":";return or.memoizedState=ar},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(or){var ar=di();return Di(ar,O$1.memoizedState,or)},useTransition:function(){var or=fi(ei)[0],ar=di().memoizedState;return[or,ar]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(or){var ar=di();return O$1===null?ar.memoizedState=or:Di(ar,O$1.memoizedState,or)},useTransition:function(){var or=gi(ei)[0],ar=di().memoizedState;return[or,ar]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(or,ar){try{var cr="",lr=ar;do cr+=Pa(lr),lr=lr.return;while(lr);var ur=cr}catch(fr){ur=`
Error generating stack: `+fr.message+`
`+fr.stack}return{value:or,source:ar,stack:ur,digest:null}}function Li(or,ar,cr){return{value:or,source:null,stack:cr??null,digest:ar??null}}function Mi(or,ar){try{console.error(ar.value)}catch(cr){setTimeout(function(){throw cr})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(or,ar,cr){cr=ch$1(-1,cr),cr.tag=3,cr.payload={element:null};var lr=ar.value;return cr.callback=function(){Pi||(Pi=!0,Qi=lr),Mi(or,ar)},cr}function Ri(or,ar,cr){cr=ch$1(-1,cr),cr.tag=3;var lr=or.type.getDerivedStateFromError;if(typeof lr=="function"){var ur=ar.value;cr.payload=function(){return lr(ur)},cr.callback=function(){Mi(or,ar)}}var fr=or.stateNode;return fr!==null&&typeof fr.componentDidCatch=="function"&&(cr.callback=function(){Mi(or,ar),typeof lr!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var dr=ar.stack;this.componentDidCatch(ar.value,{componentStack:dr!==null?dr:""})}),cr}function Ti(or,ar,cr){var lr=or.pingCache;if(lr===null){lr=or.pingCache=new Ni;var ur=new Set;lr.set(ar,ur)}else ur=lr.get(ar),ur===void 0&&(ur=new Set,lr.set(ar,ur));ur.has(cr)||(ur.add(cr),or=Ui.bind(null,or,ar,cr),ar.then(or,or))}function Vi(or){do{var ar;if((ar=or.tag===13)&&(ar=or.memoizedState,ar=ar!==null?ar.dehydrated!==null:!0),ar)return or;or=or.return}while(or!==null);return null}function Wi(or,ar,cr,lr,ur){return or.mode&1?(or.flags|=65536,or.lanes=ur,or):(or===ar?or.flags|=65536:(or.flags|=128,cr.flags|=131072,cr.flags&=-52805,cr.tag===1&&(cr.alternate===null?cr.tag=17:(ar=ch$1(-1,1),ar.tag=2,dh(cr,ar,1))),cr.lanes|=1),or)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(or,ar,cr,lr){ar.child=or===null?Ch(ar,null,cr,lr):Bh(ar,or.child,cr,lr)}function Zi(or,ar,cr,lr,ur){cr=cr.render;var fr=ar.ref;return Tg(ar,ur),lr=Xh(or,ar,cr,lr,fr,ur),cr=bi(),or!==null&&!Ug?(ar.updateQueue=or.updateQueue,ar.flags&=-2053,or.lanes&=~ur,$i(or,ar,ur)):(I$1&&cr&&vg(ar),ar.flags|=1,Yi(or,ar,lr,ur),ar.child)}function aj(or,ar,cr,lr,ur){if(or===null){var fr=cr.type;return typeof fr=="function"&&!bj(fr)&&fr.defaultProps===void 0&&cr.compare===null&&cr.defaultProps===void 0?(ar.tag=15,ar.type=fr,cj(or,ar,fr,lr,ur)):(or=yh(cr.type,null,lr,ar,ar.mode,ur),or.ref=ar.ref,or.return=ar,ar.child=or)}if(fr=or.child,!(or.lanes&ur)){var dr=fr.memoizedProps;if(cr=cr.compare,cr=cr!==null?cr:Ie$1,cr(dr,lr)&&or.ref===ar.ref)return $i(or,ar,ur)}return ar.flags|=1,or=wh(fr,lr),or.ref=ar.ref,or.return=ar,ar.child=or}function cj(or,ar,cr,lr,ur){if(or!==null){var fr=or.memoizedProps;if(Ie$1(fr,lr)&&or.ref===ar.ref)if(Ug=!1,ar.pendingProps=lr=fr,(or.lanes&ur)!==0)or.flags&131072&&(Ug=!0);else return ar.lanes=or.lanes,$i(or,ar,ur)}return dj(or,ar,cr,lr,ur)}function ej(or,ar,cr){var lr=ar.pendingProps,ur=lr.children,fr=or!==null?or.memoizedState:null;if(lr.mode==="hidden")if(!(ar.mode&1))ar.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=cr;else{if(!(cr&1073741824))return or=fr!==null?fr.baseLanes|cr:cr,ar.lanes=ar.childLanes=1073741824,ar.memoizedState={baseLanes:or,cachePool:null,transitions:null},ar.updateQueue=null,G$1(fj,gj),gj|=or,null;ar.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr=fr!==null?fr.baseLanes:cr,G$1(fj,gj),gj|=lr}else fr!==null?(lr=fr.baseLanes|cr,ar.memoizedState=null):lr=cr,G$1(fj,gj),gj|=lr;return Yi(or,ar,ur,cr),ar.child}function hj(or,ar){var cr=ar.ref;(or===null&&cr!==null||or!==null&&or.ref!==cr)&&(ar.flags|=512,ar.flags|=2097152)}function dj(or,ar,cr,lr,ur){var fr=Zf(cr)?Xf:H$1.current;return fr=Yf(ar,fr),Tg(ar,ur),cr=Xh(or,ar,cr,lr,fr,ur),lr=bi(),or!==null&&!Ug?(ar.updateQueue=or.updateQueue,ar.flags&=-2053,or.lanes&=~ur,$i(or,ar,ur)):(I$1&&lr&&vg(ar),ar.flags|=1,Yi(or,ar,cr,ur),ar.child)}function ij(or,ar,cr,lr,ur){if(Zf(cr)){var fr=!0;cg(ar)}else fr=!1;if(Tg(ar,ur),ar.stateNode===null)jj(or,ar),ph(ar,cr,lr),rh(ar,cr,lr,ur),lr=!0;else if(or===null){var dr=ar.stateNode,pr=ar.memoizedProps;dr.props=pr;var mr=dr.context,gr=cr.contextType;typeof gr=="object"&&gr!==null?gr=Vg(gr):(gr=Zf(cr)?Xf:H$1.current,gr=Yf(ar,gr));var vr=cr.getDerivedStateFromProps,hr=typeof vr=="function"||typeof dr.getSnapshotBeforeUpdate=="function";hr||typeof dr.UNSAFE_componentWillReceiveProps!="function"&&typeof dr.componentWillReceiveProps!="function"||(pr!==lr||mr!==gr)&&qh(ar,dr,lr,gr),$g=!1;var $r=ar.memoizedState;dr.state=$r,gh(ar,lr,dr,ur),mr=ar.memoizedState,pr!==lr||$r!==mr||Wf.current||$g?(typeof vr=="function"&&(kh(ar,cr,vr,lr),mr=ar.memoizedState),(pr=$g||oh(ar,cr,pr,lr,$r,mr,gr))?(hr||typeof dr.UNSAFE_componentWillMount!="function"&&typeof dr.componentWillMount!="function"||(typeof dr.componentWillMount=="function"&&dr.componentWillMount(),typeof dr.UNSAFE_componentWillMount=="function"&&dr.UNSAFE_componentWillMount()),typeof dr.componentDidMount=="function"&&(ar.flags|=4194308)):(typeof dr.componentDidMount=="function"&&(ar.flags|=4194308),ar.memoizedProps=lr,ar.memoizedState=mr),dr.props=lr,dr.state=mr,dr.context=gr,lr=pr):(typeof dr.componentDidMount=="function"&&(ar.flags|=4194308),lr=!1)}else{dr=ar.stateNode,bh(or,ar),pr=ar.memoizedProps,gr=ar.type===ar.elementType?pr:Lg(ar.type,pr),dr.props=gr,hr=ar.pendingProps,$r=dr.context,mr=cr.contextType,typeof mr=="object"&&mr!==null?mr=Vg(mr):(mr=Zf(cr)?Xf:H$1.current,mr=Yf(ar,mr));var xr=cr.getDerivedStateFromProps;(vr=typeof xr=="function"||typeof dr.getSnapshotBeforeUpdate=="function")||typeof dr.UNSAFE_componentWillReceiveProps!="function"&&typeof dr.componentWillReceiveProps!="function"||(pr!==hr||$r!==mr)&&qh(ar,dr,lr,mr),$g=!1,$r=ar.memoizedState,dr.state=$r,gh(ar,lr,dr,ur);var br=ar.memoizedState;pr!==hr||$r!==br||Wf.current||$g?(typeof xr=="function"&&(kh(ar,cr,xr,lr),br=ar.memoizedState),(gr=$g||oh(ar,cr,gr,lr,$r,br,mr)||!1)?(vr||typeof dr.UNSAFE_componentWillUpdate!="function"&&typeof dr.componentWillUpdate!="function"||(typeof dr.componentWillUpdate=="function"&&dr.componentWillUpdate(lr,br,mr),typeof dr.UNSAFE_componentWillUpdate=="function"&&dr.UNSAFE_componentWillUpdate(lr,br,mr)),typeof dr.componentDidUpdate=="function"&&(ar.flags|=4),typeof dr.getSnapshotBeforeUpdate=="function"&&(ar.flags|=1024)):(typeof dr.componentDidUpdate!="function"||pr===or.memoizedProps&&$r===or.memoizedState||(ar.flags|=4),typeof dr.getSnapshotBeforeUpdate!="function"||pr===or.memoizedProps&&$r===or.memoizedState||(ar.flags|=1024),ar.memoizedProps=lr,ar.memoizedState=br),dr.props=lr,dr.state=br,dr.context=mr,lr=gr):(typeof dr.componentDidUpdate!="function"||pr===or.memoizedProps&&$r===or.memoizedState||(ar.flags|=4),typeof dr.getSnapshotBeforeUpdate!="function"||pr===or.memoizedProps&&$r===or.memoizedState||(ar.flags|=1024),lr=!1)}return kj(or,ar,cr,lr,fr,ur)}function kj(or,ar,cr,lr,ur,fr){hj(or,ar);var dr=(ar.flags&128)!==0;if(!lr&&!dr)return ur&&dg(ar,cr,!1),$i(or,ar,fr);lr=ar.stateNode,Xi.current=ar;var pr=dr&&typeof cr.getDerivedStateFromError!="function"?null:lr.render();return ar.flags|=1,or!==null&&dr?(ar.child=Bh(ar,or.child,null,fr),ar.child=Bh(ar,null,pr,fr)):Yi(or,ar,pr,fr),ar.memoizedState=lr.state,ur&&dg(ar,cr,!0),ar.child}function lj(or){var ar=or.stateNode;ar.pendingContext?ag(or,ar.pendingContext,ar.pendingContext!==ar.context):ar.context&&ag(or,ar.context,!1),Ih(or,ar.containerInfo)}function mj(or,ar,cr,lr,ur){return Ig(),Jg(ur),ar.flags|=256,Yi(or,ar,cr,lr),ar.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(or){return{baseLanes:or,cachePool:null,transitions:null}}function pj(or,ar,cr){var lr=ar.pendingProps,ur=M$1.current,fr=!1,dr=(ar.flags&128)!==0,pr;if((pr=dr)||(pr=or!==null&&or.memoizedState===null?!1:(ur&2)!==0),pr?(fr=!0,ar.flags&=-129):(or===null||or.memoizedState!==null)&&(ur|=1),G$1(M$1,ur&1),or===null)return Eg(ar),or=ar.memoizedState,or!==null&&(or=or.dehydrated,or!==null)?(ar.mode&1?or.data==="$!"?ar.lanes=8:ar.lanes=1073741824:ar.lanes=1,null):(dr=lr.children,or=lr.fallback,fr?(lr=ar.mode,fr=ar.child,dr={mode:"hidden",children:dr},!(lr&1)&&fr!==null?(fr.childLanes=0,fr.pendingProps=dr):fr=qj(dr,lr,0,null),or=Ah(or,lr,cr,null),fr.return=ar,or.return=ar,fr.sibling=or,ar.child=fr,ar.child.memoizedState=oj(cr),ar.memoizedState=nj,or):rj(ar,dr));if(ur=or.memoizedState,ur!==null&&(pr=ur.dehydrated,pr!==null))return sj(or,ar,dr,lr,pr,ur,cr);if(fr){fr=lr.fallback,dr=ar.mode,ur=or.child,pr=ur.sibling;var mr={mode:"hidden",children:lr.children};return!(dr&1)&&ar.child!==ur?(lr=ar.child,lr.childLanes=0,lr.pendingProps=mr,ar.deletions=null):(lr=wh(ur,mr),lr.subtreeFlags=ur.subtreeFlags&14680064),pr!==null?fr=wh(pr,fr):(fr=Ah(fr,dr,cr,null),fr.flags|=2),fr.return=ar,lr.return=ar,lr.sibling=fr,ar.child=lr,lr=fr,fr=ar.child,dr=or.child.memoizedState,dr=dr===null?oj(cr):{baseLanes:dr.baseLanes|cr,cachePool:null,transitions:dr.transitions},fr.memoizedState=dr,fr.childLanes=or.childLanes&~cr,ar.memoizedState=nj,lr}return fr=or.child,or=fr.sibling,lr=wh(fr,{mode:"visible",children:lr.children}),!(ar.mode&1)&&(lr.lanes=cr),lr.return=ar,lr.sibling=null,or!==null&&(cr=ar.deletions,cr===null?(ar.deletions=[or],ar.flags|=16):cr.push(or)),ar.child=lr,ar.memoizedState=null,lr}function rj(or,ar){return ar=qj({mode:"visible",children:ar},or.mode,0,null),ar.return=or,or.child=ar}function tj(or,ar,cr,lr){return lr!==null&&Jg(lr),Bh(ar,or.child,null,cr),or=rj(ar,ar.pendingProps.children),or.flags|=2,ar.memoizedState=null,or}function sj(or,ar,cr,lr,ur,fr,dr){if(cr)return ar.flags&256?(ar.flags&=-257,lr=Li(Error(p$3(422))),tj(or,ar,dr,lr)):ar.memoizedState!==null?(ar.child=or.child,ar.flags|=128,null):(fr=lr.fallback,ur=ar.mode,lr=qj({mode:"visible",children:lr.children},ur,0,null),fr=Ah(fr,ur,dr,null),fr.flags|=2,lr.return=ar,fr.return=ar,lr.sibling=fr,ar.child=lr,ar.mode&1&&Bh(ar,or.child,null,dr),ar.child.memoizedState=oj(dr),ar.memoizedState=nj,fr);if(!(ar.mode&1))return tj(or,ar,dr,null);if(ur.data==="$!"){if(lr=ur.nextSibling&&ur.nextSibling.dataset,lr)var pr=lr.dgst;return lr=pr,fr=Error(p$3(419)),lr=Li(fr,lr,void 0),tj(or,ar,dr,lr)}if(pr=(dr&or.childLanes)!==0,Ug||pr){if(lr=R$1,lr!==null){switch(dr&-dr){case 4:ur=2;break;case 16:ur=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ur=32;break;case 536870912:ur=268435456;break;default:ur=0}ur=ur&(lr.suspendedLanes|dr)?0:ur,ur!==0&&ur!==fr.retryLane&&(fr.retryLane=ur,Zg(or,ur),mh(lr,or,ur,-1))}return uj(),lr=Li(Error(p$3(421))),tj(or,ar,dr,lr)}return ur.data==="$?"?(ar.flags|=128,ar.child=or.child,ar=vj.bind(null,or),ur._reactRetry=ar,null):(or=fr.treeContext,yg=Lf(ur.nextSibling),xg=ar,I$1=!0,zg=null,or!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=or.id,sg=or.overflow,qg=ar),ar=rj(ar,lr.children),ar.flags|=4096,ar)}function wj(or,ar,cr){or.lanes|=ar;var lr=or.alternate;lr!==null&&(lr.lanes|=ar),Sg(or.return,ar,cr)}function xj(or,ar,cr,lr,ur){var fr=or.memoizedState;fr===null?or.memoizedState={isBackwards:ar,rendering:null,renderingStartTime:0,last:lr,tail:cr,tailMode:ur}:(fr.isBackwards=ar,fr.rendering=null,fr.renderingStartTime=0,fr.last=lr,fr.tail=cr,fr.tailMode=ur)}function yj(or,ar,cr){var lr=ar.pendingProps,ur=lr.revealOrder,fr=lr.tail;if(Yi(or,ar,lr.children,cr),lr=M$1.current,lr&2)lr=lr&1|2,ar.flags|=128;else{if(or!==null&&or.flags&128)e:for(or=ar.child;or!==null;){if(or.tag===13)or.memoizedState!==null&&wj(or,cr,ar);else if(or.tag===19)wj(or,cr,ar);else if(or.child!==null){or.child.return=or,or=or.child;continue}if(or===ar)break e;for(;or.sibling===null;){if(or.return===null||or.return===ar)break e;or=or.return}or.sibling.return=or.return,or=or.sibling}lr&=1}if(G$1(M$1,lr),!(ar.mode&1))ar.memoizedState=null;else switch(ur){case"forwards":for(cr=ar.child,ur=null;cr!==null;)or=cr.alternate,or!==null&&Mh(or)===null&&(ur=cr),cr=cr.sibling;cr=ur,cr===null?(ur=ar.child,ar.child=null):(ur=cr.sibling,cr.sibling=null),xj(ar,!1,ur,cr,fr);break;case"backwards":for(cr=null,ur=ar.child,ar.child=null;ur!==null;){if(or=ur.alternate,or!==null&&Mh(or)===null){ar.child=ur;break}or=ur.sibling,ur.sibling=cr,cr=ur,ur=or}xj(ar,!0,cr,null,fr);break;case"together":xj(ar,!1,null,null,void 0);break;default:ar.memoizedState=null}return ar.child}function jj(or,ar){!(ar.mode&1)&&or!==null&&(or.alternate=null,ar.alternate=null,ar.flags|=2)}function $i(or,ar,cr){if(or!==null&&(ar.dependencies=or.dependencies),hh|=ar.lanes,!(cr&ar.childLanes))return null;if(or!==null&&ar.child!==or.child)throw Error(p$3(153));if(ar.child!==null){for(or=ar.child,cr=wh(or,or.pendingProps),ar.child=cr,cr.return=ar;or.sibling!==null;)or=or.sibling,cr=cr.sibling=wh(or,or.pendingProps),cr.return=ar;cr.sibling=null}return ar.child}function zj(or,ar,cr){switch(ar.tag){case 3:lj(ar),Ig();break;case 5:Kh(ar);break;case 1:Zf(ar.type)&&cg(ar);break;case 4:Ih(ar,ar.stateNode.containerInfo);break;case 10:var lr=ar.type._context,ur=ar.memoizedProps.value;G$1(Mg,lr._currentValue),lr._currentValue=ur;break;case 13:if(lr=ar.memoizedState,lr!==null)return lr.dehydrated!==null?(G$1(M$1,M$1.current&1),ar.flags|=128,null):cr&ar.child.childLanes?pj(or,ar,cr):(G$1(M$1,M$1.current&1),or=$i(or,ar,cr),or!==null?or.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(lr=(cr&ar.childLanes)!==0,or.flags&128){if(lr)return yj(or,ar,cr);ar.flags|=128}if(ur=ar.memoizedState,ur!==null&&(ur.rendering=null,ur.tail=null,ur.lastEffect=null),G$1(M$1,M$1.current),lr)break;return null;case 22:case 23:return ar.lanes=0,ej(or,ar,cr)}return $i(or,ar,cr)}var Aj,Bj,Cj,Dj;Aj=function(or,ar){for(var cr=ar.child;cr!==null;){if(cr.tag===5||cr.tag===6)or.appendChild(cr.stateNode);else if(cr.tag!==4&&cr.child!==null){cr.child.return=cr,cr=cr.child;continue}if(cr===ar)break;for(;cr.sibling===null;){if(cr.return===null||cr.return===ar)return;cr=cr.return}cr.sibling.return=cr.return,cr=cr.sibling}};Bj=function(){};Cj=function(or,ar,cr,lr){var ur=or.memoizedProps;if(ur!==lr){or=ar.stateNode,Hh(Eh.current);var fr=null;switch(cr){case"input":ur=Ya(or,ur),lr=Ya(or,lr),fr=[];break;case"select":ur=A$1({},ur,{value:void 0}),lr=A$1({},lr,{value:void 0}),fr=[];break;case"textarea":ur=gb(or,ur),lr=gb(or,lr),fr=[];break;default:typeof ur.onClick!="function"&&typeof lr.onClick=="function"&&(or.onclick=Bf)}ub(cr,lr);var dr;cr=null;for(gr in ur)if(!lr.hasOwnProperty(gr)&&ur.hasOwnProperty(gr)&&ur[gr]!=null)if(gr==="style"){var pr=ur[gr];for(dr in pr)pr.hasOwnProperty(dr)&&(cr||(cr={}),cr[dr]="")}else gr!=="dangerouslySetInnerHTML"&&gr!=="children"&&gr!=="suppressContentEditableWarning"&&gr!=="suppressHydrationWarning"&&gr!=="autoFocus"&&(ea.hasOwnProperty(gr)?fr||(fr=[]):(fr=fr||[]).push(gr,null));for(gr in lr){var mr=lr[gr];if(pr=ur!=null?ur[gr]:void 0,lr.hasOwnProperty(gr)&&mr!==pr&&(mr!=null||pr!=null))if(gr==="style")if(pr){for(dr in pr)!pr.hasOwnProperty(dr)||mr&&mr.hasOwnProperty(dr)||(cr||(cr={}),cr[dr]="");for(dr in mr)mr.hasOwnProperty(dr)&&pr[dr]!==mr[dr]&&(cr||(cr={}),cr[dr]=mr[dr])}else cr||(fr||(fr=[]),fr.push(gr,cr)),cr=mr;else gr==="dangerouslySetInnerHTML"?(mr=mr?mr.__html:void 0,pr=pr?pr.__html:void 0,mr!=null&&pr!==mr&&(fr=fr||[]).push(gr,mr)):gr==="children"?typeof mr!="string"&&typeof mr!="number"||(fr=fr||[]).push(gr,""+mr):gr!=="suppressContentEditableWarning"&&gr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(gr)?(mr!=null&&gr==="onScroll"&&D$1("scroll",or),fr||pr===mr||(fr=[])):(fr=fr||[]).push(gr,mr))}cr&&(fr=fr||[]).push("style",cr);var gr=fr;(ar.updateQueue=gr)&&(ar.flags|=4)}};Dj=function(or,ar,cr,lr){cr!==lr&&(ar.flags|=4)};function Ej(or,ar){if(!I$1)switch(or.tailMode){case"hidden":ar=or.tail;for(var cr=null;ar!==null;)ar.alternate!==null&&(cr=ar),ar=ar.sibling;cr===null?or.tail=null:cr.sibling=null;break;case"collapsed":cr=or.tail;for(var lr=null;cr!==null;)cr.alternate!==null&&(lr=cr),cr=cr.sibling;lr===null?ar||or.tail===null?or.tail=null:or.tail.sibling=null:lr.sibling=null}}function S$2(or){var ar=or.alternate!==null&&or.alternate.child===or.child,cr=0,lr=0;if(ar)for(var ur=or.child;ur!==null;)cr|=ur.lanes|ur.childLanes,lr|=ur.subtreeFlags&14680064,lr|=ur.flags&14680064,ur.return=or,ur=ur.sibling;else for(ur=or.child;ur!==null;)cr|=ur.lanes|ur.childLanes,lr|=ur.subtreeFlags,lr|=ur.flags,ur.return=or,ur=ur.sibling;return or.subtreeFlags|=lr,or.childLanes=cr,ar}function Fj(or,ar,cr){var lr=ar.pendingProps;switch(wg(ar),ar.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(ar),null;case 1:return Zf(ar.type)&&$f(),S$2(ar),null;case 3:return lr=ar.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),lr.pendingContext&&(lr.context=lr.pendingContext,lr.pendingContext=null),(or===null||or.child===null)&&(Gg(ar)?ar.flags|=4:or===null||or.memoizedState.isDehydrated&&!(ar.flags&256)||(ar.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(or,ar),S$2(ar),null;case 5:Lh(ar);var ur=Hh(Gh.current);if(cr=ar.type,or!==null&&ar.stateNode!=null)Cj(or,ar,cr,lr,ur),or.ref!==ar.ref&&(ar.flags|=512,ar.flags|=2097152);else{if(!lr){if(ar.stateNode===null)throw Error(p$3(166));return S$2(ar),null}if(or=Hh(Eh.current),Gg(ar)){lr=ar.stateNode,cr=ar.type;var fr=ar.memoizedProps;switch(lr[Of]=ar,lr[Pf]=fr,or=(ar.mode&1)!==0,cr){case"dialog":D$1("cancel",lr),D$1("close",lr);break;case"iframe":case"object":case"embed":D$1("load",lr);break;case"video":case"audio":for(ur=0;ur<lf.length;ur++)D$1(lf[ur],lr);break;case"source":D$1("error",lr);break;case"img":case"image":case"link":D$1("error",lr),D$1("load",lr);break;case"details":D$1("toggle",lr);break;case"input":Za(lr,fr),D$1("invalid",lr);break;case"select":lr._wrapperState={wasMultiple:!!fr.multiple},D$1("invalid",lr);break;case"textarea":hb(lr,fr),D$1("invalid",lr)}ub(cr,fr),ur=null;for(var dr in fr)if(fr.hasOwnProperty(dr)){var pr=fr[dr];dr==="children"?typeof pr=="string"?lr.textContent!==pr&&(fr.suppressHydrationWarning!==!0&&Af(lr.textContent,pr,or),ur=["children",pr]):typeof pr=="number"&&lr.textContent!==""+pr&&(fr.suppressHydrationWarning!==!0&&Af(lr.textContent,pr,or),ur=["children",""+pr]):ea.hasOwnProperty(dr)&&pr!=null&&dr==="onScroll"&&D$1("scroll",lr)}switch(cr){case"input":Va(lr),db(lr,fr,!0);break;case"textarea":Va(lr),jb(lr);break;case"select":case"option":break;default:typeof fr.onClick=="function"&&(lr.onclick=Bf)}lr=ur,ar.updateQueue=lr,lr!==null&&(ar.flags|=4)}else{dr=ur.nodeType===9?ur:ur.ownerDocument,or==="http://www.w3.org/1999/xhtml"&&(or=kb(cr)),or==="http://www.w3.org/1999/xhtml"?cr==="script"?(or=dr.createElement("div"),or.innerHTML="<script><\/script>",or=or.removeChild(or.firstChild)):typeof lr.is=="string"?or=dr.createElement(cr,{is:lr.is}):(or=dr.createElement(cr),cr==="select"&&(dr=or,lr.multiple?dr.multiple=!0:lr.size&&(dr.size=lr.size))):or=dr.createElementNS(or,cr),or[Of]=ar,or[Pf]=lr,Aj(or,ar,!1,!1),ar.stateNode=or;e:{switch(dr=vb(cr,lr),cr){case"dialog":D$1("cancel",or),D$1("close",or),ur=lr;break;case"iframe":case"object":case"embed":D$1("load",or),ur=lr;break;case"video":case"audio":for(ur=0;ur<lf.length;ur++)D$1(lf[ur],or);ur=lr;break;case"source":D$1("error",or),ur=lr;break;case"img":case"image":case"link":D$1("error",or),D$1("load",or),ur=lr;break;case"details":D$1("toggle",or),ur=lr;break;case"input":Za(or,lr),ur=Ya(or,lr),D$1("invalid",or);break;case"option":ur=lr;break;case"select":or._wrapperState={wasMultiple:!!lr.multiple},ur=A$1({},lr,{value:void 0}),D$1("invalid",or);break;case"textarea":hb(or,lr),ur=gb(or,lr),D$1("invalid",or);break;default:ur=lr}ub(cr,ur),pr=ur;for(fr in pr)if(pr.hasOwnProperty(fr)){var mr=pr[fr];fr==="style"?sb(or,mr):fr==="dangerouslySetInnerHTML"?(mr=mr?mr.__html:void 0,mr!=null&&nb(or,mr)):fr==="children"?typeof mr=="string"?(cr!=="textarea"||mr!=="")&&ob(or,mr):typeof mr=="number"&&ob(or,""+mr):fr!=="suppressContentEditableWarning"&&fr!=="suppressHydrationWarning"&&fr!=="autoFocus"&&(ea.hasOwnProperty(fr)?mr!=null&&fr==="onScroll"&&D$1("scroll",or):mr!=null&&ta(or,fr,mr,dr))}switch(cr){case"input":Va(or),db(or,lr,!1);break;case"textarea":Va(or),jb(or);break;case"option":lr.value!=null&&or.setAttribute("value",""+Sa(lr.value));break;case"select":or.multiple=!!lr.multiple,fr=lr.value,fr!=null?fb(or,!!lr.multiple,fr,!1):lr.defaultValue!=null&&fb(or,!!lr.multiple,lr.defaultValue,!0);break;default:typeof ur.onClick=="function"&&(or.onclick=Bf)}switch(cr){case"button":case"input":case"select":case"textarea":lr=!!lr.autoFocus;break e;case"img":lr=!0;break e;default:lr=!1}}lr&&(ar.flags|=4)}ar.ref!==null&&(ar.flags|=512,ar.flags|=2097152)}return S$2(ar),null;case 6:if(or&&ar.stateNode!=null)Dj(or,ar,or.memoizedProps,lr);else{if(typeof lr!="string"&&ar.stateNode===null)throw Error(p$3(166));if(cr=Hh(Gh.current),Hh(Eh.current),Gg(ar)){if(lr=ar.stateNode,cr=ar.memoizedProps,lr[Of]=ar,(fr=lr.nodeValue!==cr)&&(or=xg,or!==null))switch(or.tag){case 3:Af(lr.nodeValue,cr,(or.mode&1)!==0);break;case 5:or.memoizedProps.suppressHydrationWarning!==!0&&Af(lr.nodeValue,cr,(or.mode&1)!==0)}fr&&(ar.flags|=4)}else lr=(cr.nodeType===9?cr:cr.ownerDocument).createTextNode(lr),lr[Of]=ar,ar.stateNode=lr}return S$2(ar),null;case 13:if(E$1(M$1),lr=ar.memoizedState,or===null||or.memoizedState!==null&&or.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&ar.mode&1&&!(ar.flags&128))Hg(),Ig(),ar.flags|=98560,fr=!1;else if(fr=Gg(ar),lr!==null&&lr.dehydrated!==null){if(or===null){if(!fr)throw Error(p$3(318));if(fr=ar.memoizedState,fr=fr!==null?fr.dehydrated:null,!fr)throw Error(p$3(317));fr[Of]=ar}else Ig(),!(ar.flags&128)&&(ar.memoizedState=null),ar.flags|=4;S$2(ar),fr=!1}else zg!==null&&(Gj(zg),zg=null),fr=!0;if(!fr)return ar.flags&65536?ar:null}return ar.flags&128?(ar.lanes=cr,ar):(lr=lr!==null,lr!==(or!==null&&or.memoizedState!==null)&&lr&&(ar.child.flags|=8192,ar.mode&1&&(or===null||M$1.current&1?T$1===0&&(T$1=3):uj())),ar.updateQueue!==null&&(ar.flags|=4),S$2(ar),null);case 4:return Jh(),Bj(or,ar),or===null&&sf(ar.stateNode.containerInfo),S$2(ar),null;case 10:return Rg(ar.type._context),S$2(ar),null;case 17:return Zf(ar.type)&&$f(),S$2(ar),null;case 19:if(E$1(M$1),fr=ar.memoizedState,fr===null)return S$2(ar),null;if(lr=(ar.flags&128)!==0,dr=fr.rendering,dr===null)if(lr)Ej(fr,!1);else{if(T$1!==0||or!==null&&or.flags&128)for(or=ar.child;or!==null;){if(dr=Mh(or),dr!==null){for(ar.flags|=128,Ej(fr,!1),lr=dr.updateQueue,lr!==null&&(ar.updateQueue=lr,ar.flags|=4),ar.subtreeFlags=0,lr=cr,cr=ar.child;cr!==null;)fr=cr,or=lr,fr.flags&=14680066,dr=fr.alternate,dr===null?(fr.childLanes=0,fr.lanes=or,fr.child=null,fr.subtreeFlags=0,fr.memoizedProps=null,fr.memoizedState=null,fr.updateQueue=null,fr.dependencies=null,fr.stateNode=null):(fr.childLanes=dr.childLanes,fr.lanes=dr.lanes,fr.child=dr.child,fr.subtreeFlags=0,fr.deletions=null,fr.memoizedProps=dr.memoizedProps,fr.memoizedState=dr.memoizedState,fr.updateQueue=dr.updateQueue,fr.type=dr.type,or=dr.dependencies,fr.dependencies=or===null?null:{lanes:or.lanes,firstContext:or.firstContext}),cr=cr.sibling;return G$1(M$1,M$1.current&1|2),ar.child}or=or.sibling}fr.tail!==null&&B$1()>Hj&&(ar.flags|=128,lr=!0,Ej(fr,!1),ar.lanes=4194304)}else{if(!lr)if(or=Mh(dr),or!==null){if(ar.flags|=128,lr=!0,cr=or.updateQueue,cr!==null&&(ar.updateQueue=cr,ar.flags|=4),Ej(fr,!0),fr.tail===null&&fr.tailMode==="hidden"&&!dr.alternate&&!I$1)return S$2(ar),null}else 2*B$1()-fr.renderingStartTime>Hj&&cr!==1073741824&&(ar.flags|=128,lr=!0,Ej(fr,!1),ar.lanes=4194304);fr.isBackwards?(dr.sibling=ar.child,ar.child=dr):(cr=fr.last,cr!==null?cr.sibling=dr:ar.child=dr,fr.last=dr)}return fr.tail!==null?(ar=fr.tail,fr.rendering=ar,fr.tail=ar.sibling,fr.renderingStartTime=B$1(),ar.sibling=null,cr=M$1.current,G$1(M$1,lr?cr&1|2:cr&1),ar):(S$2(ar),null);case 22:case 23:return Ij(),lr=ar.memoizedState!==null,or!==null&&or.memoizedState!==null!==lr&&(ar.flags|=8192),lr&&ar.mode&1?gj&1073741824&&(S$2(ar),ar.subtreeFlags&6&&(ar.flags|=8192)):S$2(ar),null;case 24:return null;case 25:return null}throw Error(p$3(156,ar.tag))}function Jj(or,ar){switch(wg(ar),ar.tag){case 1:return Zf(ar.type)&&$f(),or=ar.flags,or&65536?(ar.flags=or&-65537|128,ar):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),or=ar.flags,or&65536&&!(or&128)?(ar.flags=or&-65537|128,ar):null;case 5:return Lh(ar),null;case 13:if(E$1(M$1),or=ar.memoizedState,or!==null&&or.dehydrated!==null){if(ar.alternate===null)throw Error(p$3(340));Ig()}return or=ar.flags,or&65536?(ar.flags=or&-65537|128,ar):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(ar.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(or,ar){var cr=or.ref;if(cr!==null)if(typeof cr=="function")try{cr(null)}catch(lr){W$1(or,ar,lr)}else cr.current=null}function Nj(or,ar,cr){try{cr()}catch(lr){W$1(or,ar,lr)}}var Oj=!1;function Pj(or,ar){if(Cf=dd,or=Me$1(),Ne$1(or)){if("selectionStart"in or)var cr={start:or.selectionStart,end:or.selectionEnd};else e:{cr=(cr=or.ownerDocument)&&cr.defaultView||window;var lr=cr.getSelection&&cr.getSelection();if(lr&&lr.rangeCount!==0){cr=lr.anchorNode;var ur=lr.anchorOffset,fr=lr.focusNode;lr=lr.focusOffset;try{cr.nodeType,fr.nodeType}catch{cr=null;break e}var dr=0,pr=-1,mr=-1,gr=0,vr=0,hr=or,$r=null;t:for(;;){for(var xr;hr!==cr||ur!==0&&hr.nodeType!==3||(pr=dr+ur),hr!==fr||lr!==0&&hr.nodeType!==3||(mr=dr+lr),hr.nodeType===3&&(dr+=hr.nodeValue.length),(xr=hr.firstChild)!==null;)$r=hr,hr=xr;for(;;){if(hr===or)break t;if($r===cr&&++gr===ur&&(pr=dr),$r===fr&&++vr===lr&&(mr=dr),(xr=hr.nextSibling)!==null)break;hr=$r,$r=hr.parentNode}hr=xr}cr=pr===-1||mr===-1?null:{start:pr,end:mr}}else cr=null}cr=cr||{start:0,end:0}}else cr=null;for(Df={focusedElem:or,selectionRange:cr},dd=!1,V$1=ar;V$1!==null;)if(ar=V$1,or=ar.child,(ar.subtreeFlags&1028)!==0&&or!==null)or.return=ar,V$1=or;else for(;V$1!==null;){ar=V$1;try{var br=ar.alternate;if(ar.flags&1024)switch(ar.tag){case 0:case 11:case 15:break;case 1:if(br!==null){var Er=br.memoizedProps,wr=br.memoizedState,yr=ar.stateNode,_r=yr.getSnapshotBeforeUpdate(ar.elementType===ar.type?Er:Lg(ar.type,Er),wr);yr.__reactInternalSnapshotBeforeUpdate=_r}break;case 3:var Sr=ar.stateNode.containerInfo;Sr.nodeType===1?Sr.textContent="":Sr.nodeType===9&&Sr.documentElement&&Sr.removeChild(Sr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(Pr){W$1(ar,ar.return,Pr)}if(or=ar.sibling,or!==null){or.return=ar.return,V$1=or;break}V$1=ar.return}return br=Oj,Oj=!1,br}function Qj(or,ar,cr){var lr=ar.updateQueue;if(lr=lr!==null?lr.lastEffect:null,lr!==null){var ur=lr=lr.next;do{if((ur.tag&or)===or){var fr=ur.destroy;ur.destroy=void 0,fr!==void 0&&Nj(ar,cr,fr)}ur=ur.next}while(ur!==lr)}}function Rj(or,ar){if(ar=ar.updateQueue,ar=ar!==null?ar.lastEffect:null,ar!==null){var cr=ar=ar.next;do{if((cr.tag&or)===or){var lr=cr.create;cr.destroy=lr()}cr=cr.next}while(cr!==ar)}}function Sj(or){var ar=or.ref;if(ar!==null){var cr=or.stateNode;switch(or.tag){case 5:or=cr;break;default:or=cr}typeof ar=="function"?ar(or):ar.current=or}}function Tj(or){var ar=or.alternate;ar!==null&&(or.alternate=null,Tj(ar)),or.child=null,or.deletions=null,or.sibling=null,or.tag===5&&(ar=or.stateNode,ar!==null&&(delete ar[Of],delete ar[Pf],delete ar[of],delete ar[Qf],delete ar[Rf])),or.stateNode=null,or.return=null,or.dependencies=null,or.memoizedProps=null,or.memoizedState=null,or.pendingProps=null,or.stateNode=null,or.updateQueue=null}function Uj(or){return or.tag===5||or.tag===3||or.tag===4}function Vj(or){e:for(;;){for(;or.sibling===null;){if(or.return===null||Uj(or.return))return null;or=or.return}for(or.sibling.return=or.return,or=or.sibling;or.tag!==5&&or.tag!==6&&or.tag!==18;){if(or.flags&2||or.child===null||or.tag===4)continue e;or.child.return=or,or=or.child}if(!(or.flags&2))return or.stateNode}}function Wj(or,ar,cr){var lr=or.tag;if(lr===5||lr===6)or=or.stateNode,ar?cr.nodeType===8?cr.parentNode.insertBefore(or,ar):cr.insertBefore(or,ar):(cr.nodeType===8?(ar=cr.parentNode,ar.insertBefore(or,cr)):(ar=cr,ar.appendChild(or)),cr=cr._reactRootContainer,cr!=null||ar.onclick!==null||(ar.onclick=Bf));else if(lr!==4&&(or=or.child,or!==null))for(Wj(or,ar,cr),or=or.sibling;or!==null;)Wj(or,ar,cr),or=or.sibling}function Xj(or,ar,cr){var lr=or.tag;if(lr===5||lr===6)or=or.stateNode,ar?cr.insertBefore(or,ar):cr.appendChild(or);else if(lr!==4&&(or=or.child,or!==null))for(Xj(or,ar,cr),or=or.sibling;or!==null;)Xj(or,ar,cr),or=or.sibling}var X$1=null,Yj=!1;function Zj(or,ar,cr){for(cr=cr.child;cr!==null;)ak(or,ar,cr),cr=cr.sibling}function ak(or,ar,cr){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,cr)}catch{}switch(cr.tag){case 5:U$1||Mj(cr,ar);case 6:var lr=X$1,ur=Yj;X$1=null,Zj(or,ar,cr),X$1=lr,Yj=ur,X$1!==null&&(Yj?(or=X$1,cr=cr.stateNode,or.nodeType===8?or.parentNode.removeChild(cr):or.removeChild(cr)):X$1.removeChild(cr.stateNode));break;case 18:X$1!==null&&(Yj?(or=X$1,cr=cr.stateNode,or.nodeType===8?Kf(or.parentNode,cr):or.nodeType===1&&Kf(or,cr),bd(or)):Kf(X$1,cr.stateNode));break;case 4:lr=X$1,ur=Yj,X$1=cr.stateNode.containerInfo,Yj=!0,Zj(or,ar,cr),X$1=lr,Yj=ur;break;case 0:case 11:case 14:case 15:if(!U$1&&(lr=cr.updateQueue,lr!==null&&(lr=lr.lastEffect,lr!==null))){ur=lr=lr.next;do{var fr=ur,dr=fr.destroy;fr=fr.tag,dr!==void 0&&(fr&2||fr&4)&&Nj(cr,ar,dr),ur=ur.next}while(ur!==lr)}Zj(or,ar,cr);break;case 1:if(!U$1&&(Mj(cr,ar),lr=cr.stateNode,typeof lr.componentWillUnmount=="function"))try{lr.props=cr.memoizedProps,lr.state=cr.memoizedState,lr.componentWillUnmount()}catch(pr){W$1(cr,ar,pr)}Zj(or,ar,cr);break;case 21:Zj(or,ar,cr);break;case 22:cr.mode&1?(U$1=(lr=U$1)||cr.memoizedState!==null,Zj(or,ar,cr),U$1=lr):Zj(or,ar,cr);break;default:Zj(or,ar,cr)}}function bk(or){var ar=or.updateQueue;if(ar!==null){or.updateQueue=null;var cr=or.stateNode;cr===null&&(cr=or.stateNode=new Lj),ar.forEach(function(lr){var ur=ck.bind(null,or,lr);cr.has(lr)||(cr.add(lr),lr.then(ur,ur))})}}function dk(or,ar){var cr=ar.deletions;if(cr!==null)for(var lr=0;lr<cr.length;lr++){var ur=cr[lr];try{var fr=or,dr=ar,pr=dr;e:for(;pr!==null;){switch(pr.tag){case 5:X$1=pr.stateNode,Yj=!1;break e;case 3:X$1=pr.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=pr.stateNode.containerInfo,Yj=!0;break e}pr=pr.return}if(X$1===null)throw Error(p$3(160));ak(fr,dr,ur),X$1=null,Yj=!1;var mr=ur.alternate;mr!==null&&(mr.return=null),ur.return=null}catch(gr){W$1(ur,ar,gr)}}if(ar.subtreeFlags&12854)for(ar=ar.child;ar!==null;)ek(ar,or),ar=ar.sibling}function ek(or,ar){var cr=or.alternate,lr=or.flags;switch(or.tag){case 0:case 11:case 14:case 15:if(dk(ar,or),fk(or),lr&4){try{Qj(3,or,or.return),Rj(3,or)}catch(Er){W$1(or,or.return,Er)}try{Qj(5,or,or.return)}catch(Er){W$1(or,or.return,Er)}}break;case 1:dk(ar,or),fk(or),lr&512&&cr!==null&&Mj(cr,cr.return);break;case 5:if(dk(ar,or),fk(or),lr&512&&cr!==null&&Mj(cr,cr.return),or.flags&32){var ur=or.stateNode;try{ob(ur,"")}catch(Er){W$1(or,or.return,Er)}}if(lr&4&&(ur=or.stateNode,ur!=null)){var fr=or.memoizedProps,dr=cr!==null?cr.memoizedProps:fr,pr=or.type,mr=or.updateQueue;if(or.updateQueue=null,mr!==null)try{pr==="input"&&fr.type==="radio"&&fr.name!=null&&ab(ur,fr),vb(pr,dr);var gr=vb(pr,fr);for(dr=0;dr<mr.length;dr+=2){var vr=mr[dr],hr=mr[dr+1];vr==="style"?sb(ur,hr):vr==="dangerouslySetInnerHTML"?nb(ur,hr):vr==="children"?ob(ur,hr):ta(ur,vr,hr,gr)}switch(pr){case"input":bb(ur,fr);break;case"textarea":ib(ur,fr);break;case"select":var $r=ur._wrapperState.wasMultiple;ur._wrapperState.wasMultiple=!!fr.multiple;var xr=fr.value;xr!=null?fb(ur,!!fr.multiple,xr,!1):$r!==!!fr.multiple&&(fr.defaultValue!=null?fb(ur,!!fr.multiple,fr.defaultValue,!0):fb(ur,!!fr.multiple,fr.multiple?[]:"",!1))}ur[Pf]=fr}catch(Er){W$1(or,or.return,Er)}}break;case 6:if(dk(ar,or),fk(or),lr&4){if(or.stateNode===null)throw Error(p$3(162));ur=or.stateNode,fr=or.memoizedProps;try{ur.nodeValue=fr}catch(Er){W$1(or,or.return,Er)}}break;case 3:if(dk(ar,or),fk(or),lr&4&&cr!==null&&cr.memoizedState.isDehydrated)try{bd(ar.containerInfo)}catch(Er){W$1(or,or.return,Er)}break;case 4:dk(ar,or),fk(or);break;case 13:dk(ar,or),fk(or),ur=or.child,ur.flags&8192&&(fr=ur.memoizedState!==null,ur.stateNode.isHidden=fr,!fr||ur.alternate!==null&&ur.alternate.memoizedState!==null||(gk=B$1())),lr&4&&bk(or);break;case 22:if(vr=cr!==null&&cr.memoizedState!==null,or.mode&1?(U$1=(gr=U$1)||vr,dk(ar,or),U$1=gr):dk(ar,or),fk(or),lr&8192){if(gr=or.memoizedState!==null,(or.stateNode.isHidden=gr)&&!vr&&or.mode&1)for(V$1=or,vr=or.child;vr!==null;){for(hr=V$1=vr;V$1!==null;){switch($r=V$1,xr=$r.child,$r.tag){case 0:case 11:case 14:case 15:Qj(4,$r,$r.return);break;case 1:Mj($r,$r.return);var br=$r.stateNode;if(typeof br.componentWillUnmount=="function"){lr=$r,cr=$r.return;try{ar=lr,br.props=ar.memoizedProps,br.state=ar.memoizedState,br.componentWillUnmount()}catch(Er){W$1(lr,cr,Er)}}break;case 5:Mj($r,$r.return);break;case 22:if($r.memoizedState!==null){hk(hr);continue}}xr!==null?(xr.return=$r,V$1=xr):hk(hr)}vr=vr.sibling}e:for(vr=null,hr=or;;){if(hr.tag===5){if(vr===null){vr=hr;try{ur=hr.stateNode,gr?(fr=ur.style,typeof fr.setProperty=="function"?fr.setProperty("display","none","important"):fr.display="none"):(pr=hr.stateNode,mr=hr.memoizedProps.style,dr=mr!=null&&mr.hasOwnProperty("display")?mr.display:null,pr.style.display=rb("display",dr))}catch(Er){W$1(or,or.return,Er)}}}else if(hr.tag===6){if(vr===null)try{hr.stateNode.nodeValue=gr?"":hr.memoizedProps}catch(Er){W$1(or,or.return,Er)}}else if((hr.tag!==22&&hr.tag!==23||hr.memoizedState===null||hr===or)&&hr.child!==null){hr.child.return=hr,hr=hr.child;continue}if(hr===or)break e;for(;hr.sibling===null;){if(hr.return===null||hr.return===or)break e;vr===hr&&(vr=null),hr=hr.return}vr===hr&&(vr=null),hr.sibling.return=hr.return,hr=hr.sibling}}break;case 19:dk(ar,or),fk(or),lr&4&&bk(or);break;case 21:break;default:dk(ar,or),fk(or)}}function fk(or){var ar=or.flags;if(ar&2){try{e:{for(var cr=or.return;cr!==null;){if(Uj(cr)){var lr=cr;break e}cr=cr.return}throw Error(p$3(160))}switch(lr.tag){case 5:var ur=lr.stateNode;lr.flags&32&&(ob(ur,""),lr.flags&=-33);var fr=Vj(or);Xj(or,fr,ur);break;case 3:case 4:var dr=lr.stateNode.containerInfo,pr=Vj(or);Wj(or,pr,dr);break;default:throw Error(p$3(161))}}catch(mr){W$1(or,or.return,mr)}or.flags&=-3}ar&4096&&(or.flags&=-4097)}function ik(or,ar,cr){V$1=or,jk(or)}function jk(or,ar,cr){for(var lr=(or.mode&1)!==0;V$1!==null;){var ur=V$1,fr=ur.child;if(ur.tag===22&&lr){var dr=ur.memoizedState!==null||Kj;if(!dr){var pr=ur.alternate,mr=pr!==null&&pr.memoizedState!==null||U$1;pr=Kj;var gr=U$1;if(Kj=dr,(U$1=mr)&&!gr)for(V$1=ur;V$1!==null;)dr=V$1,mr=dr.child,dr.tag===22&&dr.memoizedState!==null?kk(ur):mr!==null?(mr.return=dr,V$1=mr):kk(ur);for(;fr!==null;)V$1=fr,jk(fr),fr=fr.sibling;V$1=ur,Kj=pr,U$1=gr}lk(or)}else ur.subtreeFlags&8772&&fr!==null?(fr.return=ur,V$1=fr):lk(or)}}function lk(or){for(;V$1!==null;){var ar=V$1;if(ar.flags&8772){var cr=ar.alternate;try{if(ar.flags&8772)switch(ar.tag){case 0:case 11:case 15:U$1||Rj(5,ar);break;case 1:var lr=ar.stateNode;if(ar.flags&4&&!U$1)if(cr===null)lr.componentDidMount();else{var ur=ar.elementType===ar.type?cr.memoizedProps:Lg(ar.type,cr.memoizedProps);lr.componentDidUpdate(ur,cr.memoizedState,lr.__reactInternalSnapshotBeforeUpdate)}var fr=ar.updateQueue;fr!==null&&ih(ar,fr,lr);break;case 3:var dr=ar.updateQueue;if(dr!==null){if(cr=null,ar.child!==null)switch(ar.child.tag){case 5:cr=ar.child.stateNode;break;case 1:cr=ar.child.stateNode}ih(ar,dr,cr)}break;case 5:var pr=ar.stateNode;if(cr===null&&ar.flags&4){cr=pr;var mr=ar.memoizedProps;switch(ar.type){case"button":case"input":case"select":case"textarea":mr.autoFocus&&cr.focus();break;case"img":mr.src&&(cr.src=mr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ar.memoizedState===null){var gr=ar.alternate;if(gr!==null){var vr=gr.memoizedState;if(vr!==null){var hr=vr.dehydrated;hr!==null&&bd(hr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$1||ar.flags&512&&Sj(ar)}catch($r){W$1(ar,ar.return,$r)}}if(ar===or){V$1=null;break}if(cr=ar.sibling,cr!==null){cr.return=ar.return,V$1=cr;break}V$1=ar.return}}function hk(or){for(;V$1!==null;){var ar=V$1;if(ar===or){V$1=null;break}var cr=ar.sibling;if(cr!==null){cr.return=ar.return,V$1=cr;break}V$1=ar.return}}function kk(or){for(;V$1!==null;){var ar=V$1;try{switch(ar.tag){case 0:case 11:case 15:var cr=ar.return;try{Rj(4,ar)}catch(mr){W$1(ar,cr,mr)}break;case 1:var lr=ar.stateNode;if(typeof lr.componentDidMount=="function"){var ur=ar.return;try{lr.componentDidMount()}catch(mr){W$1(ar,ur,mr)}}var fr=ar.return;try{Sj(ar)}catch(mr){W$1(ar,fr,mr)}break;case 5:var dr=ar.return;try{Sj(ar)}catch(mr){W$1(ar,dr,mr)}}}catch(mr){W$1(ar,ar.return,mr)}if(ar===or){V$1=null;break}var pr=ar.sibling;if(pr!==null){pr.return=ar.return,V$1=pr;break}V$1=ar.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk$1=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(or){return or.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(or=C$1,or!==0||(or=window.event,or=or===void 0?16:jd(or.type)),or):1}function mh(or,ar,cr,lr){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac(or,cr,lr),(!(K$1&2)||or!==R$1)&&(or===R$1&&(!(K$1&2)&&(rk|=cr),T$1===4&&Dk(or,Z$1)),Ek(or,lr),cr===1&&K$1===0&&!(ar.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(or,ar){var cr=or.callbackNode;wc(or,ar);var lr=uc(or,or===R$1?Z$1:0);if(lr===0)cr!==null&&bc(cr),or.callbackNode=null,or.callbackPriority=0;else if(ar=lr&-lr,or.callbackPriority!==ar){if(cr!=null&&bc(cr),ar===1)or.tag===0?ig(Fk.bind(null,or)):hg(Fk.bind(null,or)),Jf(function(){!(K$1&6)&&jg()}),cr=null;else{switch(Dc(lr)){case 1:cr=fc;break;case 4:cr=gc;break;case 16:cr=hc;break;case 536870912:cr=jc;break;default:cr=hc}cr=Gk(cr,Hk.bind(null,or))}or.callbackPriority=ar,or.callbackNode=cr}}function Hk(or,ar){if(Bk=-1,Ck=0,K$1&6)throw Error(p$3(327));var cr=or.callbackNode;if(Ik()&&or.callbackNode!==cr)return null;var lr=uc(or,or===R$1?Z$1:0);if(lr===0)return null;if(lr&30||lr&or.expiredLanes||ar)ar=Jk(or,lr);else{ar=lr;var ur=K$1;K$1|=2;var fr=Kk();(R$1!==or||Z$1!==ar)&&(vk=null,Hj=B$1()+500,Lk(or,ar));do try{Mk();break}catch(pr){Nk(or,pr)}while(!0);Qg(),nk.current=fr,K$1=ur,Y$1!==null?ar=0:(R$1=null,Z$1=0,ar=T$1)}if(ar!==0){if(ar===2&&(ur=xc(or),ur!==0&&(lr=ur,ar=Ok(or,ur))),ar===1)throw cr=qk,Lk(or,0),Dk(or,lr),Ek(or,B$1()),cr;if(ar===6)Dk(or,lr);else{if(ur=or.current.alternate,!(lr&30)&&!Pk(ur)&&(ar=Jk(or,lr),ar===2&&(fr=xc(or),fr!==0&&(lr=fr,ar=Ok(or,fr))),ar===1))throw cr=qk,Lk(or,0),Dk(or,lr),Ek(or,B$1()),cr;switch(or.finishedWork=ur,or.finishedLanes=lr,ar){case 0:case 1:throw Error(p$3(345));case 2:Qk(or,uk,vk);break;case 3:if(Dk(or,lr),(lr&130023424)===lr&&(ar=gk+500-B$1(),10<ar)){if(uc(or,0)!==0)break;if(ur=or.suspendedLanes,(ur&lr)!==lr){L$1(),or.pingedLanes|=or.suspendedLanes&ur;break}or.timeoutHandle=Ff(Qk.bind(null,or,uk,vk),ar);break}Qk(or,uk,vk);break;case 4:if(Dk(or,lr),(lr&4194240)===lr)break;for(ar=or.eventTimes,ur=-1;0<lr;){var dr=31-oc(lr);fr=1<<dr,dr=ar[dr],dr>ur&&(ur=dr),lr&=~fr}if(lr=ur,lr=B$1()-lr,lr=(120>lr?120:480>lr?480:1080>lr?1080:1920>lr?1920:3e3>lr?3e3:4320>lr?4320:1960*mk(lr/1960))-lr,10<lr){or.timeoutHandle=Ff(Qk.bind(null,or,uk,vk),lr);break}Qk(or,uk,vk);break;case 5:Qk(or,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(or,B$1()),or.callbackNode===cr?Hk.bind(null,or):null}function Ok(or,ar){var cr=tk;return or.current.memoizedState.isDehydrated&&(Lk(or,ar).flags|=256),or=Jk(or,ar),or!==2&&(ar=uk,uk=cr,ar!==null&&Gj(ar)),or}function Gj(or){uk===null?uk=or:uk.push.apply(uk,or)}function Pk(or){for(var ar=or;;){if(ar.flags&16384){var cr=ar.updateQueue;if(cr!==null&&(cr=cr.stores,cr!==null))for(var lr=0;lr<cr.length;lr++){var ur=cr[lr],fr=ur.getSnapshot;ur=ur.value;try{if(!He$1(fr(),ur))return!1}catch{return!1}}}if(cr=ar.child,ar.subtreeFlags&16384&&cr!==null)cr.return=ar,ar=cr;else{if(ar===or)break;for(;ar.sibling===null;){if(ar.return===null||ar.return===or)return!0;ar=ar.return}ar.sibling.return=ar.return,ar=ar.sibling}}return!0}function Dk(or,ar){for(ar&=~sk,ar&=~rk,or.suspendedLanes|=ar,or.pingedLanes&=~ar,or=or.expirationTimes;0<ar;){var cr=31-oc(ar),lr=1<<cr;or[cr]=-1,ar&=~lr}}function Fk(or){if(K$1&6)throw Error(p$3(327));Ik();var ar=uc(or,0);if(!(ar&1))return Ek(or,B$1()),null;var cr=Jk(or,ar);if(or.tag!==0&&cr===2){var lr=xc(or);lr!==0&&(ar=lr,cr=Ok(or,lr))}if(cr===1)throw cr=qk,Lk(or,0),Dk(or,ar),Ek(or,B$1()),cr;if(cr===6)throw Error(p$3(345));return or.finishedWork=or.current.alternate,or.finishedLanes=ar,Qk(or,uk,vk),Ek(or,B$1()),null}function Rk(or,ar){var cr=K$1;K$1|=1;try{return or(ar)}finally{K$1=cr,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(or){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var ar=K$1;K$1|=1;var cr=pk.transition,lr=C$1;try{if(pk.transition=null,C$1=1,or)return or()}finally{C$1=lr,pk.transition=cr,K$1=ar,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(or,ar){or.finishedWork=null,or.finishedLanes=0;var cr=or.timeoutHandle;if(cr!==-1&&(or.timeoutHandle=-1,Gf(cr)),Y$1!==null)for(cr=Y$1.return;cr!==null;){var lr=cr;switch(wg(lr),lr.tag){case 1:lr=lr.type.childContextTypes,lr!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(lr);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(lr.type._context);break;case 22:case 23:Ij()}cr=cr.return}if(R$1=or,Y$1=or=wh(or.current,null),Z$1=gj=ar,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(ar=0;ar<Wg.length;ar++)if(cr=Wg[ar],lr=cr.interleaved,lr!==null){cr.interleaved=null;var ur=lr.next,fr=cr.pending;if(fr!==null){var dr=fr.next;fr.next=ur,lr.next=dr}cr.pending=lr}Wg=null}return or}function Nk(or,ar){do{var cr=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var lr=N$1.memoizedState;lr!==null;){var ur=lr.queue;ur!==null&&(ur.pending=null),lr=lr.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,cr===null||cr.return===null){T$1=1,qk=ar,Y$1=null;break}e:{var fr=or,dr=cr.return,pr=cr,mr=ar;if(ar=Z$1,pr.flags|=32768,mr!==null&&typeof mr=="object"&&typeof mr.then=="function"){var gr=mr,vr=pr,hr=vr.tag;if(!(vr.mode&1)&&(hr===0||hr===11||hr===15)){var $r=vr.alternate;$r?(vr.updateQueue=$r.updateQueue,vr.memoizedState=$r.memoizedState,vr.lanes=$r.lanes):(vr.updateQueue=null,vr.memoizedState=null)}var xr=Vi(dr);if(xr!==null){xr.flags&=-257,Wi(xr,dr,pr,fr,ar),xr.mode&1&&Ti(fr,gr,ar),ar=xr,mr=gr;var br=ar.updateQueue;if(br===null){var Er=new Set;Er.add(mr),ar.updateQueue=Er}else br.add(mr);break e}else{if(!(ar&1)){Ti(fr,gr,ar),uj();break e}mr=Error(p$3(426))}}else if(I$1&&pr.mode&1){var wr=Vi(dr);if(wr!==null){!(wr.flags&65536)&&(wr.flags|=256),Wi(wr,dr,pr,fr,ar),Jg(Ki(mr,pr));break e}}fr=mr=Ki(mr,pr),T$1!==4&&(T$1=2),tk===null?tk=[fr]:tk.push(fr),fr=dr;do{switch(fr.tag){case 3:fr.flags|=65536,ar&=-ar,fr.lanes|=ar;var yr=Oi(fr,mr,ar);fh(fr,yr);break e;case 1:pr=mr;var _r=fr.type,Sr=fr.stateNode;if(!(fr.flags&128)&&(typeof _r.getDerivedStateFromError=="function"||Sr!==null&&typeof Sr.componentDidCatch=="function"&&(Si===null||!Si.has(Sr)))){fr.flags|=65536,ar&=-ar,fr.lanes|=ar;var Pr=Ri(fr,pr,ar);fh(fr,Pr);break e}}fr=fr.return}while(fr!==null)}Tk(cr)}catch(Or){ar=Or,Y$1===cr&&cr!==null&&(Y$1=cr=cr.return);continue}break}while(!0)}function Kk(){var or=nk.current;return nk.current=ai,or===null?ai:or}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(or,ar){var cr=K$1;K$1|=2;var lr=Kk();(R$1!==or||Z$1!==ar)&&(vk=null,Lk(or,ar));do try{Uk();break}catch(ur){Nk(or,ur)}while(!0);if(Qg(),K$1=cr,nk.current=lr,Y$1!==null)throw Error(p$3(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(or){var ar=Wk(or.alternate,or,gj);or.memoizedProps=or.pendingProps,ar===null?Tk(or):Y$1=ar,ok.current=null}function Tk(or){var ar=or;do{var cr=ar.alternate;if(or=ar.return,ar.flags&32768){if(cr=Jj(cr,ar),cr!==null){cr.flags&=32767,Y$1=cr;return}if(or!==null)or.flags|=32768,or.subtreeFlags=0,or.deletions=null;else{T$1=6,Y$1=null;return}}else if(cr=Fj(cr,ar,gj),cr!==null){Y$1=cr;return}if(ar=ar.sibling,ar!==null){Y$1=ar;return}Y$1=ar=or}while(ar!==null);T$1===0&&(T$1=5)}function Qk(or,ar,cr){var lr=C$1,ur=pk.transition;try{pk.transition=null,C$1=1,Xk(or,ar,cr,lr)}finally{pk.transition=ur,C$1=lr}return null}function Xk(or,ar,cr,lr){do Ik();while(xk!==null);if(K$1&6)throw Error(p$3(327));cr=or.finishedWork;var ur=or.finishedLanes;if(cr===null)return null;if(or.finishedWork=null,or.finishedLanes=0,cr===or.current)throw Error(p$3(177));or.callbackNode=null,or.callbackPriority=0;var fr=cr.lanes|cr.childLanes;if(Bc(or,fr),or===R$1&&(Y$1=R$1=null,Z$1=0),!(cr.subtreeFlags&2064)&&!(cr.flags&2064)||wk$1||(wk$1=!0,Gk(hc,function(){return Ik(),null})),fr=(cr.flags&15990)!==0,cr.subtreeFlags&15990||fr){fr=pk.transition,pk.transition=null;var dr=C$1;C$1=1;var pr=K$1;K$1|=4,ok.current=null,Pj(or,cr),ek(cr,or),Oe$1(Df),dd=!!Cf,Df=Cf=null,or.current=cr,ik(cr),dc(),K$1=pr,C$1=dr,pk.transition=fr}else or.current=cr;if(wk$1&&(wk$1=!1,xk=or,yk=ur),fr=or.pendingLanes,fr===0&&(Si=null),mc(cr.stateNode),Ek(or,B$1()),ar!==null)for(lr=or.onRecoverableError,cr=0;cr<ar.length;cr++)ur=ar[cr],lr(ur.value,{componentStack:ur.stack,digest:ur.digest});if(Pi)throw Pi=!1,or=Qi,Qi=null,or;return yk&1&&or.tag!==0&&Ik(),fr=or.pendingLanes,fr&1?or===Ak?zk++:(zk=0,Ak=or):zk=0,jg(),null}function Ik(){if(xk!==null){var or=Dc(yk),ar=pk.transition,cr=C$1;try{if(pk.transition=null,C$1=16>or?16:or,xk===null)var lr=!1;else{if(or=xk,xk=null,yk=0,K$1&6)throw Error(p$3(331));var ur=K$1;for(K$1|=4,V$1=or.current;V$1!==null;){var fr=V$1,dr=fr.child;if(V$1.flags&16){var pr=fr.deletions;if(pr!==null){for(var mr=0;mr<pr.length;mr++){var gr=pr[mr];for(V$1=gr;V$1!==null;){var vr=V$1;switch(vr.tag){case 0:case 11:case 15:Qj(8,vr,fr)}var hr=vr.child;if(hr!==null)hr.return=vr,V$1=hr;else for(;V$1!==null;){vr=V$1;var $r=vr.sibling,xr=vr.return;if(Tj(vr),vr===gr){V$1=null;break}if($r!==null){$r.return=xr,V$1=$r;break}V$1=xr}}}var br=fr.alternate;if(br!==null){var Er=br.child;if(Er!==null){br.child=null;do{var wr=Er.sibling;Er.sibling=null,Er=wr}while(Er!==null)}}V$1=fr}}if(fr.subtreeFlags&2064&&dr!==null)dr.return=fr,V$1=dr;else e:for(;V$1!==null;){if(fr=V$1,fr.flags&2048)switch(fr.tag){case 0:case 11:case 15:Qj(9,fr,fr.return)}var yr=fr.sibling;if(yr!==null){yr.return=fr.return,V$1=yr;break e}V$1=fr.return}}var _r=or.current;for(V$1=_r;V$1!==null;){dr=V$1;var Sr=dr.child;if(dr.subtreeFlags&2064&&Sr!==null)Sr.return=dr,V$1=Sr;else e:for(dr=_r;V$1!==null;){if(pr=V$1,pr.flags&2048)try{switch(pr.tag){case 0:case 11:case 15:Rj(9,pr)}}catch(Or){W$1(pr,pr.return,Or)}if(pr===dr){V$1=null;break e}var Pr=pr.sibling;if(Pr!==null){Pr.return=pr.return,V$1=Pr;break e}V$1=pr.return}}if(K$1=ur,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,or)}catch{}lr=!0}return lr}finally{C$1=cr,pk.transition=ar}}return!1}function Yk(or,ar,cr){ar=Ki(cr,ar),ar=Oi(or,ar,1),or=dh(or,ar,1),ar=L$1(),or!==null&&(Ac(or,1,ar),Ek(or,ar))}function W$1(or,ar,cr){if(or.tag===3)Yk(or,or,cr);else for(;ar!==null;){if(ar.tag===3){Yk(ar,or,cr);break}else if(ar.tag===1){var lr=ar.stateNode;if(typeof ar.type.getDerivedStateFromError=="function"||typeof lr.componentDidCatch=="function"&&(Si===null||!Si.has(lr))){or=Ki(cr,or),or=Ri(ar,or,1),ar=dh(ar,or,1),or=L$1(),ar!==null&&(Ac(ar,1,or),Ek(ar,or));break}}ar=ar.return}}function Ui(or,ar,cr){var lr=or.pingCache;lr!==null&&lr.delete(ar),ar=L$1(),or.pingedLanes|=or.suspendedLanes&cr,R$1===or&&(Z$1&cr)===cr&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(or,0):sk|=cr),Ek(or,ar)}function Zk(or,ar){ar===0&&(or.mode&1?(ar=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):ar=1);var cr=L$1();or=Zg(or,ar),or!==null&&(Ac(or,ar,cr),Ek(or,cr))}function vj(or){var ar=or.memoizedState,cr=0;ar!==null&&(cr=ar.retryLane),Zk(or,cr)}function ck(or,ar){var cr=0;switch(or.tag){case 13:var lr=or.stateNode,ur=or.memoizedState;ur!==null&&(cr=ur.retryLane);break;case 19:lr=or.stateNode;break;default:throw Error(p$3(314))}lr!==null&&lr.delete(ar),Zk(or,cr)}var Wk;Wk=function(or,ar,cr){if(or!==null)if(or.memoizedProps!==ar.pendingProps||Wf.current)Ug=!0;else{if(!(or.lanes&cr)&&!(ar.flags&128))return Ug=!1,zj(or,ar,cr);Ug=!!(or.flags&131072)}else Ug=!1,I$1&&ar.flags&1048576&&ug(ar,ng,ar.index);switch(ar.lanes=0,ar.tag){case 2:var lr=ar.type;jj(or,ar),or=ar.pendingProps;var ur=Yf(ar,H$1.current);Tg(ar,cr),ur=Xh(null,ar,lr,or,ur,cr);var fr=bi();return ar.flags|=1,typeof ur=="object"&&ur!==null&&typeof ur.render=="function"&&ur.$$typeof===void 0?(ar.tag=1,ar.memoizedState=null,ar.updateQueue=null,Zf(lr)?(fr=!0,cg(ar)):fr=!1,ar.memoizedState=ur.state!==null&&ur.state!==void 0?ur.state:null,ah(ar),ur.updater=nh,ar.stateNode=ur,ur._reactInternals=ar,rh(ar,lr,or,cr),ar=kj(null,ar,lr,!0,fr,cr)):(ar.tag=0,I$1&&fr&&vg(ar),Yi(null,ar,ur,cr),ar=ar.child),ar;case 16:lr=ar.elementType;e:{switch(jj(or,ar),or=ar.pendingProps,ur=lr._init,lr=ur(lr._payload),ar.type=lr,ur=ar.tag=$k(lr),or=Lg(lr,or),ur){case 0:ar=dj(null,ar,lr,or,cr);break e;case 1:ar=ij(null,ar,lr,or,cr);break e;case 11:ar=Zi(null,ar,lr,or,cr);break e;case 14:ar=aj(null,ar,lr,Lg(lr.type,or),cr);break e}throw Error(p$3(306,lr,""))}return ar;case 0:return lr=ar.type,ur=ar.pendingProps,ur=ar.elementType===lr?ur:Lg(lr,ur),dj(or,ar,lr,ur,cr);case 1:return lr=ar.type,ur=ar.pendingProps,ur=ar.elementType===lr?ur:Lg(lr,ur),ij(or,ar,lr,ur,cr);case 3:e:{if(lj(ar),or===null)throw Error(p$3(387));lr=ar.pendingProps,fr=ar.memoizedState,ur=fr.element,bh(or,ar),gh(ar,lr,null,cr);var dr=ar.memoizedState;if(lr=dr.element,fr.isDehydrated)if(fr={element:lr,isDehydrated:!1,cache:dr.cache,pendingSuspenseBoundaries:dr.pendingSuspenseBoundaries,transitions:dr.transitions},ar.updateQueue.baseState=fr,ar.memoizedState=fr,ar.flags&256){ur=Ki(Error(p$3(423)),ar),ar=mj(or,ar,lr,cr,ur);break e}else if(lr!==ur){ur=Ki(Error(p$3(424)),ar),ar=mj(or,ar,lr,cr,ur);break e}else for(yg=Lf(ar.stateNode.containerInfo.firstChild),xg=ar,I$1=!0,zg=null,cr=Ch(ar,null,lr,cr),ar.child=cr;cr;)cr.flags=cr.flags&-3|4096,cr=cr.sibling;else{if(Ig(),lr===ur){ar=$i(or,ar,cr);break e}Yi(or,ar,lr,cr)}ar=ar.child}return ar;case 5:return Kh(ar),or===null&&Eg(ar),lr=ar.type,ur=ar.pendingProps,fr=or!==null?or.memoizedProps:null,dr=ur.children,Ef(lr,ur)?dr=null:fr!==null&&Ef(lr,fr)&&(ar.flags|=32),hj(or,ar),Yi(or,ar,dr,cr),ar.child;case 6:return or===null&&Eg(ar),null;case 13:return pj(or,ar,cr);case 4:return Ih(ar,ar.stateNode.containerInfo),lr=ar.pendingProps,or===null?ar.child=Bh(ar,null,lr,cr):Yi(or,ar,lr,cr),ar.child;case 11:return lr=ar.type,ur=ar.pendingProps,ur=ar.elementType===lr?ur:Lg(lr,ur),Zi(or,ar,lr,ur,cr);case 7:return Yi(or,ar,ar.pendingProps,cr),ar.child;case 8:return Yi(or,ar,ar.pendingProps.children,cr),ar.child;case 12:return Yi(or,ar,ar.pendingProps.children,cr),ar.child;case 10:e:{if(lr=ar.type._context,ur=ar.pendingProps,fr=ar.memoizedProps,dr=ur.value,G$1(Mg,lr._currentValue),lr._currentValue=dr,fr!==null)if(He$1(fr.value,dr)){if(fr.children===ur.children&&!Wf.current){ar=$i(or,ar,cr);break e}}else for(fr=ar.child,fr!==null&&(fr.return=ar);fr!==null;){var pr=fr.dependencies;if(pr!==null){dr=fr.child;for(var mr=pr.firstContext;mr!==null;){if(mr.context===lr){if(fr.tag===1){mr=ch$1(-1,cr&-cr),mr.tag=2;var gr=fr.updateQueue;if(gr!==null){gr=gr.shared;var vr=gr.pending;vr===null?mr.next=mr:(mr.next=vr.next,vr.next=mr),gr.pending=mr}}fr.lanes|=cr,mr=fr.alternate,mr!==null&&(mr.lanes|=cr),Sg(fr.return,cr,ar),pr.lanes|=cr;break}mr=mr.next}}else if(fr.tag===10)dr=fr.type===ar.type?null:fr.child;else if(fr.tag===18){if(dr=fr.return,dr===null)throw Error(p$3(341));dr.lanes|=cr,pr=dr.alternate,pr!==null&&(pr.lanes|=cr),Sg(dr,cr,ar),dr=fr.sibling}else dr=fr.child;if(dr!==null)dr.return=fr;else for(dr=fr;dr!==null;){if(dr===ar){dr=null;break}if(fr=dr.sibling,fr!==null){fr.return=dr.return,dr=fr;break}dr=dr.return}fr=dr}Yi(or,ar,ur.children,cr),ar=ar.child}return ar;case 9:return ur=ar.type,lr=ar.pendingProps.children,Tg(ar,cr),ur=Vg(ur),lr=lr(ur),ar.flags|=1,Yi(or,ar,lr,cr),ar.child;case 14:return lr=ar.type,ur=Lg(lr,ar.pendingProps),ur=Lg(lr.type,ur),aj(or,ar,lr,ur,cr);case 15:return cj(or,ar,ar.type,ar.pendingProps,cr);case 17:return lr=ar.type,ur=ar.pendingProps,ur=ar.elementType===lr?ur:Lg(lr,ur),jj(or,ar),ar.tag=1,Zf(lr)?(or=!0,cg(ar)):or=!1,Tg(ar,cr),ph(ar,lr,ur),rh(ar,lr,ur,cr),kj(null,ar,lr,!0,or,cr);case 19:return yj(or,ar,cr);case 22:return ej(or,ar,cr)}throw Error(p$3(156,ar.tag))};function Gk(or,ar){return ac(or,ar)}function al(or,ar,cr,lr){this.tag=or,this.key=cr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ar,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=lr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(or,ar,cr,lr){return new al(or,ar,cr,lr)}function bj(or){return or=or.prototype,!(!or||!or.isReactComponent)}function $k(or){if(typeof or=="function")return bj(or)?1:0;if(or!=null){if(or=or.$$typeof,or===Da)return 11;if(or===Ga)return 14}return 2}function wh(or,ar){var cr=or.alternate;return cr===null?(cr=Bg(or.tag,ar,or.key,or.mode),cr.elementType=or.elementType,cr.type=or.type,cr.stateNode=or.stateNode,cr.alternate=or,or.alternate=cr):(cr.pendingProps=ar,cr.type=or.type,cr.flags=0,cr.subtreeFlags=0,cr.deletions=null),cr.flags=or.flags&14680064,cr.childLanes=or.childLanes,cr.lanes=or.lanes,cr.child=or.child,cr.memoizedProps=or.memoizedProps,cr.memoizedState=or.memoizedState,cr.updateQueue=or.updateQueue,ar=or.dependencies,cr.dependencies=ar===null?null:{lanes:ar.lanes,firstContext:ar.firstContext},cr.sibling=or.sibling,cr.index=or.index,cr.ref=or.ref,cr}function yh(or,ar,cr,lr,ur,fr){var dr=2;if(lr=or,typeof or=="function")bj(or)&&(dr=1);else if(typeof or=="string")dr=5;else e:switch(or){case ya:return Ah(cr.children,ur,fr,ar);case za:dr=8,ur|=8;break;case Aa:return or=Bg(12,cr,ar,ur|2),or.elementType=Aa,or.lanes=fr,or;case Ea:return or=Bg(13,cr,ar,ur),or.elementType=Ea,or.lanes=fr,or;case Fa:return or=Bg(19,cr,ar,ur),or.elementType=Fa,or.lanes=fr,or;case Ia:return qj(cr,ur,fr,ar);default:if(typeof or=="object"&&or!==null)switch(or.$$typeof){case Ba:dr=10;break e;case Ca:dr=9;break e;case Da:dr=11;break e;case Ga:dr=14;break e;case Ha:dr=16,lr=null;break e}throw Error(p$3(130,or==null?or:typeof or,""))}return ar=Bg(dr,cr,ar,ur),ar.elementType=or,ar.type=lr,ar.lanes=fr,ar}function Ah(or,ar,cr,lr){return or=Bg(7,or,lr,ar),or.lanes=cr,or}function qj(or,ar,cr,lr){return or=Bg(22,or,lr,ar),or.elementType=Ia,or.lanes=cr,or.stateNode={isHidden:!1},or}function xh(or,ar,cr){return or=Bg(6,or,null,ar),or.lanes=cr,or}function zh$1(or,ar,cr){return ar=Bg(4,or.children!==null?or.children:[],or.key,ar),ar.lanes=cr,ar.stateNode={containerInfo:or.containerInfo,pendingChildren:null,implementation:or.implementation},ar}function bl(or,ar,cr,lr,ur){this.tag=ar,this.containerInfo=or,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=lr,this.onRecoverableError=ur,this.mutableSourceEagerHydrationData=null}function cl(or,ar,cr,lr,ur,fr,dr,pr,mr){return or=new bl(or,ar,cr,pr,mr),ar===1?(ar=1,fr===!0&&(ar|=8)):ar=0,fr=Bg(3,null,null,ar),or.current=fr,fr.stateNode=or,fr.memoizedState={element:lr,isDehydrated:cr,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(fr),or}function dl(or,ar,cr){var lr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:lr==null?null:""+lr,children:or,containerInfo:ar,implementation:cr}}function el(or){if(!or)return Vf;or=or._reactInternals;e:{if(Vb(or)!==or||or.tag!==1)throw Error(p$3(170));var ar=or;do{switch(ar.tag){case 3:ar=ar.stateNode.context;break e;case 1:if(Zf(ar.type)){ar=ar.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ar=ar.return}while(ar!==null);throw Error(p$3(171))}if(or.tag===1){var cr=or.type;if(Zf(cr))return bg(or,cr,ar)}return ar}function fl$1(or,ar,cr,lr,ur,fr,dr,pr,mr){return or=cl(cr,lr,!0,or,ur,fr,dr,pr,mr),or.context=el(null),cr=or.current,lr=L$1(),ur=lh(cr),fr=ch$1(lr,ur),fr.callback=ar??null,dh(cr,fr,ur),or.current.lanes=ur,Ac(or,ur,lr),Ek(or,lr),or}function gl(or,ar,cr,lr){var ur=ar.current,fr=L$1(),dr=lh(ur);return cr=el(cr),ar.context===null?ar.context=cr:ar.pendingContext=cr,ar=ch$1(fr,dr),ar.payload={element:or},lr=lr===void 0?null:lr,lr!==null&&(ar.callback=lr),or=dh(ur,ar,dr),or!==null&&(mh(or,ur,dr,fr),eh(or,ur,dr)),dr}function hl(or){if(or=or.current,!or.child)return null;switch(or.child.tag){case 5:return or.child.stateNode;default:return or.child.stateNode}}function il(or,ar){if(or=or.memoizedState,or!==null&&or.dehydrated!==null){var cr=or.retryLane;or.retryLane=cr!==0&&cr<ar?cr:ar}}function jl(or,ar){il(or,ar),(or=or.alternate)&&il(or,ar)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(or){console.error(or)};function ml(or){this._internalRoot=or}nl.prototype.render=ml.prototype.render=function(or){var ar=this._internalRoot;if(ar===null)throw Error(p$3(409));gl(or,ar,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var or=this._internalRoot;if(or!==null){this._internalRoot=null;var ar=or.containerInfo;Sk(function(){gl(null,or,null,null)}),ar[uf]=null}};function nl(or){this._internalRoot=or}nl.prototype.unstable_scheduleHydration=function(or){if(or){var ar=Hc();or={blockedOn:null,target:or,priority:ar};for(var cr=0;cr<Qc.length&&ar!==0&&ar<Qc[cr].priority;cr++);Qc.splice(cr,0,or),cr===0&&Vc(or)}};function ol(or){return!(!or||or.nodeType!==1&&or.nodeType!==9&&or.nodeType!==11)}function pl(or){return!(!or||or.nodeType!==1&&or.nodeType!==9&&or.nodeType!==11&&(or.nodeType!==8||or.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(or,ar,cr,lr,ur){if(ur){if(typeof lr=="function"){var fr=lr;lr=function(){var gr=hl(dr);fr.call(gr)}}var dr=fl$1(ar,lr,or,0,null,!1,!1,"",ql);return or._reactRootContainer=dr,or[uf]=dr.current,sf(or.nodeType===8?or.parentNode:or),Sk(),dr}for(;ur=or.lastChild;)or.removeChild(ur);if(typeof lr=="function"){var pr=lr;lr=function(){var gr=hl(mr);pr.call(gr)}}var mr=cl(or,0,!1,null,null,!1,!1,"",ql);return or._reactRootContainer=mr,or[uf]=mr.current,sf(or.nodeType===8?or.parentNode:or),Sk(function(){gl(ar,mr,cr,lr)}),mr}function sl(or,ar,cr,lr,ur){var fr=cr._reactRootContainer;if(fr){var dr=fr;if(typeof ur=="function"){var pr=ur;ur=function(){var mr=hl(dr);pr.call(mr)}}gl(ar,dr,or,ur)}else dr=rl(cr,ar,or,ur,lr);return hl(dr)}Ec=function(or){switch(or.tag){case 3:var ar=or.stateNode;if(ar.current.memoizedState.isDehydrated){var cr=tc(ar.pendingLanes);cr!==0&&(Cc(ar,cr|1),Ek(ar,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var lr=Zg(or,1);if(lr!==null){var ur=L$1();mh(lr,or,1,ur)}}),jl(or,1)}};Fc=function(or){if(or.tag===13){var ar=Zg(or,134217728);if(ar!==null){var cr=L$1();mh(ar,or,134217728,cr)}jl(or,134217728)}};Gc=function(or){if(or.tag===13){var ar=lh(or),cr=Zg(or,ar);if(cr!==null){var lr=L$1();mh(cr,or,ar,lr)}jl(or,ar)}};Hc=function(){return C$1};Ic=function(or,ar){var cr=C$1;try{return C$1=or,ar()}finally{C$1=cr}};yb=function(or,ar,cr){switch(ar){case"input":if(bb(or,cr),ar=cr.name,cr.type==="radio"&&ar!=null){for(cr=or;cr.parentNode;)cr=cr.parentNode;for(cr=cr.querySelectorAll("input[name="+JSON.stringify(""+ar)+'][type="radio"]'),ar=0;ar<cr.length;ar++){var lr=cr[ar];if(lr!==or&&lr.form===or.form){var ur=Db(lr);if(!ur)throw Error(p$3(90));Wa(lr),bb(lr,ur)}}}break;case"textarea":ib(or,cr);break;case"select":ar=cr.value,ar!=null&&fb(or,!!cr.multiple,ar,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(or){return or=Zb(or),or===null?null:or.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(or,ar){var cr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(ar))throw Error(p$3(200));return dl(or,ar,null,cr)};reactDom_production_min.createRoot=function(or,ar){if(!ol(or))throw Error(p$3(299));var cr=!1,lr="",ur=ll;return ar!=null&&(ar.unstable_strictMode===!0&&(cr=!0),ar.identifierPrefix!==void 0&&(lr=ar.identifierPrefix),ar.onRecoverableError!==void 0&&(ur=ar.onRecoverableError)),ar=cl(or,1,!1,null,null,cr,!1,lr,ur),or[uf]=ar.current,sf(or.nodeType===8?or.parentNode:or),new ml(ar)};reactDom_production_min.findDOMNode=function(or){if(or==null)return null;if(or.nodeType===1)return or;var ar=or._reactInternals;if(ar===void 0)throw typeof or.render=="function"?Error(p$3(188)):(or=Object.keys(or).join(","),Error(p$3(268,or)));return or=Zb(ar),or=or===null?null:or.stateNode,or};reactDom_production_min.flushSync=function(or){return Sk(or)};reactDom_production_min.hydrate=function(or,ar,cr){if(!pl(ar))throw Error(p$3(200));return sl(null,or,ar,!0,cr)};reactDom_production_min.hydrateRoot=function(or,ar,cr){if(!ol(or))throw Error(p$3(405));var lr=cr!=null&&cr.hydratedSources||null,ur=!1,fr="",dr=ll;if(cr!=null&&(cr.unstable_strictMode===!0&&(ur=!0),cr.identifierPrefix!==void 0&&(fr=cr.identifierPrefix),cr.onRecoverableError!==void 0&&(dr=cr.onRecoverableError)),ar=fl$1(ar,null,or,1,cr??null,ur,!1,fr,dr),or[uf]=ar.current,sf(or),lr)for(or=0;or<lr.length;or++)cr=lr[or],ur=cr._getVersion,ur=ur(cr._source),ar.mutableSourceEagerHydrationData==null?ar.mutableSourceEagerHydrationData=[cr,ur]:ar.mutableSourceEagerHydrationData.push(cr,ur);return new nl(ar)};reactDom_production_min.render=function(or,ar,cr){if(!pl(ar))throw Error(p$3(200));return sl(null,or,ar,!1,cr)};reactDom_production_min.unmountComponentAtNode=function(or){if(!pl(or))throw Error(p$3(40));return or._reactRootContainer?(Sk(function(){sl(null,null,or,!1,function(){or._reactRootContainer=null,or[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(or,ar,cr,lr){if(!pl(cr))throw Error(p$3(200));if(or==null||or._reactInternals===void 0)throw Error(p$3(38));return sl(or,ar,cr,!1,lr)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(or){console.error(or)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const $7SXl2$reactdom=getDefaultExportFromCjs(reactDomExports);var m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;try{self["workbox:window:7.0.0"]&&_()}catch{}function n$4(or,ar){return new Promise(function(cr){var lr=new MessageChannel;lr.port1.onmessage=function(ur){cr(ur.data)},or.postMessage(ar,[lr.port2])})}function t$4(or,ar){for(var cr=0;cr<ar.length;cr++){var lr=ar[cr];lr.enumerable=lr.enumerable||!1,lr.configurable=!0,"value"in lr&&(lr.writable=!0),Object.defineProperty(or,lr.key,lr)}}function r$4(or,ar){(ar==null||ar>or.length)&&(ar=or.length);for(var cr=0,lr=new Array(ar);cr<ar;cr++)lr[cr]=or[cr];return lr}function e$4(or,ar){var cr;if(typeof Symbol>"u"||or[Symbol.iterator]==null){if(Array.isArray(or)||(cr=function(ur,fr){if(ur){if(typeof ur=="string")return r$4(ur,fr);var dr=Object.prototype.toString.call(ur).slice(8,-1);return dr==="Object"&&ur.constructor&&(dr=ur.constructor.name),dr==="Map"||dr==="Set"?Array.from(ur):dr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dr)?r$4(ur,fr):void 0}}(or))||ar&&or&&typeof or.length=="number"){cr&&(or=cr);var lr=0;return function(){return lr>=or.length?{done:!0}:{done:!1,value:or[lr++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(cr=or[Symbol.iterator]()).next.bind(cr)}try{self["workbox:core:7.0.0"]&&_()}catch{}var i$3=function(){var or=this;this.promise=new Promise(function(ar,cr){or.resolve=ar,or.reject=cr})};function o$3(or,ar){var cr=location.href;return new URL(or,cr).href===new URL(ar,cr).href}var u$3=function(or,ar){this.type=or,Object.assign(this,ar)};function a$2(or,ar,cr){return cr?ar?ar(or):or:(or&&or.then||(or=Promise.resolve(or)),ar?or.then(ar):or)}function c$2(){}var f$3={type:"SKIP_WAITING"};function s$3(or,ar){if(!ar)return or&&or.then?or.then(c$2):Promise.resolve()}var v$2=function(or){var ar,cr;function lr(pr,mr){var gr,vr;return mr===void 0&&(mr={}),(gr=or.call(this)||this).nn={},gr.tn=0,gr.rn=new i$3,gr.en=new i$3,gr.on=new i$3,gr.un=0,gr.an=new Set,gr.cn=function(){var hr=gr.fn,$r=hr.installing;gr.tn>0||!o$3($r.scriptURL,gr.sn.toString())||performance.now()>gr.un+6e4?(gr.vn=$r,hr.removeEventListener("updatefound",gr.cn)):(gr.hn=$r,gr.an.add($r),gr.rn.resolve($r)),++gr.tn,$r.addEventListener("statechange",gr.ln)},gr.ln=function(hr){var $r=gr.fn,xr=hr.target,br=xr.state,Er=xr===gr.vn,wr={sw:xr,isExternal:Er,originalEvent:hr};!Er&&gr.mn&&(wr.isUpdate=!0),gr.dispatchEvent(new u$3(br,wr)),br==="installed"?gr.wn=self.setTimeout(function(){br==="installed"&&$r.waiting===xr&&gr.dispatchEvent(new u$3("waiting",wr))},200):br==="activating"&&(clearTimeout(gr.wn),Er||gr.en.resolve(xr))},gr.dn=function(hr){var $r=gr.hn,xr=$r!==navigator.serviceWorker.controller;gr.dispatchEvent(new u$3("controlling",{isExternal:xr,originalEvent:hr,sw:$r,isUpdate:gr.mn})),xr||gr.on.resolve($r)},gr.gn=(vr=function(hr){var $r=hr.data,xr=hr.ports,br=hr.source;return a$2(gr.getSW(),function(){gr.an.has(br)&&gr.dispatchEvent(new u$3("message",{data:$r,originalEvent:hr,ports:xr,sw:br}))})},function(){for(var hr=[],$r=0;$r<arguments.length;$r++)hr[$r]=arguments[$r];try{return Promise.resolve(vr.apply(this,hr))}catch(xr){return Promise.reject(xr)}}),gr.sn=pr,gr.nn=mr,navigator.serviceWorker.addEventListener("message",gr.gn),gr}cr=or,(ar=lr).prototype=Object.create(cr.prototype),ar.prototype.constructor=ar,ar.__proto__=cr;var ur,fr,dr=lr.prototype;return dr.register=function(pr){var mr=(pr===void 0?{}:pr).immediate,gr=mr!==void 0&&mr;try{var vr=this;return function(hr,$r){var xr=hr();return xr&&xr.then?xr.then($r):$r(xr)}(function(){if(!gr&&document.readyState!=="complete")return s$3(new Promise(function(hr){return window.addEventListener("load",hr)}))},function(){return vr.mn=!!navigator.serviceWorker.controller,vr.yn=vr.pn(),a$2(vr.bn(),function(hr){vr.fn=hr,vr.yn&&(vr.hn=vr.yn,vr.en.resolve(vr.yn),vr.on.resolve(vr.yn),vr.yn.addEventListener("statechange",vr.ln,{once:!0}));var $r=vr.fn.waiting;return $r&&o$3($r.scriptURL,vr.sn.toString())&&(vr.hn=$r,Promise.resolve().then(function(){vr.dispatchEvent(new u$3("waiting",{sw:$r,wasWaitingBeforeRegister:!0}))}).then(function(){})),vr.hn&&(vr.rn.resolve(vr.hn),vr.an.add(vr.hn)),vr.fn.addEventListener("updatefound",vr.cn),navigator.serviceWorker.addEventListener("controllerchange",vr.dn),vr.fn})})}catch(hr){return Promise.reject(hr)}},dr.update=function(){try{return this.fn?s$3(this.fn.update()):void 0}catch(pr){return Promise.reject(pr)}},dr.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},dr.messageSW=function(pr){try{return a$2(this.getSW(),function(mr){return n$4(mr,pr)})}catch(mr){return Promise.reject(mr)}},dr.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&n$4(this.fn.waiting,f$3)},dr.pn=function(){var pr=navigator.serviceWorker.controller;return pr&&o$3(pr.scriptURL,this.sn.toString())?pr:void 0},dr.bn=function(){try{var pr=this;return function(mr,gr){try{var vr=mr()}catch(hr){return gr(hr)}return vr&&vr.then?vr.then(void 0,gr):vr}(function(){return a$2(navigator.serviceWorker.register(pr.sn,pr.nn),function(mr){return pr.un=performance.now(),mr})},function(mr){throw mr})}catch(mr){return Promise.reject(mr)}},ur=lr,(fr=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&t$4(ur.prototype,fr),lr}(function(){function or(){this.Pn=new Map}var ar=or.prototype;return ar.addEventListener=function(cr,lr){this.Sn(cr).add(lr)},ar.removeEventListener=function(cr,lr){this.Sn(cr).delete(lr)},ar.dispatchEvent=function(cr){cr.target=this;for(var lr,ur=e$4(this.Sn(cr.type));!(lr=ur()).done;)(0,lr.value)(cr)},ar.Sn=function(cr){return this.Pn.has(cr)||this.Pn.set(cr,new Set),this.Pn.get(cr)},or}()),ProvidedComponents=(or=>(or.OpenGameButton="OpenGameButton",or))(ProvidedComponents||{});const GAME_DESCRIPTOR_NAME="game.cfg",locales$1=[{label:"English",value:"en-US"},{label:"Русский",value:"ru-RU"},{label:"Українська",value:"uk-UA"}],createEvent$1=()=>{const or=new Set;return{add:lr=>{or.add(lr)},fire:()=>{or.forEach(lr=>lr()),or.clear()}}},INTERNAL=Symbol(),shallowCopy=or=>Array.isArray(or)?or.slice():Object.create(Object.getPrototypeOf(or),Object.getOwnPropertyDescriptors(or));function getIn(or,ar,cr=!1,lr=0){if(lr===ar.length)return or;const ur=ar[lr];return cr&&!or[ur]&&(or[ur]={}),getIn(or[ur],ar,cr,lr+1)}function setIn(or,ar,cr,lr=0){if(lr===ar.length)return cr;const ur=ar[lr],fr=or[ur],dr=setIn(fr,ar,cr,lr+1);if(dr===fr)return or;const pr=shallowCopy(or);return pr[ur]=dr,pr}const handler$1={get:(or,ar)=>ar===INTERNAL?or:new Proxy([...or,ar],handler$1)},pathProxy=new Proxy([],handler$1),createFocus=(or,ar)=>cr=>{const lr=typeof cr=="function"?cr(pathProxy)[INTERNAL]:[cr];or.cache||(or.cache={});const ur=ar.concat(lr),{get:fr}=or,dr=getIn(or.cache,ur,!0);return dr[INTERNAL]||(dr[INTERNAL]=createAtom(Object.assign(Object.assign({},or),{path:ur,get:()=>{const pr=fr();return pr?getIn(pr,ur):void 0},set:pr=>or.atom.set(setIn(fr(),ur,pr))})))},createStream=or=>(ar,cr)=>{let lr;const ur=createInternal();let fr=!0;const dr=()=>{ur.listeners.size?pr():fr=!0},pr=()=>{const mr=or.get(),gr=ar(mr,lr);fr=!1,cr&&!gr||(ur.set(gr),lr=gr)};return createAtom(Object.assign(Object.assign({},ur),{get:()=>(!or.isStream&&fr&&pr(),ur.get()),isStream:cr||or.isStream,subscribe:mr=>{const gr=or.subscribe(dr),vr=ur.subscribe(mr);return()=>{vr(),ur.listeners.size||gr()}}}))},tools={symbol:INTERNAL,send:()=>{},wrap:or=>or},subscribeInternal=(or,ar,cr)=>lr=>{const ur=createEvent$1();let fr=ar();const dr=mr=>{const gr=lr(mr,fr);typeof gr=="function"&&ur.add(gr)};cr&&dr(fr);const pr=or(()=>{const mr=ar();mr!==fr&&(ur.fire(),dr(mr),fr=mr)});return()=>{ur.fire(),pr()}},createInternal=(or,ar)=>{const cr=new Set;return{listeners:cr,get:()=>or,set:lr=>{or!==lr&&(or=lr,ar&&ar(),cr.forEach(ur=>ur()))},subscribe:lr=>(cr.add(lr),()=>void cr.delete(lr))}};function createAtom(or,ar){const{get:cr,subscribe:lr,atom:ur}=or,fr={get value(){return tools.get&&tools.get(fr),cr()},set value(pr){fr.set(pr)},get actions(){return tools.wrap(dr,fr)},set:pr=>or.set(pr),update:pr=>fr.set(pr(cr())),subscribe:subscribeInternal(lr,cr),watch:subscribeInternal(lr,cr,!0),focus:createFocus(ur?ur[INTERNAL]:or,or.path||[]),map:createStream(or),[INTERNAL]:or};or.atom=fr,create.plugins.forEach(pr=>pr(fr));const dr=ar&&ar(fr);return fr}const createGetState=(or,ar)=>(cr,lr)=>lr?(ar(lr(or)),cr()):(ar(cr.subscribe(or)),cr[INTERNAL].get()),createSelector=(or,ar)=>{const{get:cr,set:lr,listeners:ur}=or,fr=createEvent$1();let dr=!0;const pr=createGetState(()=>{ur.size?mr():dr=!0},fr.add),mr=()=>{fr.fire(),dr=!1;const gr=tools.get;tools.get=or.track?pr:null,lr(ar(pr)),tools.get=gr};or.get=()=>(dr&&mr(),cr())};function create(or,ar){const cr=typeof or=="function",lr=createInternal(cr?void 0:or,()=>tools.send(ur));lr.isStream=!arguments.length,cr&&createSelector(lr,or);const ur=createAtom(lr,ar);return ur}create.plugins=[];create.internal=tools;var useConstant$3={};Object.defineProperty(useConstant$3,"__esModule",{value:!0});var react$1=reactExports;const useConstant$2=or=>{const ar=react$1.useRef();return ar.current||(ar.current={c:or()}),ar.current.c};var useConstant_2=useConstant$3.useConstant=useConstant$2,useAdapter$1={};const createEvent=()=>{const or=new Set;return{add:lr=>{or.add(lr)},fire:()=>{or.forEach(lr=>lr()),or.clear()}}},error=or=>{throw new Error(`[xoid] \`${or}\` cannot be used outside the setup context. To create a setup context, use the \`useSetup\` hook from a framework integration package.`)};let adapter={effect:()=>error("effect"),inject:()=>error("inject")};const inject$1=or=>adapter.inject(or),effect=or=>adapter.effect(or);function setup$1(or){const ar=adapter;adapter=this;const cr=or();return adapter=ar,cr}const createAdapter=or=>{const ar=createEvent(),cr=createEvent();return{inject:or.inject,mount:ar.fire,unmount:cr.fire,effect:lr=>ar.add(()=>{const ur=lr();typeof ur=="function"&&cr.add(ur)})}},setup_esm=Object.freeze(Object.defineProperty({__proto__:null,createAdapter,effect,inject:inject$1,setup:setup$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(setup_esm);Object.defineProperty(useAdapter$1,"__esModule",{value:!0});var React=reactExports,setup=require$$1,useConstant$1=useConstant$3;function _interopDefaultLegacy(or){return or&&typeof or=="object"&&"default"in or?or:{default:or}}var React__default=_interopDefaultLegacy(React);const contextMap=new Map,createProvider=(or,ar)=>{const cr=React.createContext(ar);return contextMap.set(or,cr),cr.Provider},reactInternals=React__default.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,inject=or=>{if(typeof or!="symbol")throw new TypeError("An injection key should be a symbol.");return reactInternals.ReactCurrentDispatcher.current.readContext(contextMap.get(or))},useAdapter=or=>{const ar=useConstant$1.useConstant(()=>setup.createAdapter({inject}));return React.useEffect(()=>(ar.mount(),()=>ar.unmount()),[]),useConstant$1.useConstant(()=>setup.setup.call(ar,or))};useAdapter$1.createProvider=createProvider;var useAdapter_2=useAdapter$1.useAdapter=useAdapter,useAtom$1={},shim$1={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$3=reactExports;function h$2(or,ar){return or===ar&&(or!==0||1/or===1/ar)||or!==or&&ar!==ar}var k$1=typeof Object.is=="function"?Object.is:h$2,l$2=e$3.useState,m$2=e$3.useEffect,n$3=e$3.useLayoutEffect,p$2=e$3.useDebugValue;function q$1(or,ar){var cr=ar(),lr=l$2({inst:{value:cr,getSnapshot:ar}}),ur=lr[0].inst,fr=lr[1];return n$3(function(){ur.value=cr,ur.getSnapshot=ar,r$3(ur)&&fr({inst:ur})},[or,cr,ar]),m$2(function(){return r$3(ur)&&fr({inst:ur}),or(function(){r$3(ur)&&fr({inst:ur})})},[or]),p$2(cr),cr}function r$3(or){var ar=or.getSnapshot;or=or.value;try{var cr=ar();return!k$1(or,cr)}catch{return!0}}function t$3(or,ar){return ar()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$3:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$3.useSyncExternalStore!==void 0?e$3.useSyncExternalStore:u$2;shim$1.exports=useSyncExternalStoreShim_production_min;var shimExports=shim$1.exports;Object.defineProperty(useAtom$1,"__esModule",{value:!0});var shim=shimExports,react=reactExports,useConstant=useConstant$3;function useAtom(or,ar){const cr=useConstant.useConstant(()=>typeof or=="function"&&or())||or,lr=shim.useSyncExternalStore(cr.subscribe,()=>cr.value,()=>cr.value);return react.useDebugValue(lr),ar?[lr,cr.actions]:lr}var useAtom_2=useAtom$1.useAtom=useAtom;const useIsoLayoutEffect=window===void 0?reactExports.useEffect:reactExports.useLayoutEffect;function useSetup(or,ar){let cr;if(arguments.length>1){const lr=useConstant_2(()=>create(()=>ar));useIsoLayoutEffect(()=>lr.set(ar),[ar]),cr=useAdapter_2(()=>or(lr))}else cr=useAdapter_2(or);return reactExports.useDebugValue(cr),cr}const QspiderRoot=({children:or})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:or}),storage$=create();typeof window<"u"&&typeof window.global>"u"&&(window.global=window);const ParserEND=1114112;class ParserError extends Error{constructor(ar,cr,lr){super("[ParserError] "+ar,cr,lr),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}class State{constructor(ar){this.parser=ar,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}let Parser$1=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State(this.parseStart)}parse(ar){if(ar.length===0||ar.length==null)return;this._buf=String(ar),this.ii=-1,this.char=-1;let cr;for(;cr===!1||this.nextChar();)cr=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=ParserEND;let ar;do ar=this.state.parser,this.runOne();while(this.state.parser!==ar);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(ar){if(typeof ar!="function")throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify(ar));this.state.parser=ar}goto(ar){return this.next(ar),this.runOne()}call(ar,cr){cr&&this.next(cr),this.stack.push(this.state),this.state=new State(ar)}callNow(ar,cr){return this.call(ar,cr),this.runOne()}return(ar){if(this.stack.length===0)throw this.error(new ParserError("Stack underflow"));ar===void 0&&(ar=this.state.buf),this.state=this.stack.pop(),this.state.returned=ar}returnNow(ar){return this.return(ar),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(ar){return ar.line=this.line,ar.col=this.col,ar.pos=this.pos,ar}parseStart(){throw new ParserError("Must declare a parseStart method")}};Parser$1.END=ParserEND;Parser$1.Error=ParserError;const createDateTime=or=>{const ar=new Date(or);if(isNaN(ar))throw new TypeError("Invalid Datetime");return ar},f$2=(or,ar)=>{for(ar=String(ar);ar.length<or;)ar="0"+ar;return ar};class FloatingDateTime extends Date{constructor(ar){super(ar+"Z"),this.isFloating=!0}toISOString(){const ar=`${this.getUTCFullYear()}-${f$2(2,this.getUTCMonth()+1)}-${f$2(2,this.getUTCDate())}`,cr=`${f$2(2,this.getUTCHours())}:${f$2(2,this.getUTCMinutes())}:${f$2(2,this.getUTCSeconds())}.${f$2(3,this.getUTCMilliseconds())}`;return`${ar}T${cr}`}}const createDateTimeFloat=or=>{const ar=new FloatingDateTime(or);if(isNaN(ar))throw new TypeError("Invalid Datetime");return ar};class Date_ extends Date{constructor(ar){super(ar),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$2(2,this.getUTCMonth()+1)}-${f$2(2,this.getUTCDate())}`}}const createDate=or=>{const ar=new Date_(or);if(isNaN(ar))throw new TypeError("Invalid Datetime");return ar};class Time extends Date{constructor(ar){super(`0000-01-01T${ar}Z`),this.isTime=!0}toISOString(){return`${f$2(2,this.getUTCHours())}:${f$2(2,this.getUTCMinutes())}:${f$2(2,this.getUTCSeconds())}.${f$2(3,this.getUTCMilliseconds())}`}}const createTime=or=>{const ar=new Time(or);if(isNaN(ar))throw new TypeError("Invalid Datetime");return ar},TOMLParser=makeParserClass(Parser$1);class TomlError extends Error{constructor(ar){super(ar),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=or=>{const ar=new TomlError(or.message);return ar.code=or.code,ar.wrapped=or,ar};const CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(or){return or>=CHAR_0&&or<=CHAR_9}function isHexit(or){return or>=CHAR_A&&or<=CHAR_F||or>=CHAR_a&&or<=CHAR_f||or>=CHAR_0&&or<=CHAR_9}function isBit(or){return or===CHAR_1||or===CHAR_0}function isOctit(or){return or>=CHAR_0&&or<=CHAR_7}function isAlphaNumQuoteHyphen(or){return or>=CHAR_A&&or<=CHAR_Z||or>=CHAR_a&&or<=CHAR_z||or>=CHAR_0&&or<=CHAR_9||or===CHAR_APOS||or===CHAR_QUOT||or===CHAR_LOWBAR||or===CHAR_HYPHEN}function isAlphaNumHyphen(or){return or>=CHAR_A&&or<=CHAR_Z||or>=CHAR_a&&or<=CHAR_z||or>=CHAR_0&&or<=CHAR_9||or===CHAR_LOWBAR||or===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty$1=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(or,ar){return hasOwnProperty$1.call(or,ar)?!0:(ar==="__proto__"&&defineProperty(or,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(or){return or===null||typeof or!="object"?!1:or[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table$1(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(or){return or===null||typeof or!="object"?!1:or[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(or){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:or}})}function isInlineList(or){return or===null||typeof or!="object"?!1:or[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(or){return or===null||typeof or!="object"?!1:or[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(or){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(ar){try{this.value=global.BigInt.asIntN(64,ar)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer(or){let ar=Number(or);return Object.is(ar,-0)&&(ar=0),global.BigInt&&!Number.isSafeInteger(ar)?new BoxedBigInt(or):Object.defineProperties(new Number(ar),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${or}]`}})}function isInteger(or){return or===null||typeof or!="object"?!1:or[_type]===INTEGER}const FLOAT=Symbol("float");function Float(or){return Object.defineProperties(new Number(or),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${or}]`}})}function isFloat(or){return or===null||typeof or!="object"?!1:or[_type]===FLOAT}function tomlType$1(or){const ar=typeof or;if(ar==="object"){if(or===null)return"null";if(or instanceof Date)return"datetime";if(_type in or)switch(or[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return ar}function makeParserClass(or){class ar extends or{constructor(){super(),this.ctx=this.obj=Table$1()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===or.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===or.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===or.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(lr){let ur=this.ctx,fr=lr.key.pop();for(let dr of lr.key){if(hasKey(ur,dr)&&!isTable(ur[dr]))throw this.error(new TomlError("Can't redefine existing key"));ur=ur[dr]=ur[dr]||Table$1()}if(hasKey(ur,fr))throw this.error(new TomlError("Can't redefine existing key"));return ur[_declared]=!0,isInteger(lr.value)||isFloat(lr.value)?ur[fr]=lr.value.valueOf():ur[fr]=lr.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(lr){return this.state.resultTable?this.state.resultTable.push(lr):this.state.resultTable=[lr],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(lr){return this.returnNow({key:this.state.resultTable,value:lr})}parseComment(){do{if(this.char===or.END||this.char===CTRL_J)return this.return();if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("comments")}while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(lr){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,lr)&&(!isTable(this.ctx[lr])||this.ctx[lr][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[lr]=this.ctx[lr]||Table$1(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,lr))this.ctx=this.ctx[lr]=Table$1();else if(isTable(this.ctx[lr]))this.ctx=this.ctx[lr];else if(isList(this.ctx[lr]))this.ctx=this.ctx[lr][this.ctx[lr].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(lr){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,lr)||(this.ctx[lr]=List()),isInlineList(this.ctx[lr]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[lr])){const ur=Table$1();this.ctx[lr].push(ur),this.ctx=ur}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,lr))this.ctx=this.ctx[lr]=Table$1();else{if(isInlineList(this.ctx[lr]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[lr]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[lr]))this.ctx=this.ctx[lr][this.ctx[lr].length-1];else if(isTable(this.ctx[lr]))this.ctx=this.ctx[lr];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(lr){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===or.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(lr){return this.returnNow(lr)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===or.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===or.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd3):(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd3(){return this.char===CHAR_APOS?(this.state.buf+="'",this.next(this.parseLiteralMultiEnd4)):this.returnNow()}parseLiteralMultiEnd4(){return this.char===CHAR_APOS?(this.state.buf+="'",this.return()):this.returnNow()}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}recordEscapeReplacement(lr){return this.state.buf+=lr,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===or.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}errorControlCharIn(lr){let ur="\\u00";return this.char<16&&(ur+="0"),ur+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in ${lr}, use ${ur} instead`))}recordMultiEscapeReplacement(lr){return this.state.buf+=lr,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd3):(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEnd3(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.next(this.parseMultiEnd4)):this.returnNow()}parseMultiEnd4(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.return()):this.returnNow()}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(lr){try{const ur=parseInt(lr,16);if(ur>=SURROGATE_FIRST&&ur<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(ur))}catch(ur){throw this.error(TomlError.wrap(ur))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const lr=Integer(this.state.buf);if(lr.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lr)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const lr=Integer(this.state.buf);if(lr.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lr)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const lr=Integer(this.state.buf);if(lr.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lr)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const lr=Integer(this.state.buf);if(lr.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(lr)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===or.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(lr){return this.state.resultArr||(this.state.resultArr=InlineList(tomlType$1(lr))),isFloat(lr)||isInteger(lr)?this.state.resultArr.push(lr.valueOf()):this.state.resultArr.push(lr),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===or.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(lr){let ur=this.state.resultTable,fr=lr.key.pop();for(let dr of lr.key){if(hasKey(ur,dr)&&(!isTable(ur[dr])||ur[dr][_declared]))throw this.error(new TomlError("Can't redefine existing key"));ur=ur[dr]=ur[dr]||Table$1()}if(hasKey(ur,fr))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(lr.value)||isFloat(lr.value)?ur[fr]=lr.value.valueOf():ur[fr]=lr.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===or.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTablePostComma);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTablePostComma(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===or.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)throw this.error(new TomlError("Empty elements in inline tables are not permitted"));if(this.char===CHAR_RCUB)throw this.error(new TomlError("Trailing commas in inline tables are not permitted"));return this.goto(this.parseInlineTable)}}return ar}function prettyError(or,ar){if(or.pos==null||or.line==null)return or;let cr=or.message;if(cr+=` at row ${or.line+1}, col ${or.col+1}, pos ${or.pos}:
`,ar&&ar.split){const lr=ar.split(/\n/),ur=String(Math.min(lr.length,or.line+3)).length;let fr=" ";for(;fr.length<ur;)fr+=" ";for(let dr=Math.max(0,or.line-1);dr<Math.min(lr.length,or.line+2);++dr){let pr=String(dr+1);if(pr.length<ur&&(pr=" "+pr),or.line===dr){cr+=pr+"> "+lr[dr]+`
`,cr+=fr+"  ";for(let mr=0;mr<or.col;++mr)cr+=" ";cr+=`^
`}else cr+=pr+": "+lr[dr]+`
`}}return or.message=cr+`
`,or}function parseString(or){global.Buffer&&global.Buffer.isBuffer(or)&&(or=or.toString("utf8"));const ar=new TOMLParser;try{return ar.parse(or),ar.finish()}catch(cr){throw prettyError(cr,or)}}function stringify$1(or){if(or===null)throw typeError("null");if(or===void 0)throw typeError("undefined");if(typeof or!="object")throw typeError(typeof or);if(typeof or.toJSON=="function"&&(or=or.toJSON()),or==null)return null;const ar=tomlType(or);if(ar!=="table")throw typeError(ar);return stringifyObject("","",or)}function typeError(or){return new Error("Can only stringify objects, not "+or)}function getInlineKeys(or){return Object.keys(or).filter(ar=>isInline(or[ar]))}function getComplexKeys(or){return Object.keys(or).filter(ar=>!isInline(or[ar]))}function toJSON(or){let ar=Array.isArray(or)?[]:Object.prototype.hasOwnProperty.call(or,"__proto__")?{["__proto__"]:void 0}:{};for(let cr of Object.keys(or))or[cr]&&typeof or[cr].toJSON=="function"&&!("toISOString"in or[cr])?ar[cr]=or[cr].toJSON():ar[cr]=or[cr];return ar}function stringifyObject(or,ar,cr){cr=toJSON(cr);let lr,ur;lr=getInlineKeys(cr),ur=getComplexKeys(cr);const fr=[],dr=ar||"";lr.forEach(mr=>{var gr=tomlType(cr[mr]);gr!=="undefined"&&gr!=="null"&&fr.push(dr+stringifyKey(mr)+" = "+stringifyAnyInline(cr[mr],!0))}),fr.length>0&&fr.push("");const pr=or&&lr.length>0?ar+"  ":"";return ur.forEach(mr=>{fr.push(stringifyComplex(or,pr,mr,cr[mr]))}),fr.join(`
`)}function isInline(or){switch(tomlType(or)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return or.length===0||tomlType(or[0])!=="table";case"table":return Object.keys(or).length===0;default:return!1}}function tomlType(or){return or===void 0?"undefined":or===null?"null":typeof or=="bigint"||Number.isInteger(or)&&!Object.is(or,-0)?"integer":typeof or=="number"?"float":typeof or=="boolean"?"boolean":typeof or=="string"?"string":"toISOString"in or?isNaN(or)?"undefined":"datetime":Array.isArray(or)?"array":"table"}function stringifyKey(or){const ar=String(or);return/^[-A-Za-z0-9_]+$/.test(ar)?ar:stringifyBasicString(ar)}function stringifyBasicString(or){return'"'+escapeString(or).replace(/"/g,'\\"')+'"'}function stringifyLiteralString(or){return"'"+or+"'"}function numpad(or,ar){for(;ar.length<or;)ar="0"+ar;return ar}function escapeString(or){return or.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,ar=>"\\u"+numpad(4,ar.codePointAt(0).toString(16)))}function stringifyMultilineString(or){let ar=or.split(/\n/).map(cr=>escapeString(cr).replace(/"(?="")/g,'\\"')).join(`
`);return ar.slice(-1)==='"'&&(ar+=`\\
`),`"""
`+ar+'"""'}function stringifyAnyInline(or,ar){let cr=tomlType(or);return cr==="string"&&(ar&&/\n/.test(or)?cr="string-multiline":!/[\b\t\n\f\r']/.test(or)&&/"/.test(or)&&(cr="string-literal")),stringifyInline(or,cr)}function stringifyInline(or,ar){switch(ar||(ar=tomlType(or)),ar){case"string-multiline":return stringifyMultilineString(or);case"string":return stringifyBasicString(or);case"string-literal":return stringifyLiteralString(or);case"integer":return stringifyInteger(or);case"float":return stringifyFloat(or);case"boolean":return stringifyBoolean(or);case"datetime":return stringifyDatetime(or);case"array":return stringifyInlineArray(or.filter(cr=>tomlType(cr)!=="null"&&tomlType(cr)!=="undefined"&&tomlType(cr)!=="nan"));case"table":return stringifyInlineTable(or);default:throw typeError(ar)}}function stringifyInteger(or){return String(or).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function stringifyFloat(or){if(or===1/0)return"inf";if(or===-1/0)return"-inf";if(Object.is(or,NaN))return"nan";if(Object.is(or,-0))return"-0.0";const[ar,cr]=String(or).split(".");return stringifyInteger(ar)+"."+cr}function stringifyBoolean(or){return String(or)}function stringifyDatetime(or){return or.toISOString()}function stringifyInlineArray(or){or=toJSON(or);let ar="[";const cr=or.map(lr=>stringifyInline(lr));return cr.join(", ").length>60||/\n/.test(cr)?ar+=`
  `+cr.join(`,
  `)+`
`:ar+=" "+cr.join(", ")+(cr.length>0?" ":""),ar+"]"}function stringifyInlineTable(or){or=toJSON(or);const ar=[];return Object.keys(or).forEach(cr=>{ar.push(stringifyKey(cr)+" = "+stringifyAnyInline(or[cr],!1))}),"{ "+ar.join(", ")+(ar.length>0?" ":"")+"}"}function stringifyComplex(or,ar,cr,lr){const ur=tomlType(lr);if(ur==="array")return stringifyArrayOfTables(or,ar,cr,lr);if(ur==="table")return stringifyComplexTable(or,ar,cr,lr);throw typeError(ur)}function stringifyArrayOfTables(or,ar,cr,lr){lr=toJSON(lr);const ur=tomlType(lr[0]);if(ur!=="table")throw typeError(ur);const fr=or+stringifyKey(cr);let dr="";return lr.forEach(pr=>{dr.length>0&&(dr+=`
`),dr+=ar+"[["+fr+`]]
`,dr+=stringifyObject(fr+".",ar,pr)}),dr}function stringifyComplexTable(or,ar,cr,lr){const ur=or+stringifyKey(cr);let fr="";return getInlineKeys(lr).length>0&&(fr+=ar+"["+ur+`]
`),fr+stringifyObject(ur+".",ar,lr)}const parse$1=parseString,stringify=stringify$1;var colorString$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function or(ar){return!ar||typeof ar=="string"?!1:ar instanceof Array||Array.isArray(ar)||ar.length>=0&&(ar.splice instanceof Function||Object.getOwnPropertyDescriptor(ar,ar.length-1)&&ar.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice$2=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function or(ar){for(var cr=[],lr=0,ur=ar.length;lr<ur;lr++){var fr=ar[lr];isArrayish(fr)?cr=concat.call(cr,slice$2.call(fr)):cr.push(fr)}return cr};swizzle$1.wrap=function(or){return function(){return or(swizzle$1(arguments))}};var simpleSwizzleExports=simpleSwizzle.exports,colorNames=colorName,swizzle=simpleSwizzleExports,hasOwnProperty=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(or){var ar=or.substring(0,3).toLowerCase(),cr,lr;switch(ar){case"hsl":cr=cs.get.hsl(or),lr="hsl";break;case"hwb":cr=cs.get.hwb(or),lr="hwb";break;default:cr=cs.get.rgb(or),lr="rgb";break}return cr?{model:lr,value:cr}:null};cs.get.rgb=function(or){if(!or)return null;var ar=/^#([a-f0-9]{3,4})$/i,cr=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,lr=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,ur=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,fr=/^(\w+)$/,dr=[0,0,0,1],pr,mr,gr;if(pr=or.match(cr)){for(gr=pr[2],pr=pr[1],mr=0;mr<3;mr++){var vr=mr*2;dr[mr]=parseInt(pr.slice(vr,vr+2),16)}gr&&(dr[3]=parseInt(gr,16)/255)}else if(pr=or.match(ar)){for(pr=pr[1],gr=pr[3],mr=0;mr<3;mr++)dr[mr]=parseInt(pr[mr]+pr[mr],16);gr&&(dr[3]=parseInt(gr+gr,16)/255)}else if(pr=or.match(lr)){for(mr=0;mr<3;mr++)dr[mr]=parseInt(pr[mr+1],0);pr[4]&&(pr[5]?dr[3]=parseFloat(pr[4])*.01:dr[3]=parseFloat(pr[4]))}else if(pr=or.match(ur)){for(mr=0;mr<3;mr++)dr[mr]=Math.round(parseFloat(pr[mr+1])*2.55);pr[4]&&(pr[5]?dr[3]=parseFloat(pr[4])*.01:dr[3]=parseFloat(pr[4]))}else return(pr=or.match(fr))?pr[1]==="transparent"?[0,0,0,0]:hasOwnProperty.call(colorNames,pr[1])?(dr=colorNames[pr[1]],dr[3]=1,dr):null:null;for(mr=0;mr<3;mr++)dr[mr]=clamp$3(dr[mr],0,255);return dr[3]=clamp$3(dr[3],0,1),dr};cs.get.hsl=function(or){if(!or)return null;var ar=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,cr=or.match(ar);if(cr){var lr=parseFloat(cr[4]),ur=(parseFloat(cr[1])%360+360)%360,fr=clamp$3(parseFloat(cr[2]),0,100),dr=clamp$3(parseFloat(cr[3]),0,100),pr=clamp$3(isNaN(lr)?1:lr,0,1);return[ur,fr,dr,pr]}return null};cs.get.hwb=function(or){if(!or)return null;var ar=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,cr=or.match(ar);if(cr){var lr=parseFloat(cr[4]),ur=(parseFloat(cr[1])%360+360)%360,fr=clamp$3(parseFloat(cr[2]),0,100),dr=clamp$3(parseFloat(cr[3]),0,100),pr=clamp$3(isNaN(lr)?1:lr,0,1);return[ur,fr,dr,pr]}return null};cs.to.hex=function(){var or=swizzle(arguments);return"#"+hexDouble(or[0])+hexDouble(or[1])+hexDouble(or[2])+(or[3]<1?hexDouble(Math.round(or[3]*255)):"")};cs.to.rgb=function(){var or=swizzle(arguments);return or.length<4||or[3]===1?"rgb("+Math.round(or[0])+", "+Math.round(or[1])+", "+Math.round(or[2])+")":"rgba("+Math.round(or[0])+", "+Math.round(or[1])+", "+Math.round(or[2])+", "+or[3]+")"};cs.to.rgb.percent=function(){var or=swizzle(arguments),ar=Math.round(or[0]/255*100),cr=Math.round(or[1]/255*100),lr=Math.round(or[2]/255*100);return or.length<4||or[3]===1?"rgb("+ar+"%, "+cr+"%, "+lr+"%)":"rgba("+ar+"%, "+cr+"%, "+lr+"%, "+or[3]+")"};cs.to.hsl=function(){var or=swizzle(arguments);return or.length<4||or[3]===1?"hsl("+or[0]+", "+or[1]+"%, "+or[2]+"%)":"hsla("+or[0]+", "+or[1]+"%, "+or[2]+"%, "+or[3]+")"};cs.to.hwb=function(){var or=swizzle(arguments),ar="";return or.length>=4&&or[3]!==1&&(ar=", "+or[3]),"hwb("+or[0]+", "+or[1]+"%, "+or[2]+"%"+ar+")"};cs.to.keyword=function(or){return reverseNames[or.slice(0,3)]};function clamp$3(or,ar,cr){return Math.min(Math.max(ar,or),cr)}function hexDouble(or){var ar=Math.round(or).toString(16).toUpperCase();return ar.length<2?"0"+ar:ar}var colorStringExports=colorString$1.exports;const cssKeywords=colorName,reverseKeywords={};for(const or of Object.keys(cssKeywords))reverseKeywords[cssKeywords[or]]=or;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const or of Object.keys(convert$2)){if(!("channels"in convert$2[or]))throw new Error("missing channels property: "+or);if(!("labels"in convert$2[or]))throw new Error("missing channel labels property: "+or);if(convert$2[or].labels.length!==convert$2[or].channels)throw new Error("channel and label counts mismatch: "+or);const{channels:ar,labels:cr}=convert$2[or];delete convert$2[or].channels,delete convert$2[or].labels,Object.defineProperty(convert$2[or],"channels",{value:ar}),Object.defineProperty(convert$2[or],"labels",{value:cr})}convert$2.rgb.hsl=function(or){const ar=or[0]/255,cr=or[1]/255,lr=or[2]/255,ur=Math.min(ar,cr,lr),fr=Math.max(ar,cr,lr),dr=fr-ur;let pr,mr;fr===ur?pr=0:ar===fr?pr=(cr-lr)/dr:cr===fr?pr=2+(lr-ar)/dr:lr===fr&&(pr=4+(ar-cr)/dr),pr=Math.min(pr*60,360),pr<0&&(pr+=360);const gr=(ur+fr)/2;return fr===ur?mr=0:gr<=.5?mr=dr/(fr+ur):mr=dr/(2-fr-ur),[pr,mr*100,gr*100]};convert$2.rgb.hsv=function(or){let ar,cr,lr,ur,fr;const dr=or[0]/255,pr=or[1]/255,mr=or[2]/255,gr=Math.max(dr,pr,mr),vr=gr-Math.min(dr,pr,mr),hr=function($r){return(gr-$r)/6/vr+1/2};return vr===0?(ur=0,fr=0):(fr=vr/gr,ar=hr(dr),cr=hr(pr),lr=hr(mr),dr===gr?ur=lr-cr:pr===gr?ur=1/3+ar-lr:mr===gr&&(ur=2/3+cr-ar),ur<0?ur+=1:ur>1&&(ur-=1)),[ur*360,fr*100,gr*100]};convert$2.rgb.hwb=function(or){const ar=or[0],cr=or[1];let lr=or[2];const ur=convert$2.rgb.hsl(or)[0],fr=1/255*Math.min(ar,Math.min(cr,lr));return lr=1-1/255*Math.max(ar,Math.max(cr,lr)),[ur,fr*100,lr*100]};convert$2.rgb.cmyk=function(or){const ar=or[0]/255,cr=or[1]/255,lr=or[2]/255,ur=Math.min(1-ar,1-cr,1-lr),fr=(1-ar-ur)/(1-ur)||0,dr=(1-cr-ur)/(1-ur)||0,pr=(1-lr-ur)/(1-ur)||0;return[fr*100,dr*100,pr*100,ur*100]};function comparativeDistance(or,ar){return(or[0]-ar[0])**2+(or[1]-ar[1])**2+(or[2]-ar[2])**2}convert$2.rgb.keyword=function(or){const ar=reverseKeywords[or];if(ar)return ar;let cr=1/0,lr;for(const ur of Object.keys(cssKeywords)){const fr=cssKeywords[ur],dr=comparativeDistance(or,fr);dr<cr&&(cr=dr,lr=ur)}return lr};convert$2.keyword.rgb=function(or){return cssKeywords[or]};convert$2.rgb.xyz=function(or){let ar=or[0]/255,cr=or[1]/255,lr=or[2]/255;ar=ar>.04045?((ar+.055)/1.055)**2.4:ar/12.92,cr=cr>.04045?((cr+.055)/1.055)**2.4:cr/12.92,lr=lr>.04045?((lr+.055)/1.055)**2.4:lr/12.92;const ur=ar*.4124+cr*.3576+lr*.1805,fr=ar*.2126+cr*.7152+lr*.0722,dr=ar*.0193+cr*.1192+lr*.9505;return[ur*100,fr*100,dr*100]};convert$2.rgb.lab=function(or){const ar=convert$2.rgb.xyz(or);let cr=ar[0],lr=ar[1],ur=ar[2];cr/=95.047,lr/=100,ur/=108.883,cr=cr>.008856?cr**(1/3):7.787*cr+16/116,lr=lr>.008856?lr**(1/3):7.787*lr+16/116,ur=ur>.008856?ur**(1/3):7.787*ur+16/116;const fr=116*lr-16,dr=500*(cr-lr),pr=200*(lr-ur);return[fr,dr,pr]};convert$2.hsl.rgb=function(or){const ar=or[0]/360,cr=or[1]/100,lr=or[2]/100;let ur,fr,dr;if(cr===0)return dr=lr*255,[dr,dr,dr];lr<.5?ur=lr*(1+cr):ur=lr+cr-lr*cr;const pr=2*lr-ur,mr=[0,0,0];for(let gr=0;gr<3;gr++)fr=ar+1/3*-(gr-1),fr<0&&fr++,fr>1&&fr--,6*fr<1?dr=pr+(ur-pr)*6*fr:2*fr<1?dr=ur:3*fr<2?dr=pr+(ur-pr)*(2/3-fr)*6:dr=pr,mr[gr]=dr*255;return mr};convert$2.hsl.hsv=function(or){const ar=or[0];let cr=or[1]/100,lr=or[2]/100,ur=cr;const fr=Math.max(lr,.01);lr*=2,cr*=lr<=1?lr:2-lr,ur*=fr<=1?fr:2-fr;const dr=(lr+cr)/2,pr=lr===0?2*ur/(fr+ur):2*cr/(lr+cr);return[ar,pr*100,dr*100]};convert$2.hsv.rgb=function(or){const ar=or[0]/60,cr=or[1]/100;let lr=or[2]/100;const ur=Math.floor(ar)%6,fr=ar-Math.floor(ar),dr=255*lr*(1-cr),pr=255*lr*(1-cr*fr),mr=255*lr*(1-cr*(1-fr));switch(lr*=255,ur){case 0:return[lr,mr,dr];case 1:return[pr,lr,dr];case 2:return[dr,lr,mr];case 3:return[dr,pr,lr];case 4:return[mr,dr,lr];case 5:return[lr,dr,pr]}};convert$2.hsv.hsl=function(or){const ar=or[0],cr=or[1]/100,lr=or[2]/100,ur=Math.max(lr,.01);let fr,dr;dr=(2-cr)*lr;const pr=(2-cr)*ur;return fr=cr*ur,fr/=pr<=1?pr:2-pr,fr=fr||0,dr/=2,[ar,fr*100,dr*100]};convert$2.hwb.rgb=function(or){const ar=or[0]/360;let cr=or[1]/100,lr=or[2]/100;const ur=cr+lr;let fr;ur>1&&(cr/=ur,lr/=ur);const dr=Math.floor(6*ar),pr=1-lr;fr=6*ar-dr,dr&1&&(fr=1-fr);const mr=cr+fr*(pr-cr);let gr,vr,hr;switch(dr){default:case 6:case 0:gr=pr,vr=mr,hr=cr;break;case 1:gr=mr,vr=pr,hr=cr;break;case 2:gr=cr,vr=pr,hr=mr;break;case 3:gr=cr,vr=mr,hr=pr;break;case 4:gr=mr,vr=cr,hr=pr;break;case 5:gr=pr,vr=cr,hr=mr;break}return[gr*255,vr*255,hr*255]};convert$2.cmyk.rgb=function(or){const ar=or[0]/100,cr=or[1]/100,lr=or[2]/100,ur=or[3]/100,fr=1-Math.min(1,ar*(1-ur)+ur),dr=1-Math.min(1,cr*(1-ur)+ur),pr=1-Math.min(1,lr*(1-ur)+ur);return[fr*255,dr*255,pr*255]};convert$2.xyz.rgb=function(or){const ar=or[0]/100,cr=or[1]/100,lr=or[2]/100;let ur,fr,dr;return ur=ar*3.2406+cr*-1.5372+lr*-.4986,fr=ar*-.9689+cr*1.8758+lr*.0415,dr=ar*.0557+cr*-.204+lr*1.057,ur=ur>.0031308?1.055*ur**(1/2.4)-.055:ur*12.92,fr=fr>.0031308?1.055*fr**(1/2.4)-.055:fr*12.92,dr=dr>.0031308?1.055*dr**(1/2.4)-.055:dr*12.92,ur=Math.min(Math.max(0,ur),1),fr=Math.min(Math.max(0,fr),1),dr=Math.min(Math.max(0,dr),1),[ur*255,fr*255,dr*255]};convert$2.xyz.lab=function(or){let ar=or[0],cr=or[1],lr=or[2];ar/=95.047,cr/=100,lr/=108.883,ar=ar>.008856?ar**(1/3):7.787*ar+16/116,cr=cr>.008856?cr**(1/3):7.787*cr+16/116,lr=lr>.008856?lr**(1/3):7.787*lr+16/116;const ur=116*cr-16,fr=500*(ar-cr),dr=200*(cr-lr);return[ur,fr,dr]};convert$2.lab.xyz=function(or){const ar=or[0],cr=or[1],lr=or[2];let ur,fr,dr;fr=(ar+16)/116,ur=cr/500+fr,dr=fr-lr/200;const pr=fr**3,mr=ur**3,gr=dr**3;return fr=pr>.008856?pr:(fr-16/116)/7.787,ur=mr>.008856?mr:(ur-16/116)/7.787,dr=gr>.008856?gr:(dr-16/116)/7.787,ur*=95.047,fr*=100,dr*=108.883,[ur,fr,dr]};convert$2.lab.lch=function(or){const ar=or[0],cr=or[1],lr=or[2];let ur;ur=Math.atan2(lr,cr)*360/2/Math.PI,ur<0&&(ur+=360);const dr=Math.sqrt(cr*cr+lr*lr);return[ar,dr,ur]};convert$2.lch.lab=function(or){const ar=or[0],cr=or[1],ur=or[2]/360*2*Math.PI,fr=cr*Math.cos(ur),dr=cr*Math.sin(ur);return[ar,fr,dr]};convert$2.rgb.ansi16=function(or,ar=null){const[cr,lr,ur]=or;let fr=ar===null?convert$2.rgb.hsv(or)[2]:ar;if(fr=Math.round(fr/50),fr===0)return 30;let dr=30+(Math.round(ur/255)<<2|Math.round(lr/255)<<1|Math.round(cr/255));return fr===2&&(dr+=60),dr};convert$2.hsv.ansi16=function(or){return convert$2.rgb.ansi16(convert$2.hsv.rgb(or),or[2])};convert$2.rgb.ansi256=function(or){const ar=or[0],cr=or[1],lr=or[2];return ar===cr&&cr===lr?ar<8?16:ar>248?231:Math.round((ar-8)/247*24)+232:16+36*Math.round(ar/255*5)+6*Math.round(cr/255*5)+Math.round(lr/255*5)};convert$2.ansi16.rgb=function(or){let ar=or%10;if(ar===0||ar===7)return or>50&&(ar+=3.5),ar=ar/10.5*255,[ar,ar,ar];const cr=(~~(or>50)+1)*.5,lr=(ar&1)*cr*255,ur=(ar>>1&1)*cr*255,fr=(ar>>2&1)*cr*255;return[lr,ur,fr]};convert$2.ansi256.rgb=function(or){if(or>=232){const fr=(or-232)*10+8;return[fr,fr,fr]}or-=16;let ar;const cr=Math.floor(or/36)/5*255,lr=Math.floor((ar=or%36)/6)/5*255,ur=ar%6/5*255;return[cr,lr,ur]};convert$2.rgb.hex=function(or){const cr=(((Math.round(or[0])&255)<<16)+((Math.round(or[1])&255)<<8)+(Math.round(or[2])&255)).toString(16).toUpperCase();return"000000".substring(cr.length)+cr};convert$2.hex.rgb=function(or){const ar=or.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!ar)return[0,0,0];let cr=ar[0];ar[0].length===3&&(cr=cr.split("").map(pr=>pr+pr).join(""));const lr=parseInt(cr,16),ur=lr>>16&255,fr=lr>>8&255,dr=lr&255;return[ur,fr,dr]};convert$2.rgb.hcg=function(or){const ar=or[0]/255,cr=or[1]/255,lr=or[2]/255,ur=Math.max(Math.max(ar,cr),lr),fr=Math.min(Math.min(ar,cr),lr),dr=ur-fr;let pr,mr;return dr<1?pr=fr/(1-dr):pr=0,dr<=0?mr=0:ur===ar?mr=(cr-lr)/dr%6:ur===cr?mr=2+(lr-ar)/dr:mr=4+(ar-cr)/dr,mr/=6,mr%=1,[mr*360,dr*100,pr*100]};convert$2.hsl.hcg=function(or){const ar=or[1]/100,cr=or[2]/100,lr=cr<.5?2*ar*cr:2*ar*(1-cr);let ur=0;return lr<1&&(ur=(cr-.5*lr)/(1-lr)),[or[0],lr*100,ur*100]};convert$2.hsv.hcg=function(or){const ar=or[1]/100,cr=or[2]/100,lr=ar*cr;let ur=0;return lr<1&&(ur=(cr-lr)/(1-lr)),[or[0],lr*100,ur*100]};convert$2.hcg.rgb=function(or){const ar=or[0]/360,cr=or[1]/100,lr=or[2]/100;if(cr===0)return[lr*255,lr*255,lr*255];const ur=[0,0,0],fr=ar%1*6,dr=fr%1,pr=1-dr;let mr=0;switch(Math.floor(fr)){case 0:ur[0]=1,ur[1]=dr,ur[2]=0;break;case 1:ur[0]=pr,ur[1]=1,ur[2]=0;break;case 2:ur[0]=0,ur[1]=1,ur[2]=dr;break;case 3:ur[0]=0,ur[1]=pr,ur[2]=1;break;case 4:ur[0]=dr,ur[1]=0,ur[2]=1;break;default:ur[0]=1,ur[1]=0,ur[2]=pr}return mr=(1-cr)*lr,[(cr*ur[0]+mr)*255,(cr*ur[1]+mr)*255,(cr*ur[2]+mr)*255]};convert$2.hcg.hsv=function(or){const ar=or[1]/100,cr=or[2]/100,lr=ar+cr*(1-ar);let ur=0;return lr>0&&(ur=ar/lr),[or[0],ur*100,lr*100]};convert$2.hcg.hsl=function(or){const ar=or[1]/100,lr=or[2]/100*(1-ar)+.5*ar;let ur=0;return lr>0&&lr<.5?ur=ar/(2*lr):lr>=.5&&lr<1&&(ur=ar/(2*(1-lr))),[or[0],ur*100,lr*100]};convert$2.hcg.hwb=function(or){const ar=or[1]/100,cr=or[2]/100,lr=ar+cr*(1-ar);return[or[0],(lr-ar)*100,(1-lr)*100]};convert$2.hwb.hcg=function(or){const ar=or[1]/100,lr=1-or[2]/100,ur=lr-ar;let fr=0;return ur<1&&(fr=(lr-ur)/(1-ur)),[or[0],ur*100,fr*100]};convert$2.apple.rgb=function(or){return[or[0]/65535*255,or[1]/65535*255,or[2]/65535*255]};convert$2.rgb.apple=function(or){return[or[0]/255*65535,or[1]/255*65535,or[2]/255*65535]};convert$2.gray.rgb=function(or){return[or[0]/100*255,or[0]/100*255,or[0]/100*255]};convert$2.gray.hsl=function(or){return[0,0,or[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(or){return[0,100,or[0]]};convert$2.gray.cmyk=function(or){return[0,0,0,or[0]]};convert$2.gray.lab=function(or){return[or[0],0,0]};convert$2.gray.hex=function(or){const ar=Math.round(or[0]/100*255)&255,lr=((ar<<16)+(ar<<8)+ar).toString(16).toUpperCase();return"000000".substring(lr.length)+lr};convert$2.rgb.gray=function(or){return[(or[0]+or[1]+or[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const or={},ar=Object.keys(conversions$1);for(let cr=ar.length,lr=0;lr<cr;lr++)or[ar[lr]]={distance:-1,parent:null};return or}function deriveBFS(or){const ar=buildGraph(),cr=[or];for(ar[or].distance=0;cr.length;){const lr=cr.pop(),ur=Object.keys(conversions$1[lr]);for(let fr=ur.length,dr=0;dr<fr;dr++){const pr=ur[dr],mr=ar[pr];mr.distance===-1&&(mr.distance=ar[lr].distance+1,mr.parent=lr,cr.unshift(pr))}}return ar}function link(or,ar){return function(cr){return ar(or(cr))}}function wrapConversion(or,ar){const cr=[ar[or].parent,or];let lr=conversions$1[ar[or].parent][or],ur=ar[or].parent;for(;ar[ur].parent;)cr.unshift(ar[ur].parent),lr=link(conversions$1[ar[ur].parent][ur],lr),ur=ar[ur].parent;return lr.conversion=cr,lr}var route$1=function(or){const ar=deriveBFS(or),cr={},lr=Object.keys(ar);for(let ur=lr.length,fr=0;fr<ur;fr++){const dr=lr[fr];ar[dr].parent!==null&&(cr[dr]=wrapConversion(dr,ar))}return cr};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(or){const ar=function(...cr){const lr=cr[0];return lr==null?lr:(lr.length>1&&(cr=lr),or(cr))};return"conversion"in or&&(ar.conversion=or.conversion),ar}function wrapRounded(or){const ar=function(...cr){const lr=cr[0];if(lr==null)return lr;lr.length>1&&(cr=lr);const ur=or(cr);if(typeof ur=="object")for(let fr=ur.length,dr=0;dr<fr;dr++)ur[dr]=Math.round(ur[dr]);return ur};return"conversion"in or&&(ar.conversion=or.conversion),ar}models.forEach(or=>{convert$1[or]={},Object.defineProperty(convert$1[or],"channels",{value:conversions[or].channels}),Object.defineProperty(convert$1[or],"labels",{value:conversions[or].labels});const ar=route(or);Object.keys(ar).forEach(lr=>{const ur=ar[lr];convert$1[or][lr]=wrapRounded(ur),convert$1[or][lr].raw=wrapRaw(ur)})});var colorConvert=convert$1;const colorString=colorStringExports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const or of Object.keys(convert))hashedModelKeys[[...convert[or].labels].sort().join("")]=or;const limiters={};function Color(or,ar){if(!(this instanceof Color))return new Color(or,ar);if(ar&&ar in skippedModels&&(ar=null),ar&&!(ar in convert))throw new Error("Unknown model: "+ar);let cr,lr;if(or==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(or instanceof Color)this.model=or.model,this.color=[...or.color],this.valpha=or.valpha;else if(typeof or=="string"){const ur=colorString.get(or);if(ur===null)throw new Error("Unable to parse color from string: "+or);this.model=ur.model,lr=convert[this.model].channels,this.color=ur.value.slice(0,lr),this.valpha=typeof ur.value[lr]=="number"?ur.value[lr]:1}else if(or.length>0){this.model=ar||"rgb",lr=convert[this.model].channels;const ur=Array.prototype.slice.call(or,0,lr);this.color=zeroArray(ur,lr),this.valpha=typeof or[lr]=="number"?or[lr]:1}else if(typeof or=="number")this.model="rgb",this.color=[or>>16&255,or>>8&255,or&255],this.valpha=1;else{this.valpha=1;const ur=Object.keys(or);"alpha"in or&&(ur.splice(ur.indexOf("alpha"),1),this.valpha=typeof or.alpha=="number"?or.alpha:0);const fr=ur.sort().join("");if(!(fr in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(or));this.model=hashedModelKeys[fr];const{labels:dr}=convert[this.model],pr=[];for(cr=0;cr<dr.length;cr++)pr.push(or[dr[cr]]);this.color=zeroArray(pr)}if(limiters[this.model])for(lr=convert[this.model].channels,cr=0;cr<lr;cr++){const ur=limiters[this.model][cr];ur&&(this.color[cr]=ur(this.color[cr]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(or){let ar=this.model in colorString.to?this:this.rgb();ar=ar.round(typeof or=="number"?or:1);const cr=ar.valpha===1?ar.color:[...ar.color,this.valpha];return colorString.to[ar.model](cr)},percentString(or){const ar=this.rgb().round(typeof or=="number"?or:1),cr=ar.valpha===1?ar.color:[...ar.color,this.valpha];return colorString.to.rgb.percent(cr)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const or={},{channels:ar}=convert[this.model],{labels:cr}=convert[this.model];for(let lr=0;lr<ar;lr++)or[cr[lr]]=this.color[lr];return this.valpha!==1&&(or.alpha=this.valpha),or},unitArray(){const or=this.rgb().color;return or[0]/=255,or[1]/=255,or[2]/=255,this.valpha!==1&&or.push(this.valpha),or},unitObject(){const or=this.rgb().object();return or.r/=255,or.g/=255,or.b/=255,this.valpha!==1&&(or.alpha=this.valpha),or},round(or){return or=Math.max(or||0,0),new Color([...this.color.map(roundToPlace(or)),this.valpha],this.model)},alpha(or){return or!==void 0?new Color([...this.color,Math.max(0,Math.min(1,or))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,or=>(or%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(or){return or!==void 0?new Color(or):convert[this.model].keyword(this.color)},hex(or){return or!==void 0?new Color(or):colorString.to.hex(this.rgb().round().color)},hexa(or){if(or!==void 0)return new Color(or);const ar=this.rgb().round().color;let cr=Math.round(this.valpha*255).toString(16).toUpperCase();return cr.length===1&&(cr="0"+cr),colorString.to.hex(ar)+cr},rgbNumber(){const or=this.rgb().color;return(or[0]&255)<<16|(or[1]&255)<<8|or[2]&255},luminosity(){const or=this.rgb().color,ar=[];for(const[cr,lr]of or.entries()){const ur=lr/255;ar[cr]=ur<=.04045?ur/12.92:((ur+.055)/1.055)**2.4}return .2126*ar[0]+.7152*ar[1]+.0722*ar[2]},contrast(or){const ar=this.luminosity(),cr=or.luminosity();return ar>cr?(ar+.05)/(cr+.05):(cr+.05)/(ar+.05)},level(or){const ar=this.contrast(or);return ar>=7?"AAA":ar>=4.5?"AA":""},isDark(){const or=this.rgb().color;return(or[0]*2126+or[1]*7152+or[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const or=this.rgb();for(let ar=0;ar<3;ar++)or.color[ar]=255-or.color[ar];return or},lighten(or){const ar=this.hsl();return ar.color[2]+=ar.color[2]*or,ar},darken(or){const ar=this.hsl();return ar.color[2]-=ar.color[2]*or,ar},saturate(or){const ar=this.hsl();return ar.color[1]+=ar.color[1]*or,ar},desaturate(or){const ar=this.hsl();return ar.color[1]-=ar.color[1]*or,ar},whiten(or){const ar=this.hwb();return ar.color[1]+=ar.color[1]*or,ar},blacken(or){const ar=this.hwb();return ar.color[2]+=ar.color[2]*or,ar},grayscale(){const or=this.rgb().color,ar=or[0]*.3+or[1]*.59+or[2]*.11;return Color.rgb(ar,ar,ar)},fade(or){return this.alpha(this.valpha-this.valpha*or)},opaquer(or){return this.alpha(this.valpha+this.valpha*or)},rotate(or){const ar=this.hsl();let cr=ar.color[0];return cr=(cr+or)%360,cr=cr<0?360+cr:cr,ar.color[0]=cr,ar},mix(or,ar){if(!or||!or.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof or);const cr=or.rgb(),lr=this.rgb(),ur=ar===void 0?.5:ar,fr=2*ur-1,dr=cr.alpha()-lr.alpha(),pr=((fr*dr===-1?fr:(fr+dr)/(1+fr*dr))+1)/2,mr=1-pr;return Color.rgb(pr*cr.red()+mr*lr.red(),pr*cr.green()+mr*lr.green(),pr*cr.blue()+mr*lr.blue(),cr.alpha()*ur+lr.alpha()*(1-ur))}};for(const or of Object.keys(convert)){if(skippedModels.includes(or))continue;const{channels:ar}=convert[or];Color.prototype[or]=function(...cr){return this.model===or?new Color(this):cr.length>0?new Color(cr,or):new Color([...assertArray(convert[this.model][or].raw(this.color)),this.valpha],or)},Color[or]=function(...cr){let lr=cr[0];return typeof lr=="number"&&(lr=zeroArray(cr,ar)),new Color(lr,or)}}function roundTo(or,ar){return Number(or.toFixed(ar))}function roundToPlace(or){return function(ar){return roundTo(ar,or)}}function getset(or,ar,cr){or=Array.isArray(or)?or:[or];for(const lr of or)(limiters[lr]||(limiters[lr]=[]))[ar]=cr;return or=or[0],function(lr){let ur;return lr!==void 0?(cr&&(lr=cr(lr)),ur=this[or](),ur.color[ar]=lr,ur):(ur=this[or]().color[ar],cr&&(ur=cr(ur)),ur)}}function maxfn(or){return function(ar){return Math.max(0,Math.min(or,ar))}}function assertArray(or){return Array.isArray(or)?or:[or]}function zeroArray(or,ar){for(let cr=0;cr<ar;cr++)typeof or[cr]!="number"&&(or[cr]=0);return or}var color=Color;const Color$1=getDefaultExportFromCjs(color);function convertColor(or,ar=!0){if(!or)return null;const cr=new Uint8Array(4);if(new DataView(cr.buffer).setInt32(0,or),ar){const[pr,mr,gr,vr]=cr;return`rgba(${vr},${gr},${mr},${pr===1?1:pr/255})`}const[,ur,fr,dr]=cr;return`rgb(${dr},${fr},${ur})`}function invertColor(or){return Color$1(or).negate().hex()}function getContrastColor(or){const ar=Color$1(or),cr=ar.red(),lr=ar.green(),ur=ar.blue();return(cr*299+lr*587+ur*114)/1e3>=128?"black":"white"}function defer$1(){let or,ar;const cr=new Promise((lr,ur)=>{or=lr,ar=ur});return{resolve:or,reject:ar,promise:cr}}const hashString=or=>or.split("").reduce((ar,cr)=>(ar=(ar<<5)-ar+cr.charCodeAt(0),ar&ar),0);function cyrb53(or,ar=0){let cr=3735928559^ar,lr=1103547991^ar;for(let ur=0,fr;ur<or.length;ur++)fr=or.charCodeAt(ur),cr=Math.imul(cr^fr,2654435761),lr=Math.imul(lr^fr,1597334677);return cr=Math.imul(cr^cr>>>16,2246822507)^Math.imul(lr^lr>>>13,3266489909),lr=Math.imul(lr^lr>>>16,2246822507)^Math.imul(cr^cr>>>13,3266489909),(4294967296*(2097151&lr)+(cr>>>0)).toString(16)}const PROXY_URL="https://game-proxy.qspider.workers.dev/";function fetchProxyFallback(or){return fetch(or).catch(()=>fetch(PROXY_URL+window.btoa(or)))}function throttle(or,ar){let cr,lr;return function(...ur){return cr||(cr=!0,setTimeout(()=>cr=!1,ar),lr=or.apply(this,ur)),lr}}const scriptRel="modulepreload",assetsURL=function(or){return"https://qspfoundation.github.io/qspider/"+or},seen={},__vitePreload=function or(ar,cr,lr){let ur=Promise.resolve();if(cr&&cr.length>0){const fr=document.getElementsByTagName("link");ur=Promise.all(cr.map(dr=>{if(dr=assetsURL(dr),dr in seen)return;seen[dr]=!0;const pr=dr.endsWith(".css"),mr=pr?'[rel="stylesheet"]':"";if(!!lr)for(let hr=fr.length-1;hr>=0;hr--){const $r=fr[hr];if($r.href===dr&&(!pr||$r.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${dr}"]${mr}`))return;const vr=document.createElement("link");if(vr.rel=pr?"stylesheet":scriptRel,pr||(vr.as="script",vr.crossOrigin=""),vr.href=dr,document.head.appendChild(vr),pr)return new Promise((hr,$r)=>{vr.addEventListener("load",hr),vr.addEventListener("error",()=>$r(new Error(`Unable to preload CSS for ${dr}`)))})}))}return ur.then(()=>ar()).catch(fr=>{const dr=new Event("vite:preloadError",{cancelable:!0});if(dr.payload=fr,window.dispatchEvent(dr),!dr.defaultPrevented)throw fr})};var e$2;(function(or){or[or.ACTS=0]="ACTS",or[or.OBJS=1]="OBJS",or[or.VARS=2]="VARS",or[or.INPUT=3]="INPUT"})(e$2||(e$2={}));var t$2,n$2,r$2=(t$2=import.meta.url,function(or){or===void 0&&(or={});try{var ar,cr,lr,ur,fr,dr,pr,mr,gr,vr,hr,$r,xr,br,Er,wr,yr,_r,Sr,Pr,Or,Lr,Tr=function(){Rr.print||console.log.bind(console);var Gr,Qr,lo=Rr.printErr||console.error.bind(console);Object.assign(Rr,so),so=null,Rr.thisProgram&&(Ir=Rr.thisProgram),Rr.quit&&(Kr=Rr.quit),Rr.wasmBinary&&(Gr=Rr.wasmBinary),typeof WebAssembly!="object"&&Uo("no native wasm support detected");var ao,Yr,io,Jr,uo,fo=!1;function $o(){var Mr=Qr.buffer;Rr.HEAP8=Yr=new Int8Array(Mr),Rr.HEAP16=new Int16Array(Mr),Rr.HEAPU8=io=new Uint8Array(Mr),Rr.HEAPU16=new Uint16Array(Mr),Rr.HEAP32=Jr=new Int32Array(Mr),Rr.HEAPU32=uo=new Uint32Array(Mr),Rr.HEAPF32=new Float32Array(Mr),Rr.HEAPF64=new Float64Array(Mr)}function xo(){if(!fo){var Mr=br();Mr==0&&(Mr+=4);var oo=uo[Mr>>2],po=uo[Mr+4>>2];oo==34821223&&po==2310721022||Uo("Stack overflow! Stack cookie has been overwritten at "+lr(Mr)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+lr(po)+" "+lr(oo)),uo[0]!=1668509029&&Uo("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var yo=[],Ao=[],Mo=[],Lo=0,zo=null;function Uo(Mr){var oo;(oo=Rr.onAbort)==null||oo.call(Rr,Mr),lo(Mr="Aborted("+Mr+")"),fo=!0,ao=1,Mr+=". Build with -sASSERTIONS for more info.";var po=new WebAssembly.RuntimeError(Mr);throw Lr(po),po}var Qo,rs=null,Ko=function(Mr){return Mr.startsWith("data:application/octet-stream;base64,")};function qo(Mr){if(Mr==Qo&&Gr)return new Uint8Array(Gr);if(Zr)return Zr(Mr);throw"both async and sync fetching of the wasm failed"}function Rs(Mr,oo,po){return function(go){if(!Gr&&(no||eo)){if(typeof fetch=="function"&&!ar(go))return fetch(go,{credentials:"same-origin"}).then(function(vo){if(!vo.ok)throw"failed to load wasm binary file at '"+go+"'";return vo.arrayBuffer()}).catch(function(){return qo(go)});if(Vr)return new Promise(function(vo,Eo){Vr(go,function(So){return vo(new Uint8Array(So))},Eo)})}return Promise.resolve().then(function(){return qo(go)})}(Mr).then(function(go){return WebAssembly.instantiate(go,oo)}).then(function(go){return go}).then(po,function(go){lo("failed to asynchronously prepare wasm: "+go),Uo(go)})}function Ts(Mr){this.name="ExitStatus",this.message="Program terminated with exit("+Mr+")",this.status=Mr}ar=function(Mr){return Mr.startsWith("file://")},Rr.locateFile?Ko(Qo="qsp-engine.wasm")||(Qo=jr(Qo)):Qo=new URL("https://qspfoundation.github.io/qspider/assets/qsp-engine-fkdAJhCB.wasm",import.meta.url).href,cr=function(Mr){for(;Mr.length>0;)Mr.shift()(Rr)};var ps=Rr.noExitRuntime||!0;lr=function(Mr){return"0x"+(Mr>>>=0).toString(16).padStart(8,"0")},ur=function(){var Mr=xr(),oo=br();wr(Mr,oo)};var Hs=function(Mr){var oo=(Mr-Qr.buffer.byteLength+65535)/65536;try{return Qr.grow(oo),$o(),1}catch{}},ms={};fr=function(){if(!fr.strings){var Mr={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ir||"./this.program"};for(var oo in ms)ms[oo]===void 0?delete Mr[oo]:Mr[oo]=ms[oo];var po=[];for(var oo in Mr)po.push(oo+"="+Mr[oo]);fr.strings=po}return fr.strings};var xs=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;dr={varargs:void 0,get:function(){var Mr=Jr[+dr.varargs>>2];return dr.varargs+=4,Mr},getp:function(){return dr.get()},getStr:function(Mr){return function(oo,po){return oo?function(go,vo,Eo){for(var So=vo+void 0,_o=vo;go[_o]&&!(_o>=So);)++_o;if(_o-vo>16&&go.buffer&&xs)return xs.decode(go.subarray(vo,_o));for(var Co="";vo<_o;){var To=go[vo++];if(128&To){var Ho=63&go[vo++];if((224&To)!=192){var Io=63&go[vo++];if((To=(240&To)==224?(15&To)<<12|Ho<<6|Io:(7&To)<<18|Ho<<12|Io<<6|63&go[vo++])<65536)Co+=String.fromCharCode(To);else{var Bo=To-65536;Co+=String.fromCharCode(55296|Bo>>10,56320|1023&Bo)}}else Co+=String.fromCharCode((31&To)<<6|Ho)}else Co+=String.fromCharCode(To)}return Co}(io,oo):""}(Mr)}};var No=function(Mr){try{return Mr()}catch(oo){Uo(oo)}},bs=function(Mr){if(Mr instanceof Ts||Mr=="unwind")return ao;xo(),Mr instanceof WebAssembly.RuntimeError&&Er()<=0&&lo("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),Kr(1,Mr)},Ps=function(){return ps||!1};pr={instrumentWasmImports:function(Mr){for(var oo=/^(invoke_.*|__asyncjs__.*)$/,po=0,go=Object.entries(Mr);po<go.length;po++){var vo=go[po],Eo=vo[1];typeof Eo=="function"&&(Eo.isAsync||oo.test(vo[0]))}},instrumentWasmExports:function(Mr){for(var oo={},po=function(){var Eo=vo[go],So=Eo[0],_o=Eo[1];oo[So]=typeof _o=="function"?function(){pr.exportCallStack.push(So);try{return _o.apply(null,arguments)}finally{fo||(pr.exportCallStack.pop(),pr.maybeStopUnwind())}}:_o},go=0,vo=Object.entries(Mr);go<vo.length;go++)po();return oo},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:16384,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId:function(Mr){var oo=pr.callStackNameToId[Mr];return oo===void 0&&(oo=pr.callStackId++,pr.callStackNameToId[Mr]=oo,pr.callStackIdToName[oo]=Mr),oo},maybeStopUnwind:function(){pr.currData&&pr.state===pr.State.Unwinding&&pr.exportCallStack.length===0&&(pr.state=pr.State.Normal,No(_r),typeof Fibers<"u"&&Fibers.trampoline())},whenDone:function(){return new Promise(function(Mr,oo){pr.asyncPromiseHandlers={resolve:Mr,reject:oo}})},allocateData:function(){var Mr=hr(12+pr.StackSize);return pr.setDataHeader(Mr,Mr+12,pr.StackSize),pr.setDataRewindFunc(Mr),Mr},setDataHeader:function(Mr,oo,po){uo[Mr>>2]=oo,uo[Mr+4>>2]=oo+po},setDataRewindFunc:function(Mr){var oo=pr.getCallStackId(pr.exportCallStack[0]);Jr[Mr+8>>2]=oo},getDataRewindFunc:function(Mr){return vr[pr.callStackIdToName[Jr[Mr+8>>2]]]},doRewind:function(Mr){return pr.getDataRewindFunc(Mr)()},handleSleep:function(Mr){if(!fo){if(pr.state===pr.State.Normal){var oo=!1,po=!1;Mr(function(go){if(go===void 0&&(go=0),!fo&&(pr.handleSleepReturnValue=go,oo=!0,po)){pr.state=pr.State.Rewinding,No(function(){return Sr(pr.currData)}),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var vo,Eo=!1;try{vo=pr.doRewind(pr.currData)}catch(Co){vo=Co,Eo=!0}var So=!1;if(!pr.currData){var _o=pr.asyncPromiseHandlers;_o&&(pr.asyncPromiseHandlers=null,(Eo?_o.reject:_o.resolve)(vo),So=!0)}if(Eo&&!So)throw vo}}),po=!0,oo||(pr.state=pr.State.Unwinding,pr.currData=pr.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),No(function(){return yr(pr.currData)}))}else pr.state===pr.State.Rewinding?(pr.state=pr.State.Normal,No(Pr),$r(pr.currData),pr.currData=null,pr.sleepCallbacks.forEach(function(go){return function(vo){if(!fo)try{vo(),function(){if(!Ps())try{ao=Eo=ao,ao=So=Eo,Ps()||((_o=Rr.onExit)==null||_o.call(Rr,So),fo=!0),Kr(So,new Ts(So))}catch(Co){bs(Co)}var Eo,So,_o}()}catch(Eo){bs(Eo)}}(go)})):Uo("invalid state: "+pr.state);return pr.handleSleepReturnValue}},handleAsync:function(Mr){return pr.handleSleep(function(oo){Mr().then(oo)})}};var os,gs=function(Mr,oo){Mr<128?oo.push(Mr):oo.push(Mr%128|128,Mr>>7)},Yo=[],Ro=[],ks=function(Mr,oo){os.set(Mr,oo),Yo[Mr]=os.get(Mr)};gr={a:function(Mr){var oo=xr(),po=br();Uo("stack overflow (Attempt to set SP to "+lr(Mr)+", with stack limits ["+lr(po)+" - "+lr(oo)+"]). If you require more stack space build with -sSTACK_SIZE=<bytes>")},e:function(){return Date.now()},f:function(Mr,oo,po){return io.copyWithin(Mr,oo,oo+po)},b:function(Mr){var oo=io.length,po=2147483648;if((Mr>>>=0)>po)return!1;for(var go,vo=1;vo<=4;vo*=2){var Eo=oo*(1+.2/vo);Eo=Math.min(Eo,Mr+100663296);var So=Math.min(po,(go=Math.max(Mr,Eo))+(65536-go%65536)%65536);if(Hs(So))return!0}return!1},c:function(Mr,oo){var po=0;return fr().forEach(function(go,vo){var Eo=oo+po;uo[Mr+4*vo>>2]=Eo,function(So,_o){for(var Co=0;Co<So.length;++Co)Yr[_o++>>0]=So.charCodeAt(Co);Yr[_o>>0]=0}(go,Eo),po+=go.length+1}),0},d:function(Mr,oo){var po=fr();uo[Mr>>2]=po.length;var go=0;return po.forEach(function(vo){return go+=vo.length+1}),uo[oo>>2]=go,0}},vr=function(){var Mr,oo,po,go,vo,Eo={a:gr};function So(_o,Co){return vr=pr.instrumentWasmExports(vr=_o.exports),Qr=vr.g,$o(),os=vr.V,Ao.unshift(vr.h),function(To){var Ho;if(Lo--,(Ho=Rr.monitorRunDependencies)==null||Ho.call(Rr,Lo),Lo==0&&(zo!==null&&(clearInterval(zo),zo=null),rs)){var Io=rs;rs=null,Io()}}(),vr}if(Lo++,(Mr=Rr.monitorRunDependencies)==null||Mr.call(Rr,Lo),Rr.instantiateWasm)try{return Rr.instantiateWasm(Eo,So)}catch(_o){lo("Module.instantiateWasm callback failed with error: "+_o),Lr(_o)}return(oo=Gr,po=Qo,go=Eo,vo=function(_o){So(_o.instance)},oo||typeof WebAssembly.instantiateStreaming!="function"||Ko(po)||ar(po)||Wr||typeof fetch!="function"?Rs(po,go,vo):fetch(po,{credentials:"same-origin"}).then(function(_o){return WebAssembly.instantiateStreaming(_o,go).then(vo,function(Co){return lo("wasm streaming compile failed: "+Co),lo("falling back to ArrayBuffer instantiation"),Rs(po,go,vo)})})).catch(Lr),{}}(),Rr._init=function(){return(Rr._init=vr.i)()},Rr._dispose=function(){return(Rr._dispose=vr.j)()},Rr._getVersion=function(Mr){return(Rr._getVersion=vr.k)(Mr)},Rr._setErrorCallback=function(Mr){return(Rr._setErrorCallback=vr.l)(Mr)},Rr._getMainDesc=function(Mr){return(Rr._getMainDesc=vr.m)(Mr)},Rr._isMainDescChanged=function(){return(Rr._isMainDescChanged=vr.n)()},Rr._getVarsDesc=function(Mr){return(Rr._getVarsDesc=vr.o)(Mr)},Rr._isVarsDescChanged=function(){return(Rr._isVarsDescChanged=vr.p)()},Rr._getActions=function(Mr){return(Rr._getActions=vr.q)(Mr)},hr=Rr._malloc=function(Mr){return(hr=Rr._malloc=vr.r)(Mr)},Rr._selectAction=function(Mr){return(Rr._selectAction=vr.s)(Mr)},Rr._executeSelAction=function(){return(Rr._executeSelAction=vr.t)()},Rr._isActionsChanged=function(){return(Rr._isActionsChanged=vr.u)()},Rr._getObjects=function(Mr){return(Rr._getObjects=vr.v)(Mr)},Rr._selectObject=function(Mr){return(Rr._selectObject=vr.w)(Mr)},Rr._isObjectsChanged=function(){return(Rr._isObjectsChanged=vr.x)()},Rr._loadGameData=function(Mr,oo,po){return(Rr._loadGameData=vr.y)(Mr,oo,po)},Rr._restartGame=function(){return(Rr._restartGame=vr.z)()},Rr._saveGameData=function(Mr){return(Rr._saveGameData=vr.A)(Mr)},$r=Rr._free=function(Mr){return($r=Rr._free=vr.B)(Mr)},Rr._loadSavedGameData=function(Mr,oo){return(Rr._loadSavedGameData=vr.C)(Mr,oo)},Rr._execString=function(Mr,oo){return(Rr._execString=vr.D)(Mr,oo)},Rr._execCounter=function(){return(Rr._execCounter=vr.E)()},Rr._execLoc=function(Mr){return(Rr._execLoc=vr.F)(Mr)},Rr._execUserInput=function(Mr){return(Rr._execUserInput=vr.G)(Mr)},Rr._getLastErrorNum=function(){return(Rr._getLastErrorNum=vr.H)()},Rr._getLastErrorLoc=function(Mr){return(Rr._getLastErrorLoc=vr.I)(Mr)},Rr._getLastErrorActIndex=function(){return(Rr._getLastErrorActIndex=vr.J)()},Rr._getLastErrorLine=function(){return(Rr._getLastErrorLine=vr.K)()},Rr._getErrorDesc=function(Mr,oo){return(Rr._getErrorDesc=vr.L)(Mr,oo)},Rr._getVarStringValue=function(Mr,oo,po){return(Rr._getVarStringValue=vr.M)(Mr,oo,po)},Rr._getVarNumValue=function(Mr,oo){return(Rr._getVarNumValue=vr.N)(Mr,oo)},Rr._getVarStringValueByKey=function(Mr,oo,po){return(Rr._getVarStringValueByKey=vr.O)(Mr,oo,po)},Rr._getVarNumValueByKey=function(Mr,oo){return(Rr._getVarNumValueByKey=vr.P)(Mr,oo)},Rr._getVarSize=function(Mr){return(Rr._getVarSize=vr.Q)(Mr)},Rr._initCallBacks=function(){return(Rr._initCallBacks=vr.R)()},Rr._setCallBack=function(Mr,oo){return(Rr._setCallBack=vr.S)(Mr,oo)},Rr._freeItemsList=function(Mr){return(Rr._freeItemsList=vr.T)(Mr)},Rr._freeSaveBuffer=function(Mr){return(Rr._freeSaveBuffer=vr.U)(Mr)};var hs,Os=function(){return(Os=vr.W)()};function js(){function Mr(){hs||(hs=!0,Rr.calledRun=!0,fo||(xo(),ur(),cr(Ao),Or(Rr),Rr.onRuntimeInitialized&&Rr.onRuntimeInitialized(),function(){if(xo(),Rr.postRun)for(typeof Rr.postRun=="function"&&(Rr.postRun=[Rr.postRun]);Rr.postRun.length;)po=Rr.postRun.shift(),Mo.unshift(po);var po;cr(Mo)}()))}var oo;Lo>0||(Os(),(oo=br())==0&&(oo+=4),uo[oo>>2]=34821223,uo[oo+4>>2]=2310721022,uo[0]=1668509029,function(){if(Rr.preRun)for(typeof Rr.preRun=="function"&&(Rr.preRun=[Rr.preRun]);Rr.preRun.length;)po=Rr.preRun.shift(),yo.unshift(po);var po;cr(yo)}(),Lo>0||(Rr.setStatus?(Rr.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Rr.setStatus("")},1),Mr()},1)):Mr(),xo()))}if(xr=function(){return(xr=vr.X)()},br=function(){return(br=vr.Y)()},Er=function(){return(Er=vr.Z)()},wr=Rr.___set_stack_limits=function(Mr,oo){return(wr=Rr.___set_stack_limits=vr._)(Mr,oo)},yr=function(Mr){return(yr=vr.$)(Mr)},_r=function(){return(_r=vr.aa)()},Sr=function(Mr){return(Sr=vr.ba)(Mr)},Pr=function(){return(Pr=vr.ca)()},Rr.addFunction=function(Mr,oo){var po=function(Eo){return mr||(mr=new WeakMap,function(So,_o){if(mr)for(var Co=0;Co<0+_o;Co++){var To=(Io=void 0,(Io=Yo[Ho=Co])||(Ho>=Yo.length&&(Yo.length=Ho+1),Yo[Ho]=Io=os.get(Ho)),Io);To&&mr.set(To,Co)}var Ho,Io}(0,os.length)),mr.get(Eo)||0}(Mr);if(po)return po;var go=function(){if(Ro.length)return Ro.pop();try{os.grow(1)}catch(Eo){throw Eo instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Eo}return os.length-1}();try{ks(go,Mr)}catch(Eo){if(!(Eo instanceof TypeError))throw Eo;var vo=function(So,_o){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(function(Io){for(var Bo={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},fs={parameters:[],results:Io[0]=="v"?[]:[Bo[Io[0]]]},Wo=1;Wo<Io.length;++Wo)fs.parameters.push(Bo[Io[Wo]]);return fs}(_o),So);var Co=[1];(function(Io,Bo){var fs=Io.slice(0,1),Wo=Io.slice(1),ss={i:127,p:127,j:126,f:125,d:124,e:111};Bo.push(96),gs(Wo.length,Bo);for(var Xo=0;Xo<Wo.length;++Xo)Bo.push(ss[Wo[Xo]]);fs=="v"?Bo.push(0):Bo.push(1,ss[fs])})(_o,Co);var To=[0,97,115,109,1,0,0,0,1];gs(Co.length,To),To.push.apply(To,Co),To.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Ho=new WebAssembly.Module(new Uint8Array(To));return new WebAssembly.Instance(Ho,{e:{f:So}}).exports.f}(Mr,oo);ks(go,vo)}return mr.set(Mr,go),go},Rr.Asyncify=pr,rs=function Mr(){hs||js(),hs||(rs=Mr)},Rr.preInit)for(typeof Rr.preInit=="function"&&(Rr.preInit=[Rr.preInit]);Rr.preInit.length>0;)Rr.preInit.pop()();return js(),or.ready},jr=function(Gr){return Rr.locateFile?Rr.locateFile(Gr,Ur):Ur+Gr},Rr=or;Rr.ready=new Promise(function(Gr,Qr){Or=Gr,Lr=Qr});var Fr,Vr,Zr,so=Object.assign({},Rr),Ir="./this.program",Kr=function(Gr,Qr){throw Qr},no=typeof window=="object",eo=typeof importScripts=="function",Wr=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Ur="",ro=function(){if(Wr)return Promise.resolve(__vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([]))).then(function(Gr){var Qr=(0,Gr.createRequire)(import.meta.url),lo=Qr("fs"),ao=Qr("path");Ur=eo?ao.dirname(Ur)+"/":Qr("url").fileURLToPath(new URL("./",import.meta.url)),Fr=function(Yr,io){return Yr=ar(Yr)?new URL(Yr):ao.normalize(Yr),lo.readFileSync(Yr,io?void 0:"utf8")},Zr=function(Yr){var io=Fr(Yr,!0);return io.buffer||(io=new Uint8Array(io)),io},Vr=function(Yr,io,Jr,uo){uo===void 0&&(uo=!0),Yr=ar(Yr)?new URL(Yr):ao.normalize(Yr),lo.readFile(Yr,uo?void 0:"utf8",function(fo,$o){fo?Jr(fo):io(uo?$o.buffer:$o)})},!Rr.thisProgram&&process.argv.length>1&&(Ir=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),Kr=function(Yr,io){throw process.exitCode=Yr,io},Rr.inspect=function(){return"[Emscripten Module object]"}});(no||eo)&&(eo?Ur=self.location.href:typeof document<"u"&&document.currentScript&&(Ur=document.currentScript.src),t$2&&(Ur=t$2),Ur=Ur.indexOf("blob:")!==0?Ur.substr(0,Ur.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Fr=function(Gr){var Qr=new XMLHttpRequest;return Qr.open("GET",Gr,!1),Qr.send(null),Qr.responseText},eo&&(Zr=function(Gr){var Qr=new XMLHttpRequest;return Qr.open("GET",Gr,!1),Qr.responseType="arraybuffer",Qr.send(null),new Uint8Array(Qr.response)}),Vr=function(Gr,Qr,lo){var ao=new XMLHttpRequest;ao.open("GET",Gr,!0),ao.responseType="arraybuffer",ao.onload=function(){ao.status==200||ao.status==0&&ao.response?Qr(ao.response):lo()},ao.onerror=lo,ao.send(null)})}();return Promise.resolve(ro&&ro.then?ro.then(Tr):Tr())}catch(Gr){return Promise.reject(Gr)}});function i$2(or,ar){(ar==null||ar>or.length)&&(ar=or.length);for(var cr=0,lr=new Array(ar);cr<ar;cr++)lr[cr]=or[cr];return lr}function a$1(or,ar){var cr=typeof Symbol<"u"&&or[Symbol.iterator]||or["@@iterator"];if(cr)return(cr=cr.call(or)).next.bind(cr);if(Array.isArray(or)||(cr=function(ur,fr){if(ur){if(typeof ur=="string")return i$2(ur,fr);var dr=Object.prototype.toString.call(ur).slice(8,-1);return dr==="Object"&&ur.constructor&&(dr=ur.constructor.name),dr==="Map"||dr==="Set"?Array.from(ur):dr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dr)?i$2(ur,fr):void 0}}(or))||ar&&or&&typeof or.length=="number"){cr&&(or=cr);var lr=0;return function(){return lr>=or.length?{done:!0}:{done:!1,value:or[lr++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$2(or){return or._malloc(4)}function u$1(or,ar){return S$1(or,ar)}function s$2(or,ar){return ar===void 0&&(ar=1),or+4*ar}function c$1(or,ar){or._free(ar)}function l$1(or,ar){var cr=u$1(or,ar);return cr?function(lr,ur,fr){for(var dr=0,pr=[];!(dr>=fr/4);){var mr=lr.HEAP32[ur+4*dr>>2];if(mr==0)break;if(++dr,mr>=65536){var gr=mr-65536;pr.push(String.fromCharCode(55296|gr>>10,56320|1023&gr))}else pr.push(String.fromCharCode(mr))}return pr.join("")}(or,cr,u$1(or,s$2(ar))-cr):""}function f$1(or,ar){var cr=function(ur){for(var fr=0,dr=0;dr<ur.length;++dr){var pr=ur.charCodeAt(dr);pr>=55296&&pr<=57343&&++dr,fr+=4}return fr}(ar),lr=or._malloc(cr+4);return _$2(or,ar,lr,cr+4),lr}function h$1(or,ar){var cr=function(ur){return ur._malloc(8)}(or);ar(cr);var lr=l$1(or,cr);return c$1(or,cr),lr}function d$1(or,ar,cr){var lr=f$1(or,ar);cr(lr),or._free(lr)}function m$1(or,ar){var cr=o$2(or),lr=ar(cr),ur=function(dr,pr){return S$1(dr,pr)}(or,cr),fr=p$1(or,lr,ur);return or._freeItemsList(lr),c$1(or,cr),fr}function v$1(or,ar,cr){var lr=new Uint8Array(ar),ur=or._malloc(lr.length);or.HEAPU8.set(lr,ur),cr(ur,lr.length),or._free(ur)}function p$1(or,ar,cr){for(var lr=[],ur=ar,fr=0;fr<cr;fr++){var dr=l$1(or,ur),pr=l$1(or,ur=s$2(ur,2));ur=s$2(ur,2),lr.push({name:pr,image:dr})}return lr}function g$1(or,ar){return or.Asyncify.handleSleep(function(cr){ar(function(lr){return cr(lr||0)})})}function S$1(or,ar){return or.HEAP32[ar>>2]}function _$2(or,ar,cr,lr){if(lr===void 0&&(lr=2147483647),lr<4)return 0;for(var ur=cr,fr=ur+lr-4,dr=0;dr<ar.length;++dr){var pr=ar.charCodeAt(dr);if(pr>=55296&&pr<=57343&&(pr=65536+((1023&pr)<<10)|1023&ar.charCodeAt(++dr)),or.HEAP32[cr>>2]=pr,(cr+=4)+4>fr)break}return or.HEAP32[cr>>2]=0,cr-ur}(function(or){or[or.DEBUG=0]="DEBUG",or[or.ISPLAYINGFILE=1]="ISPLAYINGFILE",or[or.PLAYFILE=2]="PLAYFILE",or[or.CLOSEFILE=3]="CLOSEFILE",or[or.SHOWIMAGE=4]="SHOWIMAGE",or[or.SHOWWINDOW=5]="SHOWWINDOW",or[or.SHOWMENU=6]="SHOWMENU",or[or.SHOWMSGSTR=7]="SHOWMSGSTR",or[or.REFRESHINT=8]="REFRESHINT",or[or.SETTIMER=9]="SETTIMER",or[or.SETINPUTSTRTEXT=10]="SETINPUTSTRTEXT",or[or.SYSTEM=11]="SYSTEM",or[or.OPENGAME=12]="OPENGAME",or[or.OPENGAMESTATUS=13]="OPENGAMESTATUS",or[or.SAVEGAMESTATUS=14]="SAVEGAMESTATUS",or[or.SLEEP=15]="SLEEP",or[or.GETMSCOUNT=16]="GETMSCOUNT",or[or.INPUTBOX=17]="INPUTBOX",or[or.VERSION=18]="VERSION",or[or.DUMMY=19]="DUMMY"})(n$2||(n$2={}));var y$1=function(){function or(cr){var lr=this;this.module=void 0,this.listeners=new Map,this.variableWatchers=new Set,this.variableValues=new Map,this.expressionWatchers=new Set,this.expressionValues=new Map,this.isWatcherPaused=!1,this.time=Date.now(),this.staticStrings=new Map,this.onError=function(){console.log("onError");var ur=lr.readError();ur&&(console.error(ur),lr.emit("error",ur)),lr.onRefresh(!0)},this.onRefresh=function(ur){if(ur||lr.module._isMainDescChanged()){var fr=h$1(lr.module,function(gr){return lr.module._getMainDesc(gr)});lr.emit("main_changed",fr)}if(ur||lr.module._isVarsDescChanged()){var dr=h$1(lr.module,function(gr){return lr.module._getVarsDesc(gr)});lr.emit("stats_changed",dr)}if(ur||lr.module._isActionsChanged()){var pr=m$1(lr.module,function(gr){return lr.module._getActions(gr)});lr.emit("actions_changed",pr)}if(ur||lr.module._isObjectsChanged()){var mr=m$1(lr.module,function(gr){return lr.module._getObjects(gr)});lr.emit("objects_changed",mr)}setTimeout(function(){return lr.reportWatched()},0)},this.onShowWindow=function(ur,fr){lr.emit("panel_visibility",ur,fr)},this.onMenu=function(ur,fr){var dr=p$1(lr.module,ur,fr);return g$1(lr.module,function(pr){return lr.emit("menu",dr,pr)})},this.onMsg=function(ur){lr.isWatcherPaused=!0,lr.onRefresh(!1);var fr=l$1(lr.module,ur);return g$1(lr.module,function(dr){return lr.emit("msg",fr,function(){dr(),lr.isWatcherPaused=!1})})},this.onInput=function(ur,fr,dr){lr.isWatcherPaused=!0,lr.onRefresh(!1);var pr=l$1(lr.module,ur);return g$1(lr.module,function(mr){lr.emit("input",pr,function(gr){_$2(lr.module,gr,fr,dr),mr(),lr.isWatcherPaused=!1})})},this.onVersion=function(ur,fr,dr){var pr=l$1(lr.module,ur);return g$1(lr.module,function(mr){lr.emit("version",pr,function(gr){_$2(lr.module,gr,fr,dr),mr()})})},this.onWait=function(ur){return lr.isWatcherPaused=!0,g$1(lr.module,function(fr){return lr.emit("wait",ur,function(){fr(),lr.isWatcherPaused=!1})})},this.onSetTimer=function(ur){lr.emit("timer",ur)},this.onSetUserInput=function(ur){var fr=l$1(lr.module,ur);lr.emit("user_input",fr)},this.onView=function(ur){var fr=l$1(lr.module,ur);lr.emit("view",fr)},this.onDebug=function(ur){var fr=l$1(lr.module,ur);console.log("DEBUG:",fr)},this.onSystemCmd=function(ur){lr.onRefresh(!1);var fr=l$1(lr.module,ur);lr.emit("system_cmd",fr)},this.onGetMS=function(){var ur=Date.now()-lr.time;return lr.time=Date.now(),ur},this.onOpenGame=function(ur,fr){lr.isWatcherPaused=!0;var dr=l$1(lr.module,ur);return g$1(lr.module,function(pr){return lr.emit("open_game",dr,fr,function(){pr(),lr.isWatcherPaused=!1})})},this.onOpenGameStatus=function(ur){lr.isWatcherPaused=!0;var fr=l$1(lr.module,ur);return g$1(lr.module,function(dr){return lr.emit("load_save",fr,function(){dr(),lr.isWatcherPaused=!1})})},this.onSaveGameStatus=function(ur){lr.isWatcherPaused=!0;var fr=l$1(lr.module,ur);return g$1(lr.module,function(dr){return lr.emit("save_game",fr,function(){dr(),lr.isWatcherPaused=!1})})},this.onIsPlay=function(ur){lr.isWatcherPaused=!0;var fr=l$1(lr.module,ur);return g$1(lr.module,function(dr){return lr.emit("is_play",fr,function(pr){dr(pr?1:0),lr.isWatcherPaused=!1})})},this.onPlayFile=function(ur,fr){lr.isWatcherPaused=!0;var dr=l$1(lr.module,ur);return g$1(lr.module,function(pr){return lr.emit("play_file",dr,fr,function(){pr(),lr.isWatcherPaused=!1})})},this.onCloseFile=function(ur){lr.isWatcherPaused=!0;var fr=l$1(lr.module,ur);return g$1(lr.module,function(dr){return lr.emit("close_file",fr,function(){dr(),lr.isWatcherPaused=!1})})},this.module=cr,this.init()}var ar=or.prototype;return ar.on=function(cr,lr){var ur,fr=(ur=this.listeners.get(cr))!=null?ur:[];fr.push(lr),this.listeners.set(cr,fr)},ar.off=function(cr,lr){var ur,fr=(ur=this.listeners.get(cr))!=null?ur:[];(fr=fr.filter(function(dr){return dr!==lr})).length?this.listeners.set(cr,fr):this.listeners.delete(cr)},ar.watchVariable=function(cr,lr,ur){var fr=this,dr=this.readVariable(cr,lr);ur(dr);var pr=function(){var mr=fr.readVariable(cr,lr);dr!==mr&&ur(dr=mr)};return this.variableWatchers.add(pr),function(){fr.variableWatchers.delete(pr)}},ar.watchVariableByKey=function(cr,lr,ur){var fr=this,dr=this.readVariableByKey(cr,lr);ur(dr);var pr=function(){var mr=fr.readVariableByKey(cr,lr);dr!==mr&&ur(dr=mr)};return this.variableWatchers.add(pr),function(){fr.variableWatchers.delete(pr)}},ar.watchExpression=function(cr,lr){var ur=this,fr=this.evalExpression(cr);lr(fr);var dr=function(){var pr=ur.evalExpression(cr);fr!==pr&&lr(fr=pr)};return this.expressionWatchers.add(dr),function(){ur.expressionWatchers.delete(dr)}},ar.evalExpression=function(cr){if(this.expressionValues.has(cr))return this.expressionValues.get(cr);this.execCode("qspider_result = "+cr,!1);var lr=this.readVariable("qspider_result",0,!1);return this.expressionValues.set(cr,lr),lr},ar.emit=function(cr){var lr,ur=[].slice.call(arguments,1);console.log({event:cr,args:ur});for(var fr,dr=(lr=this.listeners.get(cr))!=null?lr:[],pr=a$1(dr);!(fr=pr()).done;){var mr=fr.value;mr.apply(void 0,ur)}},ar.openGame=function(cr,lr){var ur=this;v$1(this.module,cr,function(fr,dr){return ur.module._loadGameData(fr,dr,lr?1:0)})},ar.saveGame=function(){var cr=this;return function(lr,ur){var fr=o$2(lr),dr=cr.module._saveGameData(fr),pr=S$1(lr,fr);if(!pr)return c$1(lr,fr),null;var mr=lr.HEAPU8.slice(dr,dr+pr);return lr._freeSaveBuffer(dr),c$1(lr,fr),mr.buffer}(this.module)||(this.onError(),null)},ar.loadSave=function(cr){var lr=this;v$1(this.module,cr,function(ur,fr){return lr.module._loadSavedGameData(ur,fr)})},ar.restartGame=function(){this.time=Date.now(),this.module._restartGame()},ar.selectAction=function(cr){this.module._selectAction(cr)},ar.execSelectedAction=function(){this.module._executeSelAction()},ar.selectObject=function(cr){this.module._selectObject(cr)},ar.version=function(){var cr=this;return h$1(this.module,function(lr){return cr.module._getVersion(lr)})},ar.getStaticStringPointer=function(cr){var lr=cr.toLocaleUpperCase(),ur=this.staticStrings.get(lr);if(ur)return ur;var fr=f$1(this.module,cr);return this.staticStrings.set(lr,fr),fr},ar.readVariable=function(cr,lr,ur){ur===void 0&&(ur=!1);var fr=cr+"["+(lr||0)+"]";if(ur&&this.variableValues.has(fr))return this.variableValues.get(fr);if(cr.startsWith("$")){var dr=this.readVariableString(cr,lr);return this.variableValues.set(fr,dr),dr}var pr=this.readVariableNumber(cr,lr);return this.variableValues.set(fr,pr),pr},ar.readVariableByKey=function(cr,lr){var ur=cr+"["+lr+"]";if(this.variableValues.has(ur))return this.variableValues.get(ur);if(cr.startsWith("$")){var fr=this.readVariableStringByKey(cr,lr);return this.variableValues.set(ur,fr),fr}var dr=this.readVariableNumberByKey(cr,lr);return this.variableValues.set(ur,dr),dr},ar.readVariableNumber=function(cr,lr){lr===void 0&&(lr=0);var ur=this.getStaticStringPointer(cr.toLocaleUpperCase());return this.module._getVarNumValue(ur,lr)},ar.readVariableNumberByKey=function(cr,lr){var ur=this.getStaticStringPointer(cr.toLocaleUpperCase()),fr=this.getStaticStringPointer(lr.toLocaleUpperCase());return this.module._getVarNumValueByKey(ur,fr)},ar.readVariableString=function(cr,lr){var ur=this;lr===void 0&&(lr=0);var fr=this.getStaticStringPointer(cr.toLocaleUpperCase());return h$1(this.module,function(dr){return ur.module._getVarStringValue(fr,lr,dr)})},ar.readVariableStringByKey=function(cr,lr){var ur=this,fr=this.getStaticStringPointer(cr.toLocaleUpperCase()),dr=this.getStaticStringPointer(lr.toLocaleUpperCase());return h$1(this.module,function(pr){return ur.module._getVarStringValueByKey(fr,dr,pr)})},ar.readVariableSize=function(cr){var lr=this.getStaticStringPointer(cr.toLocaleUpperCase());return this.module._getVarSize(lr)},ar.execCode=function(cr,lr){var ur=this;lr===void 0&&(lr=!0),d$1(this.module,cr,function(fr){return ur.module._execString(fr,lr?1:0)})},ar.execCounter=function(){this.module._execCounter()},ar.execLoc=function(cr){var lr=this;d$1(this.module,cr,function(ur){return lr.module._execLoc(ur)})},ar.updateUserInput=function(cr){var lr=this;d$1(this.module,cr,function(ur){return lr.module._execUserInput(ur)})},ar.init=function(){this.module._init(),this.module._initCallBacks(),this.registerCallbacks()},ar.registerCallbacks=function(){this.module._setErrorCallback(this.module.addFunction(this.onError,"i"));for(var cr=0,lr=[[n$2.REFRESHINT,this.onRefresh,"ii"],[n$2.SHOWWINDOW,this.onShowWindow,"iii"],[n$2.SHOWMENU,this.onMenu,"iii"],[n$2.SHOWMSGSTR,this.onMsg,"ii"],[n$2.INPUTBOX,this.onInput,"iiii"],[n$2.SLEEP,this.onWait,"ii"],[n$2.SETTIMER,this.onSetTimer,"ii"],[n$2.SETINPUTSTRTEXT,this.onSetUserInput,"ii"],[n$2.SHOWIMAGE,this.onView,"ii"],[n$2.DEBUG,this.onDebug,"ii"],[n$2.GETMSCOUNT,this.onGetMS,"i"],[n$2.OPENGAME,this.onOpenGame,"iii"],[n$2.OPENGAMESTATUS,this.onOpenGameStatus,"ii"],[n$2.SAVEGAMESTATUS,this.onSaveGameStatus,"ii"],[n$2.ISPLAYINGFILE,this.onIsPlay,"ii"],[n$2.PLAYFILE,this.onPlayFile,"iii"],[n$2.CLOSEFILE,this.onCloseFile,"ii"],[n$2.SYSTEM,this.onSystemCmd,"ii"],[n$2.VERSION,this.onVersion,"iiii"]];cr<lr.length;cr++){var ur=lr[cr];this.registerCallback(ur[0],ur[1],ur[2])}},ar.registerCallback=function(cr,lr,ur){this.module._setCallBack(cr,this.module.addFunction(lr,ur))},ar.clearCache=function(){this.variableValues.clear(),this.expressionValues.clear()},ar.reportWatched=function(){this.clearCache();for(var cr,lr=a$1(this.variableWatchers.values());!(cr=lr()).done;)(0,cr.value)();if(!this.isWatcherPaused)for(var ur,fr=a$1(this.expressionWatchers.values());!(ur=fr()).done;)(0,ur.value)()},ar.readError=function(){var cr=this,lr=this.module._getLastErrorNum();return lr?{code:lr,location:h$1(this.module,function(ur){return cr.module._getLastErrorLoc(ur)}),description:h$1(this.module,function(ur){return cr.module._getErrorDesc(ur,lr)}),actionIndex:this.module._getLastErrorActIndex(),line:this.module._getLastErrorLine()}:null},ar.toJSON=function(){return"[QSP API]"},or}();function b$1(or){return new Promise(function(ar){r$2({wasmBinary:or}).then(function(cr){ar(new y$1(cr))})})}const wasmUrl="https://qspfoundation.github.io/qspider/assets/qsp-engine-fkdAJhCB.wasm",mainContent$=create(""),nextMainContent$=create(""),isNewLoc$=create(!1),newLocHash$=create(""),mainScroll$=create(0),isStatsVisible$=create(!1),statsContent$=create(""),statsScroll$=create(0),isActsVisible$=create(!1),actions$=create([]),selectedAction$=create(-1);function selectAction(or){var ar;selectedAction$.set(or),(ar=qspApi$.value)==null||ar.selectAction(or)}function execSelectedAction(){var or;selectedAction$.set(-1),(or=qspApi$.value)==null||or.execSelectedAction()}const isObjsVisible$=create(!1),objects$=create([]);function selectObject(or){var ar;(ar=qspApi$.value)==null||ar.selectObject(or)}const isCmdVisible$=create(!1),cmdText$=create("");function submitUserInput(){var or;(or=qspApi$.value)==null||or.updateUserInput(cmdText$.value)}const view$=create({isOpen:!1,path:"",isModal:!1},or=>{const ar=or.focus(cr=>cr.isOpen);return{open(cr){or.set({isOpen:!0,path:cr,isModal:!1})},setIsModal(cr){or.value.isModal=cr},close(){ar.set(!1)},clear(){or.set({isOpen:!1,path:"",isModal:!1})}}}),regions$=create({}),regionsScroll$=create({});function reloadRegions(){var ar;const or={};for(const cr of Object.keys(regions$.value))or[cr]=((ar=qspApi$.value)==null?void 0:ar.readVariableByKey("$qspider_region",cr))??"";regions$.set(or)}const layers$=create({});function readLayerState(or){var ar;return!!(((ar=qspApi$.value)==null?void 0:ar.readVariableByKey("qspider_layers",or))??0)}function registerLayer(or){layers$.update(ar=>({...ar,[or]:readLayerState(or)}))}function reloadLayers(){const or={};for(const ar of Object.keys(layers$.value))or[ar]=readLayerState(ar);layers$.set(or)}const n$1=[1026,1027,8218,1107,8222,8230,8224,8225,8364,8240,1033,8249,1034,1036,1035,1039,1106,8216,8217,8220,8221,8226,8211,8212,32,8482,1113,8250,1114,1116,1115,1119,160,1038,1118,1032,164,1168,166,167,1025,169,1028,171,172,173,174,1031,176,177,1030,1110,1169,181,182,183,1105,8470,1108,187,1112,1029,1109,1111,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103];function t$1(or){return String.fromCharCode(or>=128?n$1[or-128]:or)}let e$1=class{constructor(ar){this.cursor=0,this.content=void 0,this.view=void 0,this.isUnicode=void 0,this.content=ar??new ArrayBuffer(256),this.view=new DataView(this.content),this.isUnicode=this.view.getUint8(1)===0}ensureSize(ar){if(this.content.byteLength>=ar)return;const cr=new ArrayBuffer(2*this.content.byteLength);new Uint8Array(cr).set(new Uint8Array(this.content)),this.content=cr,this.view=new DataView(this.content)}finalize(){return this.content=this.content.slice(0,this.cursor),this.content}get eof(){return this.cursor>=this.content.byteLength}read(){const ar=this.cursor;return this.cursor+=this.isUnicode?Uint16Array.BYTES_PER_ELEMENT:Uint8Array.BYTES_PER_ELEMENT,this.isUnicode?this.view.getUint16(ar,!0):this.view.getUint8(ar)}readLine(ar=!0){const cr=[];for(;!this.eof;){const lr=this.read();if(lr===13){this.read();break}cr.push(ar?lr===-5?5:lr+5:lr)}return this.isUnicode?cr.map(lr=>String.fromCharCode(lr)).join(""):cr.map(t$1).join("")}write(ar){this.ensureSize(this.cursor+Int16Array.BYTES_PER_ELEMENT);const cr=this.cursor;this.cursor+=Int16Array.BYTES_PER_ELEMENT,this.view.setUint16(cr,ar,!0)}writeString(ar,cr=!0){const lr=ar.split("").map(ur=>ur.charCodeAt(0));for(const ur of lr.values())this.write(cr?ur===5?-5:ur-5:ur)}writeLine(ar,cr=!0){ar&&this.writeString(ar,cr),this.writeString(`\r
`,!1)}seek(ar){this.cursor=ar}};const r$1=["'",'"'];function s$1(or){const ar=[];let cr=!1,lr=null,ur=[];const fr=or.split(/\r?\n/);let dr="",pr=0;for(const mr of fr)if(cr){if(!dr&&!pr&&mr.startsWith("-")){cr=!1,lr&&(lr.code=ur,ur=[],ar.push(lr),lr=null);continue}ur.push(mr);const gr=mr.split("");for(let vr=0;vr<gr.length;++vr){const hr=gr[vr];dr?hr==dr&&(gr[vr+1]==dr?vr++:dr=""):hr=="{"?++pr:hr=="}"?pr&&--pr:r$1.includes(hr)&&(dr=hr)}}else mr.startsWith("#")&&(cr=!0,lr={name:mr.slice(1).trim(),description:[],code:[],actions:[]});return cr&&lr&&(lr.code=ur,ar.push(lr)),ar}function o$1(or){const ar=new e$1;ar.writeLine("QSPGAME",!1),ar.writeLine("@qsp/converters 1.0",!1),ar.writeLine("No"),ar.writeLine(String(or.length));for(const lr of or){ar.writeLine(lr.name),ar.writeLine(lr.description.join(`\r
`)),ar.writeLine(lr.code.join(`\r
`)),ar.writeLine(String(lr.actions.length));for(const ur of lr.actions){var cr;ar.writeLine((cr=ur.image)!=null?cr:""),ar.writeLine(ur.name),ar.writeLine(ur.code.join(`\r
`))}}return ar.finalize()}var ch2={},wk=function(or,ar,cr,lr,ur){var fr=new Worker(ch2[ar]||(ch2[ar]=URL.createObjectURL(new Blob([or+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return fr.onmessage=function(dr){var pr=dr.data,mr=pr.$e$;if(mr){var gr=new Error(mr[0]);gr.code=mr[1],gr.stack=mr[2],ur(gr,null)}else ur(null,pr)},fr.postMessage(cr,lr),fr},u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(or,ar){for(var cr=new u16(31),lr=0;lr<31;++lr)cr[lr]=ar+=1<<or[lr-1];for(var ur=new i32(cr[30]),lr=1;lr<30;++lr)for(var fr=cr[lr];fr<cr[lr+1];++fr)ur[fr]=fr-cr[lr]<<5|lr;return{b:cr,r:ur}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(or,ar,cr){for(var lr=or.length,ur=0,fr=new u16(ar);ur<lr;++ur)or[ur]&&++fr[or[ur]-1];var dr=new u16(ar);for(ur=1;ur<ar;++ur)dr[ur]=dr[ur-1]+fr[ur-1]<<1;var pr;if(cr){pr=new u16(1<<ar);var mr=15-ar;for(ur=0;ur<lr;++ur)if(or[ur])for(var gr=ur<<4|or[ur],vr=ar-or[ur],hr=dr[or[ur]-1]++<<vr,$r=hr|(1<<vr)-1;hr<=$r;++hr)pr[rev[hr]>>mr]=gr}else for(pr=new u16(lr),ur=0;ur<lr;++ur)or[ur]&&(pr[ur]=rev[dr[or[ur]-1]++]>>15-or[ur]);return pr},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flrm=hMap(flt,9,1),fdrm=hMap(fdt,5,1),max$1=function(or){for(var ar=or[0],cr=1;cr<or.length;++cr)or[cr]>ar&&(ar=or[cr]);return ar},bits=function(or,ar,cr){var lr=ar/8|0;return(or[lr]|or[lr+1]<<8)>>(ar&7)&cr},bits16=function(or,ar){var cr=ar/8|0;return(or[cr]|or[cr+1]<<8|or[cr+2]<<16)>>(ar&7)},shft=function(or){return(or+7)/8|0},slc=function(or,ar,cr){return(ar==null||ar<0)&&(ar=0),(cr==null||cr>or.length)&&(cr=or.length),new u8(or.subarray(ar,cr))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(or,ar,cr){var lr=new Error(ar||ec[or]);if(lr.code=or,Error.captureStackTrace&&Error.captureStackTrace(lr,err),!cr)throw lr;return lr},inflt=function(or,ar,cr,lr){var ur=or.length,fr=lr?lr.length:0;if(!ur||ar.f&&!ar.l)return cr||new u8(0);var dr=!cr,pr=dr||ar.i!=2,mr=ar.i;dr&&(cr=new u8(ur*3));var gr=function(xo){var yo=cr.length;if(xo>yo){var Ao=new u8(Math.max(yo*2,xo));Ao.set(cr),cr=Ao}},vr=ar.f||0,hr=ar.p||0,$r=ar.b||0,xr=ar.l,br=ar.d,Er=ar.m,wr=ar.n,yr=ur*8;do{if(!xr){vr=bits(or,hr,1);var _r=bits(or,hr+1,3);if(hr+=3,_r)if(_r==1)xr=flrm,br=fdrm,Er=9,wr=5;else if(_r==2){var Lr=bits(or,hr,31)+257,Tr=bits(or,hr+10,15)+4,jr=Lr+bits(or,hr+5,31)+1;hr+=14;for(var Rr=new u8(jr),Fr=new u8(19),Vr=0;Vr<Tr;++Vr)Fr[clim[Vr]]=bits(or,hr+Vr*3,7);hr+=Tr*3;for(var Zr=max$1(Fr),so=(1<<Zr)-1,Ir=hMap(Fr,Zr,1),Vr=0;Vr<jr;){var Kr=Ir[bits(or,hr,so)];hr+=Kr&15;var Sr=Kr>>4;if(Sr<16)Rr[Vr++]=Sr;else{var no=0,eo=0;for(Sr==16?(eo=3+bits(or,hr,3),hr+=2,no=Rr[Vr-1]):Sr==17?(eo=3+bits(or,hr,7),hr+=3):Sr==18&&(eo=11+bits(or,hr,127),hr+=7);eo--;)Rr[Vr++]=no}}var Wr=Rr.subarray(0,Lr),Ur=Rr.subarray(Lr);Er=max$1(Wr),wr=max$1(Ur),xr=hMap(Wr,Er,1),br=hMap(Ur,wr,1)}else err(1);else{var Sr=shft(hr)+4,Pr=or[Sr-4]|or[Sr-3]<<8,Or=Sr+Pr;if(Or>ur){mr&&err(0);break}pr&&gr($r+Pr),cr.set(or.subarray(Sr,Or),$r),ar.b=$r+=Pr,ar.p=hr=Or*8,ar.f=vr;continue}if(hr>yr){mr&&err(0);break}}pr&&gr($r+131072);for(var ro=(1<<Er)-1,Gr=(1<<wr)-1,Qr=hr;;Qr=hr){var no=xr[bits16(or,hr)&ro],lo=no>>4;if(hr+=no&15,hr>yr){mr&&err(0);break}if(no||err(2),lo<256)cr[$r++]=lo;else if(lo==256){Qr=hr,xr=null;break}else{var ao=lo-254;if(lo>264){var Vr=lo-257,Yr=fleb[Vr];ao=bits(or,hr,(1<<Yr)-1)+fl[Vr],hr+=Yr}var io=br[bits16(or,hr)&Gr],Jr=io>>4;io||err(3),hr+=io&15;var Ur=fd[Jr];if(Jr>3){var Yr=fdeb[Jr];Ur+=bits16(or,hr)&(1<<Yr)-1,hr+=Yr}if(hr>yr){mr&&err(0);break}pr&&gr($r+131072);var uo=$r+ao;if($r<Ur){var fo=fr-Ur,$o=Math.min(Ur,uo);for(fo+$r<0&&err(3);$r<$o;++$r)cr[$r]=lr[fo+$r]}for(;$r<uo;++$r)cr[$r]=cr[$r-Ur]}}ar.l=xr,ar.p=Qr,ar.b=$r,ar.f=vr,xr&&(vr=1,ar.m=Er,ar.d=br,ar.n=wr)}while(!vr);return $r!=cr.length&&dr?slc(cr,0,$r):cr.subarray(0,$r)},et$1=new u8(0),mrg=function(or,ar){var cr={};for(var lr in or)cr[lr]=or[lr];for(var lr in ar)cr[lr]=ar[lr];return cr},wcln=function(or,ar,cr){for(var lr=or(),ur=or.toString(),fr=ur.slice(ur.indexOf("[")+1,ur.lastIndexOf("]")).replace(/\s+/g,"").split(","),dr=0;dr<lr.length;++dr){var pr=lr[dr],mr=fr[dr];if(typeof pr=="function"){ar+=";"+mr+"=";var gr=pr.toString();if(pr.prototype)if(gr.indexOf("[native code]")!=-1){var vr=gr.indexOf(" ",8)+1;ar+=gr.slice(vr,gr.indexOf("(",vr))}else{ar+=gr;for(var hr in pr.prototype)ar+=";"+mr+".prototype."+hr+"="+pr.prototype[hr].toString()}else ar+=gr}else cr[mr]=pr}return ar},ch=[],cbfs=function(or){var ar=[];for(var cr in or)or[cr].buffer&&ar.push((or[cr]=new or[cr].constructor(or[cr])).buffer);return ar},wrkr=function(or,ar,cr,lr){if(!ch[cr]){for(var ur="",fr={},dr=or.length-1,pr=0;pr<dr;++pr)ur=wcln(or[pr],ur,fr);ch[cr]={c:wcln(or[dr],ur,fr),e:fr}}var mr=mrg({},ch[cr].e);return wk(ch[cr].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+ar.toString()+"}",cr,mr,cbfs(mr),lr)},bInflt=function(){return[u8,u16,i32,fleb,fdeb,clim,fl,fd,flrm,fdrm,rev,ec,hMap,max$1,bits,bits16,shft,slc,err,inflt,inflateSync,pbf,gopt]},pbf=function(or){return postMessage(or,[or.buffer])},gopt=function(or){return or&&{out:or.size&&new u8(or.size),dictionary:or.dictionary}},cbify=function(or,ar,cr,lr,ur,fr){var dr=wrkr(cr,lr,ur,function(pr,mr){dr.terminate(),fr(pr,mr)});return dr.postMessage([or,ar],ar.consume?[or.buffer]:[]),function(){dr.terminate()}},b2=function(or,ar){return or[ar]|or[ar+1]<<8},b4=function(or,ar){return(or[ar]|or[ar+1]<<8|or[ar+2]<<16|or[ar+3]<<24)>>>0},b8=function(or,ar){return b4(or,ar)+b4(or,ar+4)*4294967296};function inflate(or,ar,cr){return cr||(cr=ar,ar={}),typeof cr!="function"&&err(7),cbify(or,ar,[bInflt],function(lr){return pbf(inflateSync(lr.data[0],gopt(lr.data[1])))},1,cr)}function inflateSync(or,ar){return inflt(or,{i:2},ar&&ar.out,ar&&ar.dictionary)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(or){}var dutf8=function(or){for(var ar="",cr=0;;){var lr=or[cr++],ur=(lr>127)+(lr>223)+(lr>239);if(cr+ur>or.length)return{s:ar,r:slc(or,cr-1)};ur?ur==3?(lr=((lr&15)<<18|(or[cr++]&63)<<12|(or[cr++]&63)<<6|or[cr++]&63)-65536,ar+=String.fromCharCode(55296|lr>>10,56320|lr&1023)):ur&1?ar+=String.fromCharCode((lr&31)<<6|or[cr++]&63):ar+=String.fromCharCode((lr&15)<<12|(or[cr++]&63)<<6|or[cr++]&63):ar+=String.fromCharCode(lr)}};function strFromU8(or,ar){if(ar){for(var cr="",lr=0;lr<or.length;lr+=16384)cr+=String.fromCharCode.apply(null,or.subarray(lr,lr+16384));return cr}else{if(td)return td.decode(or);var ur=dutf8(or),fr=ur.s,cr=ur.r;return cr.length&&err(8),fr}}var slzh=function(or,ar){return ar+30+b2(or,ar+26)+b2(or,ar+28)},zh=function(or,ar,cr){var lr=b2(or,ar+28),ur=strFromU8(or.subarray(ar+46,ar+46+lr),!(b2(or,ar+8)&2048)),fr=ar+46+lr,dr=b4(or,ar+20),pr=cr&&dr==4294967295?z64e(or,fr):[dr,b4(or,ar+24),b4(or,ar+42)],mr=pr[0],gr=pr[1],vr=pr[2];return[b2(or,ar+10),mr,gr,ur,fr+b2(or,ar+30)+b2(or,ar+32),vr]},z64e=function(or,ar){for(;b2(or,ar)!=1;ar+=4+b2(or,ar+2));return[b8(or,ar+12),b8(or,ar+4),b8(or,ar+20)]},mt$1=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(or){or()};function unzip(or,ar,cr){cr||(cr=ar,ar={}),typeof cr!="function"&&err(7);var lr=[],ur=function(){for(var wr=0;wr<lr.length;++wr)lr[wr]()},fr={},dr=function(wr,yr){mt$1(function(){cr(wr,yr)})};mt$1(function(){dr=cr});for(var pr=or.length-22;b4(or,pr)!=101010256;--pr)if(!pr||or.length-pr>65558)return dr(err(13,0,1),null),ur;var mr=b2(or,pr+8);if(mr){var gr=mr,vr=b4(or,pr+16),hr=vr==4294967295||gr==65535;if(hr){var $r=b4(or,pr-12);hr=b4(or,$r)==101075792,hr&&(gr=mr=b4(or,$r+32),vr=b4(or,$r+48))}for(var xr=ar&&ar.filter,br=function(wr){var yr=zh(or,vr,hr),_r=yr[0],Sr=yr[1],Pr=yr[2],Or=yr[3],Lr=yr[4],Tr=yr[5],jr=slzh(or,Tr);vr=Lr;var Rr=function(Vr,Zr){Vr?(ur(),dr(Vr,null)):(Zr&&(fr[Or]=Zr),--mr||dr(null,fr))};if(!xr||xr({name:Or,size:Sr,originalSize:Pr,compression:_r}))if(!_r)Rr(null,slc(or,jr,jr+Sr));else if(_r==8){var Fr=or.subarray(jr,jr+Sr);if(Sr<32e4)try{Rr(null,inflateSync(Fr,{out:new u8(Pr)}))}catch(Vr){Rr(Vr,null)}else lr.push(inflate(Fr,{size:Pr},Rr))}else Rr(err(14,"unknown compression type "+_r,1),null);else Rr(null,null)},Er=0;Er<gr;++Er)br(Er)}else dr(null,{});return ur}class DataFile{constructor(ar){this.buffers=[],this.pos=0,this.size=0,ar&&(this.buffers.push(ar),this.size=ar.byteLength,this.pos=0)}read(ar){if(this.flatten(),ar+this.pos>this.size)return null;const cr=this.pos;return this.pos+=ar,this.buffers[0].slice(cr,this.pos)}readAll(){return this.flatten(),this.buffers[0]||new Uint8Array}write(ar){return this.buffers.push(ar),this.size+=ar.byteLength,this.pos+=ar.byteLength,!0}tell(){return this.pos}seek(ar,cr){let lr=this.pos;return cr==="SET"?lr=ar:cr==="CUR"?lr+=ar:lr=this.size-ar,lr<0||lr>this.size?!1:(this.pos=lr,!0)}flatten(){if(this.buffers.length<=1)return;const ar=new Uint8Array(this.size);let cr=0;for(const lr of this.buffers)ar.set(lr,cr),cr+=lr.byteLength;this.buffers=[ar]}}const ERROR_CODE={0:"ERAR_SUCCESS",10:"ERAR_END_ARCHIVE",11:"ERAR_NO_MEMORY",12:"ERAR_BAD_DATA",13:"ERAR_BAD_ARCHIVE",14:"ERAR_UNKNOWN_FORMAT",15:"ERAR_EOPEN",16:"ERAR_ECREATE",17:"ERAR_ECLOSE",18:"ERAR_EREAD",19:"ERAR_EWRITE",20:"ERAR_SMALL_BUF",21:"ERAR_UNKNOWN",22:"ERAR_MISSING_PASSWORD",23:"ERAR_EREFERENCE",24:"ERAR_BAD_PASSWORD"},ERROR_MSG={ERAR_NO_MEMORY:"Not enough memory",ERAR_BAD_DATA:"Archive header or data are damaged",ERAR_BAD_ARCHIVE:"File is not RAR archive",ERAR_UNKNOWN_FORMAT:"Unknown archive format",ERAR_EOPEN:"File open error",ERAR_ECREATE:"File create error",ERAR_ECLOSE:"File close error",ERAR_EREAD:"File read error",ERAR_EWRITE:"File write error",ERAR_SMALL_BUF:"Buffer for archive comment is too small, comment truncated",ERAR_UNKNOWN:"Unknown error",ERAR_MISSING_PASSWORD:"Password for encrypted file or header is not specified",ERAR_EREFERENCE:"Cannot open file source for reference record",ERAR_BAD_PASSWORD:"Wrong password is specified"};class UnrarError extends Error{constructor(ar,cr,lr){super(cr),this.reason=ar,this.file=lr}}class Extractor{constructor(ar,cr=""){this.unrar=ar,this._password=cr,this._archive=null}getFileList(){const ar=this.openArc(!0);function*cr(){for(;;){const lr=this.processNextFile(()=>!0);if(lr==="ERAR_END_ARCHIVE")break;yield lr.fileHeader}this.closeArc()}return{arcHeader:ar,fileHeaders:cr.call(this)}}extract({files:ar,password:cr}={}){const lr=this.openArc(!1,cr);function*ur(){let fr=0;for(;;){let dr=()=>!1;if(Array.isArray(ar)){if(fr===ar.length)break;dr=({name:mr})=>!ar.includes(mr)}else ar&&(dr=mr=>!ar(mr));const pr=this.processNextFile(dr);if(pr==="ERAR_END_ARCHIVE")break;pr.extraction!=="skipped"&&(fr++,yield{fileHeader:pr.fileHeader})}this.closeArc()}return{arcHeader:lr,files:ur.call(this)}}fileCreated(ar){}close(ar){this.closeFile(ar)}openArc(ar,cr){this._archive=new this.unrar.RarArchive;const lr=this._archive.open(this._filePath,cr||this._password,ar);if(lr.state.errCode!==0)throw this.getFailException(lr.state.errCode,lr.state.errType);return{comment:lr.comment,flags:{volume:(lr.flags&1)!==0,lock:(lr.flags&4)!==0,solid:(lr.flags&8)!==0,authInfo:(lr.flags&32)!==0,recoveryRecord:(lr.flags&64)!==0,headerEncrypted:(lr.flags&128)!==0}}}processNextFile(ar){function cr(mr){const gr=[5,6,5,5,4,7];let vr=[];for(const $r of gr)vr.push(mr&(1<<$r)-1),mr>>=$r;vr=vr.reverse();const hr=$r=>$r<10?"0"+$r:""+$r;return`${1980+vr[0]}-${hr(vr[1])}-${hr(vr[2])}T${hr(vr[3])}:${hr(vr[4])}:${hr(vr[5]*2)}.000`}function lr(mr){return{48:"Storing",49:"Fastest",50:"Fast",51:"Normal",52:"Good",53:"Best"}[mr]||"Unknown"}const ur=this._archive.getFileHeader();if(ur.state.errCode===10)return"ERAR_END_ARCHIVE";if(ur.state.errCode!==0)throw this.getFailException(ur.state.errCode,ur.state.errType);const fr={name:ur.name,flags:{encrypted:(ur.flags&4)!==0,solid:(ur.flags&16)!==0,directory:(ur.flags&32)!==0},packSize:ur.packSize,unpSize:ur.unpSize,crc:ur.crc,time:cr(ur.time),unpVer:`${Math.floor(ur.unpVer/10)}.${ur.unpVer%10}`,method:lr(ur.method),comment:ur.comment},dr=ar(fr),pr=this._archive.readFile(dr);if(pr.errCode!==0)throw this.getFailException(pr.errCode,pr.errType,fr.name);return{fileHeader:fr,extraction:dr?"skipped":"extracted"}}closeArc(){this._archive.delete(),this._archive=null}getFailException(ar,cr,lr){const ur=ERROR_CODE[ar];return this.closeArc(),new UnrarError(ur,ERROR_MSG[ur],lr)}}class ExtractorData extends Extractor{constructor(ar,cr,lr){super(ar,lr),this.dataFiles={},this.dataFileMap={},this.currentFd=1;const ur={file:new DataFile(new Uint8Array(cr)),fd:this.currentFd++};this._filePath="_defaultUnrarJS_.rar",this.dataFiles[this._filePath]=ur,this.dataFileMap[ur.fd]=this._filePath}extract(ar={}){const{arcHeader:cr,files:lr}=super.extract(ar);function*ur(){for(const fr of lr)fr.fileHeader.flags.directory||(fr.extraction=this.dataFiles[this.getExtractedFileName(fr.fileHeader.name)].file.readAll()),yield fr}return{arcHeader:cr,files:ur.call(this)}}getExtractedFileName(ar){return`*Extracted*/${ar}`}open(ar){const cr=this.dataFiles[ar];return cr?cr.fd:0}create(ar){const cr=this.currentFd++;return this.dataFiles[this.getExtractedFileName(ar)]={file:new DataFile,fd:this.currentFd++},this.dataFileMap[cr]=this.getExtractedFileName(ar),cr}closeFile(ar){const cr=this.dataFiles[this.dataFileMap[ar]];cr&&cr.file.seek(0,"SET")}read(ar,cr,lr){const ur=this.dataFiles[this.dataFileMap[ar]];if(!ur)return-1;const fr=ur.file.read(lr);return fr===null?-1:(this.unrar.HEAPU8.set(fr,cr),fr.byteLength)}write(ar,cr,lr){const ur=this.dataFiles[this.dataFileMap[ar]];return ur?(ur.file.write(this.unrar.HEAPU8.slice(cr,cr+lr)),!0):!1}tell(ar){const cr=this.dataFiles[this.dataFileMap[ar]];return cr?cr.file.tell():-1}seek(ar,cr,lr){const ur=this.dataFiles[this.dataFileMap[ar]];return ur?ur.file.seek(cr,lr):!1}}var Module=(()=>{var or=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(cr){cr=cr||{};var cr=typeof cr<"u"?cr:{},lr,ur;cr.ready=new Promise(function(Ar,Cr){lr=Ar,ur=Cr});var fr=Object.assign({},cr),dr="./this.program",pr=typeof window=="object",mr=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var gr="";function vr(Ar){return cr.locateFile?cr.locateFile(Ar,gr):gr+Ar}var hr,$r;(pr||mr)&&(mr?gr=self.location.href:typeof document<"u"&&document.currentScript&&(gr=document.currentScript.src),or&&(gr=or),gr.indexOf("blob:")!==0?gr=gr.substr(0,gr.replace(/[?#].*/,"").lastIndexOf("/")+1):gr="",mr&&($r=Ar=>{var Cr=new XMLHttpRequest;return Cr.open("GET",Ar,!1),Cr.responseType="arraybuffer",Cr.send(null),new Uint8Array(Cr.response)}),hr=(Ar,Cr,kr)=>{var Nr=new XMLHttpRequest;Nr.open("GET",Ar,!0),Nr.responseType="arraybuffer",Nr.onload=()=>{if(Nr.status==200||Nr.status==0&&Nr.response){Cr(Nr.response);return}kr()},Nr.onerror=kr,Nr.send(null)}),cr.print||console.log.bind(console);var xr=cr.printErr||console.warn.bind(console);Object.assign(cr,fr),fr=null,cr.arguments&&cr.arguments,cr.thisProgram&&(dr=cr.thisProgram),cr.quit&&cr.quit;var br=0,Er=Ar=>{br=Ar},wr=()=>br,yr;cr.wasmBinary&&(yr=cr.wasmBinary),cr.noExitRuntime,typeof WebAssembly!="object"&&ps("no native wasm support detected");var _r,Sr=!1;function Pr(Ar,Cr){Ar||ps(Cr)}var Or=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Lr(Ar,Cr,kr){for(var Nr=Cr+kr,Dr=Cr;Ar[Dr]&&!(Dr>=Nr);)++Dr;if(Dr-Cr>16&&Ar.buffer&&Or)return Or.decode(Ar.subarray(Cr,Dr));for(var Br="";Cr<Dr;){var zr=Ar[Cr++];if(!(zr&128)){Br+=String.fromCharCode(zr);continue}var qr=Ar[Cr++]&63;if((zr&224)==192){Br+=String.fromCharCode((zr&31)<<6|qr);continue}var Xr=Ar[Cr++]&63;if((zr&240)==224?zr=(zr&15)<<12|qr<<6|Xr:zr=(zr&7)<<18|qr<<12|Xr<<6|Ar[Cr++]&63,zr<65536)Br+=String.fromCharCode(zr);else{var co=zr-65536;Br+=String.fromCharCode(55296|co>>10,56320|co&1023)}}return Br}function Tr(Ar,Cr){return Ar?Lr(Qr,Ar,Cr):""}function jr(Ar,Cr,kr,Nr){if(!(Nr>0))return 0;for(var Dr=kr,Br=kr+Nr-1,zr=0;zr<Ar.length;++zr){var qr=Ar.charCodeAt(zr);if(qr>=55296&&qr<=57343){var Xr=Ar.charCodeAt(++zr);qr=65536+((qr&1023)<<10)|Xr&1023}if(qr<=127){if(kr>=Br)break;Cr[kr++]=qr}else if(qr<=2047){if(kr+1>=Br)break;Cr[kr++]=192|qr>>6,Cr[kr++]=128|qr&63}else if(qr<=65535){if(kr+2>=Br)break;Cr[kr++]=224|qr>>12,Cr[kr++]=128|qr>>6&63,Cr[kr++]=128|qr&63}else{if(kr+3>=Br)break;Cr[kr++]=240|qr>>18,Cr[kr++]=128|qr>>12&63,Cr[kr++]=128|qr>>6&63,Cr[kr++]=128|qr&63}}return Cr[kr]=0,kr-Dr}function Rr(Ar,Cr,kr){return jr(Ar,Qr,Cr,kr)}function Fr(Ar){for(var Cr=0,kr=0;kr<Ar.length;++kr){var Nr=Ar.charCodeAt(kr);Nr>=55296&&Nr<=57343&&(Nr=65536+((Nr&1023)<<10)|Ar.charCodeAt(++kr)&1023),Nr<=127?++Cr:Nr<=2047?Cr+=2:Nr<=65535?Cr+=3:Cr+=4}return Cr}var Vr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Zr(Ar,Cr){for(var kr=Ar,Nr=kr>>1,Dr=Nr+Cr/2;!(Nr>=Dr)&&ao[Nr];)++Nr;if(kr=Nr<<1,kr-Ar>32&&Vr)return Vr.decode(Qr.subarray(Ar,kr));for(var Br="",zr=0;!(zr>=Cr/2);++zr){var qr=lo[Ar+zr*2>>1];if(qr==0)break;Br+=String.fromCharCode(qr)}return Br}function so(Ar,Cr,kr){if(kr===void 0&&(kr=2147483647),kr<2)return 0;kr-=2;for(var Nr=Cr,Dr=kr<Ar.length*2?kr/2:Ar.length,Br=0;Br<Dr;++Br){var zr=Ar.charCodeAt(Br);lo[Cr>>1]=zr,Cr+=2}return lo[Cr>>1]=0,Cr-Nr}function Ir(Ar){return Ar.length*2}function Kr(Ar,Cr){for(var kr=0,Nr="";!(kr>=Cr/4);){var Dr=Yr[Ar+kr*4>>2];if(Dr==0)break;if(++kr,Dr>=65536){var Br=Dr-65536;Nr+=String.fromCharCode(55296|Br>>10,56320|Br&1023)}else Nr+=String.fromCharCode(Dr)}return Nr}function no(Ar,Cr,kr){if(kr===void 0&&(kr=2147483647),kr<4)return 0;for(var Nr=Cr,Dr=Nr+kr-4,Br=0;Br<Ar.length;++Br){var zr=Ar.charCodeAt(Br);if(zr>=55296&&zr<=57343){var qr=Ar.charCodeAt(++Br);zr=65536+((zr&1023)<<10)|qr&1023}if(Yr[Cr>>2]=zr,Cr+=4,Cr+4>Dr)break}return Yr[Cr>>2]=0,Cr-Nr}function eo(Ar){for(var Cr=0,kr=0;kr<Ar.length;++kr){var Nr=Ar.charCodeAt(kr);Nr>=55296&&Nr<=57343&&++kr,Cr+=4}return Cr}function Wr(Ar){var Cr=Fr(Ar)+1,kr=Cs(Cr);return kr&&jr(Ar,Gr,kr,Cr),kr}function Ur(Ar,Cr,kr){for(var Nr=0;Nr<Ar.length;++Nr)Gr[Cr++>>0]=Ar.charCodeAt(Nr);kr||(Gr[Cr>>0]=0)}var ro,Gr,Qr,lo,ao,Yr,io,Jr,uo;function fo(Ar){ro=Ar,cr.HEAP8=Gr=new Int8Array(Ar),cr.HEAP16=lo=new Int16Array(Ar),cr.HEAP32=Yr=new Int32Array(Ar),cr.HEAPU8=Qr=new Uint8Array(Ar),cr.HEAPU16=ao=new Uint16Array(Ar),cr.HEAPU32=io=new Uint32Array(Ar),cr.HEAPF32=Jr=new Float32Array(Ar),cr.HEAPF64=uo=new Float64Array(Ar)}cr.INITIAL_MEMORY;var $o,xo=[],yo=[],Ao=[];function Mo(){if(cr.preRun)for(typeof cr.preRun=="function"&&(cr.preRun=[cr.preRun]);cr.preRun.length;)Uo(cr.preRun.shift());gs(xo)}function Lo(){gs(yo)}function zo(){if(cr.postRun)for(typeof cr.postRun=="function"&&(cr.postRun=[cr.postRun]);cr.postRun.length;)rs(cr.postRun.shift());gs(Ao)}function Uo(Ar){xo.unshift(Ar)}function Qo(Ar){yo.unshift(Ar)}function rs(Ar){Ao.unshift(Ar)}var Ko=0,qo=null;function Rs(Ar){Ko++,cr.monitorRunDependencies&&cr.monitorRunDependencies(Ko)}function Ts(Ar){if(Ko--,cr.monitorRunDependencies&&cr.monitorRunDependencies(Ko),Ko==0&&qo){var Cr=qo;qo=null,Cr()}}function ps(Ar){cr.onAbort&&cr.onAbort(Ar),Ar="Aborted("+Ar+")",xr(Ar),Sr=!0,Ar+=". Build with -sASSERTIONS for more info.";var Cr=new WebAssembly.RuntimeError(Ar);throw ur(Cr),Cr}var Hs="data:application/octet-stream;base64,";function ms(Ar){return Ar.startsWith(Hs)}function xs(Ar){return Ar.startsWith("file://")}var No;No="unrar.wasm",ms(No)||(No=vr(No));function bs(Ar){try{if(Ar==No&&yr)return new Uint8Array(yr);if($r)return $r(Ar);throw"both async and sync fetching of the wasm failed"}catch(Cr){ps(Cr)}}function Ps(){if(!yr&&(pr||mr)){if(typeof fetch=="function"&&!xs(No))return fetch(No,{credentials:"same-origin"}).then(function(Ar){if(!Ar.ok)throw"failed to load wasm binary file at '"+No+"'";return Ar.arrayBuffer()}).catch(function(){return bs(No)});if(hr)return new Promise(function(Ar,Cr){hr(No,function(kr){Ar(new Uint8Array(kr))},Cr)})}return Promise.resolve().then(function(){return bs(No)})}function os(){var Ar={a:sp};function Cr(zr,qr){var Xr=zr.exports;cr.asm=Xr,_r=cr.asm.ka,fo(_r.buffer),$o=cr.asm.oa,Qo(cr.asm.la),Ts()}Rs();function kr(zr){Cr(zr.instance)}function Nr(zr){return Ps().then(function(qr){return WebAssembly.instantiate(qr,Ar)}).then(function(qr){return qr}).then(zr,function(qr){xr("failed to asynchronously prepare wasm: "+qr),ps(qr)})}function Dr(){return!yr&&typeof WebAssembly.instantiateStreaming=="function"&&!ms(No)&&!xs(No)&&typeof fetch=="function"?fetch(No,{credentials:"same-origin"}).then(function(zr){var qr=WebAssembly.instantiateStreaming(zr,Ar);return qr.then(kr,function(Xr){return xr("wasm streaming compile failed: "+Xr),xr("falling back to ArrayBuffer instantiation"),Nr(kr)})}):Nr(kr)}if(cr.instantiateWasm)try{var Br=cr.instantiateWasm(Ar,Cr);return Br}catch(zr){return xr("Module.instantiateWasm callback failed with error: "+zr),!1}return Dr().catch(ur),{}}function gs(Ar){for(;Ar.length>0;){var Cr=Ar.shift();if(typeof Cr=="function"){Cr(cr);continue}var kr=Cr.func;typeof kr=="number"?Cr.arg===void 0?Ro(kr)():Ro(kr)(Cr.arg):kr(Cr.arg===void 0?null:Cr.arg)}}var Yo=[];function Ro(Ar){var Cr=Yo[Ar];return Cr||(Ar>=Yo.length&&(Yo.length=Ar+1),Yo[Ar]=Cr=$o.get(Ar)),Cr}function ks(Ar){return Cs(Ar+24)+24}var hs=[];function Os(Ar){Ar.add_ref()}function js(Ar){var Cr=new oo(Ar);return Cr.get_caught()||Cr.set_caught(!0),Cr.set_rethrown(!1),hs.push(Cr),Os(Cr),Cr.get_exception_ptr()}var Mr=0;function oo(Ar){this.excPtr=Ar,this.ptr=Ar-24,this.set_type=function(Cr){io[this.ptr+4>>2]=Cr},this.get_type=function(){return io[this.ptr+4>>2]},this.set_destructor=function(Cr){io[this.ptr+8>>2]=Cr},this.get_destructor=function(){return io[this.ptr+8>>2]},this.set_refcount=function(Cr){Yr[this.ptr>>2]=Cr},this.set_caught=function(Cr){Cr=Cr?1:0,Gr[this.ptr+12>>0]=Cr},this.get_caught=function(){return Gr[this.ptr+12>>0]!=0},this.set_rethrown=function(Cr){Cr=Cr?1:0,Gr[this.ptr+13>>0]=Cr},this.get_rethrown=function(){return Gr[this.ptr+13>>0]!=0},this.init=function(Cr,kr){this.set_adjusted_ptr(0),this.set_type(Cr),this.set_destructor(kr),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var Cr=Yr[this.ptr>>2];Yr[this.ptr>>2]=Cr+1},this.release_ref=function(){var Cr=Yr[this.ptr>>2];return Yr[this.ptr>>2]=Cr-1,Cr===1},this.set_adjusted_ptr=function(Cr){io[this.ptr+16>>2]=Cr},this.get_adjusted_ptr=function(){return io[this.ptr+16>>2]},this.get_exception_ptr=function(){var Cr=Cl(this.get_type());if(Cr)return io[this.excPtr>>2];var kr=this.get_adjusted_ptr();return kr!==0?kr:this.excPtr}}function po(Ar){return es(new oo(Ar).ptr)}function go(Ar){if(Ar.release_ref()&&!Ar.get_rethrown()){var Cr=Ar.get_destructor();Cr&&Ro(Cr)(Ar.excPtr),po(Ar.excPtr)}}function vo(){Po(0);var Ar=hs.pop();go(Ar),Mr=0}function Eo(Ar){throw Mr||(Mr=Ar),Ar}function So(){var Ar=Mr;if(!Ar)return Er(0),0;var Cr=new oo(Ar);Cr.set_adjusted_ptr(Ar);var kr=Cr.get_type();if(!kr)return Er(0),Ar;for(var Nr=Array.prototype.slice.call(arguments),Dr=0;Dr<Nr.length;Dr++){var Br=Nr[Dr];if(Br===0||Br===kr)break;var zr=Cr.ptr+16;if(Ms(Br,kr,zr))return Er(Br),Ar}return Er(kr),Ar}function _o(){var Ar=Mr;if(!Ar)return Er(0),0;var Cr=new oo(Ar);Cr.set_adjusted_ptr(Ar);var kr=Cr.get_type();if(!kr)return Er(0),Ar;for(var Nr=Array.prototype.slice.call(arguments),Dr=0;Dr<Nr.length;Dr++){var Br=Nr[Dr];if(Br===0||Br===kr)break;var zr=Cr.ptr+16;if(Ms(Br,kr,zr))return Er(Br),Ar}return Er(kr),Ar}function Co(){var Ar=Mr;if(!Ar)return Er(0),0;var Cr=new oo(Ar);Cr.set_adjusted_ptr(Ar);var kr=Cr.get_type();if(!kr)return Er(0),Ar;for(var Nr=Array.prototype.slice.call(arguments),Dr=0;Dr<Nr.length;Dr++){var Br=Nr[Dr];if(Br===0||Br===kr)break;var zr=Cr.ptr+16;if(Ms(Br,kr,zr))return Er(Br),Ar}return Er(kr),Ar}function To(Ar,Cr,kr){var Nr=new oo(Ar);throw Nr.init(Cr,kr),Mr=Ar,Ar}function Ho(Ar,Cr,kr,Nr,Dr){}function Io(Ar,Cr){}var Bo={};function fs(Ar){for(;Ar.length;){var Cr=Ar.pop(),kr=Ar.pop();kr(Cr)}}function Wo(Ar){return this.fromWireType(io[Ar>>2])}var ss={},Xo={},Ls={},Dl=48,Fl=57;function Bs(Ar){if(Ar===void 0)return"_unknown";Ar=Ar.replace(/[^a-zA-Z0-9_]/g,"$");var Cr=Ar.charCodeAt(0);return Cr>=Dl&&Cr<=Fl?"_"+Ar:Ar}function Us(Ar,Cr){return Ar=Bs(Ar),new Function("body","return function "+Ar+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(Cr)}function Vs(Ar,Cr){var kr=Us(Cr,function(Nr){this.name=Cr,this.message=Nr;var Dr=new Error(Nr).stack;Dr!==void 0&&(this.stack=this.toString()+`
`+Dr.replace(/^Error(:[^\n]*)?\n/,""))});return kr.prototype=Object.create(Ar.prototype),kr.prototype.constructor=kr,kr.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},kr}var $a=void 0;function Ns(Ar){throw new $a(Ar)}function $s(Ar,Cr,kr){Ar.forEach(function(qr){Ls[qr]=Cr});function Nr(qr){var Xr=kr(qr);Xr.length!==Ar.length&&Ns("Mismatched type converter count");for(var co=0;co<Ar.length;++co)as(Ar[co],Xr[co])}var Dr=new Array(Cr.length),Br=[],zr=0;Cr.forEach((qr,Xr)=>{Xo.hasOwnProperty(qr)?Dr[Xr]=Xo[qr]:(Br.push(qr),ss.hasOwnProperty(qr)||(ss[qr]=[]),ss[qr].push(()=>{Dr[Xr]=Xo[qr],++zr,zr===Br.length&&Nr(Dr)}))}),Br.length===0&&Nr(Dr)}function Hl(Ar){var Cr=Bo[Ar];delete Bo[Ar];var kr=Cr.rawConstructor,Nr=Cr.rawDestructor,Dr=Cr.fields,Br=Dr.map(zr=>zr.getterReturnType).concat(Dr.map(zr=>zr.setterArgumentType));$s([Ar],Br,zr=>{var qr={};return Dr.forEach((Xr,co)=>{var ho=Xr.fieldName,mo=zr[co],bo=Xr.getter,ko=Xr.getterContext,Do=zr[co+Dr.length],Fo=Xr.setter,Go=Xr.setterContext;qr[ho]={read:ns=>mo.fromWireType(bo(ko,ns)),write:(ns,As)=>{var us=[];Fo(Go,ns,Do.toWireType(us,As)),fs(us)}}}),[{name:Cr.name,fromWireType:function(Xr){var co={};for(var ho in qr)co[ho]=qr[ho].read(Xr);return Nr(Xr),co},toWireType:function(Xr,co){for(var ho in qr)if(!(ho in co))throw new TypeError('Missing field:  "'+ho+'"');var mo=kr();for(ho in qr)qr[ho].write(mo,co[ho]);return Xr!==null&&Xr.push(Nr,mo),mo},argPackAdvance:8,readValueFromPointer:Wo,destructorFunction:Nr}]})}function Bl(Ar,Cr,kr,Nr,Dr){}function qs(Ar){switch(Ar){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+Ar)}}function Ul(){for(var Ar=new Array(256),Cr=0;Cr<256;++Cr)Ar[Cr]=String.fromCharCode(Cr);xa=Ar}var xa=void 0;function Vo(Ar){for(var Cr="",kr=Ar;Qr[kr];)Cr+=xa[Qr[kr++]];return Cr}var vs=void 0;function wo(Ar){throw new vs(Ar)}function as(Ar,Cr,kr={}){if(!("argPackAdvance"in Cr))throw new TypeError("registerType registeredInstance requires argPackAdvance");var Nr=Cr.name;if(Ar||wo('type "'+Nr+'" must have a positive integer typeid pointer'),Xo.hasOwnProperty(Ar)){if(kr.ignoreDuplicateRegistrations)return;wo("Cannot register type '"+Nr+"' twice")}if(Xo[Ar]=Cr,delete Ls[Ar],ss.hasOwnProperty(Ar)){var Dr=ss[Ar];delete ss[Ar],Dr.forEach(Br=>Br())}}function Vl(Ar,Cr,kr,Nr,Dr){var Br=qs(kr);Cr=Vo(Cr),as(Ar,{name:Cr,fromWireType:function(zr){return!!zr},toWireType:function(zr,qr){return qr?Nr:Dr},argPackAdvance:8,readValueFromPointer:function(zr){var qr;if(kr===1)qr=Gr;else if(kr===2)qr=lo;else if(kr===4)qr=Yr;else throw new TypeError("Unknown boolean type size: "+Cr);return this.fromWireType(qr[zr>>Br])},destructorFunction:null})}function Wl(Ar){if(!(this instanceof ds)||!(Ar instanceof ds))return!1;for(var Cr=this.$$.ptrType.registeredClass,kr=this.$$.ptr,Nr=Ar.$$.ptrType.registeredClass,Dr=Ar.$$.ptr;Cr.baseClass;)kr=Cr.upcast(kr),Cr=Cr.baseClass;for(;Nr.baseClass;)Dr=Nr.upcast(Dr),Nr=Nr.baseClass;return Cr===Nr&&kr===Dr}function zl(Ar){return{count:Ar.count,deleteScheduled:Ar.deleteScheduled,preservePointerOnDelete:Ar.preservePointerOnDelete,ptr:Ar.ptr,ptrType:Ar.ptrType,smartPtr:Ar.smartPtr,smartPtrType:Ar.smartPtrType}}function Ws(Ar){function Cr(kr){return kr.$$.ptrType.registeredClass.name}wo(Cr(Ar)+" instance already deleted")}var zs=!1;function ba(Ar){}function Kl(Ar){Ar.smartPtr?Ar.smartPtrType.rawDestructor(Ar.smartPtr):Ar.ptrType.registeredClass.rawDestructor(Ar.ptr)}function _i(Ar){Ar.count.value-=1;var Cr=Ar.count.value===0;Cr&&Kl(Ar)}function _c(Ar,Cr,kr){if(Cr===kr)return Ar;if(kr.baseClass===void 0)return null;var Nr=_c(Ar,Cr,kr.baseClass);return Nr===null?null:kr.downcast(Nr)}var $l={};function Gl(){return Object.keys(_s).length}function Ql(){var Ar=[];for(var Cr in _s)_s.hasOwnProperty(Cr)&&Ar.push(_s[Cr]);return Ar}var ys=[];function Ks(){for(;ys.length;){var Ar=ys.pop();Ar.$$.deleteScheduled=!1,Ar.delete()}}var Es=void 0;function Yl(Ar){Es=Ar,ys.length&&Es&&Es(Ks)}function Xl(){cr.getInheritedInstanceCount=Gl,cr.getLiveInheritedInstances=Ql,cr.flushPendingDeletes=Ks,cr.setDelayFunction=Yl}var _s={};function Zl(Ar,Cr){for(Cr===void 0&&wo("ptr should not be undefined");Ar.baseClass;)Cr=Ar.upcast(Cr),Ar=Ar.baseClass;return Cr}function Jl(Ar,Cr){return Cr=Zl(Ar,Cr),_s[Cr]}function Is(Ar,Cr){(!Cr.ptrType||!Cr.ptr)&&Ns("makeClassHandle requires ptr and ptrType");var kr=!!Cr.smartPtrType,Nr=!!Cr.smartPtr;return kr!==Nr&&Ns("Both smartPtrType and smartPtr must be specified"),Cr.count={value:1},ws(Object.create(Ar,{$$:{value:Cr}}))}function eu(Ar){var Cr=this.getPointee(Ar);if(!Cr)return this.destructor(Ar),null;var kr=Jl(this.registeredClass,Cr);if(kr!==void 0){if(kr.$$.count.value===0)return kr.$$.ptr=Cr,kr.$$.smartPtr=Ar,kr.clone();var Nr=kr.clone();return this.destructor(Ar),Nr}function Dr(){return this.isSmartPointer?Is(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:Cr,smartPtrType:this,smartPtr:Ar}):Is(this.registeredClass.instancePrototype,{ptrType:this,ptr:Ar})}var Br=this.registeredClass.getActualType(Cr),zr=$l[Br];if(!zr)return Dr.call(this);var qr;this.isConst?qr=zr.constPointerType:qr=zr.pointerType;var Xr=_c(Cr,this.registeredClass,qr.registeredClass);return Xr===null?Dr.call(this):this.isSmartPointer?Is(qr.registeredClass.instancePrototype,{ptrType:qr,ptr:Xr,smartPtrType:this,smartPtr:Ar}):Is(qr.registeredClass.instancePrototype,{ptrType:qr,ptr:Xr})}function ws(Ar){return typeof FinalizationRegistry>"u"?(ws=Cr=>Cr,Ar):(zs=new FinalizationRegistry(Cr=>{_i(Cr.$$)}),ws=Cr=>{var kr=Cr.$$,Nr=!!kr.smartPtr;if(Nr){var Dr={$$:kr};zs.register(Cr,Dr,Cr)}return Cr},ba=Cr=>zs.unregister(Cr),ws(Ar))}function tu(){if(this.$$.ptr||Ws(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var Ar=ws(Object.create(Object.getPrototypeOf(this),{$$:{value:zl(this.$$)}}));return Ar.$$.count.value+=1,Ar.$$.deleteScheduled=!1,Ar}function nu(){this.$$.ptr||Ws(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&wo("Object already scheduled for deletion"),ba(this),_i(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function ru(){return!this.$$.ptr}function ou(){return this.$$.ptr||Ws(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&wo("Object already scheduled for deletion"),ys.push(this),ys.length===1&&Es&&Es(Ks),this.$$.deleteScheduled=!0,this}function su(){ds.prototype.isAliasOf=Wl,ds.prototype.clone=tu,ds.prototype.delete=nu,ds.prototype.isDeleted=ru,ds.prototype.deleteLater=ou}function ds(){}function xl(Ar,Cr,kr){if(Ar[Cr].overloadTable===void 0){var Nr=Ar[Cr];Ar[Cr]=function(){return Ar[Cr].overloadTable.hasOwnProperty(arguments.length)||wo("Function '"+kr+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+Ar[Cr].overloadTable+")!"),Ar[Cr].overloadTable[arguments.length].apply(this,arguments)},Ar[Cr].overloadTable=[],Ar[Cr].overloadTable[Nr.argCount]=Nr}}function au(Ar,Cr,kr){cr.hasOwnProperty(Ar)?((kr===void 0||cr[Ar].overloadTable!==void 0&&cr[Ar].overloadTable[kr]!==void 0)&&wo("Cannot register public name '"+Ar+"' twice"),xl(cr,Ar,Ar),cr.hasOwnProperty(kr)&&wo("Cannot register multiple overloads of a function with the same number of arguments ("+kr+")!"),cr[Ar].overloadTable[kr]=Cr):(cr[Ar]=Cr,kr!==void 0&&(cr[Ar].numArguments=kr))}function iu(Ar,Cr,kr,Nr,Dr,Br,zr,qr){this.name=Ar,this.constructor=Cr,this.instancePrototype=kr,this.rawDestructor=Nr,this.baseClass=Dr,this.getActualType=Br,this.upcast=zr,this.downcast=qr,this.pureVirtualFunctions=[]}function Gs(Ar,Cr,kr){for(;Cr!==kr;)Cr.upcast||wo("Expected null or instance of "+kr.name+", got an instance of "+Cr.name),Ar=Cr.upcast(Ar),Cr=Cr.baseClass;return Ar}function cu(Ar,Cr){if(Cr===null)return this.isReference&&wo("null is not a valid "+this.name),0;Cr.$$||wo('Cannot pass "'+Zs(Cr)+'" as a '+this.name),Cr.$$.ptr||wo("Cannot pass deleted object as a pointer of type "+this.name);var kr=Cr.$$.ptrType.registeredClass,Nr=Gs(Cr.$$.ptr,kr,this.registeredClass);return Nr}function lu(Ar,Cr){var kr;if(Cr===null)return this.isReference&&wo("null is not a valid "+this.name),this.isSmartPointer?(kr=this.rawConstructor(),Ar!==null&&Ar.push(this.rawDestructor,kr),kr):0;Cr.$$||wo('Cannot pass "'+Zs(Cr)+'" as a '+this.name),Cr.$$.ptr||wo("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&Cr.$$.ptrType.isConst&&wo("Cannot convert argument of type "+(Cr.$$.smartPtrType?Cr.$$.smartPtrType.name:Cr.$$.ptrType.name)+" to parameter type "+this.name);var Nr=Cr.$$.ptrType.registeredClass;if(kr=Gs(Cr.$$.ptr,Nr,this.registeredClass),this.isSmartPointer)switch(Cr.$$.smartPtr===void 0&&wo("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:Cr.$$.smartPtrType===this?kr=Cr.$$.smartPtr:wo("Cannot convert argument of type "+(Cr.$$.smartPtrType?Cr.$$.smartPtrType.name:Cr.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:kr=Cr.$$.smartPtr;break;case 2:if(Cr.$$.smartPtrType===this)kr=Cr.$$.smartPtr;else{var Dr=Cr.clone();kr=this.rawShare(kr,Xs.toHandle(function(){Dr.delete()})),Ar!==null&&Ar.push(this.rawDestructor,kr)}break;default:wo("Unsupporting sharing policy")}return kr}function uu(Ar,Cr){if(Cr===null)return this.isReference&&wo("null is not a valid "+this.name),0;Cr.$$||wo('Cannot pass "'+Zs(Cr)+'" as a '+this.name),Cr.$$.ptr||wo("Cannot pass deleted object as a pointer of type "+this.name),Cr.$$.ptrType.isConst&&wo("Cannot convert argument of type "+Cr.$$.ptrType.name+" to parameter type "+this.name);var kr=Cr.$$.ptrType.registeredClass,Nr=Gs(Cr.$$.ptr,kr,this.registeredClass);return Nr}function fu(Ar){return this.rawGetPointee&&(Ar=this.rawGetPointee(Ar)),Ar}function du(Ar){this.rawDestructor&&this.rawDestructor(Ar)}function pu(Ar){Ar!==null&&Ar.delete()}function hu(){ls.prototype.getPointee=fu,ls.prototype.destructor=du,ls.prototype.argPackAdvance=8,ls.prototype.readValueFromPointer=Wo,ls.prototype.deleteObject=pu,ls.prototype.fromWireType=eu}function ls(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co,ho){this.name=Ar,this.registeredClass=Cr,this.isReference=kr,this.isConst=Nr,this.isSmartPointer=Dr,this.pointeeType=Br,this.sharingPolicy=zr,this.rawGetPointee=qr,this.rawConstructor=Xr,this.rawShare=co,this.rawDestructor=ho,!Dr&&Cr.baseClass===void 0?Nr?(this.toWireType=cu,this.destructorFunction=null):(this.toWireType=uu,this.destructorFunction=null):this.toWireType=lu}function mu(Ar,Cr,kr){cr.hasOwnProperty(Ar)||Ns("Replacing nonexistant public symbol"),cr[Ar].overloadTable!==void 0&&kr!==void 0?cr[Ar].overloadTable[kr]=Cr:(cr[Ar]=Cr,cr[Ar].argCount=kr)}function gu(Ar,Cr,kr){var Nr=cr["dynCall_"+Ar];return kr&&kr.length?Nr.apply(null,[Cr].concat(kr)):Nr.call(null,Cr)}function $u(Ar,Cr,kr){return Ar.includes("j")?gu(Ar,Cr,kr):Ro(Cr).apply(null,kr)}function vu(Ar,Cr){var kr=[];return function(){return kr.length=0,Object.assign(kr,arguments),$u(Ar,Cr,kr)}}function Zo(Ar,Cr){Ar=Vo(Ar);function kr(){return Ar.includes("j")?vu(Ar,Cr):Ro(Cr)}var Nr=kr();return typeof Nr!="function"&&wo("unknown function pointer with signature "+Ar+": "+Cr),Nr}var yl=void 0;function xu(Ar){var Cr=Sl(Ar),kr=Vo(Cr);return es(Cr),kr}function Qs(Ar,Cr){var kr=[],Nr={};function Dr(Br){if(!Nr[Br]&&!Xo[Br]){if(Ls[Br]){Ls[Br].forEach(Dr);return}kr.push(Br),Nr[Br]=!0}}throw Cr.forEach(Dr),new yl(Ar+": "+kr.map(xu).join([", "]))}function bu(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co,ho,mo,bo){ho=Vo(ho),Br=Zo(Dr,Br),qr&&(qr=Zo(zr,qr)),co&&(co=Zo(Xr,co)),bo=Zo(mo,bo);var ko=Bs(ho);au(ko,function(){Qs("Cannot construct "+ho+" due to unbound types",[Nr])}),$s([Ar,Cr,kr],Nr?[Nr]:[],function(Do){Do=Do[0];var Fo,Go;Nr?(Fo=Do.registeredClass,Go=Fo.instancePrototype):Go=ds.prototype;var ns=Us(ko,function(){if(Object.getPrototypeOf(this)!==As)throw new vs("Use 'new' to construct "+ho);if(us.constructor_body===void 0)throw new vs(ho+" has no accessible constructor");var Il=us.constructor_body[arguments.length];if(Il===void 0)throw new vs("Tried to invoke ctor of "+ho+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(us.constructor_body).toString()+") parameters instead!");return Il.apply(this,arguments)}),As=Object.create(Go,{constructor:{value:ns}});ns.prototype=As;var us=new iu(ho,ns,As,bo,Fo,Br,qr,co),Sp=new ls(ho,us,!0,!1,!1),Ll=new ls(ho+"*",us,!1,!1,!1),Nl=new ls(ho+" const*",us,!1,!0,!1);return $l[Ar]={pointerType:Ll,constPointerType:Nl},mu(ko,ns),[Sp,Ll,Nl]})}function El(Ar,Cr){for(var kr=[],Nr=0;Nr<Ar;Nr++)kr.push(Yr[(Cr>>2)+Nr]);return kr}function yu(Ar,Cr,kr,Nr,Dr,Br){Pr(Cr>0);var zr=El(Cr,kr);Dr=Zo(Nr,Dr),$s([],[Ar],function(qr){qr=qr[0];var Xr="constructor "+qr.name;if(qr.registeredClass.constructor_body===void 0&&(qr.registeredClass.constructor_body=[]),qr.registeredClass.constructor_body[Cr-1]!==void 0)throw new vs("Cannot register multiple constructors with identical number of parameters ("+(Cr-1)+") for class '"+qr.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return qr.registeredClass.constructor_body[Cr-1]=()=>{Qs("Cannot construct "+qr.name+" due to unbound types",zr)},$s([],zr,function(co){return co.splice(1,0,null),qr.registeredClass.constructor_body[Cr-1]=_l(Xr,co,null,Dr,Br),[]}),[]})}function Eu(Ar,Cr){if(!(Ar instanceof Function))throw new TypeError("new_ called with constructor type "+typeof Ar+" which is not a function");var kr=Us(Ar.name||"unknownFunctionName",function(){});kr.prototype=Ar.prototype;var Nr=new kr,Dr=Ar.apply(Nr,Cr);return Dr instanceof Object?Dr:Nr}function _l(Ar,Cr,kr,Nr,Dr){var Br=Cr.length;Br<2&&wo("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var zr=Cr[1]!==null&&kr!==null,qr=!1,Xr=1;Xr<Cr.length;++Xr)if(Cr[Xr]!==null&&Cr[Xr].destructorFunction===void 0){qr=!0;break}for(var co=Cr[0].name!=="void",ho="",mo="",Xr=0;Xr<Br-2;++Xr)ho+=(Xr!==0?", ":"")+"arg"+Xr,mo+=(Xr!==0?", ":"")+"arg"+Xr+"Wired";var bo="return function "+Bs(Ar)+"("+ho+`) {
if (arguments.length !== `+(Br-2)+`) {
throwBindingError('function `+Ar+" called with ' + arguments.length + ' arguments, expected "+(Br-2)+` args!');
}
`;qr&&(bo+=`var destructors = [];
`);var ko=qr?"destructors":"null",Do=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Fo=[wo,Nr,Dr,fs,Cr[0],Cr[1]];zr&&(bo+="var thisWired = classParam.toWireType("+ko+`, this);
`);for(var Xr=0;Xr<Br-2;++Xr)bo+="var arg"+Xr+"Wired = argType"+Xr+".toWireType("+ko+", arg"+Xr+"); // "+Cr[Xr+2].name+`
`,Do.push("argType"+Xr),Fo.push(Cr[Xr+2]);if(zr&&(mo="thisWired"+(mo.length>0?", ":"")+mo),bo+=(co?"var rv = ":"")+"invoker(fn"+(mo.length>0?", ":"")+mo+`);
`,qr)bo+=`runDestructors(destructors);
`;else for(var Xr=zr?1:2;Xr<Cr.length;++Xr){var Go=Xr===1?"thisWired":"arg"+(Xr-2)+"Wired";Cr[Xr].destructorFunction!==null&&(bo+=Go+"_dtor("+Go+"); // "+Cr[Xr].name+`
`,Do.push(Go+"_dtor"),Fo.push(Cr[Xr].destructorFunction))}co&&(bo+=`var ret = retType.fromWireType(rv);
return ret;
`),bo+=`}
`,Do.push(bo);var ns=Eu(Function,Do).apply(null,Fo);return ns}function _u(Ar,Cr,kr,Nr,Dr,Br,zr,qr){var Xr=El(kr,Nr);Cr=Vo(Cr),Br=Zo(Dr,Br),$s([],[Ar],function(co){co=co[0];var ho=co.name+"."+Cr;Cr.startsWith("@@")&&(Cr=Symbol[Cr.substring(2)]),qr&&co.registeredClass.pureVirtualFunctions.push(Cr);function mo(){Qs("Cannot call "+ho+" due to unbound types",Xr)}var bo=co.registeredClass.instancePrototype,ko=bo[Cr];return ko===void 0||ko.overloadTable===void 0&&ko.className!==co.name&&ko.argCount===kr-2?(mo.argCount=kr-2,mo.className=co.name,bo[Cr]=mo):(xl(bo,Cr,ho),bo[Cr].overloadTable[kr-2]=mo),$s([],Xr,function(Do){var Fo=_l(ho,Do,co,Br,zr);return bo[Cr].overloadTable===void 0?(Fo.argCount=kr-2,bo[Cr]=Fo):bo[Cr].overloadTable[kr-2]=Fo,[]}),[]})}var Ys=[],Jo=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function wu(Ar){Ar>4&&--Jo[Ar].refcount===0&&(Jo[Ar]=void 0,Ys.push(Ar))}function Su(){for(var Ar=0,Cr=5;Cr<Jo.length;++Cr)Jo[Cr]!==void 0&&++Ar;return Ar}function Cu(){for(var Ar=5;Ar<Jo.length;++Ar)if(Jo[Ar]!==void 0)return Jo[Ar];return null}function Au(){cr.count_emval_handles=Su,cr.get_first_emval=Cu}var Xs={toValue:Ar=>(Ar||wo("Cannot use deleted val. handle = "+Ar),Jo[Ar].value),toHandle:Ar=>{switch(Ar){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var Cr=Ys.length?Ys.pop():Jo.length;return Jo[Cr]={refcount:1,value:Ar},Cr}}}};function Ru(Ar,Cr){Cr=Vo(Cr),as(Ar,{name:Cr,fromWireType:function(kr){var Nr=Xs.toValue(kr);return wu(kr),Nr},toWireType:function(kr,Nr){return Xs.toHandle(Nr)},argPackAdvance:8,readValueFromPointer:Wo,destructorFunction:null})}function Zs(Ar){if(Ar===null)return"null";var Cr=typeof Ar;return Cr==="object"||Cr==="array"||Cr==="function"?Ar.toString():""+Ar}function Tu(Ar,Cr){switch(Cr){case 2:return function(kr){return this.fromWireType(Jr[kr>>2])};case 3:return function(kr){return this.fromWireType(uo[kr>>3])};default:throw new TypeError("Unknown float type: "+Ar)}}function Pu(Ar,Cr,kr){var Nr=qs(kr);Cr=Vo(Cr),as(Ar,{name:Cr,fromWireType:function(Dr){return Dr},toWireType:function(Dr,Br){return Br},argPackAdvance:8,readValueFromPointer:Tu(Cr,Nr),destructorFunction:null})}function ku(Ar,Cr,kr){switch(Cr){case 0:return kr?function(Dr){return Gr[Dr]}:function(Dr){return Qr[Dr]};case 1:return kr?function(Dr){return lo[Dr>>1]}:function(Dr){return ao[Dr>>1]};case 2:return kr?function(Dr){return Yr[Dr>>2]}:function(Dr){return io[Dr>>2]};default:throw new TypeError("Unknown integer type: "+Ar)}}function Ou(Ar,Cr,kr,Nr,Dr){Cr=Vo(Cr);var Br=qs(kr),zr=mo=>mo;if(Nr===0){var qr=32-8*kr;zr=mo=>mo<<qr>>>qr}var Xr=Cr.includes("unsigned"),co=(mo,bo)=>{},ho;Xr?ho=function(mo,bo){return co(bo,this.name),bo>>>0}:ho=function(mo,bo){return co(bo,this.name),bo},as(Ar,{name:Cr,fromWireType:zr,toWireType:ho,argPackAdvance:8,readValueFromPointer:ku(Cr,Br,Nr!==0),destructorFunction:null})}function ju(Ar,Cr,kr){var Nr=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Dr=Nr[Cr];function Br(zr){zr=zr>>2;var qr=io,Xr=qr[zr],co=qr[zr+1];return new Dr(ro,co,Xr)}kr=Vo(kr),as(Ar,{name:kr,fromWireType:Br,argPackAdvance:8,readValueFromPointer:Br},{ignoreDuplicateRegistrations:!0})}function Lu(Ar,Cr){Cr=Vo(Cr);var kr=Cr==="std::string";as(Ar,{name:Cr,fromWireType:function(Nr){var Dr=io[Nr>>2],Br;if(kr)for(var zr=Nr+4,qr=0;qr<=Dr;++qr){var Xr=Nr+4+qr;if(qr==Dr||Qr[Xr]==0){var co=Xr-zr,ho=Tr(zr,co);Br===void 0?Br=ho:(Br+="\0",Br+=ho),zr=Xr+1}}else{for(var mo=new Array(Dr),qr=0;qr<Dr;++qr)mo[qr]=String.fromCharCode(Qr[Nr+4+qr]);Br=mo.join("")}return es(Nr),Br},toWireType:function(Nr,Dr){Dr instanceof ArrayBuffer&&(Dr=new Uint8Array(Dr));var Br,zr=typeof Dr=="string";zr||Dr instanceof Uint8Array||Dr instanceof Uint8ClampedArray||Dr instanceof Int8Array||wo("Cannot pass non-string to std::string"),kr&&zr?Br=()=>Fr(Dr):Br=()=>Dr.length;var qr=Br(),Xr=Cs(4+qr+1);if(io[Xr>>2]=qr,kr&&zr)Rr(Dr,Xr+4,qr+1);else if(zr)for(var co=0;co<qr;++co){var ho=Dr.charCodeAt(co);ho>255&&(es(Xr),wo("String has UTF-16 code units that do not fit in 8 bits")),Qr[Xr+4+co]=ho}else for(var co=0;co<qr;++co)Qr[Xr+4+co]=Dr[co];return Nr!==null&&Nr.push(es,Xr),Xr},argPackAdvance:8,readValueFromPointer:Wo,destructorFunction:function(Nr){es(Nr)}})}function Nu(Ar,Cr,kr){kr=Vo(kr);var Nr,Dr,Br,zr,qr;Cr===2?(Nr=Zr,Dr=so,zr=Ir,Br=()=>ao,qr=1):Cr===4&&(Nr=Kr,Dr=no,zr=eo,Br=()=>io,qr=2),as(Ar,{name:kr,fromWireType:function(Xr){for(var co=io[Xr>>2],ho=Br(),mo,bo=Xr+4,ko=0;ko<=co;++ko){var Do=Xr+4+ko*Cr;if(ko==co||ho[Do>>qr]==0){var Fo=Do-bo,Go=Nr(bo,Fo);mo===void 0?mo=Go:(mo+="\0",mo+=Go),bo=Do+Cr}}return es(Xr),mo},toWireType:function(Xr,co){typeof co!="string"&&wo("Cannot pass non-string to C++ string type "+kr);var ho=zr(co),mo=Cs(4+ho+Cr);return io[mo>>2]=ho>>qr,Dr(co,mo+4,ho+Cr),Xr!==null&&Xr.push(es,mo),mo},argPackAdvance:8,readValueFromPointer:Wo,destructorFunction:function(Xr){es(Xr)}})}function Iu(Ar,Cr,kr,Nr,Dr,Br){Bo[Ar]={name:Vo(Cr),rawConstructor:Zo(kr,Nr),rawDestructor:Zo(Dr,Br),fields:[]}}function Mu(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co){Bo[Ar].fields.push({fieldName:Vo(Cr),getterReturnType:kr,getter:Zo(Nr,Dr),getterContext:Br,setterArgumentType:zr,setter:Zo(qr,Xr),setterContext:co})}function Du(Ar,Cr){Cr=Vo(Cr),as(Ar,{isVoid:!0,name:Cr,argPackAdvance:0,fromWireType:function(){},toWireType:function(kr,Nr){}})}function Fu(){return Date.now()}function Hu(Ar,Cr){var kr=new Date(Yr[Ar>>2]*1e3);Yr[Cr>>2]=kr.getSeconds(),Yr[Cr+4>>2]=kr.getMinutes(),Yr[Cr+8>>2]=kr.getHours(),Yr[Cr+12>>2]=kr.getDate(),Yr[Cr+16>>2]=kr.getMonth(),Yr[Cr+20>>2]=kr.getFullYear()-1900,Yr[Cr+24>>2]=kr.getDay();var Nr=new Date(kr.getFullYear(),0,1),Dr=(kr.getTime()-Nr.getTime())/(1e3*60*60*24)|0;Yr[Cr+28>>2]=Dr,Yr[Cr+36>>2]=-(kr.getTimezoneOffset()*60);var Br=new Date(kr.getFullYear(),6,1).getTimezoneOffset(),zr=Nr.getTimezoneOffset(),qr=(Br!=zr&&kr.getTimezoneOffset()==Math.min(zr,Br))|0;Yr[Cr+32>>2]=qr}function Bu(Ar){var Cr=new Date(Yr[Ar+20>>2]+1900,Yr[Ar+16>>2],Yr[Ar+12>>2],Yr[Ar+8>>2],Yr[Ar+4>>2],Yr[Ar>>2],0),kr=Yr[Ar+32>>2],Nr=Cr.getTimezoneOffset(),Dr=new Date(Cr.getFullYear(),0,1),Br=new Date(Cr.getFullYear(),6,1).getTimezoneOffset(),zr=Dr.getTimezoneOffset(),qr=Math.min(zr,Br);if(kr<0)Yr[Ar+32>>2]=+(Br!=zr&&qr==Nr);else if(kr>0!=(qr==Nr)){var Xr=Math.max(zr,Br),co=kr>0?qr:Xr;Cr.setTime(Cr.getTime()+(co-Nr)*6e4)}Yr[Ar+24>>2]=Cr.getDay();var ho=(Cr.getTime()-Dr.getTime())/(1e3*60*60*24)|0;return Yr[Ar+28>>2]=ho,Yr[Ar>>2]=Cr.getSeconds(),Yr[Ar+4>>2]=Cr.getMinutes(),Yr[Ar+8>>2]=Cr.getHours(),Yr[Ar+12>>2]=Cr.getDate(),Yr[Ar+16>>2]=Cr.getMonth(),Cr.getTime()/1e3|0}function Uu(Ar,Cr,kr){var Nr=new Date().getFullYear(),Dr=new Date(Nr,0,1),Br=new Date(Nr,6,1),zr=Dr.getTimezoneOffset(),qr=Br.getTimezoneOffset(),Xr=Math.max(zr,qr);Yr[Ar>>2]=Xr*60,Yr[Cr>>2]=+(zr!=qr);function co(Do){var Fo=Do.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Fo?Fo[1]:"GMT"}var ho=co(Dr),mo=co(Br),bo=Wr(ho),ko=Wr(mo);qr<zr?(io[kr>>2]=bo,io[kr+4>>2]=ko):(io[kr>>2]=ko,io[kr+4>>2]=bo)}function Js(Ar,Cr,kr){Js.called||(Js.called=!0,Uu(Ar,Cr,kr))}function Vu(){ps("")}function qu(Ar,Cr,kr){Qr.copyWithin(Ar,Cr,Cr+kr)}function Wu(){return 2147483648}function zu(Ar){try{return _r.grow(Ar-ro.byteLength+65535>>>16),fo(_r.buffer),1}catch{}}function Ku(Ar){var Cr=Qr.length;Ar=Ar>>>0;var kr=Wu();if(Ar>kr)return!1;let Nr=(Xr,co)=>Xr+(co-Xr%co)%co;for(var Dr=1;Dr<=4;Dr*=2){var Br=Cr*(1+.2/Dr);Br=Math.min(Br,Ar+100663296);var zr=Math.min(kr,Nr(Math.max(Ar,Br),65536)),qr=zu(zr);if(qr)return!0}return!1}var na={};function Gu(){return dr||"./this.program"}function Ss(){if(!Ss.strings){var Ar=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",Cr={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:Ar,_:Gu()};for(var kr in na)na[kr]===void 0?delete Cr[kr]:Cr[kr]=na[kr];var Nr=[];for(var kr in Cr)Nr.push(kr+"="+Cr[kr]);Ss.strings=Nr}return Ss.strings}function Qu(Ar,Cr){var kr=0;return Ss().forEach(function(Nr,Dr){var Br=Cr+kr;io[Ar+Dr*4>>2]=Br,Ur(Nr,Br),kr+=Nr.length+1}),0}function Yu(Ar,Cr){var kr=Ss();io[Ar>>2]=kr.length;var Nr=0;return kr.forEach(function(Dr){Nr+=Dr.length+1}),io[Cr>>2]=Nr,0}function Xu(){return wr()}function Zu(Ar,Cr){return cr.extractor.close((Ar>>>0)+Cr*4294967296)}function Ju(Ar){const Cr=cr.extractor.create(Kr(Ar));return cr.setTempRet0(Cr/4294967296|0),Cr%4294967296}function _f(Ar){const Cr=cr.extractor.open(Kr(Ar));return cr.setTempRet0(Cr/4294967296|0),Cr%4294967296}function _d(Ar,Cr,kr,Nr){return cr.extractor.read((Ar>>>0)+Cr*4294967296,kr,Nr)}function ep(Ar,Cr,kr,Nr,Dr){return cr.extractor.seek((Ar>>>0)+Cr*4294967296,(kr>>>0)+Nr*4294967296,Tr(Dr))}function tp(Ar,Cr){const kr=cr.extractor.tell((Ar>>>0)+Cr*4294967296);return cr.setTempRet0(kr/4294967296|0),kr%4294967296}function np(Ar,Cr,kr,Nr){return cr.extractor.write((Ar>>>0)+Cr*4294967296,kr,Nr)}function rp(Ar){return Ar}function op(Ar){Er(Ar)}$a=cr.InternalError=Vs(Error,"InternalError"),Ul(),vs=cr.BindingError=Vs(Error,"BindingError"),su(),Xl(),hu(),yl=cr.UnboundTypeError=Vs(Error,"UnboundTypeError"),Au();var sp={p:ks,r:js,t:vo,c:So,d:_o,l:Co,ea:po,o:To,e:Eo,V:Ho,U:Io,fa:Hl,F:Bl,ca:Vl,ia:bu,ha:yu,w:_u,ba:Ru,z:Pu,q:Ou,j:ju,y:Lu,u:Nu,v:Iu,ga:Mu,da:Du,Y:Fu,Z:Hu,_:Bu,$:Js,x:Vu,aa:qu,T:Ku,W:Qu,X:Yu,a:Xu,b:ip,h:cp,g:dp,n:fp,E:pp,D:hp,O:_p,Q:yp,A:$p,m:ap,f:lp,i:up,C:mp,ja:vp,B:gp,k:xp,P:Ep,R:bp,M:wp,N:Zu,K:Ju,L:_f,I:_d,H:ep,G:tp,J:np,s:rp,S:op};os(),cr.___wasm_call_ctors=function(){return(cr.___wasm_call_ctors=cr.asm.la).apply(null,arguments)};var es=cr._free=function(){return(es=cr._free=cr.asm.ma).apply(null,arguments)},Cs=cr._malloc=function(){return(Cs=cr._malloc=cr.asm.na).apply(null,arguments)},Sl=cr.___getTypeName=function(){return(Sl=cr.___getTypeName=cr.asm.pa).apply(null,arguments)};cr.___embind_register_native_and_builtin_types=function(){return(cr.___embind_register_native_and_builtin_types=cr.asm.qa).apply(null,arguments)};var Po=cr._setThrew=function(){return(Po=cr._setThrew=cr.asm.ra).apply(null,arguments)},Oo=cr.stackSave=function(){return(Oo=cr.stackSave=cr.asm.sa).apply(null,arguments)},jo=cr.stackRestore=function(){return(jo=cr.stackRestore=cr.asm.ta).apply(null,arguments)},Ms=cr.___cxa_can_catch=function(){return(Ms=cr.___cxa_can_catch=cr.asm.ua).apply(null,arguments)},Cl=cr.___cxa_is_pointer_type=function(){return(Cl=cr.___cxa_is_pointer_type=cr.asm.va).apply(null,arguments)},Al=cr.dynCall_viji=function(){return(Al=cr.dynCall_viji=cr.asm.wa).apply(null,arguments)},Rl=cr.dynCall_ji=function(){return(Rl=cr.dynCall_ji=cr.asm.xa).apply(null,arguments)},Tl=cr.dynCall_vij=function(){return(Tl=cr.dynCall_vij=cr.asm.ya).apply(null,arguments)},Pl=cr.dynCall_iiiiiijii=function(){return(Pl=cr.dynCall_iiiiiijii=cr.asm.za).apply(null,arguments)},Ol=cr.dynCall_vj=function(){return(Ol=cr.dynCall_vj=cr.asm.Aa).apply(null,arguments)};function ap(Ar,Cr){var kr=Oo();try{Ro(Ar)(Cr)}catch(Nr){if(jo(kr),Nr!==Nr+0)throw Nr;Po(1,0)}}function ip(Ar,Cr){var kr=Oo();try{return Ro(Ar)(Cr)}catch(Nr){if(jo(kr),Nr!==Nr+0)throw Nr;Po(1,0)}}function cp(Ar,Cr,kr){var Nr=Oo();try{return Ro(Ar)(Cr,kr)}catch(Dr){if(jo(Nr),Dr!==Dr+0)throw Dr;Po(1,0)}}function lp(Ar,Cr,kr){var Nr=Oo();try{Ro(Ar)(Cr,kr)}catch(Dr){if(jo(Nr),Dr!==Dr+0)throw Dr;Po(1,0)}}function up(Ar,Cr,kr,Nr){var Dr=Oo();try{Ro(Ar)(Cr,kr,Nr)}catch(Br){if(jo(Dr),Br!==Br+0)throw Br;Po(1,0)}}function fp(Ar,Cr,kr,Nr,Dr){var Br=Oo();try{return Ro(Ar)(Cr,kr,Nr,Dr)}catch(zr){if(jo(Br),zr!==zr+0)throw zr;Po(1,0)}}function dp(Ar,Cr,kr,Nr){var Dr=Oo();try{return Ro(Ar)(Cr,kr,Nr)}catch(Br){if(jo(Dr),Br!==Br+0)throw Br;Po(1,0)}}function pp(Ar,Cr,kr,Nr,Dr,Br,zr){var qr=Oo();try{return Ro(Ar)(Cr,kr,Nr,Dr,Br,zr)}catch(Xr){if(jo(qr),Xr!==Xr+0)throw Xr;Po(1,0)}}function hp(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co){var ho=Oo();try{return Ro(Ar)(Cr,kr,Nr,Dr,Br,zr,qr,Xr,co)}catch(mo){if(jo(ho),mo!==mo+0)throw mo;Po(1,0)}}function mp(Ar,Cr,kr,Nr,Dr){var Br=Oo();try{Ro(Ar)(Cr,kr,Nr,Dr)}catch(zr){if(jo(Br),zr!==zr+0)throw zr;Po(1,0)}}function gp(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co){var ho=Oo();try{Ro(Ar)(Cr,kr,Nr,Dr,Br,zr,qr,Xr,co)}catch(mo){if(jo(ho),mo!==mo+0)throw mo;Po(1,0)}}function $p(Ar){var Cr=Oo();try{Ro(Ar)()}catch(kr){if(jo(Cr),kr!==kr+0)throw kr;Po(1,0)}}function vp(Ar,Cr,kr,Nr,Dr,Br){var zr=Oo();try{Ro(Ar)(Cr,kr,Nr,Dr,Br)}catch(qr){if(jo(zr),qr!==qr+0)throw qr;Po(1,0)}}function xp(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co,ho){var mo=Oo();try{Ro(Ar)(Cr,kr,Nr,Dr,Br,zr,qr,Xr,co,ho)}catch(bo){if(jo(mo),bo!==bo+0)throw bo;Po(1,0)}}function bp(Ar,Cr,kr,Nr,Dr){var Br=Oo();try{Al(Ar,Cr,kr,Nr,Dr)}catch(zr){if(jo(Br),zr!==zr+0)throw zr;Po(1,0)}}function yp(Ar,Cr){var kr=Oo();try{return Rl(Ar,Cr)}catch(Nr){if(jo(kr),Nr!==Nr+0)throw Nr;Po(1,0)}}function Ep(Ar,Cr,kr,Nr){var Dr=Oo();try{Tl(Ar,Cr,kr,Nr)}catch(Br){if(jo(Dr),Br!==Br+0)throw Br;Po(1,0)}}function _p(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co){var ho=Oo();try{return Pl(Ar,Cr,kr,Nr,Dr,Br,zr,qr,Xr,co)}catch(mo){if(jo(ho),mo!==mo+0)throw mo;Po(1,0)}}function wp(Ar,Cr,kr){var Nr=Oo();try{Ol(Ar,Cr,kr)}catch(Dr){if(jo(Nr),Dr!==Dr+0)throw Dr;Po(1,0)}}cr.setTempRet0=Er;var Ds;qo=function Ar(){Ds||ga(),Ds||(qo=Ar)};function ga(Ar){if(Ko>0||(Mo(),Ko>0))return;function Cr(){Ds||(Ds=!0,cr.calledRun=!0,!Sr&&(Lo(),lr(cr),cr.onRuntimeInitialized&&cr.onRuntimeInitialized(),zo()))}cr.setStatus?(cr.setStatus("Running..."),setTimeout(function(){setTimeout(function(){cr.setStatus("")},1),Cr()},1)):Cr()}if(cr.run=ga,cr.preInit)for(typeof cr.preInit=="function"&&(cr.preInit=[cr.preInit]);cr.preInit.length>0;)cr.preInit.pop()();return ga(),cr.ready}})();let unrar;async function getUnrar(or){return unrar||(unrar=await Module(or)),unrar}async function createExtractorFromData({wasmBinary:or,data:ar,password:cr=""}){const lr=await getUnrar(or&&{wasmBinary:or}),ur=new ExtractorData(lr,ar,cr);return lr.extractor=ur,ur}const unrarWasm="https://qspfoundation.github.io/qspider/assets/unrar-3u1WLD7X.wasm",isSupportedArchive=or=>isZip(or)||isRar(or),isZip=or=>{const ar=new Uint8Array(or);return ar[0]===80&&ar[1]===75&&(ar[2]===3||ar[2]===5||ar[2]===7)&&(ar[3]===4||ar[3]===6||ar[3]===8)},isRar=or=>{const ar=new Uint8Array(or);return ar[0]===82&&ar[1]===97&&ar[2]===114&&ar[3]===33},readSupportedArchive=or=>{if(isZip(or))return readZip(or);if(isRar(or))return readRar(or);throw new Error("Unsupported archive format")},readZip=or=>new Promise((ar,cr)=>{unzip(new Uint8Array(or),(lr,ur)=>{if(lr){cr(lr);return}ar(ur)})});let wasmBinary;const getWasmBinary=async()=>wasmBinary||(wasmBinary=await fetch(unrarWasm).then(or=>or.arrayBuffer()),wasmBinary),readRar=async or=>{const ar=await getWasmBinary(),lr=(await createExtractorFromData({data:or,wasmBinary:ar})).extract(),ur={};for(const fr of lr.files){if(fr.fileHeader.flags.directory)continue;const dr=fr.extraction;dr&&(ur[fr.fileHeader.name]=dr)}return ur};function extractFileTree(or){const ar={type:"dir",name:".",content:[]};for(const[cr,lr]of Object.entries(or)){const ur=cr.split("/"),fr=ur.pop();let dr=ar;for(const pr of ur){const mr=dr.content.find(gr=>gr.type==="dir"&&gr.name===pr);if(mr)dr=mr;else{const gr={type:"dir",name:pr,content:[]};dr.content.push(gr),dr=gr}}fr&&dr.content.push({type:"file",name:fr,filename:cr,data:lr})}return ar}function convertQsps(or){const ar=new Uint8Array(or.slice(0,2)),cr=ar[0]===255&&ar[1]===254?"utf-16le":"utf-8",ur=new TextDecoder(cr).decode(or);return o$1(s$1(ur))}function cleanPath(or){return or.replace(/\\/g,"/")}function prepareContent(or){return or.replace(/&gt /gi,"& gt ").replace(/\\"/g,"&quot;")}function prepareList(or){return or.map(ar=>({name:prepareContent(ar.name),image:cleanPath(ar.image)}))}const clamp$2=function(or,ar,cr){return Math.min(Math.max(or,ar),cr)};async function getBinaryContent(or){const ar=preparePath(or);return fetchProxyFallback(ar).then(cr=>{if(!cr.ok)throw new Error("File not found");return cr.arrayBuffer()})}async function getTextContent(or){const ar=preparePath(or);return fetchProxyFallback(ar).then(cr=>{if(!cr.ok)throw new Error("File not found");return cr.text()})}function preparePath(or){return`${baseUrl$.value}${cleanPath(or)}`}async function loadAdditionalResources(or){if(!or)return;const{styles:ar,scripts:cr,fonts:lr}=or,ur=[];ar&&ur.push(loadAdditionalStyles(ar)),cr&&ur.push(loadAdditionalScripts(cr)),lr&&loadAdditionalFonts(lr),await Promise.allSettled([...ur,document.fonts.ready])}async function loadAdditionalStyles(or){const ar=[];for(const cr of or){const lr=document.createElement("link");lr.href=cr,lr.rel="stylesheet",lr.dataset.qspiderResource="style",document.head.appendChild(lr)}await Promise.allSettled(ar)}async function loadAdditionalScripts(or){const ar=[];for(const cr of or){const lr=document.createElement("script");lr.type="text/javascript",lr.src=cr,lr.dataset.qspiderResource="script";const ur=defer$1();lr.onload=()=>ur.resolve(),lr.onerror=()=>ur.reject(new Error(`File not found: ${cr}`)),ar.push(ur.promise),document.head.appendChild(lr)}await Promise.allSettled(ar)}function loadAdditionalFonts(or){const ar=[];for(const[lr,ur,fr,dr]of or)ar.push(`
    @font-face {
      font-family: "${lr}";
      src: url("${ur}");
      font-display: block;
      font-style: ${dr||"normal"};
      font-weight: ${fr||"normal"};
    }
  `);const cr=document.createElement("style");cr.innerText=ar.join(`
`),cr.dataset.qspiderResource="style",document.head.appendChild(cr)}function clearAdditionalResources(){document.querySelectorAll("[data-qspider-resource]").forEach(or=>or.remove())}const BOOLEAN_ATTRIBUTES=new Set(["autofocus","autoplay","checked","controls","default","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","novalidate","open","readonly","required","reversed","selected"]),valueProcessors={href(or){return or.startsWith("javascript:")?"#":or}};function extractAttributes(or){const ar={};return Array.from(or.attributes).forEach(cr=>{const{name:lr,value:ur}=cr;lr!=="is"&&(lr==="style"?ar.style=processStyles(ur):BOOLEAN_ATTRIBUTES.has(lr)?ar[lr]=!0:ar[lr]=lr in valueProcessors?valueProcessors[lr](ur):ur)}),ar}function processStyles(or){const ar=or.split(";"),cr={};for(const lr of ar){const[ur,fr]=lr.trim().split(":"),dr=ur.replace(/^-ms-/,"ms-").replace(/-./g,mr=>mr.substring(1).toUpperCase());let pr=fr;dr==="backgroundImage"&&!fr.includes("url(")?pr=`url("${fr}")`:/^[+-]?\d+(\.\d+)?$/.test(fr)&&(pr=parseFloat(fr)),cr[dr]=pr}return cr}const CLASSIC_THEME="qspider:classic",AERO_THEME="qspider:aero",DEFAULT_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;">%TEXT%</td></tr></table>',DEFAULT_SELECTED_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;color:#0000FF;">%TEXT%</td></tr></table>',TEXT_PLACEHOLDER="%TEXT%",IMAGE_PLACEHOLDER="%IMAGE%",themeRegistry$=create({},or=>({add(ar,cr){or.update(lr=>({...lr,[ar]:cr}))},reset(){or.update(ar=>Object.entries(ar).reduce((cr,[lr,ur])=>(ur.is_user_defined||(cr[lr]=ur),cr),{}))}})),currentTheme$=create(CLASSIC_THEME),currentThemeData$=create(or=>or(themeRegistry$)[or(currentTheme$)]),defaultClassicTheme$=create(or=>or(themeRegistry$)["qspider:classic"]),currentCssVariables$=create(or=>or(currentThemeData$).css_variables),currentCssLinks$=create(or=>or(currentThemeData$).css_links),currentScriptLinks$=create(or=>or(currentThemeData$).script_links),currentTranslations$=create(or=>or(currentThemeData$).translations);function useFormatVariable(or,ar){return useQspVariable(or,"",0,ar??"")}async function registerThemes(or){for(const ar of or){const cr=await getTextContent(ar),lr=parseTheme(cr);for(const[ur,fr]of Object.entries(lr))themeRegistry$.actions.add(ur,fr)}}const defaultThemes=["themes/classic.html","themes/aero.html"];async function registerDefaultThemes(or){for(const ar of defaultThemes){const cr=await getTextContent(or+ar),lr=parseTheme(cr,!1);for(const[ur,fr]of Object.entries(lr))themeRegistry$.actions.add(ur,fr)}}const parser=new DOMParser;function parseTheme(or,ar=!0){const cr={},ur=parser.parseFromString(or,"text/html").querySelectorAll("qspider-theme");for(const fr of ur){const dr=fr.getAttribute("name");if(!dr){console.error("Malformed theme definition - missing theme name in qspider-theme tag");continue}cr[dr]={is_user_defined:ar,css_variables:extractCssVariables(fr),translations:extractTranslations(fr),css_links:extractLinks(fr,"css-link"),script_links:extractLinks(fr,"script-link"),qsp_player:extractTagData(fr,"qsp-player")}}return cr}function extractTagData(or,ar){const cr=or.querySelector(ar);if(cr)return{attrs:extractAttributes(cr),template:cr.innerHTML.replace(/[ \t]*\r?\n[ \t]*/gm,"")}}function extractCssVariables(or){const ar=[];for(const cr of or.querySelectorAll("definitions qsp-css-variable")){const lr=cr.getAttribute("name"),ur=cr.getAttribute("from");!lr||!ur||ar.push({name:lr,from:ur,defaultValue:cr.getAttribute("default-value")||"",type:cr.getAttribute("type"),unit:cr.getAttribute("unit"),withSize:cr.hasAttribute("with-size"),withContrast:cr.hasAttribute("with-contrast"),withInverted:cr.hasAttribute("with-inverted")})}return ar}function extractTranslations(or){const ar=[];for(const cr of or.querySelectorAll("definitions qsp-translation")){const lr=cr.getAttribute("lang")||"",ur=cr.getAttribute("tkey")||"",fr=cr.getAttribute("value")||"";ar.push({lang:lr,tkey:ur,value:fr})}return ar}function extractLinks(or,ar){const cr=[];for(const lr of or.querySelectorAll(ar)){const ur=lr.getAttribute("src");ur&&cr.push(ur)}return cr}const counterDelay$=create(500),isPaused$=create(!1),counterTimeout$=create();async function withCounterPaused(or){const ar=isPaused$.value;try{isPaused$.set(!0),await or()}finally{isPaused$.set(ar)}}function scheduleCounter(){counterTimeout$.set(setTimeout(()=>{var or;(or=qspApi$.value)==null||or.execCounter(),scheduleCounter()},counterDelay$.value))}isPaused$.watch(or=>{or?clearTimeout(counterTimeout$.value):scheduleCounter()});counterDelay$.subscribe(()=>{clearTimeout(counterTimeout$.value),isPaused$.value||scheduleCounter()});var howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(or){(function(){var ar=function(){this.init()};ar.prototype={init:function(){var hr=this||cr;return hr._counter=1e3,hr._html5AudioPool=[],hr.html5PoolSize=10,hr._codecs={},hr._howls=[],hr._muted=!1,hr._volume=1,hr._canPlayEvent="canplaythrough",hr._navigator=typeof window<"u"&&window.navigator?window.navigator:null,hr.masterGain=null,hr.noAudio=!1,hr.usingWebAudio=!0,hr.autoSuspend=!0,hr.ctx=null,hr.autoUnlock=!0,hr._setup(),hr},volume:function(hr){var $r=this||cr;if(hr=parseFloat(hr),$r.ctx||vr(),typeof hr<"u"&&hr>=0&&hr<=1){if($r._volume=hr,$r._muted)return $r;$r.usingWebAudio&&$r.masterGain.gain.setValueAtTime(hr,cr.ctx.currentTime);for(var xr=0;xr<$r._howls.length;xr++)if(!$r._howls[xr]._webAudio)for(var br=$r._howls[xr]._getSoundIds(),Er=0;Er<br.length;Er++){var wr=$r._howls[xr]._soundById(br[Er]);wr&&wr._node&&(wr._node.volume=wr._volume*hr)}return $r}return $r._volume},mute:function(hr){var $r=this||cr;$r.ctx||vr(),$r._muted=hr,$r.usingWebAudio&&$r.masterGain.gain.setValueAtTime(hr?0:$r._volume,cr.ctx.currentTime);for(var xr=0;xr<$r._howls.length;xr++)if(!$r._howls[xr]._webAudio)for(var br=$r._howls[xr]._getSoundIds(),Er=0;Er<br.length;Er++){var wr=$r._howls[xr]._soundById(br[Er]);wr&&wr._node&&(wr._node.muted=hr?!0:wr._muted)}return $r},stop:function(){for(var hr=this||cr,$r=0;$r<hr._howls.length;$r++)hr._howls[$r].stop();return hr},unload:function(){for(var hr=this||cr,$r=hr._howls.length-1;$r>=0;$r--)hr._howls[$r].unload();return hr.usingWebAudio&&hr.ctx&&typeof hr.ctx.close<"u"&&(hr.ctx.close(),hr.ctx=null,vr()),hr},codecs:function(hr){return(this||cr)._codecs[hr.replace(/^x-/,"")]},_setup:function(){var hr=this||cr;if(hr.state=hr.ctx&&hr.ctx.state||"suspended",hr._autoSuspend(),!hr.usingWebAudio)if(typeof Audio<"u")try{var $r=new Audio;typeof $r.oncanplaythrough>"u"&&(hr._canPlayEvent="canplay")}catch{hr.noAudio=!0}else hr.noAudio=!0;try{var $r=new Audio;$r.muted&&(hr.noAudio=!0)}catch{}return hr.noAudio||hr._setupCodecs(),hr},_setupCodecs:function(){var hr=this||cr,$r=null;try{$r=typeof Audio<"u"?new Audio:null}catch{return hr}if(!$r||typeof $r.canPlayType!="function")return hr;var xr=$r.canPlayType("audio/mpeg;").replace(/^no$/,""),br=hr._navigator?hr._navigator.userAgent:"",Er=br.match(/OPR\/(\d+)/g),wr=Er&&parseInt(Er[0].split("/")[1],10)<33,yr=br.indexOf("Safari")!==-1&&br.indexOf("Chrome")===-1,_r=br.match(/Version\/(.*?) /),Sr=yr&&_r&&parseInt(_r[1],10)<15;return hr._codecs={mp3:!!(!wr&&(xr||$r.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!xr,opus:!!$r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!$r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!$r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!($r.canPlayType('audio/wav; codecs="1"')||$r.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!$r.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!$r.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!($r.canPlayType("audio/x-m4a;")||$r.canPlayType("audio/m4a;")||$r.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!($r.canPlayType("audio/x-m4b;")||$r.canPlayType("audio/m4b;")||$r.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!($r.canPlayType("audio/x-mp4;")||$r.canPlayType("audio/mp4;")||$r.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!Sr&&$r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!Sr&&$r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!$r.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!($r.canPlayType("audio/x-flac;")||$r.canPlayType("audio/flac;")).replace(/^no$/,"")},hr},_unlockAudio:function(){var hr=this||cr;if(!(hr._audioUnlocked||!hr.ctx)){hr._audioUnlocked=!1,hr.autoUnlock=!1,!hr._mobileUnloaded&&hr.ctx.sampleRate!==44100&&(hr._mobileUnloaded=!0,hr.unload()),hr._scratchBuffer=hr.ctx.createBuffer(1,1,22050);var $r=function(xr){for(;hr._html5AudioPool.length<hr.html5PoolSize;)try{var br=new Audio;br._unlocked=!0,hr._releaseHtml5Audio(br)}catch{hr.noAudio=!0;break}for(var Er=0;Er<hr._howls.length;Er++)if(!hr._howls[Er]._webAudio)for(var wr=hr._howls[Er]._getSoundIds(),yr=0;yr<wr.length;yr++){var _r=hr._howls[Er]._soundById(wr[yr]);_r&&_r._node&&!_r._node._unlocked&&(_r._node._unlocked=!0,_r._node.load())}hr._autoResume();var Sr=hr.ctx.createBufferSource();Sr.buffer=hr._scratchBuffer,Sr.connect(hr.ctx.destination),typeof Sr.start>"u"?Sr.noteOn(0):Sr.start(0),typeof hr.ctx.resume=="function"&&hr.ctx.resume(),Sr.onended=function(){Sr.disconnect(0),hr._audioUnlocked=!0,document.removeEventListener("touchstart",$r,!0),document.removeEventListener("touchend",$r,!0),document.removeEventListener("click",$r,!0),document.removeEventListener("keydown",$r,!0);for(var Pr=0;Pr<hr._howls.length;Pr++)hr._howls[Pr]._emit("unlock")}};return document.addEventListener("touchstart",$r,!0),document.addEventListener("touchend",$r,!0),document.addEventListener("click",$r,!0),document.addEventListener("keydown",$r,!0),hr}},_obtainHtml5Audio:function(){var hr=this||cr;if(hr._html5AudioPool.length)return hr._html5AudioPool.pop();var $r=new Audio().play();return $r&&typeof Promise<"u"&&($r instanceof Promise||typeof $r.then=="function")&&$r.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(hr){var $r=this||cr;return hr._unlocked&&$r._html5AudioPool.push(hr),$r},_autoSuspend:function(){var hr=this;if(!(!hr.autoSuspend||!hr.ctx||typeof hr.ctx.suspend>"u"||!cr.usingWebAudio)){for(var $r=0;$r<hr._howls.length;$r++)if(hr._howls[$r]._webAudio){for(var xr=0;xr<hr._howls[$r]._sounds.length;xr++)if(!hr._howls[$r]._sounds[xr]._paused)return hr}return hr._suspendTimer&&clearTimeout(hr._suspendTimer),hr._suspendTimer=setTimeout(function(){if(hr.autoSuspend){hr._suspendTimer=null,hr.state="suspending";var br=function(){hr.state="suspended",hr._resumeAfterSuspend&&(delete hr._resumeAfterSuspend,hr._autoResume())};hr.ctx.suspend().then(br,br)}},3e4),hr}},_autoResume:function(){var hr=this;if(!(!hr.ctx||typeof hr.ctx.resume>"u"||!cr.usingWebAudio))return hr.state==="running"&&hr.ctx.state!=="interrupted"&&hr._suspendTimer?(clearTimeout(hr._suspendTimer),hr._suspendTimer=null):hr.state==="suspended"||hr.state==="running"&&hr.ctx.state==="interrupted"?(hr.ctx.resume().then(function(){hr.state="running";for(var $r=0;$r<hr._howls.length;$r++)hr._howls[$r]._emit("resume")}),hr._suspendTimer&&(clearTimeout(hr._suspendTimer),hr._suspendTimer=null)):hr.state==="suspending"&&(hr._resumeAfterSuspend=!0),hr}};var cr=new ar,lr=function(hr){var $r=this;if(!hr.src||hr.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}$r.init(hr)};lr.prototype={init:function(hr){var $r=this;return cr.ctx||vr(),$r._autoplay=hr.autoplay||!1,$r._format=typeof hr.format!="string"?hr.format:[hr.format],$r._html5=hr.html5||!1,$r._muted=hr.mute||!1,$r._loop=hr.loop||!1,$r._pool=hr.pool||5,$r._preload=typeof hr.preload=="boolean"||hr.preload==="metadata"?hr.preload:!0,$r._rate=hr.rate||1,$r._sprite=hr.sprite||{},$r._src=typeof hr.src!="string"?hr.src:[hr.src],$r._volume=hr.volume!==void 0?hr.volume:1,$r._xhr={method:hr.xhr&&hr.xhr.method?hr.xhr.method:"GET",headers:hr.xhr&&hr.xhr.headers?hr.xhr.headers:null,withCredentials:hr.xhr&&hr.xhr.withCredentials?hr.xhr.withCredentials:!1},$r._duration=0,$r._state="unloaded",$r._sounds=[],$r._endTimers={},$r._queue=[],$r._playLock=!1,$r._onend=hr.onend?[{fn:hr.onend}]:[],$r._onfade=hr.onfade?[{fn:hr.onfade}]:[],$r._onload=hr.onload?[{fn:hr.onload}]:[],$r._onloaderror=hr.onloaderror?[{fn:hr.onloaderror}]:[],$r._onplayerror=hr.onplayerror?[{fn:hr.onplayerror}]:[],$r._onpause=hr.onpause?[{fn:hr.onpause}]:[],$r._onplay=hr.onplay?[{fn:hr.onplay}]:[],$r._onstop=hr.onstop?[{fn:hr.onstop}]:[],$r._onmute=hr.onmute?[{fn:hr.onmute}]:[],$r._onvolume=hr.onvolume?[{fn:hr.onvolume}]:[],$r._onrate=hr.onrate?[{fn:hr.onrate}]:[],$r._onseek=hr.onseek?[{fn:hr.onseek}]:[],$r._onunlock=hr.onunlock?[{fn:hr.onunlock}]:[],$r._onresume=[],$r._webAudio=cr.usingWebAudio&&!$r._html5,typeof cr.ctx<"u"&&cr.ctx&&cr.autoUnlock&&cr._unlockAudio(),cr._howls.push($r),$r._autoplay&&$r._queue.push({event:"play",action:function(){$r.play()}}),$r._preload&&$r._preload!=="none"&&$r.load(),$r},load:function(){var hr=this,$r=null;if(cr.noAudio){hr._emit("loaderror",null,"No audio support.");return}typeof hr._src=="string"&&(hr._src=[hr._src]);for(var xr=0;xr<hr._src.length;xr++){var br,Er;if(hr._format&&hr._format[xr])br=hr._format[xr];else{if(Er=hr._src[xr],typeof Er!="string"){hr._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}br=/^data:audio\/([^;,]+);/i.exec(Er),br||(br=/\.([^.]+)$/.exec(Er.split("?",1)[0])),br&&(br=br[1].toLowerCase())}if(br||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),br&&cr.codecs(br)){$r=hr._src[xr];break}}if(!$r){hr._emit("loaderror",null,"No codec support for selected audio sources.");return}return hr._src=$r,hr._state="loading",window.location.protocol==="https:"&&$r.slice(0,5)==="http:"&&(hr._html5=!0,hr._webAudio=!1),new ur(hr),hr._webAudio&&dr(hr),hr},play:function(hr,$r){var xr=this,br=null;if(typeof hr=="number")br=hr,hr=null;else{if(typeof hr=="string"&&xr._state==="loaded"&&!xr._sprite[hr])return null;if(typeof hr>"u"&&(hr="__default",!xr._playLock)){for(var Er=0,wr=0;wr<xr._sounds.length;wr++)xr._sounds[wr]._paused&&!xr._sounds[wr]._ended&&(Er++,br=xr._sounds[wr]._id);Er===1?hr=null:br=null}}var yr=br?xr._soundById(br):xr._inactiveSound();if(!yr)return null;if(br&&!hr&&(hr=yr._sprite||"__default"),xr._state!=="loaded"){yr._sprite=hr,yr._ended=!1;var _r=yr._id;return xr._queue.push({event:"play",action:function(){xr.play(_r)}}),_r}if(br&&!yr._paused)return $r||xr._loadQueue("play"),yr._id;xr._webAudio&&cr._autoResume();var Sr=Math.max(0,yr._seek>0?yr._seek:xr._sprite[hr][0]/1e3),Pr=Math.max(0,(xr._sprite[hr][0]+xr._sprite[hr][1])/1e3-Sr),Or=Pr*1e3/Math.abs(yr._rate),Lr=xr._sprite[hr][0]/1e3,Tr=(xr._sprite[hr][0]+xr._sprite[hr][1])/1e3;yr._sprite=hr,yr._ended=!1;var jr=function(){yr._paused=!1,yr._seek=Sr,yr._start=Lr,yr._stop=Tr,yr._loop=!!(yr._loop||xr._sprite[hr][2])};if(Sr>=Tr){xr._ended(yr);return}var Rr=yr._node;if(xr._webAudio){var Fr=function(){xr._playLock=!1,jr(),xr._refreshBuffer(yr);var Ir=yr._muted||xr._muted?0:yr._volume;Rr.gain.setValueAtTime(Ir,cr.ctx.currentTime),yr._playStart=cr.ctx.currentTime,typeof Rr.bufferSource.start>"u"?yr._loop?Rr.bufferSource.noteGrainOn(0,Sr,86400):Rr.bufferSource.noteGrainOn(0,Sr,Pr):yr._loop?Rr.bufferSource.start(0,Sr,86400):Rr.bufferSource.start(0,Sr,Pr),Or!==1/0&&(xr._endTimers[yr._id]=setTimeout(xr._ended.bind(xr,yr),Or)),$r||setTimeout(function(){xr._emit("play",yr._id),xr._loadQueue()},0)};cr.state==="running"&&cr.ctx.state!=="interrupted"?Fr():(xr._playLock=!0,xr.once("resume",Fr),xr._clearTimer(yr._id))}else{var Vr=function(){Rr.currentTime=Sr,Rr.muted=yr._muted||xr._muted||cr._muted||Rr.muted,Rr.volume=yr._volume*cr.volume(),Rr.playbackRate=yr._rate;try{var Ir=Rr.play();if(Ir&&typeof Promise<"u"&&(Ir instanceof Promise||typeof Ir.then=="function")?(xr._playLock=!0,jr(),Ir.then(function(){xr._playLock=!1,Rr._unlocked=!0,$r?xr._loadQueue():xr._emit("play",yr._id)}).catch(function(){xr._playLock=!1,xr._emit("playerror",yr._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),yr._ended=!0,yr._paused=!0})):$r||(xr._playLock=!1,jr(),xr._emit("play",yr._id)),Rr.playbackRate=yr._rate,Rr.paused){xr._emit("playerror",yr._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}hr!=="__default"||yr._loop?xr._endTimers[yr._id]=setTimeout(xr._ended.bind(xr,yr),Or):(xr._endTimers[yr._id]=function(){xr._ended(yr),Rr.removeEventListener("ended",xr._endTimers[yr._id],!1)},Rr.addEventListener("ended",xr._endTimers[yr._id],!1))}catch(Kr){xr._emit("playerror",yr._id,Kr)}};Rr.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Rr.src=xr._src,Rr.load());var Zr=window&&window.ejecta||!Rr.readyState&&cr._navigator.isCocoonJS;if(Rr.readyState>=3||Zr)Vr();else{xr._playLock=!0,xr._state="loading";var so=function(){xr._state="loaded",Vr(),Rr.removeEventListener(cr._canPlayEvent,so,!1)};Rr.addEventListener(cr._canPlayEvent,so,!1),xr._clearTimer(yr._id)}}return yr._id},pause:function(hr){var $r=this;if($r._state!=="loaded"||$r._playLock)return $r._queue.push({event:"pause",action:function(){$r.pause(hr)}}),$r;for(var xr=$r._getSoundIds(hr),br=0;br<xr.length;br++){$r._clearTimer(xr[br]);var Er=$r._soundById(xr[br]);if(Er&&!Er._paused&&(Er._seek=$r.seek(xr[br]),Er._rateSeek=0,Er._paused=!0,$r._stopFade(xr[br]),Er._node))if($r._webAudio){if(!Er._node.bufferSource)continue;typeof Er._node.bufferSource.stop>"u"?Er._node.bufferSource.noteOff(0):Er._node.bufferSource.stop(0),$r._cleanBuffer(Er._node)}else(!isNaN(Er._node.duration)||Er._node.duration===1/0)&&Er._node.pause();arguments[1]||$r._emit("pause",Er?Er._id:null)}return $r},stop:function(hr,$r){var xr=this;if(xr._state!=="loaded"||xr._playLock)return xr._queue.push({event:"stop",action:function(){xr.stop(hr)}}),xr;for(var br=xr._getSoundIds(hr),Er=0;Er<br.length;Er++){xr._clearTimer(br[Er]);var wr=xr._soundById(br[Er]);wr&&(wr._seek=wr._start||0,wr._rateSeek=0,wr._paused=!0,wr._ended=!0,xr._stopFade(br[Er]),wr._node&&(xr._webAudio?wr._node.bufferSource&&(typeof wr._node.bufferSource.stop>"u"?wr._node.bufferSource.noteOff(0):wr._node.bufferSource.stop(0),xr._cleanBuffer(wr._node)):(!isNaN(wr._node.duration)||wr._node.duration===1/0)&&(wr._node.currentTime=wr._start||0,wr._node.pause(),wr._node.duration===1/0&&xr._clearSound(wr._node))),$r||xr._emit("stop",wr._id))}return xr},mute:function(hr,$r){var xr=this;if(xr._state!=="loaded"||xr._playLock)return xr._queue.push({event:"mute",action:function(){xr.mute(hr,$r)}}),xr;if(typeof $r>"u")if(typeof hr=="boolean")xr._muted=hr;else return xr._muted;for(var br=xr._getSoundIds($r),Er=0;Er<br.length;Er++){var wr=xr._soundById(br[Er]);wr&&(wr._muted=hr,wr._interval&&xr._stopFade(wr._id),xr._webAudio&&wr._node?wr._node.gain.setValueAtTime(hr?0:wr._volume,cr.ctx.currentTime):wr._node&&(wr._node.muted=cr._muted?!0:hr),xr._emit("mute",wr._id))}return xr},volume:function(){var hr=this,$r=arguments,xr,br;if($r.length===0)return hr._volume;if($r.length===1||$r.length===2&&typeof $r[1]>"u"){var Er=hr._getSoundIds(),wr=Er.indexOf($r[0]);wr>=0?br=parseInt($r[0],10):xr=parseFloat($r[0])}else $r.length>=2&&(xr=parseFloat($r[0]),br=parseInt($r[1],10));var yr;if(typeof xr<"u"&&xr>=0&&xr<=1){if(hr._state!=="loaded"||hr._playLock)return hr._queue.push({event:"volume",action:function(){hr.volume.apply(hr,$r)}}),hr;typeof br>"u"&&(hr._volume=xr),br=hr._getSoundIds(br);for(var _r=0;_r<br.length;_r++)yr=hr._soundById(br[_r]),yr&&(yr._volume=xr,$r[2]||hr._stopFade(br[_r]),hr._webAudio&&yr._node&&!yr._muted?yr._node.gain.setValueAtTime(xr,cr.ctx.currentTime):yr._node&&!yr._muted&&(yr._node.volume=xr*cr.volume()),hr._emit("volume",yr._id))}else return yr=br?hr._soundById(br):hr._sounds[0],yr?yr._volume:0;return hr},fade:function(hr,$r,xr,br){var Er=this;if(Er._state!=="loaded"||Er._playLock)return Er._queue.push({event:"fade",action:function(){Er.fade(hr,$r,xr,br)}}),Er;hr=Math.min(Math.max(0,parseFloat(hr)),1),$r=Math.min(Math.max(0,parseFloat($r)),1),xr=parseFloat(xr),Er.volume(hr,br);for(var wr=Er._getSoundIds(br),yr=0;yr<wr.length;yr++){var _r=Er._soundById(wr[yr]);if(_r){if(br||Er._stopFade(wr[yr]),Er._webAudio&&!_r._muted){var Sr=cr.ctx.currentTime,Pr=Sr+xr/1e3;_r._volume=hr,_r._node.gain.setValueAtTime(hr,Sr),_r._node.gain.linearRampToValueAtTime($r,Pr)}Er._startFadeInterval(_r,hr,$r,xr,wr[yr],typeof br>"u")}}return Er},_startFadeInterval:function(hr,$r,xr,br,Er,wr){var yr=this,_r=$r,Sr=xr-$r,Pr=Math.abs(Sr/.01),Or=Math.max(4,Pr>0?br/Pr:br),Lr=Date.now();hr._fadeTo=xr,hr._interval=setInterval(function(){var Tr=(Date.now()-Lr)/br;Lr=Date.now(),_r+=Sr*Tr,_r=Math.round(_r*100)/100,Sr<0?_r=Math.max(xr,_r):_r=Math.min(xr,_r),yr._webAudio?hr._volume=_r:yr.volume(_r,hr._id,!0),wr&&(yr._volume=_r),(xr<$r&&_r<=xr||xr>$r&&_r>=xr)&&(clearInterval(hr._interval),hr._interval=null,hr._fadeTo=null,yr.volume(xr,hr._id),yr._emit("fade",hr._id))},Or)},_stopFade:function(hr){var $r=this,xr=$r._soundById(hr);return xr&&xr._interval&&($r._webAudio&&xr._node.gain.cancelScheduledValues(cr.ctx.currentTime),clearInterval(xr._interval),xr._interval=null,$r.volume(xr._fadeTo,hr),xr._fadeTo=null,$r._emit("fade",hr)),$r},loop:function(){var hr=this,$r=arguments,xr,br,Er;if($r.length===0)return hr._loop;if($r.length===1)if(typeof $r[0]=="boolean")xr=$r[0],hr._loop=xr;else return Er=hr._soundById(parseInt($r[0],10)),Er?Er._loop:!1;else $r.length===2&&(xr=$r[0],br=parseInt($r[1],10));for(var wr=hr._getSoundIds(br),yr=0;yr<wr.length;yr++)Er=hr._soundById(wr[yr]),Er&&(Er._loop=xr,hr._webAudio&&Er._node&&Er._node.bufferSource&&(Er._node.bufferSource.loop=xr,xr&&(Er._node.bufferSource.loopStart=Er._start||0,Er._node.bufferSource.loopEnd=Er._stop,hr.playing(wr[yr])&&(hr.pause(wr[yr],!0),hr.play(wr[yr],!0)))));return hr},rate:function(){var hr=this,$r=arguments,xr,br;if($r.length===0)br=hr._sounds[0]._id;else if($r.length===1){var Er=hr._getSoundIds(),wr=Er.indexOf($r[0]);wr>=0?br=parseInt($r[0],10):xr=parseFloat($r[0])}else $r.length===2&&(xr=parseFloat($r[0]),br=parseInt($r[1],10));var yr;if(typeof xr=="number"){if(hr._state!=="loaded"||hr._playLock)return hr._queue.push({event:"rate",action:function(){hr.rate.apply(hr,$r)}}),hr;typeof br>"u"&&(hr._rate=xr),br=hr._getSoundIds(br);for(var _r=0;_r<br.length;_r++)if(yr=hr._soundById(br[_r]),yr){hr.playing(br[_r])&&(yr._rateSeek=hr.seek(br[_r]),yr._playStart=hr._webAudio?cr.ctx.currentTime:yr._playStart),yr._rate=xr,hr._webAudio&&yr._node&&yr._node.bufferSource?yr._node.bufferSource.playbackRate.setValueAtTime(xr,cr.ctx.currentTime):yr._node&&(yr._node.playbackRate=xr);var Sr=hr.seek(br[_r]),Pr=(hr._sprite[yr._sprite][0]+hr._sprite[yr._sprite][1])/1e3-Sr,Or=Pr*1e3/Math.abs(yr._rate);(hr._endTimers[br[_r]]||!yr._paused)&&(hr._clearTimer(br[_r]),hr._endTimers[br[_r]]=setTimeout(hr._ended.bind(hr,yr),Or)),hr._emit("rate",yr._id)}}else return yr=hr._soundById(br),yr?yr._rate:hr._rate;return hr},seek:function(){var hr=this,$r=arguments,xr,br;if($r.length===0)hr._sounds.length&&(br=hr._sounds[0]._id);else if($r.length===1){var Er=hr._getSoundIds(),wr=Er.indexOf($r[0]);wr>=0?br=parseInt($r[0],10):hr._sounds.length&&(br=hr._sounds[0]._id,xr=parseFloat($r[0]))}else $r.length===2&&(xr=parseFloat($r[0]),br=parseInt($r[1],10));if(typeof br>"u")return 0;if(typeof xr=="number"&&(hr._state!=="loaded"||hr._playLock))return hr._queue.push({event:"seek",action:function(){hr.seek.apply(hr,$r)}}),hr;var yr=hr._soundById(br);if(yr)if(typeof xr=="number"&&xr>=0){var _r=hr.playing(br);_r&&hr.pause(br,!0),yr._seek=xr,yr._ended=!1,hr._clearTimer(br),!hr._webAudio&&yr._node&&!isNaN(yr._node.duration)&&(yr._node.currentTime=xr);var Sr=function(){_r&&hr.play(br,!0),hr._emit("seek",br)};if(_r&&!hr._webAudio){var Pr=function(){hr._playLock?setTimeout(Pr,0):Sr()};setTimeout(Pr,0)}else Sr()}else if(hr._webAudio){var Or=hr.playing(br)?cr.ctx.currentTime-yr._playStart:0,Lr=yr._rateSeek?yr._rateSeek-yr._seek:0;return yr._seek+(Lr+Or*Math.abs(yr._rate))}else return yr._node.currentTime;return hr},playing:function(hr){var $r=this;if(typeof hr=="number"){var xr=$r._soundById(hr);return xr?!xr._paused:!1}for(var br=0;br<$r._sounds.length;br++)if(!$r._sounds[br]._paused)return!0;return!1},duration:function(hr){var $r=this,xr=$r._duration,br=$r._soundById(hr);return br&&(xr=$r._sprite[br._sprite][1]/1e3),xr},state:function(){return this._state},unload:function(){for(var hr=this,$r=hr._sounds,xr=0;xr<$r.length;xr++)$r[xr]._paused||hr.stop($r[xr]._id),hr._webAudio||(hr._clearSound($r[xr]._node),$r[xr]._node.removeEventListener("error",$r[xr]._errorFn,!1),$r[xr]._node.removeEventListener(cr._canPlayEvent,$r[xr]._loadFn,!1),$r[xr]._node.removeEventListener("ended",$r[xr]._endFn,!1),cr._releaseHtml5Audio($r[xr]._node)),delete $r[xr]._node,hr._clearTimer($r[xr]._id);var br=cr._howls.indexOf(hr);br>=0&&cr._howls.splice(br,1);var Er=!0;for(xr=0;xr<cr._howls.length;xr++)if(cr._howls[xr]._src===hr._src||hr._src.indexOf(cr._howls[xr]._src)>=0){Er=!1;break}return fr&&Er&&delete fr[hr._src],cr.noAudio=!1,hr._state="unloaded",hr._sounds=[],hr=null,null},on:function(hr,$r,xr,br){var Er=this,wr=Er["_on"+hr];return typeof $r=="function"&&wr.push(br?{id:xr,fn:$r,once:br}:{id:xr,fn:$r}),Er},off:function(hr,$r,xr){var br=this,Er=br["_on"+hr],wr=0;if(typeof $r=="number"&&(xr=$r,$r=null),$r||xr)for(wr=0;wr<Er.length;wr++){var yr=xr===Er[wr].id;if($r===Er[wr].fn&&yr||!$r&&yr){Er.splice(wr,1);break}}else if(hr)br["_on"+hr]=[];else{var _r=Object.keys(br);for(wr=0;wr<_r.length;wr++)_r[wr].indexOf("_on")===0&&Array.isArray(br[_r[wr]])&&(br[_r[wr]]=[])}return br},once:function(hr,$r,xr){var br=this;return br.on(hr,$r,xr,1),br},_emit:function(hr,$r,xr){for(var br=this,Er=br["_on"+hr],wr=Er.length-1;wr>=0;wr--)(!Er[wr].id||Er[wr].id===$r||hr==="load")&&(setTimeout((function(yr){yr.call(this,$r,xr)}).bind(br,Er[wr].fn),0),Er[wr].once&&br.off(hr,Er[wr].fn,Er[wr].id));return br._loadQueue(hr),br},_loadQueue:function(hr){var $r=this;if($r._queue.length>0){var xr=$r._queue[0];xr.event===hr&&($r._queue.shift(),$r._loadQueue()),hr||xr.action()}return $r},_ended:function(hr){var $r=this,xr=hr._sprite;if(!$r._webAudio&&hr._node&&!hr._node.paused&&!hr._node.ended&&hr._node.currentTime<hr._stop)return setTimeout($r._ended.bind($r,hr),100),$r;var br=!!(hr._loop||$r._sprite[xr][2]);if($r._emit("end",hr._id),!$r._webAudio&&br&&$r.stop(hr._id,!0).play(hr._id),$r._webAudio&&br){$r._emit("play",hr._id),hr._seek=hr._start||0,hr._rateSeek=0,hr._playStart=cr.ctx.currentTime;var Er=(hr._stop-hr._start)*1e3/Math.abs(hr._rate);$r._endTimers[hr._id]=setTimeout($r._ended.bind($r,hr),Er)}return $r._webAudio&&!br&&(hr._paused=!0,hr._ended=!0,hr._seek=hr._start||0,hr._rateSeek=0,$r._clearTimer(hr._id),$r._cleanBuffer(hr._node),cr._autoSuspend()),!$r._webAudio&&!br&&$r.stop(hr._id,!0),$r},_clearTimer:function(hr){var $r=this;if($r._endTimers[hr]){if(typeof $r._endTimers[hr]!="function")clearTimeout($r._endTimers[hr]);else{var xr=$r._soundById(hr);xr&&xr._node&&xr._node.removeEventListener("ended",$r._endTimers[hr],!1)}delete $r._endTimers[hr]}return $r},_soundById:function(hr){for(var $r=this,xr=0;xr<$r._sounds.length;xr++)if(hr===$r._sounds[xr]._id)return $r._sounds[xr];return null},_inactiveSound:function(){var hr=this;hr._drain();for(var $r=0;$r<hr._sounds.length;$r++)if(hr._sounds[$r]._ended)return hr._sounds[$r].reset();return new ur(hr)},_drain:function(){var hr=this,$r=hr._pool,xr=0,br=0;if(!(hr._sounds.length<$r)){for(br=0;br<hr._sounds.length;br++)hr._sounds[br]._ended&&xr++;for(br=hr._sounds.length-1;br>=0;br--){if(xr<=$r)return;hr._sounds[br]._ended&&(hr._webAudio&&hr._sounds[br]._node&&hr._sounds[br]._node.disconnect(0),hr._sounds.splice(br,1),xr--)}}},_getSoundIds:function(hr){var $r=this;if(typeof hr>"u"){for(var xr=[],br=0;br<$r._sounds.length;br++)xr.push($r._sounds[br]._id);return xr}else return[hr]},_refreshBuffer:function(hr){var $r=this;return hr._node.bufferSource=cr.ctx.createBufferSource(),hr._node.bufferSource.buffer=fr[$r._src],hr._panner?hr._node.bufferSource.connect(hr._panner):hr._node.bufferSource.connect(hr._node),hr._node.bufferSource.loop=hr._loop,hr._loop&&(hr._node.bufferSource.loopStart=hr._start||0,hr._node.bufferSource.loopEnd=hr._stop||0),hr._node.bufferSource.playbackRate.setValueAtTime(hr._rate,cr.ctx.currentTime),$r},_cleanBuffer:function(hr){var $r=this,xr=cr._navigator&&cr._navigator.vendor.indexOf("Apple")>=0;if(!hr.bufferSource)return $r;if(cr._scratchBuffer&&hr.bufferSource&&(hr.bufferSource.onended=null,hr.bufferSource.disconnect(0),xr))try{hr.bufferSource.buffer=cr._scratchBuffer}catch{}return hr.bufferSource=null,$r},_clearSound:function(hr){var $r=/MSIE |Trident\//.test(cr._navigator&&cr._navigator.userAgent);$r||(hr.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var ur=function(hr){this._parent=hr,this.init()};ur.prototype={init:function(){var hr=this,$r=hr._parent;return hr._muted=$r._muted,hr._loop=$r._loop,hr._volume=$r._volume,hr._rate=$r._rate,hr._seek=0,hr._paused=!0,hr._ended=!0,hr._sprite="__default",hr._id=++cr._counter,$r._sounds.push(hr),hr.create(),hr},create:function(){var hr=this,$r=hr._parent,xr=cr._muted||hr._muted||hr._parent._muted?0:hr._volume;return $r._webAudio?(hr._node=typeof cr.ctx.createGain>"u"?cr.ctx.createGainNode():cr.ctx.createGain(),hr._node.gain.setValueAtTime(xr,cr.ctx.currentTime),hr._node.paused=!0,hr._node.connect(cr.masterGain)):cr.noAudio||(hr._node=cr._obtainHtml5Audio(),hr._errorFn=hr._errorListener.bind(hr),hr._node.addEventListener("error",hr._errorFn,!1),hr._loadFn=hr._loadListener.bind(hr),hr._node.addEventListener(cr._canPlayEvent,hr._loadFn,!1),hr._endFn=hr._endListener.bind(hr),hr._node.addEventListener("ended",hr._endFn,!1),hr._node.src=$r._src,hr._node.preload=$r._preload===!0?"auto":$r._preload,hr._node.volume=xr*cr.volume(),hr._node.load()),hr},reset:function(){var hr=this,$r=hr._parent;return hr._muted=$r._muted,hr._loop=$r._loop,hr._volume=$r._volume,hr._rate=$r._rate,hr._seek=0,hr._rateSeek=0,hr._paused=!0,hr._ended=!0,hr._sprite="__default",hr._id=++cr._counter,hr},_errorListener:function(){var hr=this;hr._parent._emit("loaderror",hr._id,hr._node.error?hr._node.error.code:0),hr._node.removeEventListener("error",hr._errorFn,!1)},_loadListener:function(){var hr=this,$r=hr._parent;$r._duration=Math.ceil(hr._node.duration*10)/10,Object.keys($r._sprite).length===0&&($r._sprite={__default:[0,$r._duration*1e3]}),$r._state!=="loaded"&&($r._state="loaded",$r._emit("load"),$r._loadQueue()),hr._node.removeEventListener(cr._canPlayEvent,hr._loadFn,!1)},_endListener:function(){var hr=this,$r=hr._parent;$r._duration===1/0&&($r._duration=Math.ceil(hr._node.duration*10)/10,$r._sprite.__default[1]===1/0&&($r._sprite.__default[1]=$r._duration*1e3),$r._ended(hr)),hr._node.removeEventListener("ended",hr._endFn,!1)}};var fr={},dr=function(hr){var $r=hr._src;if(fr[$r]){hr._duration=fr[$r].duration,gr(hr);return}if(/^data:[^;]+;base64,/.test($r)){for(var xr=atob($r.split(",")[1]),br=new Uint8Array(xr.length),Er=0;Er<xr.length;++Er)br[Er]=xr.charCodeAt(Er);mr(br.buffer,hr)}else{var wr=new XMLHttpRequest;wr.open(hr._xhr.method,$r,!0),wr.withCredentials=hr._xhr.withCredentials,wr.responseType="arraybuffer",hr._xhr.headers&&Object.keys(hr._xhr.headers).forEach(function(yr){wr.setRequestHeader(yr,hr._xhr.headers[yr])}),wr.onload=function(){var yr=(wr.status+"")[0];if(yr!=="0"&&yr!=="2"&&yr!=="3"){hr._emit("loaderror",null,"Failed loading audio file with status: "+wr.status+".");return}mr(wr.response,hr)},wr.onerror=function(){hr._webAudio&&(hr._html5=!0,hr._webAudio=!1,hr._sounds=[],delete fr[$r],hr.load())},pr(wr)}},pr=function(hr){try{hr.send()}catch{hr.onerror()}},mr=function(hr,$r){var xr=function(){$r._emit("loaderror",null,"Decoding audio data failed.")},br=function(Er){Er&&$r._sounds.length>0?(fr[$r._src]=Er,gr($r,Er)):xr()};typeof Promise<"u"&&cr.ctx.decodeAudioData.length===1?cr.ctx.decodeAudioData(hr).then(br).catch(xr):cr.ctx.decodeAudioData(hr,br,xr)},gr=function(hr,$r){$r&&!hr._duration&&(hr._duration=$r.duration),Object.keys(hr._sprite).length===0&&(hr._sprite={__default:[0,hr._duration*1e3]}),hr._state!=="loaded"&&(hr._state="loaded",hr._emit("load"),hr._loadQueue())},vr=function(){if(cr.usingWebAudio){try{typeof AudioContext<"u"?cr.ctx=new AudioContext:typeof webkitAudioContext<"u"?cr.ctx=new webkitAudioContext:cr.usingWebAudio=!1}catch{cr.usingWebAudio=!1}cr.ctx||(cr.usingWebAudio=!1);var hr=/iP(hone|od|ad)/.test(cr._navigator&&cr._navigator.platform),$r=cr._navigator&&cr._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),xr=$r?parseInt($r[1],10):null;if(hr&&xr&&xr<9){var br=/safari/.test(cr._navigator&&cr._navigator.userAgent.toLowerCase());cr._navigator&&!br&&(cr.usingWebAudio=!1)}cr.usingWebAudio&&(cr.masterGain=typeof cr.ctx.createGain>"u"?cr.ctx.createGainNode():cr.ctx.createGain(),cr.masterGain.gain.setValueAtTime(cr._muted?0:cr._volume,cr.ctx.currentTime),cr.masterGain.connect(cr.ctx.destination)),cr._setup()}};or.Howler=cr,or.Howl=lr,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=ar,commonjsGlobal.Howler=cr,commonjsGlobal.Howl=lr,commonjsGlobal.Sound=ur):typeof window<"u"&&(window.HowlerGlobal=ar,window.Howler=cr,window.Howl=lr,window.Sound=ur)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(cr){var lr=this;if(!lr.ctx||!lr.ctx.listener)return lr;for(var ur=lr._howls.length-1;ur>=0;ur--)lr._howls[ur].stereo(cr);return lr},HowlerGlobal.prototype.pos=function(cr,lr,ur){var fr=this;if(!fr.ctx||!fr.ctx.listener)return fr;if(lr=typeof lr!="number"?fr._pos[1]:lr,ur=typeof ur!="number"?fr._pos[2]:ur,typeof cr=="number")fr._pos=[cr,lr,ur],typeof fr.ctx.listener.positionX<"u"?(fr.ctx.listener.positionX.setTargetAtTime(fr._pos[0],Howler.ctx.currentTime,.1),fr.ctx.listener.positionY.setTargetAtTime(fr._pos[1],Howler.ctx.currentTime,.1),fr.ctx.listener.positionZ.setTargetAtTime(fr._pos[2],Howler.ctx.currentTime,.1)):fr.ctx.listener.setPosition(fr._pos[0],fr._pos[1],fr._pos[2]);else return fr._pos;return fr},HowlerGlobal.prototype.orientation=function(cr,lr,ur,fr,dr,pr){var mr=this;if(!mr.ctx||!mr.ctx.listener)return mr;var gr=mr._orientation;if(lr=typeof lr!="number"?gr[1]:lr,ur=typeof ur!="number"?gr[2]:ur,fr=typeof fr!="number"?gr[3]:fr,dr=typeof dr!="number"?gr[4]:dr,pr=typeof pr!="number"?gr[5]:pr,typeof cr=="number")mr._orientation=[cr,lr,ur,fr,dr,pr],typeof mr.ctx.listener.forwardX<"u"?(mr.ctx.listener.forwardX.setTargetAtTime(cr,Howler.ctx.currentTime,.1),mr.ctx.listener.forwardY.setTargetAtTime(lr,Howler.ctx.currentTime,.1),mr.ctx.listener.forwardZ.setTargetAtTime(ur,Howler.ctx.currentTime,.1),mr.ctx.listener.upX.setTargetAtTime(fr,Howler.ctx.currentTime,.1),mr.ctx.listener.upY.setTargetAtTime(dr,Howler.ctx.currentTime,.1),mr.ctx.listener.upZ.setTargetAtTime(pr,Howler.ctx.currentTime,.1)):mr.ctx.listener.setOrientation(cr,lr,ur,fr,dr,pr);else return gr;return mr},Howl.prototype.init=function(cr){return function(lr){var ur=this;return ur._orientation=lr.orientation||[1,0,0],ur._stereo=lr.stereo||null,ur._pos=lr.pos||null,ur._pannerAttr={coneInnerAngle:typeof lr.coneInnerAngle<"u"?lr.coneInnerAngle:360,coneOuterAngle:typeof lr.coneOuterAngle<"u"?lr.coneOuterAngle:360,coneOuterGain:typeof lr.coneOuterGain<"u"?lr.coneOuterGain:0,distanceModel:typeof lr.distanceModel<"u"?lr.distanceModel:"inverse",maxDistance:typeof lr.maxDistance<"u"?lr.maxDistance:1e4,panningModel:typeof lr.panningModel<"u"?lr.panningModel:"HRTF",refDistance:typeof lr.refDistance<"u"?lr.refDistance:1,rolloffFactor:typeof lr.rolloffFactor<"u"?lr.rolloffFactor:1},ur._onstereo=lr.onstereo?[{fn:lr.onstereo}]:[],ur._onpos=lr.onpos?[{fn:lr.onpos}]:[],ur._onorientation=lr.onorientation?[{fn:lr.onorientation}]:[],cr.call(this,lr)}}(Howl.prototype.init),Howl.prototype.stereo=function(cr,lr){var ur=this;if(!ur._webAudio)return ur;if(ur._state!=="loaded")return ur._queue.push({event:"stereo",action:function(){ur.stereo(cr,lr)}}),ur;var fr=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof lr>"u")if(typeof cr=="number")ur._stereo=cr,ur._pos=[cr,0,0];else return ur._stereo;for(var dr=ur._getSoundIds(lr),pr=0;pr<dr.length;pr++){var mr=ur._soundById(dr[pr]);if(mr)if(typeof cr=="number")mr._stereo=cr,mr._pos=[cr,0,0],mr._node&&(mr._pannerAttr.panningModel="equalpower",(!mr._panner||!mr._panner.pan)&&ar(mr,fr),fr==="spatial"?typeof mr._panner.positionX<"u"?(mr._panner.positionX.setValueAtTime(cr,Howler.ctx.currentTime),mr._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),mr._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):mr._panner.setPosition(cr,0,0):mr._panner.pan.setValueAtTime(cr,Howler.ctx.currentTime)),ur._emit("stereo",mr._id);else return mr._stereo}return ur},Howl.prototype.pos=function(cr,lr,ur,fr){var dr=this;if(!dr._webAudio)return dr;if(dr._state!=="loaded")return dr._queue.push({event:"pos",action:function(){dr.pos(cr,lr,ur,fr)}}),dr;if(lr=typeof lr!="number"?0:lr,ur=typeof ur!="number"?-.5:ur,typeof fr>"u")if(typeof cr=="number")dr._pos=[cr,lr,ur];else return dr._pos;for(var pr=dr._getSoundIds(fr),mr=0;mr<pr.length;mr++){var gr=dr._soundById(pr[mr]);if(gr)if(typeof cr=="number")gr._pos=[cr,lr,ur],gr._node&&((!gr._panner||gr._panner.pan)&&ar(gr,"spatial"),typeof gr._panner.positionX<"u"?(gr._panner.positionX.setValueAtTime(cr,Howler.ctx.currentTime),gr._panner.positionY.setValueAtTime(lr,Howler.ctx.currentTime),gr._panner.positionZ.setValueAtTime(ur,Howler.ctx.currentTime)):gr._panner.setPosition(cr,lr,ur)),dr._emit("pos",gr._id);else return gr._pos}return dr},Howl.prototype.orientation=function(cr,lr,ur,fr){var dr=this;if(!dr._webAudio)return dr;if(dr._state!=="loaded")return dr._queue.push({event:"orientation",action:function(){dr.orientation(cr,lr,ur,fr)}}),dr;if(lr=typeof lr!="number"?dr._orientation[1]:lr,ur=typeof ur!="number"?dr._orientation[2]:ur,typeof fr>"u")if(typeof cr=="number")dr._orientation=[cr,lr,ur];else return dr._orientation;for(var pr=dr._getSoundIds(fr),mr=0;mr<pr.length;mr++){var gr=dr._soundById(pr[mr]);if(gr)if(typeof cr=="number")gr._orientation=[cr,lr,ur],gr._node&&(gr._panner||(gr._pos||(gr._pos=dr._pos||[0,0,-.5]),ar(gr,"spatial")),typeof gr._panner.orientationX<"u"?(gr._panner.orientationX.setValueAtTime(cr,Howler.ctx.currentTime),gr._panner.orientationY.setValueAtTime(lr,Howler.ctx.currentTime),gr._panner.orientationZ.setValueAtTime(ur,Howler.ctx.currentTime)):gr._panner.setOrientation(cr,lr,ur)),dr._emit("orientation",gr._id);else return gr._orientation}return dr},Howl.prototype.pannerAttr=function(){var cr=this,lr=arguments,ur,fr,dr;if(!cr._webAudio)return cr;if(lr.length===0)return cr._pannerAttr;if(lr.length===1)if(typeof lr[0]=="object")ur=lr[0],typeof fr>"u"&&(ur.pannerAttr||(ur.pannerAttr={coneInnerAngle:ur.coneInnerAngle,coneOuterAngle:ur.coneOuterAngle,coneOuterGain:ur.coneOuterGain,distanceModel:ur.distanceModel,maxDistance:ur.maxDistance,refDistance:ur.refDistance,rolloffFactor:ur.rolloffFactor,panningModel:ur.panningModel}),cr._pannerAttr={coneInnerAngle:typeof ur.pannerAttr.coneInnerAngle<"u"?ur.pannerAttr.coneInnerAngle:cr._coneInnerAngle,coneOuterAngle:typeof ur.pannerAttr.coneOuterAngle<"u"?ur.pannerAttr.coneOuterAngle:cr._coneOuterAngle,coneOuterGain:typeof ur.pannerAttr.coneOuterGain<"u"?ur.pannerAttr.coneOuterGain:cr._coneOuterGain,distanceModel:typeof ur.pannerAttr.distanceModel<"u"?ur.pannerAttr.distanceModel:cr._distanceModel,maxDistance:typeof ur.pannerAttr.maxDistance<"u"?ur.pannerAttr.maxDistance:cr._maxDistance,refDistance:typeof ur.pannerAttr.refDistance<"u"?ur.pannerAttr.refDistance:cr._refDistance,rolloffFactor:typeof ur.pannerAttr.rolloffFactor<"u"?ur.pannerAttr.rolloffFactor:cr._rolloffFactor,panningModel:typeof ur.pannerAttr.panningModel<"u"?ur.pannerAttr.panningModel:cr._panningModel});else return dr=cr._soundById(parseInt(lr[0],10)),dr?dr._pannerAttr:cr._pannerAttr;else lr.length===2&&(ur=lr[0],fr=parseInt(lr[1],10));for(var pr=cr._getSoundIds(fr),mr=0;mr<pr.length;mr++)if(dr=cr._soundById(pr[mr]),dr){var gr=dr._pannerAttr;gr={coneInnerAngle:typeof ur.coneInnerAngle<"u"?ur.coneInnerAngle:gr.coneInnerAngle,coneOuterAngle:typeof ur.coneOuterAngle<"u"?ur.coneOuterAngle:gr.coneOuterAngle,coneOuterGain:typeof ur.coneOuterGain<"u"?ur.coneOuterGain:gr.coneOuterGain,distanceModel:typeof ur.distanceModel<"u"?ur.distanceModel:gr.distanceModel,maxDistance:typeof ur.maxDistance<"u"?ur.maxDistance:gr.maxDistance,refDistance:typeof ur.refDistance<"u"?ur.refDistance:gr.refDistance,rolloffFactor:typeof ur.rolloffFactor<"u"?ur.rolloffFactor:gr.rolloffFactor,panningModel:typeof ur.panningModel<"u"?ur.panningModel:gr.panningModel};var vr=dr._panner;vr||(dr._pos||(dr._pos=cr._pos||[0,0,-.5]),ar(dr,"spatial"),vr=dr._panner),vr.coneInnerAngle=gr.coneInnerAngle,vr.coneOuterAngle=gr.coneOuterAngle,vr.coneOuterGain=gr.coneOuterGain,vr.distanceModel=gr.distanceModel,vr.maxDistance=gr.maxDistance,vr.refDistance=gr.refDistance,vr.rolloffFactor=gr.rolloffFactor,vr.panningModel=gr.panningModel}return cr},Sound.prototype.init=function(cr){return function(){var lr=this,ur=lr._parent;lr._orientation=ur._orientation,lr._stereo=ur._stereo,lr._pos=ur._pos,lr._pannerAttr=ur._pannerAttr,cr.call(this),lr._stereo?ur.stereo(lr._stereo):lr._pos&&ur.pos(lr._pos[0],lr._pos[1],lr._pos[2],lr._id)}}(Sound.prototype.init),Sound.prototype.reset=function(cr){return function(){var lr=this,ur=lr._parent;return lr._orientation=ur._orientation,lr._stereo=ur._stereo,lr._pos=ur._pos,lr._pannerAttr=ur._pannerAttr,lr._stereo?ur.stereo(lr._stereo):lr._pos?ur.pos(lr._pos[0],lr._pos[1],lr._pos[2],lr._id):lr._panner&&(lr._panner.disconnect(0),lr._panner=void 0,ur._refreshBuffer(lr)),cr.call(this)}}(Sound.prototype.reset);var ar=function(cr,lr){lr=lr||"spatial",lr==="spatial"?(cr._panner=Howler.ctx.createPanner(),cr._panner.coneInnerAngle=cr._pannerAttr.coneInnerAngle,cr._panner.coneOuterAngle=cr._pannerAttr.coneOuterAngle,cr._panner.coneOuterGain=cr._pannerAttr.coneOuterGain,cr._panner.distanceModel=cr._pannerAttr.distanceModel,cr._panner.maxDistance=cr._pannerAttr.maxDistance,cr._panner.refDistance=cr._pannerAttr.refDistance,cr._panner.rolloffFactor=cr._pannerAttr.rolloffFactor,cr._panner.panningModel=cr._pannerAttr.panningModel,typeof cr._panner.positionX<"u"?(cr._panner.positionX.setValueAtTime(cr._pos[0],Howler.ctx.currentTime),cr._panner.positionY.setValueAtTime(cr._pos[1],Howler.ctx.currentTime),cr._panner.positionZ.setValueAtTime(cr._pos[2],Howler.ctx.currentTime)):cr._panner.setPosition(cr._pos[0],cr._pos[1],cr._pos[2]),typeof cr._panner.orientationX<"u"?(cr._panner.orientationX.setValueAtTime(cr._orientation[0],Howler.ctx.currentTime),cr._panner.orientationY.setValueAtTime(cr._orientation[1],Howler.ctx.currentTime),cr._panner.orientationZ.setValueAtTime(cr._orientation[2],Howler.ctx.currentTime)):cr._panner.setOrientation(cr._orientation[0],cr._orientation[1],cr._orientation[2])):(cr._panner=Howler.ctx.createStereoPanner(),cr._panner.pan.setValueAtTime(cr._stereo,Howler.ctx.currentTime)),cr._panner.connect(cr._node),cr._paused||cr._parent.pause(cr._id,!0).play(cr._id,!0)}})()})(howler);const normalizeVolume=or=>or>1?or*.01:or;let Sound$1=class Ml{constructor(ar,cr){this._state=0,this._error=null,this.isScheduled=!1,this.howl=new howler.Howl({src:[ar],volume:normalizeVolume(cr),loop:!1,preload:!0,autoplay:!1,onload:()=>{this._state=2,this.isScheduled&&this.howl.play()},onloaderror:(lr,ur)=>{console.error(ar,ur),this._state=1,this._error=ur},onplayerror:(lr,ur)=>{console.error(ar,ur),this._state=3,this._error=ur},onplay:()=>{this._state=4},onend:()=>{this._state=6},onpause:()=>{this._state=5},onstop:()=>{this._state=6},onunlock:()=>{this._state===2&&this.isScheduled&&(this._state=4,this.howl.play())}})}static create(ar,cr){return new Ml(ar,cr)}get state(){return this._state}get error(){return this._error}get isPlaying(){return this._state===4||this._state===0}play(ar){this.howl.volume(normalizeVolume(ar)),this.isScheduled=!0,this.howl.state()==="loaded"&&!this.howl.playing()&&this.howl.play()}stop(){this.isScheduled=!1,this.howl.stop()}dispose(){this.isScheduled=!1,this.howl.stop(),this.howl.unload()}};const VOLUME_STEP=10,sounds$=create(new Map,or=>({isPlaying(ar){const cr=getFileKey(ar),lr=or.value.get(cr);return!!(lr!=null&&lr.isPlaying)},play(ar,cr){const lr=getFileKey(ar);let ur=or.value.get(lr);ur||(ur=Sound$1.create(ar,cr),or.value.set(lr,ur)),ur.play(cr)},close(ar){const cr=getFileKey(ar),lr=or.value.get(cr);lr&&lr.stop()},closeAll(){for(const ar of or.value.values())ar.stop()},clear(){for(const ar of or.value.values())ar.dispose();or.set(new Map)}})),muted$=create(!1),volume$=create(100,or=>({increase(){or.update(ar=>clamp$2(ar+VOLUME_STEP,0,100))},decrease(){or.update(ar=>clamp$2(ar-VOLUME_STEP,0,100))}}));muted$.watch(or=>{howler.Howler.mute(or)});volume$.watch(or=>{howler.Howler.volume(normalizeVolume(clamp$2(or,0,100)))});function getFileKey(or){return or.replace("/","__").toUpperCase()}const isPauseScreenVisible$=create(!1),pauseScreenCurrentPanel$=create("credits");isPauseScreenVisible$.subscribe(or=>{or?isPaused$.set(!0):isPaused$.set(!1)});const saveLoadedCallback$=create(),gameSavedCallback$=create(),saveSlots$=create([]),namedSlots$=create([]),requestedAction$=create(null),QUICK_SAVE_KEY="__quicksave_qspider__";async function loadSaveList(){var lr,ur;const or=currentGameEntry$.value;if(!or){saveSlots$.set([]),namedSlots$.set([]);return}const ar=await((lr=storage$.value)==null?void 0:lr.getSavedSlots(or.id));saveSlots$.set(ar||[]);const cr=await((ur=storage$.value)==null?void 0:ur.getNamedSaves(or.id));namedSlots$.set(cr||[])}async function saveToSlot(or){var fr,dr,pr;if((fr=qspApi$.value)==null?void 0:fr.readVariable("NOSAVE"))return;const cr=currentGameEntry$.value;if(!cr)return;const lr=(dr=qspApi$.value)==null?void 0:dr.saveGame();lr&&await((pr=storage$.value)==null?void 0:pr.saveBySlot(cr.id,or,lr));const ur=gameSavedCallback$.value;ur==null||ur(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function saveToPath(or){var fr,dr,pr;if((fr=qspApi$.value)==null?void 0:fr.readVariable("NOSAVE"))return;const cr=currentGameEntry$.value;if(!cr)return;const lr=(dr=qspApi$.value)==null?void 0:dr.saveGame();lr&&await((pr=storage$.value)==null?void 0:pr.saveByKey(cr.id,or,lr));const ur=gameSavedCallback$.value;ur==null||ur(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function restoreFromSlot(or){var fr,dr,pr;if((fr=qspApi$.value)==null?void 0:fr.readVariable("NOSAVE"))return;const cr=currentGameEntry$.value;if(!cr)return;const lr=await((dr=storage$.value)==null?void 0:dr.getSaveDataBySlot(cr.id,or)),ur=saveLoadedCallback$.value;ur==null||ur(),saveLoadedCallback$.set(null),requestedAction$.set(null),lr&&((pr=qspApi$.value)==null||pr.loadSave(lr))}async function restoreFromPath(or){var fr,dr,pr;if((fr=qspApi$.value)==null?void 0:fr.readVariable("NOSAVE"))return;const cr=currentGameEntry$.value;if(!cr)return;const lr=await((dr=storage$.value)==null?void 0:dr.getSaveDataByKey(cr.id,or)),ur=saveLoadedCallback$.value;ur==null||ur(),saveLoadedCallback$.set(null),requestedAction$.set(null),lr&&((pr=qspApi$.value)==null||pr.loadSave(lr))}async function clearSlot(or){var cr;const ar=currentGameEntry$.value;ar&&(await((cr=storage$.value)==null?void 0:cr.clearSaveSlot(ar.id,or)),await loadSaveList())}async function clearPath(or){var cr;const ar=currentGameEntry$.value;ar&&(await((cr=storage$.value)==null?void 0:cr.clearSaveKey(ar.id,or)),await loadSaveList())}async function quickSave(){var cr;if((cr=qspApi$.value)==null?void 0:cr.readVariable("NOSAVE"))return;const ar=currentGameEntry$.value;ar&&await withCounterPaused(async()=>{var ur,fr;const lr=(ur=qspApi$.value)==null?void 0:ur.saveGame();lr&&await((fr=storage$.value)==null?void 0:fr.saveByKey(ar.id,QUICK_SAVE_KEY,lr))})}async function quickLoad(){var cr;if((cr=qspApi$.value)==null?void 0:cr.readVariable("NOSAVE"))return;const ar=currentGameEntry$.value;ar&&await withCounterPaused(async()=>{var ur,fr;const lr=await((ur=storage$.value)==null?void 0:ur.getSaveDataByKey(ar.id,QUICK_SAVE_KEY));lr&&((fr=qspApi$.value)==null||fr.loadSave(lr),onRestore())})}async function onSaveAction(or,ar){const{slot_index:cr,save_path:lr}=ar;switch(or){case"load":cr>0?await restoreFromSlot(cr):lr&&await restoreFromPath(lr),onRestore(),isPauseScreenVisible$.set(!1);break;case"save":cr>0?await saveToSlot(cr):lr&&await saveToPath(lr),isPauseScreenVisible$.set(!1);break;case"clear":cr>0?clearSlot(cr):lr&&clearPath(lr);break;default:console.error(`Unknown save action: ${or}`)}}var mousetrap={exports:{}};(function(or){(function(ar,cr,lr){if(!ar)return;for(var ur={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},fr={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dr={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},pr={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},mr,gr=1;gr<20;++gr)ur[111+gr]="f"+gr;for(gr=0;gr<=9;++gr)ur[gr+96]=gr.toString();function vr(Tr,jr,Rr){if(Tr.addEventListener){Tr.addEventListener(jr,Rr,!1);return}Tr.attachEvent("on"+jr,Rr)}function hr(Tr){if(Tr.type=="keypress"){var jr=String.fromCharCode(Tr.which);return Tr.shiftKey||(jr=jr.toLowerCase()),jr}return ur[Tr.which]?ur[Tr.which]:fr[Tr.which]?fr[Tr.which]:String.fromCharCode(Tr.which).toLowerCase()}function $r(Tr,jr){return Tr.sort().join(",")===jr.sort().join(",")}function xr(Tr){var jr=[];return Tr.shiftKey&&jr.push("shift"),Tr.altKey&&jr.push("alt"),Tr.ctrlKey&&jr.push("ctrl"),Tr.metaKey&&jr.push("meta"),jr}function br(Tr){if(Tr.preventDefault){Tr.preventDefault();return}Tr.returnValue=!1}function Er(Tr){if(Tr.stopPropagation){Tr.stopPropagation();return}Tr.cancelBubble=!0}function wr(Tr){return Tr=="shift"||Tr=="ctrl"||Tr=="alt"||Tr=="meta"}function yr(){if(!mr){mr={};for(var Tr in ur)Tr>95&&Tr<112||ur.hasOwnProperty(Tr)&&(mr[ur[Tr]]=Tr)}return mr}function _r(Tr,jr,Rr){return Rr||(Rr=yr()[Tr]?"keydown":"keypress"),Rr=="keypress"&&jr.length&&(Rr="keydown"),Rr}function Sr(Tr){return Tr==="+"?["+"]:(Tr=Tr.replace(/\+{2}/g,"+plus"),Tr.split("+"))}function Pr(Tr,jr){var Rr,Fr,Vr,Zr=[];for(Rr=Sr(Tr),Vr=0;Vr<Rr.length;++Vr)Fr=Rr[Vr],pr[Fr]&&(Fr=pr[Fr]),jr&&jr!="keypress"&&dr[Fr]&&(Fr=dr[Fr],Zr.push("shift")),wr(Fr)&&Zr.push(Fr);return jr=_r(Fr,Zr,jr),{key:Fr,modifiers:Zr,action:jr}}function Or(Tr,jr){return Tr===null||Tr===cr?!1:Tr===jr?!0:Or(Tr.parentNode,jr)}function Lr(Tr){var jr=this;if(Tr=Tr||cr,!(jr instanceof Lr))return new Lr(Tr);jr.target=Tr,jr._callbacks={},jr._directMap={};var Rr={},Fr,Vr=!1,Zr=!1,so=!1;function Ir(Gr){Gr=Gr||{};var Qr=!1,lo;for(lo in Rr){if(Gr[lo]){Qr=!0;continue}Rr[lo]=0}Qr||(so=!1)}function Kr(Gr,Qr,lo,ao,Yr,io){var Jr,uo,fo=[],$o=lo.type;if(!jr._callbacks[Gr])return[];for($o=="keyup"&&wr(Gr)&&(Qr=[Gr]),Jr=0;Jr<jr._callbacks[Gr].length;++Jr)if(uo=jr._callbacks[Gr][Jr],!(!ao&&uo.seq&&Rr[uo.seq]!=uo.level)&&$o==uo.action&&($o=="keypress"&&!lo.metaKey&&!lo.ctrlKey||$r(Qr,uo.modifiers))){var xo=!ao&&uo.combo==Yr,yo=ao&&uo.seq==ao&&uo.level==io;(xo||yo)&&jr._callbacks[Gr].splice(Jr,1),fo.push(uo)}return fo}function no(Gr,Qr,lo,ao){jr.stopCallback(Qr,Qr.target||Qr.srcElement,lo,ao)||Gr(Qr,lo)===!1&&(br(Qr),Er(Qr))}jr._handleKey=function(Gr,Qr,lo){var ao=Kr(Gr,Qr,lo),Yr,io={},Jr=0,uo=!1;for(Yr=0;Yr<ao.length;++Yr)ao[Yr].seq&&(Jr=Math.max(Jr,ao[Yr].level));for(Yr=0;Yr<ao.length;++Yr){if(ao[Yr].seq){if(ao[Yr].level!=Jr)continue;uo=!0,io[ao[Yr].seq]=1,no(ao[Yr].callback,lo,ao[Yr].combo,ao[Yr].seq);continue}uo||no(ao[Yr].callback,lo,ao[Yr].combo)}var fo=lo.type=="keypress"&&Zr;lo.type==so&&!wr(Gr)&&!fo&&Ir(io),Zr=uo&&lo.type=="keydown"};function eo(Gr){typeof Gr.which!="number"&&(Gr.which=Gr.keyCode);var Qr=hr(Gr);if(Qr){if(Gr.type=="keyup"&&Vr===Qr){Vr=!1;return}jr.handleKey(Qr,xr(Gr),Gr)}}function Wr(){clearTimeout(Fr),Fr=setTimeout(Ir,1e3)}function Ur(Gr,Qr,lo,ao){Rr[Gr]=0;function Yr($o){return function(){so=$o,++Rr[Gr],Wr()}}function io($o){no(lo,$o,Gr),ao!=="keyup"&&(Vr=hr($o)),setTimeout(Ir,10)}for(var Jr=0;Jr<Qr.length;++Jr){var uo=Jr+1===Qr.length,fo=uo?io:Yr(ao||Pr(Qr[Jr+1]).action);ro(Qr[Jr],fo,ao,Gr,Jr)}}function ro(Gr,Qr,lo,ao,Yr){jr._directMap[Gr+":"+lo]=Qr,Gr=Gr.replace(/\s+/g," ");var io=Gr.split(" "),Jr;if(io.length>1){Ur(Gr,io,Qr,lo);return}Jr=Pr(Gr,lo),jr._callbacks[Jr.key]=jr._callbacks[Jr.key]||[],Kr(Jr.key,Jr.modifiers,{type:Jr.action},ao,Gr,Yr),jr._callbacks[Jr.key][ao?"unshift":"push"]({callback:Qr,modifiers:Jr.modifiers,action:Jr.action,seq:ao,level:Yr,combo:Gr})}jr._bindMultiple=function(Gr,Qr,lo){for(var ao=0;ao<Gr.length;++ao)ro(Gr[ao],Qr,lo)},vr(Tr,"keypress",eo),vr(Tr,"keydown",eo),vr(Tr,"keyup",eo)}Lr.prototype.bind=function(Tr,jr,Rr){var Fr=this;return Tr=Tr instanceof Array?Tr:[Tr],Fr._bindMultiple.call(Fr,Tr,jr,Rr),Fr},Lr.prototype.unbind=function(Tr,jr){var Rr=this;return Rr.bind.call(Rr,Tr,function(){},jr)},Lr.prototype.trigger=function(Tr,jr){var Rr=this;return Rr._directMap[Tr+":"+jr]&&Rr._directMap[Tr+":"+jr]({},Tr),Rr},Lr.prototype.reset=function(){var Tr=this;return Tr._callbacks={},Tr._directMap={},Tr},Lr.prototype.stopCallback=function(Tr,jr){var Rr=this;if((" "+jr.className+" ").indexOf(" mousetrap ")>-1||Or(jr,Rr.target))return!1;if("composedPath"in Tr&&typeof Tr.composedPath=="function"){var Fr=Tr.composedPath()[0];Fr!==Tr.target&&(jr=Fr)}return jr.tagName=="INPUT"||jr.tagName=="SELECT"||jr.tagName=="TEXTAREA"||jr.isContentEditable},Lr.prototype.handleKey=function(){var Tr=this;return Tr._handleKey.apply(Tr,arguments)},Lr.addKeycodes=function(Tr){for(var jr in Tr)Tr.hasOwnProperty(jr)&&(ur[jr]=Tr[jr]);mr=null},Lr.init=function(){var Tr=Lr(cr);for(var jr in Tr)jr.charAt(0)!=="_"&&(Lr[jr]=function(Rr){return function(){return Tr[Rr].apply(Tr,arguments)}}(jr))},Lr.init(),ar.Mousetrap=Lr,or.exports&&(or.exports=Lr),typeof lr=="function"&&lr.amd&&lr(function(){return Lr})})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(mousetrap);var mousetrapExports=mousetrap.exports;const Mousetrap=getDefaultExportFromCjs(mousetrapExports),globalHotKeys$=create([{when_paused:!1,description:"Action #1",keys:"1",on_press:{type:"action",index:0}},{when_paused:!1,description:"Action #2",keys:"2",on_press:{type:"action",index:1}},{when_paused:!1,description:"Action #3",keys:"3",on_press:{type:"action",index:2}},{when_paused:!1,description:"Action #4",keys:"4",on_press:{type:"action",index:3}},{when_paused:!1,description:"Action #5",keys:"5",on_press:{type:"action",index:4}},{when_paused:!1,description:"Action #6",keys:"6",on_press:{type:"action",index:5}},{when_paused:!1,description:"Action #7",keys:"7",on_press:{type:"action",index:6}},{when_paused:!1,description:"Action #8",keys:"8",on_press:{type:"action",index:7}},{when_paused:!1,description:"Action #9",keys:"9",on_press:{type:"action",index:8}},{when_paused:!1,keys:"space",description:"Single action",on_press:()=>isPaused$.value?void 0:(actions$.value.length===1&&(selectAction(0),execSelectedAction()),!1)},{when_paused:!0,description:"Restart",keys:"mod+r",on_press:{type:"game_action",action:"restart"}},{when_paused:!1,description:"Quicksave",keys:"f5",on_press:{type:"game_action",action:"quicksave"}},{when_paused:!1,description:"Qucikload",keys:"f9",on_press:{type:"game_action",action:"quickload"}},{when_paused:!1,keys:"mod+s",description:"Save",on_press:()=>(requestedAction$.set("save"),onGameAction("pause:saves"),!1)},{when_paused:!1,keys:"mod+o",description:"Load",on_press:()=>(requestedAction$.set("load"),onGameAction("pause:saves"),!1)},{when_paused:!0,keys:"pageup",description:"Increase volume",on_press:()=>(volume$.actions.increase(),!1)},{when_paused:!0,keys:"pagedown",description:"Decrease volume",on_press:()=>(volume$.actions.decrease(),!1)},{when_paused:!0,description:"Mute",keys:"home",on_press:{type:"game_action",action:"mute"}},{when_paused:!0,description:"Unmute",keys:"end",on_press:{type:"game_action",action:"unmute"}}]);function setupGlobalHotKeys(){for(const or of globalHotKeys$.value)Mousetrap.bind([or.keys],(ar,cr)=>{if(!(!or.when_paused&&isPaused$.value)){if(typeof or.on_press=="function")return or.on_press(ar,cr);if(or.on_press.type==="action")return selectAction(or.on_press.index),execSelectedAction(),!1;if(or.on_press.type==="game_action")return onGameAction(or.on_press.action),!1}})}function setupCustomHotKeys(or){for(const[ar,cr]of Object.entries(or))Mousetrap.bind(ar,()=>{var lr;return(lr=qspApi$.value)==null||lr.execLoc(cr),!1})}function clearHotkeys(){Mousetrap.reset()}const windowManager$=create();var WxWidgetsDirection=(or=>(or[or.top=1]="top",or[or.right=2]="right",or[or.bottom=3]="bottom",or[or.left=4]="left",or[or.center=5]="center",or))(WxWidgetsDirection||{});const qspGuiCfg$=create(null),qspGuiLayout$=create(or=>{var fr;const ar=or(qspGuiCfg$);if(!ar)return null;const cr=((fr=or(defaultClassicTheme$).qsp_player)==null?void 0:fr.template)??"",lr=buildLayoutTree(ar.Panels);let ur="";lr.layer&&(ur+=convertLayer(lr.layer,ar.Docks,cr));for(const dr of lr.floating)ur+=convertPane(dr,cr,!0);return ur});function buildLayoutTree(or){const ar=getMaxLayer(or),cr=or.filter(fr=>fr.floating&&fr.name==="imgview"),lr=or.filter(fr=>!fr.floating);let ur=null;for(let fr=0;fr<=ar;fr++){const dr=getLayerPanels(fr,lr);ur={index:fr,top:[],right:[],bottom:[],left:[],center:ur||[]};for(const pr of dr)pr.dir==="center"&&pr.name!=="desc"||ur[pr.dir].push(pr)}return{layer:ur,floating:cr}}function convertLayer(or,ar,cr){return`<qsp-cl-layer>${convertDock("top",or.top,ar,cr)}${convertDock("left",or.left,ar,cr)}${Array.isArray(or.center)?convertDock("center",or.center,ar,cr):convertLayer(or.center,ar,cr)}${convertDock("right",or.right,ar,cr)}${convertDock("bottom",or.bottom,ar,cr)}</qsp-cl-layer>`}function convertDock(or,ar,cr,lr){if(!ar.length)return"";const ur=ar.map(gr=>gr.name!=="desc"?gr.name:"").filter(Boolean),fr=ur.length>0?` visibility="${ur.join("|")}"`:"",[dr]=ar,pr=`${WxWidgetsDirection[dr.dir]},${dr.layer},${dr.row}`,mr=or!=="center"&&cr[pr]?` size="${cr[pr]}"`:"";return`<qsp-cl-dock place="${or}"${fr}${mr}>${ar.map(gr=>convertPane(gr,lr,!1)).join("")}</qsp-cl-dock>`}function convertPane(or,ar,cr){return`<qsp-cl-pane visibility="${or.name!=="desc"?or.name:""}" proportion="${or.prop}">${extractFromDefaultTheme(or.name,ar,cr)}</qsp-cl-pane>`}function getMaxLayer(or){return Math.max(...or.map(({layer:ar})=>ar))}function getLayerPanels(or,ar){return ar.filter(cr=>cr.layer===or).sort((cr,lr)=>cr.pos-lr.pos)}const paneToTagMap={imgview:"qsp-view",acts:"qsp-actions",desc:"qsp-main",objs:"qsp-objects",vars:"qsp-stats",input:"qsp-cmd"};function extractFromDefaultTheme(or,ar,cr){const lr=paneToTagMap[or];if(!lr)return"";const ur=new RegExp(`<${lr}([\\s\\S]*?)</${lr}>`,"im"),fr=ar.match(ur),dr=(fr==null?void 0:fr[0])??"";return cr?dr.replace(new RegExp(`<${lr}(.*?)>`,"im"),`<${lr} modal>`):dr.replace(new RegExp(`<${lr}(.*?)>`,"im"),`<${lr}>`)}const GROUP_REGEXP=/\[(.*?)\]/i,LINE_REGEXP=/(.*?)=(.*)/i,DOCK_LINE=/dock_size\((.*?)\)=(.*)/,IS_FLOATABLE_MASK=1,asNumber=(or,ar)=>({[or]:Number(ar)}),asString=(or,ar)=>({[or]:ar}),converters={BackColor:asNumber,FontColor:asNumber,LinkColor:asNumber,FontSize:asNumber,FontName:asString,Panels:parsePanels,dir:(or,ar)=>({[or]:WxWidgetsDirection[ar]}),layer:asNumber,name:asString,pos:asNumber,row:asNumber,prop:asNumber};function processData(or,ar){const cr=converters[or];return(cr==null?void 0:cr(or,ar))??{}}function parsePanels(or,ar){const cr=[],lr={};for(const ur of ar.split("|").filter(Boolean))if(ur!=="layout2")if(ur.startsWith("dock_size")){const fr=ur.match(DOCK_LINE);if(fr){const[,dr,pr]=fr;dr&&pr&&(lr[dr]=Number(pr))}}else{const fr=ur.split(";").map(extractLineData).reduce((dr,[pr,mr])=>{if(pr==="state")dr.floating=(Number(mr)&IS_FLOATABLE_MASK)!==0;else if(pr&&mr&&pr in converters)return{...dr,...processData(pr,mr)};return dr},{});cr.push(fr)}return{Panels:cr,Docks:lr}}function extractLineData(or){const ar=or.match(LINE_REGEXP);if(ar){const[,cr,lr]=ar;return[cr,lr]}return[]}function parseCfg(or){let ar={};for(const cr of or.split(/\r?\n/gim).filter(Boolean)){if(GROUP_REGEXP.test(cr))continue;const[lr,ur]=extractLineData(cr);lr&&ur&&lr in converters&&(ar={...ar,...processData(lr,ur)})}return ar}const consoleLogger={type:"logger",log(or){this.output("log",or)},warn(or){this.output("warn",or)},error(or){this.output("error",or)},output(or,ar){console&&console[or]&&console[or].apply(console,ar)}};class Logger{constructor(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(ar,cr)}init(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=cr.prefix||"i18next:",this.logger=ar||consoleLogger,this.options=cr,this.debug=cr.debug}log(){for(var ar=arguments.length,cr=new Array(ar),lr=0;lr<ar;lr++)cr[lr]=arguments[lr];return this.forward(cr,"log","",!0)}warn(){for(var ar=arguments.length,cr=new Array(ar),lr=0;lr<ar;lr++)cr[lr]=arguments[lr];return this.forward(cr,"warn","",!0)}error(){for(var ar=arguments.length,cr=new Array(ar),lr=0;lr<ar;lr++)cr[lr]=arguments[lr];return this.forward(cr,"error","")}deprecate(){for(var ar=arguments.length,cr=new Array(ar),lr=0;lr<ar;lr++)cr[lr]=arguments[lr];return this.forward(cr,"warn","WARNING DEPRECATED: ",!0)}forward(ar,cr,lr,ur){return ur&&!this.debug?null:(typeof ar[0]=="string"&&(ar[0]=`${lr}${this.prefix} ${ar[0]}`),this.logger[cr](ar))}create(ar){return new Logger(this.logger,{prefix:`${this.prefix}:${ar}:`,...this.options})}clone(ar){return ar=ar||this.options,ar.prefix=ar.prefix||this.prefix,new Logger(this.logger,ar)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(ar,cr){return ar.split(" ").forEach(lr=>{this.observers[lr]=this.observers[lr]||[],this.observers[lr].push(cr)}),this}off(ar,cr){if(this.observers[ar]){if(!cr){delete this.observers[ar];return}this.observers[ar]=this.observers[ar].filter(lr=>lr!==cr)}}emit(ar){for(var cr=arguments.length,lr=new Array(cr>1?cr-1:0),ur=1;ur<cr;ur++)lr[ur-1]=arguments[ur];this.observers[ar]&&[].concat(this.observers[ar]).forEach(dr=>{dr(...lr)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(dr=>{dr.apply(dr,[ar,...lr])})}}function defer(){let or,ar;const cr=new Promise((lr,ur)=>{or=lr,ar=ur});return cr.resolve=or,cr.reject=ar,cr}function makeString(or){return or==null?"":""+or}function copy(or,ar,cr){or.forEach(lr=>{ar[lr]&&(cr[lr]=ar[lr])})}function getLastOfPath(or,ar,cr){function lr(dr){return dr&&dr.indexOf("###")>-1?dr.replace(/###/g,"."):dr}function ur(){return!or||typeof or=="string"}const fr=typeof ar!="string"?[].concat(ar):ar.split(".");for(;fr.length>1;){if(ur())return{};const dr=lr(fr.shift());!or[dr]&&cr&&(or[dr]=new cr),Object.prototype.hasOwnProperty.call(or,dr)?or=or[dr]:or={}}return ur()?{}:{obj:or,k:lr(fr.shift())}}function setPath(or,ar,cr){const{obj:lr,k:ur}=getLastOfPath(or,ar,Object);lr[ur]=cr}function pushPath(or,ar,cr,lr){const{obj:ur,k:fr}=getLastOfPath(or,ar,Object);ur[fr]=ur[fr]||[],lr&&(ur[fr]=ur[fr].concat(cr)),lr||ur[fr].push(cr)}function getPath(or,ar){const{obj:cr,k:lr}=getLastOfPath(or,ar);if(cr)return cr[lr]}function getPathWithDefaults(or,ar,cr){const lr=getPath(or,cr);return lr!==void 0?lr:getPath(ar,cr)}function deepExtend(or,ar,cr){for(const lr in ar)lr!=="__proto__"&&lr!=="constructor"&&(lr in or?typeof or[lr]=="string"||or[lr]instanceof String||typeof ar[lr]=="string"||ar[lr]instanceof String?cr&&(or[lr]=ar[lr]):deepExtend(or[lr],ar[lr],cr):or[lr]=ar[lr]);return or}function regexEscape(or){return or.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(or){return typeof or=="string"?or.replace(/[&<>"'\/]/g,ar=>_entityMap[ar]):or}const chars=[" ",",","?","!",";"];function looksLikeObjectPath(or,ar,cr){ar=ar||"",cr=cr||"";const lr=chars.filter(dr=>ar.indexOf(dr)<0&&cr.indexOf(dr)<0);if(lr.length===0)return!0;const ur=new RegExp(`(${lr.map(dr=>dr==="?"?"\\?":dr).join("|")})`);let fr=!ur.test(or);if(!fr){const dr=or.indexOf(cr);dr>0&&!ur.test(or.substring(0,dr))&&(fr=!0)}return fr}function deepFind(or,ar){let cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!or)return;if(or[ar])return or[ar];const lr=ar.split(cr);let ur=or;for(let fr=0;fr<lr.length;++fr){if(!ur||typeof ur[lr[fr]]=="string"&&fr+1<lr.length)return;if(ur[lr[fr]]===void 0){let dr=2,pr=lr.slice(fr,fr+dr).join(cr),mr=ur[pr];for(;mr===void 0&&lr.length>fr+dr;)dr++,pr=lr.slice(fr,fr+dr).join(cr),mr=ur[pr];if(mr===void 0)return;if(mr===null)return null;if(ar.endsWith(pr)){if(typeof mr=="string")return mr;if(pr&&typeof mr[pr]=="string")return mr[pr]}const gr=lr.slice(fr+dr).join(cr);return gr?deepFind(mr,gr,cr):void 0}ur=ur[lr[fr]]}return ur}function getCleanedCode(or){return or&&or.indexOf("_")>0?or.replace("_","-"):or}class ResourceStore extends EventEmitter{constructor(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=ar||{},this.options=cr,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(ar){this.options.ns.indexOf(ar)<0&&this.options.ns.push(ar)}removeNamespaces(ar){const cr=this.options.ns.indexOf(ar);cr>-1&&this.options.ns.splice(cr,1)}getResource(ar,cr,lr){let ur=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const fr=ur.keySeparator!==void 0?ur.keySeparator:this.options.keySeparator,dr=ur.ignoreJSONStructure!==void 0?ur.ignoreJSONStructure:this.options.ignoreJSONStructure;let pr=[ar,cr];lr&&typeof lr!="string"&&(pr=pr.concat(lr)),lr&&typeof lr=="string"&&(pr=pr.concat(fr?lr.split(fr):lr)),ar.indexOf(".")>-1&&(pr=ar.split("."));const mr=getPath(this.data,pr);return mr||!dr||typeof lr!="string"?mr:deepFind(this.data&&this.data[ar]&&this.data[ar][cr],lr,fr)}addResource(ar,cr,lr,ur){let fr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const dr=fr.keySeparator!==void 0?fr.keySeparator:this.options.keySeparator;let pr=[ar,cr];lr&&(pr=pr.concat(dr?lr.split(dr):lr)),ar.indexOf(".")>-1&&(pr=ar.split("."),ur=cr,cr=pr[1]),this.addNamespaces(cr),setPath(this.data,pr,ur),fr.silent||this.emit("added",ar,cr,lr,ur)}addResources(ar,cr,lr){let ur=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const fr in lr)(typeof lr[fr]=="string"||Object.prototype.toString.apply(lr[fr])==="[object Array]")&&this.addResource(ar,cr,fr,lr[fr],{silent:!0});ur.silent||this.emit("added",ar,cr,lr)}addResourceBundle(ar,cr,lr,ur,fr){let dr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},pr=[ar,cr];ar.indexOf(".")>-1&&(pr=ar.split("."),ur=lr,lr=cr,cr=pr[1]),this.addNamespaces(cr);let mr=getPath(this.data,pr)||{};ur?deepExtend(mr,lr,fr):mr={...mr,...lr},setPath(this.data,pr,mr),dr.silent||this.emit("added",ar,cr,lr)}removeResourceBundle(ar,cr){this.hasResourceBundle(ar,cr)&&delete this.data[ar][cr],this.removeNamespaces(cr),this.emit("removed",ar,cr)}hasResourceBundle(ar,cr){return this.getResource(ar,cr)!==void 0}getResourceBundle(ar,cr){return cr||(cr=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(ar,cr)}:this.getResource(ar,cr)}getDataByLanguage(ar){return this.data[ar]}hasLanguageSomeTranslations(ar){const cr=this.getDataByLanguage(ar);return!!(cr&&Object.keys(cr)||[]).find(ur=>cr[ur]&&Object.keys(cr[ur]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(or){this.processors[or.name]=or},handle(or,ar,cr,lr,ur){return or.forEach(fr=>{this.processors[fr]&&(ar=this.processors[fr].process(ar,cr,lr,ur))}),ar}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],ar,this),this.options=cr,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(ar){ar&&(this.language=ar)}exists(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(ar==null)return!1;const lr=this.resolve(ar,cr);return lr&&lr.res!==void 0}extractFromKey(ar,cr){let lr=cr.nsSeparator!==void 0?cr.nsSeparator:this.options.nsSeparator;lr===void 0&&(lr=":");const ur=cr.keySeparator!==void 0?cr.keySeparator:this.options.keySeparator;let fr=cr.ns||this.options.defaultNS||[];const dr=lr&&ar.indexOf(lr)>-1,pr=!this.options.userDefinedKeySeparator&&!cr.keySeparator&&!this.options.userDefinedNsSeparator&&!cr.nsSeparator&&!looksLikeObjectPath(ar,lr,ur);if(dr&&!pr){const mr=ar.match(this.interpolator.nestingRegexp);if(mr&&mr.length>0)return{key:ar,namespaces:fr};const gr=ar.split(lr);(lr!==ur||lr===ur&&this.options.ns.indexOf(gr[0])>-1)&&(fr=gr.shift()),ar=gr.join(ur)}return typeof fr=="string"&&(fr=[fr]),{key:ar,namespaces:fr}}translate(ar,cr,lr){if(typeof cr!="object"&&this.options.overloadTranslationOptionHandler&&(cr=this.options.overloadTranslationOptionHandler(arguments)),typeof cr=="object"&&(cr={...cr}),cr||(cr={}),ar==null)return"";Array.isArray(ar)||(ar=[String(ar)]);const ur=cr.returnDetails!==void 0?cr.returnDetails:this.options.returnDetails,fr=cr.keySeparator!==void 0?cr.keySeparator:this.options.keySeparator,{key:dr,namespaces:pr}=this.extractFromKey(ar[ar.length-1],cr),mr=pr[pr.length-1],gr=cr.lng||this.language,vr=cr.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(gr&&gr.toLowerCase()==="cimode"){if(vr){const Pr=cr.nsSeparator||this.options.nsSeparator;return ur?{res:`${mr}${Pr}${dr}`,usedKey:dr,exactUsedKey:dr,usedLng:gr,usedNS:mr,usedParams:this.getUsedParamsDetails(cr)}:`${mr}${Pr}${dr}`}return ur?{res:dr,usedKey:dr,exactUsedKey:dr,usedLng:gr,usedNS:mr,usedParams:this.getUsedParamsDetails(cr)}:dr}const hr=this.resolve(ar,cr);let $r=hr&&hr.res;const xr=hr&&hr.usedKey||dr,br=hr&&hr.exactUsedKey||dr,Er=Object.prototype.toString.apply($r),wr=["[object Number]","[object Function]","[object RegExp]"],yr=cr.joinArrays!==void 0?cr.joinArrays:this.options.joinArrays,_r=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_r&&$r&&(typeof $r!="string"&&typeof $r!="boolean"&&typeof $r!="number")&&wr.indexOf(Er)<0&&!(typeof yr=="string"&&Er==="[object Array]")){if(!cr.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Pr=this.options.returnedObjectHandler?this.options.returnedObjectHandler(xr,$r,{...cr,ns:pr}):`key '${dr} (${this.language})' returned an object instead of string.`;return ur?(hr.res=Pr,hr.usedParams=this.getUsedParamsDetails(cr),hr):Pr}if(fr){const Pr=Er==="[object Array]",Or=Pr?[]:{},Lr=Pr?br:xr;for(const Tr in $r)if(Object.prototype.hasOwnProperty.call($r,Tr)){const jr=`${Lr}${fr}${Tr}`;Or[Tr]=this.translate(jr,{...cr,joinArrays:!1,ns:pr}),Or[Tr]===jr&&(Or[Tr]=$r[Tr])}$r=Or}}else if(_r&&typeof yr=="string"&&Er==="[object Array]")$r=$r.join(yr),$r&&($r=this.extendTranslation($r,ar,cr,lr));else{let Pr=!1,Or=!1;const Lr=cr.count!==void 0&&typeof cr.count!="string",Tr=Translator.hasDefaultValue(cr),jr=Lr?this.pluralResolver.getSuffix(gr,cr.count,cr):"",Rr=cr.ordinal&&Lr?this.pluralResolver.getSuffix(gr,cr.count,{ordinal:!1}):"",Fr=cr[`defaultValue${jr}`]||cr[`defaultValue${Rr}`]||cr.defaultValue;!this.isValidLookup($r)&&Tr&&(Pr=!0,$r=Fr),this.isValidLookup($r)||(Or=!0,$r=dr);const Zr=(cr.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Or?void 0:$r,so=Tr&&Fr!==$r&&this.options.updateMissing;if(Or||Pr||so){if(this.logger.log(so?"updateKey":"missingKey",gr,mr,dr,so?Fr:$r),fr){const eo=this.resolve(dr,{...cr,keySeparator:!1});eo&&eo.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ir=[];const Kr=this.languageUtils.getFallbackCodes(this.options.fallbackLng,cr.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Kr&&Kr[0])for(let eo=0;eo<Kr.length;eo++)Ir.push(Kr[eo]);else this.options.saveMissingTo==="all"?Ir=this.languageUtils.toResolveHierarchy(cr.lng||this.language):Ir.push(cr.lng||this.language);const no=(eo,Wr,Ur)=>{const ro=Tr&&Ur!==$r?Ur:Zr;this.options.missingKeyHandler?this.options.missingKeyHandler(eo,mr,Wr,ro,so,cr):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(eo,mr,Wr,ro,so,cr),this.emit("missingKey",eo,mr,Wr,$r)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Lr?Ir.forEach(eo=>{this.pluralResolver.getSuffixes(eo,cr).forEach(Wr=>{no([eo],dr+Wr,cr[`defaultValue${Wr}`]||Fr)})}):no(Ir,dr,Fr))}$r=this.extendTranslation($r,ar,cr,hr,lr),Or&&$r===dr&&this.options.appendNamespaceToMissingKey&&($r=`${mr}:${dr}`),(Or||Pr)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?$r=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${mr}:${dr}`:dr,Pr?$r:void 0):$r=this.options.parseMissingKeyHandler($r))}return ur?(hr.res=$r,hr.usedParams=this.getUsedParamsDetails(cr),hr):$r}extendTranslation(ar,cr,lr,ur,fr){var dr=this;if(this.i18nFormat&&this.i18nFormat.parse)ar=this.i18nFormat.parse(ar,{...this.options.interpolation.defaultVariables,...lr},lr.lng||this.language||ur.usedLng,ur.usedNS,ur.usedKey,{resolved:ur});else if(!lr.skipInterpolation){lr.interpolation&&this.interpolator.init({...lr,interpolation:{...this.options.interpolation,...lr.interpolation}});const gr=typeof ar=="string"&&(lr&&lr.interpolation&&lr.interpolation.skipOnVariables!==void 0?lr.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let vr;if(gr){const $r=ar.match(this.interpolator.nestingRegexp);vr=$r&&$r.length}let hr=lr.replace&&typeof lr.replace!="string"?lr.replace:lr;if(this.options.interpolation.defaultVariables&&(hr={...this.options.interpolation.defaultVariables,...hr}),ar=this.interpolator.interpolate(ar,hr,lr.lng||this.language,lr),gr){const $r=ar.match(this.interpolator.nestingRegexp),xr=$r&&$r.length;vr<xr&&(lr.nest=!1)}!lr.lng&&this.options.compatibilityAPI!=="v1"&&ur&&ur.res&&(lr.lng=ur.usedLng),lr.nest!==!1&&(ar=this.interpolator.nest(ar,function(){for(var $r=arguments.length,xr=new Array($r),br=0;br<$r;br++)xr[br]=arguments[br];return fr&&fr[0]===xr[0]&&!lr.context?(dr.logger.warn(`It seems you are nesting recursively key: ${xr[0]} in key: ${cr[0]}`),null):dr.translate(...xr,cr)},lr)),lr.interpolation&&this.interpolator.reset()}const pr=lr.postProcess||this.options.postProcess,mr=typeof pr=="string"?[pr]:pr;return ar!=null&&mr&&mr.length&&lr.applyPostProcessor!==!1&&(ar=postProcessor.handle(mr,ar,cr,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...ur,usedParams:this.getUsedParamsDetails(lr)},...lr}:lr,this)),ar}resolve(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lr,ur,fr,dr,pr;return typeof ar=="string"&&(ar=[ar]),ar.forEach(mr=>{if(this.isValidLookup(lr))return;const gr=this.extractFromKey(mr,cr),vr=gr.key;ur=vr;let hr=gr.namespaces;this.options.fallbackNS&&(hr=hr.concat(this.options.fallbackNS));const $r=cr.count!==void 0&&typeof cr.count!="string",xr=$r&&!cr.ordinal&&cr.count===0&&this.pluralResolver.shouldUseIntlApi(),br=cr.context!==void 0&&(typeof cr.context=="string"||typeof cr.context=="number")&&cr.context!=="",Er=cr.lngs?cr.lngs:this.languageUtils.toResolveHierarchy(cr.lng||this.language,cr.fallbackLng);hr.forEach(wr=>{this.isValidLookup(lr)||(pr=wr,!checkedLoadedFor[`${Er[0]}-${wr}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(pr)&&(checkedLoadedFor[`${Er[0]}-${wr}`]=!0,this.logger.warn(`key "${ur}" for languages "${Er.join(", ")}" won't get resolved as namespace "${pr}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Er.forEach(yr=>{if(this.isValidLookup(lr))return;dr=yr;const _r=[vr];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_r,vr,yr,wr,cr);else{let Pr;$r&&(Pr=this.pluralResolver.getSuffix(yr,cr.count,cr));const Or=`${this.options.pluralSeparator}zero`,Lr=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if($r&&(_r.push(vr+Pr),cr.ordinal&&Pr.indexOf(Lr)===0&&_r.push(vr+Pr.replace(Lr,this.options.pluralSeparator)),xr&&_r.push(vr+Or)),br){const Tr=`${vr}${this.options.contextSeparator}${cr.context}`;_r.push(Tr),$r&&(_r.push(Tr+Pr),cr.ordinal&&Pr.indexOf(Lr)===0&&_r.push(Tr+Pr.replace(Lr,this.options.pluralSeparator)),xr&&_r.push(Tr+Or))}}let Sr;for(;Sr=_r.pop();)this.isValidLookup(lr)||(fr=Sr,lr=this.getResource(yr,wr,Sr,cr))}))})}),{res:lr,usedKey:ur,exactUsedKey:fr,usedLng:dr,usedNS:pr}}isValidLookup(ar){return ar!==void 0&&!(!this.options.returnNull&&ar===null)&&!(!this.options.returnEmptyString&&ar==="")}getResource(ar,cr,lr){let ur=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(ar,cr,lr,ur):this.resourceStore.getResource(ar,cr,lr,ur)}getUsedParamsDetails(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const cr=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],lr=ar.replace&&typeof ar.replace!="string";let ur=lr?ar.replace:ar;if(lr&&typeof ar.count<"u"&&(ur.count=ar.count),this.options.interpolation.defaultVariables&&(ur={...this.options.interpolation.defaultVariables,...ur}),!lr){ur={...ur};for(const fr of cr)delete ur[fr]}return ur}static hasDefaultValue(ar){const cr="defaultValue";for(const lr in ar)if(Object.prototype.hasOwnProperty.call(ar,lr)&&cr===lr.substring(0,cr.length)&&ar[lr]!==void 0)return!0;return!1}}function capitalize(or){return or.charAt(0).toUpperCase()+or.slice(1)}class LanguageUtil{constructor(ar){this.options=ar,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(ar){if(ar=getCleanedCode(ar),!ar||ar.indexOf("-")<0)return null;const cr=ar.split("-");return cr.length===2||(cr.pop(),cr[cr.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(cr.join("-"))}getLanguagePartFromCode(ar){if(ar=getCleanedCode(ar),!ar||ar.indexOf("-")<0)return ar;const cr=ar.split("-");return this.formatLanguageCode(cr[0])}formatLanguageCode(ar){if(typeof ar=="string"&&ar.indexOf("-")>-1){const cr=["hans","hant","latn","cyrl","cans","mong","arab"];let lr=ar.split("-");return this.options.lowerCaseLng?lr=lr.map(ur=>ur.toLowerCase()):lr.length===2?(lr[0]=lr[0].toLowerCase(),lr[1]=lr[1].toUpperCase(),cr.indexOf(lr[1].toLowerCase())>-1&&(lr[1]=capitalize(lr[1].toLowerCase()))):lr.length===3&&(lr[0]=lr[0].toLowerCase(),lr[1].length===2&&(lr[1]=lr[1].toUpperCase()),lr[0]!=="sgn"&&lr[2].length===2&&(lr[2]=lr[2].toUpperCase()),cr.indexOf(lr[1].toLowerCase())>-1&&(lr[1]=capitalize(lr[1].toLowerCase())),cr.indexOf(lr[2].toLowerCase())>-1&&(lr[2]=capitalize(lr[2].toLowerCase()))),lr.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?ar.toLowerCase():ar}isSupportedCode(ar){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(ar=this.getLanguagePartFromCode(ar)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(ar)>-1}getBestMatchFromCodes(ar){if(!ar)return null;let cr;return ar.forEach(lr=>{if(cr)return;const ur=this.formatLanguageCode(lr);(!this.options.supportedLngs||this.isSupportedCode(ur))&&(cr=ur)}),!cr&&this.options.supportedLngs&&ar.forEach(lr=>{if(cr)return;const ur=this.getLanguagePartFromCode(lr);if(this.isSupportedCode(ur))return cr=ur;cr=this.options.supportedLngs.find(fr=>{if(fr===ur)return fr;if(!(fr.indexOf("-")<0&&ur.indexOf("-")<0)&&fr.indexOf(ur)===0)return fr})}),cr||(cr=this.getFallbackCodes(this.options.fallbackLng)[0]),cr}getFallbackCodes(ar,cr){if(!ar)return[];if(typeof ar=="function"&&(ar=ar(cr)),typeof ar=="string"&&(ar=[ar]),Object.prototype.toString.apply(ar)==="[object Array]")return ar;if(!cr)return ar.default||[];let lr=ar[cr];return lr||(lr=ar[this.getScriptPartFromCode(cr)]),lr||(lr=ar[this.formatLanguageCode(cr)]),lr||(lr=ar[this.getLanguagePartFromCode(cr)]),lr||(lr=ar.default),lr||[]}toResolveHierarchy(ar,cr){const lr=this.getFallbackCodes(cr||this.options.fallbackLng||[],ar),ur=[],fr=dr=>{dr&&(this.isSupportedCode(dr)?ur.push(dr):this.logger.warn(`rejecting language code not found in supportedLngs: ${dr}`))};return typeof ar=="string"&&(ar.indexOf("-")>-1||ar.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&fr(this.formatLanguageCode(ar)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&fr(this.getScriptPartFromCode(ar)),this.options.load!=="currentOnly"&&fr(this.getLanguagePartFromCode(ar))):typeof ar=="string"&&fr(this.formatLanguageCode(ar)),lr.forEach(dr=>{ur.indexOf(dr)<0&&fr(this.formatLanguageCode(dr))}),ur}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(or){return+(or>1)},2:function(or){return+(or!=1)},3:function(or){return 0},4:function(or){return or%10==1&&or%100!=11?0:or%10>=2&&or%10<=4&&(or%100<10||or%100>=20)?1:2},5:function(or){return or==0?0:or==1?1:or==2?2:or%100>=3&&or%100<=10?3:or%100>=11?4:5},6:function(or){return or==1?0:or>=2&&or<=4?1:2},7:function(or){return or==1?0:or%10>=2&&or%10<=4&&(or%100<10||or%100>=20)?1:2},8:function(or){return or==1?0:or==2?1:or!=8&&or!=11?2:3},9:function(or){return+(or>=2)},10:function(or){return or==1?0:or==2?1:or<7?2:or<11?3:4},11:function(or){return or==1||or==11?0:or==2||or==12?1:or>2&&or<20?2:3},12:function(or){return+(or%10!=1||or%100==11)},13:function(or){return+(or!==0)},14:function(or){return or==1?0:or==2?1:or==3?2:3},15:function(or){return or%10==1&&or%100!=11?0:or%10>=2&&(or%100<10||or%100>=20)?1:2},16:function(or){return or%10==1&&or%100!=11?0:or!==0?1:2},17:function(or){return or==1||or%10==1&&or%100!=11?0:1},18:function(or){return or==0?0:or==1?1:2},19:function(or){return or==1?0:or==0||or%100>1&&or%100<11?1:or%100>10&&or%100<20?2:3},20:function(or){return or==1?0:or==0||or%100>0&&or%100<20?1:2},21:function(or){return or%100==1?1:or%100==2?2:or%100==3||or%100==4?3:0},22:function(or){return or==1?0:or==2?1:(or<0||or>10)&&or%10==0?2:3}};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){const or={};return sets.forEach(ar=>{ar.lngs.forEach(cr=>{or[cr]={numbers:ar.nr,plurals:_rulesPluralsTypes[ar.fc]}})}),or}class PluralResolver{constructor(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=ar,this.options=cr,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}addRule(ar,cr){this.rules[ar]=cr}getRule(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode(ar),{type:cr.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[ar]||this.rules[this.languageUtils.getLanguagePartFromCode(ar)]}needsPlural(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const lr=this.getRule(ar,cr);return this.shouldUseIntlApi()?lr&&lr.resolvedOptions().pluralCategories.length>1:lr&&lr.numbers.length>1}getPluralFormsOfKey(ar,cr){let lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(ar,lr).map(ur=>`${cr}${ur}`)}getSuffixes(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const lr=this.getRule(ar,cr);return lr?this.shouldUseIntlApi()?lr.resolvedOptions().pluralCategories.sort((ur,fr)=>suffixesOrder[ur]-suffixesOrder[fr]).map(ur=>`${this.options.prepend}${cr.ordinal?`ordinal${this.options.prepend}`:""}${ur}`):lr.numbers.map(ur=>this.getSuffix(ar,ur,cr)):[]}getSuffix(ar,cr){let lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ur=this.getRule(ar,lr);return ur?this.shouldUseIntlApi()?`${this.options.prepend}${lr.ordinal?`ordinal${this.options.prepend}`:""}${ur.select(cr)}`:this.getSuffixRetroCompatible(ur,cr):(this.logger.warn(`no plural rule found for: ${ar}`),"")}getSuffixRetroCompatible(ar,cr){const lr=ar.noAbs?ar.plurals(cr):ar.plurals(Math.abs(cr));let ur=ar.numbers[lr];this.options.simplifyPluralSuffix&&ar.numbers.length===2&&ar.numbers[0]===1&&(ur===2?ur="plural":ur===1&&(ur=""));const fr=()=>this.options.prepend&&ur.toString()?this.options.prepend+ur.toString():ur.toString();return this.options.compatibilityJSON==="v1"?ur===1?"":typeof ur=="number"?`_plural_${ur.toString()}`:fr():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&ar.numbers.length===2&&ar.numbers[0]===1?fr():this.options.prepend&&lr.toString()?this.options.prepend+lr.toString():lr.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}function deepFindWithDefaults(or,ar,cr){let lr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",ur=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,fr=getPathWithDefaults(or,ar,cr);return!fr&&ur&&typeof cr=="string"&&(fr=deepFind(or,cr,lr),fr===void 0&&(fr=deepFind(ar,cr,lr))),fr}class Interpolator{constructor(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=ar,this.format=ar.interpolation&&ar.interpolation.format||(cr=>cr),this.init(ar)}init(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ar.interpolation||(ar.interpolation={escapeValue:!0});const cr=ar.interpolation;this.escape=cr.escape!==void 0?cr.escape:escape,this.escapeValue=cr.escapeValue!==void 0?cr.escapeValue:!0,this.useRawValueToEscape=cr.useRawValueToEscape!==void 0?cr.useRawValueToEscape:!1,this.prefix=cr.prefix?regexEscape(cr.prefix):cr.prefixEscaped||"{{",this.suffix=cr.suffix?regexEscape(cr.suffix):cr.suffixEscaped||"}}",this.formatSeparator=cr.formatSeparator?cr.formatSeparator:cr.formatSeparator||",",this.unescapePrefix=cr.unescapeSuffix?"":cr.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":cr.unescapeSuffix||"",this.nestingPrefix=cr.nestingPrefix?regexEscape(cr.nestingPrefix):cr.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=cr.nestingSuffix?regexEscape(cr.nestingSuffix):cr.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=cr.nestingOptionsSeparator?cr.nestingOptionsSeparator:cr.nestingOptionsSeparator||",",this.maxReplaces=cr.maxReplaces?cr.maxReplaces:1e3,this.alwaysFormat=cr.alwaysFormat!==void 0?cr.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const ar=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(ar,"g");const cr=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(cr,"g");const lr=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(lr,"g")}interpolate(ar,cr,lr,ur){let fr,dr,pr;const mr=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function gr(br){return br.replace(/\$/g,"$$$$")}const vr=br=>{if(br.indexOf(this.formatSeparator)<0){const _r=deepFindWithDefaults(cr,mr,br,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_r,void 0,lr,{...ur,...cr,interpolationkey:br}):_r}const Er=br.split(this.formatSeparator),wr=Er.shift().trim(),yr=Er.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(cr,mr,wr,this.options.keySeparator,this.options.ignoreJSONStructure),yr,lr,{...ur,...cr,interpolationkey:wr})};this.resetRegExp();const hr=ur&&ur.missingInterpolationHandler||this.options.missingInterpolationHandler,$r=ur&&ur.interpolation&&ur.interpolation.skipOnVariables!==void 0?ur.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:br=>gr(br)},{regex:this.regexp,safeValue:br=>this.escapeValue?gr(this.escape(br)):gr(br)}].forEach(br=>{for(pr=0;fr=br.regex.exec(ar);){const Er=fr[1].trim();if(dr=vr(Er),dr===void 0)if(typeof hr=="function"){const yr=hr(ar,fr,ur);dr=typeof yr=="string"?yr:""}else if(ur&&Object.prototype.hasOwnProperty.call(ur,Er))dr="";else if($r){dr=fr[0];continue}else this.logger.warn(`missed to pass in variable ${Er} for interpolating ${ar}`),dr="";else typeof dr!="string"&&!this.useRawValueToEscape&&(dr=makeString(dr));const wr=br.safeValue(dr);if(ar=ar.replace(fr[0],wr),$r?(br.regex.lastIndex+=dr.length,br.regex.lastIndex-=fr[0].length):br.regex.lastIndex=0,pr++,pr>=this.maxReplaces)break}}),ar}nest(ar,cr){let lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ur,fr,dr;function pr(mr,gr){const vr=this.nestingOptionsSeparator;if(mr.indexOf(vr)<0)return mr;const hr=mr.split(new RegExp(`${vr}[ ]*{`));let $r=`{${hr[1]}`;mr=hr[0],$r=this.interpolate($r,dr);const xr=$r.match(/'/g),br=$r.match(/"/g);(xr&&xr.length%2===0&&!br||br.length%2!==0)&&($r=$r.replace(/'/g,'"'));try{dr=JSON.parse($r),gr&&(dr={...gr,...dr})}catch(Er){return this.logger.warn(`failed parsing options string in nesting for key ${mr}`,Er),`${mr}${vr}${$r}`}return delete dr.defaultValue,mr}for(;ur=this.nestingRegexp.exec(ar);){let mr=[];dr={...lr},dr=dr.replace&&typeof dr.replace!="string"?dr.replace:dr,dr.applyPostProcessor=!1,delete dr.defaultValue;let gr=!1;if(ur[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(ur[1])){const vr=ur[1].split(this.formatSeparator).map(hr=>hr.trim());ur[1]=vr.shift(),mr=vr,gr=!0}if(fr=cr(pr.call(this,ur[1].trim(),dr),dr),fr&&ur[0]===ar&&typeof fr!="string")return fr;typeof fr!="string"&&(fr=makeString(fr)),fr||(this.logger.warn(`missed to resolve ${ur[1]} for nesting ${ar}`),fr=""),gr&&(fr=mr.reduce((vr,hr)=>this.format(vr,hr,lr.lng,{...lr,interpolationkey:ur[1].trim()}),fr.trim())),ar=ar.replace(ur[0],fr),this.regexp.lastIndex=0}return ar}}function parseFormatStr(or){let ar=or.toLowerCase().trim();const cr={};if(or.indexOf("(")>-1){const lr=or.split("(");ar=lr[0].toLowerCase().trim();const ur=lr[1].substring(0,lr[1].length-1);ar==="currency"&&ur.indexOf(":")<0?cr.currency||(cr.currency=ur.trim()):ar==="relativetime"&&ur.indexOf(":")<0?cr.range||(cr.range=ur.trim()):ur.split(";").forEach(dr=>{if(!dr)return;const[pr,...mr]=dr.split(":"),gr=mr.join(":").trim().replace(/^'+|'+$/g,"");cr[pr.trim()]||(cr[pr.trim()]=gr),gr==="false"&&(cr[pr.trim()]=!1),gr==="true"&&(cr[pr.trim()]=!0),isNaN(gr)||(cr[pr.trim()]=parseInt(gr,10))})}return{formatName:ar,formatOptions:cr}}function createCachedFormatter(or){const ar={};return function(lr,ur,fr){const dr=ur+JSON.stringify(fr);let pr=ar[dr];return pr||(pr=or(getCleanedCode(ur),fr),ar[dr]=pr),pr(lr)}}class Formatter{constructor(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=ar,this.formats={number:createCachedFormatter((cr,lr)=>{const ur=new Intl.NumberFormat(cr,{...lr});return fr=>ur.format(fr)}),currency:createCachedFormatter((cr,lr)=>{const ur=new Intl.NumberFormat(cr,{...lr,style:"currency"});return fr=>ur.format(fr)}),datetime:createCachedFormatter((cr,lr)=>{const ur=new Intl.DateTimeFormat(cr,{...lr});return fr=>ur.format(fr)}),relativetime:createCachedFormatter((cr,lr)=>{const ur=new Intl.RelativeTimeFormat(cr,{...lr});return fr=>ur.format(fr,lr.range||"day")}),list:createCachedFormatter((cr,lr)=>{const ur=new Intl.ListFormat(cr,{...lr});return fr=>ur.format(fr)})},this.init(ar)}init(ar){const lr=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=lr.formatSeparator?lr.formatSeparator:lr.formatSeparator||","}add(ar,cr){this.formats[ar.toLowerCase().trim()]=cr}addCached(ar,cr){this.formats[ar.toLowerCase().trim()]=createCachedFormatter(cr)}format(ar,cr,lr){let ur=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return cr.split(this.formatSeparator).reduce((pr,mr)=>{const{formatName:gr,formatOptions:vr}=parseFormatStr(mr);if(this.formats[gr]){let hr=pr;try{const $r=ur&&ur.formatParams&&ur.formatParams[ur.interpolationkey]||{},xr=$r.locale||$r.lng||ur.locale||ur.lng||lr;hr=this.formats[gr](pr,xr,{...vr,...ur,...$r})}catch($r){this.logger.warn($r)}return hr}else this.logger.warn(`there was no format function for ${gr}`);return pr},ar)}}function removePending(or,ar){or.pending[ar]!==void 0&&(delete or.pending[ar],or.pendingCount--)}class Connector extends EventEmitter{constructor(ar,cr,lr){let ur=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=ar,this.store=cr,this.services=lr,this.languageUtils=lr.languageUtils,this.options=ur,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=ur.maxParallelReads||10,this.readingCalls=0,this.maxRetries=ur.maxRetries>=0?ur.maxRetries:5,this.retryTimeout=ur.retryTimeout>=1?ur.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(lr,ur.backend,ur)}queueLoad(ar,cr,lr,ur){const fr={},dr={},pr={},mr={};return ar.forEach(gr=>{let vr=!0;cr.forEach(hr=>{const $r=`${gr}|${hr}`;!lr.reload&&this.store.hasResourceBundle(gr,hr)?this.state[$r]=2:this.state[$r]<0||(this.state[$r]===1?dr[$r]===void 0&&(dr[$r]=!0):(this.state[$r]=1,vr=!1,dr[$r]===void 0&&(dr[$r]=!0),fr[$r]===void 0&&(fr[$r]=!0),mr[hr]===void 0&&(mr[hr]=!0)))}),vr||(pr[gr]=!0)}),(Object.keys(fr).length||Object.keys(dr).length)&&this.queue.push({pending:dr,pendingCount:Object.keys(dr).length,loaded:{},errors:[],callback:ur}),{toLoad:Object.keys(fr),pending:Object.keys(dr),toLoadLanguages:Object.keys(pr),toLoadNamespaces:Object.keys(mr)}}loaded(ar,cr,lr){const ur=ar.split("|"),fr=ur[0],dr=ur[1];cr&&this.emit("failedLoading",fr,dr,cr),lr&&this.store.addResourceBundle(fr,dr,lr),this.state[ar]=cr?-1:2;const pr={};this.queue.forEach(mr=>{pushPath(mr.loaded,[fr],dr),removePending(mr,ar),cr&&mr.errors.push(cr),mr.pendingCount===0&&!mr.done&&(Object.keys(mr.loaded).forEach(gr=>{pr[gr]||(pr[gr]={});const vr=mr.loaded[gr];vr.length&&vr.forEach(hr=>{pr[gr][hr]===void 0&&(pr[gr][hr]=!0)})}),mr.done=!0,mr.errors.length?mr.callback(mr.errors):mr.callback())}),this.emit("loaded",pr),this.queue=this.queue.filter(mr=>!mr.done)}read(ar,cr,lr){let ur=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,fr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,dr=arguments.length>5?arguments[5]:void 0;if(!ar.length)return dr(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:ar,ns:cr,fcName:lr,tried:ur,wait:fr,callback:dr});return}this.readingCalls++;const pr=(gr,vr)=>{if(this.readingCalls--,this.waitingReads.length>0){const hr=this.waitingReads.shift();this.read(hr.lng,hr.ns,hr.fcName,hr.tried,hr.wait,hr.callback)}if(gr&&vr&&ur<this.maxRetries){setTimeout(()=>{this.read.call(this,ar,cr,lr,ur+1,fr*2,dr)},fr);return}dr(gr,vr)},mr=this.backend[lr].bind(this.backend);if(mr.length===2){try{const gr=mr(ar,cr);gr&&typeof gr.then=="function"?gr.then(vr=>pr(null,vr)).catch(pr):pr(null,gr)}catch(gr){pr(gr)}return}return mr(ar,cr,pr)}prepareLoading(ar,cr){let lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ur=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),ur&&ur();typeof ar=="string"&&(ar=this.languageUtils.toResolveHierarchy(ar)),typeof cr=="string"&&(cr=[cr]);const fr=this.queueLoad(ar,cr,lr,ur);if(!fr.toLoad.length)return fr.pending.length||ur(),null;fr.toLoad.forEach(dr=>{this.loadOne(dr)})}load(ar,cr,lr){this.prepareLoading(ar,cr,{},lr)}reload(ar,cr,lr){this.prepareLoading(ar,cr,{reload:!0},lr)}loadOne(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const lr=ar.split("|"),ur=lr[0],fr=lr[1];this.read(ur,fr,"read",void 0,void 0,(dr,pr)=>{dr&&this.logger.warn(`${cr}loading namespace ${fr} for language ${ur} failed`,dr),!dr&&pr&&this.logger.log(`${cr}loaded namespace ${fr} for language ${ur}`,pr),this.loaded(ar,dr,pr)})}saveMissing(ar,cr,lr,ur,fr){let dr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},pr=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(cr)){this.logger.warn(`did not save key "${lr}" as the namespace "${cr}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(lr==null||lr==="")){if(this.backend&&this.backend.create){const mr={...dr,isUpdate:fr},gr=this.backend.create.bind(this.backend);if(gr.length<6)try{let vr;gr.length===5?vr=gr(ar,cr,lr,ur,mr):vr=gr(ar,cr,lr,ur),vr&&typeof vr.then=="function"?vr.then(hr=>pr(null,hr)).catch(pr):pr(null,vr)}catch(vr){pr(vr)}else gr(ar,cr,lr,ur,pr,mr)}!ar||!ar[0]||this.store.addResource(ar[0],cr,lr,ur)}}}function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(ar){let cr={};if(typeof ar[1]=="object"&&(cr=ar[1]),typeof ar[1]=="string"&&(cr.defaultValue=ar[1]),typeof ar[2]=="string"&&(cr.tDescription=ar[2]),typeof ar[2]=="object"||typeof ar[3]=="object"){const lr=ar[3]||ar[2];Object.keys(lr).forEach(ur=>{cr[ur]=lr[ur]})}return cr},interpolation:{escapeValue:!0,format:(or,ar,cr,lr)=>or,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(or){return typeof or.ns=="string"&&(or.ns=[or.ns]),typeof or.fallbackLng=="string"&&(or.fallbackLng=[or.fallbackLng]),typeof or.fallbackNS=="string"&&(or.fallbackNS=[or.fallbackNS]),or.supportedLngs&&or.supportedLngs.indexOf("cimode")<0&&(or.supportedLngs=or.supportedLngs.concat(["cimode"])),or}function noop$2(){}function bindMemberFunctions(or){Object.getOwnPropertyNames(Object.getPrototypeOf(or)).forEach(cr=>{typeof or[cr]=="function"&&(or[cr]=or[cr].bind(or))})}class I18n extends EventEmitter{constructor(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cr=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(ar),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),cr&&!this.isInitialized&&!ar.isClone){if(!this.options.initImmediate)return this.init(ar,cr),this;setTimeout(()=>{this.init(ar,cr)},0)}}init(){var ar=this;let cr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lr=arguments.length>1?arguments[1]:void 0;typeof cr=="function"&&(lr=cr,cr={}),!cr.defaultNS&&cr.defaultNS!==!1&&cr.ns&&(typeof cr.ns=="string"?cr.defaultNS=cr.ns:cr.ns.indexOf("translation")<0&&(cr.defaultNS=cr.ns[0]));const ur=get();this.options={...ur,...this.options,...transformOptions(cr)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...ur.interpolation,...this.options.interpolation}),cr.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=cr.keySeparator),cr.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=cr.nsSeparator);function fr(vr){return vr?typeof vr=="function"?new vr:vr:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(fr(this.modules.logger),this.options):baseLogger.init(null,this.options);let vr;this.modules.formatter?vr=this.modules.formatter:typeof Intl<"u"&&(vr=Formatter);const hr=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const $r=this.services;$r.logger=baseLogger,$r.resourceStore=this.store,$r.languageUtils=hr,$r.pluralResolver=new PluralResolver(hr,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),vr&&(!this.options.interpolation.format||this.options.interpolation.format===ur.interpolation.format)&&($r.formatter=fr(vr),$r.formatter.init($r,this.options),this.options.interpolation.format=$r.formatter.format.bind($r.formatter)),$r.interpolator=new Interpolator(this.options),$r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},$r.backendConnector=new Connector(fr(this.modules.backend),$r.resourceStore,$r,this.options),$r.backendConnector.on("*",function(xr){for(var br=arguments.length,Er=new Array(br>1?br-1:0),wr=1;wr<br;wr++)Er[wr-1]=arguments[wr];ar.emit(xr,...Er)}),this.modules.languageDetector&&($r.languageDetector=fr(this.modules.languageDetector),$r.languageDetector.init&&$r.languageDetector.init($r,this.options.detection,this.options)),this.modules.i18nFormat&&($r.i18nFormat=fr(this.modules.i18nFormat),$r.i18nFormat.init&&$r.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(xr){for(var br=arguments.length,Er=new Array(br>1?br-1:0),wr=1;wr<br;wr++)Er[wr-1]=arguments[wr];ar.emit(xr,...Er)}),this.modules.external.forEach(xr=>{xr.init&&xr.init(this)})}if(this.format=this.options.interpolation.format,lr||(lr=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const vr=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);vr.length>0&&vr[0]!=="dev"&&(this.options.lng=vr[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(vr=>{this[vr]=function(){return ar.store[vr](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(vr=>{this[vr]=function(){return ar.store[vr](...arguments),ar}});const mr=defer(),gr=()=>{const vr=(hr,$r)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),mr.resolve($r),lr(hr,$r)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return vr(null,this.t.bind(this));this.changeLanguage(this.options.lng,vr)};return this.options.resources||!this.options.initImmediate?gr():setTimeout(gr,0),mr}loadResources(ar){let lr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const ur=typeof ar=="string"?ar:this.language;if(typeof ar=="function"&&(lr=ar),!this.options.resources||this.options.partialBundledLanguages){if(ur&&ur.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return lr();const fr=[],dr=pr=>{if(!pr||pr==="cimode")return;this.services.languageUtils.toResolveHierarchy(pr).forEach(gr=>{gr!=="cimode"&&fr.indexOf(gr)<0&&fr.push(gr)})};ur?dr(ur):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(mr=>dr(mr)),this.options.preload&&this.options.preload.forEach(pr=>dr(pr)),this.services.backendConnector.load(fr,this.options.ns,pr=>{!pr&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),lr(pr)})}else lr(null)}reloadResources(ar,cr,lr){const ur=defer();return ar||(ar=this.languages),cr||(cr=this.options.ns),lr||(lr=noop$2),this.services.backendConnector.reload(ar,cr,fr=>{ur.resolve(),lr(fr)}),ur}use(ar){if(!ar)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!ar.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return ar.type==="backend"&&(this.modules.backend=ar),(ar.type==="logger"||ar.log&&ar.warn&&ar.error)&&(this.modules.logger=ar),ar.type==="languageDetector"&&(this.modules.languageDetector=ar),ar.type==="i18nFormat"&&(this.modules.i18nFormat=ar),ar.type==="postProcessor"&&postProcessor.addPostProcessor(ar),ar.type==="formatter"&&(this.modules.formatter=ar),ar.type==="3rdParty"&&this.modules.external.push(ar),this}setResolvedLanguage(ar){if(!(!ar||!this.languages)&&!(["cimode","dev"].indexOf(ar)>-1))for(let cr=0;cr<this.languages.length;cr++){const lr=this.languages[cr];if(!(["cimode","dev"].indexOf(lr)>-1)&&this.store.hasLanguageSomeTranslations(lr)){this.resolvedLanguage=lr;break}}}changeLanguage(ar,cr){var lr=this;this.isLanguageChangingTo=ar;const ur=defer();this.emit("languageChanging",ar);const fr=mr=>{this.language=mr,this.languages=this.services.languageUtils.toResolveHierarchy(mr),this.resolvedLanguage=void 0,this.setResolvedLanguage(mr)},dr=(mr,gr)=>{gr?(fr(gr),this.translator.changeLanguage(gr),this.isLanguageChangingTo=void 0,this.emit("languageChanged",gr),this.logger.log("languageChanged",gr)):this.isLanguageChangingTo=void 0,ur.resolve(function(){return lr.t(...arguments)}),cr&&cr(mr,function(){return lr.t(...arguments)})},pr=mr=>{!ar&&!mr&&this.services.languageDetector&&(mr=[]);const gr=typeof mr=="string"?mr:this.services.languageUtils.getBestMatchFromCodes(mr);gr&&(this.language||fr(gr),this.translator.language||this.translator.changeLanguage(gr),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(gr)),this.loadResources(gr,vr=>{dr(vr,gr)})};return!ar&&this.services.languageDetector&&!this.services.languageDetector.async?pr(this.services.languageDetector.detect()):!ar&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(pr):this.services.languageDetector.detect(pr):pr(ar),ur}getFixedT(ar,cr,lr){var ur=this;const fr=function(dr,pr){let mr;if(typeof pr!="object"){for(var gr=arguments.length,vr=new Array(gr>2?gr-2:0),hr=2;hr<gr;hr++)vr[hr-2]=arguments[hr];mr=ur.options.overloadTranslationOptionHandler([dr,pr].concat(vr))}else mr={...pr};mr.lng=mr.lng||fr.lng,mr.lngs=mr.lngs||fr.lngs,mr.ns=mr.ns||fr.ns,mr.keyPrefix=mr.keyPrefix||lr||fr.keyPrefix;const $r=ur.options.keySeparator||".";let xr;return mr.keyPrefix&&Array.isArray(dr)?xr=dr.map(br=>`${mr.keyPrefix}${$r}${br}`):xr=mr.keyPrefix?`${mr.keyPrefix}${$r}${dr}`:dr,ur.t(xr,mr)};return typeof ar=="string"?fr.lng=ar:fr.lngs=ar,fr.ns=cr,fr.keyPrefix=lr,fr}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(ar){this.options.defaultNS=ar}hasLoadedNamespace(ar){let cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const lr=cr.lng||this.resolvedLanguage||this.languages[0],ur=this.options?this.options.fallbackLng:!1,fr=this.languages[this.languages.length-1];if(lr.toLowerCase()==="cimode")return!0;const dr=(pr,mr)=>{const gr=this.services.backendConnector.state[`${pr}|${mr}`];return gr===-1||gr===2};if(cr.precheck){const pr=cr.precheck(this,dr);if(pr!==void 0)return pr}return!!(this.hasResourceBundle(lr,ar)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||dr(lr,ar)&&(!ur||dr(fr,ar)))}loadNamespaces(ar,cr){const lr=defer();return this.options.ns?(typeof ar=="string"&&(ar=[ar]),ar.forEach(ur=>{this.options.ns.indexOf(ur)<0&&this.options.ns.push(ur)}),this.loadResources(ur=>{lr.resolve(),cr&&cr(ur)}),lr):(cr&&cr(),Promise.resolve())}loadLanguages(ar,cr){const lr=defer();typeof ar=="string"&&(ar=[ar]);const ur=this.options.preload||[],fr=ar.filter(dr=>ur.indexOf(dr)<0);return fr.length?(this.options.preload=ur.concat(fr),this.loadResources(dr=>{lr.resolve(),cr&&cr(dr)}),lr):(cr&&cr(),Promise.resolve())}dir(ar){if(ar||(ar=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!ar)return"rtl";const cr=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],lr=this.services&&this.services.languageUtils||new LanguageUtil(get());return cr.indexOf(lr.getLanguagePartFromCode(ar))>-1||ar.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cr=arguments.length>1?arguments[1]:void 0;return new I18n(ar,cr)}cloneInstance(){let ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const lr=ar.forkResourceStore;lr&&delete ar.forkResourceStore;const ur={...this.options,...ar,isClone:!0},fr=new I18n(ur);return(ar.debug!==void 0||ar.prefix!==void 0)&&(fr.logger=fr.logger.clone(ar)),["store","services","language"].forEach(pr=>{fr[pr]=this[pr]}),fr.services={...this.services},fr.services.utils={hasLoadedNamespace:fr.hasLoadedNamespace.bind(fr)},lr&&(fr.store=new ResourceStore(this.store.data,ur),fr.services.resourceStore=fr.store),fr.translator=new Translator(fr.services,ur),fr.translator.on("*",function(pr){for(var mr=arguments.length,gr=new Array(mr>1?mr-1:0),vr=1;vr<mr;vr++)gr[vr-1]=arguments[vr];fr.emit(pr,...gr)}),fr.init(ur,cr),fr.translator.options=ur,fr.translator.backendConnector.services.utils={hasLoadedNamespace:fr.hasLoadedNamespace.bind(fr)},fr}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(or){for(var ar=1;ar<arguments.length;ar++){var cr=arguments[ar];for(var lr in cr)Object.prototype.hasOwnProperty.call(cr,lr)&&(or[lr]=cr[lr])}return or},_extends$2.apply(this,arguments)}function warn(){if(console&&console.warn){for(var or=arguments.length,ar=new Array(or),cr=0;cr<or;cr++)ar[cr]=arguments[cr];typeof ar[0]=="string"&&(ar[0]=`react-i18next:: ${ar[0]}`),console.warn(...ar)}}const alreadyWarned={};function warnOnce(){for(var or=arguments.length,ar=new Array(or),cr=0;cr<or;cr++)ar[cr]=arguments[cr];typeof ar[0]=="string"&&alreadyWarned[ar[0]]||(typeof ar[0]=="string"&&(alreadyWarned[ar[0]]=new Date),warn(...ar))}const loadedClb=(or,ar)=>()=>{if(or.isInitialized)ar();else{const cr=()=>{setTimeout(()=>{or.off("initialized",cr)},0),ar()};or.on("initialized",cr)}};function loadNamespaces(or,ar,cr){or.loadNamespaces(ar,loadedClb(or,cr))}function loadLanguages(or,ar,cr,lr){typeof cr=="string"&&(cr=[cr]),cr.forEach(ur=>{or.options.ns.indexOf(ur)<0&&or.options.ns.push(ur)}),or.loadLanguages(ar,loadedClb(or,lr))}function oldI18nextHasLoadedNamespace(or,ar){let cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const lr=ar.languages[0],ur=ar.options?ar.options.fallbackLng:!1,fr=ar.languages[ar.languages.length-1];if(lr.toLowerCase()==="cimode")return!0;const dr=(pr,mr)=>{const gr=ar.services.backendConnector.state[`${pr}|${mr}`];return gr===-1||gr===2};return cr.bindI18n&&cr.bindI18n.indexOf("languageChanging")>-1&&ar.services.backendConnector.backend&&ar.isLanguageChangingTo&&!dr(ar.isLanguageChangingTo,or)?!1:!!(ar.hasResourceBundle(lr,or)||!ar.services.backendConnector.backend||ar.options.resources&&!ar.options.partialBundledLanguages||dr(lr,or)&&(!ur||dr(fr,or)))}function hasLoadedNamespace(or,ar){let cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!ar.languages||!ar.languages.length?(warnOnce("i18n.languages were undefined or empty",ar.languages),!0):ar.options.ignoreJSONStructure!==void 0?ar.hasLoadedNamespace(or,{lng:cr.lng,precheck:(ur,fr)=>{if(cr.bindI18n&&cr.bindI18n.indexOf("languageChanging")>-1&&ur.services.backendConnector.backend&&ur.isLanguageChangingTo&&!fr(ur.isLanguageChangingTo,or))return!1}}):oldI18nextHasLoadedNamespace(or,ar,cr)}const matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=or=>htmlEntities[or],unescape=or=>or.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};function setDefaults(){let or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions={...defaultOptions,...or}}function getDefaults$2(){return defaultOptions}let i18nInstance;function setI18n(or){i18nInstance=or}function getI18n(){return i18nInstance}const initReactI18next={type:"3rdParty",init(or){setDefaults(or.options.react),setI18n(or)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(ar){ar.forEach(cr=>{this.usedNamespaces[cr]||(this.usedNamespaces[cr]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious$1=(or,ar)=>{const cr=reactExports.useRef();return reactExports.useEffect(()=>{cr.current=ar?cr.current:or},[or,ar]),cr.current};function useTranslation(or){let ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:cr}=ar,{i18n:lr,defaultNS:ur}=reactExports.useContext(I18nContext)||{},fr=cr||lr||getI18n();if(fr&&!fr.reportNamespaces&&(fr.reportNamespaces=new ReportNamespaces),!fr){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const Sr=(Or,Lr)=>typeof Lr=="string"?Lr:Lr&&typeof Lr=="object"&&typeof Lr.defaultValue=="string"?Lr.defaultValue:Array.isArray(Or)?Or[Or.length-1]:Or,Pr=[Sr,{},!1];return Pr.t=Sr,Pr.i18n={},Pr.ready=!1,Pr}fr.options.react&&fr.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const dr={...getDefaults$2(),...fr.options.react,...ar},{useSuspense:pr,keyPrefix:mr}=dr;let gr=or||ur||fr.options&&fr.options.defaultNS;gr=typeof gr=="string"?[gr]:gr||["translation"],fr.reportNamespaces.addUsedNamespaces&&fr.reportNamespaces.addUsedNamespaces(gr);const vr=(fr.isInitialized||fr.initializedStoreOnce)&&gr.every(Sr=>hasLoadedNamespace(Sr,fr,dr));function hr(){return fr.getFixedT(ar.lng||null,dr.nsMode==="fallback"?gr:gr[0],mr)}const[$r,xr]=reactExports.useState(hr);let br=gr.join();ar.lng&&(br=`${ar.lng}${br}`);const Er=usePrevious$1(br),wr=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:Sr,bindI18nStore:Pr}=dr;wr.current=!0,!vr&&!pr&&(ar.lng?loadLanguages(fr,ar.lng,gr,()=>{wr.current&&xr(hr)}):loadNamespaces(fr,gr,()=>{wr.current&&xr(hr)})),vr&&Er&&Er!==br&&wr.current&&xr(hr);function Or(){wr.current&&xr(hr)}return Sr&&fr&&fr.on(Sr,Or),Pr&&fr&&fr.store.on(Pr,Or),()=>{wr.current=!1,Sr&&fr&&Sr.split(" ").forEach(Lr=>fr.off(Lr,Or)),Pr&&fr&&Pr.split(" ").forEach(Lr=>fr.store.off(Lr,Or))}},[fr,br]);const yr=reactExports.useRef(!0);reactExports.useEffect(()=>{wr.current&&!yr.current&&xr(hr),yr.current=!1},[fr,mr]);const _r=[$r,fr,vr];if(_r.t=$r,_r.i18n=fr,_r.ready=vr,vr||!vr&&!pr)return _r;throw new Promise(Sr=>{ar.lng?loadLanguages(fr,ar.lng,gr,()=>Sr()):loadNamespaces(fr,gr,()=>Sr())})}function _classCallCheck(or,ar){if(!(or instanceof ar))throw new TypeError("Cannot call a class as a function")}function _typeof(or){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ar){return typeof ar}:function(ar){return ar&&typeof Symbol=="function"&&ar.constructor===Symbol&&ar!==Symbol.prototype?"symbol":typeof ar},_typeof(or)}function toPrimitive(or,ar){if(_typeof(or)!="object"||!or)return or;var cr=or[Symbol.toPrimitive];if(cr!==void 0){var lr=cr.call(or,ar||"default");if(_typeof(lr)!="object")return lr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ar==="string"?String:Number)(or)}function toPropertyKey(or){var ar=toPrimitive(or,"string");return _typeof(ar)=="symbol"?ar:String(ar)}function _defineProperties(or,ar){for(var cr=0;cr<ar.length;cr++){var lr=ar[cr];lr.enumerable=lr.enumerable||!1,lr.configurable=!0,"value"in lr&&(lr.writable=!0),Object.defineProperty(or,toPropertyKey(lr.key),lr)}}function _createClass(or,ar,cr){return ar&&_defineProperties(or.prototype,ar),cr&&_defineProperties(or,cr),Object.defineProperty(or,"prototype",{writable:!1}),or}var arr$1=[],each$2=arr$1.forEach,slice$1=arr$1.slice;function defaults$3(or){return each$2.call(slice$1.call(arguments,1),function(ar){if(ar)for(var cr in ar)or[cr]===void 0&&(or[cr]=ar[cr])}),or}function createClassOnDemand(or){return or?typeof or=="function"?new or:or:null}function getDefaults$1(){return{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}}function handleCorrectReadFunction(or,ar,cr,lr){var ur=or.read.bind(or);if(ur.length===2){try{var fr=ur(ar,cr);fr&&typeof fr.then=="function"?fr.then(function(dr){return lr(null,dr)}).catch(lr):lr(null,fr)}catch(dr){lr(dr)}return}ur(ar,cr,lr)}var Backend$1=function(){function or(ar){var cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,or),this.backends=[],this.type="backend",this.allOptions=lr,this.init(ar,cr)}return _createClass(or,[{key:"init",value:function(cr){var lr=this,ur=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=cr,this.options=defaults$3(ur,this.options||{},getDefaults$1()),this.allOptions=fr,this.options.backends&&this.options.backends.forEach(function(dr,pr){lr.backends[pr]=lr.backends[pr]||createClassOnDemand(dr),lr.backends[pr].init(cr,lr.options.backendOptions&&lr.options.backendOptions[pr]||{},fr)}),this.services&&this.options.reloadInterval&&setInterval(function(){return lr.reload()},this.options.reloadInterval)}},{key:"read",value:function(cr,lr,ur){var fr=this,dr=this.backends.length,pr=function gr(vr){if(vr>=dr)return ur(new Error("non of the backend loaded data",!0));var hr=vr===dr-1,$r=fr.options.handleEmptyResourcesAsFailed&&!hr?0:-1,xr=fr.backends[vr];xr.read?handleCorrectReadFunction(xr,cr,lr,function(br,Er,wr){if(!br&&Er&&Object.keys(Er).length>$r){if(ur(null,Er,vr),mr(vr-1,Er),xr.save&&fr.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(fr.options.cacheHitMode)>-1){if(wr&&fr.options.refreshExpirationTime&&wr+fr.options.refreshExpirationTime>Date.now())return;var yr=fr.backends[vr+1];yr&&yr.read&&handleCorrectReadFunction(yr,cr,lr,function(_r,Sr){_r||Sr&&(Object.keys(Sr).length<=$r||(mr(vr,Sr),fr.options.cacheHitMode==="refreshAndUpdateStore"&&fr.services&&fr.services.resourceStore&&fr.services.resourceStore.addResourceBundle(cr,lr,Sr)))})}}else gr(vr+1)}):gr(vr+1)},mr=function gr(vr,hr){if(!(vr<0)){var $r=fr.backends[vr];$r.save&&$r.save(cr,lr,hr),gr(vr-1,hr)}};pr(0)}},{key:"create",value:function(cr,lr,ur,fr){var dr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},pr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.backends.forEach(function(mr){if(mr.create){var gr=mr.create.bind(mr);if(gr.length<6){try{var vr;gr.length===5?vr=gr(cr,lr,ur,fr,pr):vr=gr(cr,lr,ur,fr),vr&&typeof vr.then=="function"?vr.then(function(hr){return dr(null,hr)}).catch(dr):dr(null,vr)}catch(hr){dr(hr)}return}gr(cr,lr,ur,fr,dr,pr)}})}},{key:"reload",value:function(){var cr=this,lr=this.services,ur=lr.backendConnector,fr=lr.languageUtils,dr=lr.logger,pr=ur.language;if(!(pr&&pr.toLowerCase()==="cimode")){var mr=[],gr=function(hr){var $r=fr.toResolveHierarchy(hr);$r.forEach(function(xr){mr.indexOf(xr)<0&&mr.push(xr)})};gr(pr),this.allOptions.preload&&this.allOptions.preload.forEach(function(vr){return gr(vr)}),mr.forEach(function(vr){cr.allOptions.ns.forEach(function(hr){ur.read(vr,hr,"read",null,null,function($r,xr){$r&&dr.warn("loading namespace ".concat(hr," for language ").concat(vr," failed"),$r),!$r&&xr&&dr.log("loaded namespace ".concat(hr," for language ").concat(vr),xr),ur.loaded("".concat(vr,"|").concat(hr),$r,xr)})})})}}}]),or}();Backend$1.type="backend";const defaults$2={loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",multiSeparator:"+",allowMultiLoading:!1,fetch:typeof fetch>"u"?void 0:fetch,parse:JSON.parse,stringify:JSON.stringify,requestOptions:{}},arrify=or=>Array.isArray(or)?or:[or],normalize=(or,...ar)=>typeof or=="function"?or(...ar):or;class BackendError extends Error{constructor(cr,lr=!1){super(cr);Fs(this,"retry",null);this.retry=lr}}class Backend{constructor(ar,cr){Fs(this,"type","backend");this.init(ar,cr)}init(ar,cr={}){this.services=ar,this.options={...defaults$2,...this.options,...cr}}getLoadPath(ar,cr){return normalize(this.options.loadPath,ar,cr)}read(ar,cr,lr){const ur=this.getLoadPath(ar,cr),fr=this.services.interpolator.interpolate(ur,{lng:ar,ns:cr});this.loadUrl(fr,lr)}readMulti(ar,cr,lr){const ur=this.getLoadPath(ar,cr),{multiSeparator:fr}=this.options,dr=this.services.interpolator.interpolate(ur,{lng:ar.join(fr),ns:cr.join(fr)});this.loadUrl(dr,lr)}loadUrl(ar,cr){const{fetch:lr,requestOptions:ur,parse:fr}=this.options;lr(ar,ur).then(dr=>{const{ok:pr,status:mr}=dr;if(!pr){const gr=mr>=500&&mr<600;throw new BackendError(`failed loading ${ar}`,gr)}return dr.text()},()=>{throw new BackendError(`failed loading ${ar}`)}).then(dr=>{try{return cr(null,fr(dr,ar))}catch{throw new BackendError(`failed parsing ${ar} to json`,!1)}}).catch(dr=>{dr instanceof BackendError&&cr(dr.message,dr.retry)})}create(ar,cr,lr,ur){const fr={[lr]:ur||""};arrify(ar).forEach(dr=>{const{addPath:pr,requestOptions:mr,fetch:gr,stringify:vr}=this.options,hr=this.services.interpolator.interpolate(pr,{lng:dr,ns:cr});try{gr(hr,{method:"POST",body:vr(fr),...mr})}catch($r){console.error($r)}})}}Fs(Backend,"type","backend");var arr=[],each$1=arr.forEach,slice=arr.slice;function defaults$1(or){return each$1.call(slice.call(arguments,1),function(ar){if(ar)for(var cr in ar)or[cr]===void 0&&(or[cr]=ar[cr])}),or}var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function or(ar,cr,lr){var ur=lr||{};ur.path=ur.path||"/";var fr=encodeURIComponent(cr),dr="".concat(ar,"=").concat(fr);if(ur.maxAge>0){var pr=ur.maxAge-0;if(Number.isNaN(pr))throw new Error("maxAge should be a Number");dr+="; Max-Age=".concat(Math.floor(pr))}if(ur.domain){if(!fieldContentRegExp.test(ur.domain))throw new TypeError("option domain is invalid");dr+="; Domain=".concat(ur.domain)}if(ur.path){if(!fieldContentRegExp.test(ur.path))throw new TypeError("option path is invalid");dr+="; Path=".concat(ur.path)}if(ur.expires){if(typeof ur.expires.toUTCString!="function")throw new TypeError("option expires is invalid");dr+="; Expires=".concat(ur.expires.toUTCString())}if(ur.httpOnly&&(dr+="; HttpOnly"),ur.secure&&(dr+="; Secure"),ur.sameSite){var mr=typeof ur.sameSite=="string"?ur.sameSite.toLowerCase():ur.sameSite;switch(mr){case!0:dr+="; SameSite=Strict";break;case"lax":dr+="; SameSite=Lax";break;case"strict":dr+="; SameSite=Strict";break;case"none":dr+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return dr},cookie={create:function or(ar,cr,lr,ur){var fr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};lr&&(fr.expires=new Date,fr.expires.setTime(fr.expires.getTime()+lr*60*1e3)),ur&&(fr.domain=ur),document.cookie=serializeCookie(ar,encodeURIComponent(cr),fr)},read:function or(ar){for(var cr="".concat(ar,"="),lr=document.cookie.split(";"),ur=0;ur<lr.length;ur++){for(var fr=lr[ur];fr.charAt(0)===" ";)fr=fr.substring(1,fr.length);if(fr.indexOf(cr)===0)return fr.substring(cr.length,fr.length)}return null},remove:function or(ar){this.create(ar,"",-1)}},cookie$1={name:"cookie",lookup:function or(ar){var cr;if(ar.lookupCookie&&typeof document<"u"){var lr=cookie.read(ar.lookupCookie);lr&&(cr=lr)}return cr},cacheUserLanguage:function or(ar,cr){cr.lookupCookie&&typeof document<"u"&&cookie.create(cr.lookupCookie,ar,cr.cookieMinutes,cr.cookieDomain,cr.cookieOptions)}},querystring={name:"querystring",lookup:function or(ar){var cr;if(typeof window<"u"){var lr=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(lr=window.location.hash.substring(window.location.hash.indexOf("?")));for(var ur=lr.substring(1),fr=ur.split("&"),dr=0;dr<fr.length;dr++){var pr=fr[dr].indexOf("=");if(pr>0){var mr=fr[dr].substring(0,pr);mr===ar.lookupQuerystring&&(cr=fr[dr].substring(pr+1))}}}return cr}},hasLocalStorageSupport=null,localStorageAvailable=function or(){if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var ar="i18next.translate.boo";window.localStorage.setItem(ar,"foo"),window.localStorage.removeItem(ar)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport},localStorage$1={name:"localStorage",lookup:function or(ar){var cr;if(ar.lookupLocalStorage&&localStorageAvailable()){var lr=window.localStorage.getItem(ar.lookupLocalStorage);lr&&(cr=lr)}return cr},cacheUserLanguage:function or(ar,cr){cr.lookupLocalStorage&&localStorageAvailable()&&window.localStorage.setItem(cr.lookupLocalStorage,ar)}},hasSessionStorageSupport=null,sessionStorageAvailable=function or(){if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;var ar="i18next.translate.boo";window.sessionStorage.setItem(ar,"foo"),window.sessionStorage.removeItem(ar)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport},sessionStorage={name:"sessionStorage",lookup:function or(ar){var cr;if(ar.lookupSessionStorage&&sessionStorageAvailable()){var lr=window.sessionStorage.getItem(ar.lookupSessionStorage);lr&&(cr=lr)}return cr},cacheUserLanguage:function or(ar,cr){cr.lookupSessionStorage&&sessionStorageAvailable()&&window.sessionStorage.setItem(cr.lookupSessionStorage,ar)}},navigator$1={name:"navigator",lookup:function or(ar){var cr=[];if(typeof navigator<"u"){if(navigator.languages)for(var lr=0;lr<navigator.languages.length;lr++)cr.push(navigator.languages[lr]);navigator.userLanguage&&cr.push(navigator.userLanguage),navigator.language&&cr.push(navigator.language)}return cr.length>0?cr:void 0}},htmlTag={name:"htmlTag",lookup:function or(ar){var cr,lr=ar.htmlTag||(typeof document<"u"?document.documentElement:null);return lr&&typeof lr.getAttribute=="function"&&(cr=lr.getAttribute("lang")),cr}},path={name:"path",lookup:function or(ar){var cr;if(typeof window<"u"){var lr=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(lr instanceof Array)if(typeof ar.lookupFromPathIndex=="number"){if(typeof lr[ar.lookupFromPathIndex]!="string")return;cr=lr[ar.lookupFromPathIndex].replace("/","")}else cr=lr[0].replace("/","")}return cr}},subdomain={name:"subdomain",lookup:function or(ar){var cr=typeof ar.lookupFromSubdomainIndex=="number"?ar.lookupFromSubdomainIndex+1:1,lr=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(lr)return lr[cr]}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(ar){return ar}}}var Browser$1=function(){function or(ar){var cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck(this,or),this.type="languageDetector",this.detectors={},this.init(ar,cr)}return _createClass(or,[{key:"init",value:function(cr){var lr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ur=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=cr||{languageUtils:{}},this.options=defaults$1(lr,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(fr){return fr.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=ur,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}},{key:"addDetector",value:function(cr){this.detectors[cr.name]=cr}},{key:"detect",value:function(cr){var lr=this;cr||(cr=this.options.order);var ur=[];return cr.forEach(function(fr){if(lr.detectors[fr]){var dr=lr.detectors[fr].lookup(lr.options);dr&&typeof dr=="string"&&(dr=[dr]),dr&&(ur=ur.concat(dr))}}),ur=ur.map(function(fr){return lr.options.convertDetectedLanguage(fr)}),this.services.languageUtils.getBestMatchFromCodes?ur:ur.length>0?ur[0]:null}},{key:"cacheUserLanguage",value:function(cr,lr){var ur=this;lr||(lr=this.options.caches),lr&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(cr)>-1||lr.forEach(function(fr){ur.detectors[fr]&&ur.detectors[fr].cacheUserLanguage(cr,ur.options)}))}}]),or}();Browser$1.type="languageDetector";const locales=["en-US","en","ru-RU","uk-UA"];instance.use(Backend$1).use(Browser$1).use(initReactI18next).init({fallbackLng:"en",supportedLngs:locales,defaultNS:"theme",fallbackNS:"translation",load:"currentOnly",debug:!0,interpolation:{escapeValue:!1},backend:{backends:[Backend],backendOptions:[{loadPath:new URL("locales/",window.location.href).href+"{{lng}}/{{ns}}.json"}]}});function loadThemeTranslations(or){const ar={};for(const cr of or){if(!locales.includes(cr.lang))continue;const lr=ar[cr.lang]??{};lr[cr.tkey]=cr.value,ar[cr.lang]=lr}for(const[cr,lr]of Object.entries(ar))instance.addResourceBundle(cr,"theme",lr,!0,!0)}function unloadThemeTranslations(){for(const or of locales)instance.removeResourceBundle(or,"theme")}function formatDate(or){return new Intl.DateTimeFormat(instance.language,{dateStyle:"long",timeStyle:"short"}).format(or)}const baseInit$=create(!1),initDeferred$=create(defer$1()),initialBaseUrl$=create("/"),input$=create({isOpen:!1,content:"",entered:"",onfinished:null},or=>{const ar=or.focus(lr=>lr.isOpen),cr=or.focus(lr=>lr.entered);return{open(lr,ur){or.set({isOpen:!0,content:lr,entered:"",onfinished:ur})},enter(lr){cr.set(lr)},finish(){var lr,ur;ar.set(!1),(ur=(lr=or.value).onfinished)==null||ur.call(lr,cr.value),or.value.onfinished=null},close(){var lr,ur;ar.set(!1),(ur=(lr=or.value).onfinished)==null||ur.call(lr,""),or.value.onfinished=null},clear(){var lr,ur;(ur=(lr=or.value).onfinished)==null||ur.call(lr,""),or.set({isOpen:!1,content:"",entered:"",onfinished:null})}}}),menu$=create({isOpen:!1,items:[],onselect:null},or=>{const ar=or.focus(cr=>cr.isOpen);return{open(cr,lr){or.set({isOpen:!0,items:cr,onselect:lr})},select(cr){var lr,ur;ar.set(!1),(ur=(lr=or.value).onselect)==null||ur.call(lr,cr),or.value.onselect=null},close(){var cr,lr;ar.set(!1),(lr=(cr=or.value).onselect)==null||lr.call(cr,-1),or.value.onselect=null},clear(){var cr,lr;(lr=(cr=or.value).onselect)==null||lr.call(cr,-1),or.set({isOpen:!1,items:[],onselect:null})}}}),msg$=create({isOpen:!1,content:"",onclosed:null},or=>{const ar=or.focus(cr=>cr.isOpen);return{open(cr,lr){or.set({isOpen:!0,content:cr,onclosed:lr})},close(){var cr,lr;ar.set(!1),(lr=(cr=or.value).onclosed)==null||lr.call(cr),or.value.onclosed=null},clear(){var cr,lr;(lr=(cr=or.value).onclosed)==null||lr.call(cr),or.set({isOpen:!1,content:"",onclosed:null})}}}),currentGameEntry$=create(null),currentGame$=create(),currentGameMode$=create(or=>{var ar;return((ar=or(currentGame$))==null?void 0:ar.mode)||"classic"}),currentAeroWidth$=create(or=>{var ar,cr;return((cr=(ar=or(currentGame$))==null?void 0:ar.aero)==null?void 0:cr.width)??800}),currentAeroHeight$=create(or=>{var ar,cr;return((cr=(ar=or(currentGame$))==null?void 0:ar.aero)==null?void 0:cr.height)??600}),saveSlotsCount$=create(or=>{var ar;return((ar=or(currentGame$))==null?void 0:ar.save_slots)??9}),onGameEnd$=create(null),baseUrl$=create("");async function runGame(or){var ur,fr,dr,pr,mr,gr,vr;if(!or)throw new Error("Game not found");baseUrl$.set(or.loadConfig.url);let ar=or.loadConfig.descriptor||{id:or.id,mode:or.mode,title:or.title,file:""};try{const hr=await fetchProxyFallback("game.cfg").then(xr=>xr.text()),$r=parse$1(hr);if(((ur=$r.game)==null?void 0:ur.length)===1)[ar]=$r.game;else{const xr=(fr=$r.game)==null?void 0:fr.find(br=>br.id===or.id);if(!xr)throw new Error("Config not found");ar=xr}}catch{}if((ar==null?void 0:ar.mode)==="classic"||!(ar!=null&&ar.mode))try{const hr=await fetchProxyFallback("qspgui.cfg");if(!hr.ok)throw new Error("No config file");const $r=await hr.text(),xr=parseCfg($r);qspGuiCfg$.set(xr)}catch{}if(ar&&ar.mode==="aero"&&!ar.aero)try{const hr=await fetchProxyFallback("config.xml");if(!hr.ok)throw new Error("No config file");const $r=await hr.text(),Er=new DOMParser().parseFromString($r,"application/xml").querySelector("game");if(Er){const wr=parseInt(Er.getAttribute("width")||"800"),yr=parseInt(Er.getAttribute("height")||"600");ar.aero={width:wr,height:yr},ar.window={...ar.window,width:wr,height:yr,resizable:!1}}}catch{ar.aero={width:800,height:600},ar.window={...ar.window,width:800,height:600,resizable:!1}}let cr=await fetchProxyFallback(or.loadConfig.entrypoint).then(hr=>hr.arrayBuffer());if(!cr)throw new Error("Failed to load game");or.loadConfig.entrypoint.toLowerCase().endsWith(".qsps")&&(cr=convertQsps(cr)),(dr=windowManager$.value)==null||dr.setTitle(or.title),setupGlobalHotKeys(),ar!=null&&ar.hotkeys&&setupCustomHotKeys(ar.hotkeys),(pr=ar==null?void 0:ar.resources)!=null&&pr.icon&&((mr=windowManager$.value)==null||mr.setIcon(ar.resources.icon)),loadAdditionalResources(ar==null?void 0:ar.resources),ar!=null&&ar.themes&&await registerThemes(ar.themes),ar!=null&&ar.defaultTheme?currentTheme$.set(ar.defaultTheme):(ar==null?void 0:ar.mode)==="aero"?currentTheme$.set(AERO_THEME):currentTheme$.set(CLASSIC_THEME),loadThemeTranslations(currentTranslations$.value),(gr=qspApi$.value)==null||gr.openGame(cr,!0),(vr=qspApi$.value)==null||vr.restartGame(),currentGameEntry$.set(or),ar&&currentGame$.set(ar),loadSaveList(),console.log(ar),ar&&applyWindowSettings(ar.window)}let wasResized=!1;async function applyWindowSettings(or){var ar,cr,lr,ur;if(or){or.width&&or.height&&(await((ar=windowManager$.value)==null?void 0:ar.resize(or.width,or.height)),wasResized=!0);const fr=or.resizable??!0;(cr=windowManager$.value)==null||cr.setResizable(fr),fr&&(or.minWidth&&or.minHeight&&await((lr=windowManager$.value)==null?void 0:lr.setMinSize(or.minWidth,or.minHeight)),or.maxWidth&&or.maxHeight&&await((ur=windowManager$.value)==null?void 0:ur.setMaxSize(or.maxWidth,or.maxHeight))),or.fullscreen&&setTimeout(()=>{var dr;return(dr=windowManager$.value)==null?void 0:dr.goFullscreen()},0)}}baseUrl$.subscribe(or=>{const ar=document.querySelector("#page-base");ar.href=or||"/"});function stopCurrentGame(){var ar;baseUrl$.set(initialBaseUrl$.value),currentGameEntry$.set(null),currentGame$.set(null),qspGuiCfg$.set(null),isPauseScreenVisible$.set(!1),isPaused$.set(!0),input$.actions.clear(),menu$.actions.clear(),msg$.actions.clear(),mainContent$.set(""),statsContent$.set(""),actions$.set([]),objects$.set([]),cmdText$.set("");const or=windowManager$.value;or&&(or.setTitle("qSpider"),or.setIcon("assets/favicon.png"),or.setResizable(!0),or.unsetMaxSize(),or.unsetMinSize(),wasResized&&or.resize(1024,768)),sounds$.actions.clear(),regions$.set({}),layers$.set({}),clearAdditionalResources(),clearHotkeys(),unloadThemeTranslations(),currentTheme$.set(CLASSIC_THEME),themeRegistry$.actions.reset(),window.dispatchEvent(new Event("game-unload")),wasResized=!1,(ar=onGameEnd$.value)==null||ar.call(onGameEnd$)}function onRestart(){reloadRegions(),reloadLayers()}function onRestore(){reloadRegions(),reloadLayers()}function onGameAction(or){var ar;if(or.startsWith("pause:")){const[,cr]=or.split(":");isPauseScreenVisible$.value||isPauseScreenVisible$.set(!0),pauseScreenCurrentPanel$.set(cr)}else if(or.startsWith("scroll:")){const[,cr,lr]=or.split(":");switch(cr){case"main":mainScroll$.update(ur=>lr==="top"?-1:Math.max(ur,0)+1);break;case"stats":statsScroll$.update(ur=>lr==="top"?-1:Math.max(ur,0)+1);break}}switch(or){case"quit":stopCurrentGame();break;case"restart":isPaused$.set(!0),(ar=qspApi$.value)==null||ar.restartGame(),onRestart(),isPauseScreenVisible$.set(!1);break;case"resume":isPauseScreenVisible$.set(!1);break;case"mute":muted$.set(!0);break;case"unmute":muted$.set(!1);break;case"toggle-mute":muted$.update(cr=>!cr);break;case"quicksave":quickSave();break;case"quickload":quickLoad();break}}const wait$=create(null),waitTimeout$=create();function finishWait(){const or=wait$.value;or&&(clearTimeout(waitTimeout$.value),isPaused$.set(!1),wait$.set(null),or.finish())}wait$.subscribe(or=>{or&&(clearTimeout(waitTimeout$.value),isPaused$.set(!0),waitTimeout$.set(setTimeout(()=>{finishWait()},or.ms)))});const errorMessage$=create(""),isErrorShown$=create(!1);function showError(or){errorMessage$.set(or),isErrorShown$.set(!0)}const noticeMessage$=create(""),isNoticeShown$=create(!1);let noticeTimeout=null;function showNotice(or){noticeMessage$.set(or),isNoticeShown$.set(!0),noticeTimeout&&clearTimeout(noticeTimeout),noticeTimeout=setTimeout(()=>{isNoticeShown$.set(!1)},3e3)}const qspiderCommands={"action:"(or){onGameAction(or)},"event:"(or){setTimeout(()=>{const ar=or.trim().match(/(.*?)(\[(.*?)\])/i);if(ar){const cr=ar[1],lr=ar[3].split(",").map(ur=>{const fr=ur.trim();return fr.startsWith('"')||fr.startsWith("'")?fr.replace(/['"](.*?)['"]/gim,(dr,pr)=>pr):parseInt(fr)});window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:cr,args:lr}}))}else window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:or.trim()}}))},0)},"change_theme:"(or){if(!themeRegistry$.value[or]){errorMessage$.set(`Theme ${or} is not registered`);return}currentTheme$.set(or)},"update_region:"(or){var cr;regions$.focus(lr=>lr[or]).set(((cr=qspApi$.value)==null?void 0:cr.readVariableByKey("$qspider_region",or))??"")},"scroll_region:"(or){const[ar,cr]=or.split(":"),lr=regionsScroll$.focus(ur=>ur[ar]);cr==="top"?lr.set(-1):lr.update(ur=>Math.max(ur,0)+1)},"update_layer:"(or){layers$.focus(cr=>cr[or]).set(readLayerState(or))},update_layers(){const or=layers$.value??{},ar={};for(const cr of Object.keys(or))ar[cr]=readLayerState(cr);layers$.set(ar)},"fullscreen:"(or){var ar,cr;or==="on"?(ar=windowManager$.value)==null||ar.goFullscreen():(cr=windowManager$.value)==null||cr.goWindowed()},quit(){stopCurrentGame()}},qspiderModuleContent=`# qspider_change_theme
! $args[0] - theme name
exec('qspider.change_theme:<<$args[0]>>')
---

# qspider_update_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_append_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] += $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_prepend_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1] + $qspider_region[$args[0]]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_scroll_region
! $args[0] - region name
! $args[1] - direction (top or bottom)
exec('qspider.scroll_region:<<$args[0]>>:<<$args[1]>>')
---
# qspider_clear_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = ''
exec('qspider.update_region:<<$args[0]>>')
---

# qspider_show_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 1
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_hide_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 0
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_show_only_layer
! $args[0] - layer name
killvar 'qspider_layers'
qspider_layers[$args[0]] = 1
exec('qspider.update_layers')
---

# qspider_quicksave
exec('qspider.action:quicksave')
---

# qspider_quickload
exec('qspider.action:quickload')
---

# qspider_restart
exec('qspider.action:restart')
---

# qspider_resume
exec('qspider.action:resume')
---

# qspider_quit
exec('qspider.action:quit')
---

# qspider_mute
exec('qspider.action:mute')
---

# qspider_unmute
exec('qspider.action:unmute')
---

# qspider_toggle_mute
exec('qspider.action:toggle-mute')
---

# qspider_open_pause_screen
! $args[0] - panel name
exec('qspider.action:pause:<<$args[0]>>')
---

# qspider_scroll
! $args[0] - panel (main or stats)
! $args[1] - direction (top or bottom)
exec('qspider.action:scroll:<<$args[0]>>:<<$args[1]>>')
`,qspApi$=create(),qspApiInitialized$=create(!1),platform$=create("browser"),qspError$=create(null),qspiderModule$=create(o$1(s$1(qspiderModuleContent)));async function initQspApi(){const or=await fetch(wasmUrl).then(cr=>cr.arrayBuffer()),ar=await b$1(or);console.log(`QSP version: ${ar.version()}`),qspApi$.set(ar),qspApiInitialized$.set(!0)}function execCode(or){var ar;(ar=qspApi$.value)==null||ar.execCode(or)}function onLinkClicked(or){or.toLowerCase().startsWith("exec:")?execCode(or.substring(5)):window.location.href=or}function useQspVariable(or,ar,cr,lr){const[ur,fr]=reactExports.useState(lr);return reactExports.useEffect(()=>{var pr,mr;if(!or)return;const dr=ar?(pr=qspApi$.value)==null?void 0:pr.watchVariableByKey(or,ar,gr=>fr(gr||lr)):(mr=qspApi$.value)==null?void 0:mr.watchVariable(or,cr,gr=>fr(gr||lr));return()=>dr==null?void 0:dr()},[or,ar,cr,lr]),ur}function useQspExpression(or){const[ar,cr]=reactExports.useState(!1);return reactExports.useEffect(()=>{var ur;if(!or)return;const lr=(ur=qspApi$.value)==null?void 0:ur.watchExpression(or,fr=>cr(!!fr));return()=>lr==null?void 0:lr()},[or]),ar}qspApi$.subscribe(or=>{or.on("version",(ar,cr)=>{switch(ar){case"player":return cr("qSpider");case"platform":return cr(platform$.value)}return cr(or.version())}),or.on("error",qspError$.set),or.on("system_cmd",ar=>{if(!ar.startsWith("qspider"))return;const[,cr]=ar.split(".");for(const[lr,ur]of Object.entries(qspiderCommands))if(cr.trim().startsWith(lr)){const fr=cr.replace(lr,"");ur(fr)}}),or.on("is_play",(ar,cr)=>{cr(sounds$.actions.isPlaying(ar))}),or.on("play_file",(ar,cr,lr)=>{sounds$.actions.play(ar,cr),lr()}),or.on("close_file",(ar,cr)=>{ar?sounds$.actions.close(ar):sounds$.actions.closeAll(),cr()}),or.on("timer",ar=>{counterDelay$.set(ar)}),or.on("open_game",async(ar,cr,lr)=>{if(ar==="qspider"){or.openGame(qspiderModule$.value,!1),lr();return}withCounterPaused(async()=>{const ur=await getBinaryContent(ar);let fr=ur;if(ar.toLowerCase().endsWith(".qsps")&&(fr=convertQsps(ur)),cr){const pr=cleanPath(ar);baseUrl$.update(mr=>mr+pr.slice(0,pr.lastIndexOf("/")+1))}or.openGame(fr,cr),lr()})}),or.on("input",(ar,cr)=>{input$.actions.open(ar,cr)}),or.on("menu",(ar,cr)=>{menu$.actions.open(prepareList(ar),cr)}),or.on("msg",(ar,cr)=>{msg$.actions.open(ar,cr)}),or.on("main_changed",ar=>{const cr=mainContent$.value,lr=prepareContent(ar),ur=!cr||lr!==cr&&!lr.startsWith(cr);isNewLoc$.set(ur),nextMainContent$.set(lr),ur?newLocHash$.set(String(hashString(nextMainContent$.value))):mainContent$.set(lr)}),or.on("stats_changed",ar=>{statsContent$.set(prepareContent(ar))}),or.on("actions_changed",ar=>{actions$.set(prepareList(ar))}),or.on("objects_changed",ar=>{objects$.set(prepareList(ar))}),or.on("user_input",ar=>{cmdText$.set(ar)}),or.on("view",ar=>{ar?view$.actions.open(ar):view$.actions.close()}),or.on("panel_visibility",(ar,cr)=>{switch(ar){case e$2.VARS:isStatsVisible$.set(cr);break;case e$2.ACTS:isActsVisible$.set(cr);break;case e$2.OBJS:isObjsVisible$.set(cr);break;case e$2.INPUT:isCmdVisible$.set(cr);break}}),or.on("load_save",async(ar,cr)=>{if(!currentGameEntry$.value)return cr();saveLoadedCallback$.set(cr),ar?await restoreFromPath(ar):(requestedAction$.set("load"),onGameAction("pause:saves"))}),or.on("save_game",async(ar,cr)=>{if(!currentGameEntry$.value)return cr();gameSavedCallback$.set(cr),ar?await saveToPath(ar):(requestedAction$.set("save"),onGameAction("pause:saves"))}),or.on("wait",(ar,cr)=>{wait$.set({ms:ar,finish:cr})})});function usePrevious(or){const ar=reactExports.useRef();return reactExports.useEffect(()=>{ar.current=or},[or]),ar.current}const playerTheme$=create("light");function initTheme(){var ar;let or=localStorage.getItem("qspider-theme");!or&&((ar=window.matchMedia)!=null&&ar.call(window,"(prefers-color-scheme: dark)").matches)?or="dark":or="light",playerTheme$.set(or)}function toggleTheme(){playerTheme$.update(or=>or==="dark"?"light":"dark")}playerTheme$.subscribe(or=>{or==="dark"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),localStorage.setItem("qspider-theme",or)});const componentsRegistry$=create(new Map,or=>({register(ar,cr){or.value.set(ar,cr)}})),useComponent=or=>componentsRegistry$.value.get(or)||(()=>null);async function importArchive(or,ar,cr){var mr,gr;const lr=storage$.value;if(!lr)throw new Error("missing storage");if(!isSupportedArchive(ar.slice(0,4)))throw new Error("unsupporter archive format");const ur=await readSupportedArchive(ar),fr=extractFileTree(ur),dr=findRootDescriptorFolder(fr);if(dr){const[vr,hr]=dr,$r=await readGameDescriptor(hr);for(const xr of $r)try{const br=getGameFolder(vr,xr.file);await storeFolderContent(xr.id,br);const Er=br.content.find(wr=>wr.type==="file"&&wr.name===GAME_DESCRIPTOR_NAME);if(Er){const[wr]=await readGameDescriptor(Er.data);Object.assign(xr,wr)}else{const wr=stringify({game:[xr]});await((mr=storage$.value)==null?void 0:mr.addGameResource(xr.id,GAME_DESCRIPTOR_NAME,new TextEncoder().encode(wr)))}}catch(br){console.error(br)}return Promise.all($r.map(async xr=>{const br=xr.file.slice(xr.file.lastIndexOf("/")+1);return{id:xr.id,mode:xr.mode,title:xr.title,author:xr.author,ported_by:xr.ported_by,version:xr.version,description:xr.description,loadConfig:{...await lr.prepareLoadConfig(xr.id,br),descriptor:xr}}}))}const pr=findRootGameFileFolder(fr);if(pr){const[vr,hr]=pr,$r=(cr==null?void 0:cr.id)||cyrb53(or);if(await storeFolderContent($r,vr),cr){const xr=stringify({game:[cr]});await((gr=storage$.value)==null?void 0:gr.addGameResource($r,GAME_DESCRIPTOR_NAME,new TextEncoder().encode(xr)))}return[{id:$r,title:(cr==null?void 0:cr.title)||or.slice(or.lastIndexOf("/")+1),mode:(cr==null?void 0:cr.mode)||(or.endsWith("aqsp")?"aero":"classic"),author:cr==null?void 0:cr.author,ported_by:cr==null?void 0:cr.ported_by,version:cr==null?void 0:cr.version,description:cr==null?void 0:cr.description,loadConfig:await lr.prepareLoadConfig($r,hr)}]}throw new Error("Game files not found inside archive")}function findRootDescriptorFolder(or){for(const ar of or.content)if(ar.type==="file"&&ar.name===GAME_DESCRIPTOR_NAME)return[or,ar.data];for(const ar of or.content)if(ar.type==="dir"){const cr=findRootDescriptorFolder(ar);if(cr)return cr}return null}function findRootGameFileFolder(or){let ar=null,cr=null;for(const lr of or.content)lr.type==="file"&&(lr.name.endsWith(".qsp")&&(ar=lr.name),lr.name.endsWith(".qsps")&&(cr=lr.name));if(ar)return[or,ar];if(cr)return[or,cr];for(const lr of or.content)if(lr.type==="dir"){const ur=findRootGameFileFolder(lr);if(ur)return ur}return null}function getGameFolder(or,ar){const cr=ar.split("/");cr.pop();let lr=or;for(const ur of cr){const fr=lr.content.find(dr=>dr.type==="dir"&&dr.name===ur);if(!fr)throw new Error(`Failed to find game file ${ar} in archvive`);lr=fr}return lr}async function readGameDescriptor(or){const cr=await new Blob([or]).text();return parse$1(cr).game}async function storeFolderContent(or,ar,cr=""){var lr;for(const ur of ar.content)if(ur.type==="dir")await storeFolderContent(or,ur,`${cr}${ur.name}/`);else{if(ur.name===".DS_Store")continue;await((lr=storage$.value)==null?void 0:lr.addGameResource(or,`${cr}${ur.name}`,ur.data))}}async function importUrl(or,ar,cr){const lr=new URL(or);lr.hash="",lr.search="";const ur=lr.toString(),fr=await fetchProxyFallback(or).then(mr=>{if(!mr.ok)throw new Error(`Failed to load url ${or}`);return mr.arrayBuffer()});if(isSupportedArchive(fr))return importArchive(ar||ur,fr,cr);const dr=ur.slice(0,ur.lastIndexOf("/")+1),pr=ur.replace(dr,"");if(pr.endsWith(".cfg")){const mr=new TextDecoder().decode(fr),gr=parse$1(mr),vr=[];for(const hr of gr.game){const $r=`${dr}${hr.file}`;vr.push(...await importUrl($r,hr.file,hr))}return vr}else{const mr=`${dr}game.cfg`;try{const gr=await fetchProxyFallback(mr).then($r=>$r.text()),hr=parse$1(gr).game.find($r=>$r.file===pr);if(!hr)throw new Error("Config not found");return[{id:hr.id,mode:hr.mode,title:hr.title,author:hr.author,ported_by:hr.ported_by,version:hr.version,description:hr.description,loadConfig:{url:dr,entrypoint:hr.file}}]}catch{return[{id:(cr==null?void 0:cr.id)||cyrb53(ur),title:(cr==null?void 0:cr.title)||pr,mode:(cr==null?void 0:cr.mode)||"classic",author:cr==null?void 0:cr.author,ported_by:cr==null?void 0:cr.ported_by,version:cr==null?void 0:cr.version,description:cr==null?void 0:cr.description,loadConfig:{url:dr,entrypoint:pr,descriptor:cr}}]}}}async function importFile(or,ar){var lr;if(!storage$.value)throw new Error("missing storage");if(isSupportedArchive(ar))return importArchive(or,ar);const cr=cyrb53(or);return await((lr=storage$.value)==null?void 0:lr.addGameResource(cr,or,ar)),[{id:cyrb53(or),title:or,mode:"classic",loadConfig:await storage$.value.prepareLoadConfig(cr,or)}]}const fontSizeMap={"-2":"x-small","-1":"small","+0":"medium","+1":"large","+2":"x-large","+3":"xx-large","+4":"xxx-large",0:"medium",1:"x-small",2:"small",3:"medium",4:"large",5:"x-large",6:"xx-large",7:"xxx-large"},Font=({size:or,children:ar,attrs:cr})=>{const[,lr,ur]=useAttributes(cr,"span"),fr={...lr,fontSize:or!=null?fontSizeMap[or]||"medium":"inherit"};return jsxRuntimeExports.jsx("span",{...ur,style:fr,children:ar})},ATTRIBUTES_TO_PROPS$1=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",usemap:"useMap",cellspacing:"cellSpacing",cellpadding:"cellPadding",autoplay:"autoPlay","xlink:href":"xlinkHref","xmlns:xlink":"xmlnsXlink",for:"htmlFor",minlength:"minLength",maxlength:"maxLength"}),attributeToStyle={size:"fontSize",color:"color",face:"fontFace",valign:"verticalAlign",bgcolor:"backgroundColor",width:"width",height:"height"},imgAlignMap={texttop:"text-top",center:"middle",abscenter:"middle",bottom:"bottom"},attributeToStyleConverters={width:or=>/^\d+$/.test(or)?`${or}px`:or,height:or=>/^\d+$/.test(or)?`${or}px`:or,fontSize:or=>/^[+-]?\d+$/.test(or)?fontSizeMap[or]:or},attributesToStyle=(or,ar)=>{var lr;const cr={};for(const ur of Object.keys(or)){const fr=attributeToStyle[ur];if(ar==="img"&&ur==="align"){const dr=(lr=or[ur])==null?void 0:lr.toLowerCase();if(dr){const pr=imgAlignMap[dr];pr&&(cr.verticalAlign=pr)}}if(fr){const dr=or[ur];if(!dr)continue;attributeToStyleConverters[fr]?cr[fr]=attributeToStyleConverters[fr](dr):cr[fr]=dr}}return cr},supportedEvents=["click","mouseenter","mouseleave","contextmenu","dblclick","wheel"],eventsMap={click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},useAttributes=(or,ar,cr=ar)=>{const lr={};cr.includes("-")&&(lr["data-qsp"]=cr.replace("qsp-",""));const{tag:ur=ar,style:fr={},"qsp-action":dr,"qsp-save-action":pr,...mr}=or;for(const[vr,hr]of Object.entries(mr)){if(vr.startsWith("on"))continue;if(vr.startsWith("qsp-on")){const xr=hr.slice(5),[,br]=vr.split(":");supportedEvents.includes(br)&&(lr[eventsMap[br]]=Er=>{Er.preventDefault(),execCode(xr)});continue}let $r=ATTRIBUTES_TO_PROPS$1[vr]||vr;$r.includes("-")&&!$r.startsWith("aria-")&&!$r.startsWith("data-")&&$r!=="mask-type"&&($r=$r.replace(/-([a-z])/g,function(xr,br){return br.toUpperCase()})),lr[$r]=hr}ur.includes("-")&&lr.className&&(lr.class=lr.className,delete lr.className),ur==="iframe"&&(lr.sandbox="allow-scripts allow-same-origin"),dr?lr.onClick=vr=>{vr.preventDefault(),onGameAction(dr)}:pr&&(lr["data-save-action"]=pr,lr.onClick=vr=>{if(vr.preventDefault(),!vr.target)return;const hr=getSaveContext(vr.target);hr&&onSaveAction(pr,hr)});const gr=attributesToStyle(or,ur);return[ur,{...fr,...gr},lr]};function getSaveContext(or){const ar=or.closest("[data-qsp-save]");if(!ar)return console.error("qsp-save-action used on element outside of save tag"),null;const cr="qspSaveIndex"in ar.dataset?parseInt(ar.dataset.qspSaveIndex??"-1",0):-1,lr=ar.dataset.qspSavePath??"";return{slot_index:cr,save_path:lr}}const TYPE_FLOW=1,TYPE_SECTION=2,TYPE_HEADING=4,TYPE_PHRASING=8,TYPE_EMBEDDED=16,TYPE_INTERACTIVE=32,TYPE_PALPABLE=64,tagConfigs={a:{content:TYPE_FLOW|TYPE_PHRASING,self:!1,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:TYPE_FLOW|TYPE_PHRASING,void:!0},body:{content:TYPE_FLOW|TYPE_SECTION|TYPE_HEADING|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_INTERACTIVE|TYPE_PALPABLE},button:{content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},caption:{content:TYPE_FLOW,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:TYPE_FLOW|TYPE_INTERACTIVE|TYPE_PALPABLE},dd:{content:TYPE_FLOW,parent:["dl"]},dl:{children:["dt","dd"],type:TYPE_FLOW},dt:{content:TYPE_FLOW,invalid:["footer","header"],parent:["dl"]},figcaption:{content:TYPE_FLOW,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:TYPE_FLOW,void:!0},img:{void:!0},li:{content:TYPE_FLOW,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:TYPE_FLOW},picture:{children:["source","img"],type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:TYPE_PHRASING,parent:["ruby","rtc"]},rtc:{content:TYPE_PHRASING,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:TYPE_PHRASING,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:TYPE_FLOW},tbody:{parent:["table"],children:["tr"]},td:{content:TYPE_FLOW,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:TYPE_FLOW,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:TYPE_FLOW},video:{children:["track","source"]},wbr:{type:TYPE_FLOW|TYPE_PHRASING,void:!0}};function createConfigBuilder(or){return ar=>{tagConfigs[ar]={...or,...tagConfigs[ar]}}}["address","main","div","figure","p","pre"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_PALPABLE}));["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_PALPABLE}));["p","pre"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PALPABLE}));["s","small","span","del","ins"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING}));["article","aside","footer","header","nav","section","blockquote"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_SECTION|TYPE_PALPABLE}));["h1","h2","h3","h4","h5","h6"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_HEADING|TYPE_PALPABLE}));["audio","canvas","iframe","img","video"].forEach(createConfigBuilder({type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_PALPABLE}));const TAGS=Object.freeze(tagConfigs),BANNED_TAG_LIST=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],ALLOWED_TAG_LIST=Object.keys(TAGS).filter(or=>or!=="canvas"&&or!=="iframe"),FILTER_ALLOW=1,FILTER_DENY=2,FILTER_CAST_NUMBER=3,FILTER_CAST_BOOL=4,FILTER_NO_CAST=5,ATTRIBUTES=Object.freeze({alt:FILTER_ALLOW,cite:FILTER_ALLOW,class:FILTER_ALLOW,colspan:FILTER_CAST_NUMBER,controls:FILTER_CAST_BOOL,datetime:FILTER_ALLOW,default:FILTER_CAST_BOOL,disabled:FILTER_CAST_BOOL,dir:FILTER_ALLOW,height:FILTER_ALLOW,href:FILTER_ALLOW,id:FILTER_ALLOW,kind:FILTER_ALLOW,label:FILTER_ALLOW,lang:FILTER_ALLOW,loading:FILTER_ALLOW,loop:FILTER_CAST_BOOL,media:FILTER_ALLOW,muted:FILTER_CAST_BOOL,poster:FILTER_ALLOW,rel:FILTER_ALLOW,role:FILTER_ALLOW,rowspan:FILTER_CAST_NUMBER,scope:FILTER_ALLOW,sizes:FILTER_ALLOW,span:FILTER_CAST_NUMBER,start:FILTER_CAST_NUMBER,style:FILTER_NO_CAST,src:FILTER_ALLOW,srclang:FILTER_ALLOW,srcset:FILTER_ALLOW,tabindex:FILTER_ALLOW,target:FILTER_ALLOW,title:FILTER_ALLOW,type:FILTER_ALLOW,width:FILTER_ALLOW}),ATTRIBUTES_TO_PROPS=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex"});function _extends$1(){return _extends$1=Object.assign||function(or){for(var ar=1;ar<arguments.length;ar++){var cr=arguments[ar];for(var lr in cr)Object.prototype.hasOwnProperty.call(cr,lr)&&(or[lr]=cr[lr])}return or},_extends$1.apply(this,arguments)}function Element$2({attributes:or={},className:ar,children:cr=null,selfClose:lr=!1,tagName:ur}){const fr=ur;return lr?React$1.createElement(fr,_extends$1({className:ar},or)):React$1.createElement(fr,_extends$1({className:ar},or),cr)}class Filter{attribute(ar,cr){return cr}node(ar,cr){return cr}}/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var matchHtmlRegExp=/["'&<>]/,escapeHtml_1=escapeHtml;function escapeHtml(or){var ar=""+or,cr=matchHtmlRegExp.exec(ar);if(!cr)return ar;var lr,ur="",fr=0,dr=0;for(fr=cr.index;fr<ar.length;fr++){switch(ar.charCodeAt(fr)){case 34:lr="&quot;";break;case 38:lr="&amp;";break;case 39:lr="&#39;";break;case 60:lr="&lt;";break;case 62:lr="&gt;";break;default:continue}dr!==fr&&(ur+=ar.substring(dr,fr)),dr=fr+1,ur+=lr}return dr!==fr?ur+ar.substring(dr,fr):ur}const escapeHtml$1=getDefaultExportFromCjs(escapeHtml_1);function _defineProperty(or,ar,cr){return ar in or?Object.defineProperty(or,ar,{value:cr,enumerable:!0,configurable:!0,writable:!0}):or[ar]=cr,or}const INVALID_STYLES=/(url|image|image-set)\(/i;class StyleFilter extends Filter{attribute(ar,cr){return ar==="style"&&Object.keys(cr).forEach(lr=>{String(cr[lr]).match(INVALID_STYLES)&&delete cr[lr]}),cr}}const ELEMENT_NODE=1,TEXT_NODE=3,INVALID_ROOTS=/^<(!doctype|(html|head|body)(\s|>))/i,ALLOWED_ATTRS=/^(aria-|data-|\w+:)/iu,OPEN_TOKEN=/{{{(\w+)\/?}}}/;function createDocument(){if(!(typeof window>"u"||typeof document>"u"))return document.implementation.createHTMLDocument("Interweave")}class Parser{constructor(ar,cr={},lr=[],ur=[]){var fr;_defineProperty(this,"allowed",void 0),_defineProperty(this,"banned",void 0),_defineProperty(this,"blocked",void 0),_defineProperty(this,"container",void 0),_defineProperty(this,"content",[]),_defineProperty(this,"props",void 0),_defineProperty(this,"matchers",void 0),_defineProperty(this,"filters",void 0),_defineProperty(this,"keyIndex",void 0),this.props=cr,this.matchers=lr,this.filters=[...ur,new StyleFilter],this.keyIndex=-1,this.container=this.createContainer(ar||""),this.allowed=new Set((fr=cr.allowList)!==null&&fr!==void 0?fr:ALLOWED_TAG_LIST),this.banned=new Set(BANNED_TAG_LIST),this.blocked=new Set(cr.blockList)}applyAttributeFilters(ar,cr){return this.filters.reduce((lr,ur)=>lr!==null&&typeof ur.attribute=="function"?ur.attribute(ar,lr):lr,cr)}applyNodeFilters(ar,cr){return this.filters.reduce((lr,ur)=>lr!==null&&typeof ur.node=="function"?ur.node(ar,lr):lr,cr)}applyMatchers(ar,cr){const lr={},{props:ur}=this;let fr=ar,dr=0,pr=null;return this.matchers.forEach(mr=>{const gr=mr.asTag().toLowerCase(),vr=this.getTagConfig(gr);if(ur[mr.inverseName]||!this.isTagAllowed(gr)||!this.canRenderChild(cr,vr))return;let hr="";for(;fr&&(pr=mr.match(fr));){const{index:$r,length:xr,match:br,valid:Er,void:wr,...yr}=pr,_r=mr.propName+String(dr);$r>0&&(hr+=fr.slice(0,$r)),Er?(hr+=wr?`{{{${_r}/}}}`:`{{{${_r}}}}${br}{{{/${_r}}}}`,this.keyIndex+=1,dr+=1,lr[_r]={children:br,matcher:mr,props:{...ur,...yr,key:this.keyIndex}}):hr+=br,mr.greedy?(fr=hr+fr.slice($r+xr),hr=""):fr=fr.slice($r+(xr||br.length))}mr.greedy||(fr=hr+fr)}),dr===0?ar:this.replaceTokens(fr,lr)}canRenderChild(ar,cr){return!ar.tagName||!cr.tagName||ar.void?!1:ar.children.length>0?ar.children.includes(cr.tagName):ar.invalid.length>0&&ar.invalid.includes(cr.tagName)?!1:cr.parent.length>0?cr.parent.includes(ar.tagName):!ar.self&&ar.tagName===cr.tagName?!1:!!(ar&&ar.content&cr.type)}convertLineBreaks(ar){const{noHtml:cr,disableLineBreaks:lr}=this.props;if(cr||lr||ar.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return ar;let ur=ar.replace(/\r\n/g,`
`);return ur=ur.replace(/\n{3,}/g,`


`),ur=ur.replace(/\n/g,"<br/>"),ur}createContainer(ar){var cr;const ur=(typeof global<"u"&&global.INTERWEAVE_SSR_POLYFILL||createDocument)();if(!ur)return;const fr=(cr=this.props.containerTagName)!==null&&cr!==void 0?cr:"body",dr=fr==="body"||fr==="fragment"?ur.body:ur.createElement(fr);return ar.match(INVALID_ROOTS)||(dr.innerHTML=this.convertLineBreaks(this.props.escapeHtml?escapeHtml$1(ar):ar)),dr}extractAttributes(ar){const{allowAttributes:cr}=this.props,lr={};let ur=0;return ar.nodeType!==ELEMENT_NODE||!ar.attributes||([...ar.attributes].forEach(fr=>{const{name:dr,value:pr}=fr,mr=dr.toLowerCase(),gr=ATTRIBUTES[mr]||ATTRIBUTES[dr];if(!this.isSafe(ar)||!mr.match(ALLOWED_ATTRS)&&(!cr&&(!gr||gr===FILTER_DENY)||mr.startsWith("on")||pr.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i)))return;let vr=mr==="style"?this.extractStyleAttribute(ar):pr;gr===FILTER_CAST_BOOL?vr=!0:gr===FILTER_CAST_NUMBER?vr=Number.parseFloat(String(vr)):gr!==FILTER_NO_CAST&&(vr=String(vr)),lr[ATTRIBUTES_TO_PROPS[mr]||mr]=this.applyAttributeFilters(mr,vr),ur+=1}),ur===0)?null:lr}extractStyleAttribute(ar){const cr={};return Array.from(ar.style).forEach(lr=>{const ur=ar.style[lr];(typeof ur=="string"||typeof ur=="number")&&(cr[lr.replace(/-([a-z])/g,(fr,dr)=>String(dr).toUpperCase())]=ur)}),cr}getTagConfig(ar){const cr={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return TAGS[ar]?{...cr,...TAGS[ar],tagName:ar}:cr}isSafe(ar){if(typeof HTMLAnchorElement<"u"&&ar instanceof HTMLAnchorElement){const cr=ar.getAttribute("href");if(cr!=null&&cr.startsWith("#"))return!0;const lr=ar.protocol.toLowerCase();return lr===":"||lr==="http:"||lr==="https:"||lr==="mailto:"||lr==="tel:"}return!0}isTagAllowed(ar){return this.banned.has(ar)||this.blocked.has(ar)?!1:this.props.allowElements||this.allowed.has(ar)}parse(){return this.container?this.parseNode(this.container,this.getTagConfig(this.container.nodeName.toLowerCase())):[]}parseNode(ar,cr){const{noHtml:lr,noHtmlExceptMatchers:ur,allowElements:fr,transform:dr,transformOnlyAllowList:pr}=this.props;let mr=[],gr="";return[...ar.childNodes].forEach(vr=>{if(vr.nodeType===ELEMENT_NODE){const $r=vr.nodeName.toLowerCase(),xr=this.getTagConfig($r);gr&&(mr.push(gr),gr="");const br=this.applyNodeFilters($r,vr);if(!br)return;let Er;if(dr&&!(pr&&!this.isTagAllowed($r))){this.keyIndex+=1;const wr=this.keyIndex;Er=this.parseNode(br,xr);const yr=dr(br,Er,xr);if(yr===null)return;if(typeof yr<"u"){mr.push(React$1.cloneElement(yr,{key:wr}));return}this.keyIndex=wr-1}if(this.banned.has($r))return;if(!(lr||ur&&$r!=="br")&&this.isTagAllowed($r)&&(fr||this.canRenderChild(cr,xr))){var hr;this.keyIndex+=1;const wr=this.extractAttributes(br),yr={tagName:$r};wr&&(yr.attributes=wr),xr.void&&(yr.selfClose=xr.void),mr.push(React$1.createElement(Element$2,{...yr,key:this.keyIndex},(hr=Er)!==null&&hr!==void 0?hr:this.parseNode(br,xr)))}else mr=[...mr,...this.parseNode(br,xr.tagName?xr:cr)]}else if(vr.nodeType===TEXT_NODE){const $r=lr&&!ur?vr.textContent:this.applyMatchers(vr.textContent||"",cr);Array.isArray($r)?mr=[...mr,...$r]:gr+=$r}}),gr&&mr.push(gr),mr}replaceTokens(ar,cr){if(!ar.includes("{{{"))return ar;const lr=[];let ur=ar,fr=null;for(;fr=ur.match(OPEN_TOKEN);){const[dr,pr]=fr,mr=fr.index,gr=dr.includes("/");mr>0&&(lr.push(ur.slice(0,mr)),ur=ur.slice(mr));const{children:vr,matcher:hr,props:$r}=cr[pr];let xr;if(gr)xr=dr.length,lr.push(hr.createElement(vr,$r));else{const br=ur.match(new RegExp(`{{{/${pr}}}}`));xr=br.index+br[0].length,lr.push(hr.createElement(this.replaceTokens(ur.slice(dr.length,br.index),cr),$r))}ur=ur.slice(xr)}return ur.length>0&&lr.push(ur),lr.length===0?"":lr.length===1&&typeof lr[0]=="string"?lr[0]:lr}}function Markup(or){var ar;const{attributes:cr,className:lr,containerTagName:ur,content:fr,emptyContent:dr,parsedContent:pr,tagName:mr,noWrap:gr}=or,vr=(ar=ur??mr)!==null&&ar!==void 0?ar:"span",hr=vr==="fragment"?!0:gr;let $r;if(pr)$r=pr;else{const xr=new Parser(fr??"",or).parse();xr.length>0&&($r=xr)}return $r||($r=dr),hr?React$1.createElement(React$1.Fragment,null,$r):React$1.createElement(Element$2,{attributes:cr,className:lr,tagName:vr},$r)}const blockList$1=["script","object"],ContentRenderer=({content:or})=>jsxRuntimeExports.jsx(Markup,{content:or,transform,blockList:blockList$1,noWrap:!0,allowElements:!0,allowAttributes:!0,transformOnlyAllowList:!0}),actionContext=reactExports.createContext({action:{name:"unknown",image:""},index:-1}),QspActions=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-actions");return useAtom_2(isActsVisible$)?jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:ar}):null},QspActionsList=({attrs:or,children:ar})=>{const cr=useAtom_2(actions$),[lr,ur,fr]=useAttributes(or,"qsp-actions-list");return jsxRuntimeExports.jsx(lr,{style:ur,...fr,children:cr.map((dr,pr)=>jsxRuntimeExports.jsx(actionContext.Provider,{value:{action:dr,index:pr},children:React$1.Children.map(ar,mr=>React$1.cloneElement(mr))},pr))})},QspActionItem=({attrs:or,children:ar})=>{const cr=useAtom_2(selectedAction$),{action:lr,index:ur}=reactExports.useContext(actionContext),[fr,dr,{useFormat:pr,...mr}]=useAttributes(or,"qsp-action"),gr={...dr,"--action-image":lr.image?`url("${lr.image}")`:""},vr=()=>{selectAction(ur)},hr=()=>{selectAction(-1)},$r=br=>{br.preventDefault(),selectedAction$.value<0&&selectAction(ur),execSelectedAction()},xr=cr===ur;return jsxRuntimeExports.jsx(fr,{...mr,style:gr,"data-qsp-selected":xr?"":null,onMouseOver:vr,onMouseLeave:hr,onClick:$r,children:ar})},QspActionName=({attrs:or})=>{const[ar,cr,lr]=useAttributes(or,"qsp-action-name"),{action:ur}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx(ar,{...lr,style:cr,children:jsxRuntimeExports.jsx(ContentRenderer,{content:ur.name})})},QspActionImage=({attrs:or})=>{const{action:ar}=reactExports.useContext(actionContext),[,cr,lr]=useAttributes(or,"img","qsp-action-image");return ar.image?jsxRuntimeExports.jsx("img",{alt:"",style:cr,...lr,src:ar.image}):null},QspActionIndex=({attrs:or})=>{const[ar,cr,lr]=useAttributes(or,"qsp-action-index"),{index:ur}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx(ar,{...lr,style:cr,children:ur+1})};function $e42e1063c40fb3ef$export$b9ecd428b558ff10(or,ar,{checkForDefaultPrevented:cr=!0}={}){return function(ur){if(or==null||or(ur),cr===!1||!ur.defaultPrevented)return ar==null?void 0:ar(ur)}}function $6ed0406888f73fc4$var$setRef(or,ar){typeof or=="function"?or(ar):or!=null&&(or.current=ar)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...or){return ar=>or.forEach(cr=>$6ed0406888f73fc4$var$setRef(cr,ar))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...or){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...or),or)}function $c512c27ab02ef895$export$fd42f52fd3ae1109(or,ar){const cr=reactExports.createContext(ar);function lr(fr){const{children:dr,...pr}=fr,mr=reactExports.useMemo(()=>pr,Object.values(pr));return reactExports.createElement(cr.Provider,{value:mr},dr)}function ur(fr){const dr=reactExports.useContext(cr);if(dr)return dr;if(ar!==void 0)return ar;throw new Error(`\`${fr}\` must be used within \`${or}\``)}return lr.displayName=or+"Provider",[lr,ur]}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(or,ar=[]){let cr=[];function lr(fr,dr){const pr=reactExports.createContext(dr),mr=cr.length;cr=[...cr,dr];function gr(hr){const{scope:$r,children:xr,...br}=hr,Er=($r==null?void 0:$r[or][mr])||pr,wr=reactExports.useMemo(()=>br,Object.values(br));return reactExports.createElement(Er.Provider,{value:wr},xr)}function vr(hr,$r){const xr=($r==null?void 0:$r[or][mr])||pr,br=reactExports.useContext(xr);if(br)return br;if(dr!==void 0)return dr;throw new Error(`\`${hr}\` must be used within \`${fr}\``)}return gr.displayName=fr+"Provider",[gr,vr]}const ur=()=>{const fr=cr.map(dr=>reactExports.createContext(dr));return function(pr){const mr=(pr==null?void 0:pr[or])||fr;return reactExports.useMemo(()=>({[`__scope${or}`]:{...pr,[or]:mr}}),[pr,mr])}};return ur.scopeName=or,[lr,$c512c27ab02ef895$var$composeContextScopes(ur,...ar)]}function $c512c27ab02ef895$var$composeContextScopes(...or){const ar=or[0];if(or.length===1)return ar;const cr=()=>{const lr=or.map(ur=>({useScope:ur(),scopeName:ur.scopeName}));return function(fr){const dr=lr.reduce((pr,{useScope:mr,scopeName:gr})=>{const hr=mr(fr)[`__scope${gr}`];return{...pr,...hr}},{});return reactExports.useMemo(()=>({[`__scope${ar.scopeName}`]:dr}),[dr])}};return cr.scopeName=ar.scopeName,cr}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react.useId||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(or){const[ar,cr]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{or||cr(lr=>lr??String($1746a345f3d73bb7$var$count++))},[or]),or||(ar?`radix-${ar}`:"")}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or){const ar=reactExports.useRef(or);return reactExports.useEffect(()=>{ar.current=or}),reactExports.useMemo(()=>(...cr)=>{var lr;return(lr=ar.current)===null||lr===void 0?void 0:lr.call(ar,...cr)},[])}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:or,defaultProp:ar,onChange:cr=()=>{}}){const[lr,ur]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:ar,onChange:cr}),fr=or!==void 0,dr=fr?or:lr,pr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(cr),mr=reactExports.useCallback(gr=>{if(fr){const hr=typeof gr=="function"?gr(or):gr;hr!==or&&pr(hr)}else ur(gr)},[fr,or,ur,pr]);return[dr,mr]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:or,onChange:ar}){const cr=reactExports.useState(or),[lr]=cr,ur=reactExports.useRef(lr),fr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(ar);return reactExports.useEffect(()=>{ur.current!==lr&&(fr(lr),ur.current=lr)},[lr,ur,fr]),cr}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((or,ar)=>{const{children:cr,...lr}=or,ur=reactExports.Children.toArray(cr),fr=ur.find($5e63c961fc1ce211$var$isSlottable);if(fr){const dr=fr.props.children,pr=ur.map(mr=>mr===fr?reactExports.Children.count(dr)>1?reactExports.Children.only(null):reactExports.isValidElement(dr)?dr.props.children:null:mr);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$2({},lr,{ref:ar}),reactExports.isValidElement(dr)?reactExports.cloneElement(dr,void 0,pr):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$2({},lr,{ref:ar}),cr)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((or,ar)=>{const{children:cr,...lr}=or;return reactExports.isValidElement(cr)?reactExports.cloneElement(cr,{...$5e63c961fc1ce211$var$mergeProps(lr,cr.props),ref:ar?$6ed0406888f73fc4$export$43e446d32b3d21af(ar,cr.ref):cr.ref}):reactExports.Children.count(cr)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:or})=>reactExports.createElement(reactExports.Fragment,null,or);function $5e63c961fc1ce211$var$isSlottable(or){return reactExports.isValidElement(or)&&or.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(or,ar){const cr={...ar};for(const lr in ar){const ur=or[lr],fr=ar[lr];/^on[A-Z]/.test(lr)?ur&&fr?cr[lr]=(...pr)=>{fr(...pr),ur(...pr)}:ur&&(cr[lr]=ur):lr==="style"?cr[lr]={...ur,...fr}:lr==="className"&&(cr[lr]=[ur,fr].filter(Boolean).join(" "))}return{...or,...cr}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((or,ar)=>{const cr=reactExports.forwardRef((lr,ur)=>{const{asChild:fr,...dr}=lr,pr=fr?$5e63c961fc1ce211$export$8c6ed5c666ac1360:ar;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(pr,_extends$2({},dr,{ref:ur}))});return cr.displayName=`Primitive.${ar}`,{...or,[ar]:cr}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(or,ar){or&&reactDomExports.flushSync(()=>or.dispatchEvent(ar))}function $addc16e1bbe58fd0$export$3a72a57244d6e765(or,ar=globalThis==null?void 0:globalThis.document){const cr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or);reactExports.useEffect(()=>{const lr=ur=>{ur.key==="Escape"&&cr(ur)};return ar.addEventListener("keydown",lr),()=>ar.removeEventListener("keydown",lr)},[cr,ar])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((or,ar)=>{var cr;const{disableOutsidePointerEvents:lr=!1,onEscapeKeyDown:ur,onPointerDownOutside:fr,onFocusOutside:dr,onInteractOutside:pr,onDismiss:mr,...gr}=or,vr=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[hr,$r]=reactExports.useState(null),xr=(cr=hr==null?void 0:hr.ownerDocument)!==null&&cr!==void 0?cr:globalThis==null?void 0:globalThis.document,[,br]=reactExports.useState({}),Er=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,jr=>$r(jr)),wr=Array.from(vr.layers),[yr]=[...vr.layersWithOutsidePointerEventsDisabled].slice(-1),_r=wr.indexOf(yr),Sr=hr?wr.indexOf(hr):-1,Pr=vr.layersWithOutsidePointerEventsDisabled.size>0,Or=Sr>=_r,Lr=$5cb92bef7577960e$var$usePointerDownOutside(jr=>{const Rr=jr.target,Fr=[...vr.branches].some(Vr=>Vr.contains(Rr));!Or||Fr||(fr==null||fr(jr),pr==null||pr(jr),jr.defaultPrevented||mr==null||mr())},xr),Tr=$5cb92bef7577960e$var$useFocusOutside(jr=>{const Rr=jr.target;[...vr.branches].some(Vr=>Vr.contains(Rr))||(dr==null||dr(jr),pr==null||pr(jr),jr.defaultPrevented||mr==null||mr())},xr);return $addc16e1bbe58fd0$export$3a72a57244d6e765(jr=>{Sr===vr.layers.size-1&&(ur==null||ur(jr),!jr.defaultPrevented&&mr&&(jr.preventDefault(),mr()))},xr),reactExports.useEffect(()=>{if(hr)return lr&&(vr.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=xr.body.style.pointerEvents,xr.body.style.pointerEvents="none"),vr.layersWithOutsidePointerEventsDisabled.add(hr)),vr.layers.add(hr),$5cb92bef7577960e$var$dispatchUpdate(),()=>{lr&&vr.layersWithOutsidePointerEventsDisabled.size===1&&(xr.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[hr,xr,lr,vr]),reactExports.useEffect(()=>()=>{hr&&(vr.layers.delete(hr),vr.layersWithOutsidePointerEventsDisabled.delete(hr),$5cb92bef7577960e$var$dispatchUpdate())},[hr,vr]),reactExports.useEffect(()=>{const jr=()=>br({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,jr),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,jr)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},gr,{ref:Er,style:{pointerEvents:Pr?Or?"auto":"none":void 0,...or.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocusCapture,Tr.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onBlurCapture,Tr.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDownCapture,Lr.onPointerDownCapture)}))}),$5cb92bef7577960e$export$4d5eb2109db14228=reactExports.forwardRef((or,ar)=>{const cr=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),lr=reactExports.useRef(null),ur=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,lr);return reactExports.useEffect(()=>{const fr=lr.current;if(fr)return cr.branches.add(fr),()=>{cr.branches.delete(fr)}},[cr.branches]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},or,{ref:ur}))});function $5cb92bef7577960e$var$usePointerDownOutside(or,ar=globalThis==null?void 0:globalThis.document){const cr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or),lr=reactExports.useRef(!1),ur=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const fr=pr=>{if(pr.target&&!lr.current){let gr=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,cr,mr,{discrete:!0})};const mr={originalEvent:pr};pr.pointerType==="touch"?(ar.removeEventListener("click",ur.current),ur.current=gr,ar.addEventListener("click",ur.current,{once:!0})):gr()}else ar.removeEventListener("click",ur.current);lr.current=!1},dr=window.setTimeout(()=>{ar.addEventListener("pointerdown",fr)},0);return()=>{window.clearTimeout(dr),ar.removeEventListener("pointerdown",fr),ar.removeEventListener("click",ur.current)}},[ar,cr]),{onPointerDownCapture:()=>lr.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(or,ar=globalThis==null?void 0:globalThis.document){const cr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or),lr=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ur=fr=>{fr.target&&!lr.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,cr,{originalEvent:fr},{discrete:!1})};return ar.addEventListener("focusin",ur),()=>ar.removeEventListener("focusin",ur)},[ar,cr]),{onFocusCapture:()=>lr.current=!0,onBlurCapture:()=>lr.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const or=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(or)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(or,ar,cr,{discrete:lr}){const ur=cr.originalEvent.target,fr=new CustomEvent(or,{bubbles:!1,cancelable:!0,detail:cr});ar&&ur.addEventListener(or,ar,{once:!0}),lr?$8927f6f2acc4f386$export$6d1a0317bde7de7f(ur,fr):ur.dispatchEvent(fr)}const $5cb92bef7577960e$export$be92b6f5f03c0fe9=$5cb92bef7577960e$export$177fb62ff3ec1f22,$5cb92bef7577960e$export$aecb2ddcb55c95be=$5cb92bef7577960e$export$4d5eb2109db14228,$d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",$d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",$d3863c46a17e8a28$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d3863c46a17e8a28$export$20e40289641fbbb6=reactExports.forwardRef((or,ar)=>{const{loop:cr=!1,trapped:lr=!1,onMountAutoFocus:ur,onUnmountAutoFocus:fr,...dr}=or,[pr,mr]=reactExports.useState(null),gr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(ur),vr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(fr),hr=reactExports.useRef(null),$r=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Er=>mr(Er)),xr=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(lr){let Er=function(Sr){if(xr.paused||!pr)return;const Pr=Sr.target;pr.contains(Pr)?hr.current=Pr:$d3863c46a17e8a28$var$focus(hr.current,{select:!0})},wr=function(Sr){if(xr.paused||!pr)return;const Pr=Sr.relatedTarget;Pr!==null&&(pr.contains(Pr)||$d3863c46a17e8a28$var$focus(hr.current,{select:!0}))},yr=function(Sr){if(document.activeElement===document.body)for(const Or of Sr)Or.removedNodes.length>0&&$d3863c46a17e8a28$var$focus(pr)};document.addEventListener("focusin",Er),document.addEventListener("focusout",wr);const _r=new MutationObserver(yr);return pr&&_r.observe(pr,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",Er),document.removeEventListener("focusout",wr),_r.disconnect()}}},[lr,pr,xr.paused]),reactExports.useEffect(()=>{if(pr){$d3863c46a17e8a28$var$focusScopesStack.add(xr);const Er=document.activeElement;if(!pr.contains(Er)){const yr=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);pr.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,gr),pr.dispatchEvent(yr),yr.defaultPrevented||($d3863c46a17e8a28$var$focusFirst($d3863c46a17e8a28$var$removeLinks($d3863c46a17e8a28$var$getTabbableCandidates(pr)),{select:!0}),document.activeElement===Er&&$d3863c46a17e8a28$var$focus(pr))}return()=>{pr.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,gr),setTimeout(()=>{const yr=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);pr.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,vr),pr.dispatchEvent(yr),yr.defaultPrevented||$d3863c46a17e8a28$var$focus(Er??document.body,{select:!0}),pr.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,vr),$d3863c46a17e8a28$var$focusScopesStack.remove(xr)},0)}}},[pr,gr,vr,xr]);const br=reactExports.useCallback(Er=>{if(!cr&&!lr||xr.paused)return;const wr=Er.key==="Tab"&&!Er.altKey&&!Er.ctrlKey&&!Er.metaKey,yr=document.activeElement;if(wr&&yr){const _r=Er.currentTarget,[Sr,Pr]=$d3863c46a17e8a28$var$getTabbableEdges(_r);Sr&&Pr?!Er.shiftKey&&yr===Pr?(Er.preventDefault(),cr&&$d3863c46a17e8a28$var$focus(Sr,{select:!0})):Er.shiftKey&&yr===Sr&&(Er.preventDefault(),cr&&$d3863c46a17e8a28$var$focus(Pr,{select:!0})):yr===_r&&Er.preventDefault()}},[cr,lr,xr.paused]);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({tabIndex:-1},dr,{ref:$r,onKeyDown:br}))});function $d3863c46a17e8a28$var$focusFirst(or,{select:ar=!1}={}){const cr=document.activeElement;for(const lr of or)if($d3863c46a17e8a28$var$focus(lr,{select:ar}),document.activeElement!==cr)return}function $d3863c46a17e8a28$var$getTabbableEdges(or){const ar=$d3863c46a17e8a28$var$getTabbableCandidates(or),cr=$d3863c46a17e8a28$var$findVisible(ar,or),lr=$d3863c46a17e8a28$var$findVisible(ar.reverse(),or);return[cr,lr]}function $d3863c46a17e8a28$var$getTabbableCandidates(or){const ar=[],cr=document.createTreeWalker(or,NodeFilter.SHOW_ELEMENT,{acceptNode:lr=>{const ur=lr.tagName==="INPUT"&&lr.type==="hidden";return lr.disabled||lr.hidden||ur?NodeFilter.FILTER_SKIP:lr.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;cr.nextNode();)ar.push(cr.currentNode);return ar}function $d3863c46a17e8a28$var$findVisible(or,ar){for(const cr of or)if(!$d3863c46a17e8a28$var$isHidden(cr,{upTo:ar}))return cr}function $d3863c46a17e8a28$var$isHidden(or,{upTo:ar}){if(getComputedStyle(or).visibility==="hidden")return!0;for(;or;){if(ar!==void 0&&or===ar)return!1;if(getComputedStyle(or).display==="none")return!0;or=or.parentElement}return!1}function $d3863c46a17e8a28$var$isSelectableInput(or){return or instanceof HTMLInputElement&&"select"in or}function $d3863c46a17e8a28$var$focus(or,{select:ar=!1}={}){if(or&&or.focus){const cr=document.activeElement;or.focus({preventScroll:!0}),or!==cr&&$d3863c46a17e8a28$var$isSelectableInput(or)&&ar&&or.select()}}const $d3863c46a17e8a28$var$focusScopesStack=$d3863c46a17e8a28$var$createFocusScopesStack();function $d3863c46a17e8a28$var$createFocusScopesStack(){let or=[];return{add(ar){const cr=or[0];ar!==cr&&(cr==null||cr.pause()),or=$d3863c46a17e8a28$var$arrayRemove(or,ar),or.unshift(ar)},remove(ar){var cr;or=$d3863c46a17e8a28$var$arrayRemove(or,ar),(cr=or[0])===null||cr===void 0||cr.resume()}}}function $d3863c46a17e8a28$var$arrayRemove(or,ar){const cr=[...or],lr=cr.indexOf(ar);return lr!==-1&&cr.splice(lr,1),cr}function $d3863c46a17e8a28$var$removeLinks(or){return or.filter(ar=>ar.tagName!=="A")}const $f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((or,ar)=>{var cr;const{container:lr=globalThis==null||(cr=globalThis.document)===null||cr===void 0?void 0:cr.body,...ur}=or;return lr?$7SXl2$reactdom.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},ur,{ref:ar})),lr):null});function $fe963b355347cc68$export$3e6543de14f8614f(or,ar){return reactExports.useReducer((cr,lr)=>{const ur=ar[cr][lr];return ur??cr},or)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=or=>{const{present:ar,children:cr}=or,lr=$921a889cee6df7e8$var$usePresence(ar),ur=typeof cr=="function"?cr({present:lr.isPresent}):reactExports.Children.only(cr),fr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(lr.ref,ur.ref);return typeof cr=="function"||lr.isPresent?reactExports.cloneElement(ur,{ref:fr}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(or){const[ar,cr]=reactExports.useState(),lr=reactExports.useRef({}),ur=reactExports.useRef(or),fr=reactExports.useRef("none"),dr=or?"mounted":"unmounted",[pr,mr]=$fe963b355347cc68$export$3e6543de14f8614f(dr,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const gr=$921a889cee6df7e8$var$getAnimationName(lr.current);fr.current=pr==="mounted"?gr:"none"},[pr]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const gr=lr.current,vr=ur.current;if(vr!==or){const $r=fr.current,xr=$921a889cee6df7e8$var$getAnimationName(gr);or?mr("MOUNT"):xr==="none"||(gr==null?void 0:gr.display)==="none"?mr("UNMOUNT"):mr(vr&&$r!==xr?"ANIMATION_OUT":"UNMOUNT"),ur.current=or}},[or,mr]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(ar){const gr=hr=>{const xr=$921a889cee6df7e8$var$getAnimationName(lr.current).includes(hr.animationName);hr.target===ar&&xr&&reactDomExports.flushSync(()=>mr("ANIMATION_END"))},vr=hr=>{hr.target===ar&&(fr.current=$921a889cee6df7e8$var$getAnimationName(lr.current))};return ar.addEventListener("animationstart",vr),ar.addEventListener("animationcancel",gr),ar.addEventListener("animationend",gr),()=>{ar.removeEventListener("animationstart",vr),ar.removeEventListener("animationcancel",gr),ar.removeEventListener("animationend",gr)}}else mr("ANIMATION_END")},[ar,mr]),{isPresent:["mounted","unmountSuspended"].includes(pr),ref:reactExports.useCallback(gr=>{gr&&(lr.current=getComputedStyle(gr)),cr(gr)},[])}}function $921a889cee6df7e8$var$getAnimationName(or){return(or==null?void 0:or.animationName)||"none"}let $3db38b7d1fb3fe6a$var$count=0;function $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(){reactExports.useEffect(()=>{var or,ar;const cr=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(or=cr[0])!==null&&or!==void 0?or:$3db38b7d1fb3fe6a$var$createFocusGuard()),document.body.insertAdjacentElement("beforeend",(ar=cr[1])!==null&&ar!==void 0?ar:$3db38b7d1fb3fe6a$var$createFocusGuard()),$3db38b7d1fb3fe6a$var$count++,()=>{$3db38b7d1fb3fe6a$var$count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(lr=>lr.remove()),$3db38b7d1fb3fe6a$var$count--}},[])}function $3db38b7d1fb3fe6a$var$createFocusGuard(){const or=document.createElement("span");return or.setAttribute("data-radix-focus-guard",""),or.tabIndex=0,or.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",or}var __assign=function(){return __assign=Object.assign||function(ar){for(var cr,lr=1,ur=arguments.length;lr<ur;lr++){cr=arguments[lr];for(var fr in cr)Object.prototype.hasOwnProperty.call(cr,fr)&&(ar[fr]=cr[fr])}return ar},__assign.apply(this,arguments)};function __rest(or,ar){var cr={};for(var lr in or)Object.prototype.hasOwnProperty.call(or,lr)&&ar.indexOf(lr)<0&&(cr[lr]=or[lr]);if(or!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ur=0,lr=Object.getOwnPropertySymbols(or);ur<lr.length;ur++)ar.indexOf(lr[ur])<0&&Object.prototype.propertyIsEnumerable.call(or,lr[ur])&&(cr[lr[ur]]=or[lr[ur]]);return cr}function __spreadArray(or,ar,cr){if(cr||arguments.length===2)for(var lr=0,ur=ar.length,fr;lr<ur;lr++)(fr||!(lr in ar))&&(fr||(fr=Array.prototype.slice.call(ar,0,lr)),fr[lr]=ar[lr]);return or.concat(fr||Array.prototype.slice.call(ar))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(or,ar){return typeof or=="function"?or(ar):or&&(or.current=ar),or}function useCallbackRef(or,ar){var cr=reactExports.useState(function(){return{value:or,callback:ar,facade:{get current(){return cr.value},set current(lr){var ur=cr.value;ur!==lr&&(cr.value=lr,cr.callback(lr,ur))}}}})[0];return cr.callback=ar,cr.facade}function useMergeRefs(or,ar){return useCallbackRef(ar||null,function(cr){return or.forEach(function(lr){return assignRef(lr,cr)})})}function ItoI(or){return or}function innerCreateMedium(or,ar){ar===void 0&&(ar=ItoI);var cr=[],lr=!1,ur={read:function(){if(lr)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return cr.length?cr[cr.length-1]:or},useMedium:function(fr){var dr=ar(fr,lr);return cr.push(dr),function(){cr=cr.filter(function(pr){return pr!==dr})}},assignSyncMedium:function(fr){for(lr=!0;cr.length;){var dr=cr;cr=[],dr.forEach(fr)}cr={push:function(pr){return fr(pr)},filter:function(){return cr}}},assignMedium:function(fr){lr=!0;var dr=[];if(cr.length){var pr=cr;cr=[],pr.forEach(fr),dr=cr}var mr=function(){var vr=dr;dr=[],vr.forEach(fr)},gr=function(){return Promise.resolve().then(mr)};gr(),cr={push:function(vr){dr.push(vr),gr()},filter:function(vr){return dr=dr.filter(vr),cr}}}};return ur}function createSidecarMedium(or){or===void 0&&(or={});var ar=innerCreateMedium(null);return ar.options=__assign({async:!0,ssr:!1},or),ar}var SideCar$1=function(or){var ar=or.sideCar,cr=__rest(or,["sideCar"]);if(!ar)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var lr=ar.read();if(!lr)throw new Error("Sidecar medium not found");return reactExports.createElement(lr,__assign({},cr))};SideCar$1.isSideCarExport=!0;function exportSidecar(or,ar){return or.useMedium(ar),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(or,ar){var cr=reactExports.useRef(null),lr=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),ur=lr[0],fr=lr[1],dr=or.forwardProps,pr=or.children,mr=or.className,gr=or.removeScrollBar,vr=or.enabled,hr=or.shards,$r=or.sideCar,xr=or.noIsolation,br=or.inert,Er=or.allowPinchZoom,wr=or.as,yr=wr===void 0?"div":wr,_r=__rest(or,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),Sr=$r,Pr=useMergeRefs([cr,ar]),Or=__assign(__assign({},_r),ur);return reactExports.createElement(reactExports.Fragment,null,vr&&reactExports.createElement(Sr,{sideCar:effectCar,removeScrollBar:gr,shards:hr,noIsolation:xr,inert:br,setCallbacks:fr,allowPinchZoom:!!Er,lockRef:cr}),dr?reactExports.cloneElement(reactExports.Children.only(pr),__assign(__assign({},Or),{ref:Pr})):reactExports.createElement(yr,__assign({},Or,{className:mr,ref:Pr}),pr))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var currentNonce,getNonce=function(){if(currentNonce)return currentNonce;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var or=document.createElement("style");or.type="text/css";var ar=getNonce();return ar&&or.setAttribute("nonce",ar),or}function injectStyles(or,ar){or.styleSheet?or.styleSheet.cssText=ar:or.appendChild(document.createTextNode(ar))}function insertStyleTag(or){var ar=document.head||document.getElementsByTagName("head")[0];ar.appendChild(or)}var stylesheetSingleton=function(){var or=0,ar=null;return{add:function(cr){or==0&&(ar=makeStyleTag())&&(injectStyles(ar,cr),insertStyleTag(ar)),or++},remove:function(){or--,!or&&ar&&(ar.parentNode&&ar.parentNode.removeChild(ar),ar=null)}}},styleHookSingleton=function(){var or=stylesheetSingleton();return function(ar,cr){reactExports.useEffect(function(){return or.add(ar),function(){or.remove()}},[ar&&cr])}},styleSingleton=function(){var or=styleHookSingleton(),ar=function(cr){var lr=cr.styles,ur=cr.dynamic;return or(lr,ur),null};return ar},zeroGap={left:0,top:0,right:0,gap:0},parse=function(or){return parseInt(or||"",10)||0},getOffset=function(or){var ar=window.getComputedStyle(document.body),cr=ar[or==="padding"?"paddingLeft":"marginLeft"],lr=ar[or==="padding"?"paddingTop":"marginTop"],ur=ar[or==="padding"?"paddingRight":"marginRight"];return[parse(cr),parse(lr),parse(ur)]},getGapWidth=function(or){if(or===void 0&&(or="margin"),typeof window>"u")return zeroGap;var ar=getOffset(or),cr=document.documentElement.clientWidth,lr=window.innerWidth;return{left:ar[0],top:ar[1],right:ar[2],gap:Math.max(0,lr-cr+ar[2]-ar[0])}},Style=styleSingleton(),getStyles=function(or,ar,cr,lr){var ur=or.left,fr=or.top,dr=or.right,pr=or.gap;return cr===void 0&&(cr="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(lr,`;
   padding-right: `).concat(pr,"px ").concat(lr,`;
  }
  body {
    overflow: hidden `).concat(lr,`;
    overscroll-behavior: contain;
    `).concat([ar&&"position: relative ".concat(lr,";"),cr==="margin"&&`
    padding-left: `.concat(ur,`px;
    padding-top: `).concat(fr,`px;
    padding-right: `).concat(dr,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(pr,"px ").concat(lr,`;
    `),cr==="padding"&&"padding-right: ".concat(pr,"px ").concat(lr,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(pr,"px ").concat(lr,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(pr,"px ").concat(lr,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(lr,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(lr,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(pr,`px;
  }
`)},RemoveScrollBar=function(or){var ar=or.noRelative,cr=or.noImportant,lr=or.gapMode,ur=lr===void 0?"margin":lr,fr=reactExports.useMemo(function(){return getGapWidth(ur)},[ur]);return reactExports.createElement(Style,{styles:getStyles(fr,!ar,ur,cr?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(or){return or.tagName==="TEXTAREA"},elementCanBeScrolled=function(or,ar){var cr=window.getComputedStyle(or);return cr[ar]!=="hidden"&&!(cr.overflowY===cr.overflowX&&!alwaysContainsScroll(or)&&cr[ar]==="visible")},elementCouldBeVScrolled=function(or){return elementCanBeScrolled(or,"overflowY")},elementCouldBeHScrolled=function(or){return elementCanBeScrolled(or,"overflowX")},locationCouldBeScrolled=function(or,ar){var cr=ar;do{typeof ShadowRoot<"u"&&cr instanceof ShadowRoot&&(cr=cr.host);var lr=elementCouldBeScrolled(or,cr);if(lr){var ur=getScrollVariables(or,cr),fr=ur[1],dr=ur[2];if(fr>dr)return!0}cr=cr.parentNode}while(cr&&cr!==document.body);return!1},getVScrollVariables=function(or){var ar=or.scrollTop,cr=or.scrollHeight,lr=or.clientHeight;return[ar,cr,lr]},getHScrollVariables=function(or){var ar=or.scrollLeft,cr=or.scrollWidth,lr=or.clientWidth;return[ar,cr,lr]},elementCouldBeScrolled=function(or,ar){return or==="v"?elementCouldBeVScrolled(ar):elementCouldBeHScrolled(ar)},getScrollVariables=function(or,ar){return or==="v"?getVScrollVariables(ar):getHScrollVariables(ar)},getDirectionFactor=function(or,ar){return or==="h"&&ar==="rtl"?-1:1},handleScroll=function(or,ar,cr,lr,ur){var fr=getDirectionFactor(or,window.getComputedStyle(ar).direction),dr=fr*lr,pr=cr.target,mr=ar.contains(pr),gr=!1,vr=dr>0,hr=0,$r=0;do{var xr=getScrollVariables(or,pr),br=xr[0],Er=xr[1],wr=xr[2],yr=Er-wr-fr*br;(br||yr)&&elementCouldBeScrolled(or,pr)&&(hr+=yr,$r+=br),pr=pr.parentNode}while(!mr&&pr!==document.body||mr&&(ar.contains(pr)||ar===pr));return(vr&&(ur&&hr===0||!ur&&dr>hr)||!vr&&(ur&&$r===0||!ur&&-dr>$r))&&(gr=!0),gr},getTouchXY=function(or){return"changedTouches"in or?[or.changedTouches[0].clientX,or.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(or){return[or.deltaX,or.deltaY]},extractRef=function(or){return or&&"current"in or?or.current:or},deltaCompare=function(or,ar){return or[0]===ar[0]&&or[1]===ar[1]},generateStyle=function(or){return`
  .block-interactivity-`.concat(or,` {pointer-events: none;}
  .allow-interactivity-`).concat(or,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(or){var ar=reactExports.useRef([]),cr=reactExports.useRef([0,0]),lr=reactExports.useRef(),ur=reactExports.useState(idCounter++)[0],fr=reactExports.useState(function(){return styleSingleton()})[0],dr=reactExports.useRef(or);reactExports.useEffect(function(){dr.current=or},[or]),reactExports.useEffect(function(){if(or.inert){document.body.classList.add("block-interactivity-".concat(ur));var Er=__spreadArray([or.lockRef.current],(or.shards||[]).map(extractRef),!0).filter(Boolean);return Er.forEach(function(wr){return wr.classList.add("allow-interactivity-".concat(ur))}),function(){document.body.classList.remove("block-interactivity-".concat(ur)),Er.forEach(function(wr){return wr.classList.remove("allow-interactivity-".concat(ur))})}}},[or.inert,or.lockRef.current,or.shards]);var pr=reactExports.useCallback(function(Er,wr){if("touches"in Er&&Er.touches.length===2)return!dr.current.allowPinchZoom;var yr=getTouchXY(Er),_r=cr.current,Sr="deltaX"in Er?Er.deltaX:_r[0]-yr[0],Pr="deltaY"in Er?Er.deltaY:_r[1]-yr[1],Or,Lr=Er.target,Tr=Math.abs(Sr)>Math.abs(Pr)?"h":"v";if("touches"in Er&&Tr==="h"&&Lr.type==="range")return!1;var jr=locationCouldBeScrolled(Tr,Lr);if(!jr)return!0;if(jr?Or=Tr:(Or=Tr==="v"?"h":"v",jr=locationCouldBeScrolled(Tr,Lr)),!jr)return!1;if(!lr.current&&"changedTouches"in Er&&(Sr||Pr)&&(lr.current=Or),!Or)return!0;var Rr=lr.current||Or;return handleScroll(Rr,wr,Er,Rr==="h"?Sr:Pr,!0)},[]),mr=reactExports.useCallback(function(Er){var wr=Er;if(!(!lockStack.length||lockStack[lockStack.length-1]!==fr)){var yr="deltaY"in wr?getDeltaXY(wr):getTouchXY(wr),_r=ar.current.filter(function(Or){return Or.name===wr.type&&Or.target===wr.target&&deltaCompare(Or.delta,yr)})[0];if(_r&&_r.should){wr.cancelable&&wr.preventDefault();return}if(!_r){var Sr=(dr.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Or){return Or.contains(wr.target)}),Pr=Sr.length>0?pr(wr,Sr[0]):!dr.current.noIsolation;Pr&&wr.cancelable&&wr.preventDefault()}}},[]),gr=reactExports.useCallback(function(Er,wr,yr,_r){var Sr={name:Er,delta:wr,target:yr,should:_r};ar.current.push(Sr),setTimeout(function(){ar.current=ar.current.filter(function(Pr){return Pr!==Sr})},1)},[]),vr=reactExports.useCallback(function(Er){cr.current=getTouchXY(Er),lr.current=void 0},[]),hr=reactExports.useCallback(function(Er){gr(Er.type,getDeltaXY(Er),Er.target,pr(Er,or.lockRef.current))},[]),$r=reactExports.useCallback(function(Er){gr(Er.type,getTouchXY(Er),Er.target,pr(Er,or.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(fr),or.setCallbacks({onScrollCapture:hr,onWheelCapture:hr,onTouchMoveCapture:$r}),document.addEventListener("wheel",mr,nonPassive),document.addEventListener("touchmove",mr,nonPassive),document.addEventListener("touchstart",vr,nonPassive),function(){lockStack=lockStack.filter(function(Er){return Er!==fr}),document.removeEventListener("wheel",mr,nonPassive),document.removeEventListener("touchmove",mr,nonPassive),document.removeEventListener("touchstart",vr,nonPassive)}},[]);var xr=or.removeScrollBar,br=or.inert;return reactExports.createElement(reactExports.Fragment,null,br?reactExports.createElement(fr,{styles:generateStyle(ur)}):null,xr?reactExports.createElement(RemoveScrollBar,{gapMode:"margin"}):null)}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(or,ar){return reactExports.createElement(RemoveScroll,__assign({},or,{ref:ar,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;const $01b9c$RemoveScroll=ReactRemoveScroll;var getDefaultParent=function(or){if(typeof document>"u")return null;var ar=Array.isArray(or)?or[0]:or;return ar.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(or){return or&&(or.host||unwrapHost(or.parentNode))},correctTargets=function(or,ar){return ar.map(function(cr){if(or.contains(cr))return cr;var lr=unwrapHost(cr);return lr&&or.contains(lr)?lr:(console.error("aria-hidden",cr,"in not contained inside",or,". Doing nothing"),null)}).filter(function(cr){return!!cr})},applyAttributeToOthers=function(or,ar,cr,lr){var ur=correctTargets(ar,Array.isArray(or)?or:[or]);markerMap[cr]||(markerMap[cr]=new WeakMap);var fr=markerMap[cr],dr=[],pr=new Set,mr=new Set(ur),gr=function(hr){!hr||pr.has(hr)||(pr.add(hr),gr(hr.parentNode))};ur.forEach(gr);var vr=function(hr){!hr||mr.has(hr)||Array.prototype.forEach.call(hr.children,function($r){if(pr.has($r))vr($r);else{var xr=$r.getAttribute(lr),br=xr!==null&&xr!=="false",Er=(counterMap.get($r)||0)+1,wr=(fr.get($r)||0)+1;counterMap.set($r,Er),fr.set($r,wr),dr.push($r),Er===1&&br&&uncontrolledNodes.set($r,!0),wr===1&&$r.setAttribute(cr,"true"),br||$r.setAttribute(lr,"true")}})};return vr(ar),pr.clear(),lockCount++,function(){dr.forEach(function(hr){var $r=counterMap.get(hr)-1,xr=fr.get(hr)-1;counterMap.set(hr,$r),fr.set(hr,xr),$r||(uncontrolledNodes.has(hr)||hr.removeAttribute(lr),uncontrolledNodes.delete(hr)),xr||hr.removeAttribute(cr)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(or,ar,cr){cr===void 0&&(cr="data-aria-hidden");var lr=Array.from(Array.isArray(or)?or:[or]),ur=ar||getDefaultParent(or);return ur?(lr.push.apply(lr,Array.from(ur.querySelectorAll("[aria-live]"))),applyAttributeToOthers(lr,ur,cr,"aria-hidden")):function(){return null}};const $5d3850c4d0b4e6c7$var$DIALOG_NAME="Dialog",[$5d3850c4d0b4e6c7$var$createDialogContext,$5d3850c4d0b4e6c7$export$cc702773b8ea3e41]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($5d3850c4d0b4e6c7$var$DIALOG_NAME),[$5d3850c4d0b4e6c7$var$DialogProvider,$5d3850c4d0b4e6c7$var$useDialogContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$DIALOG_NAME),$5d3850c4d0b4e6c7$export$3ddf2d174ce01153=or=>{const{__scopeDialog:ar,children:cr,open:lr,defaultOpen:ur,onOpenChange:fr,modal:dr=!0}=or,pr=reactExports.useRef(null),mr=reactExports.useRef(null),[gr=!1,vr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lr,defaultProp:ur,onChange:fr});return reactExports.createElement($5d3850c4d0b4e6c7$var$DialogProvider,{scope:ar,triggerRef:pr,contentRef:mr,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),titleId:$1746a345f3d73bb7$export$f680877a34711e37(),descriptionId:$1746a345f3d73bb7$export$f680877a34711e37(),open:gr,onOpenChange:vr,onOpenToggle:reactExports.useCallback(()=>vr(hr=>!hr),[vr]),modal:dr},cr)},$5d3850c4d0b4e6c7$var$TRIGGER_NAME="DialogTrigger",$5d3850c4d0b4e6c7$export$2e1e1122cf0cba88=reactExports.forwardRef((or,ar)=>{const{__scopeDialog:cr,...lr}=or,ur=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TRIGGER_NAME,cr),fr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,ur.triggerRef);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button","aria-haspopup":"dialog","aria-expanded":ur.open,"aria-controls":ur.contentId,"data-state":$5d3850c4d0b4e6c7$var$getState(ur.open)},lr,{ref:fr,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onClick,ur.onOpenToggle)}))}),$5d3850c4d0b4e6c7$var$PORTAL_NAME="DialogPortal",[$5d3850c4d0b4e6c7$var$PortalProvider,$5d3850c4d0b4e6c7$var$usePortalContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,{forceMount:void 0}),$5d3850c4d0b4e6c7$export$dad7c95542bacce0=or=>{const{__scopeDialog:ar,forceMount:cr,children:lr,container:ur}=or,fr=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,ar);return reactExports.createElement($5d3850c4d0b4e6c7$var$PortalProvider,{scope:ar,forceMount:cr},reactExports.Children.map(lr,dr=>reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:cr||fr.open},reactExports.createElement($f1701beae083dbae$export$602eac185826482c,{asChild:!0,container:ur},dr))))},$5d3850c4d0b4e6c7$var$OVERLAY_NAME="DialogOverlay",$5d3850c4d0b4e6c7$export$bd1d06c79be19e17=reactExports.forwardRef((or,ar)=>{const cr=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,or.__scopeDialog),{forceMount:lr=cr.forceMount,...ur}=or,fr=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,or.__scopeDialog);return fr.modal?reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:lr||fr.open},reactExports.createElement($5d3850c4d0b4e6c7$var$DialogOverlayImpl,_extends$2({},ur,{ref:ar}))):null}),$5d3850c4d0b4e6c7$var$DialogOverlayImpl=reactExports.forwardRef((or,ar)=>{const{__scopeDialog:cr,...lr}=or,ur=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,cr);return reactExports.createElement($01b9c$RemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0,shards:[ur.contentRef]},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-state":$5d3850c4d0b4e6c7$var$getState(ur.open)},lr,{ref:ar,style:{pointerEvents:"auto",...lr.style}})))}),$5d3850c4d0b4e6c7$var$CONTENT_NAME="DialogContent",$5d3850c4d0b4e6c7$export$b6d9565de1e068cf=reactExports.forwardRef((or,ar)=>{const cr=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,or.__scopeDialog),{forceMount:lr=cr.forceMount,...ur}=or,fr=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,or.__scopeDialog);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:lr||fr.open},fr.modal?reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentModal,_extends$2({},ur,{ref:ar})):reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentNonModal,_extends$2({},ur,{ref:ar})))}),$5d3850c4d0b4e6c7$var$DialogContentModal=reactExports.forwardRef((or,ar)=>{const cr=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,or.__scopeDialog),lr=reactExports.useRef(null),ur=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,cr.contentRef,lr);return reactExports.useEffect(()=>{const fr=lr.current;if(fr)return hideOthers(fr)},[]),reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends$2({},or,{ref:ur,trapFocus:cr.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onCloseAutoFocus,fr=>{var dr;fr.preventDefault(),(dr=cr.triggerRef.current)===null||dr===void 0||dr.focus()}),onPointerDownOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDownOutside,fr=>{const dr=fr.detail.originalEvent,pr=dr.button===0&&dr.ctrlKey===!0;(dr.button===2||pr)&&fr.preventDefault()}),onFocusOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocusOutside,fr=>fr.preventDefault())}))}),$5d3850c4d0b4e6c7$var$DialogContentNonModal=reactExports.forwardRef((or,ar)=>{const cr=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,or.__scopeDialog),lr=reactExports.useRef(!1),ur=reactExports.useRef(!1);return reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends$2({},or,{ref:ar,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:fr=>{var dr;if((dr=or.onCloseAutoFocus)===null||dr===void 0||dr.call(or,fr),!fr.defaultPrevented){var pr;lr.current||(pr=cr.triggerRef.current)===null||pr===void 0||pr.focus(),fr.preventDefault()}lr.current=!1,ur.current=!1},onInteractOutside:fr=>{var dr,pr;(dr=or.onInteractOutside)===null||dr===void 0||dr.call(or,fr),fr.defaultPrevented||(lr.current=!0,fr.detail.originalEvent.type==="pointerdown"&&(ur.current=!0));const mr=fr.target;((pr=cr.triggerRef.current)===null||pr===void 0?void 0:pr.contains(mr))&&fr.preventDefault(),fr.detail.originalEvent.type==="focusin"&&ur.current&&fr.preventDefault()}}))}),$5d3850c4d0b4e6c7$var$DialogContentImpl=reactExports.forwardRef((or,ar)=>{const{__scopeDialog:cr,trapFocus:lr,onOpenAutoFocus:ur,onCloseAutoFocus:fr,...dr}=or,pr=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,cr),mr=reactExports.useRef(null),gr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,mr);return $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,loop:!0,trapped:lr,onMountAutoFocus:ur,onUnmountAutoFocus:fr},reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,_extends$2({role:"dialog",id:pr.contentId,"aria-describedby":pr.descriptionId,"aria-labelledby":pr.titleId,"data-state":$5d3850c4d0b4e6c7$var$getState(pr.open)},dr,{ref:gr,onDismiss:()=>pr.onOpenChange(!1)}))),!1)}),$5d3850c4d0b4e6c7$var$TITLE_NAME="DialogTitle",$5d3850c4d0b4e6c7$export$16f7638e4a34b909=reactExports.forwardRef((or,ar)=>{const{__scopeDialog:cr,...lr}=or,ur=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TITLE_NAME,cr);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.h2,_extends$2({id:ur.titleId},lr,{ref:ar}))}),$5d3850c4d0b4e6c7$var$DESCRIPTION_NAME="DialogDescription",$5d3850c4d0b4e6c7$export$94e94c2ec2c954d5=reactExports.forwardRef((or,ar)=>{const{__scopeDialog:cr,...lr}=or,ur=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$DESCRIPTION_NAME,cr);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.p,_extends$2({id:ur.descriptionId},lr,{ref:ar}))}),$5d3850c4d0b4e6c7$var$CLOSE_NAME="DialogClose",$5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac=reactExports.forwardRef((or,ar)=>{const{__scopeDialog:cr,...lr}=or,ur=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CLOSE_NAME,cr);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button"},lr,{ref:ar,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onClick,()=>ur.onOpenChange(!1))}))});function $5d3850c4d0b4e6c7$var$getState(or){return or?"open":"closed"}const $5d3850c4d0b4e6c7$var$TITLE_WARNING_NAME="DialogTitleWarning",[$5d3850c4d0b4e6c7$export$69b62a49393917d6,$5d3850c4d0b4e6c7$var$useWarningContext]=$c512c27ab02ef895$export$fd42f52fd3ae1109($5d3850c4d0b4e6c7$var$TITLE_WARNING_NAME,{contentName:$5d3850c4d0b4e6c7$var$CONTENT_NAME,titleName:$5d3850c4d0b4e6c7$var$TITLE_NAME,docsSlug:"dialog"}),$5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9=$5d3850c4d0b4e6c7$export$3ddf2d174ce01153,$5d3850c4d0b4e6c7$export$41fb9f06171c75f4=$5d3850c4d0b4e6c7$export$2e1e1122cf0cba88,$5d3850c4d0b4e6c7$export$602eac185826482c=$5d3850c4d0b4e6c7$export$dad7c95542bacce0,$5d3850c4d0b4e6c7$export$c6fdb837b070b4ff=$5d3850c4d0b4e6c7$export$bd1d06c79be19e17,$5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2=$5d3850c4d0b4e6c7$export$b6d9565de1e068cf,$5d3850c4d0b4e6c7$export$f99233281efd08a0=$5d3850c4d0b4e6c7$export$16f7638e4a34b909,$5d3850c4d0b4e6c7$export$393edc798c47379d=$5d3850c4d0b4e6c7$export$94e94c2ec2c954d5,$5d3850c4d0b4e6c7$export$f39c2d165cd861fe=$5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac,noop$1=()=>{},buttonContext=reactExports.createContext({okAction:noop$1,cancelAction:noop$1}),QspCloseButton=({attrs:or,children:ar})=>{const[,cr,lr]=useAttributes(or,"button","qsp-close-button");return jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$f39c2d165cd861fe,{asChild:!0,children:jsxRuntimeExports.jsx("button",{style:cr,...lr,children:ar})})},QspOkButton=({attrs:or,children:ar})=>{const[,cr,lr]=useAttributes(or,"button","qsp-ok-button"),{okAction:ur}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:cr,...lr,onClick:ur,children:ar})},QspCancelButton=({attrs:or,children:ar})=>{const[,cr,lr]=useAttributes(or,"button","qsp-cancel-button"),{cancelAction:ur}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:cr,...lr,onClick:ur,children:ar})},QspCmd=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-cmd"),fr=useAtom_2(isCmdVisible$),dr=pr=>{pr.preventDefault(),submitUserInput()};return fr?jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:jsxRuntimeExports.jsx("form",{onSubmit:dr,children:ar})}):null},QspCmdInput=({attrs:or})=>{const ar=useAtom_2(cmdText$),[,cr,lr]=useAttributes(or,"input","qsp-cmd-input"),ur=fr=>{cmdText$.set(fr.target.value)};return jsxRuntimeExports.jsx("input",{style:cr,...lr,type:"text",value:ar,onInput:ur})},$f631663db3294ace$var$DirectionContext=reactExports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(or){const ar=reactExports.useContext($f631663db3294ace$var$DirectionContext);return or||ar||"ltr"}function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(or,[ar,cr]){return Math.min(cr,Math.max(ar,or))}function $6c2e24571c90391f$export$3e6543de14f8614f(or,ar){return reactExports.useReducer((cr,lr)=>{const ur=ar[cr][lr];return ur??cr},or)}const $57acba87d6e25586$var$SCROLL_AREA_NAME="ScrollArea",[$57acba87d6e25586$var$createScrollAreaContext,$57acba87d6e25586$export$488468afe3a6f2b1]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($57acba87d6e25586$var$SCROLL_AREA_NAME),[$57acba87d6e25586$var$ScrollAreaProvider,$57acba87d6e25586$var$useScrollAreaContext]=$57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLL_AREA_NAME),$57acba87d6e25586$export$ccf8d8d7bbf3c2cc=reactExports.forwardRef((or,ar)=>{const{__scopeScrollArea:cr,type:lr="hover",dir:ur,scrollHideDelay:fr=600,...dr}=or,[pr,mr]=reactExports.useState(null),[gr,vr]=reactExports.useState(null),[hr,$r]=reactExports.useState(null),[xr,br]=reactExports.useState(null),[Er,wr]=reactExports.useState(null),[yr,_r]=reactExports.useState(0),[Sr,Pr]=reactExports.useState(0),[Or,Lr]=reactExports.useState(!1),[Tr,jr]=reactExports.useState(!1),Rr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Vr=>mr(Vr)),Fr=$f631663db3294ace$export$b39126d51d94e6f3(ur);return reactExports.createElement($57acba87d6e25586$var$ScrollAreaProvider,{scope:cr,type:lr,dir:Fr,scrollHideDelay:fr,scrollArea:pr,viewport:gr,onViewportChange:vr,content:hr,onContentChange:$r,scrollbarX:xr,onScrollbarXChange:br,scrollbarXEnabled:Or,onScrollbarXEnabledChange:Lr,scrollbarY:Er,onScrollbarYChange:wr,scrollbarYEnabled:Tr,onScrollbarYEnabledChange:jr,onCornerWidthChange:_r,onCornerHeightChange:Pr},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({dir:Fr},dr,{ref:Rr,style:{position:"relative","--radix-scroll-area-corner-width":yr+"px","--radix-scroll-area-corner-height":Sr+"px",...or.style}})))}),$57acba87d6e25586$var$VIEWPORT_NAME="ScrollAreaViewport",$57acba87d6e25586$export$a21cbf9f11fca853=reactExports.forwardRef((or,ar)=>{const{__scopeScrollArea:cr,children:lr,...ur}=or,fr=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$VIEWPORT_NAME,cr),dr=reactExports.useRef(null),pr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,dr,fr.onViewportChange);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-radix-scroll-area-viewport":""},ur,{ref:pr,style:{overflowX:fr.scrollbarXEnabled?"scroll":"hidden",overflowY:fr.scrollbarYEnabled?"scroll":"hidden",...or.style}}),reactExports.createElement("div",{ref:fr.onContentChange,style:{minWidth:"100%",display:"table"}},lr)))}),$57acba87d6e25586$var$SCROLLBAR_NAME="ScrollAreaScrollbar",$57acba87d6e25586$export$2fabd85d0eba3c57=reactExports.forwardRef((or,ar)=>{const{forceMount:cr,...lr}=or,ur=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,or.__scopeScrollArea),{onScrollbarXEnabledChange:fr,onScrollbarYEnabledChange:dr}=ur,pr=or.orientation==="horizontal";return reactExports.useEffect(()=>(pr?fr(!0):dr(!0),()=>{pr?fr(!1):dr(!1)}),[pr,fr,dr]),ur.type==="hover"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarHover,_extends$2({},lr,{ref:ar,forceMount:cr})):ur.type==="scroll"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarScroll,_extends$2({},lr,{ref:ar,forceMount:cr})):ur.type==="auto"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto,_extends$2({},lr,{ref:ar,forceMount:cr})):ur.type==="always"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends$2({},lr,{ref:ar})):null}),$57acba87d6e25586$var$ScrollAreaScrollbarHover=reactExports.forwardRef((or,ar)=>{const{forceMount:cr,...lr}=or,ur=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,or.__scopeScrollArea),[fr,dr]=reactExports.useState(!1);return reactExports.useEffect(()=>{const pr=ur.scrollArea;let mr=0;if(pr){const gr=()=>{window.clearTimeout(mr),dr(!0)},vr=()=>{mr=window.setTimeout(()=>dr(!1),ur.scrollHideDelay)};return pr.addEventListener("pointerenter",gr),pr.addEventListener("pointerleave",vr),()=>{window.clearTimeout(mr),pr.removeEventListener("pointerenter",gr),pr.removeEventListener("pointerleave",vr)}}},[ur.scrollArea,ur.scrollHideDelay]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:cr||fr},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto,_extends$2({"data-state":fr?"visible":"hidden"},lr,{ref:ar})))}),$57acba87d6e25586$var$ScrollAreaScrollbarScroll=reactExports.forwardRef((or,ar)=>{const{forceMount:cr,...lr}=or,ur=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,or.__scopeScrollArea),fr=or.orientation==="horizontal",dr=$57acba87d6e25586$var$useDebounceCallback(()=>mr("SCROLL_END"),100),[pr,mr]=$6c2e24571c90391f$export$3e6543de14f8614f("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(pr==="idle"){const gr=window.setTimeout(()=>mr("HIDE"),ur.scrollHideDelay);return()=>window.clearTimeout(gr)}},[pr,ur.scrollHideDelay,mr]),reactExports.useEffect(()=>{const gr=ur.viewport,vr=fr?"scrollLeft":"scrollTop";if(gr){let hr=gr[vr];const $r=()=>{const xr=gr[vr];hr!==xr&&(mr("SCROLL"),dr()),hr=xr};return gr.addEventListener("scroll",$r),()=>gr.removeEventListener("scroll",$r)}},[ur.viewport,fr,mr,dr]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:cr||pr!=="hidden"},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends$2({"data-state":pr==="hidden"?"hidden":"visible"},lr,{ref:ar,onPointerEnter:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerEnter,()=>mr("POINTER_ENTER")),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerLeave,()=>mr("POINTER_LEAVE"))})))}),$57acba87d6e25586$var$ScrollAreaScrollbarAuto=reactExports.forwardRef((or,ar)=>{const cr=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,or.__scopeScrollArea),{forceMount:lr,...ur}=or,[fr,dr]=reactExports.useState(!1),pr=or.orientation==="horizontal",mr=$57acba87d6e25586$var$useDebounceCallback(()=>{if(cr.viewport){const gr=cr.viewport.offsetWidth<cr.viewport.scrollWidth,vr=cr.viewport.offsetHeight<cr.viewport.scrollHeight;dr(pr?gr:vr)}},10);return $57acba87d6e25586$var$useResizeObserver(cr.viewport,mr),$57acba87d6e25586$var$useResizeObserver(cr.content,mr),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:lr||fr},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends$2({"data-state":fr?"visible":"hidden"},ur,{ref:ar})))}),$57acba87d6e25586$var$ScrollAreaScrollbarVisible=reactExports.forwardRef((or,ar)=>{const{orientation:cr="vertical",...lr}=or,ur=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,or.__scopeScrollArea),fr=reactExports.useRef(null),dr=reactExports.useRef(0),[pr,mr]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),gr=$57acba87d6e25586$var$getThumbRatio(pr.viewport,pr.content),vr={...lr,sizes:pr,onSizesChange:mr,hasThumb:gr>0&&gr<1,onThumbChange:$r=>fr.current=$r,onThumbPointerUp:()=>dr.current=0,onThumbPointerDown:$r=>dr.current=$r};function hr($r,xr){return $57acba87d6e25586$var$getScrollPositionFromPointer($r,dr.current,pr,xr)}return cr==="horizontal"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarX,_extends$2({},vr,{ref:ar,onThumbPositionChange:()=>{if(ur.viewport&&fr.current){const $r=ur.viewport.scrollLeft,xr=$57acba87d6e25586$var$getThumbOffsetFromScroll($r,pr,ur.dir);fr.current.style.transform=`translate3d(${xr}px, 0, 0)`}},onWheelScroll:$r=>{ur.viewport&&(ur.viewport.scrollLeft=$r)},onDragScroll:$r=>{ur.viewport&&(ur.viewport.scrollLeft=hr($r,ur.dir))}})):cr==="vertical"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarY,_extends$2({},vr,{ref:ar,onThumbPositionChange:()=>{if(ur.viewport&&fr.current){const $r=ur.viewport.scrollTop,xr=$57acba87d6e25586$var$getThumbOffsetFromScroll($r,pr);fr.current.style.transform=`translate3d(0, ${xr}px, 0)`}},onWheelScroll:$r=>{ur.viewport&&(ur.viewport.scrollTop=$r)},onDragScroll:$r=>{ur.viewport&&(ur.viewport.scrollTop=hr($r))}})):null}),$57acba87d6e25586$var$ScrollAreaScrollbarX=reactExports.forwardRef((or,ar)=>{const{sizes:cr,onSizesChange:lr,...ur}=or,fr=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,or.__scopeScrollArea),[dr,pr]=reactExports.useState(),mr=reactExports.useRef(null),gr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,mr,fr.onScrollbarXChange);return reactExports.useEffect(()=>{mr.current&&pr(getComputedStyle(mr.current))},[mr]),reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl,_extends$2({"data-orientation":"horizontal"},ur,{ref:gr,sizes:cr,style:{bottom:0,left:fr.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:fr.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$57acba87d6e25586$var$getThumbSize(cr)+"px",...or.style},onThumbPointerDown:vr=>or.onThumbPointerDown(vr.x),onDragScroll:vr=>or.onDragScroll(vr.x),onWheelScroll:(vr,hr)=>{if(fr.viewport){const $r=fr.viewport.scrollLeft+vr.deltaX;or.onWheelScroll($r),$57acba87d6e25586$var$isScrollingWithinScrollbarBounds($r,hr)&&vr.preventDefault()}},onResize:()=>{mr.current&&fr.viewport&&dr&&lr({content:fr.viewport.scrollWidth,viewport:fr.viewport.offsetWidth,scrollbar:{size:mr.current.clientWidth,paddingStart:$57acba87d6e25586$var$toInt(dr.paddingLeft),paddingEnd:$57acba87d6e25586$var$toInt(dr.paddingRight)}})}}))}),$57acba87d6e25586$var$ScrollAreaScrollbarY=reactExports.forwardRef((or,ar)=>{const{sizes:cr,onSizesChange:lr,...ur}=or,fr=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,or.__scopeScrollArea),[dr,pr]=reactExports.useState(),mr=reactExports.useRef(null),gr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,mr,fr.onScrollbarYChange);return reactExports.useEffect(()=>{mr.current&&pr(getComputedStyle(mr.current))},[mr]),reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl,_extends$2({"data-orientation":"vertical"},ur,{ref:gr,sizes:cr,style:{top:0,right:fr.dir==="ltr"?0:void 0,left:fr.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$57acba87d6e25586$var$getThumbSize(cr)+"px",...or.style},onThumbPointerDown:vr=>or.onThumbPointerDown(vr.y),onDragScroll:vr=>or.onDragScroll(vr.y),onWheelScroll:(vr,hr)=>{if(fr.viewport){const $r=fr.viewport.scrollTop+vr.deltaY;or.onWheelScroll($r),$57acba87d6e25586$var$isScrollingWithinScrollbarBounds($r,hr)&&vr.preventDefault()}},onResize:()=>{mr.current&&fr.viewport&&dr&&lr({content:fr.viewport.scrollHeight,viewport:fr.viewport.offsetHeight,scrollbar:{size:mr.current.clientHeight,paddingStart:$57acba87d6e25586$var$toInt(dr.paddingTop),paddingEnd:$57acba87d6e25586$var$toInt(dr.paddingBottom)}})}}))}),[$57acba87d6e25586$var$ScrollbarProvider,$57acba87d6e25586$var$useScrollbarContext]=$57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME),$57acba87d6e25586$var$ScrollAreaScrollbarImpl=reactExports.forwardRef((or,ar)=>{const{__scopeScrollArea:cr,sizes:lr,hasThumb:ur,onThumbChange:fr,onThumbPointerUp:dr,onThumbPointerDown:pr,onThumbPositionChange:mr,onDragScroll:gr,onWheelScroll:vr,onResize:hr,...$r}=or,xr=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,cr),[br,Er]=reactExports.useState(null),wr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Rr=>Er(Rr)),yr=reactExports.useRef(null),_r=reactExports.useRef(""),Sr=xr.viewport,Pr=lr.content-lr.viewport,Or=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(vr),Lr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(mr),Tr=$57acba87d6e25586$var$useDebounceCallback(hr,10);function jr(Rr){if(yr.current){const Fr=Rr.clientX-yr.current.left,Vr=Rr.clientY-yr.current.top;gr({x:Fr,y:Vr})}}return reactExports.useEffect(()=>{const Rr=Fr=>{const Vr=Fr.target;(br==null?void 0:br.contains(Vr))&&Or(Fr,Pr)};return document.addEventListener("wheel",Rr,{passive:!1}),()=>document.removeEventListener("wheel",Rr,{passive:!1})},[Sr,br,Pr,Or]),reactExports.useEffect(Lr,[lr,Lr]),$57acba87d6e25586$var$useResizeObserver(br,Tr),$57acba87d6e25586$var$useResizeObserver(xr.content,Tr),reactExports.createElement($57acba87d6e25586$var$ScrollbarProvider,{scope:cr,scrollbar:br,hasThumb:ur,onThumbChange:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(fr),onThumbPointerUp:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(dr),onThumbPositionChange:Lr,onThumbPointerDown:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(pr)},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},$r,{ref:wr,style:{position:"absolute",...$r.style},onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDown,Rr=>{Rr.button===0&&(Rr.target.setPointerCapture(Rr.pointerId),yr.current=br.getBoundingClientRect(),_r.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",xr.viewport&&(xr.viewport.style.scrollBehavior="auto"),jr(Rr))}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerMove,jr),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerUp,Rr=>{const Fr=Rr.target;Fr.hasPointerCapture(Rr.pointerId)&&Fr.releasePointerCapture(Rr.pointerId),document.body.style.webkitUserSelect=_r.current,xr.viewport&&(xr.viewport.style.scrollBehavior=""),yr.current=null})})))}),$57acba87d6e25586$var$THUMB_NAME="ScrollAreaThumb",$57acba87d6e25586$export$9fba1154677d7cd2=reactExports.forwardRef((or,ar)=>{const{forceMount:cr,...lr}=or,ur=$57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME,or.__scopeScrollArea);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:cr||ur.hasThumb},reactExports.createElement($57acba87d6e25586$var$ScrollAreaThumbImpl,_extends$2({ref:ar},lr)))}),$57acba87d6e25586$var$ScrollAreaThumbImpl=reactExports.forwardRef((or,ar)=>{const{__scopeScrollArea:cr,style:lr,...ur}=or,fr=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$THUMB_NAME,cr),dr=$57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME,cr),{onThumbPositionChange:pr}=dr,mr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,hr=>dr.onThumbChange(hr)),gr=reactExports.useRef(),vr=$57acba87d6e25586$var$useDebounceCallback(()=>{gr.current&&(gr.current(),gr.current=void 0)},100);return reactExports.useEffect(()=>{const hr=fr.viewport;if(hr){const $r=()=>{if(vr(),!gr.current){const xr=$57acba87d6e25586$var$addUnlinkedScrollListener(hr,pr);gr.current=xr,pr()}};return pr(),hr.addEventListener("scroll",$r),()=>hr.removeEventListener("scroll",$r)}},[fr.viewport,vr,pr]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-state":dr.hasThumb?"visible":"hidden"},ur,{ref:mr,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...lr},onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDownCapture,hr=>{const xr=hr.target.getBoundingClientRect(),br=hr.clientX-xr.left,Er=hr.clientY-xr.top;dr.onThumbPointerDown({x:br,y:Er})}),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerUp,dr.onThumbPointerUp)}))}),$57acba87d6e25586$var$CORNER_NAME="ScrollAreaCorner",$57acba87d6e25586$export$56969d565df7cc4b=reactExports.forwardRef((or,ar)=>{const cr=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME,or.__scopeScrollArea),lr=!!(cr.scrollbarX&&cr.scrollbarY);return cr.type!=="scroll"&&lr?reactExports.createElement($57acba87d6e25586$var$ScrollAreaCornerImpl,_extends$2({},or,{ref:ar})):null}),$57acba87d6e25586$var$ScrollAreaCornerImpl=reactExports.forwardRef((or,ar)=>{const{__scopeScrollArea:cr,...lr}=or,ur=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME,cr),[fr,dr]=reactExports.useState(0),[pr,mr]=reactExports.useState(0),gr=!!(fr&&pr);return $57acba87d6e25586$var$useResizeObserver(ur.scrollbarX,()=>{var vr;const hr=((vr=ur.scrollbarX)===null||vr===void 0?void 0:vr.offsetHeight)||0;ur.onCornerHeightChange(hr),mr(hr)}),$57acba87d6e25586$var$useResizeObserver(ur.scrollbarY,()=>{var vr;const hr=((vr=ur.scrollbarY)===null||vr===void 0?void 0:vr.offsetWidth)||0;ur.onCornerWidthChange(hr),dr(hr)}),gr?reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},lr,{ref:ar,style:{width:fr,height:pr,position:"absolute",right:ur.dir==="ltr"?0:void 0,left:ur.dir==="rtl"?0:void 0,bottom:0,...or.style}})):null});function $57acba87d6e25586$var$toInt(or){return or?parseInt(or,10):0}function $57acba87d6e25586$var$getThumbRatio(or,ar){const cr=or/ar;return isNaN(cr)?0:cr}function $57acba87d6e25586$var$getThumbSize(or){const ar=$57acba87d6e25586$var$getThumbRatio(or.viewport,or.content),cr=or.scrollbar.paddingStart+or.scrollbar.paddingEnd,lr=(or.scrollbar.size-cr)*ar;return Math.max(lr,18)}function $57acba87d6e25586$var$getScrollPositionFromPointer(or,ar,cr,lr="ltr"){const ur=$57acba87d6e25586$var$getThumbSize(cr),fr=ur/2,dr=ar||fr,pr=ur-dr,mr=cr.scrollbar.paddingStart+dr,gr=cr.scrollbar.size-cr.scrollbar.paddingEnd-pr,vr=cr.content-cr.viewport,hr=lr==="ltr"?[0,vr]:[vr*-1,0];return $57acba87d6e25586$var$linearScale([mr,gr],hr)(or)}function $57acba87d6e25586$var$getThumbOffsetFromScroll(or,ar,cr="ltr"){const lr=$57acba87d6e25586$var$getThumbSize(ar),ur=ar.scrollbar.paddingStart+ar.scrollbar.paddingEnd,fr=ar.scrollbar.size-ur,dr=ar.content-ar.viewport,pr=fr-lr,mr=cr==="ltr"?[0,dr]:[dr*-1,0],gr=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(or,mr);return $57acba87d6e25586$var$linearScale([0,dr],[0,pr])(gr)}function $57acba87d6e25586$var$linearScale(or,ar){return cr=>{if(or[0]===or[1]||ar[0]===ar[1])return ar[0];const lr=(ar[1]-ar[0])/(or[1]-or[0]);return ar[0]+lr*(cr-or[0])}}function $57acba87d6e25586$var$isScrollingWithinScrollbarBounds(or,ar){return or>0&&or<ar}const $57acba87d6e25586$var$addUnlinkedScrollListener=(or,ar=()=>{})=>{let cr={left:or.scrollLeft,top:or.scrollTop},lr=0;return function ur(){const fr={left:or.scrollLeft,top:or.scrollTop},dr=cr.left!==fr.left,pr=cr.top!==fr.top;(dr||pr)&&ar(),cr=fr,lr=window.requestAnimationFrame(ur)}(),()=>window.cancelAnimationFrame(lr)};function $57acba87d6e25586$var$useDebounceCallback(or,ar){const cr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or),lr=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(lr.current),[]),reactExports.useCallback(()=>{window.clearTimeout(lr.current),lr.current=window.setTimeout(cr,ar)},[cr,ar])}function $57acba87d6e25586$var$useResizeObserver(or,ar){const cr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(ar);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{let lr=0;if(or){const ur=new ResizeObserver(()=>{cancelAnimationFrame(lr),lr=window.requestAnimationFrame(cr)});return ur.observe(or),()=>{window.cancelAnimationFrame(lr),ur.unobserve(or)}}},[or,cr])}const $57acba87d6e25586$export$be92b6f5f03c0fe9=$57acba87d6e25586$export$ccf8d8d7bbf3c2cc,$57acba87d6e25586$export$d5c6c08dc2d3ca7=$57acba87d6e25586$export$a21cbf9f11fca853,$57acba87d6e25586$export$9a4e88b92edfce6b=$57acba87d6e25586$export$2fabd85d0eba3c57,$57acba87d6e25586$export$6521433ed15a34db=$57acba87d6e25586$export$9fba1154677d7cd2,$57acba87d6e25586$export$ac61190d9fc311a9=$57acba87d6e25586$export$56969d565df7cc4b,noopScrollAtom$=create(0),scrollContext=reactExports.createContext(noopScrollAtom$),isScrollType=or=>typeof or=="string"&&["both","horizontal","vertical"].includes(or),QspScrollable=({children:or,attrs:ar,scroll:cr="both"})=>{const[,lr,{className:ur="",...fr}]=useAttributes(ar,"div","qsp-scrollable"),dr=reactExports.useRef(null),pr=useAtom_2(reactExports.useContext(scrollContext)),mr=useSetup(()=>create(!1)),gr=useAtom_2(mr),vr=useSetup(()=>create(!1)),hr=useAtom_2(vr);return reactExports.useEffect(()=>{dr.current&&pr&&(dr.current.scrollTop=pr>0?dr.current.scrollHeight:0)},[pr]),reactExports.useLayoutEffect(()=>{const $r=dr.current;if(!$r)return;function xr(){const Er=dr.current?dr.current.scrollTop>0:!1;mr.value!==Er&&mr.set(Er);const wr=dr.current?dr.current.offsetHeight+dr.current.scrollTop<dr.current.scrollHeight:!0;wr!==vr.value&&vr.set(wr)}xr();const br=setInterval(xr,300);return $r.addEventListener("scroll",xr,{passive:!0}),()=>{$r.removeEventListener("scroll",xr),clearInterval(br)}},[]),jsxRuntimeExports.jsxs($57acba87d6e25586$export$be92b6f5f03c0fe9,{style:lr,...fr,className:ur+" qsp-scroll-root","data-upscroll":gr||void 0,"data-downscroll":hr||void 0,children:[jsxRuntimeExports.jsx($57acba87d6e25586$export$d5c6c08dc2d3ca7,{ref:dr,className:"qsp-scroll-area",children:or}),cr==="both"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx($57acba87d6e25586$export$9a4e88b92edfce6b,{className:"qsp-scrollbar",orientation:"horizontal",children:jsxRuntimeExports.jsx($57acba87d6e25586$export$6521433ed15a34db,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx($57acba87d6e25586$export$9a4e88b92edfce6b,{className:"qsp-scrollbar",orientation:"vertical",children:jsxRuntimeExports.jsx($57acba87d6e25586$export$6521433ed15a34db,{className:"qsp-scrollbar-thumb"})})]}):jsxRuntimeExports.jsx($57acba87d6e25586$export$9a4e88b92edfce6b,{className:"qsp-scrollbar",orientation:cr,children:jsxRuntimeExports.jsx($57acba87d6e25586$export$6521433ed15a34db,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx($57acba87d6e25586$export$ac61190d9fc311a9,{className:"qsp-scrollbar-corner"})]})};var __defProp=Object.defineProperty,__export=(or,ar)=>{for(var cr in ar)__defProp(or,cr,{get:ar[cr],enumerable:!0})},globals_exports={};__export(globals_exports,{assign:()=>assign,colors:()=>colors,createStringInterpolator:()=>createStringInterpolator,skipAnimation:()=>skipAnimation,to:()=>to,willAdvance:()=>willAdvance});var updateQueue=makeQueue(),raf=or=>schedule(or,updateQueue),writeQueue=makeQueue();raf.write=or=>schedule(or,writeQueue);var onStartQueue=makeQueue();raf.onStart=or=>schedule(or,onStartQueue);var onFrameQueue=makeQueue();raf.onFrame=or=>schedule(or,onFrameQueue);var onFinishQueue=makeQueue();raf.onFinish=or=>schedule(or,onFinishQueue);var timeouts=[];raf.setTimeout=(or,ar)=>{const cr=raf.now()+ar,lr=()=>{const fr=timeouts.findIndex(dr=>dr.cancel==lr);~fr&&timeouts.splice(fr,1),pendingCount-=~fr?1:0},ur={time:cr,handler:or,cancel:lr};return timeouts.splice(findTimeout(cr),0,ur),pendingCount+=1,start(),ur};var findTimeout=or=>~(~timeouts.findIndex(ar=>ar.time>or)||~timeouts.length);raf.cancel=or=>{onStartQueue.delete(or),onFrameQueue.delete(or),onFinishQueue.delete(or),updateQueue.delete(or),writeQueue.delete(or)};raf.sync=or=>{sync=!0,raf.batchedUpdates(or),sync=!1};raf.throttle=or=>{let ar;function cr(){try{or(...ar)}finally{ar=null}}function lr(...ur){ar=ur,raf.onStart(cr)}return lr.handler=or,lr.cancel=()=>{onStartQueue.delete(cr),ar=null},lr};var nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=or=>nativeRaf=or;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=or=>or();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};var ts=-1,pendingCount=0,sync=!1;function schedule(or,ar){sync?(ar.delete(or),or(0)):(ar.add(or),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop))}function stop(){ts=-1}function loop(){~ts&&(nativeRaf(loop),raf.batchedUpdates(update))}function update(){const or=ts;ts=raf.now();const ar=findTimeout(ts);if(ar&&(eachSafely(timeouts.splice(0,ar),cr=>cr.handler()),pendingCount-=ar),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush(or?Math.min(64,ts-or):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let or=new Set,ar=or;return{add(cr){pendingCount+=ar==or&&!or.has(cr)?1:0,or.add(cr)},delete(cr){return pendingCount-=ar==or&&or.has(cr)?1:0,or.delete(cr)},flush(cr){ar.size&&(or=new Set,pendingCount-=ar.size,eachSafely(ar,lr=>lr(cr)&&or.add(lr)),pendingCount+=or.size,ar=or)}}}function eachSafely(or,ar){or.forEach(cr=>{try{ar(cr)}catch(lr){raf.catch(lr)}})}function noop(){}var defineHidden=(or,ar,cr)=>Object.defineProperty(or,ar,{value:cr,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:or=>!!or&&or.constructor.name==="Object",fun:or=>typeof or=="function",str:or=>typeof or=="string",num:or=>typeof or=="number",und:or=>or===void 0};function isEqual(or,ar){if(is.arr(or)){if(!is.arr(ar)||or.length!==ar.length)return!1;for(let cr=0;cr<or.length;cr++)if(or[cr]!==ar[cr])return!1;return!0}return or===ar}var each=(or,ar)=>or.forEach(ar);function eachProp(or,ar,cr){if(is.arr(or)){for(let lr=0;lr<or.length;lr++)ar.call(cr,or[lr],`${lr}`);return}for(const lr in or)or.hasOwnProperty(lr)&&ar.call(cr,or[lr],lr)}var toArray=or=>is.und(or)?[]:is.arr(or)?or:[or];function flush(or,ar){if(or.size){const cr=Array.from(or);or.clear(),each(cr,ar)}}var flushCalls=(or,...ar)=>flush(or,cr=>cr(...ar)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator,to,colors=null,skipAnimation=!1,willAdvance=noop,assign=or=>{or.to&&(to=or.to),or.now&&(raf.now=or.now),or.colors!==void 0&&(colors=or.colors),or.skipAnimation!=null&&(skipAnimation=or.skipAnimation),or.createStringInterpolator&&(createStringInterpolator=or.createStringInterpolator),or.requestAnimationFrame&&raf.use(or.requestAnimationFrame),or.batchedUpdates&&(raf.batchedUpdates=or.batchedUpdates),or.willAdvance&&(willAdvance=or.willAdvance),or.frameLoop&&(raf.frameLoop=or.frameLoop)},startQueue=new Set,currentFrame=[],prevFrame=[],priority=0,frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start(or){priority>or.priority?(startQueue.add(or),raf.onStart(flushStartQueue)):(startSafely(or),raf(advance))},advance,sort(or){if(priority)raf.onFrame(()=>frameLoop.sort(or));else{const ar=currentFrame.indexOf(or);~ar&&(currentFrame.splice(ar,1),startUnsafely(or))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely(or){currentFrame.includes(or)||startUnsafely(or)}function startUnsafely(or){currentFrame.splice(findIndex(currentFrame,ar=>ar.priority>or.priority),0,or)}function advance(or){const ar=prevFrame;for(let cr=0;cr<currentFrame.length;cr++){const lr=currentFrame[cr];priority=lr.priority,lr.idle||(willAdvance(lr),lr.advance(or),lr.idle||ar.push(lr))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=ar,currentFrame.length>0}function findIndex(or,ar){const cr=or.findIndex(ar);return cr<0?or.length:cr}var clamp$1=(or,ar,cr)=>Math.min(Math.max(cr,or),ar),colors2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call(...or){return"\\(\\s*("+or.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(or){let ar;return typeof or=="number"?or>>>0===or&&or>=0&&or<=4294967295?or:null:(ar=hex6.exec(or))?parseInt(ar[1]+"ff",16)>>>0:colors&&colors[or]!==void 0?colors[or]:(ar=rgb.exec(or))?(parse255(ar[1])<<24|parse255(ar[2])<<16|parse255(ar[3])<<8|255)>>>0:(ar=rgba.exec(or))?(parse255(ar[1])<<24|parse255(ar[2])<<16|parse255(ar[3])<<8|parse1(ar[4]))>>>0:(ar=hex3.exec(or))?parseInt(ar[1]+ar[1]+ar[2]+ar[2]+ar[3]+ar[3]+"ff",16)>>>0:(ar=hex8.exec(or))?parseInt(ar[1],16)>>>0:(ar=hex4.exec(or))?parseInt(ar[1]+ar[1]+ar[2]+ar[2]+ar[3]+ar[3]+ar[4]+ar[4],16)>>>0:(ar=hsl.exec(or))?(hslToRgb(parse360(ar[1]),parsePercentage(ar[2]),parsePercentage(ar[3]))|255)>>>0:(ar=hsla.exec(or))?(hslToRgb(parse360(ar[1]),parsePercentage(ar[2]),parsePercentage(ar[3]))|parse1(ar[4]))>>>0:null}function hue2rgb(or,ar,cr){return cr<0&&(cr+=1),cr>1&&(cr-=1),cr<1/6?or+(ar-or)*6*cr:cr<1/2?ar:cr<2/3?or+(ar-or)*(2/3-cr)*6:or}function hslToRgb(or,ar,cr){const lr=cr<.5?cr*(1+ar):cr+ar-cr*ar,ur=2*cr-lr,fr=hue2rgb(ur,lr,or+1/3),dr=hue2rgb(ur,lr,or),pr=hue2rgb(ur,lr,or-1/3);return Math.round(fr*255)<<24|Math.round(dr*255)<<16|Math.round(pr*255)<<8}function parse255(or){const ar=parseInt(or,10);return ar<0?0:ar>255?255:ar}function parse360(or){return(parseFloat(or)%360+360)%360/360}function parse1(or){const ar=parseFloat(or);return ar<0?0:ar>1?255:Math.round(ar*255)}function parsePercentage(or){const ar=parseFloat(or);return ar<0?0:ar>100?1:ar/100}function colorToRgba(or){let ar=normalizeColor(or);if(ar===null)return or;ar=ar||0;const cr=(ar&4278190080)>>>24,lr=(ar&16711680)>>>16,ur=(ar&65280)>>>8,fr=(ar&255)/255;return`rgba(${cr}, ${lr}, ${ur}, ${fr})`}var createInterpolator=(or,ar,cr)=>{if(is.fun(or))return or;if(is.arr(or))return createInterpolator({range:or,output:ar,extrapolate:cr});if(is.str(or.output[0]))return createStringInterpolator(or);const lr=or,ur=lr.output,fr=lr.range||[0,1],dr=lr.extrapolateLeft||lr.extrapolate||"extend",pr=lr.extrapolateRight||lr.extrapolate||"extend",mr=lr.easing||(gr=>gr);return gr=>{const vr=findRange(gr,fr);return interpolate(gr,fr[vr],fr[vr+1],ur[vr],ur[vr+1],mr,dr,pr,lr.map)}};function interpolate(or,ar,cr,lr,ur,fr,dr,pr,mr){let gr=mr?mr(or):or;if(gr<ar){if(dr==="identity")return gr;dr==="clamp"&&(gr=ar)}if(gr>cr){if(pr==="identity")return gr;pr==="clamp"&&(gr=cr)}return lr===ur?lr:ar===cr?or<=ar?lr:ur:(ar===-1/0?gr=-gr:cr===1/0?gr=gr-ar:gr=(gr-ar)/(cr-ar),gr=fr(gr),lr===-1/0?gr=-gr:ur===1/0?gr=gr+lr:gr=gr*(ur-lr)+lr,gr)}function findRange(or,ar){for(var cr=1;cr<ar.length-1&&!(ar[cr]>=or);++cr);return cr-1}var steps=(or,ar="end")=>cr=>{cr=ar==="end"?Math.min(cr,.999):Math.max(cr,.001);const lr=cr*or,ur=ar==="end"?Math.floor(lr):Math.ceil(lr);return clamp$1(0,1,ur/or)},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=or=>or<1/2.75?7.5625*or*or:or<2/2.75?7.5625*(or-=1.5/2.75)*or+.75:or<2.5/2.75?7.5625*(or-=2.25/2.75)*or+.9375:7.5625*(or-=2.625/2.75)*or+.984375,easings={linear:or=>or,easeInQuad:or=>or*or,easeOutQuad:or=>1-(1-or)*(1-or),easeInOutQuad:or=>or<.5?2*or*or:1-Math.pow(-2*or+2,2)/2,easeInCubic:or=>or*or*or,easeOutCubic:or=>1-Math.pow(1-or,3),easeInOutCubic:or=>or<.5?4*or*or*or:1-Math.pow(-2*or+2,3)/2,easeInQuart:or=>or*or*or*or,easeOutQuart:or=>1-Math.pow(1-or,4),easeInOutQuart:or=>or<.5?8*or*or*or*or:1-Math.pow(-2*or+2,4)/2,easeInQuint:or=>or*or*or*or*or,easeOutQuint:or=>1-Math.pow(1-or,5),easeInOutQuint:or=>or<.5?16*or*or*or*or*or:1-Math.pow(-2*or+2,5)/2,easeInSine:or=>1-Math.cos(or*Math.PI/2),easeOutSine:or=>Math.sin(or*Math.PI/2),easeInOutSine:or=>-(Math.cos(Math.PI*or)-1)/2,easeInExpo:or=>or===0?0:Math.pow(2,10*or-10),easeOutExpo:or=>or===1?1:1-Math.pow(2,-10*or),easeInOutExpo:or=>or===0?0:or===1?1:or<.5?Math.pow(2,20*or-10)/2:(2-Math.pow(2,-20*or+10))/2,easeInCirc:or=>1-Math.sqrt(1-Math.pow(or,2)),easeOutCirc:or=>Math.sqrt(1-Math.pow(or-1,2)),easeInOutCirc:or=>or<.5?(1-Math.sqrt(1-Math.pow(2*or,2)))/2:(Math.sqrt(1-Math.pow(-2*or+2,2))+1)/2,easeInBack:or=>c3*or*or*or-c1*or*or,easeOutBack:or=>1+c3*Math.pow(or-1,3)+c1*Math.pow(or-1,2),easeInOutBack:or=>or<.5?Math.pow(2*or,2)*((c2+1)*2*or-c2)/2:(Math.pow(2*or-2,2)*((c2+1)*(or*2-2)+c2)+2)/2,easeInElastic:or=>or===0?0:or===1?1:-Math.pow(2,10*or-10)*Math.sin((or*10-10.75)*c4),easeOutElastic:or=>or===0?0:or===1?1:Math.pow(2,-10*or)*Math.sin((or*10-.75)*c4)+1,easeInOutElastic:or=>or===0?0:or===1?1:or<.5?-(Math.pow(2,20*or-10)*Math.sin((20*or-11.125)*c5))/2:Math.pow(2,-20*or+10)*Math.sin((20*or-11.125)*c5)/2+1,easeInBounce:or=>1-bounceOut(1-or),easeOutBounce:bounceOut,easeInOutBounce:or=>or<.5?(1-bounceOut(1-2*or))/2:(1+bounceOut(2*or-1))/2,steps},$get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=or=>!!(or&&or[$get]),getFluidValue=or=>or&&or[$get]?or[$get]():or,getFluidObservers=or=>or[$observers]||null;function callFluidObserver(or,ar){or.eventObserved?or.eventObserved(ar):or(ar)}function callFluidObservers(or,ar){const cr=or[$observers];cr&&cr.forEach(lr=>{callFluidObserver(lr,ar)})}var FluidValue=class{constructor(or){if(!or&&!(or=this.get))throw Error("Unknown getter");setFluidGetter(this,or)}},setFluidGetter=(or,ar)=>setHidden(or,$get,ar);function addFluidObserver(or,ar){if(or[$get]){let cr=or[$observers];cr||setHidden(or,$observers,cr=new Set),cr.has(ar)||(cr.add(ar),or.observerAdded&&or.observerAdded(cr.size,ar))}return ar}function removeFluidObserver(or,ar){const cr=or[$observers];if(cr&&cr.has(ar)){const lr=cr.size-1;lr?cr.delete(ar):or[$observers]=null,or.observerRemoved&&or.observerRemoved(lr,ar)}}var setHidden=(or,ar,cr)=>Object.defineProperty(or,ar,{value:cr,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=or=>{const[ar,cr]=parseCSSVariable(or);if(!ar||isSSR())return or;const lr=window.getComputedStyle(document.documentElement).getPropertyValue(ar);if(lr)return lr.trim();if(cr&&cr.startsWith("--")){const ur=window.getComputedStyle(document.documentElement).getPropertyValue(cr);return ur||or}else{if(cr&&cssVariableRegex.test(cr))return variableToRgba(cr);if(cr)return cr}return or},parseCSSVariable=or=>{const ar=cssVariableRegex.exec(or);if(!ar)return[,];const[,cr,lr]=ar;return[cr,lr]},namedColorRegex,rgbaRound=(or,ar,cr,lr,ur)=>`rgba(${Math.round(ar)}, ${Math.round(cr)}, ${Math.round(lr)}, ${ur})`,createStringInterpolator2=or=>{namedColorRegex||(namedColorRegex=colors?new RegExp(`(${Object.keys(colors).join("|")})(?!\\w)`,"g"):/^\b$/);const ar=or.output.map(fr=>getFluidValue(fr).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),cr=ar.map(fr=>fr.match(numberRegex).map(Number)),ur=cr[0].map((fr,dr)=>cr.map(pr=>{if(!(dr in pr))throw Error('The arity of each "output" value must be equal');return pr[dr]})).map(fr=>createInterpolator({...or,output:fr}));return fr=>{var mr;const dr=!unitRegex.test(ar[0])&&((mr=ar.find(gr=>unitRegex.test(gr)))==null?void 0:mr.replace(numberRegex,""));let pr=0;return ar[0].replace(numberRegex,()=>`${ur[pr++](fr)}${dr||""}`).replace(rgbaRegex,rgbaRound)}},prefix="react-spring: ",once=or=>{const ar=or;let cr=!1;if(typeof ar!="function")throw new TypeError(`${prefix}once requires a function parameter`);return(...lr)=>{cr||(ar(...lr),cr=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString(or){return is.str(or)&&(or[0]=="#"||/\d/.test(or)||!isSSR()&&cssVariableRegex.test(or)||or in(colors||{}))}var useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const or=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(or.current=!0,()=>{or.current=!1}),[]),or};function useForceUpdate(){const or=reactExports.useState()[1],ar=useIsMounted();return()=>{ar.current&&or(Math.random())}}function useMemoOne(or,ar){const[cr]=reactExports.useState(()=>({inputs:ar,result:or()})),lr=reactExports.useRef(),ur=lr.current;let fr=ur;return fr?ar&&fr.inputs&&areInputsEqual(ar,fr.inputs)||(fr={inputs:ar,result:or()}):fr=cr,reactExports.useEffect(()=>{lr.current=fr,ur==cr&&(cr.inputs=cr.result=void 0)},[fr]),fr.result}function areInputsEqual(or,ar){if(or.length!==ar.length)return!1;for(let cr=0;cr<or.length;cr++)if(or[cr]!==ar[cr])return!1;return!0}var useOnce=or=>reactExports.useEffect(or,emptyDeps),emptyDeps=[];function usePrev(or){const ar=reactExports.useRef();return reactExports.useEffect(()=>{ar.current=or}),ar.current}var $node=Symbol.for("Animated:node"),isAnimated=or=>!!or&&or[$node]===or,getAnimated=or=>or&&or[$node],setAnimated=(or,ar)=>defineHidden(or,$node,ar),getPayload=or=>or&&or[$node]&&or[$node].getPayload(),Animated=class{constructor(){setAnimated(this,this)}getPayload(){return this.payload||[]}},AnimatedValue=class extends Animated{constructor(or){super(),this._value=or,this.done=!0,this.durationProgress=0,is.num(this._value)&&(this.lastPosition=this._value)}static create(or){return new AnimatedValue(or)}getPayload(){return[this]}getValue(){return this._value}setValue(or,ar){return is.num(or)&&(this.lastPosition=or,ar&&(or=Math.round(or/ar)*ar,this.done&&(this.lastPosition=or))),this._value===or?!1:(this._value=or,!0)}reset(){const{done:or}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,or&&(this.lastVelocity=null),this.v0=null)}},AnimatedString=class extends AnimatedValue{constructor(or){super(0),this._string=null,this._toString=createInterpolator({output:[or,or]})}static create(or){return new AnimatedString(or)}getValue(){const or=this._string;return or??(this._string=this._toString(this._value))}setValue(or){if(is.str(or)){if(or==this._string)return!1;this._string=or,this._value=1}else if(super.setValue(or))this._string=null;else return!1;return!0}reset(or){or&&(this._toString=createInterpolator({output:[this.getValue(),or]})),this._value=0,super.reset()}},TreeContext={dependencies:null},AnimatedObject=class extends Animated{constructor(or){super(),this.source=or,this.setValue(or)}getValue(or){const ar={};return eachProp(this.source,(cr,lr)=>{isAnimated(cr)?ar[lr]=cr.getValue(or):hasFluidValue(cr)?ar[lr]=getFluidValue(cr):or||(ar[lr]=cr)}),ar}setValue(or){this.source=or,this.payload=this._makePayload(or)}reset(){this.payload&&each(this.payload,or=>or.reset())}_makePayload(or){if(or){const ar=new Set;return eachProp(or,this._addToPayload,ar),Array.from(ar)}}_addToPayload(or){TreeContext.dependencies&&hasFluidValue(or)&&TreeContext.dependencies.add(or);const ar=getPayload(or);ar&&each(ar,cr=>this.add(cr))}},AnimatedArray=class extends AnimatedObject{constructor(or){super(or)}static create(or){return new AnimatedArray(or)}getValue(){return this.source.map(or=>or.getValue())}setValue(or){const ar=this.getPayload();return or.length==ar.length?ar.map((cr,lr)=>cr.setValue(or[lr])).some(Boolean):(super.setValue(or.map(makeAnimated)),!0)}};function makeAnimated(or){return(isAnimatedString(or)?AnimatedString:AnimatedValue).create(or)}function getAnimatedType(or){const ar=getAnimated(or);return ar?ar.constructor:is.arr(or)?AnimatedArray:isAnimatedString(or)?AnimatedString:AnimatedValue}var withAnimated=(or,ar)=>{const cr=!is.fun(or)||or.prototype&&or.prototype.isReactComponent;return reactExports.forwardRef((lr,ur)=>{const fr=reactExports.useRef(null),dr=cr&&reactExports.useCallback(br=>{fr.current=updateRef(ur,br)},[ur]),[pr,mr]=getAnimatedState(lr,ar),gr=useForceUpdate(),vr=()=>{const br=fr.current;if(cr&&!br)return;(br?ar.applyAnimatedValues(br,pr.getValue(!0)):!1)===!1&&gr()},hr=new PropsObserver(vr,mr),$r=reactExports.useRef();useIsomorphicLayoutEffect(()=>($r.current=hr,each(mr,br=>addFluidObserver(br,hr)),()=>{$r.current&&(each($r.current.deps,br=>removeFluidObserver(br,$r.current)),raf.cancel($r.current.update))})),reactExports.useEffect(vr,[]),useOnce(()=>()=>{const br=$r.current;each(br.deps,Er=>removeFluidObserver(Er,br))});const xr=ar.getComponentProps(pr.getValue());return reactExports.createElement(or,{...xr,ref:dr})})},PropsObserver=class{constructor(or,ar){this.update=or,this.deps=ar}eventObserved(or){or.type=="change"&&raf.write(this.update)}};function getAnimatedState(or,ar){const cr=new Set;return TreeContext.dependencies=cr,or.style&&(or={...or,style:ar.createAnimatedStyle(or.style)}),or=new AnimatedObject(or),TreeContext.dependencies=null,[or,cr]}function updateRef(or,ar){return or&&(is.fun(or)?or(ar):or.current=ar),ar}var cacheKey=Symbol.for("AnimatedComponent"),createHost=(or,{applyAnimatedValues:ar=()=>!1,createAnimatedStyle:cr=ur=>new AnimatedObject(ur),getComponentProps:lr=ur=>ur}={})=>{const ur={applyAnimatedValues:ar,createAnimatedStyle:cr,getComponentProps:lr},fr=dr=>{const pr=getDisplayName(dr)||"Anonymous";return is.str(dr)?dr=fr[dr]||(fr[dr]=withAnimated(dr,ur)):dr=dr[cacheKey]||(dr[cacheKey]=withAnimated(dr,ur)),dr.displayName=`Animated(${pr})`,dr};return eachProp(or,(dr,pr)=>{is.arr(or)&&(pr=getDisplayName(dr)),fr[pr]=fr(dr)}),{animated:fr}},getDisplayName=or=>is.str(or)?or:or&&is.str(or.displayName)?or.displayName:is.fun(or)&&or.name||null;function callProp(or,...ar){return is.fun(or)?or(...ar):or}var matchProp=(or,ar)=>or===!0||!!(ar&&or&&(is.fun(or)?or(ar):toArray(or).includes(ar))),resolveProp=(or,ar)=>is.obj(or)?ar&&or[ar]:or,getDefaultProp=(or,ar)=>or.default===!0?or[ar]:or.default?or.default[ar]:void 0,noopTransform=or=>or,getDefaultProps=(or,ar=noopTransform)=>{let cr=DEFAULT_PROPS;or.default&&or.default!==!0&&(or=or.default,cr=Object.keys(or));const lr={};for(const ur of cr){const fr=ar(or[ur],ur);is.und(fr)||(lr[ur]=fr)}return lr},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(or){const ar={};let cr=0;if(eachProp(or,(lr,ur)=>{RESERVED_PROPS[ur]||(ar[ur]=lr,cr++)}),cr)return ar}function inferTo(or){const ar=getForwardProps(or);if(ar){const cr={to:ar};return eachProp(or,(lr,ur)=>ur in ar||(cr[ur]=lr)),cr}return{...or}}function computeGoal(or){return or=getFluidValue(or),is.arr(or)?or.map(computeGoal):isAnimatedString(or)?globals_exports.createStringInterpolator({range:[0,1],output:[or,or]})(1):or}function hasProps(or){for(const ar in or)return!0;return!1}function isAsyncTo(or){return is.fun(or)||is.arr(or)&&is.obj(or[0])}function detachRefs(or,ar){var cr;(cr=or.ref)==null||cr.delete(or),ar==null||ar.delete(or)}function replaceRef(or,ar){var cr;ar&&or.ref!==ar&&((cr=or.ref)==null||cr.delete(or),ar.add(or),or.ref=ar)}var config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults={...config.default,mass:1,damping:1,easing:easings.linear,clamp:!1},AnimationConfig=class{constructor(){this.velocity=0,Object.assign(this,defaults)}};function mergeConfig(or,ar,cr){cr&&(cr={...cr},sanitizeConfig(cr,ar),ar={...cr,...ar}),sanitizeConfig(or,ar),Object.assign(or,ar);for(const dr in defaults)or[dr]==null&&(or[dr]=defaults[dr]);let{frequency:lr,damping:ur}=or;const{mass:fr}=or;return is.und(lr)||(lr<.01&&(lr=.01),ur<0&&(ur=0),or.tension=Math.pow(2*Math.PI/lr,2)*fr,or.friction=4*Math.PI*ur*fr/lr),or}function sanitizeConfig(or,ar){if(!is.und(ar.decay))or.duration=void 0;else{const cr=!is.und(ar.tension)||!is.und(ar.friction);(cr||!is.und(ar.frequency)||!is.und(ar.damping)||!is.und(ar.mass))&&(or.duration=void 0,or.decay=void 0),cr&&(or.frequency=void 0)}}var emptyArray=[],Animation=class{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.config=new AnimationConfig,this.immediate=!1}};function scheduleProps(or,{key:ar,props:cr,defaultProps:lr,state:ur,actions:fr}){return new Promise((dr,pr)=>{let mr,gr,vr=matchProp(cr.cancel??(lr==null?void 0:lr.cancel),ar);if(vr)xr();else{is.und(cr.pause)||(ur.paused=matchProp(cr.pause,ar));let br=lr==null?void 0:lr.pause;br!==!0&&(br=ur.paused||matchProp(br,ar)),mr=callProp(cr.delay||0,ar),br?(ur.resumeQueue.add($r),fr.pause()):(fr.resume(),$r())}function hr(){ur.resumeQueue.add($r),ur.timeouts.delete(gr),gr.cancel(),mr=gr.time-raf.now()}function $r(){mr>0&&!globals_exports.skipAnimation?(ur.delayed=!0,gr=raf.setTimeout(xr,mr),ur.pauseQueue.add(hr),ur.timeouts.add(gr)):xr()}function xr(){ur.delayed&&(ur.delayed=!1),ur.pauseQueue.delete(hr),ur.timeouts.delete(gr),or<=(ur.cancelId||0)&&(vr=!0);try{fr.start({...cr,callId:or,cancel:vr},dr)}catch(br){pr(br)}}})}var getCombinedResult=(or,ar)=>ar.length==1?ar[0]:ar.some(cr=>cr.cancelled)?getCancelledResult(or.get()):ar.every(cr=>cr.noop)?getNoopResult(or.get()):getFinishedResult(or.get(),ar.every(cr=>cr.finished)),getNoopResult=or=>({value:or,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=(or,ar,cr=!1)=>({value:or,finished:ar,cancelled:cr}),getCancelledResult=or=>({value:or,cancelled:!0,finished:!1});function runAsync(or,ar,cr,lr){const{callId:ur,parentId:fr,onRest:dr}=ar,{asyncTo:pr,promise:mr}=cr;return!fr&&or===pr&&!ar.reset?mr:cr.promise=(async()=>{cr.asyncId=ur,cr.asyncTo=or;const gr=getDefaultProps(ar,(wr,yr)=>yr==="onRest"?void 0:wr);let vr,hr;const $r=new Promise((wr,yr)=>(vr=wr,hr=yr)),xr=wr=>{const yr=ur<=(cr.cancelId||0)&&getCancelledResult(lr)||ur!==cr.asyncId&&getFinishedResult(lr,!1);if(yr)throw wr.result=yr,hr(wr),wr},br=(wr,yr)=>{const _r=new BailSignal,Sr=new SkipAnimationSignal;return(async()=>{if(globals_exports.skipAnimation)throw stopAsync(cr),Sr.result=getFinishedResult(lr,!1),hr(Sr),Sr;xr(_r);const Pr=is.obj(wr)?{...wr}:{...yr,to:wr};Pr.parentId=ur,eachProp(gr,(Lr,Tr)=>{is.und(Pr[Tr])&&(Pr[Tr]=Lr)});const Or=await lr.start(Pr);return xr(_r),cr.paused&&await new Promise(Lr=>{cr.resumeQueue.add(Lr)}),Or})()};let Er;if(globals_exports.skipAnimation)return stopAsync(cr),getFinishedResult(lr,!1);try{let wr;is.arr(or)?wr=(async yr=>{for(const _r of yr)await br(_r)})(or):wr=Promise.resolve(or(br,lr.stop.bind(lr))),await Promise.all([wr.then(vr),$r]),Er=getFinishedResult(lr.get(),!0,!1)}catch(wr){if(wr instanceof BailSignal)Er=wr.result;else if(wr instanceof SkipAnimationSignal)Er=wr.result;else throw wr}finally{ur==cr.asyncId&&(cr.asyncId=fr,cr.asyncTo=fr?pr:void 0,cr.promise=fr?mr:void 0)}return is.fun(dr)&&raf.batchedUpdates(()=>{dr(Er,lr,lr.item)}),Er})()}function stopAsync(or,ar){flush(or.timeouts,cr=>cr.cancel()),or.pauseQueue.clear(),or.resumeQueue.clear(),or.asyncId=or.asyncTo=or.promise=void 0,ar&&(or.cancelId=ar)}var BailSignal=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue=or=>or instanceof FrameValue,nextId=1,FrameValue=class extends FluidValue{constructor(){super(...arguments),this.id=nextId++,this._priority=0}get priority(){return this._priority}set priority(or){this._priority!=or&&(this._priority=or,this._onPriorityChange(or))}get(){const or=getAnimated(this);return or&&or.getValue()}to(...or){return globals_exports.to(this,or)}interpolate(...or){return deprecateInterpolate(),globals_exports.to(this,or)}toJSON(){return this.get()}observerAdded(or){or==1&&this._attach()}observerRemoved(or){or==0&&this._detach()}_attach(){}_detach(){}_onChange(or,ar=!1){callFluidObservers(this,{type:"change",parent:this,value:or,idle:ar})}_onPriorityChange(or){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:or})}},$P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=or=>(or[$P]&HAS_ANIMATED)>0,isAnimating=or=>(or[$P]&IS_ANIMATING)>0,isPaused=or=>(or[$P]&IS_PAUSED)>0,setActiveBit=(or,ar)=>ar?or[$P]|=IS_ANIMATING|HAS_ANIMATED:or[$P]&=~IS_ANIMATING,setPausedBit=(or,ar)=>ar?or[$P]|=IS_PAUSED:or[$P]&=~IS_PAUSED,SpringValue=class extends FrameValue{constructor(or,ar){if(super(),this.animation=new Animation,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und(or)||!is.und(ar)){const cr=is.obj(or)?{...or}:{...ar,from:or};is.und(cr.default)&&(cr.default=!0),this.start(cr)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const or=getAnimated(this);return or instanceof AnimatedValue?or.lastVelocity||0:or.getPayload().map(ar=>ar.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance(or){let ar=!0,cr=!1;const lr=this.animation;let{toValues:ur}=lr;const{config:fr}=lr,dr=getPayload(lr.to);!dr&&hasFluidValue(lr.to)&&(ur=toArray(getFluidValue(lr.to))),lr.values.forEach((gr,vr)=>{if(gr.done)return;const hr=gr.constructor==AnimatedString?1:dr?dr[vr].lastPosition:ur[vr];let $r=lr.immediate,xr=hr;if(!$r){if(xr=gr.lastPosition,fr.tension<=0){gr.done=!0;return}let br=gr.elapsedTime+=or;const Er=lr.fromValues[vr],wr=gr.v0!=null?gr.v0:gr.v0=is.arr(fr.velocity)?fr.velocity[vr]:fr.velocity;let yr;const _r=fr.precision||(Er==hr?.005:Math.min(1,Math.abs(hr-Er)*.001));if(is.und(fr.duration))if(fr.decay){const Sr=fr.decay===!0?.998:fr.decay,Pr=Math.exp(-(1-Sr)*br);xr=Er+wr/(1-Sr)*(1-Pr),$r=Math.abs(gr.lastPosition-xr)<=_r,yr=wr*Pr}else{yr=gr.lastVelocity==null?wr:gr.lastVelocity;const Sr=fr.restVelocity||_r/10,Pr=fr.clamp?0:fr.bounce,Or=!is.und(Pr),Lr=Er==hr?gr.v0>0:Er<hr;let Tr,jr=!1;const Rr=1,Fr=Math.ceil(or/Rr);for(let Vr=0;Vr<Fr&&(Tr=Math.abs(yr)>Sr,!(!Tr&&($r=Math.abs(hr-xr)<=_r,$r)));++Vr){Or&&(jr=xr==hr||xr>hr==Lr,jr&&(yr=-yr*Pr,xr=hr));const Zr=-fr.tension*1e-6*(xr-hr),so=-fr.friction*.001*yr,Ir=(Zr+so)/fr.mass;yr=yr+Ir*Rr,xr=xr+yr*Rr}}else{let Sr=1;fr.duration>0&&(this._memoizedDuration!==fr.duration&&(this._memoizedDuration=fr.duration,gr.durationProgress>0&&(gr.elapsedTime=fr.duration*gr.durationProgress,br=gr.elapsedTime+=or)),Sr=(fr.progress||0)+br/this._memoizedDuration,Sr=Sr>1?1:Sr<0?0:Sr,gr.durationProgress=Sr),xr=Er+fr.easing(Sr)*(hr-Er),yr=(xr-gr.lastPosition)/or,$r=Sr==1}gr.lastVelocity=yr,Number.isNaN(xr)&&(console.warn("Got NaN while animating:",this),$r=!0)}dr&&!dr[vr].done&&($r=!1),$r?gr.done=!0:ar=!1,gr.setValue(xr,fr.round)&&(cr=!0)});const pr=getAnimated(this),mr=pr.getValue();if(ar){const gr=getFluidValue(lr.to);(mr!==gr||cr)&&!fr.decay?(pr.setValue(gr),this._onChange(gr)):cr&&fr.decay&&this._onChange(mr),this._stop()}else cr&&this._onChange(mr)}set(or){return raf.batchedUpdates(()=>{this._stop(),this._focus(or),this._set(or)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:or,config:ar}=this.animation;raf.batchedUpdates(()=>{this._onStart(),ar.decay||this._set(or,!1),this._stop()})}return this}update(or){return(this.queue||(this.queue=[])).push(or),this}start(or,ar){let cr;return is.und(or)?(cr=this.queue||[],this.queue=[]):cr=[is.obj(or)?or:{...ar,to:or}],Promise.all(cr.map(lr=>this._update(lr))).then(lr=>getCombinedResult(this,lr))}stop(or){const{to:ar}=this.animation;return this._focus(this.get()),stopAsync(this._state,or&&this._lastCallId),raf.batchedUpdates(()=>this._stop(ar,or)),this}reset(){this._update({reset:!0})}eventObserved(or){or.type=="change"?this._start():or.type=="priority"&&(this.priority=or.priority+1)}_prepareNode(or){const ar=this.key||"";let{to:cr,from:lr}=or;cr=is.obj(cr)?cr[ar]:cr,(cr==null||isAsyncTo(cr))&&(cr=void 0),lr=is.obj(lr)?lr[ar]:lr,lr==null&&(lr=void 0);const ur={to:cr,from:lr};return hasAnimated(this)||(or.reverse&&([cr,lr]=[lr,cr]),lr=getFluidValue(lr),is.und(lr)?getAnimated(this)||this._set(cr):this._set(lr)),ur}_update({...or},ar){const{key:cr,defaultProps:lr}=this;or.default&&Object.assign(lr,getDefaultProps(or,(dr,pr)=>/^on/.test(pr)?resolveProp(dr,cr):dr)),mergeActiveFn(this,or,"onProps"),sendEvent(this,"onProps",or,this);const ur=this._prepareNode(or);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const fr=this._state;return scheduleProps(++this._lastCallId,{key:cr,props:or,defaultProps:lr,state:fr,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(fr.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(fr.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,ur)}}).then(dr=>{if(or.loop&&dr.finished&&!(ar&&dr.noop)){const pr=createLoopUpdate(or);if(pr)return this._update(pr,!0)}return dr})}_merge(or,ar,cr){if(ar.cancel)return this.stop(!0),cr(getCancelledResult(this));const lr=!is.und(or.to),ur=!is.und(or.from);if(lr||ur)if(ar.callId>this._lastToId)this._lastToId=ar.callId;else return cr(getCancelledResult(this));const{key:fr,defaultProps:dr,animation:pr}=this,{to:mr,from:gr}=pr;let{to:vr=mr,from:hr=gr}=or;ur&&!lr&&(!ar.default||is.und(vr))&&(vr=hr),ar.reverse&&([vr,hr]=[hr,vr]);const $r=!isEqual(hr,gr);$r&&(pr.from=hr),hr=getFluidValue(hr);const xr=!isEqual(vr,mr);xr&&this._focus(vr);const br=isAsyncTo(ar.to),{config:Er}=pr,{decay:wr,velocity:yr}=Er;(lr||ur)&&(Er.velocity=0),ar.config&&!br&&mergeConfig(Er,callProp(ar.config,fr),ar.config!==dr.config?callProp(dr.config,fr):void 0);let _r=getAnimated(this);if(!_r||is.und(vr))return cr(getFinishedResult(this,!0));const Sr=is.und(ar.reset)?ur&&!ar.default:!is.und(hr)&&matchProp(ar.reset,fr),Pr=Sr?hr:this.get(),Or=computeGoal(vr),Lr=is.num(Or)||is.arr(Or)||isAnimatedString(Or),Tr=!br&&(!Lr||matchProp(dr.immediate||ar.immediate,fr));if(xr){const Vr=getAnimatedType(vr);if(Vr!==_r.constructor)if(Tr)_r=this._set(Or);else throw Error(`Cannot animate between ${_r.constructor.name} and ${Vr.name}, as the "to" prop suggests`)}const jr=_r.constructor;let Rr=hasFluidValue(vr),Fr=!1;if(!Rr){const Vr=Sr||!hasAnimated(this)&&$r;(xr||Vr)&&(Fr=isEqual(computeGoal(Pr),Or),Rr=!Fr),(!isEqual(pr.immediate,Tr)&&!Tr||!isEqual(Er.decay,wr)||!isEqual(Er.velocity,yr))&&(Rr=!0)}if(Fr&&isAnimating(this)&&(pr.changed&&!Sr?Rr=!0:Rr||this._stop(mr)),!br&&((Rr||hasFluidValue(mr))&&(pr.values=_r.getPayload(),pr.toValues=hasFluidValue(vr)?null:jr==AnimatedString?[1]:toArray(Or)),pr.immediate!=Tr&&(pr.immediate=Tr,!Tr&&!Sr&&this._set(mr)),Rr)){const{onRest:Vr}=pr;each(ACTIVE_EVENTS,so=>mergeActiveFn(this,ar,so));const Zr=getFinishedResult(this,checkFinished(this,mr));flushCalls(this._pendingCalls,Zr),this._pendingCalls.add(cr),pr.changed&&raf.batchedUpdates(()=>{var so;pr.changed=!Sr,Vr==null||Vr(Zr,this),Sr?callProp(dr.onRest,Zr):(so=pr.onStart)==null||so.call(pr,Zr,this)})}Sr&&this._set(Pr),br?cr(runAsync(ar.to,ar,this._state,this)):Rr?this._start():isAnimating(this)&&!xr?this._pendingCalls.add(cr):cr(getNoopResult(Pr))}_focus(or){const ar=this.animation;or!==ar.to&&(getFluidObservers(this)&&this._detach(),ar.to=or,getFluidObservers(this)&&this._attach())}_attach(){let or=0;const{to:ar}=this.animation;hasFluidValue(ar)&&(addFluidObserver(ar,this),isFrameValue(ar)&&(or=ar.priority+1)),this.priority=or}_detach(){const{to:or}=this.animation;hasFluidValue(or)&&removeFluidObserver(or,this)}_set(or,ar=!0){const cr=getFluidValue(or);if(!is.und(cr)){const lr=getAnimated(this);if(!lr||!isEqual(cr,lr.getValue())){const ur=getAnimatedType(cr);!lr||lr.constructor!=ur?setAnimated(this,ur.create(cr)):lr.setValue(cr),lr&&raf.batchedUpdates(()=>{this._onChange(cr,ar)})}}return getAnimated(this)}_onStart(){const or=this.animation;or.changed||(or.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,or.to)),this))}_onChange(or,ar){ar||(this._onStart(),callProp(this.animation.onChange,or,this)),callProp(this.defaultProps.onChange,or,this),super._onChange(or,ar)}_start(){const or=this.animation;getAnimated(this).reset(getFluidValue(or.to)),or.immediate||(or.fromValues=or.values.map(ar=>ar.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals_exports.skipAnimation?this.finish():frameLoop.start(this)}_stop(or,ar){if(isAnimating(this)){setActiveBit(this,!1);const cr=this.animation;each(cr.values,ur=>{ur.done=!0}),cr.toValues&&(cr.onChange=cr.onPause=cr.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const lr=ar?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,or??cr.to));flushCalls(this._pendingCalls,lr),cr.changed&&(cr.changed=!1,sendEvent(this,"onRest",lr,this))}}};function checkFinished(or,ar){const cr=computeGoal(ar),lr=computeGoal(or.get());return isEqual(lr,cr)}function createLoopUpdate(or,ar=or.loop,cr=or.to){const lr=callProp(ar);if(lr){const ur=lr!==!0&&inferTo(lr),fr=(ur||or).reverse,dr=!ur||ur.reset;return createUpdate({...or,loop:ar,default:!1,pause:void 0,to:!fr||isAsyncTo(cr)?cr:void 0,from:dr?or.from:void 0,reset:dr,...ur})}}function createUpdate(or){const{to:ar,from:cr}=or=inferTo(or),lr=new Set;return is.obj(ar)&&findDefined(ar,lr),is.obj(cr)&&findDefined(cr,lr),or.keys=lr.size?Array.from(lr):null,or}function declareUpdate(or){const ar=createUpdate(or);return is.und(ar.default)&&(ar.default=getDefaultProps(ar)),ar}function findDefined(or,ar){eachProp(or,(cr,lr)=>cr!=null&&ar.add(lr))}var ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn(or,ar,cr){or.animation[cr]=ar[cr]!==getDefaultProp(ar,cr)?resolveProp(ar[cr],or.key):void 0}function sendEvent(or,ar,...cr){var lr,ur,fr,dr;(ur=(lr=or.animation)[ar])==null||ur.call(lr,...cr),(dr=(fr=or.defaultProps)[ar])==null||dr.call(fr,...cr)}var BATCHED_EVENTS=["onStart","onChange","onRest"],nextId2=1,Controller=class{constructor(or,ar){this.id=nextId2++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),ar&&(this._flush=ar),or&&this.start({default:!0,...or})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(or=>or.idle&&!or.isDelayed&&!or.isPaused)}get item(){return this._item}set item(or){this._item=or}get(){const or={};return this.each((ar,cr)=>or[cr]=ar.get()),or}set(or){for(const ar in or){const cr=or[ar];is.und(cr)||this.springs[ar].set(cr)}}update(or){return or&&this.queue.push(createUpdate(or)),this}start(or){let{queue:ar}=this;return or?ar=toArray(or).map(createUpdate):this.queue=[],this._flush?this._flush(this,ar):(prepareKeys(this,ar),flushUpdateQueue(this,ar))}stop(or,ar){if(or!==!!or&&(ar=or),ar){const cr=this.springs;each(toArray(ar),lr=>cr[lr].stop(!!or))}else stopAsync(this._state,this._lastAsyncId),this.each(cr=>cr.stop(!!or));return this}pause(or){if(is.und(or))this.start({pause:!0});else{const ar=this.springs;each(toArray(or),cr=>ar[cr].pause())}return this}resume(or){if(is.und(or))this.start({pause:!1});else{const ar=this.springs;each(toArray(or),cr=>ar[cr].resume())}return this}each(or){eachProp(this.springs,or)}_onFrame(){const{onStart:or,onChange:ar,onRest:cr}=this._events,lr=this._active.size>0,ur=this._changed.size>0;(lr&&!this._started||ur&&!this._started)&&(this._started=!0,flush(or,([pr,mr])=>{mr.value=this.get(),pr(mr,this,this._item)}));const fr=!lr&&this._started,dr=ur||fr&&cr.size?this.get():null;ur&&ar.size&&flush(ar,([pr,mr])=>{mr.value=dr,pr(mr,this,this._item)}),fr&&(this._started=!1,flush(cr,([pr,mr])=>{mr.value=dr,pr(mr,this,this._item)}))}eventObserved(or){if(or.type=="change")this._changed.add(or.parent),or.idle||this._active.add(or.parent);else if(or.type=="idle")this._active.delete(or.parent);else return;raf.onFrame(this._onFrame)}};function flushUpdateQueue(or,ar){return Promise.all(ar.map(cr=>flushUpdate(or,cr))).then(cr=>getCombinedResult(or,cr))}async function flushUpdate(or,ar,cr){const{keys:lr,to:ur,from:fr,loop:dr,onRest:pr,onResolve:mr}=ar,gr=is.obj(ar.default)&&ar.default;dr&&(ar.loop=!1),ur===!1&&(ar.to=null),fr===!1&&(ar.from=null);const vr=is.arr(ur)||is.fun(ur)?ur:void 0;vr?(ar.to=void 0,ar.onRest=void 0,gr&&(gr.onRest=void 0)):each(BATCHED_EVENTS,Er=>{const wr=ar[Er];if(is.fun(wr)){const yr=or._events[Er];ar[Er]=({finished:_r,cancelled:Sr})=>{const Pr=yr.get(wr);Pr?(_r||(Pr.finished=!1),Sr&&(Pr.cancelled=!0)):yr.set(wr,{value:null,finished:_r||!1,cancelled:Sr||!1})},gr&&(gr[Er]=ar[Er])}});const hr=or._state;ar.pause===!hr.paused?(hr.paused=ar.pause,flushCalls(ar.pause?hr.pauseQueue:hr.resumeQueue)):hr.paused&&(ar.pause=!0);const $r=(lr||Object.keys(or.springs)).map(Er=>or.springs[Er].start(ar)),xr=ar.cancel===!0||getDefaultProp(ar,"cancel")===!0;(vr||xr&&hr.asyncId)&&$r.push(scheduleProps(++or._lastAsyncId,{props:ar,state:hr,actions:{pause:noop,resume:noop,start(Er,wr){xr?(stopAsync(hr,or._lastAsyncId),wr(getCancelledResult(or))):(Er.onRest=pr,wr(runAsync(vr,Er,hr,or)))}}})),hr.paused&&await new Promise(Er=>{hr.resumeQueue.add(Er)});const br=getCombinedResult(or,await Promise.all($r));if(dr&&br.finished&&!(cr&&br.noop)){const Er=createLoopUpdate(ar,dr,ur);if(Er)return prepareKeys(or,[Er]),flushUpdate(or,Er,!0)}return mr&&raf.batchedUpdates(()=>mr(br,or,or.item)),br}function getSprings(or,ar){const cr={...or.springs};return ar&&each(toArray(ar),lr=>{is.und(lr.keys)&&(lr=createUpdate(lr)),is.obj(lr.to)||(lr={...lr,to:void 0}),prepareSprings(cr,lr,ur=>createSpring(ur))}),setSprings(or,cr),cr}function setSprings(or,ar){eachProp(ar,(cr,lr)=>{or.springs[lr]||(or.springs[lr]=cr,addFluidObserver(cr,or))})}function createSpring(or,ar){const cr=new SpringValue;return cr.key=or,ar&&addFluidObserver(cr,ar),cr}function prepareSprings(or,ar,cr){ar.keys&&each(ar.keys,lr=>{(or[lr]||(or[lr]=cr(lr)))._prepareNode(ar)})}function prepareKeys(or,ar){each(ar,cr=>{prepareSprings(or.springs,cr,lr=>createSpring(lr,or))})}var SpringContext=({children:or,...ar})=>{const cr=reactExports.useContext(ctx),lr=ar.pause||!!cr.pause,ur=ar.immediate||!!cr.immediate;ar=useMemoOne(()=>({pause:lr,immediate:ur}),[lr,ur]);const{Provider:fr}=ctx;return reactExports.createElement(fr,{value:ar},or)},ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext(or,ar){return Object.assign(or,reactExports.createContext(ar)),or.Provider._context=or,or.Consumer._context=or,or}var SpringRef=()=>{const or=[],ar=function(lr){deprecateDirectCall();const ur=[];return each(or,(fr,dr)=>{if(is.und(lr))ur.push(fr.start());else{const pr=cr(lr,fr,dr);pr&&ur.push(fr.start(pr))}}),ur};ar.current=or,ar.add=function(lr){or.includes(lr)||or.push(lr)},ar.delete=function(lr){const ur=or.indexOf(lr);~ur&&or.splice(ur,1)},ar.pause=function(){return each(or,lr=>lr.pause(...arguments)),this},ar.resume=function(){return each(or,lr=>lr.resume(...arguments)),this},ar.set=function(lr){each(or,(ur,fr)=>{const dr=is.fun(lr)?lr(fr,ur):lr;dr&&ur.set(dr)})},ar.start=function(lr){const ur=[];return each(or,(fr,dr)=>{if(is.und(lr))ur.push(fr.start());else{const pr=this._getProps(lr,fr,dr);pr&&ur.push(fr.start(pr))}}),ur},ar.stop=function(){return each(or,lr=>lr.stop(...arguments)),this},ar.update=function(lr){return each(or,(ur,fr)=>ur.update(this._getProps(lr,ur,fr))),this};const cr=function(lr,ur,fr){return is.fun(lr)?lr(fr,ur):lr};return ar._getProps=cr,ar};function useSprings(or,ar,cr){const lr=is.fun(ar)&&ar;lr&&!cr&&(cr=[]);const ur=reactExports.useMemo(()=>lr||arguments.length==3?SpringRef():void 0,[]),fr=reactExports.useRef(0),dr=useForceUpdate(),pr=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(yr,_r){const Sr=getSprings(yr,_r);return fr.current>0&&!pr.queue.length&&!Object.keys(Sr).some(Or=>!yr.springs[Or])?flushUpdateQueue(yr,_r):new Promise(Or=>{setSprings(yr,Sr),pr.queue.push(()=>{Or(flushUpdateQueue(yr,_r))}),dr()})}}),[]),mr=reactExports.useRef([...pr.ctrls]),gr=[],vr=usePrev(or)||0;reactExports.useMemo(()=>{each(mr.current.slice(or,vr),yr=>{detachRefs(yr,ur),yr.stop(!0)}),mr.current.length=or,hr(vr,or)},[or]),reactExports.useMemo(()=>{hr(0,Math.min(vr,or))},cr);function hr(yr,_r){for(let Sr=yr;Sr<_r;Sr++){const Pr=mr.current[Sr]||(mr.current[Sr]=new Controller(null,pr.flush)),Or=lr?lr(Sr,Pr):ar[Sr];Or&&(gr[Sr]=declareUpdate(Or))}}const $r=mr.current.map((yr,_r)=>getSprings(yr,gr[_r])),xr=reactExports.useContext(SpringContext),br=usePrev(xr),Er=xr!==br&&hasProps(xr);useIsomorphicLayoutEffect(()=>{fr.current++,pr.ctrls=mr.current;const{queue:yr}=pr;yr.length&&(pr.queue=[],each(yr,_r=>_r())),each(mr.current,(_r,Sr)=>{ur==null||ur.add(_r),Er&&_r.start({default:xr});const Pr=gr[Sr];Pr&&(replaceRef(_r,Pr.ref),_r.ref?_r.queue.push(Pr):_r.start(Pr))})}),useOnce(()=>()=>{each(pr.ctrls,yr=>yr.stop(!0))});const wr=$r.map(yr=>({...yr}));return ur?[wr,ur]:wr}function useSpring(or,ar){const cr=is.fun(or),[[lr],ur]=useSprings(1,cr?or:[or],cr?ar||[]:ar);return cr||arguments.length==2?[lr,ur]:lr}function useTransition(or,ar,cr){const lr=is.fun(ar)&&ar,{reset:ur,sort:fr,trail:dr=0,expires:pr=!0,exitBeforeEnter:mr=!1,onDestroyed:gr,ref:vr,config:hr}=lr?lr():ar,$r=reactExports.useMemo(()=>lr||arguments.length==3?SpringRef():void 0,[]),xr=toArray(or),br=[],Er=reactExports.useRef(null),wr=ur?null:Er.current;useIsomorphicLayoutEffect(()=>{Er.current=br}),useOnce(()=>(each(br,Ir=>{$r==null||$r.add(Ir.ctrl),Ir.ctrl.ref=$r}),()=>{each(Er.current,Ir=>{Ir.expired&&clearTimeout(Ir.expirationId),detachRefs(Ir.ctrl,$r),Ir.ctrl.stop(!0)})}));const yr=getKeys(xr,lr?lr():ar,wr),_r=ur&&Er.current||[];useIsomorphicLayoutEffect(()=>each(_r,({ctrl:Ir,item:Kr,key:no})=>{detachRefs(Ir,$r),callProp(gr,Kr,no)}));const Sr=[];if(wr&&each(wr,(Ir,Kr)=>{Ir.expired?(clearTimeout(Ir.expirationId),_r.push(Ir)):(Kr=Sr[Kr]=yr.indexOf(Ir.key),~Kr&&(br[Kr]=Ir))}),each(xr,(Ir,Kr)=>{br[Kr]||(br[Kr]={key:yr[Kr],item:Ir,phase:"mount",ctrl:new Controller},br[Kr].ctrl.item=Ir)}),Sr.length){let Ir=-1;const{leave:Kr}=lr?lr():ar;each(Sr,(no,eo)=>{const Wr=wr[eo];~no?(Ir=br.indexOf(Wr),br[Ir]={...Wr,item:xr[no]}):Kr&&br.splice(++Ir,0,Wr)})}is.fun(fr)&&br.sort((Ir,Kr)=>fr(Ir.item,Kr.item));let Pr=-dr;const Or=useForceUpdate(),Lr=getDefaultProps(ar),Tr=new Map,jr=reactExports.useRef(new Map),Rr=reactExports.useRef(!1);each(br,(Ir,Kr)=>{const no=Ir.key,eo=Ir.phase,Wr=lr?lr():ar;let Ur,ro;const Gr=callProp(Wr.delay||0,no);if(eo=="mount")Ur=Wr.enter,ro="enter";else{const Yr=yr.indexOf(no)<0;if(eo!="leave")if(Yr)Ur=Wr.leave,ro="leave";else if(Ur=Wr.update)ro="update";else return;else if(!Yr)Ur=Wr.enter,ro="enter";else return}if(Ur=callProp(Ur,Ir.item,Kr),Ur=is.obj(Ur)?inferTo(Ur):{to:Ur},!Ur.config){const Yr=hr||Lr.config;Ur.config=callProp(Yr,Ir.item,Kr,ro)}Pr+=dr;const Qr={...Lr,delay:Gr+Pr,ref:vr,immediate:Wr.immediate,reset:!1,...Ur};if(ro=="enter"&&is.und(Qr.from)){const Yr=lr?lr():ar,io=is.und(Yr.initial)||wr?Yr.from:Yr.initial;Qr.from=callProp(io,Ir.item,Kr)}const{onResolve:lo}=Qr;Qr.onResolve=Yr=>{callProp(lo,Yr);const io=Er.current,Jr=io.find(uo=>uo.key===no);if(Jr&&!(Yr.cancelled&&Jr.phase!="update")&&Jr.ctrl.idle){const uo=io.every(fo=>fo.ctrl.idle);if(Jr.phase=="leave"){const fo=callProp(pr,Jr.item);if(fo!==!1){const $o=fo===!0?0:fo;if(Jr.expired=!0,!uo&&$o>0){$o<=2147483647&&(Jr.expirationId=setTimeout(Or,$o));return}}}uo&&io.some(fo=>fo.expired)&&(jr.current.delete(Jr),mr&&(Rr.current=!0),Or())}};const ao=getSprings(Ir.ctrl,Qr);ro==="leave"&&mr?jr.current.set(Ir,{phase:ro,springs:ao,payload:Qr}):Tr.set(Ir,{phase:ro,springs:ao,payload:Qr})});const Fr=reactExports.useContext(SpringContext),Vr=usePrev(Fr),Zr=Fr!==Vr&&hasProps(Fr);useIsomorphicLayoutEffect(()=>{Zr&&each(br,Ir=>{Ir.ctrl.start({default:Fr})})},[Fr]),each(Tr,(Ir,Kr)=>{if(jr.current.size){const no=br.findIndex(eo=>eo.key===Kr.key);br.splice(no,1)}}),useIsomorphicLayoutEffect(()=>{each(jr.current.size?jr.current:Tr,({phase:Ir,payload:Kr},no)=>{const{ctrl:eo}=no;no.phase=Ir,$r==null||$r.add(eo),Zr&&Ir=="enter"&&eo.start({default:Fr}),Kr&&(replaceRef(eo,Kr.ref),(eo.ref||$r)&&!Rr.current?eo.update(Kr):(eo.start(Kr),Rr.current&&(Rr.current=!1)))})},ur?void 0:cr);const so=Ir=>reactExports.createElement(reactExports.Fragment,null,br.map((Kr,no)=>{const{springs:eo}=Tr.get(Kr)||Kr.ctrl,Wr=Ir({...eo},Kr.item,Kr,no);return Wr&&Wr.type?reactExports.createElement(Wr.type,{...Wr.props,key:is.str(Kr.key)||is.num(Kr.key)?Kr.key:Kr.ctrl.id,ref:Wr.ref}):Wr}));return $r?[so,$r]:so}var nextKey=1;function getKeys(or,{key:ar,keys:cr=ar},lr){if(cr===null){const ur=new Set;return or.map(fr=>{const dr=lr&&lr.find(pr=>pr.item===fr&&pr.phase!=="leave"&&!ur.has(pr));return dr?(ur.add(dr),dr.key):nextKey++})}return is.und(cr)?or:is.fun(cr)?or.map(cr):toArray(cr)}var Interpolation=class extends FrameValue{constructor(or,ar){super(),this.source=or,this.idle=!0,this._active=new Set,this.calc=createInterpolator(...ar);const cr=this._get(),lr=getAnimatedType(cr);setAnimated(this,lr.create(cr))}advance(or){const ar=this._get(),cr=this.get();isEqual(ar,cr)||(getAnimated(this).setValue(ar),this._onChange(ar,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const or=is.arr(this.source)?this.source.map(getFluidValue):toArray(getFluidValue(this.source));return this.calc(...or)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each(getPayload(this),or=>{or.done=!1}),globals_exports.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let or=1;each(toArray(this.source),ar=>{hasFluidValue(ar)&&addFluidObserver(ar,this),isFrameValue(ar)&&(ar.idle||this._active.add(ar),or=Math.max(or,ar.priority+1))}),this.priority=or,this._start()}_detach(){each(toArray(this.source),or=>{hasFluidValue(or)&&removeFluidObserver(or,this)}),this._active.clear(),becomeIdle(this)}eventObserved(or){or.type=="change"?or.idle?this.advance():(this._active.add(or.parent),this._start()):or.type=="idle"?this._active.delete(or.parent):or.type=="priority"&&(this.priority=toArray(this.source).reduce((ar,cr)=>Math.max(ar,(isFrameValue(cr)?cr.priority:0)+1),0))}};function isIdle(or){return or.idle!==!1}function checkIdle(or){return!or.size||Array.from(or).every(isIdle)}function becomeIdle(or){or.idle||(or.idle=!0,each(getPayload(or),ar=>{ar.done=!0}),callFluidObservers(or,{type:"idle",parent:or}))}globals_exports.assign({createStringInterpolator:createStringInterpolator2,to:(or,ar)=>new Interpolation(or,ar)});var isCustomPropRE=/^--/;function dangerousStyleValue(or,ar){return ar==null||typeof ar=="boolean"||ar===""?"":typeof ar=="number"&&ar!==0&&!isCustomPropRE.test(or)&&!(isUnitlessNumber.hasOwnProperty(or)&&isUnitlessNumber[or])?ar+"px":(""+ar).trim()}var attributeCache={};function applyAnimatedValues(or,ar){if(!or.nodeType||!or.setAttribute)return!1;const cr=or.nodeName==="filter"||or.parentNode&&or.parentNode.nodeName==="filter",{style:lr,children:ur,scrollTop:fr,scrollLeft:dr,viewBox:pr,...mr}=ar,gr=Object.values(mr),vr=Object.keys(mr).map(hr=>cr||or.hasAttribute(hr)?hr:attributeCache[hr]||(attributeCache[hr]=hr.replace(/([A-Z])/g,$r=>"-"+$r.toLowerCase())));ur!==void 0&&(or.textContent=ur);for(const hr in lr)if(lr.hasOwnProperty(hr)){const $r=dangerousStyleValue(hr,lr[hr]);isCustomPropRE.test(hr)?or.style.setProperty(hr,$r):or.style[hr]=$r}vr.forEach((hr,$r)=>{or.setAttribute(hr,gr[$r])}),fr!==void 0&&(or.scrollTop=fr),dr!==void 0&&(or.scrollLeft=dr),pr!==void 0&&or.setAttribute("viewBox",pr)}var isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey=(or,ar)=>or+ar.charAt(0).toUpperCase()+ar.substring(1),prefixes=["Webkit","Ms","Moz","O"];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce((or,ar)=>(prefixes.forEach(cr=>or[prefixKey(cr,ar)]=or[ar]),or),isUnitlessNumber);var domTransforms=/^(matrix|translate|scale|rotate|skew)/,pxTransforms=/^(translate)/,degTransforms=/^(rotate|skew)/,addUnit=(or,ar)=>is.num(or)&&or!==0?or+ar:or,isValueIdentity=(or,ar)=>is.arr(or)?or.every(cr=>isValueIdentity(cr,ar)):is.num(or)?or===ar:parseFloat(or)===ar,AnimatedStyle=class extends AnimatedObject{constructor({x:or,y:ar,z:cr,...lr}){const ur=[],fr=[];(or||ar||cr)&&(ur.push([or||0,ar||0,cr||0]),fr.push(dr=>[`translate3d(${dr.map(pr=>addUnit(pr,"px")).join(",")})`,isValueIdentity(dr,0)])),eachProp(lr,(dr,pr)=>{if(pr==="transform")ur.push([dr||""]),fr.push(mr=>[mr,mr===""]);else if(domTransforms.test(pr)){if(delete lr[pr],is.und(dr))return;const mr=pxTransforms.test(pr)?"px":degTransforms.test(pr)?"deg":"";ur.push(toArray(dr)),fr.push(pr==="rotate3d"?([gr,vr,hr,$r])=>[`rotate3d(${gr},${vr},${hr},${addUnit($r,mr)})`,isValueIdentity($r,0)]:gr=>[`${pr}(${gr.map(vr=>addUnit(vr,mr)).join(",")})`,isValueIdentity(gr,pr.startsWith("scale")?1:0)])}}),ur.length&&(lr.transform=new FluidTransform(ur,fr)),super(lr)}},FluidTransform=class extends FluidValue{constructor(or,ar){super(),this.inputs=or,this.transforms=ar,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let or="",ar=!0;return each(this.inputs,(cr,lr)=>{const ur=getFluidValue(cr[0]),[fr,dr]=this.transforms[lr](is.arr(ur)?ur:cr.map(getFluidValue));or+=" "+fr,ar=ar&&dr}),ar?"none":or}observerAdded(or){or==1&&each(this.inputs,ar=>each(ar,cr=>hasFluidValue(cr)&&addFluidObserver(cr,this)))}observerRemoved(or){or==0&&each(this.inputs,ar=>each(ar,cr=>hasFluidValue(cr)&&removeFluidObserver(cr,this)))}eventObserved(or){or.type=="change"&&(this._value=null),callFluidObservers(this,or)}},primitives=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2,colors:colors2});var host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:or=>new AnimatedStyle(or),getComponentProps:({scrollTop:or,scrollLeft:ar,...cr})=>cr}),animated=host.animated;function useFadeTransition(or){return useTransition(or,{from:{opacity:0,transform:"translate(0, -2%) scale(0.96)"},enter:{opacity:1,transform:"translate(0, 0) scale(1)"},leave:{opacity:0,transform:"translate(0, -2%) scale(0.96)"}})}const QspInput=({attrs:or,children:ar})=>{const cr=useAtom_2(input$),[lr,ur,fr]=useAttributes(or,"qsp-input"),dr=useFadeTransition(cr.isOpen);return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:()=>input$.actions.finish(),cancelAction:()=>{input$.actions.close()}},children:jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{open:cr.isOpen,onOpenChange:()=>input$.actions.close(),children:dr((pr,mr)=>mr?jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{className:"qsp-overlay"}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:pr,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(lr,{style:ur,...fr,children:jsxRuntimeExports.jsx("form",{onSubmit:gr=>{gr.preventDefault(),input$.actions.finish()},children:ar})})})})]}):null)})})},QspInputContent=({attrs:or})=>{const ar=useAtom_2(input$),[cr,lr,{useFormat:ur,...fr}]=useAttributes(or,"qsp-input-content");return jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$393edc798c47379d,{asChild:!0,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(cr,{style:lr,...fr,children:jsxRuntimeExports.jsx(ContentRenderer,{content:ar.content})})})})},QspInputTag=({attrs:or})=>{const[,ar,cr]=useAttributes(or,"input","qsp-input-tag"),lr=useAtom_2(input$),ur=fr=>{input$.actions.enter(fr.target.value)};return jsxRuntimeExports.jsx("input",{style:ar,...cr,type:"text",value:lr.entered,onInput:ur,autoFocus:!0})};function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(or){const ar=or+"CollectionProvider",[cr,lr]=$c512c27ab02ef895$export$50c7b4e9d9f19c1(ar),[ur,fr]=cr(ar,{collectionRef:{current:null},itemMap:new Map}),dr=xr=>{const{scope:br,children:Er}=xr,wr=React$1.useRef(null),yr=React$1.useRef(new Map).current;return React$1.createElement(ur,{scope:br,itemMap:yr,collectionRef:wr},Er)},pr=or+"CollectionSlot",mr=React$1.forwardRef((xr,br)=>{const{scope:Er,children:wr}=xr,yr=fr(pr,Er),_r=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(br,yr.collectionRef);return React$1.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{ref:_r},wr)}),gr=or+"CollectionItemSlot",vr="data-radix-collection-item",hr=React$1.forwardRef((xr,br)=>{const{scope:Er,children:wr,...yr}=xr,_r=React$1.useRef(null),Sr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(br,_r),Pr=fr(gr,Er);return React$1.useEffect(()=>(Pr.itemMap.set(_r,{ref:_r,...yr}),()=>void Pr.itemMap.delete(_r))),React$1.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{[vr]:"",ref:Sr},wr)});function $r(xr){const br=fr(or+"CollectionConsumer",xr);return React$1.useCallback(()=>{const wr=br.collectionRef.current;if(!wr)return[];const yr=Array.from(wr.querySelectorAll(`[${vr}]`));return Array.from(br.itemMap.values()).sort((Pr,Or)=>yr.indexOf(Pr.ref.current)-yr.indexOf(Or.ref.current))},[br.collectionRef,br.itemMap])}return[{Provider:dr,Slot:mr,ItemSlot:hr},$r,lr]}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=or=>({x:or,y:or}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(or,ar,cr){return max(or,min(ar,cr))}function evaluate(or,ar){return typeof or=="function"?or(ar):or}function getSide(or){return or.split("-")[0]}function getAlignment(or){return or.split("-")[1]}function getOppositeAxis(or){return or==="x"?"y":"x"}function getAxisLength(or){return or==="y"?"height":"width"}function getSideAxis(or){return["top","bottom"].includes(getSide(or))?"y":"x"}function getAlignmentAxis(or){return getOppositeAxis(getSideAxis(or))}function getAlignmentSides(or,ar,cr){cr===void 0&&(cr=!1);const lr=getAlignment(or),ur=getAlignmentAxis(or),fr=getAxisLength(ur);let dr=ur==="x"?lr===(cr?"end":"start")?"right":"left":lr==="start"?"bottom":"top";return ar.reference[fr]>ar.floating[fr]&&(dr=getOppositePlacement(dr)),[dr,getOppositePlacement(dr)]}function getExpandedPlacements(or){const ar=getOppositePlacement(or);return[getOppositeAlignmentPlacement(or),ar,getOppositeAlignmentPlacement(ar)]}function getOppositeAlignmentPlacement(or){return or.replace(/start|end/g,ar=>oppositeAlignmentMap[ar])}function getSideList(or,ar,cr){const lr=["left","right"],ur=["right","left"],fr=["top","bottom"],dr=["bottom","top"];switch(or){case"top":case"bottom":return cr?ar?ur:lr:ar?lr:ur;case"left":case"right":return ar?fr:dr;default:return[]}}function getOppositeAxisPlacements(or,ar,cr,lr){const ur=getAlignment(or);let fr=getSideList(getSide(or),cr==="start",lr);return ur&&(fr=fr.map(dr=>dr+"-"+ur),ar&&(fr=fr.concat(fr.map(getOppositeAlignmentPlacement)))),fr}function getOppositePlacement(or){return or.replace(/left|right|bottom|top/g,ar=>oppositeSideMap[ar])}function expandPaddingObject(or){return{top:0,right:0,bottom:0,left:0,...or}}function getPaddingObject(or){return typeof or!="number"?expandPaddingObject(or):{top:or,right:or,bottom:or,left:or}}function rectToClientRect(or){return{...or,top:or.y,left:or.x,right:or.x+or.width,bottom:or.y+or.height}}function computeCoordsFromPlacement(or,ar,cr){let{reference:lr,floating:ur}=or;const fr=getSideAxis(ar),dr=getAlignmentAxis(ar),pr=getAxisLength(dr),mr=getSide(ar),gr=fr==="y",vr=lr.x+lr.width/2-ur.width/2,hr=lr.y+lr.height/2-ur.height/2,$r=lr[pr]/2-ur[pr]/2;let xr;switch(mr){case"top":xr={x:vr,y:lr.y-ur.height};break;case"bottom":xr={x:vr,y:lr.y+lr.height};break;case"right":xr={x:lr.x+lr.width,y:hr};break;case"left":xr={x:lr.x-ur.width,y:hr};break;default:xr={x:lr.x,y:lr.y}}switch(getAlignment(ar)){case"start":xr[dr]-=$r*(cr&&gr?-1:1);break;case"end":xr[dr]+=$r*(cr&&gr?-1:1);break}return xr}const computePosition$1=async(or,ar,cr)=>{const{placement:lr="bottom",strategy:ur="absolute",middleware:fr=[],platform:dr}=cr,pr=fr.filter(Boolean),mr=await(dr.isRTL==null?void 0:dr.isRTL(ar));let gr=await dr.getElementRects({reference:or,floating:ar,strategy:ur}),{x:vr,y:hr}=computeCoordsFromPlacement(gr,lr,mr),$r=lr,xr={},br=0;for(let Er=0;Er<pr.length;Er++){const{name:wr,fn:yr}=pr[Er],{x:_r,y:Sr,data:Pr,reset:Or}=await yr({x:vr,y:hr,initialPlacement:lr,placement:$r,strategy:ur,middlewareData:xr,rects:gr,platform:dr,elements:{reference:or,floating:ar}});if(vr=_r??vr,hr=Sr??hr,xr={...xr,[wr]:{...xr[wr],...Pr}},Or&&br<=50){br++,typeof Or=="object"&&(Or.placement&&($r=Or.placement),Or.rects&&(gr=Or.rects===!0?await dr.getElementRects({reference:or,floating:ar,strategy:ur}):Or.rects),{x:vr,y:hr}=computeCoordsFromPlacement(gr,$r,mr)),Er=-1;continue}}return{x:vr,y:hr,placement:$r,strategy:ur,middlewareData:xr}};async function detectOverflow(or,ar){var cr;ar===void 0&&(ar={});const{x:lr,y:ur,platform:fr,rects:dr,elements:pr,strategy:mr}=or,{boundary:gr="clippingAncestors",rootBoundary:vr="viewport",elementContext:hr="floating",altBoundary:$r=!1,padding:xr=0}=evaluate(ar,or),br=getPaddingObject(xr),wr=pr[$r?hr==="floating"?"reference":"floating":hr],yr=rectToClientRect(await fr.getClippingRect({element:(cr=await(fr.isElement==null?void 0:fr.isElement(wr)))==null||cr?wr:wr.contextElement||await(fr.getDocumentElement==null?void 0:fr.getDocumentElement(pr.floating)),boundary:gr,rootBoundary:vr,strategy:mr})),_r=hr==="floating"?{...dr.floating,x:lr,y:ur}:dr.reference,Sr=await(fr.getOffsetParent==null?void 0:fr.getOffsetParent(pr.floating)),Pr=await(fr.isElement==null?void 0:fr.isElement(Sr))?await(fr.getScale==null?void 0:fr.getScale(Sr))||{x:1,y:1}:{x:1,y:1},Or=rectToClientRect(fr.convertOffsetParentRelativeRectToViewportRelativeRect?await fr.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_r,offsetParent:Sr,strategy:mr}):_r);return{top:(yr.top-Or.top+br.top)/Pr.y,bottom:(Or.bottom-yr.bottom+br.bottom)/Pr.y,left:(yr.left-Or.left+br.left)/Pr.x,right:(Or.right-yr.right+br.right)/Pr.x}}const arrow$1=or=>({name:"arrow",options:or,async fn(ar){const{x:cr,y:lr,placement:ur,rects:fr,platform:dr,elements:pr,middlewareData:mr}=ar,{element:gr,padding:vr=0}=evaluate(or,ar)||{};if(gr==null)return{};const hr=getPaddingObject(vr),$r={x:cr,y:lr},xr=getAlignmentAxis(ur),br=getAxisLength(xr),Er=await dr.getDimensions(gr),wr=xr==="y",yr=wr?"top":"left",_r=wr?"bottom":"right",Sr=wr?"clientHeight":"clientWidth",Pr=fr.reference[br]+fr.reference[xr]-$r[xr]-fr.floating[br],Or=$r[xr]-fr.reference[xr],Lr=await(dr.getOffsetParent==null?void 0:dr.getOffsetParent(gr));let Tr=Lr?Lr[Sr]:0;(!Tr||!await(dr.isElement==null?void 0:dr.isElement(Lr)))&&(Tr=pr.floating[Sr]||fr.floating[br]);const jr=Pr/2-Or/2,Rr=Tr/2-Er[br]/2-1,Fr=min(hr[yr],Rr),Vr=min(hr[_r],Rr),Zr=Fr,so=Tr-Er[br]-Vr,Ir=Tr/2-Er[br]/2+jr,Kr=clamp(Zr,Ir,so),no=!mr.arrow&&getAlignment(ur)!=null&&Ir!=Kr&&fr.reference[br]/2-(Ir<Zr?Fr:Vr)-Er[br]/2<0,eo=no?Ir<Zr?Ir-Zr:Ir-so:0;return{[xr]:$r[xr]+eo,data:{[xr]:Kr,centerOffset:Ir-Kr-eo,...no&&{alignmentOffset:eo}},reset:no}}}),flip=function(or){return or===void 0&&(or={}),{name:"flip",options:or,async fn(ar){var cr,lr;const{placement:ur,middlewareData:fr,rects:dr,initialPlacement:pr,platform:mr,elements:gr}=ar,{mainAxis:vr=!0,crossAxis:hr=!0,fallbackPlacements:$r,fallbackStrategy:xr="bestFit",fallbackAxisSideDirection:br="none",flipAlignment:Er=!0,...wr}=evaluate(or,ar);if((cr=fr.arrow)!=null&&cr.alignmentOffset)return{};const yr=getSide(ur),_r=getSide(pr)===pr,Sr=await(mr.isRTL==null?void 0:mr.isRTL(gr.floating)),Pr=$r||(_r||!Er?[getOppositePlacement(pr)]:getExpandedPlacements(pr));!$r&&br!=="none"&&Pr.push(...getOppositeAxisPlacements(pr,Er,br,Sr));const Or=[pr,...Pr],Lr=await detectOverflow(ar,wr),Tr=[];let jr=((lr=fr.flip)==null?void 0:lr.overflows)||[];if(vr&&Tr.push(Lr[yr]),hr){const Zr=getAlignmentSides(ur,dr,Sr);Tr.push(Lr[Zr[0]],Lr[Zr[1]])}if(jr=[...jr,{placement:ur,overflows:Tr}],!Tr.every(Zr=>Zr<=0)){var Rr,Fr;const Zr=(((Rr=fr.flip)==null?void 0:Rr.index)||0)+1,so=Or[Zr];if(so)return{data:{index:Zr,overflows:jr},reset:{placement:so}};let Ir=(Fr=jr.filter(Kr=>Kr.overflows[0]<=0).sort((Kr,no)=>Kr.overflows[1]-no.overflows[1])[0])==null?void 0:Fr.placement;if(!Ir)switch(xr){case"bestFit":{var Vr;const Kr=(Vr=jr.map(no=>[no.placement,no.overflows.filter(eo=>eo>0).reduce((eo,Wr)=>eo+Wr,0)]).sort((no,eo)=>no[1]-eo[1])[0])==null?void 0:Vr[0];Kr&&(Ir=Kr);break}case"initialPlacement":Ir=pr;break}if(ur!==Ir)return{reset:{placement:Ir}}}return{}}}};function getSideOffsets(or,ar){return{top:or.top-ar.height,right:or.right-ar.width,bottom:or.bottom-ar.height,left:or.left-ar.width}}function isAnySideFullyClipped(or){return sides.some(ar=>or[ar]>=0)}const hide=function(or){return or===void 0&&(or={}),{name:"hide",options:or,async fn(ar){const{rects:cr}=ar,{strategy:lr="referenceHidden",...ur}=evaluate(or,ar);switch(lr){case"referenceHidden":{const fr=await detectOverflow(ar,{...ur,elementContext:"reference"}),dr=getSideOffsets(fr,cr.reference);return{data:{referenceHiddenOffsets:dr,referenceHidden:isAnySideFullyClipped(dr)}}}case"escaped":{const fr=await detectOverflow(ar,{...ur,altBoundary:!0}),dr=getSideOffsets(fr,cr.floating);return{data:{escapedOffsets:dr,escaped:isAnySideFullyClipped(dr)}}}default:return{}}}}};async function convertValueToCoords(or,ar){const{placement:cr,platform:lr,elements:ur}=or,fr=await(lr.isRTL==null?void 0:lr.isRTL(ur.floating)),dr=getSide(cr),pr=getAlignment(cr),mr=getSideAxis(cr)==="y",gr=["left","top"].includes(dr)?-1:1,vr=fr&&mr?-1:1,hr=evaluate(ar,or);let{mainAxis:$r,crossAxis:xr,alignmentAxis:br}=typeof hr=="number"?{mainAxis:hr,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...hr};return pr&&typeof br=="number"&&(xr=pr==="end"?br*-1:br),mr?{x:xr*vr,y:$r*gr}:{x:$r*gr,y:xr*vr}}const offset=function(or){return or===void 0&&(or=0),{name:"offset",options:or,async fn(ar){var cr,lr;const{x:ur,y:fr,placement:dr,middlewareData:pr}=ar,mr=await convertValueToCoords(ar,or);return dr===((cr=pr.offset)==null?void 0:cr.placement)&&(lr=pr.arrow)!=null&&lr.alignmentOffset?{}:{x:ur+mr.x,y:fr+mr.y,data:{...mr,placement:dr}}}}},shift=function(or){return or===void 0&&(or={}),{name:"shift",options:or,async fn(ar){const{x:cr,y:lr,placement:ur}=ar,{mainAxis:fr=!0,crossAxis:dr=!1,limiter:pr={fn:wr=>{let{x:yr,y:_r}=wr;return{x:yr,y:_r}}},...mr}=evaluate(or,ar),gr={x:cr,y:lr},vr=await detectOverflow(ar,mr),hr=getSideAxis(getSide(ur)),$r=getOppositeAxis(hr);let xr=gr[$r],br=gr[hr];if(fr){const wr=$r==="y"?"top":"left",yr=$r==="y"?"bottom":"right",_r=xr+vr[wr],Sr=xr-vr[yr];xr=clamp(_r,xr,Sr)}if(dr){const wr=hr==="y"?"top":"left",yr=hr==="y"?"bottom":"right",_r=br+vr[wr],Sr=br-vr[yr];br=clamp(_r,br,Sr)}const Er=pr.fn({...ar,[$r]:xr,[hr]:br});return{...Er,data:{x:Er.x-cr,y:Er.y-lr}}}}},limitShift=function(or){return or===void 0&&(or={}),{options:or,fn(ar){const{x:cr,y:lr,placement:ur,rects:fr,middlewareData:dr}=ar,{offset:pr=0,mainAxis:mr=!0,crossAxis:gr=!0}=evaluate(or,ar),vr={x:cr,y:lr},hr=getSideAxis(ur),$r=getOppositeAxis(hr);let xr=vr[$r],br=vr[hr];const Er=evaluate(pr,ar),wr=typeof Er=="number"?{mainAxis:Er,crossAxis:0}:{mainAxis:0,crossAxis:0,...Er};if(mr){const Sr=$r==="y"?"height":"width",Pr=fr.reference[$r]-fr.floating[Sr]+wr.mainAxis,Or=fr.reference[$r]+fr.reference[Sr]-wr.mainAxis;xr<Pr?xr=Pr:xr>Or&&(xr=Or)}if(gr){var yr,_r;const Sr=$r==="y"?"width":"height",Pr=["top","left"].includes(getSide(ur)),Or=fr.reference[hr]-fr.floating[Sr]+(Pr&&((yr=dr.offset)==null?void 0:yr[hr])||0)+(Pr?0:wr.crossAxis),Lr=fr.reference[hr]+fr.reference[Sr]+(Pr?0:((_r=dr.offset)==null?void 0:_r[hr])||0)-(Pr?wr.crossAxis:0);br<Or?br=Or:br>Lr&&(br=Lr)}return{[$r]:xr,[hr]:br}}}},size=function(or){return or===void 0&&(or={}),{name:"size",options:or,async fn(ar){const{placement:cr,rects:lr,platform:ur,elements:fr}=ar,{apply:dr=()=>{},...pr}=evaluate(or,ar),mr=await detectOverflow(ar,pr),gr=getSide(cr),vr=getAlignment(cr),hr=getSideAxis(cr)==="y",{width:$r,height:xr}=lr.floating;let br,Er;gr==="top"||gr==="bottom"?(br=gr,Er=vr===(await(ur.isRTL==null?void 0:ur.isRTL(fr.floating))?"start":"end")?"left":"right"):(Er=gr,br=vr==="end"?"top":"bottom");const wr=xr-mr[br],yr=$r-mr[Er],_r=!ar.middlewareData.shift;let Sr=wr,Pr=yr;if(hr){const Lr=$r-mr.left-mr.right;Pr=vr||_r?min(yr,Lr):Lr}else{const Lr=xr-mr.top-mr.bottom;Sr=vr||_r?min(wr,Lr):Lr}if(_r&&!vr){const Lr=max(mr.left,0),Tr=max(mr.right,0),jr=max(mr.top,0),Rr=max(mr.bottom,0);hr?Pr=$r-2*(Lr!==0||Tr!==0?Lr+Tr:max(mr.left,mr.right)):Sr=xr-2*(jr!==0||Rr!==0?jr+Rr:max(mr.top,mr.bottom))}await dr({...ar,availableWidth:Pr,availableHeight:Sr});const Or=await ur.getDimensions(fr.floating);return $r!==Or.width||xr!==Or.height?{reset:{rects:!0}}:{}}}};function getNodeName(or){return isNode(or)?(or.nodeName||"").toLowerCase():"#document"}function getWindow(or){var ar;return(or==null||(ar=or.ownerDocument)==null?void 0:ar.defaultView)||window}function getDocumentElement(or){var ar;return(ar=(isNode(or)?or.ownerDocument:or.document)||window.document)==null?void 0:ar.documentElement}function isNode(or){return or instanceof Node||or instanceof getWindow(or).Node}function isElement(or){return or instanceof Element||or instanceof getWindow(or).Element}function isHTMLElement(or){return or instanceof HTMLElement||or instanceof getWindow(or).HTMLElement}function isShadowRoot(or){return typeof ShadowRoot>"u"?!1:or instanceof ShadowRoot||or instanceof getWindow(or).ShadowRoot}function isOverflowElement(or){const{overflow:ar,overflowX:cr,overflowY:lr,display:ur}=getComputedStyle$1(or);return/auto|scroll|overlay|hidden|clip/.test(ar+lr+cr)&&!["inline","contents"].includes(ur)}function isTableElement(or){return["table","td","th"].includes(getNodeName(or))}function isContainingBlock(or){const ar=isWebKit(),cr=getComputedStyle$1(or);return cr.transform!=="none"||cr.perspective!=="none"||(cr.containerType?cr.containerType!=="normal":!1)||!ar&&(cr.backdropFilter?cr.backdropFilter!=="none":!1)||!ar&&(cr.filter?cr.filter!=="none":!1)||["transform","perspective","filter"].some(lr=>(cr.willChange||"").includes(lr))||["paint","layout","strict","content"].some(lr=>(cr.contain||"").includes(lr))}function getContainingBlock(or){let ar=getParentNode(or);for(;isHTMLElement(ar)&&!isLastTraversableNode(ar);){if(isContainingBlock(ar))return ar;ar=getParentNode(ar)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(or){return["html","body","#document"].includes(getNodeName(or))}function getComputedStyle$1(or){return getWindow(or).getComputedStyle(or)}function getNodeScroll(or){return isElement(or)?{scrollLeft:or.scrollLeft,scrollTop:or.scrollTop}:{scrollLeft:or.pageXOffset,scrollTop:or.pageYOffset}}function getParentNode(or){if(getNodeName(or)==="html")return or;const ar=or.assignedSlot||or.parentNode||isShadowRoot(or)&&or.host||getDocumentElement(or);return isShadowRoot(ar)?ar.host:ar}function getNearestOverflowAncestor(or){const ar=getParentNode(or);return isLastTraversableNode(ar)?or.ownerDocument?or.ownerDocument.body:or.body:isHTMLElement(ar)&&isOverflowElement(ar)?ar:getNearestOverflowAncestor(ar)}function getOverflowAncestors(or,ar,cr){var lr;ar===void 0&&(ar=[]),cr===void 0&&(cr=!0);const ur=getNearestOverflowAncestor(or),fr=ur===((lr=or.ownerDocument)==null?void 0:lr.body),dr=getWindow(ur);return fr?ar.concat(dr,dr.visualViewport||[],isOverflowElement(ur)?ur:[],dr.frameElement&&cr?getOverflowAncestors(dr.frameElement):[]):ar.concat(ur,getOverflowAncestors(ur,[],cr))}function getCssDimensions(or){const ar=getComputedStyle$1(or);let cr=parseFloat(ar.width)||0,lr=parseFloat(ar.height)||0;const ur=isHTMLElement(or),fr=ur?or.offsetWidth:cr,dr=ur?or.offsetHeight:lr,pr=round(cr)!==fr||round(lr)!==dr;return pr&&(cr=fr,lr=dr),{width:cr,height:lr,$:pr}}function unwrapElement(or){return isElement(or)?or:or.contextElement}function getScale(or){const ar=unwrapElement(or);if(!isHTMLElement(ar))return createCoords(1);const cr=ar.getBoundingClientRect(),{width:lr,height:ur,$:fr}=getCssDimensions(ar);let dr=(fr?round(cr.width):cr.width)/lr,pr=(fr?round(cr.height):cr.height)/ur;return(!dr||!Number.isFinite(dr))&&(dr=1),(!pr||!Number.isFinite(pr))&&(pr=1),{x:dr,y:pr}}const noOffsets=createCoords(0);function getVisualOffsets(or){const ar=getWindow(or);return!isWebKit()||!ar.visualViewport?noOffsets:{x:ar.visualViewport.offsetLeft,y:ar.visualViewport.offsetTop}}function shouldAddVisualOffsets(or,ar,cr){return ar===void 0&&(ar=!1),!cr||ar&&cr!==getWindow(or)?!1:ar}function getBoundingClientRect(or,ar,cr,lr){ar===void 0&&(ar=!1),cr===void 0&&(cr=!1);const ur=or.getBoundingClientRect(),fr=unwrapElement(or);let dr=createCoords(1);ar&&(lr?isElement(lr)&&(dr=getScale(lr)):dr=getScale(or));const pr=shouldAddVisualOffsets(fr,cr,lr)?getVisualOffsets(fr):createCoords(0);let mr=(ur.left+pr.x)/dr.x,gr=(ur.top+pr.y)/dr.y,vr=ur.width/dr.x,hr=ur.height/dr.y;if(fr){const $r=getWindow(fr),xr=lr&&isElement(lr)?getWindow(lr):lr;let br=$r.frameElement;for(;br&&lr&&xr!==$r;){const Er=getScale(br),wr=br.getBoundingClientRect(),yr=getComputedStyle$1(br),_r=wr.left+(br.clientLeft+parseFloat(yr.paddingLeft))*Er.x,Sr=wr.top+(br.clientTop+parseFloat(yr.paddingTop))*Er.y;mr*=Er.x,gr*=Er.y,vr*=Er.x,hr*=Er.y,mr+=_r,gr+=Sr,br=getWindow(br).frameElement}}return rectToClientRect({width:vr,height:hr,x:mr,y:gr})}function convertOffsetParentRelativeRectToViewportRelativeRect(or){let{rect:ar,offsetParent:cr,strategy:lr}=or;const ur=isHTMLElement(cr),fr=getDocumentElement(cr);if(cr===fr)return ar;let dr={scrollLeft:0,scrollTop:0},pr=createCoords(1);const mr=createCoords(0);if((ur||!ur&&lr!=="fixed")&&((getNodeName(cr)!=="body"||isOverflowElement(fr))&&(dr=getNodeScroll(cr)),isHTMLElement(cr))){const gr=getBoundingClientRect(cr);pr=getScale(cr),mr.x=gr.x+cr.clientLeft,mr.y=gr.y+cr.clientTop}return{width:ar.width*pr.x,height:ar.height*pr.y,x:ar.x*pr.x-dr.scrollLeft*pr.x+mr.x,y:ar.y*pr.y-dr.scrollTop*pr.y+mr.y}}function getClientRects(or){return Array.from(or.getClientRects())}function getWindowScrollBarX(or){return getBoundingClientRect(getDocumentElement(or)).left+getNodeScroll(or).scrollLeft}function getDocumentRect(or){const ar=getDocumentElement(or),cr=getNodeScroll(or),lr=or.ownerDocument.body,ur=max(ar.scrollWidth,ar.clientWidth,lr.scrollWidth,lr.clientWidth),fr=max(ar.scrollHeight,ar.clientHeight,lr.scrollHeight,lr.clientHeight);let dr=-cr.scrollLeft+getWindowScrollBarX(or);const pr=-cr.scrollTop;return getComputedStyle$1(lr).direction==="rtl"&&(dr+=max(ar.clientWidth,lr.clientWidth)-ur),{width:ur,height:fr,x:dr,y:pr}}function getViewportRect(or,ar){const cr=getWindow(or),lr=getDocumentElement(or),ur=cr.visualViewport;let fr=lr.clientWidth,dr=lr.clientHeight,pr=0,mr=0;if(ur){fr=ur.width,dr=ur.height;const gr=isWebKit();(!gr||gr&&ar==="fixed")&&(pr=ur.offsetLeft,mr=ur.offsetTop)}return{width:fr,height:dr,x:pr,y:mr}}function getInnerBoundingClientRect(or,ar){const cr=getBoundingClientRect(or,!0,ar==="fixed"),lr=cr.top+or.clientTop,ur=cr.left+or.clientLeft,fr=isHTMLElement(or)?getScale(or):createCoords(1),dr=or.clientWidth*fr.x,pr=or.clientHeight*fr.y,mr=ur*fr.x,gr=lr*fr.y;return{width:dr,height:pr,x:mr,y:gr}}function getClientRectFromClippingAncestor(or,ar,cr){let lr;if(ar==="viewport")lr=getViewportRect(or,cr);else if(ar==="document")lr=getDocumentRect(getDocumentElement(or));else if(isElement(ar))lr=getInnerBoundingClientRect(ar,cr);else{const ur=getVisualOffsets(or);lr={...ar,x:ar.x-ur.x,y:ar.y-ur.y}}return rectToClientRect(lr)}function hasFixedPositionAncestor(or,ar){const cr=getParentNode(or);return cr===ar||!isElement(cr)||isLastTraversableNode(cr)?!1:getComputedStyle$1(cr).position==="fixed"||hasFixedPositionAncestor(cr,ar)}function getClippingElementAncestors(or,ar){const cr=ar.get(or);if(cr)return cr;let lr=getOverflowAncestors(or,[],!1).filter(pr=>isElement(pr)&&getNodeName(pr)!=="body"),ur=null;const fr=getComputedStyle$1(or).position==="fixed";let dr=fr?getParentNode(or):or;for(;isElement(dr)&&!isLastTraversableNode(dr);){const pr=getComputedStyle$1(dr),mr=isContainingBlock(dr);!mr&&pr.position==="fixed"&&(ur=null),(fr?!mr&&!ur:!mr&&pr.position==="static"&&!!ur&&["absolute","fixed"].includes(ur.position)||isOverflowElement(dr)&&!mr&&hasFixedPositionAncestor(or,dr))?lr=lr.filter(vr=>vr!==dr):ur=pr,dr=getParentNode(dr)}return ar.set(or,lr),lr}function getClippingRect(or){let{element:ar,boundary:cr,rootBoundary:lr,strategy:ur}=or;const dr=[...cr==="clippingAncestors"?getClippingElementAncestors(ar,this._c):[].concat(cr),lr],pr=dr[0],mr=dr.reduce((gr,vr)=>{const hr=getClientRectFromClippingAncestor(ar,vr,ur);return gr.top=max(hr.top,gr.top),gr.right=min(hr.right,gr.right),gr.bottom=min(hr.bottom,gr.bottom),gr.left=max(hr.left,gr.left),gr},getClientRectFromClippingAncestor(ar,pr,ur));return{width:mr.right-mr.left,height:mr.bottom-mr.top,x:mr.left,y:mr.top}}function getDimensions(or){return getCssDimensions(or)}function getRectRelativeToOffsetParent(or,ar,cr){const lr=isHTMLElement(ar),ur=getDocumentElement(ar),fr=cr==="fixed",dr=getBoundingClientRect(or,!0,fr,ar);let pr={scrollLeft:0,scrollTop:0};const mr=createCoords(0);if(lr||!lr&&!fr)if((getNodeName(ar)!=="body"||isOverflowElement(ur))&&(pr=getNodeScroll(ar)),lr){const gr=getBoundingClientRect(ar,!0,fr,ar);mr.x=gr.x+ar.clientLeft,mr.y=gr.y+ar.clientTop}else ur&&(mr.x=getWindowScrollBarX(ur));return{x:dr.left+pr.scrollLeft-mr.x,y:dr.top+pr.scrollTop-mr.y,width:dr.width,height:dr.height}}function getTrueOffsetParent(or,ar){return!isHTMLElement(or)||getComputedStyle$1(or).position==="fixed"?null:ar?ar(or):or.offsetParent}function getOffsetParent(or,ar){const cr=getWindow(or);if(!isHTMLElement(or))return cr;let lr=getTrueOffsetParent(or,ar);for(;lr&&isTableElement(lr)&&getComputedStyle$1(lr).position==="static";)lr=getTrueOffsetParent(lr,ar);return lr&&(getNodeName(lr)==="html"||getNodeName(lr)==="body"&&getComputedStyle$1(lr).position==="static"&&!isContainingBlock(lr))?cr:lr||getContainingBlock(or)||cr}const getElementRects=async function(or){let{reference:ar,floating:cr,strategy:lr}=or;const ur=this.getOffsetParent||getOffsetParent,fr=this.getDimensions;return{reference:getRectRelativeToOffsetParent(ar,await ur(cr),lr),floating:{x:0,y:0,...await fr(cr)}}};function isRTL(or){return getComputedStyle$1(or).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(or,ar){let cr=null,lr;const ur=getDocumentElement(or);function fr(){clearTimeout(lr),cr&&cr.disconnect(),cr=null}function dr(pr,mr){pr===void 0&&(pr=!1),mr===void 0&&(mr=1),fr();const{left:gr,top:vr,width:hr,height:$r}=or.getBoundingClientRect();if(pr||ar(),!hr||!$r)return;const xr=floor(vr),br=floor(ur.clientWidth-(gr+hr)),Er=floor(ur.clientHeight-(vr+$r)),wr=floor(gr),_r={rootMargin:-xr+"px "+-br+"px "+-Er+"px "+-wr+"px",threshold:max(0,min(1,mr))||1};let Sr=!0;function Pr(Or){const Lr=Or[0].intersectionRatio;if(Lr!==mr){if(!Sr)return dr();Lr?dr(!1,Lr):lr=setTimeout(()=>{dr(!1,1e-7)},100)}Sr=!1}try{cr=new IntersectionObserver(Pr,{..._r,root:ur.ownerDocument})}catch{cr=new IntersectionObserver(Pr,_r)}cr.observe(or)}return dr(!0),fr}function autoUpdate(or,ar,cr,lr){lr===void 0&&(lr={});const{ancestorScroll:ur=!0,ancestorResize:fr=!0,elementResize:dr=typeof ResizeObserver=="function",layoutShift:pr=typeof IntersectionObserver=="function",animationFrame:mr=!1}=lr,gr=unwrapElement(or),vr=ur||fr?[...gr?getOverflowAncestors(gr):[],...getOverflowAncestors(ar)]:[];vr.forEach(yr=>{ur&&yr.addEventListener("scroll",cr,{passive:!0}),fr&&yr.addEventListener("resize",cr)});const hr=gr&&pr?observeMove(gr,cr):null;let $r=-1,xr=null;dr&&(xr=new ResizeObserver(yr=>{let[_r]=yr;_r&&_r.target===gr&&xr&&(xr.unobserve(ar),cancelAnimationFrame($r),$r=requestAnimationFrame(()=>{xr&&xr.observe(ar)})),cr()}),gr&&!mr&&xr.observe(gr),xr.observe(ar));let br,Er=mr?getBoundingClientRect(or):null;mr&&wr();function wr(){const yr=getBoundingClientRect(or);Er&&(yr.x!==Er.x||yr.y!==Er.y||yr.width!==Er.width||yr.height!==Er.height)&&cr(),Er=yr,br=requestAnimationFrame(wr)}return cr(),()=>{vr.forEach(yr=>{ur&&yr.removeEventListener("scroll",cr),fr&&yr.removeEventListener("resize",cr)}),hr&&hr(),xr&&xr.disconnect(),xr=null,mr&&cancelAnimationFrame(br)}}const computePosition=(or,ar,cr)=>{const lr=new Map,ur={platform,...cr},fr={...ur.platform,_c:lr};return computePosition$1(or,ar,{...ur,platform:fr})},arrow=or=>{function ar(cr){return{}.hasOwnProperty.call(cr,"current")}return{name:"arrow",options:or,fn(cr){const{element:lr,padding:ur}=typeof or=="function"?or(cr):or;return lr&&ar(lr)?lr.current!=null?arrow$1({element:lr.current,padding:ur}).fn(cr):{}:lr?arrow$1({element:lr,padding:ur}).fn(cr):{}}}};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(or,ar){if(or===ar)return!0;if(typeof or!=typeof ar)return!1;if(typeof or=="function"&&or.toString()===ar.toString())return!0;let cr,lr,ur;if(or&&ar&&typeof or=="object"){if(Array.isArray(or)){if(cr=or.length,cr!=ar.length)return!1;for(lr=cr;lr--!==0;)if(!deepEqual(or[lr],ar[lr]))return!1;return!0}if(ur=Object.keys(or),cr=ur.length,cr!==Object.keys(ar).length)return!1;for(lr=cr;lr--!==0;)if(!{}.hasOwnProperty.call(ar,ur[lr]))return!1;for(lr=cr;lr--!==0;){const fr=ur[lr];if(!(fr==="_owner"&&or.$$typeof)&&!deepEqual(or[fr],ar[fr]))return!1}return!0}return or!==or&&ar!==ar}function getDPR(or){return typeof window>"u"?1:(or.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(or,ar){const cr=getDPR(or);return Math.round(ar*cr)/cr}function useLatestRef(or){const ar=reactExports.useRef(or);return index(()=>{ar.current=or}),ar}function useFloating(or){or===void 0&&(or={});const{placement:ar="bottom",strategy:cr="absolute",middleware:lr=[],platform:ur,elements:{reference:fr,floating:dr}={},transform:pr=!0,whileElementsMounted:mr,open:gr}=or,[vr,hr]=reactExports.useState({x:0,y:0,strategy:cr,placement:ar,middlewareData:{},isPositioned:!1}),[$r,xr]=reactExports.useState(lr);deepEqual($r,lr)||xr(lr);const[br,Er]=reactExports.useState(null),[wr,yr]=reactExports.useState(null),_r=reactExports.useCallback(no=>{no!=Lr.current&&(Lr.current=no,Er(no))},[Er]),Sr=reactExports.useCallback(no=>{no!==Tr.current&&(Tr.current=no,yr(no))},[yr]),Pr=fr||br,Or=dr||wr,Lr=reactExports.useRef(null),Tr=reactExports.useRef(null),jr=reactExports.useRef(vr),Rr=useLatestRef(mr),Fr=useLatestRef(ur),Vr=reactExports.useCallback(()=>{if(!Lr.current||!Tr.current)return;const no={placement:ar,strategy:cr,middleware:$r};Fr.current&&(no.platform=Fr.current),computePosition(Lr.current,Tr.current,no).then(eo=>{const Wr={...eo,isPositioned:!0};Zr.current&&!deepEqual(jr.current,Wr)&&(jr.current=Wr,reactDomExports.flushSync(()=>{hr(Wr)}))})},[$r,ar,cr,Fr]);index(()=>{gr===!1&&jr.current.isPositioned&&(jr.current.isPositioned=!1,hr(no=>({...no,isPositioned:!1})))},[gr]);const Zr=reactExports.useRef(!1);index(()=>(Zr.current=!0,()=>{Zr.current=!1}),[]),index(()=>{if(Pr&&(Lr.current=Pr),Or&&(Tr.current=Or),Pr&&Or){if(Rr.current)return Rr.current(Pr,Or,Vr);Vr()}},[Pr,Or,Vr,Rr]);const so=reactExports.useMemo(()=>({reference:Lr,floating:Tr,setReference:_r,setFloating:Sr}),[_r,Sr]),Ir=reactExports.useMemo(()=>({reference:Pr,floating:Or}),[Pr,Or]),Kr=reactExports.useMemo(()=>{const no={position:cr,left:0,top:0};if(!Ir.floating)return no;const eo=roundByDPR(Ir.floating,vr.x),Wr=roundByDPR(Ir.floating,vr.y);return pr?{...no,transform:"translate("+eo+"px, "+Wr+"px)",...getDPR(Ir.floating)>=1.5&&{willChange:"transform"}}:{position:cr,left:eo,top:Wr}},[cr,pr,Ir.floating,vr.x,vr.y]);return reactExports.useMemo(()=>({...vr,update:Vr,refs:so,elements:Ir,floatingStyles:Kr}),[vr,Vr,so,Ir,Kr])}const $7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((or,ar)=>{const{children:cr,width:lr=10,height:ur=5,...fr}=or;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends$2({},fr,{ref:ar,width:lr,height:ur,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),or.asChild?cr:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(or){const[ar,cr]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(or){cr({width:or.offsetWidth,height:or.offsetHeight});const lr=new ResizeObserver(ur=>{if(!Array.isArray(ur)||!ur.length)return;const fr=ur[0];let dr,pr;if("borderBoxSize"in fr){const mr=fr.borderBoxSize,gr=Array.isArray(mr)?mr[0]:mr;dr=gr.inlineSize,pr=gr.blockSize}else dr=or.offsetWidth,pr=or.offsetHeight;cr({width:dr,height:pr})});return lr.observe(or,{box:"border-box"}),()=>lr.unobserve(or)}else cr(void 0)},[or]),ar}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=or=>{const{__scopePopper:ar,children:cr}=or,[lr,ur]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:ar,anchor:lr,onAnchorChange:ur},cr)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((or,ar)=>{const{__scopePopper:cr,virtualRef:lr,...ur}=or,fr=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,cr),dr=reactExports.useRef(null),pr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,dr);return reactExports.useEffect(()=>{fr.onAnchorChange((lr==null?void 0:lr.current)||dr.current)}),lr?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},ur,{ref:pr}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((or,ar)=>{var cr,lr,ur,fr,dr,pr,mr,gr;const{__scopePopper:vr,side:hr="bottom",sideOffset:$r=0,align:xr="center",alignOffset:br=0,arrowPadding:Er=0,avoidCollisions:wr=!0,collisionBoundary:yr=[],collisionPadding:_r=0,sticky:Sr="partial",hideWhenDetached:Pr=!1,updatePositionStrategy:Or="optimized",onPlaced:Lr,...Tr}=or,jr=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,vr),[Rr,Fr]=reactExports.useState(null),Vr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Lo=>Fr(Lo)),[Zr,so]=reactExports.useState(null),Ir=$db6c3485150b8e66$export$1ab7ae714698c4b8(Zr),Kr=(cr=Ir==null?void 0:Ir.width)!==null&&cr!==void 0?cr:0,no=(lr=Ir==null?void 0:Ir.height)!==null&&lr!==void 0?lr:0,eo=hr+(xr!=="center"?"-"+xr:""),Wr=typeof _r=="number"?_r:{top:0,right:0,bottom:0,left:0,..._r},Ur=Array.isArray(yr)?yr:[yr],ro=Ur.length>0,Gr={padding:Wr,boundary:Ur.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:ro},{refs:Qr,floatingStyles:lo,placement:ao,isPositioned:Yr,middlewareData:io}=useFloating({strategy:"fixed",placement:eo,whileElementsMounted:(...Lo)=>autoUpdate(...Lo,{animationFrame:Or==="always"}),elements:{reference:jr.anchor},middleware:[offset({mainAxis:$r+no,alignmentAxis:br}),wr&&shift({mainAxis:!0,crossAxis:!1,limiter:Sr==="partial"?limitShift():void 0,...Gr}),wr&&flip({...Gr}),size({...Gr,apply:({elements:Lo,rects:zo,availableWidth:Uo,availableHeight:Qo})=>{const{width:rs,height:Ko}=zo.reference,qo=Lo.floating.style;qo.setProperty("--radix-popper-available-width",`${Uo}px`),qo.setProperty("--radix-popper-available-height",`${Qo}px`),qo.setProperty("--radix-popper-anchor-width",`${rs}px`),qo.setProperty("--radix-popper-anchor-height",`${Ko}px`)}}),Zr&&arrow({element:Zr,padding:Er}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:Kr,arrowHeight:no}),Pr&&hide({strategy:"referenceHidden",...Gr})]}),[Jr,uo]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(ao),fo=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Lr);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Yr&&(fo==null||fo())},[Yr,fo]);const $o=(ur=io.arrow)===null||ur===void 0?void 0:ur.x,xo=(fr=io.arrow)===null||fr===void 0?void 0:fr.y,yo=((dr=io.arrow)===null||dr===void 0?void 0:dr.centerOffset)!==0,[Ao,Mo]=reactExports.useState();return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{Rr&&Mo(window.getComputedStyle(Rr).zIndex)},[Rr]),reactExports.createElement("div",{ref:Qr.setFloating,"data-radix-popper-content-wrapper":"",style:{...lo,transform:Yr?lo.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ao,"--radix-popper-transform-origin":[(pr=io.transformOrigin)===null||pr===void 0?void 0:pr.x,(mr=io.transformOrigin)===null||mr===void 0?void 0:mr.y].join(" ")},dir:or.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:vr,placedSide:Jr,onArrowChange:so,arrowX:$o,arrowY:xo,shouldHideArrow:yo},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-side":Jr,"data-align":uo},Tr,{ref:Vr,style:{...Tr.style,animation:Yr?void 0:"none",opacity:(gr=io.hide)!==null&&gr!==void 0&&gr.referenceHidden?0:void 0}}))))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function or(ar,cr){const{__scopePopper:lr,...ur}=ar,fr=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,lr),dr=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[fr.placedSide];return reactExports.createElement("span",{ref:fr.onArrowChange,style:{position:"absolute",left:fr.arrowX,top:fr.arrowY,[dr]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[fr.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[fr.placedSide],visibility:fr.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends$2({},ur,{ref:cr,style:{...ur.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isNotNull(or){return or!==null}const $cf1ac5d9fe0e8206$var$transformOrigin=or=>({name:"transformOrigin",options:or,fn(ar){var cr,lr,ur,fr,dr;const{placement:pr,rects:mr,middlewareData:gr}=ar,hr=((cr=gr.arrow)===null||cr===void 0?void 0:cr.centerOffset)!==0,$r=hr?0:or.arrowWidth,xr=hr?0:or.arrowHeight,[br,Er]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(pr),wr={start:"0%",center:"50%",end:"100%"}[Er],yr=((lr=(ur=gr.arrow)===null||ur===void 0?void 0:ur.x)!==null&&lr!==void 0?lr:0)+$r/2,_r=((fr=(dr=gr.arrow)===null||dr===void 0?void 0:dr.y)!==null&&fr!==void 0?fr:0)+xr/2;let Sr="",Pr="";return br==="bottom"?(Sr=hr?wr:`${yr}px`,Pr=`${-xr}px`):br==="top"?(Sr=hr?wr:`${yr}px`,Pr=`${mr.floating.height+xr}px`):br==="right"?(Sr=`${-xr}px`,Pr=hr?wr:`${_r}px`):br==="left"&&(Sr=`${mr.floating.width+xr}px`,Pr=hr?wr:`${_r}px`),{data:{x:Sr,y:Pr}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(or){const[ar,cr="center"]=or.split("-");return[ar,cr]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0,$d7bdfb9eb0fdf311$var$ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",$d7bdfb9eb0fdf311$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d7bdfb9eb0fdf311$var$GROUP_NAME="RovingFocusGroup",[$d7bdfb9eb0fdf311$var$Collection,$d7bdfb9eb0fdf311$var$useCollection,$d7bdfb9eb0fdf311$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($d7bdfb9eb0fdf311$var$GROUP_NAME),[$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext,$d7bdfb9eb0fdf311$export$c7109489551a4f4]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($d7bdfb9eb0fdf311$var$GROUP_NAME,[$d7bdfb9eb0fdf311$var$createCollectionScope]),[$d7bdfb9eb0fdf311$var$RovingFocusProvider,$d7bdfb9eb0fdf311$var$useRovingFocusContext]=$d7bdfb9eb0fdf311$var$createRovingFocusGroupContext($d7bdfb9eb0fdf311$var$GROUP_NAME),$d7bdfb9eb0fdf311$export$8699f7c8af148338=reactExports.forwardRef((or,ar)=>reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.Provider,{scope:or.__scopeRovingFocusGroup},reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.Slot,{scope:or.__scopeRovingFocusGroup},reactExports.createElement($d7bdfb9eb0fdf311$var$RovingFocusGroupImpl,_extends$2({},or,{ref:ar}))))),$d7bdfb9eb0fdf311$var$RovingFocusGroupImpl=reactExports.forwardRef((or,ar)=>{const{__scopeRovingFocusGroup:cr,orientation:lr,loop:ur=!1,dir:fr,currentTabStopId:dr,defaultCurrentTabStopId:pr,onCurrentTabStopIdChange:mr,onEntryFocus:gr,...vr}=or,hr=reactExports.useRef(null),$r=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,hr),xr=$f631663db3294ace$export$b39126d51d94e6f3(fr),[br=null,Er]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:dr,defaultProp:pr,onChange:mr}),[wr,yr]=reactExports.useState(!1),_r=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(gr),Sr=$d7bdfb9eb0fdf311$var$useCollection(cr),Pr=reactExports.useRef(!1),[Or,Lr]=reactExports.useState(0);return reactExports.useEffect(()=>{const Tr=hr.current;if(Tr)return Tr.addEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,_r),()=>Tr.removeEventListener($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,_r)},[_r]),reactExports.createElement($d7bdfb9eb0fdf311$var$RovingFocusProvider,{scope:cr,orientation:lr,dir:xr,loop:ur,currentTabStopId:br,onItemFocus:reactExports.useCallback(Tr=>Er(Tr),[Er]),onItemShiftTab:reactExports.useCallback(()=>yr(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Lr(Tr=>Tr+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Lr(Tr=>Tr-1),[])},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({tabIndex:wr||Or===0?-1:0,"data-orientation":lr},vr,{ref:$r,style:{outline:"none",...or.style},onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onMouseDown,()=>{Pr.current=!0}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocus,Tr=>{const jr=!Pr.current;if(Tr.target===Tr.currentTarget&&jr&&!wr){const Rr=new CustomEvent($d7bdfb9eb0fdf311$var$ENTRY_FOCUS,$d7bdfb9eb0fdf311$var$EVENT_OPTIONS);if(Tr.currentTarget.dispatchEvent(Rr),!Rr.defaultPrevented){const Fr=Sr().filter(Kr=>Kr.focusable),Vr=Fr.find(Kr=>Kr.active),Zr=Fr.find(Kr=>Kr.id===br),Ir=[Vr,Zr,...Fr].filter(Boolean).map(Kr=>Kr.ref.current);$d7bdfb9eb0fdf311$var$focusFirst(Ir)}}Pr.current=!1}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onBlur,()=>yr(!1))})))}),$d7bdfb9eb0fdf311$var$ITEM_NAME="RovingFocusGroupItem",$d7bdfb9eb0fdf311$export$ab9df7c53fe8454=reactExports.forwardRef((or,ar)=>{const{__scopeRovingFocusGroup:cr,focusable:lr=!0,active:ur=!1,tabStopId:fr,...dr}=or,pr=$1746a345f3d73bb7$export$f680877a34711e37(),mr=fr||pr,gr=$d7bdfb9eb0fdf311$var$useRovingFocusContext($d7bdfb9eb0fdf311$var$ITEM_NAME,cr),vr=gr.currentTabStopId===mr,hr=$d7bdfb9eb0fdf311$var$useCollection(cr),{onFocusableItemAdd:$r,onFocusableItemRemove:xr}=gr;return reactExports.useEffect(()=>{if(lr)return $r(),()=>xr()},[lr,$r,xr]),reactExports.createElement($d7bdfb9eb0fdf311$var$Collection.ItemSlot,{scope:cr,id:mr,focusable:lr,active:ur},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({tabIndex:vr?0:-1,"data-orientation":gr.orientation},dr,{ref:ar,onMouseDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onMouseDown,br=>{lr?gr.onItemFocus(mr):br.preventDefault()}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocus,()=>gr.onItemFocus(mr)),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onKeyDown,br=>{if(br.key==="Tab"&&br.shiftKey){gr.onItemShiftTab();return}if(br.target!==br.currentTarget)return;const Er=$d7bdfb9eb0fdf311$var$getFocusIntent(br,gr.orientation,gr.dir);if(Er!==void 0){br.preventDefault();let yr=hr().filter(_r=>_r.focusable).map(_r=>_r.ref.current);if(Er==="last")yr.reverse();else if(Er==="prev"||Er==="next"){Er==="prev"&&yr.reverse();const _r=yr.indexOf(br.currentTarget);yr=gr.loop?$d7bdfb9eb0fdf311$var$wrapArray(yr,_r+1):yr.slice(_r+1)}setTimeout(()=>$d7bdfb9eb0fdf311$var$focusFirst(yr))}})})))}),$d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $d7bdfb9eb0fdf311$var$getDirectionAwareKey(or,ar){return ar!=="rtl"?or:or==="ArrowLeft"?"ArrowRight":or==="ArrowRight"?"ArrowLeft":or}function $d7bdfb9eb0fdf311$var$getFocusIntent(or,ar,cr){const lr=$d7bdfb9eb0fdf311$var$getDirectionAwareKey(or.key,cr);if(!(ar==="vertical"&&["ArrowLeft","ArrowRight"].includes(lr))&&!(ar==="horizontal"&&["ArrowUp","ArrowDown"].includes(lr)))return $d7bdfb9eb0fdf311$var$MAP_KEY_TO_FOCUS_INTENT[lr]}function $d7bdfb9eb0fdf311$var$focusFirst(or){const ar=document.activeElement;for(const cr of or)if(cr===ar||(cr.focus(),document.activeElement!==ar))return}function $d7bdfb9eb0fdf311$var$wrapArray(or,ar){return or.map((cr,lr)=>or[(ar+lr)%or.length])}const $d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9=$d7bdfb9eb0fdf311$export$8699f7c8af148338,$d7bdfb9eb0fdf311$export$6d08773d2e66f8f2=$d7bdfb9eb0fdf311$export$ab9df7c53fe8454,$6cc32821e9371a1c$var$SELECTION_KEYS=["Enter"," "],$6cc32821e9371a1c$var$FIRST_KEYS=["ArrowDown","PageUp","Home"],$6cc32821e9371a1c$var$LAST_KEYS=["ArrowUp","PageDown","End"],$6cc32821e9371a1c$var$FIRST_LAST_KEYS=[...$6cc32821e9371a1c$var$FIRST_KEYS,...$6cc32821e9371a1c$var$LAST_KEYS],$6cc32821e9371a1c$var$MENU_NAME="Menu",[$6cc32821e9371a1c$var$Collection,$6cc32821e9371a1c$var$useCollection,$6cc32821e9371a1c$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($6cc32821e9371a1c$var$MENU_NAME),[$6cc32821e9371a1c$var$createMenuContext,$6cc32821e9371a1c$export$4027731b685e72eb]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($6cc32821e9371a1c$var$MENU_NAME,[$6cc32821e9371a1c$var$createCollectionScope,$cf1ac5d9fe0e8206$export$722aac194ae923,$d7bdfb9eb0fdf311$export$c7109489551a4f4]),$6cc32821e9371a1c$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$6cc32821e9371a1c$var$useRovingFocusGroupScope=$d7bdfb9eb0fdf311$export$c7109489551a4f4(),[$6cc32821e9371a1c$var$MenuProvider,$6cc32821e9371a1c$var$useMenuContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$MENU_NAME),[$6cc32821e9371a1c$var$MenuRootProvider,$6cc32821e9371a1c$var$useMenuRootContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$MENU_NAME),$6cc32821e9371a1c$export$d9b273488cd8ce6f=or=>{const{__scopeMenu:ar,open:cr=!1,children:lr,dir:ur,onOpenChange:fr,modal:dr=!0}=or,pr=$6cc32821e9371a1c$var$usePopperScope(ar),[mr,gr]=reactExports.useState(null),vr=reactExports.useRef(!1),hr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(fr),$r=$f631663db3294ace$export$b39126d51d94e6f3(ur);return reactExports.useEffect(()=>{const xr=()=>{vr.current=!0,document.addEventListener("pointerdown",br,{capture:!0,once:!0}),document.addEventListener("pointermove",br,{capture:!0,once:!0})},br=()=>vr.current=!1;return document.addEventListener("keydown",xr,{capture:!0}),()=>{document.removeEventListener("keydown",xr,{capture:!0}),document.removeEventListener("pointerdown",br,{capture:!0}),document.removeEventListener("pointermove",br,{capture:!0})}},[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,pr,reactExports.createElement($6cc32821e9371a1c$var$MenuProvider,{scope:ar,open:cr,onOpenChange:hr,content:mr,onContentChange:gr},reactExports.createElement($6cc32821e9371a1c$var$MenuRootProvider,{scope:ar,onClose:reactExports.useCallback(()=>hr(!1),[hr]),isUsingKeyboardRef:vr,dir:$r,modal:dr},lr)))},$6cc32821e9371a1c$export$9fa5ebd18bee4d43=reactExports.forwardRef((or,ar)=>{const{__scopeMenu:cr,...lr}=or,ur=$6cc32821e9371a1c$var$usePopperScope(cr);return reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$2({},ur,lr,{ref:ar}))}),$6cc32821e9371a1c$var$PORTAL_NAME="MenuPortal",[$6cc32821e9371a1c$var$PortalProvider,$6cc32821e9371a1c$var$usePortalContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$PORTAL_NAME,{forceMount:void 0}),$6cc32821e9371a1c$export$793392f970497feb=or=>{const{__scopeMenu:ar,forceMount:cr,children:lr,container:ur}=or,fr=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$PORTAL_NAME,ar);return reactExports.createElement($6cc32821e9371a1c$var$PortalProvider,{scope:ar,forceMount:cr},reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:cr||fr.open},reactExports.createElement($f1701beae083dbae$export$602eac185826482c,{asChild:!0,container:ur},lr)))},$6cc32821e9371a1c$var$CONTENT_NAME="MenuContent",[$6cc32821e9371a1c$var$MenuContentProvider,$6cc32821e9371a1c$var$useMenuContentContext]=$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$CONTENT_NAME),$6cc32821e9371a1c$export$479f0f2f71193efe=reactExports.forwardRef((or,ar)=>{const cr=$6cc32821e9371a1c$var$usePortalContext($6cc32821e9371a1c$var$CONTENT_NAME,or.__scopeMenu),{forceMount:lr=cr.forceMount,...ur}=or,fr=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,or.__scopeMenu),dr=$6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$CONTENT_NAME,or.__scopeMenu);return reactExports.createElement($6cc32821e9371a1c$var$Collection.Provider,{scope:or.__scopeMenu},reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:lr||fr.open},reactExports.createElement($6cc32821e9371a1c$var$Collection.Slot,{scope:or.__scopeMenu},dr.modal?reactExports.createElement($6cc32821e9371a1c$var$MenuRootContentModal,_extends$2({},ur,{ref:ar})):reactExports.createElement($6cc32821e9371a1c$var$MenuRootContentNonModal,_extends$2({},ur,{ref:ar})))))}),$6cc32821e9371a1c$var$MenuRootContentModal=reactExports.forwardRef((or,ar)=>{const cr=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,or.__scopeMenu),lr=reactExports.useRef(null),ur=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,lr);return reactExports.useEffect(()=>{const fr=lr.current;if(fr)return hideOthers(fr)},[]),reactExports.createElement($6cc32821e9371a1c$var$MenuContentImpl,_extends$2({},or,{ref:ur,trapFocus:cr.open,disableOutsidePointerEvents:cr.open,disableOutsideScroll:!0,onFocusOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocusOutside,fr=>fr.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>cr.onOpenChange(!1)}))}),$6cc32821e9371a1c$var$MenuRootContentNonModal=reactExports.forwardRef((or,ar)=>{const cr=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,or.__scopeMenu);return reactExports.createElement($6cc32821e9371a1c$var$MenuContentImpl,_extends$2({},or,{ref:ar,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>cr.onOpenChange(!1)}))}),$6cc32821e9371a1c$var$MenuContentImpl=reactExports.forwardRef((or,ar)=>{const{__scopeMenu:cr,loop:lr=!1,trapFocus:ur,onOpenAutoFocus:fr,onCloseAutoFocus:dr,disableOutsidePointerEvents:pr,onEntryFocus:mr,onEscapeKeyDown:gr,onPointerDownOutside:vr,onFocusOutside:hr,onInteractOutside:$r,onDismiss:xr,disableOutsideScroll:br,...Er}=or,wr=$6cc32821e9371a1c$var$useMenuContext($6cc32821e9371a1c$var$CONTENT_NAME,cr),yr=$6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$CONTENT_NAME,cr),_r=$6cc32821e9371a1c$var$usePopperScope(cr),Sr=$6cc32821e9371a1c$var$useRovingFocusGroupScope(cr),Pr=$6cc32821e9371a1c$var$useCollection(cr),[Or,Lr]=reactExports.useState(null),Tr=reactExports.useRef(null),jr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Tr,wr.onContentChange),Rr=reactExports.useRef(0),Fr=reactExports.useRef(""),Vr=reactExports.useRef(0),Zr=reactExports.useRef(null),so=reactExports.useRef("right"),Ir=reactExports.useRef(0),Kr=br?$01b9c$RemoveScroll:reactExports.Fragment,no=br?{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0}:void 0,eo=Ur=>{var ro,Gr;const Qr=Fr.current+Ur,lo=Pr().filter(fo=>!fo.disabled),ao=document.activeElement,Yr=(ro=lo.find(fo=>fo.ref.current===ao))===null||ro===void 0?void 0:ro.textValue,io=lo.map(fo=>fo.textValue),Jr=$6cc32821e9371a1c$var$getNextMatch(io,Qr,Yr),uo=(Gr=lo.find(fo=>fo.textValue===Jr))===null||Gr===void 0?void 0:Gr.ref.current;(function fo($o){Fr.current=$o,window.clearTimeout(Rr.current),$o!==""&&(Rr.current=window.setTimeout(()=>fo(""),1e3))})(Qr),uo&&setTimeout(()=>uo.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(Rr.current),[]),$3db38b7d1fb3fe6a$export$b7ece24a22aeda8c();const Wr=reactExports.useCallback(Ur=>{var ro,Gr;return so.current===((ro=Zr.current)===null||ro===void 0?void 0:ro.side)&&$6cc32821e9371a1c$var$isPointerInGraceArea(Ur,(Gr=Zr.current)===null||Gr===void 0?void 0:Gr.area)},[]);return reactExports.createElement($6cc32821e9371a1c$var$MenuContentProvider,{scope:cr,searchRef:Fr,onItemEnter:reactExports.useCallback(Ur=>{Wr(Ur)&&Ur.preventDefault()},[Wr]),onItemLeave:reactExports.useCallback(Ur=>{var ro;Wr(Ur)||((ro=Tr.current)===null||ro===void 0||ro.focus(),Lr(null))},[Wr]),onTriggerLeave:reactExports.useCallback(Ur=>{Wr(Ur)&&Ur.preventDefault()},[Wr]),pointerGraceTimerRef:Vr,onPointerGraceIntentChange:reactExports.useCallback(Ur=>{Zr.current=Ur},[])},reactExports.createElement(Kr,no,reactExports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,trapped:ur,onMountAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(fr,Ur=>{var ro;Ur.preventDefault(),(ro=Tr.current)===null||ro===void 0||ro.focus()}),onUnmountAutoFocus:dr},reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:pr,onEscapeKeyDown:gr,onPointerDownOutside:vr,onFocusOutside:hr,onInteractOutside:$r,onDismiss:xr},reactExports.createElement($d7bdfb9eb0fdf311$export$be92b6f5f03c0fe9,_extends$2({asChild:!0},Sr,{dir:yr.dir,orientation:"vertical",loop:lr,currentTabStopId:Or,onCurrentTabStopIdChange:Lr,onEntryFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(mr,Ur=>{yr.isUsingKeyboardRef.current||Ur.preventDefault()})}),reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$2({role:"menu","aria-orientation":"vertical","data-state":$6cc32821e9371a1c$var$getOpenState(wr.open),"data-radix-menu-content":"",dir:yr.dir},_r,Er,{ref:jr,style:{outline:"none",...Er.style},onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Er.onKeyDown,Ur=>{const Gr=Ur.target.closest("[data-radix-menu-content]")===Ur.currentTarget,Qr=Ur.ctrlKey||Ur.altKey||Ur.metaKey,lo=Ur.key.length===1;Gr&&(Ur.key==="Tab"&&Ur.preventDefault(),!Qr&&lo&&eo(Ur.key));const ao=Tr.current;if(Ur.target!==ao||!$6cc32821e9371a1c$var$FIRST_LAST_KEYS.includes(Ur.key))return;Ur.preventDefault();const io=Pr().filter(Jr=>!Jr.disabled).map(Jr=>Jr.ref.current);$6cc32821e9371a1c$var$LAST_KEYS.includes(Ur.key)&&io.reverse(),$6cc32821e9371a1c$var$focusFirst(io)}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onBlur,Ur=>{Ur.currentTarget.contains(Ur.target)||(window.clearTimeout(Rr.current),Fr.current="")}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerMove,$6cc32821e9371a1c$var$whenMouse(Ur=>{const ro=Ur.target,Gr=Ir.current!==Ur.clientX;if(Ur.currentTarget.contains(ro)&&Gr){const Qr=Ur.clientX>Ir.current?"right":"left";so.current=Qr,Ir.current=Ur.clientX}}))})))))))}),$6cc32821e9371a1c$var$ITEM_NAME="MenuItem",$6cc32821e9371a1c$var$ITEM_SELECT="menu.itemSelect",$6cc32821e9371a1c$export$2ce376c2cc3355c8=reactExports.forwardRef((or,ar)=>{const{disabled:cr=!1,onSelect:lr,...ur}=or,fr=reactExports.useRef(null),dr=$6cc32821e9371a1c$var$useMenuRootContext($6cc32821e9371a1c$var$ITEM_NAME,or.__scopeMenu),pr=$6cc32821e9371a1c$var$useMenuContentContext($6cc32821e9371a1c$var$ITEM_NAME,or.__scopeMenu),mr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,fr),gr=reactExports.useRef(!1),vr=()=>{const hr=fr.current;if(!cr&&hr){const $r=new CustomEvent($6cc32821e9371a1c$var$ITEM_SELECT,{bubbles:!0,cancelable:!0});hr.addEventListener($6cc32821e9371a1c$var$ITEM_SELECT,xr=>lr==null?void 0:lr(xr),{once:!0}),$8927f6f2acc4f386$export$6d1a0317bde7de7f(hr,$r),$r.defaultPrevented?gr.current=!1:dr.onClose()}};return reactExports.createElement($6cc32821e9371a1c$var$MenuItemImpl,_extends$2({},ur,{ref:mr,disabled:cr,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onClick,vr),onPointerDown:hr=>{var $r;($r=or.onPointerDown)===null||$r===void 0||$r.call(or,hr),gr.current=!0},onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerUp,hr=>{var $r;gr.current||($r=hr.currentTarget)===null||$r===void 0||$r.click()}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onKeyDown,hr=>{const $r=pr.searchRef.current!=="";cr||$r&&hr.key===" "||$6cc32821e9371a1c$var$SELECTION_KEYS.includes(hr.key)&&(hr.currentTarget.click(),hr.preventDefault())})}))}),$6cc32821e9371a1c$var$MenuItemImpl=reactExports.forwardRef((or,ar)=>{const{__scopeMenu:cr,disabled:lr=!1,textValue:ur,...fr}=or,dr=$6cc32821e9371a1c$var$useMenuContentContext($6cc32821e9371a1c$var$ITEM_NAME,cr),pr=$6cc32821e9371a1c$var$useRovingFocusGroupScope(cr),mr=reactExports.useRef(null),gr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,mr),[vr,hr]=reactExports.useState(!1),[$r,xr]=reactExports.useState("");return reactExports.useEffect(()=>{const br=mr.current;if(br){var Er;xr(((Er=br.textContent)!==null&&Er!==void 0?Er:"").trim())}},[fr.children]),reactExports.createElement($6cc32821e9371a1c$var$Collection.ItemSlot,{scope:cr,disabled:lr,textValue:ur??$r},reactExports.createElement($d7bdfb9eb0fdf311$export$6d08773d2e66f8f2,_extends$2({asChild:!0},pr,{focusable:!lr}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({role:"menuitem","data-highlighted":vr?"":void 0,"aria-disabled":lr||void 0,"data-disabled":lr?"":void 0},fr,{ref:gr,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerMove,$6cc32821e9371a1c$var$whenMouse(br=>{lr?dr.onItemLeave(br):(dr.onItemEnter(br),br.defaultPrevented||br.currentTarget.focus())})),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerLeave,$6cc32821e9371a1c$var$whenMouse(br=>dr.onItemLeave(br))),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocus,()=>hr(!0)),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onBlur,()=>hr(!1))}))))}),$6cc32821e9371a1c$var$RADIO_GROUP_NAME="MenuRadioGroup";$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$RADIO_GROUP_NAME,{value:void 0,onValueChange:()=>{}});const $6cc32821e9371a1c$var$ITEM_INDICATOR_NAME="MenuItemIndicator";$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$ITEM_INDICATOR_NAME,{checked:!1});const $6cc32821e9371a1c$var$SUB_NAME="MenuSub";$6cc32821e9371a1c$var$createMenuContext($6cc32821e9371a1c$var$SUB_NAME);function $6cc32821e9371a1c$var$getOpenState(or){return or?"open":"closed"}function $6cc32821e9371a1c$var$focusFirst(or){const ar=document.activeElement;for(const cr of or)if(cr===ar||(cr.focus(),document.activeElement!==ar))return}function $6cc32821e9371a1c$var$wrapArray(or,ar){return or.map((cr,lr)=>or[(ar+lr)%or.length])}function $6cc32821e9371a1c$var$getNextMatch(or,ar,cr){const ur=ar.length>1&&Array.from(ar).every(gr=>gr===ar[0])?ar[0]:ar,fr=cr?or.indexOf(cr):-1;let dr=$6cc32821e9371a1c$var$wrapArray(or,Math.max(fr,0));ur.length===1&&(dr=dr.filter(gr=>gr!==cr));const mr=dr.find(gr=>gr.toLowerCase().startsWith(ur.toLowerCase()));return mr!==cr?mr:void 0}function $6cc32821e9371a1c$var$isPointInPolygon(or,ar){const{x:cr,y:lr}=or;let ur=!1;for(let fr=0,dr=ar.length-1;fr<ar.length;dr=fr++){const pr=ar[fr].x,mr=ar[fr].y,gr=ar[dr].x,vr=ar[dr].y;mr>lr!=vr>lr&&cr<(gr-pr)*(lr-mr)/(vr-mr)+pr&&(ur=!ur)}return ur}function $6cc32821e9371a1c$var$isPointerInGraceArea(or,ar){if(!ar)return!1;const cr={x:or.clientX,y:or.clientY};return $6cc32821e9371a1c$var$isPointInPolygon(cr,ar)}function $6cc32821e9371a1c$var$whenMouse(or){return ar=>ar.pointerType==="mouse"?or(ar):void 0}const $6cc32821e9371a1c$export$be92b6f5f03c0fe9=$6cc32821e9371a1c$export$d9b273488cd8ce6f,$6cc32821e9371a1c$export$b688253958b8dfe7=$6cc32821e9371a1c$export$9fa5ebd18bee4d43,$6cc32821e9371a1c$export$602eac185826482c=$6cc32821e9371a1c$export$793392f970497feb,$6cc32821e9371a1c$export$7c6e2c02157bb7d2=$6cc32821e9371a1c$export$479f0f2f71193efe,$6cc32821e9371a1c$export$6d08773d2e66f8f2=$6cc32821e9371a1c$export$2ce376c2cc3355c8,$d08ef79370b62062$var$DROPDOWN_MENU_NAME="DropdownMenu",[$d08ef79370b62062$var$createDropdownMenuContext,$d08ef79370b62062$export$c0623cd925aeb687]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($d08ef79370b62062$var$DROPDOWN_MENU_NAME,[$6cc32821e9371a1c$export$4027731b685e72eb]),$d08ef79370b62062$var$useMenuScope=$6cc32821e9371a1c$export$4027731b685e72eb(),[$d08ef79370b62062$var$DropdownMenuProvider,$d08ef79370b62062$var$useDropdownMenuContext]=$d08ef79370b62062$var$createDropdownMenuContext($d08ef79370b62062$var$DROPDOWN_MENU_NAME),$d08ef79370b62062$export$e44a253a59704894=or=>{const{__scopeDropdownMenu:ar,children:cr,dir:lr,open:ur,defaultOpen:fr,onOpenChange:dr,modal:pr=!0}=or,mr=$d08ef79370b62062$var$useMenuScope(ar),gr=reactExports.useRef(null),[vr=!1,hr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:ur,defaultProp:fr,onChange:dr});return reactExports.createElement($d08ef79370b62062$var$DropdownMenuProvider,{scope:ar,triggerId:$1746a345f3d73bb7$export$f680877a34711e37(),triggerRef:gr,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),open:vr,onOpenChange:hr,onOpenToggle:reactExports.useCallback(()=>hr($r=>!$r),[hr]),modal:pr},reactExports.createElement($6cc32821e9371a1c$export$be92b6f5f03c0fe9,_extends$2({},mr,{open:vr,onOpenChange:hr,dir:lr,modal:pr}),cr))},$d08ef79370b62062$var$TRIGGER_NAME="DropdownMenuTrigger",$d08ef79370b62062$export$d2469213b3befba9=reactExports.forwardRef((or,ar)=>{const{__scopeDropdownMenu:cr,disabled:lr=!1,...ur}=or,fr=$d08ef79370b62062$var$useDropdownMenuContext($d08ef79370b62062$var$TRIGGER_NAME,cr),dr=$d08ef79370b62062$var$useMenuScope(cr);return reactExports.createElement($6cc32821e9371a1c$export$b688253958b8dfe7,_extends$2({asChild:!0},dr),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button",id:fr.triggerId,"aria-haspopup":"menu","aria-expanded":fr.open,"aria-controls":fr.open?fr.contentId:void 0,"data-state":fr.open?"open":"closed","data-disabled":lr?"":void 0,disabled:lr},ur,{ref:$6ed0406888f73fc4$export$43e446d32b3d21af(ar,fr.triggerRef),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDown,pr=>{!lr&&pr.button===0&&pr.ctrlKey===!1&&(fr.onOpenToggle(),fr.open||pr.preventDefault())}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onKeyDown,pr=>{lr||(["Enter"," "].includes(pr.key)&&fr.onOpenToggle(),pr.key==="ArrowDown"&&fr.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(pr.key)&&pr.preventDefault())})})))}),$d08ef79370b62062$export$cd369b4d4d54efc9=or=>{const{__scopeDropdownMenu:ar,...cr}=or,lr=$d08ef79370b62062$var$useMenuScope(ar);return reactExports.createElement($6cc32821e9371a1c$export$602eac185826482c,_extends$2({},lr,cr))},$d08ef79370b62062$var$CONTENT_NAME="DropdownMenuContent",$d08ef79370b62062$export$6e76d93a37c01248=reactExports.forwardRef((or,ar)=>{const{__scopeDropdownMenu:cr,...lr}=or,ur=$d08ef79370b62062$var$useDropdownMenuContext($d08ef79370b62062$var$CONTENT_NAME,cr),fr=$d08ef79370b62062$var$useMenuScope(cr),dr=reactExports.useRef(!1);return reactExports.createElement($6cc32821e9371a1c$export$7c6e2c02157bb7d2,_extends$2({id:ur.contentId,"aria-labelledby":ur.triggerId},fr,lr,{ref:ar,onCloseAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onCloseAutoFocus,pr=>{var mr;dr.current||(mr=ur.triggerRef.current)===null||mr===void 0||mr.focus(),dr.current=!1,pr.preventDefault()}),onInteractOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onInteractOutside,pr=>{const mr=pr.detail.originalEvent,gr=mr.button===0&&mr.ctrlKey===!0,vr=mr.button===2||gr;(!ur.modal||vr)&&(dr.current=!0)}),style:{...or.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),$d08ef79370b62062$export$ed97964d1871885d=reactExports.forwardRef((or,ar)=>{const{__scopeDropdownMenu:cr,...lr}=or,ur=$d08ef79370b62062$var$useMenuScope(cr);return reactExports.createElement($6cc32821e9371a1c$export$6d08773d2e66f8f2,_extends$2({},ur,lr,{ref:ar}))}),$d08ef79370b62062$export$be92b6f5f03c0fe9=$d08ef79370b62062$export$e44a253a59704894,$d08ef79370b62062$export$41fb9f06171c75f4=$d08ef79370b62062$export$d2469213b3befba9,$d08ef79370b62062$export$602eac185826482c=$d08ef79370b62062$export$cd369b4d4d54efc9,$d08ef79370b62062$export$7c6e2c02157bb7d2=$d08ef79370b62062$export$6e76d93a37c01248,$d08ef79370b62062$export$6d08773d2e66f8f2=$d08ef79370b62062$export$ed97964d1871885d;function useEventListener(or,ar,cr=window,lr){const ur=reactExports.useRef(),{capture:fr,passive:dr,once:pr}=lr||{};reactExports.useEffect(()=>{ur.current=ar},[ar]),reactExports.useEffect(()=>{if(!(cr&&cr.addEventListener))return;const gr=hr=>{ur.current&&ur.current(hr)},vr={capture:fr,passive:dr,once:pr};return cr.addEventListener(or,gr,vr),()=>{cr.removeEventListener(or,gr)}},[or,cr,fr,dr,pr])}function useClickCoordinates(){const[or,ar]=reactExports.useState({x:0,y:0}),cr=reactExports.useCallback(({clientX:lr,clientY:ur})=>{ar({x:lr,y:ur})},[ar]);return useEventListener("mouseup",cr),useEventListener("touchend",cr),or}const menuContext=reactExports.createContext({item:{name:"unknown",image:""},index:-1,displayIndex:-1}),QspMenu=({attrs:or,showAs:ar,showAt:cr,offsetX:lr,offsetY:ur,children:fr})=>{const[dr,pr,mr]=useAttributes(or,"qsp-menu"),gr=useAtom_2(menu$),vr=useClickCoordinates(),hr={position:"fixed"},$r=useFadeTransition(gr.isOpen);let xr="start",br="bottom";if(ar==="fixed"){const[Er,wr]=(cr??"left top").split(" ");switch(Er){case"left":hr.left=lr;break;case"center":hr.left=`calc(50% - ${lr}px)`,xr="center";break;case"right":hr.right=lr,xr="end";break}switch(wr){case"top":hr.top=ur;break;case"center":hr.top=`calc(50% - ${ur}px)`,br="left";break;case"bottom":hr.bottom=ur,br="top";break}}else hr.left=vr.x??0,hr.top=vr.y??0;return jsxRuntimeExports.jsxs($d08ef79370b62062$export$be92b6f5f03c0fe9,{open:gr.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx($d08ef79370b62062$export$41fb9f06171c75f4,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:hr})}),$r((Er,wr)=>wr?jsxRuntimeExports.jsx($d08ef79370b62062$export$602eac185826482c,{container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx($d08ef79370b62062$export$7c6e2c02157bb7d2,{forceMount:!0,asChild:!0,align:xr,side:br,loop:!0,children:jsxRuntimeExports.jsx(animated.div,{style:Er,children:jsxRuntimeExports.jsx(dr,{style:pr,...mr,children:fr})})})}):null)]})},QspMenuList=({attrs:or,children:ar})=>{const cr=useAtom_2(menu$),[lr,ur,fr]=useAttributes(or,"qsp-menu-list");let dr=1;return jsxRuntimeExports.jsx(lr,{style:ur,...fr,children:cr.items.map((pr,mr)=>pr.name==="-"?jsxRuntimeExports.jsx("qsp-menu-separator",{},mr):jsxRuntimeExports.jsx(menuContext.Provider,{value:{item:pr,index:mr,displayIndex:dr++},children:React$1.Children.map(ar,gr=>React$1.cloneElement(gr))},mr))})},QspMenuItem=({attrs:or,children:ar})=>{const[cr,lr]=reactExports.useState(!1),[ur,fr,{useFormat:dr,...pr}]=useAttributes(or,"qsp-menu-item"),{item:mr,index:gr}=reactExports.useContext(menuContext),vr={...fr,"--menu-item-image":mr.image?`url("${mr.image}")`:""},hr=()=>{lr(!0)},$r=()=>{lr(!1)},xr=br=>{br.preventDefault(),menu$.actions.select(gr)};return jsxRuntimeExports.jsx($d08ef79370b62062$export$6d08773d2e66f8f2,{asChild:!0,children:jsxRuntimeExports.jsx(ur,{...pr,style:vr,"data-qsp-selected":cr?"":null,onClick:xr,onMouseOver:hr,onMouseLeave:$r,children:ar})})},QspMenuItemName=({attrs:or})=>{const{item:ar}=reactExports.useContext(menuContext),[cr,lr,ur]=useAttributes(or,"qsp-menu-name");return jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:jsxRuntimeExports.jsx(ContentRenderer,{content:ar.name})})},QspMenuItemImage=({attrs:or})=>{const{item:ar}=reactExports.useContext(menuContext),[,cr,lr]=useAttributes(or,"img","qsp-menu-image");return ar.image?jsxRuntimeExports.jsx("img",{alt:"",...lr,style:cr,src:ar.image}):null},QspMenuItemIndex=({attrs:or})=>{const{displayIndex:ar}=reactExports.useContext(menuContext),[cr,lr,ur]=useAttributes(or,"qsp-menu-index");return jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:ar})},QspMsg=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-msg"),fr=useAtom_2(msg$),dr=useFadeTransition(fr.isOpen);function pr(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:pr,cancelAction:pr},children:jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{open:fr.isOpen,onOpenChange:pr,children:dr((mr,gr)=>gr?jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{className:"qsp-overlay"}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:mr,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:ar})})})]}):null)})})},QspMsgContent=({attrs:or})=>{const ar=useAtom_2(msg$),[cr,lr,{useFormat:ur,...fr}]=useAttributes(or,"qsp-msg-content");return jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$393edc798c47379d,{asChild:!0,children:jsxRuntimeExports.jsx(cr,{style:lr,...fr,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:ar.content})})})})},objectContext=reactExports.createContext({object:{name:"unknown",image:""},index:-1}),QspObjects=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-objects");return useAtom_2(isObjsVisible$)?jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:ar}):null},QspObjectsList=({attrs:or,children:ar})=>{const cr=useAtom_2(objects$),[lr,ur,fr]=useAttributes(or,"qsp-objects-list");return jsxRuntimeExports.jsx(lr,{style:ur,...fr,children:cr.map((dr,pr)=>jsxRuntimeExports.jsx(objectContext.Provider,{value:{object:dr,index:pr},children:React$1.Children.map(ar,mr=>React$1.cloneElement(mr))},pr))})},QspObjectItem=({attrs:or,children:ar})=>{const[cr,lr]=reactExports.useState(!1),[ur,fr,{useFormat:dr,...pr}]=useAttributes(or,"qsp-object"),{object:mr,index:gr}=reactExports.useContext(objectContext),vr={...fr,"--object-image":mr.image?`url("${mr.image}")`:""},hr=()=>{lr(!0)},$r=()=>{lr(!1)},xr=()=>{selectObject(gr)};return jsxRuntimeExports.jsx(ur,{...pr,style:vr,"data-qsp-selected":cr?"":null,onClick:xr,onMouseOver:hr,onMouseLeave:$r,children:ar})},QspObjectName=({attrs:or})=>{const[ar,cr,lr]=useAttributes(or,"qsp-object-name"),{object:ur}=reactExports.useContext(objectContext);return jsxRuntimeExports.jsx(ar,{...lr,style:cr,children:jsxRuntimeExports.jsx(ContentRenderer,{content:ur.name})})},QspObjectImage=({attrs:or})=>{const{object:ar}=reactExports.useContext(objectContext),[cr,lr,ur]=useAttributes(or,"img","qsp-object-image");return ar.image?jsxRuntimeExports.jsx(cr,{...ur,style:lr,src:ar.image}):null},QspObjectIndex=({attrs:or})=>{const{index:ar}=reactExports.useContext(objectContext),[cr,lr,ur]=useAttributes(or,"qsp-object-index");return jsxRuntimeExports.jsx(cr,{...ur,style:lr,children:ar+1})},QspPauseScreen=({attrs:or,children:ar})=>{const cr=useAtom_2(isPauseScreenVisible$),lr=useAtom_2(currentGameEntry$),[ur,fr,dr]=useAttributes(or,"qsp-pause-screen"),pr=useFadeTransition(cr);return jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{modal:!0,open:cr,onOpenChange:mr=>isPauseScreenVisible$.set(mr),children:pr((mr,gr)=>gr?jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{className:"qsp-overlay"}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{className:"qsp-dialog-container",style:mr,children:jsxRuntimeExports.jsxs("div",{className:"qsp-pause-dialog",children:[jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$f99233281efd08a0,{children:(lr==null?void 0:lr.title)||"Pause"}),jsxRuntimeExports.jsx(ur,{style:fr,...dr,children:ar})]})})})]}):null)})},QspPauseScreenContent=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-pause-screen-content"),fr=useAtom_2(requestedAction$);return jsxRuntimeExports.jsx(cr,{style:lr,...ur,"data-requested-save-action":fr,children:ar})},slotContentContext=reactExports.createContext({index:-1}),baseSlots$=create(or=>Array.from({length:or(saveSlotsCount$)},(ar,cr)=>cr+1)),QspSlotsList=({attrs:or,children:ar})=>{const cr=useAtom_2(baseSlots$),lr=useAtom_2(saveSlots$),[ur,fr,dr]=useAttributes(or,"qsp-slots-list");return jsxRuntimeExports.jsx(ur,{style:fr,...dr,children:cr.map(pr=>{const mr=lr.find(gr=>gr.slot===pr);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:pr,date:mr==null?void 0:mr.timestamp},children:React$1.Children.map(ar,gr=>React$1.cloneElement(gr))},pr)})})},QspSlot=({attrs:or,children:ar})=>{const{index:cr,date:lr}=reactExports.useContext(slotContentContext),[ur,fr,dr]=useAttributes(or,"qsp-save-slot"),pr={...fr,"--slot-index":`${cr}`};return jsxRuntimeExports.jsx(ur,{...dr,style:pr,"data-qsp-save":!0,"data-qsp-save-index":cr,"data-save-empty":lr?null:"",children:ar})},QspSlotIndex=({attrs:or})=>{const{index:ar}=reactExports.useContext(slotContentContext),[cr,lr,ur]=useAttributes(or,"qsp-slot-index");return jsxRuntimeExports.jsx(cr,{...ur,style:lr,children:ar})},QspSlotDate=({children:or,attrs:ar})=>{const{date:cr}=reactExports.useContext(slotContentContext),[lr,ur,fr]=useAttributes(ar,"qsp-slot-date");return cr?jsxRuntimeExports.jsx(lr,{...fr,style:ur,children:formatDate(new Date(cr))}):jsxRuntimeExports.jsx(lr,{...fr,style:ur,children:or})},QspPauseScreenPanel=({name:or,attrs:ar,children:cr})=>{const[lr,ur,fr]=useAttributes(ar,"qsp-pause-screen-panel");return useAtom_2(pauseScreenCurrentPanel$)===or?jsxRuntimeExports.jsx(lr,{style:ur,...fr,children:cr}):null},QspStats=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-stats"),fr=useAtom_2(isStatsVisible$),dr=useAtom_2(statsContent$),pr=usePrevious(dr),mr=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{mr||(pr&&dr!==pr&&dr.startsWith(pr)?statsScroll$.update(gr=>Math.max(gr,0)+1):statsScroll$.set(-1))},[pr,dr]),fr?jsxRuntimeExports.jsx(scrollContext.Provider,{value:statsScroll$,children:jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:ar})}):null},QspStatsContent=({attrs:or})=>{const[ar,cr,{useFormat:lr,...ur}]=useAttributes(or,"qsp-stats-content"),fr=useAtom_2(statsContent$);return jsxRuntimeExports.jsx(ar,{style:cr,...ur,children:jsxRuntimeExports.jsx(ContentRenderer,{content:fr})})},QspView=({attrs:or,modal:ar,children:cr})=>{const[lr,ur,fr]=useAttributes(or,"qsp-view"),dr=useAtom_2(view$),pr={...ur,"--view-image":`url("${dr.path}")`};return ar?jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{open:dr.isOpen,onOpenChange:()=>view$.actions.close(),children:jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{className:"qsp-overlay"}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(lr,{...fr,style:pr,children:cr})})]})}):jsxRuntimeExports.jsx(lr,{...fr,style:pr,children:cr})},QspViewImage=({attrs:or})=>{const[,ar,cr]=useAttributes(or,"img","qsp-view-image"),lr=useAtom_2(view$);return lr.path?jsxRuntimeExports.jsx("img",{src:lr.path,alt:"",style:ar,...cr}):null},Link=({exec:or,act:ar,children:cr,attrs:lr})=>{const ur=reactExports.useCallback(pr=>{pr.preventDefault(),pr.stopPropagation(),or?execCode(or):ar&&(selectAction(ar-1),execSelectedAction())},[or,ar]),[,fr,dr]=useAttributes(lr,"a");return jsxRuntimeExports.jsx("a",{...dr,style:fr,href:"#",onClick:ur,children:cr})},HtmlLink=({children:or,attrs:ar})=>{const[,cr,{href:lr,...ur}]=useAttributes(ar,"a"),fr=dr=>{if(ur.onClick)return ur.onClick(dr);lr.startsWith("#")&&(dr.preventDefault(),lr!=="#"&&(window.location.hash=lr))};return jsxRuntimeExports.jsx("a",{...ur,style:cr,href:lr,onClick:fr,children:or})},voidTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],TAGS_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},Element$1=({attrs:or={},children:ar=null,tagName:cr})=>{const lr=cr in TAGS_MAP?TAGS_MAP[cr]:cr,[ur,fr,dr]=useAttributes(or,lr);return voidTags.includes(cr)?jsxRuntimeExports.jsx(ur,{style:fr,...dr}):jsxRuntimeExports.jsx(ur,{style:fr,...dr,children:ar})},QspT=({children:or})=>{const[ar]=useTranslation();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ar(or)})},QspMain=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-main"),fr=useAtom_2(mainContent$),dr=useAtom_2(isNewLoc$),pr=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{pr||mainScroll$.update(mr=>dr?-1:Math.max(mr,0)+1)},[dr,fr]),jsxRuntimeExports.jsx(scrollContext.Provider,{value:mainScroll$,children:jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:ar})})},QspMainContent=({attrs:or})=>{const ar=useAtom_2(mainContent$),cr=useAtom_2(newLocHash$),[lr,ur,{useFormat:fr,...dr}]=useAttributes(or,"qsp-main-content");return reactExports.useEffect(()=>{mainContent$.set(nextMainContent$.value)},[cr]),jsxRuntimeExports.jsx(lr,{style:ur,...dr,children:jsxRuntimeExports.jsx(ContentRenderer,{content:ar})})};function useQspBind(or,ar,cr){return[useQspVariable(or,ar,cr,""),fr=>{var hr;const pr=fr.target.type==="checkbox"?fr.target.checked?fr.target.value:"":fr.target.value,mr=[or];(ar||cr)&&(mr.push("["),ar?mr.push(`"${ar}"`):mr.push(String(cr)),mr.push("]"));const gr=mr.join(""),vr=gr.startsWith("$")?`"${pr}"`:pr||0;(hr=qspApi$.value)==null||hr.execCode(`${gr} = ${vr}`)}]}const QspBoundSelect=({attributes:or,style:ar,bind:cr,bindKey:lr,bindIndex:ur,children:fr})=>{const[dr,pr]=useQspBind(cr,lr,ur);return jsxRuntimeExports.jsx("select",{...or,style:ar,value:dr,onChange:pr,children:fr})},HtmlSelect=({attrs:or,children:ar})=>{const[,cr,{value:lr,qspBind:ur,qspBindKey:fr,qspBindIndex:dr,...pr}]=useAttributes(or,"select");if(ur){const mr=parseInt(dr||"0",10);return jsxRuntimeExports.jsx(QspBoundSelect,{attributes:pr,style:cr,bind:ur,bindKey:fr,bindIndex:mr,children:ar})}return jsxRuntimeExports.jsx("select",{...pr,style:cr,defaultValue:lr,children:ar})},QspBoundTextarea=({attributes:or,style:ar,bind:cr,bindKey:lr,bindIndex:ur})=>{const[fr,dr]=useQspBind(cr,lr,ur);return jsxRuntimeExports.jsx("textarea",{...or,style:ar,value:fr,onChange:dr})},HtmlTextarea=({attrs:or})=>{const[,ar,{value:cr,qspBind:lr,qspBindKey:ur,qspBindIndex:fr,...dr}]=useAttributes(or,"textarea");if(lr){const pr=parseInt(fr||"0",10);return jsxRuntimeExports.jsx(QspBoundTextarea,{attributes:dr,style:ar,bind:lr,bindKey:ur,bindIndex:pr})}return jsxRuntimeExports.jsx("textarea",{...dr,style:ar,defaultValue:cr})},QspBoundInput=({attributes:or,style:ar,bind:cr,bindKey:lr,bindIndex:ur,value:fr})=>{const[dr,pr]=useQspBind(cr,lr,ur),mr=or.type||"text";return mr==="radio"?jsxRuntimeExports.jsx("input",{...or,style:ar,type:"radio",value:fr,checked:dr===fr,onChange:pr}):mr==="checkbox"?jsxRuntimeExports.jsx("input",{...or,style:ar,type:"checkbox",value:fr,checked:!!dr,onChange:pr}):jsxRuntimeExports.jsx("input",{...or,style:ar,value:dr,onChange:pr})},HtmlInput=({attrs:or})=>{const[,ar,{value:cr,qspBind:lr,qspBindKey:ur,qspBindIndex:fr,...dr}]=useAttributes(or,"input");if(lr){const pr=parseInt(fr||"0",10);return jsxRuntimeExports.jsx(QspBoundInput,{attributes:dr,style:ar,bind:lr,bindKey:ur,bindIndex:pr,value:cr})}return jsxRuntimeExports.jsx("input",{...dr,style:ar,defaultValue:cr})},HtmlForm=({attrs:or,children:ar})=>{const[,cr,lr]=useAttributes(or,"form"),ur=lr["qspOn:submit"];delete lr["qspOn:submit"];function fr(dr){var pr;dr.preventDefault(),ur!=null&&ur.toLowerCase().startsWith("exec:")&&((pr=qspApi$.value)==null||pr.execCode(ur.substring(5)))}return jsxRuntimeExports.jsx("form",{...lr,style:cr,onSubmit:fr,children:ar})},HtmlImg=({attrs:or,src:ar})=>{const[,cr,lr]=useAttributes(or,"img");return jsxRuntimeExports.jsx("img",{src:ar.replace("\\","/"),alt:"",style:cr,...lr})},QspLayer=or=>{const ar=useSetup(dr=>{const pr=create(mr=>mr(dr).name);return create(mr=>mr(layers$)[mr(pr)])},or),cr=useAtom_2(ar),[lr,ur,fr]=useAttributes(or.attrs,"qsp-layer");return reactExports.useEffect(()=>registerLayer(or.name),[]),cr?(ur.zIndex=or.index,jsxRuntimeExports.jsx(lr,{...fr,style:ur,"data-layer-name":or.name,children:or.children})):null},QspRegion=or=>{const ar=useSetup(pr=>{const mr=create(gr=>gr(pr).name);return create(gr=>gr(regions$)[gr(mr)])},or),cr=useSetup(pr=>{const mr=create(gr=>gr(pr).name);return create(gr=>gr(regionsScroll$)[gr(mr)]??0)},or),lr=useAtom_2(ar),[ur,fr,dr]=useAttributes(or.attrs,"qsp-region");return or.scrollable?jsxRuntimeExports.jsx(scrollContext.Provider,{value:cr,children:jsxRuntimeExports.jsx(ur,{"data-region-name":or.name,style:fr,...dr,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:lr})})})}):jsxRuntimeExports.jsx(ur,{"data-region-name":or.name,style:fr,...dr,children:jsxRuntimeExports.jsx(ContentRenderer,{content:lr})})},QspShow=({condition:or,children:ar})=>useQspExpression(or||"")?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ar}):null,QspStyle=({from:or})=>{const ar=useQspVariable(or,"",0,"");return ar?jsxRuntimeExports.jsx("style",{"data-qsp-from":or,children:ar}):null},QspVariable=({name:or,vkey:ar="",index:cr=0})=>{const lr=or.startsWith("$")?"":0,ur=useQspVariable(or,ar,cr,lr);return jsxRuntimeExports.jsx("qsp-variable",{"data-name":or,"data-key":ar||cr,children:ur})},namedSlotContentContext=reactExports.createContext({path:""}),QspNamedSlot=or=>{const{attrs:ar,children:cr,path:lr}=or,[ur,fr,dr]=useAttributes(ar,"qsp-save-slot"),pr=useSetup(gr=>{const vr=gr.focus(hr=>hr.path);return create(hr=>{const $r=hr(vr);return hr(namedSlots$).find(br=>br.key===$r)})},or),mr=useAtom_2(pr);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:-1,date:mr==null?void 0:mr.timestamp},children:jsxRuntimeExports.jsx(namedSlotContentContext.Provider,{value:{path:or.path},children:jsxRuntimeExports.jsx(ur,{...dr,style:fr,"data-qsp-save":!0,"data-qsp-save-path":lr,"data-save-empty":mr?null:"",children:cr})})})};function $010c2913dbd2fe3d$export$5cae361ad82dce8b(or){const ar=reactExports.useRef({value:or,previous:or});return reactExports.useMemo(()=>(ar.current.value!==or&&(ar.current.previous=ar.current.value,ar.current.value=or),ar.current.previous),[or])}const $faa2e61a3361514f$var$PAGE_KEYS=["PageUp","PageDown"],$faa2e61a3361514f$var$ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$faa2e61a3361514f$var$BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$faa2e61a3361514f$var$SLIDER_NAME="Slider",[$faa2e61a3361514f$var$Collection,$faa2e61a3361514f$var$useCollection,$faa2e61a3361514f$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($faa2e61a3361514f$var$SLIDER_NAME),[$faa2e61a3361514f$var$createSliderContext,$faa2e61a3361514f$export$ef72632d7b901f97]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($faa2e61a3361514f$var$SLIDER_NAME,[$faa2e61a3361514f$var$createCollectionScope]),[$faa2e61a3361514f$var$SliderProvider,$faa2e61a3361514f$var$useSliderContext]=$faa2e61a3361514f$var$createSliderContext($faa2e61a3361514f$var$SLIDER_NAME),$faa2e61a3361514f$export$472062a354075cee=reactExports.forwardRef((or,ar)=>{const{name:cr,min:lr=0,max:ur=100,step:fr=1,orientation:dr="horizontal",disabled:pr=!1,minStepsBetweenThumbs:mr=0,defaultValue:gr=[lr],value:vr,onValueChange:hr=()=>{},onValueCommit:$r=()=>{},inverted:xr=!1,...br}=or,[Er,wr]=reactExports.useState(null),yr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Ir=>wr(Ir)),_r=reactExports.useRef(new Set),Sr=reactExports.useRef(0),Pr=dr==="horizontal",Or=Er?!!Er.closest("form"):!0,Lr=Pr?$faa2e61a3361514f$var$SliderHorizontal:$faa2e61a3361514f$var$SliderVertical,[Tr=[],jr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:vr,defaultProp:gr,onChange:Ir=>{var Kr;(Kr=[..._r.current][Sr.current])===null||Kr===void 0||Kr.focus(),hr(Ir)}}),Rr=reactExports.useRef(Tr);function Fr(Ir){const Kr=$faa2e61a3361514f$var$getClosestValueIndex(Tr,Ir);so(Ir,Kr)}function Vr(Ir){so(Ir,Sr.current)}function Zr(){const Ir=Rr.current[Sr.current];Tr[Sr.current]!==Ir&&$r(Tr)}function so(Ir,Kr,{commit:no}={commit:!1}){const eo=$faa2e61a3361514f$var$getDecimalCount(fr),Wr=$faa2e61a3361514f$var$roundValue(Math.round((Ir-lr)/fr)*fr+lr,eo),Ur=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(Wr,[lr,ur]);jr((ro=[])=>{const Gr=$faa2e61a3361514f$var$getNextSortedValues(ro,Ur,Kr);if($faa2e61a3361514f$var$hasMinStepsBetweenValues(Gr,mr*fr)){Sr.current=Gr.indexOf(Ur);const Qr=String(Gr)!==String(ro);return Qr&&no&&$r(Gr),Qr?Gr:ro}else return ro})}return reactExports.createElement($faa2e61a3361514f$var$SliderProvider,{scope:or.__scopeSlider,disabled:pr,min:lr,max:ur,valueIndexToChangeRef:Sr,thumbs:_r.current,values:Tr,orientation:dr},reactExports.createElement($faa2e61a3361514f$var$Collection.Provider,{scope:or.__scopeSlider},reactExports.createElement($faa2e61a3361514f$var$Collection.Slot,{scope:or.__scopeSlider},reactExports.createElement(Lr,_extends$2({"aria-disabled":pr,"data-disabled":pr?"":void 0},br,{ref:yr,onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(br.onPointerDown,()=>{pr||(Rr.current=Tr)}),min:lr,max:ur,inverted:xr,onSlideStart:pr?void 0:Fr,onSlideMove:pr?void 0:Vr,onSlideEnd:pr?void 0:Zr,onHomeKeyDown:()=>!pr&&so(lr,0,{commit:!0}),onEndKeyDown:()=>!pr&&so(ur,Tr.length-1,{commit:!0}),onStepKeyDown:({event:Ir,direction:Kr})=>{if(!pr){const Wr=$faa2e61a3361514f$var$PAGE_KEYS.includes(Ir.key)||Ir.shiftKey&&$faa2e61a3361514f$var$ARROW_KEYS.includes(Ir.key)?10:1,Ur=Sr.current,ro=Tr[Ur],Gr=fr*Wr*Kr;so(ro+Gr,Ur,{commit:!0})}}})))),Or&&Tr.map((Ir,Kr)=>reactExports.createElement($faa2e61a3361514f$var$BubbleInput,{key:Kr,name:cr?cr+(Tr.length>1?"[]":""):void 0,value:Ir})))}),[$faa2e61a3361514f$var$SliderOrientationProvider,$faa2e61a3361514f$var$useSliderOrientationContext]=$faa2e61a3361514f$var$createSliderContext($faa2e61a3361514f$var$SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),$faa2e61a3361514f$var$SliderHorizontal=reactExports.forwardRef((or,ar)=>{const{min:cr,max:lr,dir:ur,inverted:fr,onSlideStart:dr,onSlideMove:pr,onSlideEnd:mr,onStepKeyDown:gr,...vr}=or,[hr,$r]=reactExports.useState(null),xr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Sr=>$r(Sr)),br=reactExports.useRef(),Er=$f631663db3294ace$export$b39126d51d94e6f3(ur),wr=Er==="ltr",yr=wr&&!fr||!wr&&fr;function _r(Sr){const Pr=br.current||hr.getBoundingClientRect(),Or=[0,Pr.width],Tr=$faa2e61a3361514f$var$linearScale(Or,yr?[cr,lr]:[lr,cr]);return br.current=Pr,Tr(Sr-Pr.left)}return reactExports.createElement($faa2e61a3361514f$var$SliderOrientationProvider,{scope:or.__scopeSlider,startEdge:yr?"left":"right",endEdge:yr?"right":"left",direction:yr?1:-1,size:"width"},reactExports.createElement($faa2e61a3361514f$var$SliderImpl,_extends$2({dir:Er,"data-orientation":"horizontal"},vr,{ref:xr,style:{...vr.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:Sr=>{const Pr=_r(Sr.clientX);dr==null||dr(Pr)},onSlideMove:Sr=>{const Pr=_r(Sr.clientX);pr==null||pr(Pr)},onSlideEnd:()=>{br.current=void 0,mr==null||mr()},onStepKeyDown:Sr=>{const Or=$faa2e61a3361514f$var$BACK_KEYS[yr?"from-left":"from-right"].includes(Sr.key);gr==null||gr({event:Sr,direction:Or?-1:1})}})))}),$faa2e61a3361514f$var$SliderVertical=reactExports.forwardRef((or,ar)=>{const{min:cr,max:lr,inverted:ur,onSlideStart:fr,onSlideMove:dr,onSlideEnd:pr,onStepKeyDown:mr,...gr}=or,vr=reactExports.useRef(null),hr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,vr),$r=reactExports.useRef(),xr=!ur;function br(Er){const wr=$r.current||vr.current.getBoundingClientRect(),yr=[0,wr.height],Sr=$faa2e61a3361514f$var$linearScale(yr,xr?[lr,cr]:[cr,lr]);return $r.current=wr,Sr(Er-wr.top)}return reactExports.createElement($faa2e61a3361514f$var$SliderOrientationProvider,{scope:or.__scopeSlider,startEdge:xr?"bottom":"top",endEdge:xr?"top":"bottom",size:"height",direction:xr?1:-1},reactExports.createElement($faa2e61a3361514f$var$SliderImpl,_extends$2({"data-orientation":"vertical"},gr,{ref:hr,style:{...gr.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:Er=>{const wr=br(Er.clientY);fr==null||fr(wr)},onSlideMove:Er=>{const wr=br(Er.clientY);dr==null||dr(wr)},onSlideEnd:()=>{$r.current=void 0,pr==null||pr()},onStepKeyDown:Er=>{const yr=$faa2e61a3361514f$var$BACK_KEYS[xr?"from-bottom":"from-top"].includes(Er.key);mr==null||mr({event:Er,direction:yr?-1:1})}})))}),$faa2e61a3361514f$var$SliderImpl=reactExports.forwardRef((or,ar)=>{const{__scopeSlider:cr,onSlideStart:lr,onSlideMove:ur,onSlideEnd:fr,onHomeKeyDown:dr,onEndKeyDown:pr,onStepKeyDown:mr,...gr}=or,vr=$faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$SLIDER_NAME,cr);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({},gr,{ref:ar,onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onKeyDown,hr=>{hr.key==="Home"?(dr(hr),hr.preventDefault()):hr.key==="End"?(pr(hr),hr.preventDefault()):$faa2e61a3361514f$var$PAGE_KEYS.concat($faa2e61a3361514f$var$ARROW_KEYS).includes(hr.key)&&(mr(hr),hr.preventDefault())}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDown,hr=>{const $r=hr.target;$r.setPointerCapture(hr.pointerId),hr.preventDefault(),vr.thumbs.has($r)?$r.focus():lr(hr)}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerMove,hr=>{hr.target.hasPointerCapture(hr.pointerId)&&ur(hr)}),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerUp,hr=>{const $r=hr.target;$r.hasPointerCapture(hr.pointerId)&&($r.releasePointerCapture(hr.pointerId),fr(hr))})}))}),$faa2e61a3361514f$var$TRACK_NAME="SliderTrack",$faa2e61a3361514f$export$105594979f116971=reactExports.forwardRef((or,ar)=>{const{__scopeSlider:cr,...lr}=or,ur=$faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$TRACK_NAME,cr);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({"data-disabled":ur.disabled?"":void 0,"data-orientation":ur.orientation},lr,{ref:ar}))}),$faa2e61a3361514f$var$RANGE_NAME="SliderRange",$faa2e61a3361514f$export$a5cf38a7a000fe77=reactExports.forwardRef((or,ar)=>{const{__scopeSlider:cr,...lr}=or,ur=$faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$RANGE_NAME,cr),fr=$faa2e61a3361514f$var$useSliderOrientationContext($faa2e61a3361514f$var$RANGE_NAME,cr),dr=reactExports.useRef(null),pr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,dr),mr=ur.values.length,gr=ur.values.map($r=>$faa2e61a3361514f$var$convertValueToPercentage($r,ur.min,ur.max)),vr=mr>1?Math.min(...gr):0,hr=100-Math.max(...gr);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({"data-orientation":ur.orientation,"data-disabled":ur.disabled?"":void 0},lr,{ref:pr,style:{...or.style,[fr.startEdge]:vr+"%",[fr.endEdge]:hr+"%"}}))}),$faa2e61a3361514f$var$THUMB_NAME="SliderThumb",$faa2e61a3361514f$export$2c1b491743890dec=reactExports.forwardRef((or,ar)=>{const cr=$faa2e61a3361514f$var$useCollection(or.__scopeSlider),[lr,ur]=reactExports.useState(null),fr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,pr=>ur(pr)),dr=reactExports.useMemo(()=>lr?cr().findIndex(pr=>pr.ref.current===lr):-1,[cr,lr]);return reactExports.createElement($faa2e61a3361514f$var$SliderThumbImpl,_extends$2({},or,{ref:fr,index:dr}))}),$faa2e61a3361514f$var$SliderThumbImpl=reactExports.forwardRef((or,ar)=>{const{__scopeSlider:cr,index:lr,...ur}=or,fr=$faa2e61a3361514f$var$useSliderContext($faa2e61a3361514f$var$THUMB_NAME,cr),dr=$faa2e61a3361514f$var$useSliderOrientationContext($faa2e61a3361514f$var$THUMB_NAME,cr),[pr,mr]=reactExports.useState(null),gr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,wr=>mr(wr)),vr=$db6c3485150b8e66$export$1ab7ae714698c4b8(pr),hr=fr.values[lr],$r=hr===void 0?0:$faa2e61a3361514f$var$convertValueToPercentage(hr,fr.min,fr.max),xr=$faa2e61a3361514f$var$getLabel(lr,fr.values.length),br=vr==null?void 0:vr[dr.size],Er=br?$faa2e61a3361514f$var$getThumbInBoundsOffset(br,$r,dr.direction):0;return reactExports.useEffect(()=>{if(pr)return fr.thumbs.add(pr),()=>{fr.thumbs.delete(pr)}},[pr,fr.thumbs]),reactExports.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[dr.startEdge]:`calc(${$r}% + ${Er}px)`}},reactExports.createElement($faa2e61a3361514f$var$Collection.ItemSlot,{scope:or.__scopeSlider},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({role:"slider","aria-label":or["aria-label"]||xr,"aria-valuemin":fr.min,"aria-valuenow":hr,"aria-valuemax":fr.max,"aria-orientation":fr.orientation,"data-orientation":fr.orientation,"data-disabled":fr.disabled?"":void 0,tabIndex:fr.disabled?void 0:0},ur,{ref:gr,style:hr===void 0?{display:"none"}:or.style,onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocus,()=>{fr.valueIndexToChangeRef.current=lr})}))))}),$faa2e61a3361514f$var$BubbleInput=or=>{const{value:ar,...cr}=or,lr=reactExports.useRef(null),ur=$010c2913dbd2fe3d$export$5cae361ad82dce8b(ar);return reactExports.useEffect(()=>{const fr=lr.current,dr=window.HTMLInputElement.prototype,mr=Object.getOwnPropertyDescriptor(dr,"value").set;if(ur!==ar&&mr){const gr=new Event("input",{bubbles:!0});mr.call(fr,ar),fr.dispatchEvent(gr)}},[ur,ar]),reactExports.createElement("input",_extends$2({style:{display:"none"}},cr,{ref:lr,defaultValue:ar}))};function $faa2e61a3361514f$var$getNextSortedValues(or=[],ar,cr){const lr=[...or];return lr[cr]=ar,lr.sort((ur,fr)=>ur-fr)}function $faa2e61a3361514f$var$convertValueToPercentage(or,ar,cr){const fr=100/(cr-ar)*(or-ar);return $ae6933e535247d3d$export$7d15b64cf5a3a4c4(fr,[0,100])}function $faa2e61a3361514f$var$getLabel(or,ar){return ar>2?`Value ${or+1} of ${ar}`:ar===2?["Minimum","Maximum"][or]:void 0}function $faa2e61a3361514f$var$getClosestValueIndex(or,ar){if(or.length===1)return 0;const cr=or.map(ur=>Math.abs(ur-ar)),lr=Math.min(...cr);return cr.indexOf(lr)}function $faa2e61a3361514f$var$getThumbInBoundsOffset(or,ar,cr){const lr=or/2,fr=$faa2e61a3361514f$var$linearScale([0,50],[0,lr]);return(lr-fr(ar)*cr)*cr}function $faa2e61a3361514f$var$getStepsBetweenValues(or){return or.slice(0,-1).map((ar,cr)=>or[cr+1]-ar)}function $faa2e61a3361514f$var$hasMinStepsBetweenValues(or,ar){if(ar>0){const cr=$faa2e61a3361514f$var$getStepsBetweenValues(or);return Math.min(...cr)>=ar}return!0}function $faa2e61a3361514f$var$linearScale(or,ar){return cr=>{if(or[0]===or[1]||ar[0]===ar[1])return ar[0];const lr=(ar[1]-ar[0])/(or[1]-or[0]);return ar[0]+lr*(cr-or[0])}}function $faa2e61a3361514f$var$getDecimalCount(or){return(String(or).split(".")[1]||"").length}function $faa2e61a3361514f$var$roundValue(or,ar){const cr=Math.pow(10,ar);return Math.round(or*cr)/cr}const $faa2e61a3361514f$export$be92b6f5f03c0fe9=$faa2e61a3361514f$export$472062a354075cee,$faa2e61a3361514f$export$13921ac0cc260818=$faa2e61a3361514f$export$105594979f116971,$faa2e61a3361514f$export$9a58ef0d7ad3278c=$faa2e61a3361514f$export$a5cf38a7a000fe77,$faa2e61a3361514f$export$6521433ed15a34db=$faa2e61a3361514f$export$2c1b491743890dec,QspVolumeSlider=({attrs:or})=>{const ar=useAtom_2(volume$),[cr]=useTranslation(),[,lr,ur]=useAttributes(or,"span");return jsxRuntimeExports.jsxs($faa2e61a3361514f$export$be92b6f5f03c0fe9,{className:"qsp-volume-root",defaultValue:[ar],max:100,step:1,style:lr,...ur,onValueChange:([fr])=>volume$.set(fr),children:[jsxRuntimeExports.jsx($faa2e61a3361514f$export$13921ac0cc260818,{className:"qsp-volume-slider-track",children:jsxRuntimeExports.jsx($faa2e61a3361514f$export$9a58ef0d7ad3278c,{className:"qsp-volume-slider-range"})}),jsxRuntimeExports.jsx($faa2e61a3361514f$export$6521433ed15a34db,{className:"qsp-volume-slider-thumb","aria-label":cr("Volume")||void 0})]})},QspMuteToggle=({attrs:or})=>{const[ar]=useTranslation(),[cr,lr,ur]=useAttributes(or,"qsp-mute-toggle"),fr=useAtom_2(muted$);return jsxRuntimeExports.jsx(cr,{role:"button",style:lr,...ur,onClick:()=>muted$.update(dr=>!dr),children:ar(fr?"Unmute":"Mute")})},QspGlobalHotkeys=({attrs:or})=>{const[ar,cr,lr]=useAttributes(or,"qsp-global-hotkeys"),{t:ur}=useTranslation(),fr=useAtom_2(globalHotKeys$);return jsxRuntimeExports.jsx(ar,{style:cr,...lr,children:fr.map((dr,pr)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:ur(dr.description)}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:dr.keys})]},pr))})},QspGameHotkeys=({attrs:or})=>{const[ar,cr,lr]=useAttributes(or,"qsp-game-hotkeys"),ur=useAtom_2(currentGame$);if(!ur)return null;const{hotkeys:fr}=ur;return fr?(console.log(fr),jsxRuntimeExports.jsx(ar,{style:cr,...lr,children:Object.entries(fr).map(([dr,pr],mr)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:pr}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:dr})]},mr))})):null},QspLocaleSelect=({attrs:or})=>{const{i18n:ar}=useTranslation(),[,cr,lr]=useAttributes(or,"qsp-locale-select"),ur=fr=>{ar.changeLanguage(fr.target.value)};return jsxRuntimeExports.jsx("select",{value:ar.language,...lr,style:cr,onChange:ur,children:locales$1.map(fr=>jsxRuntimeExports.jsx("option",{value:fr.value,children:fr.label},fr.value))})},QspGameTitle=({attrs:or})=>{const[ar]=useTranslation(),[cr,lr,ur]=useAttributes(or,"qsp-game-title"),fr=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(cr,{...ur,style:lr,children:(fr==null?void 0:fr.author)||ar("n/a")})},QspGameAuthor=({attrs:or})=>{const[ar]=useTranslation(),[cr,lr,ur]=useAttributes(or,"qsp-game-author"),fr=useAtom_2(currentGameEntry$);return console.log(fr),jsxRuntimeExports.jsx(cr,{...ur,style:lr,children:(fr==null?void 0:fr.author)||ar("n/a")})},QspGameVersion=({attrs:or})=>{const[ar]=useTranslation(),[cr,lr,ur]=useAttributes(or,"qsp-game-version"),fr=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(cr,{...ur,style:lr,children:(fr==null?void 0:fr.version)||ar("n/a")})},QspGameDescription=({attrs:or})=>{const[ar,cr,lr]=useAttributes(or,"qsp-game-description"),ur=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(ar,{...lr,style:cr,children:ur!=null&&ur.description?jsxRuntimeExports.jsx(ContentRenderer,{content:ur.description}):""})};function defaultTransform(or,ar){const cr=or.tagName.toLowerCase(),lr=extractAttributes(or);return jsxRuntimeExports.jsx(Element$1,{tagName:cr,attrs:lr,children:ar})}const defaultTransformers={"qsp-scrollable"(or,ar){const{scroll:cr,...lr}=extractAttributes(or),ur=isScrollType(cr)?cr:void 0;return jsxRuntimeExports.jsx(QspScrollable,{scroll:ur,attrs:lr,children:ar})},"qsp-main"(or,ar){return jsxRuntimeExports.jsx(QspMain,{attrs:extractAttributes(or),children:ar})},"qsp-main-content"(or){return jsxRuntimeExports.jsx(QspMainContent,{attrs:extractAttributes(or)})},"qsp-stats"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspStats,{attrs:cr,children:ar})},"qsp-stats-content"(or){return jsxRuntimeExports.jsx(QspStatsContent,{attrs:extractAttributes(or)})},"qsp-actions"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspActions,{attrs:cr,children:ar})},"qsp-actions-list"(or,ar){return jsxRuntimeExports.jsx(QspActionsList,{attrs:extractAttributes(or),children:ar})},"qsp-action"(or,ar){return jsxRuntimeExports.jsx(QspActionItem,{attrs:extractAttributes(or),children:ar})},"qsp-action-name"(or){return jsxRuntimeExports.jsx(QspActionName,{attrs:extractAttributes(or)})},"qsp-action-image"(or){return jsxRuntimeExports.jsx(QspActionImage,{attrs:extractAttributes(or)})},"qsp-action-index"(or){return jsxRuntimeExports.jsx(QspActionIndex,{attrs:extractAttributes(or)})},"qsp-objects"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspObjects,{attrs:cr,children:ar})},"qsp-objects-list"(or,ar){return jsxRuntimeExports.jsx(QspObjectsList,{attrs:extractAttributes(or),children:ar})},"qsp-object"(or,ar){return jsxRuntimeExports.jsx(QspObjectItem,{attrs:extractAttributes(or),children:ar})},"qsp-object-name"(or){return jsxRuntimeExports.jsx(QspObjectName,{attrs:extractAttributes(or)})},"qsp-object-image"(or){return jsxRuntimeExports.jsx(QspObjectImage,{attrs:extractAttributes(or)})},"qsp-object-index"(or){return jsxRuntimeExports.jsx(QspObjectIndex,{attrs:extractAttributes(or)})},"qsp-cmd"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspCmd,{attrs:cr,children:ar})},"qsp-cmd-input"(or){const ar=extractAttributes(or);return jsxRuntimeExports.jsx(QspCmdInput,{attrs:ar})},"qsp-view"(or,ar){const cr=extractAttributes(or),lr="modal"in cr;return view$.actions.setIsModal(lr),jsxRuntimeExports.jsx(QspView,{attrs:cr,modal:lr,children:ar})},"qsp-view-image"(or){const ar=extractAttributes(or);return jsxRuntimeExports.jsx(QspViewImage,{attrs:ar})},"qsp-menu"(or,ar){const{"show-as":cr,"show-at":lr,"offset-x":ur,"offset-y":fr,...dr}=extractAttributes(or);return jsxRuntimeExports.jsx(QspMenu,{showAs:cr,showAt:lr,offsetX:ur?parseInt(ur,10):0,offsetY:fr?parseInt(fr,10):0,attrs:dr,children:ar})},"qsp-menu-list"(or,ar){return jsxRuntimeExports.jsx(QspMenuList,{attrs:extractAttributes(or),children:ar})},"qsp-menu-item"(or,ar){return jsxRuntimeExports.jsx(QspMenuItem,{attrs:extractAttributes(or),children:ar})},"qsp-menu-name"(or){return jsxRuntimeExports.jsx(QspMenuItemName,{attrs:extractAttributes(or)})},"qsp-menu-image"(or){return jsxRuntimeExports.jsx(QspMenuItemImage,{attrs:extractAttributes(or)})},"qsp-menu-index"(or){return jsxRuntimeExports.jsx(QspMenuItemIndex,{attrs:extractAttributes(or)})},"qsp-msg"(or,ar){return jsxRuntimeExports.jsx(QspMsg,{attrs:extractAttributes(or),children:ar})},"qsp-msg-content"(or){return jsxRuntimeExports.jsx(QspMsgContent,{attrs:extractAttributes(or)})},"qsp-input"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspInput,{attrs:cr,children:ar})},"qsp-input-content"(or){return jsxRuntimeExports.jsx(QspInputContent,{attrs:extractAttributes(or)})},"qsp-input-tag"(or){const ar=extractAttributes(or);return jsxRuntimeExports.jsx(QspInputTag,{attrs:ar})},"qsp-close-button"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspCloseButton,{attrs:cr,children:ar})},"qsp-ok-button"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspOkButton,{attrs:cr,children:ar})},"qsp-cancel-button"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspCancelButton,{attrs:cr,children:ar})},"qsp-pause-screen"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspPauseScreen,{attrs:cr,children:ar})},"qsp-pause-screen-content"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(QspPauseScreenContent,{attrs:cr,children:ar})},"qsp-pause-screen-panel"(or,ar){const{name:cr,...lr}=extractAttributes(or);return cr?jsxRuntimeExports.jsx(QspPauseScreenPanel,{name:cr,attrs:lr,children:ar}):null},"qsp-slots-list"(or,ar){return jsxRuntimeExports.jsx(QspSlotsList,{attrs:extractAttributes(or),children:ar})},"qsp-save-slot"(or,ar){return jsxRuntimeExports.jsx(QspSlot,{attrs:extractAttributes(or),index:-1,children:ar})},"qsp-save-file"(or,ar){const{path:cr,...lr}=extractAttributes(or);return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:lr,path:cr,children:ar})},"qsp-quick-save"(or,ar){return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:extractAttributes(or),path:QUICK_SAVE_KEY,children:ar})},"qsp-slot-index"(or){return jsxRuntimeExports.jsx(QspSlotIndex,{attrs:extractAttributes(or)})},"qsp-slot-date"(or,ar){return jsxRuntimeExports.jsx(QspSlotDate,{attrs:extractAttributes(or),children:ar})},"qsp-variable"(or){const{name:ar,key:cr,index:lr}=extractAttributes(or);return jsxRuntimeExports.jsx(QspVariable,{name:ar,vkey:cr,index:lr?parseInt(lr,10):void 0})},"qsp-region"(or){const{name:ar,...cr}=extractAttributes(or),lr="scrollable"in cr;return jsxRuntimeExports.jsx(QspRegion,{name:ar,scrollable:lr,attrs:cr})},"qsp-layer"(or,ar){const{name:cr,index:lr,...ur}=extractAttributes(or);return jsxRuntimeExports.jsx(QspLayer,{name:cr,index:parseInt(lr),attrs:ur,children:ar})},"qsp-show"(or,ar){const cr=or.getAttribute("when")||"";return jsxRuntimeExports.jsx(QspShow,{condition:cr,children:ar})},"qsp-style"(or){const ar=or.getAttribute("from")||"";return jsxRuntimeExports.jsx(QspStyle,{from:ar})},"qsp-t"(or){const ar=or.innerText;return jsxRuntimeExports.jsx(QspT,{children:ar})},a:(or,ar)=>{const{href:cr,...lr}=extractAttributes(or);if(cr){if(cr.toLowerCase().startsWith("exec:"))return jsxRuntimeExports.jsx(Link,{attrs:lr,exec:cr.substring(5),children:ar});if(parseInt(cr)>0)return jsxRuntimeExports.jsx(Link,{attrs:lr,act:parseInt(cr),children:ar})}const ur={href:cr,...lr};return jsxRuntimeExports.jsx(HtmlLink,{attrs:ur,children:ar})},select(or,ar){return jsxRuntimeExports.jsx(HtmlSelect,{attrs:extractAttributes(or),children:ar})},textarea(or){const ar=extractAttributes(or);return ar.value=or.innerText,jsxRuntimeExports.jsx(HtmlTextarea,{attrs:ar})},input(or){return jsxRuntimeExports.jsx(HtmlInput,{attrs:extractAttributes(or)})},img(or){const{src:ar,...cr}=extractAttributes(or);return jsxRuntimeExports.jsx(HtmlImg,{src:ar,attrs:cr})},form(or,ar){return jsxRuntimeExports.jsx(HtmlForm,{attrs:extractAttributes(or),children:ar})},"qsp-volume-slider"(or){return jsxRuntimeExports.jsx(QspVolumeSlider,{attrs:extractAttributes(or)})},"qsp-mute-toggle"(or){return jsxRuntimeExports.jsx(QspMuteToggle,{attrs:extractAttributes(or)})},"qsp-global-hotkeys"(or){return jsxRuntimeExports.jsx(QspGlobalHotkeys,{attrs:extractAttributes(or)})},"qsp-game-hotkeys"(or){return jsxRuntimeExports.jsx(QspGameHotkeys,{attrs:extractAttributes(or)})},"qsp-locale-select"(or){return jsxRuntimeExports.jsx(QspLocaleSelect,{attrs:extractAttributes(or)})},"qsp-game-title"(or){return jsxRuntimeExports.jsx(QspGameTitle,{attrs:extractAttributes(or)})},"qsp-game-author"(or){return jsxRuntimeExports.jsx(QspGameAuthor,{attrs:extractAttributes(or)})},"qsp-game-version"(or){return jsxRuntimeExports.jsx(QspGameVersion,{attrs:extractAttributes(or)})},"qsp-game-description"(or){return jsxRuntimeExports.jsx(QspGameDescription,{attrs:extractAttributes(or)})}},Strike=({children:or,attrs:ar})=>{const[,cr,lr]=useAttributes(ar,"span"),ur={...cr,textDecoration:"line-through"};return jsxRuntimeExports.jsx("span",{...lr,style:ur,children:or})},Big=({children:or,attrs:ar})=>{const[,cr,lr]=useAttributes(ar,"span"),ur={...cr,fontSize:"larger"};return jsxRuntimeExports.jsx("span",{...lr,style:ur,children:or})},Tt$1=({children:or,attrs:ar})=>{const[,cr,lr]=useAttributes(ar,"span"),ur={...cr,fontFamily:"monospace"};return jsxRuntimeExports.jsx("span",{...lr,style:ur,children:or})},Hr=({attrs:or,width:ar,size:cr,noshade:lr})=>{const[,ur,fr]=useAttributes(or,"hr"),dr={...ur,borderWidth:Number(cr)>0?"1px":"1px 0 0 0",borderStyle:lr?"solid":"inset",borderColor:"rgb(128, 128, 128)",borderRadius:"1px",height:`${cr||"0"}px`,margin:"0.5em auto",width:ar||"100%",backgroundColor:lr?"rgb(128, 128, 128)":"transparent"};return jsxRuntimeExports.jsx("div",{...fr,style:dr})},Table=({border:or,cellspacing:ar,cellpadding:cr,align:lr,valign:ur,attrs:fr,children:dr})=>{const[,pr,{className:mr,...gr}]=useAttributes(fr,"table"),vr={...pr,textAlign:lr??"left",verticalAlign:ur??"top","--table-border-width":`${or||0}px`,"--table-cellspacing":`${ar||0}px`,"--table-cellpadding":`${cr||0}px`},hr=mr?`${mr} classic-table`:"classic-table";return jsxRuntimeExports.jsx("table",{...gr,style:vr,className:hr,children:dr})},Area=({href:or,attrs:ar})=>{const cr=reactExports.useCallback(fr=>{fr.preventDefault(),fr.stopPropagation(),onLinkClicked(or)},[or]),[,lr,ur]=useAttributes(ar,"area");return jsxRuntimeExports.jsx("area",{...ur,style:lr,href:"#",onClick:cr,alt:""})},Video=({children:or,attrs:ar})=>{const[,cr,lr]=useAttributes(ar,"video");return jsxRuntimeExports.jsx("video",{style:cr,...lr,preload:"auto",loop:!0,autoPlay:!0,children:or})},QspCL=({children:or})=>{const ar=useAtom_2(qspGuiLayout$);return ar?jsxRuntimeExports.jsx("qsp-cl",{children:jsxRuntimeExports.jsx(TemplateRenderer,{template:ar})}):jsxRuntimeExports.jsx("qsp-cl",{children:or})},QspCLLayer=or=>{const ar=useSetup(lr=>{const ur=lr==null?void 0:lr.focus(pr=>pr.children),fr=create(pr=>{const mr={};return React$1.Children.forEach(pr(ur),gr=>{reactExports.isValidElement(gr)&&gr.type===QspCLDock&&(mr[gr.props.place]={visibility:gr.props.visibility,size:gr.props.size})}),mr}),dr=create(pr=>{var vr;const mr=pr(fr),gr={};for(const[hr,$r]of Object.entries(mr))(((vr=$r.visibility)==null?void 0:vr.split("|").some(br=>{const Er=penelAtoms[br];return Er?pr(Er):!1}))??!0)&&(gr[hr]=$r);return gr});return create(pr=>{const mr=pr(dr),gr=["center"];let vr="1fr",hr=1,$r="1fr";return mr.left&&(gr[0]="left "+gr[0],hr++,vr=`${mr.left.size}px `+vr),mr.right&&(gr[0]+=" right",hr++,vr+=` ${mr.right.size}px`),mr.top&&($r=`${mr.top.size}px `+$r,gr.unshift("top ".repeat(hr).trim())),mr.bottom&&($r+=` ${mr.bottom.size}px`,gr.push("bottom ".repeat(hr).trim())),{gridTemplateColumns:vr,gridTemplateRows:$r,gridTemplateAreas:'"'+gr.join('" "')+'"'}})},or),cr=useAtom_2(ar);return jsxRuntimeExports.jsx("qsp-cl-layer",{style:cr,children:or.children})},penelAtoms={input:isCmdVisible$,imgview:view$.focus(or=>or.isOpen),objs:isObjsVisible$,acts:isActsVisible$,vars:isStatsVisible$},QspCLDock=or=>{const ar=useSetup(lr=>create(ur=>{const fr=lr.focus(pr=>pr.visibility),dr=ur(fr);return dr?dr.split("|").some(pr=>{const mr=penelAtoms[pr];return mr?ur(mr):!1}):!0}),or);return useAtom_2(ar)?jsxRuntimeExports.jsx("qsp-cl-dock",{"data-place":or.place,children:or.children}):null},QspCLPane=or=>{const ar=useSetup(lr=>create(ur=>{const fr=lr.focus(mr=>mr.visibility),dr=ur(fr);if(!dr)return!0;const pr=penelAtoms[dr];return pr?ur(pr):!1}),or);return useAtom_2(ar)?jsxRuntimeExports.jsx("qsp-cl-pane",{style:{flexGrow:or.proportion},children:or.children}):null},QspCLDefaults=()=>{const or=useAtom_2(qspGuiCfg$);if(!or)return null;const ar=[];if(or.BackColor){const lr=convertColor(or.BackColor,!1);if(lr){const ur=invertColor(lr);ar.push(`--cl-background-color: ${lr}`),ar.push(`--cl-background-color-contrast: ${getContrastColor(lr)}`),ar.push(`--cl-background-color-inverted: ${ur}`),ar.push(`--cl-background-color-inverted-contrast: ${getContrastColor(ur)}`)}}if(or.FontColor){const lr=convertColor(or.FontColor,!1);lr&&ar.push(`--cl-color: ${lr}`)}if(or.LinkColor){const lr=convertColor(or.LinkColor,!1);lr&&ar.push(`--cl-link-color: ${lr}`)}or.FontSize&&ar.push(`--cl-font-size: ${or.FontSize}pt`),or.FontName&&ar.push(`--cl-font-name: ${or.FontName}`);const cr=`qsp-game-root, #portal-container {${ar.join(";")}}`;return jsxRuntimeExports.jsx("style",{children:cr})},classicTransformers={font:(or,ar)=>jsxRuntimeExports.jsx(Font,{size:or.getAttribute("size"),attrs:extractAttributes(or),children:ar}),big:(or,ar)=>jsxRuntimeExports.jsx(Big,{attrs:extractAttributes(or),children:ar}),hr:or=>{const{width:ar,size:cr,noshade:lr,...ur}=extractAttributes(or);return jsxRuntimeExports.jsx(Hr,{attrs:ur,width:ar,size:cr,noshade:!!lr})},tt:(or,ar)=>jsxRuntimeExports.jsx(Tt$1,{attrs:extractAttributes(or),children:ar}),strike:(or,ar)=>jsxRuntimeExports.jsx(Strike,{attrs:extractAttributes(or),children:ar}),tbody:(or,ar)=>jsxRuntimeExports.jsx("tbody",{children:ar.filter(cr=>typeof cr!="string")}),table:(or,ar)=>{const{border:cr="0",cellspacing:lr="0",cellpadding:ur="1",align:fr,valign:dr,...pr}=extractAttributes(or);return jsxRuntimeExports.jsx(Table,{align:fr,valign:dr,border:Number(cr),cellspacing:Number(lr),cellpadding:Number(ur),attrs:pr,children:ar.filter(mr=>typeof mr!="string")})},area:or=>{const{href:ar,...cr}=extractAttributes(or);return jsxRuntimeExports.jsx(Area,{href:ar||"",attrs:cr})},video:(or,ar)=>jsxRuntimeExports.jsx(Video,{attrs:extractAttributes(or),children:ar}),"qsp-cl":(or,ar)=>jsxRuntimeExports.jsx(QspCL,{children:ar}),"qsp-cl-layer":(or,ar)=>jsxRuntimeExports.jsx(QspCLLayer,{children:ar}),"qsp-cl-dock":(or,ar)=>{const cr=or.getAttribute("place")||"center",lr=or.getAttribute("visibility"),ur=or.getAttribute("size")??0;return jsxRuntimeExports.jsx(QspCLDock,{place:cr,visibility:lr,size:Number(ur),children:ar})},"qsp-cl-pane":(or,ar)=>{const cr=or.getAttribute("proportion")??1,lr=or.getAttribute("visibility");return jsxRuntimeExports.jsx(QspCLPane,{visibility:lr,proportion:Number(cr),children:ar})},"qsp-cl-defaults"(){return jsxRuntimeExports.jsx(QspCLDefaults,{})}},AERO_EFFECTS={fade:{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},blur:{from:{opacity:0,filter:"blur(15px)"},enter:{opacity:1,filter:"blur(0px)"},leave:{opacity:0,filter:"blur(15px)"}},l_slide:{from:{transform:"translate3d(-100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(-100%, 0, 0)"}},r_slide:{from:{transform:"translate3d(100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(100%, 0, 0)"}},u_slide:{from:{transform:"translate3d(0, 100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, 100%, 0)"}},d_slide:{from:{transform:"translate3d(0, -100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, -100%, 0)"}},iris:{from:{clipPath:"circle(0% at center)"},enter:{clipPath:"circle(120% at center)"},leave:{clipPath:"circle(0% at center)"}},photo:{from:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"},enter:{opacity:1,boxShadow:"inset 0 0 0 0px #fff"},leave:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"}},rotate:{from:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0},enter:{transform:"rotate3d(0, 0, 1, 0deg)",opacity:1},leave:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0}},v_squeeze:{from:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"}},h_squeeze:{from:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"}},zoom:{from:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"}},wipe1:{from:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"},enter:{clipPath:"polygon(0 0, 0 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"}},wipe2:{from:{clipPath:"polygon(100% 0, 100% 0%, 100% 0%, 100% 0)"},enter:{clipPath:"polygon(0% 0, 0% 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(100% 0, 100% 0, 100% 0%, 100% 0)"}},wipe3:{from:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"}},wipe4:{from:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"}},quake:{from:{transform:"translate3d(0px, 0px, 0)",opacity:0},enter:[{transform:"translate3d(-2px, 3px, 0)",opacity:.1},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-2px, 3px, 0)",opacity:.9}],leave:[{transform:"translate3d(-2px, 3px, 0)",opacity:.9},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-2px, 3px, 0)",opacity:.1}]}};function useAeroEffect(or,ar,cr){const lr=useQspVariable(ar,"",0,"");let ur=useQspVariable(cr,"",0,500);const fr=AERO_EFFECTS[lr]??{};return fr.enter&&Array.isArray(fr.enter)&&(ur/=fr.enter.length),useTransition(or,{...fr,config:{duration:ur}})}const AeroQspMenu=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-menu"),fr=useAtom_2(menu$),dr=useClickCoordinates(),pr=useQspVariable("FIXED_SIZE_MENU","",0,0),mr=useQspVariable("MENU_X","",0,-1),gr=useQspVariable("MENU_Y","",0,-1),vr=useAeroEffect(fr.isOpen,"$MENU_EFFECT","MENU_EFFECT_TIME"),hr=mr<0||gr<0,$r=hr?dr.x:mr,xr=hr?dr.y:gr;let br=ur.className||"";return pr&&(br+=" aero-fixed-menu"),jsxRuntimeExports.jsxs($d08ef79370b62062$export$be92b6f5f03c0fe9,{open:fr.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx($d08ef79370b62062$export$41fb9f06171c75f4,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:$r,top:xr}})}),vr((Er,wr)=>wr?jsxRuntimeExports.jsx($d08ef79370b62062$export$602eac185826482c,{forceMount:!0,container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx($d08ef79370b62062$export$7c6e2c02157bb7d2,{align:"start",forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:Er,children:jsxRuntimeExports.jsx(cr,{style:lr,...ur,className:br.trim(),children:ar})})})}):null)]})},AeroQspMenuItem=({attrs:or,children:ar})=>{const[cr,lr]=reactExports.useState(!1),{item:ur,index:fr}=reactExports.useContext(menuContext),[dr,pr,{useFormat:mr,useSelectedFormat:gr,...vr}]=useAttributes(or,"qsp-menu-item"),hr={...pr,"--menu-item-image":ur.image?`url("${ur.image}")`:""},$r=useFormatVariable(mr,DEFAULT_LIST_FORMAT).replace(TEXT_PLACEHOLDER,ur.name).replace(IMAGE_PLACEHOLDER,ur.image?ur.image:""),xr=useFormatVariable(gr,DEFAULT_SELECTED_LIST_FORMAT).replace(TEXT_PLACEHOLDER,ur.name).replace(IMAGE_PLACEHOLDER,ur.image?ur.image:""),br=()=>{lr(!0)},Er=()=>{lr(!1)},wr=yr=>{yr.preventDefault(),menu$.actions.select(fr)};return jsxRuntimeExports.jsx($d08ef79370b62062$export$6d08773d2e66f8f2,{asChild:!0,children:jsxRuntimeExports.jsx(dr,{...vr,style:hr,onClick:wr,onMouseOver:br,onMouseLeave:Er,children:jsxRuntimeExports.jsx(ContentRenderer,{content:cr?xr:$r})})})},AeroStyles=()=>{const or=useAtom_2(currentAeroWidth$),ar=useAtom_2(currentAeroHeight$),cr=`
  qsp-game-root, #portal-container {
    --aero-player-width: ${or}px;
    --aero-player-height: ${ar}px;
  }`;return jsxRuntimeExports.jsx("style",{children:cr})},AeroQspView=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-view"),fr=useAtom_2(view$),dr=useQspVariable("ALWAYS_SHOW_VIEW","",0,0),pr=useAeroEffect(fr.isOpen,"$VIEW_EFFECT","VIEW_EFFECT_TIME"),mr={...lr,"--view-image":`url("${fr.path}")`},gr=()=>{dr||view$.actions.close()};return pr((vr,hr)=>hr?jsxRuntimeExports.jsx(animated.div,{style:vr,children:jsxRuntimeExports.jsx(cr,{...ur,style:mr,onClick:gr,children:ar})}):null)},AeroQspActionItem=({attrs:or})=>{const ar=useAtom_2(selectedAction$),{action:cr,index:lr}=reactExports.useContext(actionContext),[ur,fr,{useFormat:dr,useSelectedFormat:pr,...mr}]=useAttributes(or,"qsp-action"),gr=cr.image?cr.image:"",vr={...fr,"--action-image":cr.image?`url("${gr}")`:""},hr=useFormatVariable(dr,DEFAULT_LIST_FORMAT).replace(TEXT_PLACEHOLDER,cr.name).replace(IMAGE_PLACEHOLDER,cr.image?gr:""),$r=useFormatVariable(pr,DEFAULT_SELECTED_LIST_FORMAT).replace(TEXT_PLACEHOLDER,cr.name).replace(IMAGE_PLACEHOLDER,cr.image?gr:""),xr=()=>{selectAction(lr)},br=()=>{selectAction(-1)},Er=yr=>{yr.preventDefault(),selectedAction$.value<0&&selectAction(lr),execSelectedAction()},wr=ar===lr;return jsxRuntimeExports.jsx(ur,{...mr,style:vr,onMouseOver:xr,onMouseLeave:br,onClick:Er,children:jsxRuntimeExports.jsx(ContentRenderer,{content:wr?$r:hr})})},AeroQspStatsContent=({attrs:or})=>{const[ar,cr,{useFormat:lr,...ur}]=useAttributes(or,"qsp-stats-content"),fr=useAtom_2(statsContent$),dr=useFormatVariable(lr),pr=dr?dr.replace(TEXT_PLACEHOLDER,fr):fr;return jsxRuntimeExports.jsx(ar,{style:cr,...ur,children:jsxRuntimeExports.jsx(ContentRenderer,{content:pr})})},AeroQspMainContent=({attrs:or})=>{const ar=useAtom_2(mainContent$),[cr,lr,{useFormat:ur,...fr}]=useAttributes(or,"qsp-main-content"),dr=useFormatVariable(ur),pr=dr?dr.replace(TEXT_PLACEHOLDER,ar):ar;return jsxRuntimeExports.jsx(cr,{style:lr,...fr,children:jsxRuntimeExports.jsx(ContentRenderer,{content:pr})})},AeroOverlay=reactExports.forwardRef(()=>{const or=useQspVariable("DISABLESHADE","",0,0),ar=useSpring({from:{opacity:0},to:{opacity:.8}});return or?null:jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:ar,className:"qsp-overlay"})})}),AeroQspMsg=({attrs:or,children:ar})=>{const[cr,lr,ur]=useAttributes(or,"qsp-msg"),fr=useAtom_2(msg$),dr=useClickCoordinates(),pr=useQspVariable("MSG_X","",0,200),mr=useQspVariable("MSG_Y","",0,165),gr=useAeroEffect(fr.isOpen,"$MSG_EFFECT","MSG_EFFECT_TIME"),vr=pr<0||mr<0,hr={"--aero-msg-x":`${vr?dr.x:pr}px`,"--aero-msg-y":`${vr?dr.y:mr}px`},$r=`qsp-dialog-container${vr?" at-mouse":""}`;function xr(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:xr,cancelAction:xr},children:jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{open:fr.isOpen,onOpenChange:xr,children:gr((br,Er)=>Er?jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{forceMount:!0,asChild:!0,style:hr,children:jsxRuntimeExports.jsx(animated.div,{style:br,className:$r,children:jsxRuntimeExports.jsx(cr,{style:lr,...ur,children:ar})})})]}):null)})})},AeroQspMsgContent=({attrs:or})=>{const ar=useAtom_2(msg$),[cr,lr,{useFormat:ur,...fr}]=useAttributes(or,"qsp-msg-content"),dr=useFormatVariable(ur),pr=dr?dr.replace(TEXT_PLACEHOLDER,ar.content):ar.content;return jsxRuntimeExports.jsx(cr,{style:lr,...fr,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:pr})})})},AeroQspInput=({attrs:or,children:ar})=>{const cr=useAtom_2(input$),[lr,ur,fr]=useAttributes(or,"qsp-input"),dr=useClickCoordinates(),pr=useQspVariable("INPUT_X","",0,200),mr=useQspVariable("INPUT_Y","",0,165),gr=useAeroEffect(cr.isOpen,"$INPUT_EFFECT","INPUT_EFFECT_TIME"),vr=pr<0||mr<0,hr={"--aero-input-x":`${vr?dr.x:pr}px`,"--aero-input-y":`${vr?dr.y:mr}px`},$r=`qsp-dialog-container${vr?" at-mouse":""}`;return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:()=>input$.actions.finish(),cancelAction:()=>{input$.actions.close()}},children:jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{open:cr.isOpen,onOpenChange:()=>input$.actions.close(),children:gr((xr,br)=>br?jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{forceMount:!0,asChild:!0,style:hr,children:jsxRuntimeExports.jsx(animated.div,{style:xr,className:$r,children:jsxRuntimeExports.jsx("form",{onSubmit:Er=>{Er.preventDefault(),input$.actions.finish()},children:jsxRuntimeExports.jsx(lr,{style:ur,...fr,children:ar})})})})]}):null)})})},AeroQspInputContent=({attrs:or})=>{const ar=useAtom_2(input$),[cr,lr,{useFormat:ur,...fr}]=useAttributes(or,"qsp-input-content"),dr=useFormatVariable(ur),pr=dr?dr.replace(TEXT_PLACEHOLDER,ar.content):ar.content;return jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$393edc798c47379d,{asChild:!0,children:jsxRuntimeExports.jsx(cr,{style:lr,...fr,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(ContentRenderer,{content:pr})})})})},AeroQspObjectItem=({attrs:or,children:ar})=>{const[cr,lr]=reactExports.useState(!1),[ur,fr,{useFormat:dr,useSelectedFormat:pr,...mr}]=useAttributes(or,"qsp-object"),{object:gr,index:vr}=reactExports.useContext(objectContext),hr={...fr,"--object-image":gr.image?`url("${gr.image}")`:""},$r=useFormatVariable(dr,DEFAULT_LIST_FORMAT).replace(TEXT_PLACEHOLDER,gr.name).replace(IMAGE_PLACEHOLDER,gr.image?gr.image:""),xr=useFormatVariable(pr,DEFAULT_SELECTED_LIST_FORMAT).replace(TEXT_PLACEHOLDER,gr.name).replace(IMAGE_PLACEHOLDER,gr.image?gr.image:""),br=()=>{lr(!0)},Er=()=>{lr(!1)},wr=()=>{selectObject(vr)};return jsxRuntimeExports.jsx(ur,{...mr,style:hr,onClick:wr,onMouseOver:br,onMouseLeave:Er,children:jsxRuntimeExports.jsx(ContentRenderer,{content:cr?xr:$r})})},AeroNewlocEffect=({children:or})=>{const ar=useQspVariable("$NEWLOC_EFFECT","",0,"");let cr=useQspVariable("NEWLOC_EFFECT_TIME","",0,500);const lr=!!useQspVariable("NEWLOC_EFFECT_SEQ","",0,0),ur=AERO_EFFECTS[ar]??{};ur.enter&&Array.isArray(ur.enter)&&(cr/=ur.enter.length);const fr=useAtom_2(newLocHash$),dr=useTransition(fr,{...ur,key:fr,exitBeforeEnter:lr,...lr?{}:{leave:{...ur.leave,config:{duration:0}}},config:{duration:cr},onRest(){mainContent$.set(nextMainContent$.value)}});return reactExports.useEffect(()=>{(!ar||!lr)&&mainContent$.set(nextMainContent$.value)},[ar,fr]),ar?dr((pr,mr)=>jsxRuntimeExports.jsx(animated.div,{style:pr,children:or},mr)):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:or})},aeroTransformers={"aero-newloc-effect"(or,ar){return jsxRuntimeExports.jsx(AeroNewlocEffect,{children:ar})},"aero-styles"(){return jsxRuntimeExports.jsx(AeroStyles,{})},"qsp-main-content"(or){return jsxRuntimeExports.jsx(AeroQspMainContent,{attrs:extractAttributes(or)})},"qsp-stats-content"(or){return jsxRuntimeExports.jsx(AeroQspStatsContent,{attrs:extractAttributes(or)})},"qsp-action"(or){return jsxRuntimeExports.jsx(AeroQspActionItem,{attrs:extractAttributes(or)})},"qsp-object"(or,ar){return jsxRuntimeExports.jsx(AeroQspObjectItem,{attrs:extractAttributes(or),children:ar})},"qsp-menu"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(AeroQspMenu,{attrs:cr,children:ar})},"qsp-menu-item"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(AeroQspMenuItem,{attrs:cr,children:ar})},"qsp-msg"(or,ar){return jsxRuntimeExports.jsx(AeroQspMsg,{attrs:extractAttributes(or),children:ar})},"qsp-msg-content"(or){return jsxRuntimeExports.jsx(AeroQspMsgContent,{attrs:extractAttributes(or)})},"qsp-input"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(AeroQspInput,{attrs:cr,children:ar})},"qsp-input-content"(or){return jsxRuntimeExports.jsx(AeroQspInputContent,{attrs:extractAttributes(or)})},"qsp-view"(or,ar){const cr=extractAttributes(or);return jsxRuntimeExports.jsx(AeroQspView,{attrs:cr,modal:"modal"in cr,children:ar})}},currentTransformers$=create(or=>{switch(or(currentGameMode$)){case"classic":return{...defaultTransformers,...classicTransformers};case"aero":return{...defaultTransformers,...classicTransformers,...aeroTransformers};case"qspider":default:return defaultTransformers}}),transform=(or,ar)=>{const cr=currentTransformers$.value[or.tagName.toLowerCase()];return cr?cr(or,ar):defaultTransform(or,ar)},blockList=["script"],TemplateRenderer=({template:or})=>jsxRuntimeExports.jsx(Markup,{content:or,transform,blockList,noWrap:!0,allowElements:!0,allowAttributes:!0,disableLineBreaks:!0}),QspPlayer=()=>{const ar=useAtom_2(currentThemeData$).qsp_player??{template:"",attrs:{}},{attrs:cr,template:lr}=ar,[ur,fr,dr]=useAttributes(cr,"qsp-player");return ar.template?jsxRuntimeExports.jsx(ur,{style:fr,...dr,children:jsxRuntimeExports.jsx(TemplateRenderer,{template:lr})}):"No qsp-player in theme defined"},QspiderLoader=()=>jsxRuntimeExports.jsx("div",{className:"q-loader",children:jsxRuntimeExports.jsxs("div",{className:"q-book",children:[jsxRuntimeExports.jsxs("div",{className:"q-inner",children:[jsxRuntimeExports.jsx("div",{className:"q-left"})," ",jsxRuntimeExports.jsx("div",{className:"q-middle"})," ",jsxRuntimeExports.jsx("div",{className:"q-right"})]}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{}),jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})]})]})}),ClickCoordinates=()=>{const{x:or,y:ar}=useClickCoordinates(),cr=`qsp-game-root {--mouse-x: ${or}px;--mouse-y:${ar}px;}`;return jsxRuntimeExports.jsx("style",{children:cr})},$905f4ae918aab1aa$var$ROOT_NAME="AlertDialog",[$905f4ae918aab1aa$var$createAlertDialogContext,$905f4ae918aab1aa$export$b8891880751c2c5b]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($905f4ae918aab1aa$var$ROOT_NAME,[$5d3850c4d0b4e6c7$export$cc702773b8ea3e41]),$905f4ae918aab1aa$var$useDialogScope=$5d3850c4d0b4e6c7$export$cc702773b8ea3e41(),$905f4ae918aab1aa$export$de466dd8317b0b75=or=>{const{__scopeAlertDialog:ar,...cr}=or,lr=$905f4ae918aab1aa$var$useDialogScope(ar);return reactExports.createElement($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,_extends$2({},lr,cr,{modal:!0}))},$905f4ae918aab1aa$export$660f2bfdb986706c=or=>{const{__scopeAlertDialog:ar,...cr}=or,lr=$905f4ae918aab1aa$var$useDialogScope(ar);return reactExports.createElement($5d3850c4d0b4e6c7$export$602eac185826482c,_extends$2({},lr,cr))},$905f4ae918aab1aa$export$a707a4895ce23256=reactExports.forwardRef((or,ar)=>{const{__scopeAlertDialog:cr,...lr}=or,ur=$905f4ae918aab1aa$var$useDialogScope(cr);return reactExports.createElement($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,_extends$2({},ur,lr,{ref:ar}))}),$905f4ae918aab1aa$var$CONTENT_NAME="AlertDialogContent",[$905f4ae918aab1aa$var$AlertDialogContentProvider,$905f4ae918aab1aa$var$useAlertDialogContentContext]=$905f4ae918aab1aa$var$createAlertDialogContext($905f4ae918aab1aa$var$CONTENT_NAME),$905f4ae918aab1aa$export$94e6af45f0af4efd=reactExports.forwardRef((or,ar)=>{const{__scopeAlertDialog:cr,children:lr,...ur}=or,fr=$905f4ae918aab1aa$var$useDialogScope(cr),dr=reactExports.useRef(null),pr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,dr),mr=reactExports.useRef(null);return reactExports.createElement($5d3850c4d0b4e6c7$export$69b62a49393917d6,{contentName:$905f4ae918aab1aa$var$CONTENT_NAME,titleName:$905f4ae918aab1aa$var$TITLE_NAME,docsSlug:"alert-dialog"},reactExports.createElement($905f4ae918aab1aa$var$AlertDialogContentProvider,{scope:cr,cancelRef:mr},reactExports.createElement($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,_extends$2({role:"alertdialog"},fr,ur,{ref:pr,onOpenAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur.onOpenAutoFocus,gr=>{var vr;gr.preventDefault(),(vr=mr.current)===null||vr===void 0||vr.focus({preventScroll:!0})}),onPointerDownOutside:gr=>gr.preventDefault(),onInteractOutside:gr=>gr.preventDefault()}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,lr),!1)))}),$905f4ae918aab1aa$var$TITLE_NAME="AlertDialogTitle",$905f4ae918aab1aa$export$225e0da62d314b7=reactExports.forwardRef((or,ar)=>{const{__scopeAlertDialog:cr,...lr}=or,ur=$905f4ae918aab1aa$var$useDialogScope(cr);return reactExports.createElement($5d3850c4d0b4e6c7$export$f99233281efd08a0,_extends$2({},ur,lr,{ref:ar}))}),$905f4ae918aab1aa$export$a23b55cde55ad9a5=reactExports.forwardRef((or,ar)=>{const{__scopeAlertDialog:cr,...lr}=or,ur=$905f4ae918aab1aa$var$useDialogScope(cr);return reactExports.createElement($5d3850c4d0b4e6c7$export$393edc798c47379d,_extends$2({},ur,lr,{ref:ar}))}),$905f4ae918aab1aa$var$CANCEL_NAME="AlertDialogCancel",$905f4ae918aab1aa$export$2f67a923571aaea0=reactExports.forwardRef((or,ar)=>{const{__scopeAlertDialog:cr,...lr}=or,{cancelRef:ur}=$905f4ae918aab1aa$var$useAlertDialogContentContext($905f4ae918aab1aa$var$CANCEL_NAME,cr),fr=$905f4ae918aab1aa$var$useDialogScope(cr),dr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,ur);return reactExports.createElement($5d3850c4d0b4e6c7$export$f39c2d165cd861fe,_extends$2({},fr,lr,{ref:dr}))}),$905f4ae918aab1aa$export$be92b6f5f03c0fe9=$905f4ae918aab1aa$export$de466dd8317b0b75,$905f4ae918aab1aa$export$602eac185826482c=$905f4ae918aab1aa$export$660f2bfdb986706c,$905f4ae918aab1aa$export$c6fdb837b070b4ff=$905f4ae918aab1aa$export$a707a4895ce23256,$905f4ae918aab1aa$export$7c6e2c02157bb7d2=$905f4ae918aab1aa$export$94e6af45f0af4efd,$905f4ae918aab1aa$export$848c9b7ead0df967=$905f4ae918aab1aa$export$2f67a923571aaea0,$905f4ae918aab1aa$export$f99233281efd08a0=$905f4ae918aab1aa$export$225e0da62d314b7,$905f4ae918aab1aa$export$393edc798c47379d=$905f4ae918aab1aa$export$a23b55cde55ad9a5,QspErrorAlert=()=>{const or=useAtom_2(qspError$),{t:ar}=useTranslation();return or?jsxRuntimeExports.jsx($905f4ae918aab1aa$export$be92b6f5f03c0fe9,{open:!0,onOpenChange:()=>qspError$.set(null),children:jsxRuntimeExports.jsxs($905f4ae918aab1aa$export$602eac185826482c,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx($905f4ae918aab1aa$export$c6fdb837b070b4ff,{className:"qsp-overlay"}),jsxRuntimeExports.jsx($905f4ae918aab1aa$export$7c6e2c02157bb7d2,{className:"qsp-dialog-container qsp-error-container",children:jsxRuntimeExports.jsxs("div",{className:"qsp-error",children:[jsxRuntimeExports.jsx($905f4ae918aab1aa$export$f99233281efd08a0,{children:ar("Error")}),jsxRuntimeExports.jsxs($905f4ae918aab1aa$export$393edc798c47379d,{children:[ar("Error"),": ",ar(or.description),jsxRuntimeExports.jsx("br",{}),or.code>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ar("Error code"),": ",or.code,jsxRuntimeExports.jsx("br",{})]}):"",or.location&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ar("Location"),": ",or.location,jsxRuntimeExports.jsx("br",{})]}),or.actionIndex>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ar("Action index"),": ",or.actionIndex," ",jsxRuntimeExports.jsx("br",{})]}):"",or.line>=0?ar("Line")+": "+or.line:""]}),jsxRuntimeExports.jsx("div",{className:"qsp-dialog-buttons",children:jsxRuntimeExports.jsx($905f4ae918aab1aa$export$848c9b7ead0df967,{className:"qsp-button",children:ar("Close")})})]})})]})}):null},cache={};function useImageSize(or){const[ar,cr]=reactExports.useState({width:0,height:0});return reactExports.useEffect(()=>{if(or){const lr=cache[or];if(lr)cr(lr);else{const ur=document.createElement("img");ur.onload=()=>{const fr={width:ur.naturalWidth,height:ur.naturalHeight};cache[or]=fr,cr(fr)},ur.src=or}}},[or]),ar}const QspCSSVariables=()=>{const or=useAtom_2(currentCssVariables$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:or.map(ar=>jsxRuntimeExports.jsx(QspCssVariable,{definition:ar},ar.name))})},QspCssVariableResource=({name:or,url:ar,withSize:cr})=>{ar.startsWith("qspider:")?ar=ar.replace("qspider:",initialBaseUrl$.value):ar=baseUrl$.value+ar,ar=ar.replace("\\","/");const lr=useImageSize(ar),ur=cr?`${or}-w: ${lr.width}px; ${or}-h: ${lr.height}px`:"",fr=`qsp-game-root, #portal-container {${or}: ${ar?`url("${ar}")`:"none"};${ur}}`;return jsxRuntimeExports.jsx("style",{children:fr})},QspCssVariable=({definition:or})=>{const ar=useQspVariable(or.from,"",0,""),cr=[];if(or.type==="color"){const ur=ar?convertColor(Number(ar)):or.defaultValue;if(ur&&(cr.push(`${or.name}: ${ur}`),or.withContrast&&cr.push(`${or.name}-contrast: ${getContrastColor(ur)}`),or.withInverted)){const fr=invertColor(ur);cr.push(`${or.name}-inverted: ${fr}`),or.withContrast&&cr.push(`${or.name}-inverted-contrast: ${getContrastColor(fr)}`)}}else if(or.type==="unit"){const ur=`${ar||or.defaultValue}${or.unit||""}`;cr.push(`${or.name}: ${ur}`)}else{if(or.type==="resource")return!ar&&!or.defaultValue?null:jsxRuntimeExports.jsx(QspCssVariableResource,{name:or.name,url:ar||or.defaultValue,withSize:or.withSize});ar&&cr.push(`${or.name}: ${ar}`)}if(!cr.length)return null;const lr=`qsp-game-root, #portal-container {${cr.join("; ")}}`;return jsxRuntimeExports.jsx("style",{children:lr})},WaitLock=()=>{const or=useAtom_2(wait$);return useEventListener("keypress",ar=>{wait$.value&&(ar.preventDefault(),ar.stopPropagation(),finishWait())},document),or?jsxRuntimeExports.jsx("div",{className:"wait-lock",onClick:finishWait}):null},QspCSSLinks=()=>{const or=useAtom_2(currentCssLinks$),ar=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:or.map(cr=>jsxRuntimeExports.jsx("link",{rel:"stylesheet",href:cr.startsWith("qspider:")?cr.replace("qspider:",ar):cr},cr))})},QspScriptLinks=()=>{const or=useAtom_2(currentScriptLinks$),ar=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:or.map(cr=>jsxRuntimeExports.jsx("script",{src:cr.startsWith("qspider:")?cr.replace("qspider:",ar):cr},cr))})},handler=throttle(or=>{if(or.key==="Escape"){if(wait$.value||msg$.value.isOpen||input$.value.isOpen||menu$.value.isOpen||isPauseScreenVisible$.value||view$.value.isOpen&&view$.value.isModal)return;or.preventDefault(),or.stopPropagation(),isPauseScreenVisible$.set(!0)}},10),GameRunner=()=>{const or=useAtom_2(currentGameEntry$);return useEventListener("keydown",handler,document,{capture:!0}),or?jsxRuntimeExports.jsxs("qsp-game-root",{children:[jsxRuntimeExports.jsx(ClickCoordinates,{}),jsxRuntimeExports.jsx(QspCSSVariables,{}),jsxRuntimeExports.jsx(QspCSSLinks,{}),jsxRuntimeExports.jsx(QspPlayer,{}),jsxRuntimeExports.jsx(WaitLock,{}),jsxRuntimeExports.jsx(QspErrorAlert,{}),jsxRuntimeExports.jsx(QspScriptLinks,{})]}):jsxRuntimeExports.jsx(QspiderLoader,{})};function _extends(){return _extends=Object.assign||function(or){for(var ar=1;ar<arguments.length;ar++){var cr=arguments[ar];for(var lr in cr)Object.prototype.hasOwnProperty.call(cr,lr)&&(or[lr]=cr[lr])}return or},_extends.apply(this,arguments)}var Action;(function(or){or.Pop="POP",or.Push="PUSH",or.Replace="REPLACE"})(Action||(Action={}));var readOnly=function(or){return or},BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory(or){or===void 0&&(or={});var ar=or,cr=ar.window,lr=cr===void 0?document.defaultView:cr,ur=lr.history;function fr(){var Tr=lr.location,jr=Tr.pathname,Rr=Tr.search,Fr=Tr.hash,Vr=ur.state||{};return[Vr.idx,readOnly({pathname:jr,search:Rr,hash:Fr,state:Vr.usr||null,key:Vr.key||"default"})]}var dr=null;function pr(){if(dr)xr.call(dr),dr=null;else{var Tr=Action.Pop,jr=fr(),Rr=jr[0],Fr=jr[1];if(xr.length){if(Rr!=null){var Vr=vr-Rr;Vr&&(dr={action:Tr,location:Fr,retry:function(){Or(Vr*-1)}},Or(Vr))}}else _r(Tr)}}lr.addEventListener(PopStateEventType,pr);var mr=Action.Pop,gr=fr(),vr=gr[0],hr=gr[1],$r=createEvents(),xr=createEvents();vr==null&&(vr=0,ur.replaceState(_extends({},ur.state,{idx:vr}),""));function br(Tr){return typeof Tr=="string"?Tr:createPath(Tr)}function Er(Tr,jr){return jr===void 0&&(jr=null),readOnly(_extends({pathname:hr.pathname,hash:"",search:""},typeof Tr=="string"?parsePath(Tr):Tr,{state:jr,key:createKey()}))}function wr(Tr,jr){return[{usr:Tr.state,key:Tr.key,idx:jr},br(Tr)]}function yr(Tr,jr,Rr){return!xr.length||(xr.call({action:Tr,location:jr,retry:Rr}),!1)}function _r(Tr){mr=Tr;var jr=fr();vr=jr[0],hr=jr[1],$r.call({action:mr,location:hr})}function Sr(Tr,jr){var Rr=Action.Push,Fr=Er(Tr,jr);function Vr(){Sr(Tr,jr)}if(yr(Rr,Fr,Vr)){var Zr=wr(Fr,vr+1),so=Zr[0],Ir=Zr[1];try{ur.pushState(so,"",Ir)}catch{lr.location.assign(Ir)}_r(Rr)}}function Pr(Tr,jr){var Rr=Action.Replace,Fr=Er(Tr,jr);function Vr(){Pr(Tr,jr)}if(yr(Rr,Fr,Vr)){var Zr=wr(Fr,vr),so=Zr[0],Ir=Zr[1];ur.replaceState(so,"",Ir),_r(Rr)}}function Or(Tr){ur.go(Tr)}var Lr={get action(){return mr},get location(){return hr},createHref:br,push:Sr,replace:Pr,go:Or,back:function(){Or(-1)},forward:function(){Or(1)},listen:function(jr){return $r.push(jr)},block:function(jr){var Rr=xr.push(jr);return xr.length===1&&lr.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){Rr(),xr.length||lr.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return Lr}function promptBeforeUnload(or){or.preventDefault(),or.returnValue=""}function createEvents(){var or=[];return{get length(){return or.length},push:function(cr){return or.push(cr),function(){or=or.filter(function(lr){return lr!==cr})}},call:function(cr){or.forEach(function(lr){return lr&&lr(cr)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(or){var ar=or.pathname,cr=ar===void 0?"/":ar,lr=or.search,ur=lr===void 0?"":lr,fr=or.hash,dr=fr===void 0?"":fr;return ur&&ur!=="?"&&(cr+=ur.charAt(0)==="?"?ur:"?"+ur),dr&&dr!=="#"&&(cr+=dr.charAt(0)==="#"?dr:"#"+dr),cr}function parsePath(or){var ar={};if(or){var cr=or.indexOf("#");cr>=0&&(ar.hash=or.substr(cr),or=or.substr(0,cr));var lr=or.indexOf("?");lr>=0&&(ar.search=or.substr(lr),or=or.substr(0,lr)),or&&(ar.pathname=or)}return ar}var browser=createBrowserHistory();function navigateTo(or){browser.push(`?${or}`)}function goToGame(or){navigateTo(`run=${or}`)}const currentMode$=create("shelf"),games$=create({},or=>({add(ar,cr){var lr;(lr=storage$.value)==null||lr.addGame(ar,cr).catch(console.error),or.update(ur=>({...ur,[ar]:cr}))},update(ar,cr){var lr;(lr=storage$.value)==null||lr.updateGame(ar,cr).catch(console.error),or.update(ur=>({...ur,[ar]:{...ur[ar]||{},...cr}}))},remove(ar){var cr;(cr=storage$.value)==null||cr.removeGame(ar).catch(console.error),or.update(lr=>{const{[ar]:ur,...fr}=lr;return fr})}})),gamesList$=create(or=>Object.values(or(games$)).sort((ar,cr)=>ar.title.localeCompare(cr.title))),gameSourceMap$=create(or=>{var cr;const ar=new Map;for(const lr of Object.values(or(games$)))if((cr=lr.meta)!=null&&cr.source){const ur=ar.get(lr.meta.source)??new Set;ur.add(lr.meta.source_id),ar.set(lr.meta.source,ur)}return ar});browser.listen(({location:or})=>{processLocationChange(or.search)});async function processLocationChange(or){const ar=new URLSearchParams(or),cr=ar.get("run");if(cr){await initDeferred$.value.promise;const lr=games$.value[cr];await runGame(lr),currentMode$.set("game")}else ar.has("catalog")?(currentGameEntry$.value&&stopCurrentGame(),currentMode$.set("catalog")):(currentGameEntry$.value&&stopCurrentGame(),currentMode$.set("shelf"))}async function loadGamesFromStorage(){var ar;const or=await((ar=storage$.value)==null?void 0:ar.getGames());or&&games$.set(or)}function _objectWithoutPropertiesLoose(or,ar){if(or==null)return{};var cr={},lr=Object.keys(or),ur,fr;for(fr=0;fr<lr.length;fr++)ur=lr[fr],!(ar.indexOf(ur)>=0)&&(cr[ur]=or[ur]);return cr}var _excluded$T=["color"],CheckIcon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$T);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$W=["color"],ChevronDownIcon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$W);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$Z=["color"],ChevronUpIcon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$Z);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1q=["color"],Cross1Icon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$1q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1L=["color"],DoubleArrowDownIcon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$1L);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M3.85355 2.14645C3.65829 1.95118 3.34171 1.95118 3.14645 2.14645C2.95118 2.34171 2.95118 2.65829 3.14645 2.85355L7.14645 6.85355C7.34171 7.04882 7.65829 7.04882 7.85355 6.85355L11.8536 2.85355C12.0488 2.65829 12.0488 2.34171 11.8536 2.14645C11.6583 1.95118 11.3417 1.95118 11.1464 2.14645L7.5 5.79289L3.85355 2.14645ZM3.85355 8.14645C3.65829 7.95118 3.34171 7.95118 3.14645 8.14645C2.95118 8.34171 2.95118 8.65829 3.14645 8.85355L7.14645 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L11.8536 8.85355C12.0488 8.65829 12.0488 8.34171 11.8536 8.14645C11.6583 7.95118 11.3417 7.95118 11.1464 8.14645L7.5 11.7929L3.85355 8.14645Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1O=["color"],DoubleArrowUpIcon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$1O);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M11.1464 6.85355C11.3417 7.04882 11.6583 7.04882 11.8536 6.85355C12.0488 6.65829 12.0488 6.34171 11.8536 6.14645L7.85355 2.14645C7.65829 1.95118 7.34171 1.95118 7.14645 2.14645L3.14645 6.14645C2.95118 6.34171 2.95118 6.65829 3.14645 6.85355C3.34171 7.04882 3.65829 7.04882 3.85355 6.85355L7.5 3.20711L11.1464 6.85355ZM11.1464 12.8536C11.3417 13.0488 11.6583 13.0488 11.8536 12.8536C12.0488 12.6583 12.0488 12.3417 11.8536 12.1464L7.85355 8.14645C7.65829 7.95118 7.34171 7.95118 7.14645 8.14645L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L7.5 9.20711L11.1464 12.8536Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4i=["color"],SunIcon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$4i);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M7.5 0C7.77614 0 8 0.223858 8 0.5V2.5C8 2.77614 7.77614 3 7.5 3C7.22386 3 7 2.77614 7 2.5V0.5C7 0.223858 7.22386 0 7.5 0ZM2.1967 2.1967C2.39196 2.00144 2.70854 2.00144 2.90381 2.1967L4.31802 3.61091C4.51328 3.80617 4.51328 4.12276 4.31802 4.31802C4.12276 4.51328 3.80617 4.51328 3.61091 4.31802L2.1967 2.90381C2.00144 2.70854 2.00144 2.39196 2.1967 2.1967ZM0.5 7C0.223858 7 0 7.22386 0 7.5C0 7.77614 0.223858 8 0.5 8H2.5C2.77614 8 3 7.77614 3 7.5C3 7.22386 2.77614 7 2.5 7H0.5ZM2.1967 12.8033C2.00144 12.608 2.00144 12.2915 2.1967 12.0962L3.61091 10.682C3.80617 10.4867 4.12276 10.4867 4.31802 10.682C4.51328 10.8772 4.51328 11.1938 4.31802 11.3891L2.90381 12.8033C2.70854 12.9986 2.39196 12.9986 2.1967 12.8033ZM12.5 7C12.2239 7 12 7.22386 12 7.5C12 7.77614 12.2239 8 12.5 8H14.5C14.7761 8 15 7.77614 15 7.5C15 7.22386 14.7761 7 14.5 7H12.5ZM10.682 4.31802C10.4867 4.12276 10.4867 3.80617 10.682 3.61091L12.0962 2.1967C12.2915 2.00144 12.608 2.00144 12.8033 2.1967C12.9986 2.39196 12.9986 2.70854 12.8033 2.90381L11.3891 4.31802C11.1938 4.51328 10.8772 4.51328 10.682 4.31802ZM8 12.5C8 12.2239 7.77614 12 7.5 12C7.22386 12 7 12.2239 7 12.5V14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5V12.5ZM10.682 10.682C10.8772 10.4867 11.1938 10.4867 11.3891 10.682L12.8033 12.0962C12.9986 12.2915 12.9986 12.608 12.8033 12.8033C12.608 12.9986 12.2915 12.9986 12.0962 12.8033L10.682 11.3891C10.4867 11.1938 10.4867 10.8772 10.682 10.682ZM5.5 7.5C5.5 6.39543 6.39543 5.5 7.5 5.5C8.60457 5.5 9.5 6.39543 9.5 7.5C9.5 8.60457 8.60457 9.5 7.5 9.5C6.39543 9.5 5.5 8.60457 5.5 7.5ZM7.5 4.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5C9.15685 10.5 10.5 9.15685 10.5 7.5C10.5 5.84315 9.15685 4.5 7.5 4.5Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$4N=["color"],UpdateIcon=reactExports.forwardRef(function(or,ar){var cr=or.color,lr=cr===void 0?"currentColor":cr,ur=_objectWithoutPropertiesLoose(or,_excluded$4N);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur,{ref:ar}),reactExports.createElement("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:lr,fillRule:"evenodd",clipRule:"evenodd"}))});const qspCatalogList$=create([]),qspAuthorFilter$=create(""),qspSortByField$=create("title"),qspSortDirection$=create("asc"),qspTitleSearch$=create(""),onlyAero$=create(!1),qspCatalogPreparedList$=create(or=>{const ar=or(qspCatalogList$),cr=or(qspAuthorFilter$),lr=or(qspSortByField$),ur=or(qspSortDirection$),fr=or(qspTitleSearch$).toLocaleLowerCase(),dr=or(onlyAero$);let pr=cr?ar.filter(mr=>mr.author.includes(cr)):ar.slice();return dr&&(pr=pr.filter(mr=>mr.file_ext==="aqsp")),fr&&(pr=pr.filter(mr=>mr.title.toLocaleLowerCase().includes(fr))),pr.sort(sortByField(lr)),ur==="desc"&&pr.reverse(),pr}),qspAuthors$=create(or=>{const ar=or(qspCatalogList$),cr=new Set;for(const lr of ar){const ur=lr.author.split(",");for(const fr of ur)fr.trim()&&cr.add(fr.trim())}return[...cr].sort((lr,ur)=>lr.localeCompare(ur))}),catalogLoading$=create("pending"),sourceName="org.qsp.games",CATALOG_URL="https://catalog-proxy.qspider.workers.dev/";async function loadQspCatalog(){if(catalogLoading$.value!=="loading"){catalogLoading$.value="loading";try{const or=await fetch(CATALOG_URL);if(!or.ok)throw new Error("Failed to load catalog");const ar=await or.json();qspCatalogList$.value=ar,catalogLoading$.value="loaded"}catch{catalogLoading$.value="failed"}}}async function moveToShelf(or){try{const ar=await importUrl(`${CATALOG_URL}game-source?id=${or.id}`,`qsp-game-${or.id}.${or.file_ext}`);for(const cr of ar)cr.title=or.title,cr.description=or.description,cr.icon=`https://qsp.su/gamestock/image.php?name=${or.icon}`,cr.author=or.author,cr.ported_by=or.ported_by,cr.version=or.version,cr.meta={source:"org.qsp.games",source_id:String(or.id),source_date:or.mod_date},games$.actions.add(cr.id,cr),showNotice(instance.t("{{ name }} added to shelf",{name:or.title}))}catch{showError(`Failed to load source for game ${or.title}`)}}function toggleSortDirection(){qspSortDirection$.update(or=>or==="asc"?"desc":"asc")}function sortByField(or){return(ar,cr)=>{const lr=ar[or],ur=cr[or];return typeof lr=="number"&&typeof ur=="number"?lr-ur:typeof lr=="string"&&typeof ur=="string"?lr.localeCompare(ur):lr===ur?0:lr<ur?1:-1}}const GameCard=or=>{const{game:ar}=or,{t:cr}=useTranslation(),lr=reactExports.useCallback(()=>{games$.actions.remove(ar.id)},[ar.id]),ur=useSetup(mr=>{const gr=mr.focus(vr=>vr.game);return create(vr=>{var xr;const hr=(xr=vr(gr).meta)==null?void 0:xr.source_id;if(!hr)return null;const $r=parseInt(hr);return vr(qspCatalogList$).find(br=>br.id===$r)})},or),fr=useAtom_2(ur),dr=ar.meta&&fr?ar.meta.source_date<fr.mod_date:!1,pr=()=>{!dr||!fr||moveToShelf(fr)};return jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{children:jsxRuntimeExports.jsxs("div",{className:"game-shelf__card","data-qa":`game-${ar.id}`,children:[jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-content",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"q-ghost-button q-remove-game-button",title:"Remove from Game Shelf",onClick:lr,children:jsxRuntimeExports.jsx(Cross1Icon,{})}),jsxRuntimeExports.jsxs("h3",{className:"game-shelf__card-title",children:[ar.icon&&jsxRuntimeExports.jsx("img",{alt:"",src:ar.icon,loading:"lazy"}),ar.title]})]}),jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details",children:[ar.author&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[cr("Author"),": ",ar.author]}),ar.ported_by&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[cr("Ported by"),": ",ar.ported_by]}),ar.version&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-details-row",children:[cr("Version"),": ",ar.version]})]}),dr&&jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-actions",children:[cr("Game has been updated in catalog"),jsxRuntimeExports.jsx("button",{className:"q-button",onClick:pr,children:cr("Update on shelf")})]}),jsxRuntimeExports.jsxs("div",{className:"game-shelf__card-actions",children:[ar.description?jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$41fb9f06171c75f4,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",children:cr("Read Description")})}):jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("a",{href:"#",onClick:mr=>{mr.preventDefault(),goToGame(ar.id)},children:cr("Run")})]}),ar.description&&jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{children:[jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{className:"qspider-dialog-overlay"}),jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{className:"qspider-dialog-content",children:[jsxRuntimeExports.jsxs($57acba87d6e25586$export$be92b6f5f03c0fe9,{className:"qspider-scroll-root",children:[jsxRuntimeExports.jsx($57acba87d6e25586$export$d5c6c08dc2d3ca7,{className:"qspider-scroll-area",children:jsxRuntimeExports.jsx(ContentRenderer,{content:ar.description})}),jsxRuntimeExports.jsx($57acba87d6e25586$export$9a4e88b92edfce6b,{className:"qspider-scroll-bar",orientation:"vertical",children:jsxRuntimeExports.jsx($57acba87d6e25586$export$6521433ed15a34db,{className:"qspider-scroll-thumb"})})]}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$f39c2d165cd861fe,{className:"q-ghost-button q-dialog-close","aria-label":"Close",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]})]})]})})},GameShelf=()=>{const or=useAtom_2(gamesList$),{t:ar}=useTranslation();return jsxRuntimeExports.jsx("div",{className:"game-shelf",children:or.length>0?jsxRuntimeExports.jsx("div",{className:"game-shelf__list",children:or.map(cr=>jsxRuntimeExports.jsx(GameCard,{game:cr},cr.id))}):jsxRuntimeExports.jsx("div",{className:"game-shelf__empty",children:ar("Game shelf is empty")})})},sizes=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],byteSize=1024;function formatBytes(or,ar=2){if(or===0)return"0 Bytes";const cr=Math.floor(Math.log(or)/Math.log(byteSize));return parseFloat((or/Math.pow(byteSize,cr)).toFixed(ar))+" "+sizes[cr]}const CatalogGameCard=or=>{const{t:ar}=useTranslation(),cr=useSetup(gr=>{const vr=gr.focus(hr=>hr.game.id);return create(hr=>{const $r=hr(gameSourceMap$).get(sourceName),xr=String(hr(vr));return $r==null?void 0:$r.has(xr)})},or),lr=useAtom_2(cr),{game:ur}=or,fr=ur.icon?ur.icon.substring(ur.icon.lastIndexOf("com_sobi2")):null,[dr,pr]=reactExports.useState(!1),mr=reactExports.useCallback(async()=>{pr(!0),await moveToShelf(ur),pr(!1)},[ur]);return jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,{children:jsxRuntimeExports.jsxs("div",{className:"q-catalog__card","data-id":ur.id,children:[jsxRuntimeExports.jsxs("h5",{className:"q-title",children:[ur.icon&&jsxRuntimeExports.jsx("img",{alt:"",src:"https://qsp.su/gamestock/image.php?name="+fr,loading:"lazy"}),ur.title]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[ar("Author"),": ",ur.author]}),ur.ported_by&&jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[ar("Ported by"),": ",ur.ported_by]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[ar("Version"),": ",ur.version]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[ar("Size"),": ",formatBytes(ur.file_size)]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[ar("Type"),": ",ur.file_ext]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-details-row",children:[ar("Last update"),": ",formatDate(new Date(ur.mod_date))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__card-buttons",children:[ur.description?jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$41fb9f06171c75f4,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",children:ar("Read Description")})}):jsxRuntimeExports.jsx("div",{}),lr?jsxRuntimeExports.jsx("span",{children:ar("On Shelf")}):jsxRuntimeExports.jsx("button",{className:"q-button",disabled:dr,onClick:mr,children:dr?jsxRuntimeExports.jsx("span",{className:"q-spin",children:jsxRuntimeExports.jsx(UpdateIcon,{})}):ar("Add to shelf")})]}),ur.description?jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$602eac185826482c,{children:[jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{className:"qspider-dialog-overlay"}),jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{className:"qspider-dialog-content",children:[jsxRuntimeExports.jsxs($57acba87d6e25586$export$be92b6f5f03c0fe9,{className:"qspider-scroll-root",children:[jsxRuntimeExports.jsx($57acba87d6e25586$export$d5c6c08dc2d3ca7,{className:"qspider-scroll-area",children:jsxRuntimeExports.jsx(ContentRenderer,{content:ur.description})}),jsxRuntimeExports.jsx($57acba87d6e25586$export$9a4e88b92edfce6b,{className:"qspider-scroll-bar",orientation:"vertical",children:jsxRuntimeExports.jsx($57acba87d6e25586$export$6521433ed15a34db,{className:"qspider-scroll-thumb"})})]}),jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$f39c2d165cd861fe,{className:"q-ghost-button q-dialog-close","aria-label":"Close",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]})]}):null]})})},$ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((or,ar)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({},or,{ref:ar,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...or.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,$cc7e05a45900e73f$var$OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],$cc7e05a45900e73f$var$SELECTION_KEYS=[" ","Enter"],$cc7e05a45900e73f$var$SELECT_NAME="Select",[$cc7e05a45900e73f$var$Collection,$cc7e05a45900e73f$var$useCollection,$cc7e05a45900e73f$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($cc7e05a45900e73f$var$SELECT_NAME),[$cc7e05a45900e73f$var$createSelectContext,$cc7e05a45900e73f$export$286727a75dc039bd]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cc7e05a45900e73f$var$SELECT_NAME,[$cc7e05a45900e73f$var$createCollectionScope,$cf1ac5d9fe0e8206$export$722aac194ae923]),$cc7e05a45900e73f$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),[$cc7e05a45900e73f$var$SelectProvider,$cc7e05a45900e73f$var$useSelectContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$SELECT_NAME),[$cc7e05a45900e73f$var$SelectNativeOptionsProvider,$cc7e05a45900e73f$var$useSelectNativeOptionsContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$SELECT_NAME),$cc7e05a45900e73f$export$ef9b1a59e592288f=or=>{const{__scopeSelect:ar,children:cr,open:lr,defaultOpen:ur,onOpenChange:fr,value:dr,defaultValue:pr,onValueChange:mr,dir:gr,name:vr,autoComplete:hr,disabled:$r,required:xr}=or,br=$cc7e05a45900e73f$var$usePopperScope(ar),[Er,wr]=reactExports.useState(null),[yr,_r]=reactExports.useState(null),[Sr,Pr]=reactExports.useState(!1),Or=$f631663db3294ace$export$b39126d51d94e6f3(gr),[Lr=!1,Tr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lr,defaultProp:ur,onChange:fr}),[jr,Rr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:dr,defaultProp:pr,onChange:mr}),Fr=reactExports.useRef(null),Vr=Er?!!Er.closest("form"):!0,[Zr,so]=reactExports.useState(new Set),Ir=Array.from(Zr).map(Kr=>Kr.props.value).join(";");return reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,br,reactExports.createElement($cc7e05a45900e73f$var$SelectProvider,{required:xr,scope:ar,trigger:Er,onTriggerChange:wr,valueNode:yr,onValueNodeChange:_r,valueNodeHasChildren:Sr,onValueNodeHasChildrenChange:Pr,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),value:jr,onValueChange:Rr,open:Lr,onOpenChange:Tr,dir:Or,triggerPointerDownPosRef:Fr,disabled:$r},reactExports.createElement($cc7e05a45900e73f$var$Collection.Provider,{scope:ar},reactExports.createElement($cc7e05a45900e73f$var$SelectNativeOptionsProvider,{scope:or.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Kr=>{so(no=>new Set(no).add(Kr))},[]),onNativeOptionRemove:reactExports.useCallback(Kr=>{so(no=>{const eo=new Set(no);return eo.delete(Kr),eo})},[])},cr)),Vr?reactExports.createElement($cc7e05a45900e73f$var$BubbleSelect,{key:Ir,"aria-hidden":!0,required:xr,tabIndex:-1,name:vr,autoComplete:hr,value:jr,onChange:Kr=>Rr(Kr.target.value),disabled:$r},jr===void 0?reactExports.createElement("option",{value:""}):null,Array.from(Zr)):null))},$cc7e05a45900e73f$var$TRIGGER_NAME="SelectTrigger",$cc7e05a45900e73f$export$3ac1e88a1c0b9f1=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,disabled:lr=!1,...ur}=or,fr=$cc7e05a45900e73f$var$usePopperScope(cr),dr=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$TRIGGER_NAME,cr),pr=dr.disabled||lr,mr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,dr.onTriggerChange),gr=$cc7e05a45900e73f$var$useCollection(cr),[vr,hr,$r]=$cc7e05a45900e73f$var$useTypeaheadSearch(br=>{const Er=gr().filter(_r=>!_r.disabled),wr=Er.find(_r=>_r.value===dr.value),yr=$cc7e05a45900e73f$var$findNextItem(Er,br,wr);yr!==void 0&&dr.onValueChange(yr.value)}),xr=()=>{pr||(dr.onOpenChange(!0),$r())};return reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$2({asChild:!0},fr),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button",role:"combobox","aria-controls":dr.contentId,"aria-expanded":dr.open,"aria-required":dr.required,"aria-autocomplete":"none",dir:dr.dir,"data-state":dr.open?"open":"closed",disabled:pr,"data-disabled":pr?"":void 0,"data-placeholder":$cc7e05a45900e73f$var$shouldShowPlaceholder(dr.value)?"":void 0},ur,{ref:mr,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur.onClick,br=>{br.currentTarget.focus()}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur.onPointerDown,br=>{const Er=br.target;Er.hasPointerCapture(br.pointerId)&&Er.releasePointerCapture(br.pointerId),br.button===0&&br.ctrlKey===!1&&(xr(),dr.triggerPointerDownPosRef.current={x:Math.round(br.pageX),y:Math.round(br.pageY)},br.preventDefault())}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur.onKeyDown,br=>{const Er=vr.current!=="";!(br.ctrlKey||br.altKey||br.metaKey)&&br.key.length===1&&hr(br.key),!(Er&&br.key===" ")&&$cc7e05a45900e73f$var$OPEN_KEYS.includes(br.key)&&(xr(),br.preventDefault())})})))}),$cc7e05a45900e73f$var$VALUE_NAME="SelectValue",$cc7e05a45900e73f$export$e288731fd71264f0=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,className:lr,style:ur,children:fr,placeholder:dr="",...pr}=or,mr=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$VALUE_NAME,cr),{onValueNodeHasChildrenChange:gr}=mr,vr=fr!==void 0,hr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,mr.onValueNodeChange);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{gr(vr)},[gr,vr]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({},pr,{ref:hr,style:{pointerEvents:"none"}}),$cc7e05a45900e73f$var$shouldShowPlaceholder(mr.value)?reactExports.createElement(reactExports.Fragment,null,dr):fr)}),$cc7e05a45900e73f$export$99b400cabb58c515=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,children:lr,...ur}=or;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({"aria-hidden":!0},ur,{ref:ar}),lr||"▼")}),$cc7e05a45900e73f$export$b2af6c9944296213=or=>reactExports.createElement($f1701beae083dbae$export$602eac185826482c,_extends$2({asChild:!0},or)),$cc7e05a45900e73f$var$CONTENT_NAME="SelectContent",$cc7e05a45900e73f$export$c973a4b3cb86a03d=reactExports.forwardRef((or,ar)=>{const cr=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,or.__scopeSelect),[lr,ur]=reactExports.useState();if($9f79659886946c16$export$e5c5a5f917a5871c(()=>{ur(new DocumentFragment)},[]),!cr.open){const fr=lr;return fr?reactDomExports.createPortal(reactExports.createElement($cc7e05a45900e73f$var$SelectContentProvider,{scope:or.__scopeSelect},reactExports.createElement($cc7e05a45900e73f$var$Collection.Slot,{scope:or.__scopeSelect},reactExports.createElement("div",null,or.children))),fr):null}return reactExports.createElement($cc7e05a45900e73f$var$SelectContentImpl,_extends$2({},or,{ref:ar}))}),$cc7e05a45900e73f$var$CONTENT_MARGIN=10,[$cc7e05a45900e73f$var$SelectContentProvider,$cc7e05a45900e73f$var$useSelectContentContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$CONTENT_NAME),$cc7e05a45900e73f$var$SelectContentImpl=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,position:lr="item-aligned",onCloseAutoFocus:ur,onEscapeKeyDown:fr,onPointerDownOutside:dr,side:pr,sideOffset:mr,align:gr,alignOffset:vr,arrowPadding:hr,collisionBoundary:$r,collisionPadding:xr,sticky:br,hideWhenDetached:Er,avoidCollisions:wr,...yr}=or,_r=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,cr),[Sr,Pr]=reactExports.useState(null),[Or,Lr]=reactExports.useState(null),Tr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Jr=>Pr(Jr)),[jr,Rr]=reactExports.useState(null),[Fr,Vr]=reactExports.useState(null),Zr=$cc7e05a45900e73f$var$useCollection(cr),[so,Ir]=reactExports.useState(!1),Kr=reactExports.useRef(!1);reactExports.useEffect(()=>{if(Sr)return hideOthers(Sr)},[Sr]),$3db38b7d1fb3fe6a$export$b7ece24a22aeda8c();const no=reactExports.useCallback(Jr=>{const[uo,...fo]=Zr().map(yo=>yo.ref.current),[$o]=fo.slice(-1),xo=document.activeElement;for(const yo of Jr)if(yo===xo||(yo==null||yo.scrollIntoView({block:"nearest"}),yo===uo&&Or&&(Or.scrollTop=0),yo===$o&&Or&&(Or.scrollTop=Or.scrollHeight),yo==null||yo.focus(),document.activeElement!==xo))return},[Zr,Or]),eo=reactExports.useCallback(()=>no([jr,Sr]),[no,jr,Sr]);reactExports.useEffect(()=>{so&&eo()},[so,eo]);const{onOpenChange:Wr,triggerPointerDownPosRef:Ur}=_r;reactExports.useEffect(()=>{if(Sr){let Jr={x:0,y:0};const uo=$o=>{var xo,yo,Ao,Mo;Jr={x:Math.abs(Math.round($o.pageX)-((xo=(yo=Ur.current)===null||yo===void 0?void 0:yo.x)!==null&&xo!==void 0?xo:0)),y:Math.abs(Math.round($o.pageY)-((Ao=(Mo=Ur.current)===null||Mo===void 0?void 0:Mo.y)!==null&&Ao!==void 0?Ao:0))}},fo=$o=>{Jr.x<=10&&Jr.y<=10?$o.preventDefault():Sr.contains($o.target)||Wr(!1),document.removeEventListener("pointermove",uo),Ur.current=null};return Ur.current!==null&&(document.addEventListener("pointermove",uo),document.addEventListener("pointerup",fo,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",uo),document.removeEventListener("pointerup",fo,{capture:!0})}}},[Sr,Wr,Ur]),reactExports.useEffect(()=>{const Jr=()=>Wr(!1);return window.addEventListener("blur",Jr),window.addEventListener("resize",Jr),()=>{window.removeEventListener("blur",Jr),window.removeEventListener("resize",Jr)}},[Wr]);const[ro,Gr]=$cc7e05a45900e73f$var$useTypeaheadSearch(Jr=>{const uo=Zr().filter(xo=>!xo.disabled),fo=uo.find(xo=>xo.ref.current===document.activeElement),$o=$cc7e05a45900e73f$var$findNextItem(uo,Jr,fo);$o&&setTimeout(()=>$o.ref.current.focus())}),Qr=reactExports.useCallback((Jr,uo,fo)=>{const $o=!Kr.current&&!fo;(_r.value!==void 0&&_r.value===uo||$o)&&(Rr(Jr),$o&&(Kr.current=!0))},[_r.value]),lo=reactExports.useCallback(()=>Sr==null?void 0:Sr.focus(),[Sr]),ao=reactExports.useCallback((Jr,uo,fo)=>{const $o=!Kr.current&&!fo;(_r.value!==void 0&&_r.value===uo||$o)&&Vr(Jr)},[_r.value]),Yr=lr==="popper"?$cc7e05a45900e73f$var$SelectPopperPosition:$cc7e05a45900e73f$var$SelectItemAlignedPosition,io=Yr===$cc7e05a45900e73f$var$SelectPopperPosition?{side:pr,sideOffset:mr,align:gr,alignOffset:vr,arrowPadding:hr,collisionBoundary:$r,collisionPadding:xr,sticky:br,hideWhenDetached:Er,avoidCollisions:wr}:{};return reactExports.createElement($cc7e05a45900e73f$var$SelectContentProvider,{scope:cr,content:Sr,viewport:Or,onViewportChange:Lr,itemRefCallback:Qr,selectedItem:jr,onItemLeave:lo,itemTextRefCallback:ao,focusSelectedItem:eo,selectedItemText:Fr,position:lr,isPositioned:so,searchRef:ro},reactExports.createElement($01b9c$RemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0},reactExports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,trapped:_r.open,onMountAutoFocus:Jr=>{Jr.preventDefault()},onUnmountAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur,Jr=>{var uo;(uo=_r.trigger)===null||uo===void 0||uo.focus({preventScroll:!0}),Jr.preventDefault()})},reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:fr,onPointerDownOutside:dr,onFocusOutside:Jr=>Jr.preventDefault(),onDismiss:()=>_r.onOpenChange(!1)},reactExports.createElement(Yr,_extends$2({role:"listbox",id:_r.contentId,"data-state":_r.open?"open":"closed",dir:_r.dir,onContextMenu:Jr=>Jr.preventDefault()},yr,io,{onPlaced:()=>Ir(!0),ref:Tr,style:{display:"flex",flexDirection:"column",outline:"none",...yr.style},onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(yr.onKeyDown,Jr=>{const uo=Jr.ctrlKey||Jr.altKey||Jr.metaKey;if(Jr.key==="Tab"&&Jr.preventDefault(),!uo&&Jr.key.length===1&&Gr(Jr.key),["ArrowUp","ArrowDown","Home","End"].includes(Jr.key)){let $o=Zr().filter(xo=>!xo.disabled).map(xo=>xo.ref.current);if(["ArrowUp","End"].includes(Jr.key)&&($o=$o.slice().reverse()),["ArrowUp","ArrowDown"].includes(Jr.key)){const xo=Jr.target,yo=$o.indexOf(xo);$o=$o.slice(yo+1)}setTimeout(()=>no($o)),Jr.preventDefault()}})}))))))}),$cc7e05a45900e73f$var$SelectItemAlignedPosition=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,onPlaced:lr,...ur}=or,fr=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,cr),dr=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$CONTENT_NAME,cr),[pr,mr]=reactExports.useState(null),[gr,vr]=reactExports.useState(null),hr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Tr=>vr(Tr)),$r=$cc7e05a45900e73f$var$useCollection(cr),xr=reactExports.useRef(!1),br=reactExports.useRef(!0),{viewport:Er,selectedItem:wr,selectedItemText:yr,focusSelectedItem:_r}=dr,Sr=reactExports.useCallback(()=>{if(fr.trigger&&fr.valueNode&&pr&&gr&&Er&&wr&&yr){const Tr=fr.trigger.getBoundingClientRect(),jr=gr.getBoundingClientRect(),Rr=fr.valueNode.getBoundingClientRect(),Fr=yr.getBoundingClientRect();if(fr.dir!=="rtl"){const xo=Fr.left-jr.left,yo=Rr.left-xo,Ao=Tr.left-yo,Mo=Tr.width+Ao,Lo=Math.max(Mo,jr.width),zo=window.innerWidth-$cc7e05a45900e73f$var$CONTENT_MARGIN,Uo=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(yo,[$cc7e05a45900e73f$var$CONTENT_MARGIN,zo-Lo]);pr.style.minWidth=Mo+"px",pr.style.left=Uo+"px"}else{const xo=jr.right-Fr.right,yo=window.innerWidth-Rr.right-xo,Ao=window.innerWidth-Tr.right-yo,Mo=Tr.width+Ao,Lo=Math.max(Mo,jr.width),zo=window.innerWidth-$cc7e05a45900e73f$var$CONTENT_MARGIN,Uo=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(yo,[$cc7e05a45900e73f$var$CONTENT_MARGIN,zo-Lo]);pr.style.minWidth=Mo+"px",pr.style.right=Uo+"px"}const Vr=$r(),Zr=window.innerHeight-$cc7e05a45900e73f$var$CONTENT_MARGIN*2,so=Er.scrollHeight,Ir=window.getComputedStyle(gr),Kr=parseInt(Ir.borderTopWidth,10),no=parseInt(Ir.paddingTop,10),eo=parseInt(Ir.borderBottomWidth,10),Wr=parseInt(Ir.paddingBottom,10),Ur=Kr+no+so+Wr+eo,ro=Math.min(wr.offsetHeight*5,Ur),Gr=window.getComputedStyle(Er),Qr=parseInt(Gr.paddingTop,10),lo=parseInt(Gr.paddingBottom,10),ao=Tr.top+Tr.height/2-$cc7e05a45900e73f$var$CONTENT_MARGIN,Yr=Zr-ao,io=wr.offsetHeight/2,Jr=wr.offsetTop+io,uo=Kr+no+Jr,fo=Ur-uo;if(uo<=ao){const xo=wr===Vr[Vr.length-1].ref.current;pr.style.bottom="0px";const yo=gr.clientHeight-Er.offsetTop-Er.offsetHeight,Ao=Math.max(Yr,io+(xo?lo:0)+yo+eo),Mo=uo+Ao;pr.style.height=Mo+"px"}else{const xo=wr===Vr[0].ref.current;pr.style.top="0px";const Ao=Math.max(ao,Kr+Er.offsetTop+(xo?Qr:0)+io)+fo;pr.style.height=Ao+"px",Er.scrollTop=uo-ao+Er.offsetTop}pr.style.margin=`${$cc7e05a45900e73f$var$CONTENT_MARGIN}px 0`,pr.style.minHeight=ro+"px",pr.style.maxHeight=Zr+"px",lr==null||lr(),requestAnimationFrame(()=>xr.current=!0)}},[$r,fr.trigger,fr.valueNode,pr,gr,Er,wr,yr,fr.dir,lr]);$9f79659886946c16$export$e5c5a5f917a5871c(()=>Sr(),[Sr]);const[Pr,Or]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{gr&&Or(window.getComputedStyle(gr).zIndex)},[gr]);const Lr=reactExports.useCallback(Tr=>{Tr&&br.current===!0&&(Sr(),_r==null||_r(),br.current=!1)},[Sr,_r]);return reactExports.createElement($cc7e05a45900e73f$var$SelectViewportProvider,{scope:cr,contentWrapper:pr,shouldExpandOnScrollRef:xr,onScrollButtonChange:Lr},reactExports.createElement("div",{ref:mr,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Pr}},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},ur,{ref:hr,style:{boxSizing:"border-box",maxHeight:"100%",...ur.style}}))))}),$cc7e05a45900e73f$var$SelectPopperPosition=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,align:lr="start",collisionPadding:ur=$cc7e05a45900e73f$var$CONTENT_MARGIN,...fr}=or,dr=$cc7e05a45900e73f$var$usePopperScope(cr);return reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$2({},dr,fr,{ref:ar,align:lr,collisionPadding:ur,style:{boxSizing:"border-box",...fr.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[$cc7e05a45900e73f$var$SelectViewportProvider,$cc7e05a45900e73f$var$useSelectViewportContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,{}),$cc7e05a45900e73f$var$VIEWPORT_NAME="SelectViewport",$cc7e05a45900e73f$export$9ed6e7b40248d36d=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,...lr}=or,ur=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$VIEWPORT_NAME,cr),fr=$cc7e05a45900e73f$var$useSelectViewportContext($cc7e05a45900e73f$var$VIEWPORT_NAME,cr),dr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,ur.onViewportChange),pr=reactExports.useRef(0);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),reactExports.createElement($cc7e05a45900e73f$var$Collection.Slot,{scope:cr},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-radix-select-viewport":"",role:"presentation"},lr,{ref:dr,style:{position:"relative",flex:1,overflow:"auto",...lr.style},onScroll:$e42e1063c40fb3ef$export$b9ecd428b558ff10(lr.onScroll,mr=>{const gr=mr.currentTarget,{contentWrapper:vr,shouldExpandOnScrollRef:hr}=fr;if(hr!=null&&hr.current&&vr){const $r=Math.abs(pr.current-gr.scrollTop);if($r>0){const xr=window.innerHeight-$cc7e05a45900e73f$var$CONTENT_MARGIN*2,br=parseFloat(vr.style.minHeight),Er=parseFloat(vr.style.height),wr=Math.max(br,Er);if(wr<xr){const yr=wr+$r,_r=Math.min(xr,yr),Sr=yr-_r;vr.style.height=_r+"px",vr.style.bottom==="0px"&&(gr.scrollTop=Sr>0?Sr:0,vr.style.justifyContent="flex-end")}}}pr.current=gr.scrollTop})}))))}),$cc7e05a45900e73f$var$GROUP_NAME="SelectGroup";$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$GROUP_NAME);const $cc7e05a45900e73f$var$ITEM_NAME="SelectItem",[$cc7e05a45900e73f$var$SelectItemContextProvider,$cc7e05a45900e73f$var$useSelectItemContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$ITEM_NAME),$cc7e05a45900e73f$export$13ef48a934230896=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,value:lr,disabled:ur=!1,textValue:fr,...dr}=or,pr=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$ITEM_NAME,cr),mr=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$ITEM_NAME,cr),gr=pr.value===lr,[vr,hr]=reactExports.useState(fr??""),[$r,xr]=reactExports.useState(!1),br=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,yr=>{var _r;return(_r=mr.itemRefCallback)===null||_r===void 0?void 0:_r.call(mr,yr,lr,ur)}),Er=$1746a345f3d73bb7$export$f680877a34711e37(),wr=()=>{ur||(pr.onValueChange(lr),pr.onOpenChange(!1))};if(lr==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return reactExports.createElement($cc7e05a45900e73f$var$SelectItemContextProvider,{scope:cr,value:lr,disabled:ur,textId:Er,isSelected:gr,onItemTextChange:reactExports.useCallback(yr=>{hr(_r=>{var Sr;return _r||((Sr=yr==null?void 0:yr.textContent)!==null&&Sr!==void 0?Sr:"").trim()})},[])},reactExports.createElement($cc7e05a45900e73f$var$Collection.ItemSlot,{scope:cr,value:lr,disabled:ur,textValue:vr},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({role:"option","aria-labelledby":Er,"data-highlighted":$r?"":void 0,"aria-selected":gr&&$r,"data-state":gr?"checked":"unchecked","aria-disabled":ur||void 0,"data-disabled":ur?"":void 0,tabIndex:ur?void 0:-1},dr,{ref:br,onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(dr.onFocus,()=>xr(!0)),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(dr.onBlur,()=>xr(!1)),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(dr.onPointerUp,wr),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(dr.onPointerMove,yr=>{if(ur){var _r;(_r=mr.onItemLeave)===null||_r===void 0||_r.call(mr)}else yr.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(dr.onPointerLeave,yr=>{if(yr.currentTarget===document.activeElement){var _r;(_r=mr.onItemLeave)===null||_r===void 0||_r.call(mr)}}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(dr.onKeyDown,yr=>{var _r;((_r=mr.searchRef)===null||_r===void 0?void 0:_r.current)!==""&&yr.key===" "||($cc7e05a45900e73f$var$SELECTION_KEYS.includes(yr.key)&&wr(),yr.key===" "&&yr.preventDefault())})}))))}),$cc7e05a45900e73f$var$ITEM_TEXT_NAME="SelectItemText",$cc7e05a45900e73f$export$3572fb0fb821ff49=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,className:lr,style:ur,...fr}=or,dr=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,cr),pr=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,cr),mr=$cc7e05a45900e73f$var$useSelectItemContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,cr),gr=$cc7e05a45900e73f$var$useSelectNativeOptionsContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,cr),[vr,hr]=reactExports.useState(null),$r=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,yr=>hr(yr),mr.onItemTextChange,yr=>{var _r;return(_r=pr.itemTextRefCallback)===null||_r===void 0?void 0:_r.call(pr,yr,mr.value,mr.disabled)}),xr=vr==null?void 0:vr.textContent,br=reactExports.useMemo(()=>reactExports.createElement("option",{key:mr.value,value:mr.value,disabled:mr.disabled},xr),[mr.disabled,mr.value,xr]),{onNativeOptionAdd:Er,onNativeOptionRemove:wr}=gr;return $9f79659886946c16$export$e5c5a5f917a5871c(()=>(Er(br),()=>wr(br)),[Er,wr,br]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({id:mr.textId},fr,{ref:$r})),mr.isSelected&&dr.valueNode&&!dr.valueNodeHasChildren?reactDomExports.createPortal(fr.children,dr.valueNode):null)}),$cc7e05a45900e73f$var$ITEM_INDICATOR_NAME="SelectItemIndicator",$cc7e05a45900e73f$export$6b9198de19accfe6=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,...lr}=or;return $cc7e05a45900e73f$var$useSelectItemContext($cc7e05a45900e73f$var$ITEM_INDICATOR_NAME,cr).isSelected?reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({"aria-hidden":!0},lr,{ref:ar})):null}),$cc7e05a45900e73f$var$SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",$cc7e05a45900e73f$export$d8117927658af6d7=reactExports.forwardRef((or,ar)=>{const cr=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$SCROLL_UP_BUTTON_NAME,or.__scopeSelect),lr=$cc7e05a45900e73f$var$useSelectViewportContext($cc7e05a45900e73f$var$SCROLL_UP_BUTTON_NAME,or.__scopeSelect),[ur,fr]=reactExports.useState(!1),dr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,lr.onScrollButtonChange);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(cr.viewport&&cr.isPositioned){let mr=function(){const gr=pr.scrollTop>0;fr(gr)};const pr=cr.viewport;return mr(),pr.addEventListener("scroll",mr),()=>pr.removeEventListener("scroll",mr)}},[cr.viewport,cr.isPositioned]),ur?reactExports.createElement($cc7e05a45900e73f$var$SelectScrollButtonImpl,_extends$2({},or,{ref:dr,onAutoScroll:()=>{const{viewport:pr,selectedItem:mr}=cr;pr&&mr&&(pr.scrollTop=pr.scrollTop-mr.offsetHeight)}})):null}),$cc7e05a45900e73f$var$SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",$cc7e05a45900e73f$export$ff951e476c12189=reactExports.forwardRef((or,ar)=>{const cr=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$SCROLL_DOWN_BUTTON_NAME,or.__scopeSelect),lr=$cc7e05a45900e73f$var$useSelectViewportContext($cc7e05a45900e73f$var$SCROLL_DOWN_BUTTON_NAME,or.__scopeSelect),[ur,fr]=reactExports.useState(!1),dr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,lr.onScrollButtonChange);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(cr.viewport&&cr.isPositioned){let mr=function(){const gr=pr.scrollHeight-pr.clientHeight,vr=Math.ceil(pr.scrollTop)<gr;fr(vr)};const pr=cr.viewport;return mr(),pr.addEventListener("scroll",mr),()=>pr.removeEventListener("scroll",mr)}},[cr.viewport,cr.isPositioned]),ur?reactExports.createElement($cc7e05a45900e73f$var$SelectScrollButtonImpl,_extends$2({},or,{ref:dr,onAutoScroll:()=>{const{viewport:pr,selectedItem:mr}=cr;pr&&mr&&(pr.scrollTop=pr.scrollTop+mr.offsetHeight)}})):null}),$cc7e05a45900e73f$var$SelectScrollButtonImpl=reactExports.forwardRef((or,ar)=>{const{__scopeSelect:cr,onAutoScroll:lr,...ur}=or,fr=$cc7e05a45900e73f$var$useSelectContentContext("SelectScrollButton",cr),dr=reactExports.useRef(null),pr=$cc7e05a45900e73f$var$useCollection(cr),mr=reactExports.useCallback(()=>{dr.current!==null&&(window.clearInterval(dr.current),dr.current=null)},[]);return reactExports.useEffect(()=>()=>mr(),[mr]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{var gr;const vr=pr().find(hr=>hr.ref.current===document.activeElement);vr==null||(gr=vr.ref.current)===null||gr===void 0||gr.scrollIntoView({block:"nearest"})},[pr]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"aria-hidden":!0},ur,{ref:ar,style:{flexShrink:0,...ur.style},onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur.onPointerDown,()=>{dr.current===null&&(dr.current=window.setInterval(lr,50))}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur.onPointerMove,()=>{var gr;(gr=fr.onItemLeave)===null||gr===void 0||gr.call(fr),dr.current===null&&(dr.current=window.setInterval(lr,50))}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(ur.onPointerLeave,()=>{mr()})}))});function $cc7e05a45900e73f$var$shouldShowPlaceholder(or){return or===""||or===void 0}const $cc7e05a45900e73f$var$BubbleSelect=reactExports.forwardRef((or,ar)=>{const{value:cr,...lr}=or,ur=reactExports.useRef(null),fr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,ur),dr=$010c2913dbd2fe3d$export$5cae361ad82dce8b(cr);return reactExports.useEffect(()=>{const pr=ur.current,mr=window.HTMLSelectElement.prototype,vr=Object.getOwnPropertyDescriptor(mr,"value").set;if(dr!==cr&&vr){const hr=new Event("change",{bubbles:!0});vr.call(pr,cr),pr.dispatchEvent(hr)}},[dr,cr]),reactExports.createElement($ea1ef594cf570d83$export$439d29a4e110a164,{asChild:!0},reactExports.createElement("select",_extends$2({},lr,{ref:fr,defaultValue:cr})))});$cc7e05a45900e73f$var$BubbleSelect.displayName="BubbleSelect";function $cc7e05a45900e73f$var$useTypeaheadSearch(or){const ar=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or),cr=reactExports.useRef(""),lr=reactExports.useRef(0),ur=reactExports.useCallback(dr=>{const pr=cr.current+dr;ar(pr),function mr(gr){cr.current=gr,window.clearTimeout(lr.current),gr!==""&&(lr.current=window.setTimeout(()=>mr(""),1e3))}(pr)},[ar]),fr=reactExports.useCallback(()=>{cr.current="",window.clearTimeout(lr.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(lr.current),[]),[cr,ur,fr]}function $cc7e05a45900e73f$var$findNextItem(or,ar,cr){const ur=ar.length>1&&Array.from(ar).every(gr=>gr===ar[0])?ar[0]:ar,fr=cr?or.indexOf(cr):-1;let dr=$cc7e05a45900e73f$var$wrapArray(or,Math.max(fr,0));ur.length===1&&(dr=dr.filter(gr=>gr!==cr));const mr=dr.find(gr=>gr.textValue.toLowerCase().startsWith(ur.toLowerCase()));return mr!==cr?mr:void 0}function $cc7e05a45900e73f$var$wrapArray(or,ar){return or.map((cr,lr)=>or[(ar+lr)%or.length])}const $cc7e05a45900e73f$export$be92b6f5f03c0fe9=$cc7e05a45900e73f$export$ef9b1a59e592288f,$cc7e05a45900e73f$export$41fb9f06171c75f4=$cc7e05a45900e73f$export$3ac1e88a1c0b9f1,$cc7e05a45900e73f$export$4c8d1a57a761ef94=$cc7e05a45900e73f$export$e288731fd71264f0,$cc7e05a45900e73f$export$f04a61298a47a40f=$cc7e05a45900e73f$export$99b400cabb58c515,$cc7e05a45900e73f$export$602eac185826482c=$cc7e05a45900e73f$export$b2af6c9944296213,$cc7e05a45900e73f$export$7c6e2c02157bb7d2=$cc7e05a45900e73f$export$c973a4b3cb86a03d,$cc7e05a45900e73f$export$d5c6c08dc2d3ca7=$cc7e05a45900e73f$export$9ed6e7b40248d36d,$cc7e05a45900e73f$export$6d08773d2e66f8f2=$cc7e05a45900e73f$export$13ef48a934230896,$cc7e05a45900e73f$export$d6e5bf9c43ea9319=$cc7e05a45900e73f$export$3572fb0fb821ff49,$cc7e05a45900e73f$export$c3468e2714d175fa=$cc7e05a45900e73f$export$6b9198de19accfe6,$cc7e05a45900e73f$export$2f60d3ec9ad468f2=$cc7e05a45900e73f$export$d8117927658af6d7,$cc7e05a45900e73f$export$bf1aedc3039c8d63=$cc7e05a45900e73f$export$ff951e476c12189,SelectItem=({children:or,...ar})=>jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$6d08773d2e66f8f2,{className:"q-select-item",...ar,children:[jsxRuntimeExports.jsx($cc7e05a45900e73f$export$d6e5bf9c43ea9319,{children:or}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$c3468e2714d175fa,{className:"q-select-item-indicator",children:jsxRuntimeExports.jsx(CheckIcon,{})})]}),Select=({options:or,placeholder:ar,label:cr,value:lr,name:ur,onValueChange:fr})=>jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$be92b6f5f03c0fe9,{value:lr,onValueChange:fr,name:ur,children:[jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$41fb9f06171c75f4,{className:"q-select","aria-label":cr,children:[jsxRuntimeExports.jsx($cc7e05a45900e73f$export$4c8d1a57a761ef94,{placeholder:ar}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$f04a61298a47a40f,{className:"q-select-icon",children:jsxRuntimeExports.jsx(ChevronDownIcon,{})})]}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$602eac185826482c,{children:jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$7c6e2c02157bb7d2,{className:"q-select-content",children:[jsxRuntimeExports.jsx($cc7e05a45900e73f$export$2f60d3ec9ad468f2,{className:"q-select-scroll-button",children:jsxRuntimeExports.jsx(ChevronUpIcon,{})}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$d5c6c08dc2d3ca7,{className:"SelectViewport",children:or.map(dr=>jsxRuntimeExports.jsx(SelectItem,{value:dr.value,children:dr.label},dr.value))}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$bf1aedc3039c8d63,{className:"q-select-scroll-button",children:jsxRuntimeExports.jsx(ChevronDownIcon,{})})]})})]}),[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION=700,$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$export$f78649fb9ca566b8=or=>{const{__scopeTooltip:ar,delayDuration:cr=$a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION,skipDelayDuration:lr=300,disableHoverableContent:ur=!1,children:fr}=or,[dr,pr]=reactExports.useState(!0),mr=reactExports.useRef(!1),gr=reactExports.useRef(0);return reactExports.useEffect(()=>{const vr=gr.current;return()=>window.clearTimeout(vr)},[]),reactExports.createElement($a093c7e1ec25a057$var$TooltipProviderContextProvider,{scope:ar,isOpenDelayed:dr,delayDuration:cr,onOpen:reactExports.useCallback(()=>{window.clearTimeout(gr.current),pr(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(gr.current),gr.current=window.setTimeout(()=>pr(!0),lr)},[lr]),isPointerInTransitRef:mr,onPointerInTransitChange:reactExports.useCallback(vr=>{mr.current=vr},[]),disableHoverableContent:ur},fr)},$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$export$28c660c63b792dea=or=>{const{__scopeTooltip:ar,children:cr,open:lr,defaultOpen:ur=!1,onOpenChange:fr,disableHoverableContent:dr,delayDuration:pr}=or,mr=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME,or.__scopeTooltip),gr=$a093c7e1ec25a057$var$usePopperScope(ar),[vr,hr]=reactExports.useState(null),$r=$1746a345f3d73bb7$export$f680877a34711e37(),xr=reactExports.useRef(0),br=dr??mr.disableHoverableContent,Er=pr??mr.delayDuration,wr=reactExports.useRef(!1),[yr=!1,_r]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lr,defaultProp:ur,onChange:Tr=>{Tr?(mr.onOpen(),document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN))):mr.onClose(),fr==null||fr(Tr)}}),Sr=reactExports.useMemo(()=>yr?wr.current?"delayed-open":"instant-open":"closed",[yr]),Pr=reactExports.useCallback(()=>{window.clearTimeout(xr.current),wr.current=!1,_r(!0)},[_r]),Or=reactExports.useCallback(()=>{window.clearTimeout(xr.current),_r(!1)},[_r]),Lr=reactExports.useCallback(()=>{window.clearTimeout(xr.current),xr.current=window.setTimeout(()=>{wr.current=!0,_r(!0)},Er)},[Er,_r]);return reactExports.useEffect(()=>()=>window.clearTimeout(xr.current),[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,gr,reactExports.createElement($a093c7e1ec25a057$var$TooltipContextProvider,{scope:ar,contentId:$r,open:yr,stateAttribute:Sr,trigger:vr,onTriggerChange:hr,onTriggerEnter:reactExports.useCallback(()=>{mr.isOpenDelayed?Lr():Pr()},[mr.isOpenDelayed,Lr,Pr]),onTriggerLeave:reactExports.useCallback(()=>{br?Or():window.clearTimeout(xr.current)},[Or,br]),onOpen:Pr,onClose:Or,disableHoverableContent:br},cr))},$a093c7e1ec25a057$var$TRIGGER_NAME="TooltipTrigger",$a093c7e1ec25a057$export$8c610744efcf8a1d=reactExports.forwardRef((or,ar)=>{const{__scopeTooltip:cr,...lr}=or,ur=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME,cr),fr=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME,cr),dr=$a093c7e1ec25a057$var$usePopperScope(cr),pr=reactExports.useRef(null),mr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,pr,ur.onTriggerChange),gr=reactExports.useRef(!1),vr=reactExports.useRef(!1),hr=reactExports.useCallback(()=>gr.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",hr),[hr]),reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$2({asChild:!0},dr),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({"aria-describedby":ur.open?ur.contentId:void 0,"data-state":ur.stateAttribute},lr,{ref:mr,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerMove,$r=>{$r.pointerType!=="touch"&&!vr.current&&!fr.isPointerInTransitRef.current&&(ur.onTriggerEnter(),vr.current=!0)}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerLeave,()=>{ur.onTriggerLeave(),vr.current=!1}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDown,()=>{gr.current=!0,document.addEventListener("pointerup",hr,{once:!0})}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onFocus,()=>{gr.current||ur.onOpen()}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onBlur,ur.onClose),onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onClick,ur.onClose)})))}),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$export$7b36b8f925ab7497=or=>{const{__scopeTooltip:ar,forceMount:cr,children:lr,container:ur}=or,fr=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,ar);return reactExports.createElement($a093c7e1ec25a057$var$PortalProvider,{scope:ar,forceMount:cr},reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:cr||fr.open},reactExports.createElement($f1701beae083dbae$export$602eac185826482c,{asChild:!0,container:ur},lr)))},$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=reactExports.forwardRef((or,ar)=>{const cr=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,or.__scopeTooltip),{forceMount:lr=cr.forceMount,side:ur="top",...fr}=or,dr=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,or.__scopeTooltip);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:lr||dr.open},dr.disableHoverableContent?reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$2({side:ur},fr,{ref:ar})):reactExports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends$2({side:ur},fr,{ref:ar})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=reactExports.forwardRef((or,ar)=>{const cr=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,or.__scopeTooltip),lr=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,or.__scopeTooltip),ur=reactExports.useRef(null),fr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,ur),[dr,pr]=reactExports.useState(null),{trigger:mr,onClose:gr}=cr,vr=ur.current,{onPointerInTransitChange:hr}=lr,$r=reactExports.useCallback(()=>{pr(null),hr(!1)},[hr]),xr=reactExports.useCallback((br,Er)=>{const wr=br.currentTarget,yr={x:br.clientX,y:br.clientY},_r=$a093c7e1ec25a057$var$getExitSideFromRect(yr,wr.getBoundingClientRect()),Sr=$a093c7e1ec25a057$var$getPaddedExitPoints(yr,_r),Pr=$a093c7e1ec25a057$var$getPointsFromRect(Er.getBoundingClientRect()),Or=$a093c7e1ec25a057$var$getHull([...Sr,...Pr]);pr(Or),hr(!0)},[hr]);return reactExports.useEffect(()=>()=>$r(),[$r]),reactExports.useEffect(()=>{if(mr&&vr){const br=wr=>xr(wr,vr),Er=wr=>xr(wr,mr);return mr.addEventListener("pointerleave",br),vr.addEventListener("pointerleave",Er),()=>{mr.removeEventListener("pointerleave",br),vr.removeEventListener("pointerleave",Er)}}},[mr,vr,xr,$r]),reactExports.useEffect(()=>{if(dr){const br=Er=>{const wr=Er.target,yr={x:Er.clientX,y:Er.clientY},_r=(mr==null?void 0:mr.contains(wr))||(vr==null?void 0:vr.contains(wr)),Sr=!$a093c7e1ec25a057$var$isPointInPolygon(yr,dr);_r?$r():Sr&&($r(),gr())};return document.addEventListener("pointermove",br),()=>document.removeEventListener("pointermove",br)}},[mr,vr,dr,gr,$r]),reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$2({},or,{ref:fr}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=reactExports.forwardRef((or,ar)=>{const{__scopeTooltip:cr,children:lr,"aria-label":ur,onEscapeKeyDown:fr,onPointerDownOutside:dr,...pr}=or,mr=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,cr),gr=$a093c7e1ec25a057$var$usePopperScope(cr),{onClose:vr}=mr;return reactExports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,vr),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,vr)),[vr]),reactExports.useEffect(()=>{if(mr.trigger){const hr=$r=>{const xr=$r.target;xr!=null&&xr.contains(mr.trigger)&&vr()};return window.addEventListener("scroll",hr,{capture:!0}),()=>window.removeEventListener("scroll",hr,{capture:!0})}},[mr.trigger,vr]),reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:fr,onPointerDownOutside:dr,onFocusOutside:hr=>hr.preventDefault(),onDismiss:vr},reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$2({"data-state":mr.stateAttribute},gr,pr,{ref:ar,style:{...pr.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,lr),reactExports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:cr,isInside:!0},reactExports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:mr.contentId,role:"tooltip"},ur||lr))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=reactExports.forwardRef((or,ar)=>{const{__scopeTooltip:cr,...lr}=or,ur=$a093c7e1ec25a057$var$usePopperScope(cr);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,cr).isInside?null:reactExports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends$2({},ur,lr,{ref:ar}))});function $a093c7e1ec25a057$var$getExitSideFromRect(or,ar){const cr=Math.abs(ar.top-or.y),lr=Math.abs(ar.bottom-or.y),ur=Math.abs(ar.right-or.x),fr=Math.abs(ar.left-or.x);switch(Math.min(cr,lr,ur,fr)){case fr:return"left";case ur:return"right";case cr:return"top";case lr:return"bottom";default:throw new Error("unreachable")}}function $a093c7e1ec25a057$var$getPaddedExitPoints(or,ar,cr=5){const lr=[];switch(ar){case"top":lr.push({x:or.x-cr,y:or.y+cr},{x:or.x+cr,y:or.y+cr});break;case"bottom":lr.push({x:or.x-cr,y:or.y-cr},{x:or.x+cr,y:or.y-cr});break;case"left":lr.push({x:or.x+cr,y:or.y-cr},{x:or.x+cr,y:or.y+cr});break;case"right":lr.push({x:or.x-cr,y:or.y-cr},{x:or.x-cr,y:or.y+cr});break}return lr}function $a093c7e1ec25a057$var$getPointsFromRect(or){const{top:ar,right:cr,bottom:lr,left:ur}=or;return[{x:ur,y:ar},{x:cr,y:ar},{x:cr,y:lr},{x:ur,y:lr}]}function $a093c7e1ec25a057$var$isPointInPolygon(or,ar){const{x:cr,y:lr}=or;let ur=!1;for(let fr=0,dr=ar.length-1;fr<ar.length;dr=fr++){const pr=ar[fr].x,mr=ar[fr].y,gr=ar[dr].x,vr=ar[dr].y;mr>lr!=vr>lr&&cr<(gr-pr)*(lr-mr)/(vr-mr)+pr&&(ur=!ur)}return ur}function $a093c7e1ec25a057$var$getHull(or){const ar=or.slice();return ar.sort((cr,lr)=>cr.x<lr.x?-1:cr.x>lr.x?1:cr.y<lr.y?-1:cr.y>lr.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(ar)}function $a093c7e1ec25a057$var$getHullPresorted(or){if(or.length<=1)return or.slice();const ar=[];for(let lr=0;lr<or.length;lr++){const ur=or[lr];for(;ar.length>=2;){const fr=ar[ar.length-1],dr=ar[ar.length-2];if((fr.x-dr.x)*(ur.y-dr.y)>=(fr.y-dr.y)*(ur.x-dr.x))ar.pop();else break}ar.push(ur)}ar.pop();const cr=[];for(let lr=or.length-1;lr>=0;lr--){const ur=or[lr];for(;cr.length>=2;){const fr=cr[cr.length-1],dr=cr[cr.length-2];if((fr.x-dr.x)*(ur.y-dr.y)>=(fr.y-dr.y)*(ur.x-dr.x))cr.pop();else break}cr.push(ur)}return cr.pop(),ar.length===1&&cr.length===1&&ar[0].x===cr[0].x&&ar[0].y===cr[0].y?ar:ar.concat(cr)}const $a093c7e1ec25a057$export$2881499e37b75b9a=$a093c7e1ec25a057$export$f78649fb9ca566b8,$a093c7e1ec25a057$export$be92b6f5f03c0fe9=$a093c7e1ec25a057$export$28c660c63b792dea,$a093c7e1ec25a057$export$41fb9f06171c75f4=$a093c7e1ec25a057$export$8c610744efcf8a1d,$a093c7e1ec25a057$export$602eac185826482c=$a093c7e1ec25a057$export$7b36b8f925ab7497,$a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559,Tooltip=({children:or,content:ar})=>jsxRuntimeExports.jsx($a093c7e1ec25a057$export$2881499e37b75b9a,{children:jsxRuntimeExports.jsxs($a093c7e1ec25a057$export$be92b6f5f03c0fe9,{children:[jsxRuntimeExports.jsx($a093c7e1ec25a057$export$41fb9f06171c75f4,{asChild:!0,children:or}),jsxRuntimeExports.jsx($a093c7e1ec25a057$export$602eac185826482c,{container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsxs($a093c7e1ec25a057$export$7c6e2c02157bb7d2,{className:"q-tooltip",sideOffset:5,children:[ar,jsxRuntimeExports.jsx($a093c7e1ec25a057$export$21b07c8f274aebd5,{className:"q-tooltip-arrow"})]})})]})}),$6be4966fd9bbc698$var$SWITCH_NAME="Switch",[$6be4966fd9bbc698$var$createSwitchContext,$6be4966fd9bbc698$export$cf7f5f17f69cbd43]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($6be4966fd9bbc698$var$SWITCH_NAME),[$6be4966fd9bbc698$var$SwitchProvider,$6be4966fd9bbc698$var$useSwitchContext]=$6be4966fd9bbc698$var$createSwitchContext($6be4966fd9bbc698$var$SWITCH_NAME),$6be4966fd9bbc698$export$b5d5cf8927ab7262=reactExports.forwardRef((or,ar)=>{const{__scopeSwitch:cr,name:lr,checked:ur,defaultChecked:fr,required:dr,disabled:pr,value:mr="on",onCheckedChange:gr,...vr}=or,[hr,$r]=reactExports.useState(null),xr=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,_r=>$r(_r)),br=reactExports.useRef(!1),Er=hr?!!hr.closest("form"):!0,[wr=!1,yr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:ur,defaultProp:fr,onChange:gr});return reactExports.createElement($6be4966fd9bbc698$var$SwitchProvider,{scope:cr,checked:wr,disabled:pr},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button",role:"switch","aria-checked":wr,"aria-required":dr,"data-state":$6be4966fd9bbc698$var$getState(wr),"data-disabled":pr?"":void 0,disabled:pr,value:mr},vr,{ref:xr,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onClick,_r=>{yr(Sr=>!Sr),Er&&(br.current=_r.isPropagationStopped(),br.current||_r.stopPropagation())})})),Er&&reactExports.createElement($6be4966fd9bbc698$var$BubbleInput,{control:hr,bubbles:!br.current,name:lr,value:mr,checked:wr,required:dr,disabled:pr,style:{transform:"translateX(-100%)"}}))}),$6be4966fd9bbc698$var$THUMB_NAME="SwitchThumb",$6be4966fd9bbc698$export$4d07bf653ea69106=reactExports.forwardRef((or,ar)=>{const{__scopeSwitch:cr,...lr}=or,ur=$6be4966fd9bbc698$var$useSwitchContext($6be4966fd9bbc698$var$THUMB_NAME,cr);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$2({"data-state":$6be4966fd9bbc698$var$getState(ur.checked),"data-disabled":ur.disabled?"":void 0},lr,{ref:ar}))}),$6be4966fd9bbc698$var$BubbleInput=or=>{const{control:ar,checked:cr,bubbles:lr=!0,...ur}=or,fr=reactExports.useRef(null),dr=$010c2913dbd2fe3d$export$5cae361ad82dce8b(cr),pr=$db6c3485150b8e66$export$1ab7ae714698c4b8(ar);return reactExports.useEffect(()=>{const mr=fr.current,gr=window.HTMLInputElement.prototype,hr=Object.getOwnPropertyDescriptor(gr,"checked").set;if(dr!==cr&&hr){const $r=new Event("click",{bubbles:lr});hr.call(mr,cr),mr.dispatchEvent($r)}},[dr,cr,lr]),reactExports.createElement("input",_extends$2({type:"checkbox","aria-hidden":!0,defaultChecked:cr},ur,{tabIndex:-1,ref:fr,style:{...or.style,...pr,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function $6be4966fd9bbc698$var$getState(or){return or?"checked":"unchecked"}const $6be4966fd9bbc698$export$be92b6f5f03c0fe9=$6be4966fd9bbc698$export$b5d5cf8927ab7262,$6be4966fd9bbc698$export$6521433ed15a34db=$6be4966fd9bbc698$export$4d07bf653ea69106,Switch=({checked:or,disabled:ar,onChange:cr})=>jsxRuntimeExports.jsx($6be4966fd9bbc698$export$be92b6f5f03c0fe9,{className:"q-switch",checked:or,disabled:ar,onCheckedChange:cr,children:jsxRuntimeExports.jsx($6be4966fd9bbc698$export$6521433ed15a34db,{className:"q-switch-thumb"})}),sortOptions=[{label:"Title",value:"title"},{label:"Size",value:"file_size"},{label:"Last Updated",value:"mod_date"}];loadQspCatalog();const QspCatalog=()=>{const{t:or}=useTranslation(),ar=useAtom_2(catalogLoading$),cr=useAtom_2(qspCatalogPreparedList$),lr=useAtom_2(qspAuthors$),ur=useAtom_2(qspAuthorFilter$),fr=useAtom_2(qspSortByField$),dr=useAtom_2(qspSortDirection$),pr=useAtom_2(qspTitleSearch$),mr=useAtom_2(onlyAero$);return(ar==="pending"||ar==="loading")&&!cr.length?jsxRuntimeExports.jsx(QspiderLoader,{}):ar==="failed"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[or("Loading failed"),jsxRuntimeExports.jsx("button",{onClick:()=>{loadQspCatalog()},children:or("Retry")})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar",children:[jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{children:[or("Filter by Author"),":"]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-group",children:[jsxRuntimeExports.jsx(Select,{name:"author-filter",options:lr.map(gr=>({label:gr,value:gr})),placeholder:"",label:"Author",value:ur,onValueChange:gr=>qspAuthorFilter$.set(gr)}),ur?jsxRuntimeExports.jsx(Tooltip,{content:or("Clear Author filter"),children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button","aria-label":or("Clear Author filter")??"",onClick:()=>qspAuthorFilter$.set(""),children:jsxRuntimeExports.jsx(Cross1Icon,{})})}):null]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{children:[or("Sort by"),":"]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-group",children:[jsxRuntimeExports.jsx(Select,{options:sortOptions.map(gr=>({...gr,label:or(gr.label)})),placeholder:or("Sort by"),label:or("Sort field"),value:fr,onValueChange:gr=>qspSortByField$.set(gr)}),jsxRuntimeExports.jsx(Tooltip,{content:dr==="asc"?or("Sort Ascending")||"":or("Sort Descending")||"",children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button",onClick:toggleSortDirection,"aria-label":dr==="asc"?or("Sort Ascending")||"":or("Sort Descending")||"",children:dr==="asc"?jsxRuntimeExports.jsx(DoubleArrowDownIcon,{}):jsxRuntimeExports.jsx(DoubleArrowUpIcon,{})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsx("label",{htmlFor:"only-aero",children:or("Aero games")}),jsxRuntimeExports.jsx(Switch,{checked:mr,onChange:gr=>onlyAero$.set(gr)})]}),jsxRuntimeExports.jsxs("div",{className:"q-catalog__filterbar-block",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"search-input",children:[or("Search"),":"]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{name:"search-input",type:"text",className:"q-input",value:pr,onInput:gr=>qspTitleSearch$.set(gr.target.value)})})]})]}),jsxRuntimeExports.jsx("div",{className:"q-catalog__list",children:cr.map(gr=>jsxRuntimeExports.jsx(CatalogGameCard,{game:gr},gr.id))})]})},QspiderThemeSwitch=()=>{const{t:or}=useTranslation();return jsxRuntimeExports.jsx(Tooltip,{content:or("Toggle theme")??"",children:jsxRuntimeExports.jsx("button",{className:"q-ghost-button","aria-label":or("toggle a light and dark color scheme")??"",onClick:toggleTheme,children:jsxRuntimeExports.jsx(SunIcon,{})})})},LocaleSelector=()=>{const{i18n:or}=useTranslation();return jsxRuntimeExports.jsx(Select,{options:locales$1,placeholder:"",label:"",value:or.language,onValueChange:ar=>{or.changeLanguage(ar)}})},QspiderPlayer=()=>{const{t:or}=useTranslation(),ar=useComponent(ProvidedComponents.OpenGameButton),cr=useAtom_2(currentMode$);return jsxRuntimeExports.jsxs("div",{className:"qspider-player",children:[jsxRuntimeExports.jsxs("nav",{className:"qspider-navbar",children:[jsxRuntimeExports.jsx("div",{className:"qspider-logo",children:"spider"}),jsxRuntimeExports.jsxs("div",{className:"qspider-nav",children:[jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",onClick:lr=>{lr.preventDefault(),navigateTo("")},className:cr==="shelf"?"qspider-active":"",children:or("Game Shelf")})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#",onClick:lr=>{lr.preventDefault(),navigateTo("catalog")},className:cr==="catalog"?"qspider-active":"",children:or("Qsp Game Catalog")})})]}),jsxRuntimeExports.jsxs("div",{className:"qspider-block",children:[jsxRuntimeExports.jsx(ar,{}),jsxRuntimeExports.jsx(LocaleSelector,{}),jsxRuntimeExports.jsx(QspiderThemeSwitch,{})]})]})]}),jsxRuntimeExports.jsxs("main",{className:"qspider-player-main",children:[cr==="shelf"&&jsxRuntimeExports.jsx(GameShelf,{}),cr==="catalog"&&jsxRuntimeExports.jsx(QspCatalog,{})]})]})},PlayerWithShelf=()=>useAtom_2(currentMode$)==="game"?jsxRuntimeExports.jsx(GameRunner,{}):jsxRuntimeExports.jsx(QspiderPlayer,{}),$054eb8030ebde76e$var$PROVIDER_NAME="ToastProvider",[$054eb8030ebde76e$var$Collection,$054eb8030ebde76e$var$useCollection,$054eb8030ebde76e$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2("Toast"),[$054eb8030ebde76e$var$createToastContext,$054eb8030ebde76e$export$8a359da18fbc9073]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Toast",[$054eb8030ebde76e$var$createCollectionScope]),[$054eb8030ebde76e$var$ToastProviderProvider,$054eb8030ebde76e$var$useToastProviderContext]=$054eb8030ebde76e$var$createToastContext($054eb8030ebde76e$var$PROVIDER_NAME),$054eb8030ebde76e$export$f5d03d415824e0e=or=>{const{__scopeToast:ar,label:cr="Notification",duration:lr=5e3,swipeDirection:ur="right",swipeThreshold:fr=50,children:dr}=or,[pr,mr]=reactExports.useState(null),[gr,vr]=reactExports.useState(0),hr=reactExports.useRef(!1),$r=reactExports.useRef(!1);return reactExports.createElement($054eb8030ebde76e$var$Collection.Provider,{scope:ar},reactExports.createElement($054eb8030ebde76e$var$ToastProviderProvider,{scope:ar,label:cr,duration:lr,swipeDirection:ur,swipeThreshold:fr,toastCount:gr,viewport:pr,onViewportChange:mr,onToastAdd:reactExports.useCallback(()=>vr(xr=>xr+1),[]),onToastRemove:reactExports.useCallback(()=>vr(xr=>xr-1),[]),isFocusedToastEscapeKeyDownRef:hr,isClosePausedRef:$r},dr))};$054eb8030ebde76e$export$f5d03d415824e0e.propTypes={label(or){if(or.label&&typeof or.label=="string"&&!or.label.trim()){const ar=`Invalid prop \`label\` supplied to \`${$054eb8030ebde76e$var$PROVIDER_NAME}\`. Expected non-empty \`string\`.`;return new Error(ar)}return null}};const $054eb8030ebde76e$var$VIEWPORT_NAME="ToastViewport",$054eb8030ebde76e$var$VIEWPORT_DEFAULT_HOTKEY=["F8"],$054eb8030ebde76e$var$VIEWPORT_PAUSE="toast.viewportPause",$054eb8030ebde76e$var$VIEWPORT_RESUME="toast.viewportResume",$054eb8030ebde76e$export$6192c2425ecfd989=reactExports.forwardRef((or,ar)=>{const{__scopeToast:cr,hotkey:lr=$054eb8030ebde76e$var$VIEWPORT_DEFAULT_HOTKEY,label:ur="Notifications ({hotkey})",...fr}=or,dr=$054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$VIEWPORT_NAME,cr),pr=$054eb8030ebde76e$var$useCollection(cr),mr=reactExports.useRef(null),gr=reactExports.useRef(null),vr=reactExports.useRef(null),hr=reactExports.useRef(null),$r=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,hr,dr.onViewportChange),xr=lr.join("+").replace(/Key/g,"").replace(/Digit/g,""),br=dr.toastCount>0;reactExports.useEffect(()=>{const wr=yr=>{var _r;lr.every(Pr=>yr[Pr]||yr.code===Pr)&&((_r=hr.current)===null||_r===void 0||_r.focus())};return document.addEventListener("keydown",wr),()=>document.removeEventListener("keydown",wr)},[lr]),reactExports.useEffect(()=>{const wr=mr.current,yr=hr.current;if(br&&wr&&yr){const _r=()=>{if(!dr.isClosePausedRef.current){const Lr=new CustomEvent($054eb8030ebde76e$var$VIEWPORT_PAUSE);yr.dispatchEvent(Lr),dr.isClosePausedRef.current=!0}},Sr=()=>{if(dr.isClosePausedRef.current){const Lr=new CustomEvent($054eb8030ebde76e$var$VIEWPORT_RESUME);yr.dispatchEvent(Lr),dr.isClosePausedRef.current=!1}},Pr=Lr=>{!wr.contains(Lr.relatedTarget)&&Sr()},Or=()=>{wr.contains(document.activeElement)||Sr()};return wr.addEventListener("focusin",_r),wr.addEventListener("focusout",Pr),wr.addEventListener("pointermove",_r),wr.addEventListener("pointerleave",Or),window.addEventListener("blur",_r),window.addEventListener("focus",Sr),()=>{wr.removeEventListener("focusin",_r),wr.removeEventListener("focusout",Pr),wr.removeEventListener("pointermove",_r),wr.removeEventListener("pointerleave",Or),window.removeEventListener("blur",_r),window.removeEventListener("focus",Sr)}}},[br,dr.isClosePausedRef]);const Er=reactExports.useCallback(({tabbingDirection:wr})=>{const _r=pr().map(Sr=>{const Pr=Sr.ref.current,Or=[Pr,...$054eb8030ebde76e$var$getTabbableCandidates(Pr)];return wr==="forwards"?Or:Or.reverse()});return(wr==="forwards"?_r.reverse():_r).flat()},[pr]);return reactExports.useEffect(()=>{const wr=hr.current;if(wr){const yr=_r=>{const Sr=_r.altKey||_r.ctrlKey||_r.metaKey;if(_r.key==="Tab"&&!Sr){const jr=document.activeElement,Rr=_r.shiftKey;if(_r.target===wr&&Rr){var Or;(Or=gr.current)===null||Or===void 0||Or.focus();return}const Zr=Er({tabbingDirection:Rr?"backwards":"forwards"}),so=Zr.findIndex(Ir=>Ir===jr);if($054eb8030ebde76e$var$focusFirst(Zr.slice(so+1)))_r.preventDefault();else{var Lr,Tr;Rr?(Lr=gr.current)===null||Lr===void 0||Lr.focus():(Tr=vr.current)===null||Tr===void 0||Tr.focus()}}};return wr.addEventListener("keydown",yr),()=>wr.removeEventListener("keydown",yr)}},[pr,Er]),reactExports.createElement($5cb92bef7577960e$export$aecb2ddcb55c95be,{ref:mr,role:"region","aria-label":ur.replace("{hotkey}",xr),tabIndex:-1,style:{pointerEvents:br?void 0:"none"}},br&&reactExports.createElement($054eb8030ebde76e$var$FocusProxy,{ref:gr,onFocusFromOutsideViewport:()=>{const wr=Er({tabbingDirection:"forwards"});$054eb8030ebde76e$var$focusFirst(wr)}}),reactExports.createElement($054eb8030ebde76e$var$Collection.Slot,{scope:cr},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.ol,_extends$2({tabIndex:-1},fr,{ref:$r}))),br&&reactExports.createElement($054eb8030ebde76e$var$FocusProxy,{ref:vr,onFocusFromOutsideViewport:()=>{const wr=Er({tabbingDirection:"backwards"});$054eb8030ebde76e$var$focusFirst(wr)}}))}),$054eb8030ebde76e$var$FOCUS_PROXY_NAME="ToastFocusProxy",$054eb8030ebde76e$var$FocusProxy=reactExports.forwardRef((or,ar)=>{const{__scopeToast:cr,onFocusFromOutsideViewport:lr,...ur}=or,fr=$054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$FOCUS_PROXY_NAME,cr);return reactExports.createElement($ea1ef594cf570d83$export$439d29a4e110a164,_extends$2({"aria-hidden":!0,tabIndex:0},ur,{ref:ar,style:{position:"fixed"},onFocus:dr=>{var pr;const mr=dr.relatedTarget;!((pr=fr.viewport)!==null&&pr!==void 0&&pr.contains(mr))&&lr()}}))}),$054eb8030ebde76e$var$TOAST_NAME="Toast",$054eb8030ebde76e$var$TOAST_SWIPE_START="toast.swipeStart",$054eb8030ebde76e$var$TOAST_SWIPE_MOVE="toast.swipeMove",$054eb8030ebde76e$var$TOAST_SWIPE_CANCEL="toast.swipeCancel",$054eb8030ebde76e$var$TOAST_SWIPE_END="toast.swipeEnd",$054eb8030ebde76e$export$8d8dc7d5f743331b=reactExports.forwardRef((or,ar)=>{const{forceMount:cr,open:lr,defaultOpen:ur,onOpenChange:fr,...dr}=or,[pr=!0,mr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:lr,defaultProp:ur,onChange:fr});return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:cr||pr},reactExports.createElement($054eb8030ebde76e$var$ToastImpl,_extends$2({open:pr},dr,{ref:ar,onClose:()=>mr(!1),onPause:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or.onPause),onResume:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or.onResume),onSwipeStart:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onSwipeStart,gr=>{gr.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onSwipeMove,gr=>{const{x:vr,y:hr}=gr.detail.delta;gr.currentTarget.setAttribute("data-swipe","move"),gr.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${vr}px`),gr.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${hr}px`)}),onSwipeCancel:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onSwipeCancel,gr=>{gr.currentTarget.setAttribute("data-swipe","cancel"),gr.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),gr.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),gr.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),gr.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onSwipeEnd,gr=>{const{x:vr,y:hr}=gr.detail.delta;gr.currentTarget.setAttribute("data-swipe","end"),gr.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),gr.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),gr.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${vr}px`),gr.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${hr}px`),mr(!1)})})))}),[$054eb8030ebde76e$var$ToastInteractiveProvider,$054eb8030ebde76e$var$useToastInteractiveContext]=$054eb8030ebde76e$var$createToastContext($054eb8030ebde76e$var$TOAST_NAME,{onClose(){}}),$054eb8030ebde76e$var$ToastImpl=reactExports.forwardRef((or,ar)=>{const{__scopeToast:cr,type:lr="foreground",duration:ur,open:fr,onClose:dr,onEscapeKeyDown:pr,onPause:mr,onResume:gr,onSwipeStart:vr,onSwipeMove:hr,onSwipeCancel:$r,onSwipeEnd:xr,...br}=or,Er=$054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$TOAST_NAME,cr),[wr,yr]=reactExports.useState(null),_r=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(ar,Ir=>yr(Ir)),Sr=reactExports.useRef(null),Pr=reactExports.useRef(null),Or=ur||Er.duration,Lr=reactExports.useRef(0),Tr=reactExports.useRef(Or),jr=reactExports.useRef(0),{onToastAdd:Rr,onToastRemove:Fr}=Er,Vr=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(()=>{var Ir;(wr==null?void 0:wr.contains(document.activeElement))&&((Ir=Er.viewport)===null||Ir===void 0||Ir.focus()),dr()}),Zr=reactExports.useCallback(Ir=>{!Ir||Ir===1/0||(window.clearTimeout(jr.current),Lr.current=new Date().getTime(),jr.current=window.setTimeout(Vr,Ir))},[Vr]);reactExports.useEffect(()=>{const Ir=Er.viewport;if(Ir){const Kr=()=>{Zr(Tr.current),gr==null||gr()},no=()=>{const eo=new Date().getTime()-Lr.current;Tr.current=Tr.current-eo,window.clearTimeout(jr.current),mr==null||mr()};return Ir.addEventListener($054eb8030ebde76e$var$VIEWPORT_PAUSE,no),Ir.addEventListener($054eb8030ebde76e$var$VIEWPORT_RESUME,Kr),()=>{Ir.removeEventListener($054eb8030ebde76e$var$VIEWPORT_PAUSE,no),Ir.removeEventListener($054eb8030ebde76e$var$VIEWPORT_RESUME,Kr)}}},[Er.viewport,Or,mr,gr,Zr]),reactExports.useEffect(()=>{fr&&!Er.isClosePausedRef.current&&Zr(Or)},[fr,Or,Er.isClosePausedRef,Zr]),reactExports.useEffect(()=>(Rr(),()=>Fr()),[Rr,Fr]);const so=reactExports.useMemo(()=>wr?$054eb8030ebde76e$var$getAnnounceTextContent(wr):null,[wr]);return Er.viewport?reactExports.createElement(reactExports.Fragment,null,so&&reactExports.createElement($054eb8030ebde76e$var$ToastAnnounce,{__scopeToast:cr,role:"status","aria-live":lr==="foreground"?"assertive":"polite","aria-atomic":!0},so),reactExports.createElement($054eb8030ebde76e$var$ToastInteractiveProvider,{scope:cr,onClose:Vr},reactDomExports.createPortal(reactExports.createElement($054eb8030ebde76e$var$Collection.ItemSlot,{scope:cr},reactExports.createElement($5cb92bef7577960e$export$be92b6f5f03c0fe9,{asChild:!0,onEscapeKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(pr,()=>{Er.isFocusedToastEscapeKeyDownRef.current||Vr(),Er.isFocusedToastEscapeKeyDownRef.current=!1})},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.li,_extends$2({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":fr?"open":"closed","data-swipe-direction":Er.swipeDirection},br,{ref:_r,style:{userSelect:"none",touchAction:"none",...or.style},onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onKeyDown,Ir=>{Ir.key==="Escape"&&(pr==null||pr(Ir.nativeEvent),Ir.nativeEvent.defaultPrevented||(Er.isFocusedToastEscapeKeyDownRef.current=!0,Vr()))}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerDown,Ir=>{Ir.button===0&&(Sr.current={x:Ir.clientX,y:Ir.clientY})}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerMove,Ir=>{if(!Sr.current)return;const Kr=Ir.clientX-Sr.current.x,no=Ir.clientY-Sr.current.y,eo=!!Pr.current,Wr=["left","right"].includes(Er.swipeDirection),Ur=["left","up"].includes(Er.swipeDirection)?Math.min:Math.max,ro=Wr?Ur(0,Kr):0,Gr=Wr?0:Ur(0,no),Qr=Ir.pointerType==="touch"?10:2,lo={x:ro,y:Gr},ao={originalEvent:Ir,delta:lo};eo?(Pr.current=lo,$054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_MOVE,hr,ao,{discrete:!1})):$054eb8030ebde76e$var$isDeltaInDirection(lo,Er.swipeDirection,Qr)?(Pr.current=lo,$054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_START,vr,ao,{discrete:!1}),Ir.target.setPointerCapture(Ir.pointerId)):(Math.abs(Kr)>Qr||Math.abs(no)>Qr)&&(Sr.current=null)}),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onPointerUp,Ir=>{const Kr=Pr.current,no=Ir.target;if(no.hasPointerCapture(Ir.pointerId)&&no.releasePointerCapture(Ir.pointerId),Pr.current=null,Sr.current=null,Kr){const eo=Ir.currentTarget,Wr={originalEvent:Ir,delta:Kr};$054eb8030ebde76e$var$isDeltaInDirection(Kr,Er.swipeDirection,Er.swipeThreshold)?$054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_END,xr,Wr,{discrete:!0}):$054eb8030ebde76e$var$handleAndDispatchCustomEvent($054eb8030ebde76e$var$TOAST_SWIPE_CANCEL,$r,Wr,{discrete:!0}),eo.addEventListener("click",Ur=>Ur.preventDefault(),{once:!0})}})})))),Er.viewport))):null});$054eb8030ebde76e$var$ToastImpl.propTypes={type(or){if(or.type&&!["foreground","background"].includes(or.type)){const ar=`Invalid prop \`type\` supplied to \`${$054eb8030ebde76e$var$TOAST_NAME}\`. Expected \`foreground | background\`.`;return new Error(ar)}return null}};const $054eb8030ebde76e$var$ToastAnnounce=or=>{const{__scopeToast:ar,children:cr,...lr}=or,ur=$054eb8030ebde76e$var$useToastProviderContext($054eb8030ebde76e$var$TOAST_NAME,ar),[fr,dr]=reactExports.useState(!1),[pr,mr]=reactExports.useState(!1);return $054eb8030ebde76e$var$useNextFrame(()=>dr(!0)),reactExports.useEffect(()=>{const gr=window.setTimeout(()=>mr(!0),1e3);return()=>window.clearTimeout(gr)},[]),pr?null:reactExports.createElement($f1701beae083dbae$export$602eac185826482c,{asChild:!0},reactExports.createElement($ea1ef594cf570d83$export$439d29a4e110a164,lr,fr&&reactExports.createElement(reactExports.Fragment,null,ur.label," ",cr)))},$054eb8030ebde76e$export$ecddd96c53621d9a=reactExports.forwardRef((or,ar)=>{const{__scopeToast:cr,...lr}=or;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({},lr,{ref:ar}))}),$054eb8030ebde76e$var$ACTION_NAME="ToastAction",$054eb8030ebde76e$export$3019feecfda683d2=reactExports.forwardRef((or,ar)=>{const{altText:cr,...lr}=or;return cr?reactExports.createElement($054eb8030ebde76e$var$ToastAnnounceExclude,{altText:cr,asChild:!0},reactExports.createElement($054eb8030ebde76e$export$811e70f61c205839,_extends$2({},lr,{ref:ar}))):null});$054eb8030ebde76e$export$3019feecfda683d2.propTypes={altText(or){return or.altText?null:new Error(`Missing prop \`altText\` expected on \`${$054eb8030ebde76e$var$ACTION_NAME}\``)}};const $054eb8030ebde76e$var$CLOSE_NAME="ToastClose",$054eb8030ebde76e$export$811e70f61c205839=reactExports.forwardRef((or,ar)=>{const{__scopeToast:cr,...lr}=or,ur=$054eb8030ebde76e$var$useToastInteractiveContext($054eb8030ebde76e$var$CLOSE_NAME,cr);return reactExports.createElement($054eb8030ebde76e$var$ToastAnnounceExclude,{asChild:!0},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$2({type:"button"},lr,{ref:ar,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(or.onClick,ur.onClose)})))}),$054eb8030ebde76e$var$ToastAnnounceExclude=reactExports.forwardRef((or,ar)=>{const{__scopeToast:cr,altText:lr,...ur}=or;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$2({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":lr||void 0},ur,{ref:ar}))});function $054eb8030ebde76e$var$getAnnounceTextContent(or){const ar=[];return Array.from(or.childNodes).forEach(lr=>{if(lr.nodeType===lr.TEXT_NODE&&lr.textContent&&ar.push(lr.textContent),$054eb8030ebde76e$var$isHTMLElement(lr)){const ur=lr.ariaHidden||lr.hidden||lr.style.display==="none",fr=lr.dataset.radixToastAnnounceExclude==="";if(!ur)if(fr){const dr=lr.dataset.radixToastAnnounceAlt;dr&&ar.push(dr)}else ar.push(...$054eb8030ebde76e$var$getAnnounceTextContent(lr))}}),ar}function $054eb8030ebde76e$var$handleAndDispatchCustomEvent(or,ar,cr,{discrete:lr}){const ur=cr.originalEvent.currentTarget,fr=new CustomEvent(or,{bubbles:!0,cancelable:!0,detail:cr});ar&&ur.addEventListener(or,ar,{once:!0}),lr?$8927f6f2acc4f386$export$6d1a0317bde7de7f(ur,fr):ur.dispatchEvent(fr)}const $054eb8030ebde76e$var$isDeltaInDirection=(or,ar,cr=0)=>{const lr=Math.abs(or.x),ur=Math.abs(or.y),fr=lr>ur;return ar==="left"||ar==="right"?fr&&lr>cr:!fr&&ur>cr};function $054eb8030ebde76e$var$useNextFrame(or=()=>{}){const ar=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(or);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{let cr=0,lr=0;return cr=window.requestAnimationFrame(()=>lr=window.requestAnimationFrame(ar)),()=>{window.cancelAnimationFrame(cr),window.cancelAnimationFrame(lr)}},[ar])}function $054eb8030ebde76e$var$isHTMLElement(or){return or.nodeType===or.ELEMENT_NODE}function $054eb8030ebde76e$var$getTabbableCandidates(or){const ar=[],cr=document.createTreeWalker(or,NodeFilter.SHOW_ELEMENT,{acceptNode:lr=>{const ur=lr.tagName==="INPUT"&&lr.type==="hidden";return lr.disabled||lr.hidden||ur?NodeFilter.FILTER_SKIP:lr.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;cr.nextNode();)ar.push(cr.currentNode);return ar}function $054eb8030ebde76e$var$focusFirst(or){const ar=document.activeElement;return or.some(cr=>cr===ar?!0:(cr.focus(),document.activeElement!==ar))}const $054eb8030ebde76e$export$2881499e37b75b9a=$054eb8030ebde76e$export$f5d03d415824e0e,$054eb8030ebde76e$export$d5c6c08dc2d3ca7=$054eb8030ebde76e$export$6192c2425ecfd989,$054eb8030ebde76e$export$be92b6f5f03c0fe9=$054eb8030ebde76e$export$8d8dc7d5f743331b,$054eb8030ebde76e$export$393edc798c47379d=$054eb8030ebde76e$export$ecddd96c53621d9a,$054eb8030ebde76e$export$f39c2d165cd861fe=$054eb8030ebde76e$export$811e70f61c205839,ErrorAlert=()=>{const{t:or}=useTranslation(),ar=useAtom_2(isErrorShown$),cr=useAtom_2(errorMessage$);return ar?jsxRuntimeExports.jsxs($054eb8030ebde76e$export$2881499e37b75b9a,{children:[jsxRuntimeExports.jsxs($054eb8030ebde76e$export$be92b6f5f03c0fe9,{className:"qsp-toast-root error",open:ar,onOpenChange:()=>isErrorShown$.set(!1),children:[jsxRuntimeExports.jsx($054eb8030ebde76e$export$393edc798c47379d,{className:"qsp-toast-description",children:or(cr)}),jsxRuntimeExports.jsx($054eb8030ebde76e$export$f39c2d165cd861fe,{className:"q-ghost-button",children:jsxRuntimeExports.jsx(Cross1Icon,{})})]}),jsxRuntimeExports.jsx($054eb8030ebde76e$export$d5c6c08dc2d3ca7,{className:"qsp-toast-viewport"})]}):null},NoticeToast=()=>{const or=useAtom_2(isNoticeShown$),ar=useAtom_2(noticeMessage$),{t:cr}=useTranslation();return or?jsxRuntimeExports.jsxs($054eb8030ebde76e$export$2881499e37b75b9a,{children:[jsxRuntimeExports.jsx($054eb8030ebde76e$export$be92b6f5f03c0fe9,{className:"qsp-toast-root",open:or,children:jsxRuntimeExports.jsx($054eb8030ebde76e$export$393edc798c47379d,{className:"qsp-toast-description",children:cr(ar)})}),jsxRuntimeExports.jsx($054eb8030ebde76e$export$d5c6c08dc2d3ca7,{className:"qsp-toast-viewport"})]}):null},e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t=Object.keys,n=Array.isArray;function r(or,ar){return typeof ar!="object"||t(ar).forEach(function(cr){or[cr]=ar[cr]}),or}typeof Promise>"u"||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(or,ar){return i.call(or,ar)}function a(or,ar){typeof ar=="function"&&(ar=ar(s(or))),(typeof Reflect>"u"?t:Reflect.ownKeys)(ar).forEach(cr=>{l(or,cr,ar[cr])})}const u=Object.defineProperty;function l(or,ar,cr,lr){u(or,ar,r(cr&&o(cr,"get")&&typeof cr.get=="function"?{get:cr.get,set:cr.set,configurable:!0}:{value:cr,configurable:!0,writable:!0},lr))}function c(or){return{from:function(ar){return or.prototype=Object.create(ar.prototype),l(or.prototype,"constructor",or),{extend:a.bind(null,or.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(or,ar){let cr;return h(or,ar)||(cr=s(or))&&d(cr,ar)}const f=[].slice;function p(or,ar,cr){return f.call(or,ar,cr)}function y(or,ar){return ar(or)}function m(or){if(!or)throw new Error("Assertion Failed")}function v(or){e.setImmediate?setImmediate(or):setTimeout(or,0)}function g(or,ar){return or.reduce((cr,lr,ur)=>{var fr=ar(lr,ur);return fr&&(cr[fr[0]]=fr[1]),cr},{})}function b(or,ar){if(o(or,ar))return or[ar];if(!ar)return or;if(typeof ar!="string"){for(var cr=[],lr=0,ur=ar.length;lr<ur;++lr){var fr=b(or,ar[lr]);cr.push(fr)}return cr}var dr=ar.indexOf(".");if(dr!==-1){var pr=or[ar.substr(0,dr)];return pr===void 0?void 0:b(pr,ar.substr(dr+1))}}function _$1(or,ar,cr){if(or&&ar!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(or)))if(typeof ar!="string"&&"length"in ar){m(typeof cr!="string"&&"length"in cr);for(var lr=0,ur=ar.length;lr<ur;++lr)_$1(or,ar[lr],cr[lr])}else{var fr=ar.indexOf(".");if(fr!==-1){var dr=ar.substr(0,fr),pr=ar.substr(fr+1);if(pr==="")cr===void 0?n(or)&&!isNaN(parseInt(dr))?or.splice(dr,1):delete or[dr]:or[dr]=cr;else{var mr=or[dr];mr&&o(or,dr)||(mr=or[dr]={}),_$1(mr,pr,cr)}}else cr===void 0?n(or)&&!isNaN(parseInt(ar))?or.splice(ar,1):delete or[ar]:or[ar]=cr}}function w(or){var ar={};for(var cr in or)o(or,cr)&&(ar[cr]=or[cr]);return ar}const x=[].concat;function k(or){return x.apply([],or)}const E="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k([8,16,32,64].map(or=>["Int","Uint","Float"].map(ar=>ar+or+"Array")))).filter(or=>e[or]),P=E.map(or=>e[or]);g(E,or=>[or,!0]);let K=null;function O(or){K=typeof WeakMap<"u"&&new WeakMap;const ar=S(or);return K=null,ar}function S(or){if(!or||typeof or!="object")return or;let ar=K&&K.get(or);if(ar)return ar;if(n(or)){ar=[],K&&K.set(or,ar);for(var cr=0,lr=or.length;cr<lr;++cr)ar.push(S(or[cr]))}else if(P.indexOf(or.constructor)>=0)ar=or;else{const fr=s(or);for(var ur in ar=fr===Object.prototype?{}:Object.create(fr),K&&K.set(or,ar),or)o(or,ur)&&(ar[ur]=S(or[ur]))}return ar}const{toString:A}={};function C(or){return A.call(or).slice(8,-1)}const j=typeof Symbol<"u"?Symbol.iterator:"@@iterator",D=typeof j=="symbol"?function(or){var ar;return or!=null&&(ar=or[j])&&ar.apply(or)}:function(){return null},I={};function B(or){var ar,cr,lr,ur;if(arguments.length===1){if(n(or))return or.slice();if(this===I&&typeof or=="string")return[or];if(ur=D(or)){for(cr=[];!(lr=ur.next()).done;)cr.push(lr.value);return cr}if(or==null)return[or];if(typeof(ar=or.length)=="number"){for(cr=new Array(ar);ar--;)cr[ar]=or[ar];return cr}return[or]}for(ar=arguments.length,cr=new Array(ar);ar--;)cr[ar]=arguments[ar];return cr}const T=typeof Symbol<"u"?or=>or[Symbol.toStringTag]==="AsyncFunction":()=>!1;var R=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F(or,ar){R=or,M=ar}var M=()=>!0;const N=!new Error("").stack;function q(){if(N)try{throw q.arguments,new Error}catch(or){return or}return new Error}function $(or,ar){var cr=or.stack;return cr?(ar=ar||0,cr.indexOf(or.name)===0&&(ar+=(or.name+or.message).split(`
`).length),cr.split(`
`).slice(ar).filter(M).map(lr=>`
`+lr).join("")):""}var U=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U),V={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W(or,ar){this._e=q(),this.name=or,this.message=ar}function Y(or,ar){return or+". Errors: "+Object.keys(ar).map(cr=>ar[cr].toString()).filter((cr,lr,ur)=>ur.indexOf(cr)===lr).join(`
`)}function z(or,ar,cr,lr){this._e=q(),this.failures=ar,this.failedKeys=lr,this.successCount=cr,this.message=Y(or,ar)}function G(or,ar){this._e=q(),this.name="BulkError",this.failures=Object.keys(ar).map(cr=>ar[cr]),this.failuresByPos=ar,this.message=Y(or,ar)}c(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c(z).from(W),c(G).from(W);var H=L.reduce((or,ar)=>(or[ar]=ar+"Error",or),{});const Q=W;var X=L.reduce((or,ar)=>{var cr=ar+"Error";function lr(ur,fr){this._e=q(),this.name=cr,ur?typeof ur=="string"?(this.message=`${ur}${fr?`
 `+fr:""}`,this.inner=fr||null):typeof ur=="object"&&(this.message=`${ur.name} ${ur.message}`,this.inner=ur):(this.message=V[ar]||cr,this.inner=null)}return c(lr).from(Q),or[ar]=lr,or},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var J=U.reduce((or,ar)=>(or[ar+"Error"]=X[ar],or),{}),Z=L.reduce((or,ar)=>(["Syntax","Type","Range"].indexOf(ar)===-1&&(or[ar+"Error"]=X[ar]),or),{});function ee(){}function te(or){return or}function ne(or,ar){return or==null||or===te?ar:function(cr){return ar(or(cr))}}function re(or,ar){return function(){or.apply(this,arguments),ar.apply(this,arguments)}}function se(or,ar){return or===ee?ar:function(){var cr=or.apply(this,arguments);cr!==void 0&&(arguments[0]=cr);var lr=this.onsuccess,ur=this.onerror;this.onsuccess=null,this.onerror=null;var fr=ar.apply(this,arguments);return lr&&(this.onsuccess=this.onsuccess?re(lr,this.onsuccess):lr),ur&&(this.onerror=this.onerror?re(ur,this.onerror):ur),fr!==void 0?fr:cr}}function ie(or,ar){return or===ee?ar:function(){or.apply(this,arguments);var cr=this.onsuccess,lr=this.onerror;this.onsuccess=this.onerror=null,ar.apply(this,arguments),cr&&(this.onsuccess=this.onsuccess?re(cr,this.onsuccess):cr),lr&&(this.onerror=this.onerror?re(lr,this.onerror):lr)}}function oe(or,ar){return or===ee?ar:function(cr){var lr=or.apply(this,arguments);r(cr,lr);var ur=this.onsuccess,fr=this.onerror;this.onsuccess=null,this.onerror=null;var dr=ar.apply(this,arguments);return ur&&(this.onsuccess=this.onsuccess?re(ur,this.onsuccess):ur),fr&&(this.onerror=this.onerror?re(fr,this.onerror):fr),lr===void 0?dr===void 0?void 0:dr:r(lr,dr)}}function ae(or,ar){return or===ee?ar:function(){return ar.apply(this,arguments)!==!1&&or.apply(this,arguments)}}function ue(or,ar){return or===ee?ar:function(){var cr=or.apply(this,arguments);if(cr&&typeof cr.then=="function"){for(var lr=this,ur=arguments.length,fr=new Array(ur);ur--;)fr[ur]=arguments[ur];return cr.then(function(){return ar.apply(lr,fr)})}return ar.apply(this,arguments)}}Z.ModifyError=z,Z.DexieError=W,Z.BulkError=G;var le={};const ce=100,[he,de,fe]=typeof Promise>"u"?[]:(()=>{let or=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[or,s(or),or];const ar=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[ar,s(ar),or]})(),pe=de&&de.then,ye=he&&he.constructor,me=!!fe;var ve=!1,ge=fe?()=>{fe.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var or=document.createElement("div");new MutationObserver(()=>{$e(),or=null}).observe(or,{attributes:!0}),or.setAttribute("i","1")}:()=>{setTimeout($e,0)},be=function(or,ar){Se.push([or,ar]),we&&(ge(),we=!1)},_e=!0,we=!0,xe=[],ke=[],Ee=null,Pe=te,Ke={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(or=>{try{dt(or[0],or[1])}catch{}})}},Oe=Ke,Se=[],Ae=0,Ce=[];function je(or){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee,this._lib=!1;var ar=this._PSD=Oe;if(R&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),typeof or!="function"){if(or!==le)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Te(this,this._value))}this._state=null,this._value=null,++ar.ref,Be(this,or)}const De={get:function(){var or=Oe,ar=Xe;function cr(lr,ur){var fr=!or.global&&(or!==Oe||ar!==Xe);const dr=fr&&!tt();var pr=new je((mr,gr)=>{Fe(this,new Ie(lt(lr,or,fr,dr),lt(ur,or,fr,dr),mr,gr,or))});return R&&qe(pr,this),pr}return cr.prototype=le,cr},set:function(or){l(this,"then",or&&or.prototype===le?De:{get:function(){return or},set:De.set})}};function Ie(or,ar,cr,lr,ur){this.onFulfilled=typeof or=="function"?or:null,this.onRejected=typeof ar=="function"?ar:null,this.resolve=cr,this.reject=lr,this.psd=ur}function Be(or,ar){try{ar(cr=>{if(or._state===null){if(cr===or)throw new TypeError("A promise cannot be resolved with itself.");var lr=or._lib&&Ue();cr&&typeof cr.then=="function"?Be(or,(ur,fr)=>{cr instanceof je?cr._then(ur,fr):cr.then(ur,fr)}):(or._state=!0,or._value=cr,Re(or)),lr&&Le()}},Te.bind(null,or))}catch(cr){Te(or,cr)}}function Te(or,ar){if(ke.push(ar),or._state===null){var cr=or._lib&&Ue();ar=Pe(ar),or._state=!1,or._value=ar,R&&ar!==null&&typeof ar=="object"&&!ar._promise&&function(lr,ur,fr){try{lr.apply(null,fr)}catch(dr){ur&&ur(dr)}}(()=>{var lr=d(ar,"stack");ar._promise=or,l(ar,"stack",{get:()=>ve?lr&&(lr.get?lr.get.apply(ar):lr.value):or.stack})}),function(lr){xe.some(ur=>ur._value===lr._value)||xe.push(lr)}(or),Re(or),cr&&Le()}}function Re(or){var ar=or._listeners;or._listeners=[];for(var cr=0,lr=ar.length;cr<lr;++cr)Fe(or,ar[cr]);var ur=or._PSD;--ur.ref||ur.finalize(),Ae===0&&(++Ae,be(()=>{--Ae==0&&Ve()},[]))}function Fe(or,ar){if(or._state!==null){var cr=or._state?ar.onFulfilled:ar.onRejected;if(cr===null)return(or._state?ar.resolve:ar.reject)(or._value);++ar.psd.ref,++Ae,be(Me,[cr,or,ar])}else or._listeners.push(ar)}function Me(or,ar,cr){try{Ee=ar;var lr,ur=ar._value;ar._state?lr=or(ur):(ke.length&&(ke=[]),lr=or(ur),ke.indexOf(ur)===-1&&function(fr){for(var dr=xe.length;dr;)if(xe[--dr]._value===fr._value)return void xe.splice(dr,1)}(ar)),cr.resolve(lr)}catch(fr){cr.reject(fr)}finally{Ee=null,--Ae==0&&Ve(),--cr.psd.ref||cr.psd.finalize()}}function Ne(or,ar,cr){if(ar.length===cr)return ar;var lr="";if(or._state===!1){var ur,fr,dr=or._value;dr!=null?(ur=dr.name||"Error",fr=dr.message||dr,lr=$(dr,0)):(ur=dr,fr=""),ar.push(ur+(fr?": "+fr:"")+lr)}return R&&((lr=$(or._stackHolder,2))&&ar.indexOf(lr)===-1&&ar.push(lr),or._prev&&Ne(or._prev,ar,cr)),ar}function qe(or,ar){var cr=ar?ar._numPrev+1:0;cr<100&&(or._prev=ar,or._numPrev=cr)}function $e(){Ue()&&Le()}function Ue(){var or=_e;return _e=!1,we=!1,or}function Le(){var or,ar,cr;do for(;Se.length>0;)for(or=Se,Se=[],cr=or.length,ar=0;ar<cr;++ar){var lr=or[ar];lr[0].apply(null,lr[1])}while(Se.length>0);_e=!0,we=!0}function Ve(){var or=xe;xe=[],or.forEach(lr=>{lr._PSD.onunhandled.call(null,lr._value,lr)});for(var ar=Ce.slice(0),cr=ar.length;cr;)ar[--cr]()}function We(or){return new je(le,!1,or)}function Ye(or,ar){var cr=Oe;return function(){var lr=Ue(),ur=Oe;try{return it(cr,!0),or.apply(this,arguments)}catch(fr){ar&&ar(fr)}finally{it(ur,!1),lr&&Le()}}}a(je.prototype,{then:De,_then:function(or,ar){Fe(this,new Ie(null,null,or,ar,Oe))},catch:function(or){if(arguments.length===1)return this.then(null,or);var ar=arguments[0],cr=arguments[1];return typeof ar=="function"?this.then(null,lr=>lr instanceof ar?cr(lr):We(lr)):this.then(null,lr=>lr&&lr.name===ar?cr(lr):We(lr))},finally:function(or){return this.then(ar=>(or(),ar),ar=>(or(),We(ar)))},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var or=Ne(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=or),or}finally{ve=!1}}},timeout:function(or,ar){return or<1/0?new je((cr,lr)=>{var ur=setTimeout(()=>lr(new X.Timeout(ar)),or);this.then(cr,lr).finally(clearTimeout.bind(null,ur))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&l(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ke.env=ot(),a(je,{all:function(){var or=B.apply(null,arguments).map(nt);return new je(function(ar,cr){or.length===0&&ar([]);var lr=or.length;or.forEach((ur,fr)=>je.resolve(ur).then(dr=>{or[fr]=dr,--lr||ar(or)},cr))})},resolve:or=>{if(or instanceof je)return or;if(or&&typeof or.then=="function")return new je((cr,lr)=>{or.then(cr,lr)});var ar=new je(le,!0,or);return qe(ar,Ee),ar},reject:We,race:function(){var or=B.apply(null,arguments).map(nt);return new je((ar,cr)=>{or.map(lr=>je.resolve(lr).then(ar,cr))})},PSD:{get:()=>Oe,set:or=>Oe=or},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at,scheduler:{get:()=>be,set:or=>{be=or}},rejectionMapper:{get:()=>Pe,set:or=>{Pe=or}},follow:(or,ar)=>new je((cr,lr)=>Ze((ur,fr)=>{var dr=Oe;dr.unhandleds=[],dr.onunhandled=fr,dr.finalize=re(function(){(function(pr){function mr(){pr(),Ce.splice(Ce.indexOf(mr),1)}Ce.push(mr),++Ae,be(()=>{--Ae==0&&Ve()},[])})(()=>{this.unhandleds.length===0?ur():fr(this.unhandleds[0])})},dr.finalize),or()},ar,cr,lr))}),ye&&(ye.allSettled&&l(je,"allSettled",function(){const or=B.apply(null,arguments).map(nt);return new je(ar=>{or.length===0&&ar([]);let cr=or.length;const lr=new Array(cr);or.forEach((ur,fr)=>je.resolve(ur).then(dr=>lr[fr]={status:"fulfilled",value:dr},dr=>lr[fr]={status:"rejected",reason:dr}).then(()=>--cr||ar(lr)))})}),ye.any&&typeof AggregateError<"u"&&l(je,"any",function(){const or=B.apply(null,arguments).map(nt);return new je((ar,cr)=>{or.length===0&&cr(new AggregateError([]));let lr=or.length;const ur=new Array(lr);or.forEach((fr,dr)=>je.resolve(fr).then(pr=>ar(pr),pr=>{ur[dr]=pr,--lr||cr(new AggregateError(ur))}))})}));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(or,ar,cr,lr){var ur=Oe,fr=Object.create(ur);fr.parent=ur,fr.ref=0,fr.global=!1,fr.id=++Je;var dr=Ke.env;fr.env=me?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct(dr.nthen,fr),gthen:ct(dr.gthen,fr)}:{},ar&&r(fr,ar),++ur.ref,fr.finalize=function(){--this.parent.ref||this.parent.finalize()};var pr=at(fr,or,cr,lr);return fr.ref===0&&fr.finalize(),pr}function et(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce,ze.id}function tt(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*ce,!0)}function nt(or){return ze.echoes&&or&&or.constructor===ye?(et(),or.then(ar=>(tt(),ar),ar=>(tt(),ft(ar)))):or}function rt(or){++Xe,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),He.push(Oe),it(or,!0)}function st(){var or=He[He.length-1];He.pop(),it(or,!1)}function it(or,ar){var cr=Oe;if((ar?!ze.echoes||Qe++&&or===Oe:!Qe||--Qe&&or===Oe)||ut(ar?rt.bind(null,or):st),or!==Oe&&(Oe=or,cr===Ke&&(Ke.env=ot()),me)){var lr=Ke.env.Promise,ur=or.env;de.then=ur.nthen,lr.prototype.then=ur.gthen,(cr.global||or.global)&&(Object.defineProperty(e,"Promise",ur.PromiseProp),lr.all=ur.all,lr.race=ur.race,lr.resolve=ur.resolve,lr.reject=ur.reject,ur.allSettled&&(lr.allSettled=ur.allSettled),ur.any&&(lr.any=ur.any))}}function ot(){var or=e.Promise;return me?{Promise:or,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:or.all,race:or.race,allSettled:or.allSettled,any:or.any,resolve:or.resolve,reject:or.reject,nthen:de.then,gthen:or.prototype.then}:{}}function at(or,ar,cr,lr,ur){var fr=Oe;try{return it(or,!0),ar(cr,lr,ur)}finally{it(fr,!1)}}function ut(or){pe.call(he,or)}function lt(or,ar,cr,lr){return typeof or!="function"?or:function(){var ur=Oe;cr&&et(),it(ar,!0);try{return or.apply(this,arguments)}finally{it(ur,!1),lr&&ut(tt)}}}function ct(or,ar){return function(cr,lr){return or.call(this,lt(cr,ar),lt(lr,ar))}}(""+pe).indexOf("[native code]")===-1&&(et=tt=ee);const ht="unhandledrejection";function dt(or,ar){var cr;try{cr=ar.onuncatched(or)}catch{}if(cr!==!1)try{var lr,ur={promise:ar,reason:or};if(e.document&&document.createEvent?((lr=document.createEvent("Event")).initEvent(ht,!0,!0),r(lr,ur)):e.CustomEvent&&r(lr=new CustomEvent(ht,{detail:ur}),ur),lr&&e.dispatchEvent&&(dispatchEvent(lr),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(lr)}catch{}R&&lr&&!lr.defaultPrevented&&console.warn(`Unhandled rejection: ${or.stack||or}`)}catch{}}var ft=je.reject;function pt(or,ar,cr,lr){if(or.idbdb&&(or._state.openComplete||Oe.letThrough||or._vip)){var ur=or._createTransaction(ar,cr,or._dbSchema);try{ur.create(),or._state.PR1398_maxLoop=3}catch(fr){return fr.name===H.InvalidState&&or.isOpen()&&--or._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),or._close(),or.open().then(()=>pt(or,ar,cr,lr))):ft(fr)}return ur._promise(ar,(fr,dr)=>Ze(()=>(Oe.trans=ur,lr(fr,dr,ur)))).then(fr=>ur._completion.then(()=>fr))}if(or._state.openComplete)return ft(new X.DatabaseClosed(or._state.dbOpenError));if(!or._state.isBeingOpened){if(!or._options.autoOpen)return ft(new X.DatabaseClosed);or.open().catch(ee)}return or._state.dbReadyPromise.then(()=>pt(or,ar,cr,lr))}const yt="3.2.4",mt="￿",vt=-1/0,gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt="String expected.",_t=[],wt=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,Et=or=>!/(dexie\.js|dexie\.min\.js)/.test(or),Pt="__dbnames",Kt="readonly",Ot="readwrite";function St(or,ar){return or?ar?function(){return or.apply(this,arguments)&&ar.apply(this,arguments)}:or:ar}const At={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(or){return typeof or!="string"||/\./.test(or)?ar=>ar:ar=>(ar[or]===void 0&&or in ar&&delete(ar=O(ar))[or],ar)}class jt{_trans(ar,cr,lr){const ur=this._tx||Oe.trans,fr=this.name;function dr(mr,gr,vr){if(!vr.schema[fr])throw new X.NotFound("Table "+fr+" not part of transaction");return cr(vr.idbtrans,vr)}const pr=Ue();try{return ur&&ur.db===this.db?ur===Oe.trans?ur._promise(ar,dr,lr):Ze(()=>ur._promise(ar,dr,lr),{trans:ur,transless:Oe.transless||Oe}):pt(this.db,ar,[this.name],dr)}finally{pr&&Le()}}get(ar,cr){return ar&&ar.constructor===Object?this.where(ar).first(cr):this._trans("readonly",lr=>this.core.get({trans:lr,key:ar}).then(ur=>this.hook.reading.fire(ur))).then(cr)}where(ar){if(typeof ar=="string")return new this.db.WhereClause(this,ar);if(n(ar))return new this.db.WhereClause(this,`[${ar.join("+")}]`);const cr=t(ar);if(cr.length===1)return this.where(cr[0]).equals(ar[cr[0]]);const lr=this.schema.indexes.concat(this.schema.primKey).filter(gr=>gr.compound&&cr.every(vr=>gr.keyPath.indexOf(vr)>=0)&&gr.keyPath.every(vr=>cr.indexOf(vr)>=0))[0];if(lr&&this.db._maxKey!==mt)return this.where(lr.name).equals(lr.keyPath.map(gr=>ar[gr]));!lr&&R&&console.warn(`The query ${JSON.stringify(ar)} on ${this.name} would benefit of a compound index [${cr.join("+")}]`);const{idxByName:ur}=this.schema,fr=this.db._deps.indexedDB;function dr(gr,vr){try{return fr.cmp(gr,vr)===0}catch{return!1}}const[pr,mr]=cr.reduce(([gr,vr],hr)=>{const $r=ur[hr],xr=ar[hr];return[gr||$r,gr||!$r?St(vr,$r&&$r.multi?br=>{const Er=b(br,hr);return n(Er)&&Er.some(wr=>dr(xr,wr))}:br=>dr(xr,b(br,hr))):vr]},[null,null]);return pr?this.where(pr.name).equals(ar[pr.keyPath]).filter(mr):lr?this.filter(mr):this.where(cr).equals("")}filter(ar){return this.toCollection().and(ar)}count(ar){return this.toCollection().count(ar)}offset(ar){return this.toCollection().offset(ar)}limit(ar){return this.toCollection().limit(ar)}each(ar){return this.toCollection().each(ar)}toArray(ar){return this.toCollection().toArray(ar)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(ar){return new this.db.Collection(new this.db.WhereClause(this,n(ar)?`[${ar.join("+")}]`:ar))}reverse(){return this.toCollection().reverse()}mapToClass(ar){this.schema.mappedClass=ar;const cr=lr=>{if(!lr)return lr;const ur=Object.create(ar.prototype);for(var fr in lr)if(o(lr,fr))try{ur[fr]=lr[fr]}catch{}return ur};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=cr,this.hook("reading",cr),ar}defineClass(){return this.mapToClass(function(ar){r(this,ar)})}add(ar,cr){const{auto:lr,keyPath:ur}=this.schema.primKey;let fr=ar;return ur&&lr&&(fr=Ct(ur)(ar)),this._trans("readwrite",dr=>this.core.mutate({trans:dr,type:"add",keys:cr!=null?[cr]:null,values:[fr]})).then(dr=>dr.numFailures?je.reject(dr.failures[0]):dr.lastResult).then(dr=>{if(ur)try{_$1(ar,ur,dr)}catch{}return dr})}update(ar,cr){if(typeof ar!="object"||n(ar))return this.where(":id").equals(ar).modify(cr);{const lr=b(ar,this.schema.primKey.keyPath);if(lr===void 0)return ft(new X.InvalidArgument("Given object does not contain its primary key"));try{typeof cr!="function"?t(cr).forEach(ur=>{_$1(ar,ur,cr[ur])}):cr(ar,{value:ar,primKey:lr})}catch{}return this.where(":id").equals(lr).modify(cr)}}put(ar,cr){const{auto:lr,keyPath:ur}=this.schema.primKey;let fr=ar;return ur&&lr&&(fr=Ct(ur)(ar)),this._trans("readwrite",dr=>this.core.mutate({trans:dr,type:"put",values:[fr],keys:cr!=null?[cr]:null})).then(dr=>dr.numFailures?je.reject(dr.failures[0]):dr.lastResult).then(dr=>{if(ur)try{_$1(ar,ur,dr)}catch{}return dr})}delete(ar){return this._trans("readwrite",cr=>this.core.mutate({trans:cr,type:"delete",keys:[ar]})).then(cr=>cr.numFailures?je.reject(cr.failures[0]):void 0)}clear(){return this._trans("readwrite",ar=>this.core.mutate({trans:ar,type:"deleteRange",range:At})).then(ar=>ar.numFailures?je.reject(ar.failures[0]):void 0)}bulkGet(ar){return this._trans("readonly",cr=>this.core.getMany({keys:ar,trans:cr}).then(lr=>lr.map(ur=>this.hook.reading.fire(ur))))}bulkAdd(ar,cr,lr){const ur=Array.isArray(cr)?cr:void 0,fr=(lr=lr||(ur?void 0:cr))?lr.allKeys:void 0;return this._trans("readwrite",dr=>{const{auto:pr,keyPath:mr}=this.schema.primKey;if(mr&&ur)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==ar.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const gr=ar.length;let vr=mr&&pr?ar.map(Ct(mr)):ar;return this.core.mutate({trans:dr,type:"add",keys:ur,values:vr,wantResults:fr}).then(({numFailures:hr,results:$r,lastResult:xr,failures:br})=>{if(hr===0)return fr?$r:xr;throw new G(`${this.name}.bulkAdd(): ${hr} of ${gr} operations failed`,br)})})}bulkPut(ar,cr,lr){const ur=Array.isArray(cr)?cr:void 0,fr=(lr=lr||(ur?void 0:cr))?lr.allKeys:void 0;return this._trans("readwrite",dr=>{const{auto:pr,keyPath:mr}=this.schema.primKey;if(mr&&ur)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(ur&&ur.length!==ar.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const gr=ar.length;let vr=mr&&pr?ar.map(Ct(mr)):ar;return this.core.mutate({trans:dr,type:"put",keys:ur,values:vr,wantResults:fr}).then(({numFailures:hr,results:$r,lastResult:xr,failures:br})=>{if(hr===0)return fr?$r:xr;throw new G(`${this.name}.bulkPut(): ${hr} of ${gr} operations failed`,br)})})}bulkDelete(ar){const cr=ar.length;return this._trans("readwrite",lr=>this.core.mutate({trans:lr,type:"delete",keys:ar})).then(({numFailures:lr,lastResult:ur,failures:fr})=>{if(lr===0)return ur;throw new G(`${this.name}.bulkDelete(): ${lr} of ${cr} operations failed`,fr)})}}function Dt(or){var ar={},cr=function(dr,pr){if(pr){for(var mr=arguments.length,gr=new Array(mr-1);--mr;)gr[mr-1]=arguments[mr];return ar[dr].subscribe.apply(null,gr),or}if(typeof dr=="string")return ar[dr]};cr.addEventType=fr;for(var lr=1,ur=arguments.length;lr<ur;++lr)fr(arguments[lr]);return cr;function fr(dr,pr,mr){if(typeof dr!="object"){var gr;pr||(pr=ae),mr||(mr=ee);var vr={subscribers:[],fire:mr,subscribe:function(hr){vr.subscribers.indexOf(hr)===-1&&(vr.subscribers.push(hr),vr.fire=pr(vr.fire,hr))},unsubscribe:function(hr){vr.subscribers=vr.subscribers.filter(function($r){return $r!==hr}),vr.fire=vr.subscribers.reduce(pr,mr)}};return ar[dr]=cr[dr]=vr,vr}t(gr=dr).forEach(function(hr){var $r=gr[hr];if(n($r))fr(hr,gr[hr][0],gr[hr][1]);else{if($r!=="asap")throw new X.InvalidArgument("Invalid event config");var xr=fr(hr,te,function(){for(var br=arguments.length,Er=new Array(br);br--;)Er[br]=arguments[br];xr.subscribers.forEach(function(wr){v(function(){wr.apply(null,Er)})})})}})}}function It(or,ar){return c(ar).from({prototype:or}),ar}function Bt(or,ar){return!(or.filter||or.algorithm||or.or)&&(ar?or.justLimit:!or.replayFilter)}function Tt(or,ar){or.filter=St(or.filter,ar)}function Rt(or,ar,cr){var lr=or.replayFilter;or.replayFilter=lr?()=>St(lr(),ar()):ar,or.justLimit=cr&&!lr}function Ft(or,ar){if(or.isPrimKey)return ar.primaryKey;const cr=ar.getIndexByKeyPath(or.index);if(!cr)throw new X.Schema("KeyPath "+or.index+" on object store "+ar.name+" is not indexed");return cr}function Mt(or,ar,cr){const lr=Ft(or,ar.schema);return ar.openCursor({trans:cr,values:!or.keysOnly,reverse:or.dir==="prev",unique:!!or.unique,query:{index:lr,range:or.range}})}function Nt(or,ar,cr,lr){const ur=or.replayFilter?St(or.filter,or.replayFilter()):or.filter;if(or.or){const fr={},dr=(pr,mr,gr)=>{if(!ur||ur(mr,gr,$r=>mr.stop($r),$r=>mr.fail($r))){var vr=mr.primaryKey,hr=""+vr;hr==="[object ArrayBuffer]"&&(hr=""+new Uint8Array(vr)),o(fr,hr)||(fr[hr]=!0,ar(pr,mr,gr))}};return Promise.all([or.or._iterate(dr,cr),qt(Mt(or,lr,cr),or.algorithm,dr,!or.keysOnly&&or.valueMapper)])}return qt(Mt(or,lr,cr),St(or.algorithm,ur),ar,!or.keysOnly&&or.valueMapper)}function qt(or,ar,cr,lr){var ur=Ye(lr?(fr,dr,pr)=>cr(lr(fr),dr,pr):cr);return or.then(fr=>{if(fr)return fr.start(()=>{var dr=()=>fr.continue();ar&&!ar(fr,pr=>dr=pr,pr=>{fr.stop(pr),dr=ee},pr=>{fr.fail(pr),dr=ee})||ur(fr.value,fr,pr=>dr=pr),dr()})})}function $t(or,ar){try{const cr=Ut(or),lr=Ut(ar);if(cr!==lr)return cr==="Array"?1:lr==="Array"?-1:cr==="binary"?1:lr==="binary"?-1:cr==="string"?1:lr==="string"?-1:cr==="Date"?1:lr!=="Date"?NaN:-1;switch(cr){case"number":case"Date":case"string":return or>ar?1:or<ar?-1:0;case"binary":return function(ur,fr){const dr=ur.length,pr=fr.length,mr=dr<pr?dr:pr;for(let gr=0;gr<mr;++gr)if(ur[gr]!==fr[gr])return ur[gr]<fr[gr]?-1:1;return dr===pr?0:dr<pr?-1:1}(Lt(or),Lt(ar));case"Array":return function(ur,fr){const dr=ur.length,pr=fr.length,mr=dr<pr?dr:pr;for(let gr=0;gr<mr;++gr){const vr=$t(ur[gr],fr[gr]);if(vr!==0)return vr}return dr===pr?0:dr<pr?-1:1}(or,ar)}}catch{}return NaN}function Ut(or){const ar=typeof or;if(ar!=="object")return ar;if(ArrayBuffer.isView(or))return"binary";const cr=C(or);return cr==="ArrayBuffer"?"binary":cr}function Lt(or){return or instanceof Uint8Array?or:ArrayBuffer.isView(or)?new Uint8Array(or.buffer,or.byteOffset,or.byteLength):new Uint8Array(or)}class Vt{_read(ar,cr){var lr=this._ctx;return lr.error?lr.table._trans(null,ft.bind(null,lr.error)):lr.table._trans("readonly",ar).then(cr)}_write(ar){var cr=this._ctx;return cr.error?cr.table._trans(null,ft.bind(null,cr.error)):cr.table._trans("readwrite",ar,"locked")}_addAlgorithm(ar){var cr=this._ctx;cr.algorithm=St(cr.algorithm,ar)}_iterate(ar,cr){return Nt(this._ctx,ar,cr,this._ctx.table.core)}clone(ar){var cr=Object.create(this.constructor.prototype),lr=Object.create(this._ctx);return ar&&r(lr,ar),cr._ctx=lr,cr}raw(){return this._ctx.valueMapper=null,this}each(ar){var cr=this._ctx;return this._read(lr=>Nt(cr,ar,lr,cr.table.core))}count(ar){return this._read(cr=>{const lr=this._ctx,ur=lr.table.core;if(Bt(lr,!0))return ur.count({trans:cr,query:{index:Ft(lr,ur.schema),range:lr.range}}).then(dr=>Math.min(dr,lr.limit));var fr=0;return Nt(lr,()=>(++fr,!1),cr,ur).then(()=>fr)}).then(ar)}sortBy(ar,cr){const lr=ar.split(".").reverse(),ur=lr[0],fr=lr.length-1;function dr(gr,vr){return vr?dr(gr[lr[vr]],vr-1):gr[ur]}var pr=this._ctx.dir==="next"?1:-1;function mr(gr,vr){var hr=dr(gr,fr),$r=dr(vr,fr);return hr<$r?-pr:hr>$r?pr:0}return this.toArray(function(gr){return gr.sort(mr)}).then(cr)}toArray(ar){return this._read(cr=>{var lr=this._ctx;if(lr.dir==="next"&&Bt(lr,!0)&&lr.limit>0){const{valueMapper:ur}=lr,fr=Ft(lr,lr.table.core.schema);return lr.table.core.query({trans:cr,limit:lr.limit,values:!0,query:{index:fr,range:lr.range}}).then(({result:dr})=>ur?dr.map(ur):dr)}{const ur=[];return Nt(lr,fr=>ur.push(fr),cr,lr.table.core).then(()=>ur)}},ar)}offset(ar){var cr=this._ctx;return ar<=0||(cr.offset+=ar,Bt(cr)?Rt(cr,()=>{var lr=ar;return(ur,fr)=>lr===0||(lr===1?(--lr,!1):(fr(()=>{ur.advance(lr),lr=0}),!1))}):Rt(cr,()=>{var lr=ar;return()=>--lr<0})),this}limit(ar){return this._ctx.limit=Math.min(this._ctx.limit,ar),Rt(this._ctx,()=>{var cr=ar;return function(lr,ur,fr){return--cr<=0&&ur(fr),cr>=0}},!0),this}until(ar,cr){return Tt(this._ctx,function(lr,ur,fr){return!ar(lr.value)||(ur(fr),cr)}),this}first(ar){return this.limit(1).toArray(function(cr){return cr[0]}).then(ar)}last(ar){return this.reverse().first(ar)}filter(ar){var cr,lr;return Tt(this._ctx,function(ur){return ar(ur.value)}),cr=this._ctx,lr=ar,cr.isMatch=St(cr.isMatch,lr),this}and(ar){return this.filter(ar)}or(ar){return new this.db.WhereClause(this._ctx.table,ar,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(ar){var cr=this._ctx;return cr.keysOnly=!cr.isMatch,this.each(function(lr,ur){ar(ur.key,ur)})}eachUniqueKey(ar){return this._ctx.unique="unique",this.eachKey(ar)}eachPrimaryKey(ar){var cr=this._ctx;return cr.keysOnly=!cr.isMatch,this.each(function(lr,ur){ar(ur.primaryKey,ur)})}keys(ar){var cr=this._ctx;cr.keysOnly=!cr.isMatch;var lr=[];return this.each(function(ur,fr){lr.push(fr.key)}).then(function(){return lr}).then(ar)}primaryKeys(ar){var cr=this._ctx;if(cr.dir==="next"&&Bt(cr,!0)&&cr.limit>0)return this._read(ur=>{var fr=Ft(cr,cr.table.core.schema);return cr.table.core.query({trans:ur,values:!1,limit:cr.limit,query:{index:fr,range:cr.range}})}).then(({result:ur})=>ur).then(ar);cr.keysOnly=!cr.isMatch;var lr=[];return this.each(function(ur,fr){lr.push(fr.primaryKey)}).then(function(){return lr}).then(ar)}uniqueKeys(ar){return this._ctx.unique="unique",this.keys(ar)}firstKey(ar){return this.limit(1).keys(function(cr){return cr[0]}).then(ar)}lastKey(ar){return this.reverse().firstKey(ar)}distinct(){var ar=this._ctx,cr=ar.index&&ar.table.schema.idxByName[ar.index];if(!cr||!cr.multi)return this;var lr={};return Tt(this._ctx,function(ur){var fr=ur.primaryKey.toString(),dr=o(lr,fr);return lr[fr]=!0,!dr}),this}modify(ar){var cr=this._ctx;return this._write(lr=>{var ur;if(typeof ar=="function")ur=ar;else{var fr=t(ar),dr=fr.length;ur=function(Er){for(var wr=!1,yr=0;yr<dr;++yr){var _r=fr[yr],Sr=ar[_r];b(Er,_r)!==Sr&&(_$1(Er,_r,Sr),wr=!0)}return wr}}const pr=cr.table.core,{outbound:mr,extractKey:gr}=pr.schema.primaryKey,vr=this.db._options.modifyChunkSize||200,hr=[];let $r=0;const xr=[],br=(Er,wr)=>{const{failures:yr,numFailures:_r}=wr;$r+=Er-_r;for(let Sr of t(yr))hr.push(yr[Sr])};return this.clone().primaryKeys().then(Er=>{const wr=yr=>{const _r=Math.min(vr,Er.length-yr);return pr.getMany({trans:lr,keys:Er.slice(yr,yr+_r),cache:"immutable"}).then(Sr=>{const Pr=[],Or=[],Lr=mr?[]:null,Tr=[];for(let Rr=0;Rr<_r;++Rr){const Fr=Sr[Rr],Vr={value:O(Fr),primKey:Er[yr+Rr]};ur.call(Vr,Vr.value,Vr)!==!1&&(Vr.value==null?Tr.push(Er[yr+Rr]):mr||$t(gr(Fr),gr(Vr.value))===0?(Or.push(Vr.value),mr&&Lr.push(Er[yr+Rr])):(Tr.push(Er[yr+Rr]),Pr.push(Vr.value)))}const jr=Bt(cr)&&cr.limit===1/0&&(typeof ar!="function"||ar===Wt)&&{index:cr.index,range:cr.range};return Promise.resolve(Pr.length>0&&pr.mutate({trans:lr,type:"add",values:Pr}).then(Rr=>{for(let Fr in Rr.failures)Tr.splice(parseInt(Fr),1);br(Pr.length,Rr)})).then(()=>(Or.length>0||jr&&typeof ar=="object")&&pr.mutate({trans:lr,type:"put",keys:Lr,values:Or,criteria:jr,changeSpec:typeof ar!="function"&&ar}).then(Rr=>br(Or.length,Rr))).then(()=>(Tr.length>0||jr&&ar===Wt)&&pr.mutate({trans:lr,type:"delete",keys:Tr,criteria:jr}).then(Rr=>br(Tr.length,Rr))).then(()=>Er.length>yr+_r&&wr(yr+vr))})};return wr(0).then(()=>{if(hr.length>0)throw new z("Error modifying one or more objects",hr,$r,xr);return Er.length})})})}delete(){var ar=this._ctx,cr=ar.range;return Bt(ar)&&(ar.isPrimKey&&!kt||cr.type===3)?this._write(lr=>{const{primaryKey:ur}=ar.table.core.schema,fr=cr;return ar.table.core.count({trans:lr,query:{index:ur,range:fr}}).then(dr=>ar.table.core.mutate({trans:lr,type:"deleteRange",range:fr}).then(({failures:pr,lastResult:mr,results:gr,numFailures:vr})=>{if(vr)throw new z("Could not delete some values",Object.keys(pr).map(hr=>pr[hr]),dr-vr);return dr-vr}))}):this.modify(Wt)}}const Wt=(or,ar)=>ar.value=null;function Yt(or,ar){return or<ar?-1:or===ar?0:1}function zt(or,ar){return or>ar?-1:or===ar?0:1}function Gt(or,ar,cr){var lr=or instanceof en?new or.Collection(or):or;return lr._ctx.error=cr?new cr(ar):new TypeError(ar),lr}function Ht(or){return new or.Collection(or,()=>Zt("")).limit(0)}function Qt(or,ar,cr,lr,ur,fr){for(var dr=Math.min(or.length,lr.length),pr=-1,mr=0;mr<dr;++mr){var gr=ar[mr];if(gr!==lr[mr])return ur(or[mr],cr[mr])<0?or.substr(0,mr)+cr[mr]+cr.substr(mr+1):ur(or[mr],lr[mr])<0?or.substr(0,mr)+lr[mr]+cr.substr(mr+1):pr>=0?or.substr(0,pr)+ar[pr]+cr.substr(pr+1):null;ur(or[mr],gr)<0&&(pr=mr)}return dr<lr.length&&fr==="next"?or+cr.substr(or.length):dr<or.length&&fr==="prev"?or.substr(0,cr.length):pr<0?null:or.substr(0,pr)+lr[pr]+cr.substr(pr+1)}function Xt(or,ar,cr,lr){var ur,fr,dr,pr,mr,gr,vr,hr=cr.length;if(!cr.every(Er=>typeof Er=="string"))return Gt(or,bt);function $r(Er){ur=function(yr){return yr==="next"?_r=>_r.toUpperCase():_r=>_r.toLowerCase()}(Er),fr=function(yr){return yr==="next"?_r=>_r.toLowerCase():_r=>_r.toUpperCase()}(Er),dr=Er==="next"?Yt:zt;var wr=cr.map(function(yr){return{lower:fr(yr),upper:ur(yr)}}).sort(function(yr,_r){return dr(yr.lower,_r.lower)});pr=wr.map(function(yr){return yr.upper}),mr=wr.map(function(yr){return yr.lower}),gr=Er,vr=Er==="next"?"":lr}$r("next");var xr=new or.Collection(or,()=>Jt(pr[0],mr[hr-1]+lr));xr._ondirectionchange=function(Er){$r(Er)};var br=0;return xr._addAlgorithm(function(Er,wr,yr){var _r=Er.key;if(typeof _r!="string")return!1;var Sr=fr(_r);if(ar(Sr,mr,br))return!0;for(var Pr=null,Or=br;Or<hr;++Or){var Lr=Qt(_r,Sr,pr[Or],mr[Or],dr,gr);Lr===null&&Pr===null?br=Or+1:(Pr===null||dr(Pr,Lr)>0)&&(Pr=Lr)}return wr(Pr!==null?function(){Er.continue(Pr+vr)}:yr),!1}),xr}function Jt(or,ar,cr,lr){return{type:2,lower:or,upper:ar,lowerOpen:cr,upperOpen:lr}}function Zt(or){return{type:1,lower:or,upper:or}}class en{get Collection(){return this._ctx.table.db.Collection}between(ar,cr,lr,ur){lr=lr!==!1,ur=ur===!0;try{return this._cmp(ar,cr)>0||this._cmp(ar,cr)===0&&(lr||ur)&&(!lr||!ur)?Ht(this):new this.Collection(this,()=>Jt(ar,cr,!lr,!ur))}catch{return Gt(this,gt)}}equals(ar){return ar==null?Gt(this,gt):new this.Collection(this,()=>Zt(ar))}above(ar){return ar==null?Gt(this,gt):new this.Collection(this,()=>Jt(ar,void 0,!0))}aboveOrEqual(ar){return ar==null?Gt(this,gt):new this.Collection(this,()=>Jt(ar,void 0,!1))}below(ar){return ar==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,ar,!1,!0))}belowOrEqual(ar){return ar==null?Gt(this,gt):new this.Collection(this,()=>Jt(void 0,ar))}startsWith(ar){return typeof ar!="string"?Gt(this,bt):this.between(ar,ar+mt,!0,!0)}startsWithIgnoreCase(ar){return ar===""?this.startsWith(ar):Xt(this,(cr,lr)=>cr.indexOf(lr[0])===0,[ar],mt)}equalsIgnoreCase(ar){return Xt(this,(cr,lr)=>cr===lr[0],[ar],"")}anyOfIgnoreCase(){var ar=B.apply(I,arguments);return ar.length===0?Ht(this):Xt(this,(cr,lr)=>lr.indexOf(cr)!==-1,ar,"")}startsWithAnyOfIgnoreCase(){var ar=B.apply(I,arguments);return ar.length===0?Ht(this):Xt(this,(cr,lr)=>lr.some(ur=>cr.indexOf(ur)===0),ar,mt)}anyOf(){const ar=B.apply(I,arguments);let cr=this._cmp;try{ar.sort(cr)}catch{return Gt(this,gt)}if(ar.length===0)return Ht(this);const lr=new this.Collection(this,()=>Jt(ar[0],ar[ar.length-1]));lr._ondirectionchange=fr=>{cr=fr==="next"?this._ascending:this._descending,ar.sort(cr)};let ur=0;return lr._addAlgorithm((fr,dr,pr)=>{const mr=fr.key;for(;cr(mr,ar[ur])>0;)if(++ur,ur===ar.length)return dr(pr),!1;return cr(mr,ar[ur])===0||(dr(()=>{fr.continue(ar[ur])}),!1)}),lr}notEqual(ar){return this.inAnyRange([[vt,ar],[ar,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const ar=B.apply(I,arguments);if(ar.length===0)return new this.Collection(this);try{ar.sort(this._ascending)}catch{return Gt(this,gt)}const cr=ar.reduce((lr,ur)=>lr?lr.concat([[lr[lr.length-1][1],ur]]):[[vt,ur]],null);return cr.push([ar[ar.length-1],this.db._maxKey]),this.inAnyRange(cr,{includeLowers:!1,includeUppers:!1})}inAnyRange(ar,cr){const lr=this._cmp,ur=this._ascending,fr=this._descending,dr=this._min,pr=this._max;if(ar.length===0)return Ht(this);if(!ar.every(_r=>_r[0]!==void 0&&_r[1]!==void 0&&ur(_r[0],_r[1])<=0))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);const mr=!cr||cr.includeLowers!==!1,gr=cr&&cr.includeUppers===!0;let vr,hr=ur;function $r(_r,Sr){return hr(_r[0],Sr[0])}try{vr=ar.reduce(function(_r,Sr){let Pr=0,Or=_r.length;for(;Pr<Or;++Pr){const Lr=_r[Pr];if(lr(Sr[0],Lr[1])<0&&lr(Sr[1],Lr[0])>0){Lr[0]=dr(Lr[0],Sr[0]),Lr[1]=pr(Lr[1],Sr[1]);break}}return Pr===Or&&_r.push(Sr),_r},[]),vr.sort($r)}catch{return Gt(this,gt)}let xr=0;const br=gr?_r=>ur(_r,vr[xr][1])>0:_r=>ur(_r,vr[xr][1])>=0,Er=mr?_r=>fr(_r,vr[xr][0])>0:_r=>fr(_r,vr[xr][0])>=0;let wr=br;const yr=new this.Collection(this,()=>Jt(vr[0][0],vr[vr.length-1][1],!mr,!gr));return yr._ondirectionchange=_r=>{_r==="next"?(wr=br,hr=ur):(wr=Er,hr=fr),vr.sort($r)},yr._addAlgorithm((_r,Sr,Pr)=>{for(var Or=_r.key;wr(Or);)if(++xr,xr===vr.length)return Sr(Pr),!1;return!!function(Lr){return!br(Lr)&&!Er(Lr)}(Or)||(this._cmp(Or,vr[xr][1])===0||this._cmp(Or,vr[xr][0])===0||Sr(()=>{hr===ur?_r.continue(vr[xr][0]):_r.continue(vr[xr][1])}),!1)}),yr}startsWithAnyOf(){const ar=B.apply(I,arguments);return ar.every(cr=>typeof cr=="string")?ar.length===0?Ht(this):this.inAnyRange(ar.map(cr=>[cr,cr+mt])):Gt(this,"startsWithAnyOf() only works with strings")}}function tn(or){return Ye(function(ar){return nn(ar),or(ar.target.error),!1})}function nn(or){or.stopPropagation&&or.stopPropagation(),or.preventDefault&&or.preventDefault()}const rn="storagemutated",sn="x-storagemutated-1",on=Dt(null,rn);class an{_lock(){return m(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var ar=this._blockedFuncs.shift();try{at(ar[1],ar[0])}catch{}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(ar){if(!this.mode)return this;const cr=this.db.idbdb,lr=this.db._state.dbOpenError;if(m(!this.idbtrans),!ar&&!cr)switch(lr&&lr.name){case"DatabaseClosedError":throw new X.DatabaseClosed(lr);case"MissingAPIError":throw new X.MissingAPI(lr.message,lr);default:throw new X.OpenFailed(lr)}if(!this.active)throw new X.TransactionInactive;return m(this._completion._state===null),(ar=this.idbtrans=ar||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):cr.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye(ur=>{nn(ur),this._reject(ar.error)}),ar.onabort=Ye(ur=>{nn(ur),this.active&&this._reject(new X.Abort(ar.error)),this.active=!1,this.on("abort").fire(ur)}),ar.oncomplete=Ye(()=>{this.active=!1,this._resolve(),"mutatedParts"in ar&&on.storagemutated.fire(ar.mutatedParts)}),this}_promise(ar,cr,lr){if(ar==="readwrite"&&this.mode!=="readwrite")return ft(new X.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new X.TransactionInactive);if(this._locked())return new je((fr,dr)=>{this._blockedFuncs.push([()=>{this._promise(ar,cr,lr).then(fr,dr)},Oe])});if(lr)return Ze(()=>{var fr=new je((dr,pr)=>{this._lock();const mr=cr(dr,pr,this);mr&&mr.then&&mr.then(dr,pr)});return fr.finally(()=>this._unlock()),fr._lib=!0,fr});var ur=new je((fr,dr)=>{var pr=cr(fr,dr,this);pr&&pr.then&&pr.then(fr,dr)});return ur._lib=!0,ur}_root(){return this.parent?this.parent._root():this}waitFor(ar){var cr=this._root();const lr=je.resolve(ar);if(cr._waitingFor)cr._waitingFor=cr._waitingFor.then(()=>lr);else{cr._waitingFor=lr,cr._waitingQueue=[];var ur=cr.idbtrans.objectStore(cr.storeNames[0]);(function dr(){for(++cr._spinCount;cr._waitingQueue.length;)cr._waitingQueue.shift()();cr._waitingFor&&(ur.get(-1/0).onsuccess=dr)})()}var fr=cr._waitingFor;return new je((dr,pr)=>{lr.then(mr=>cr._waitingQueue.push(Ye(dr.bind(null,mr))),mr=>cr._waitingQueue.push(Ye(pr.bind(null,mr)))).finally(()=>{cr._waitingFor===fr&&(cr._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(ar){const cr=this._memoizedTables||(this._memoizedTables={});if(o(cr,ar))return cr[ar];const lr=this.schema[ar];if(!lr)throw new X.NotFound("Table "+ar+" not part of transaction");const ur=new this.db.Table(ar,lr,this);return ur.core=this.db.core.table(ar),cr[ar]=ur,ur}}function un(or,ar,cr,lr,ur,fr,dr){return{name:or,keyPath:ar,unique:cr,multi:lr,auto:ur,compound:fr,src:(cr&&!dr?"&":"")+(lr?"*":"")+(ur?"++":"")+ln(ar)}}function ln(or){return typeof or=="string"?or:or?"["+[].join.call(or,"+")+"]":""}function cn(or,ar,cr){return{name:or,primKey:ar,indexes:cr,mappedClass:null,idxByName:g(cr,lr=>[lr.name,lr])}}let hn=or=>{try{return or.only([[]]),hn=()=>[[]],[[]]}catch{return hn=()=>mt,mt}};function dn(or){return or==null?()=>{}:typeof or=="string"?function(ar){return ar.split(".").length===1?lr=>lr[ar]:lr=>b(lr,ar)}(or):ar=>b(ar,or)}function fn(or){return[].slice.call(or)}let pn=0;function yn(or){return or==null?":id":typeof or=="string"?or:`[${or.join("+")}]`}function mn(or,ar,cr){function lr(mr){if(mr.type===3)return null;if(mr.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:gr,upper:vr,lowerOpen:hr,upperOpen:$r}=mr;return gr===void 0?vr===void 0?null:ar.upperBound(vr,!!$r):vr===void 0?ar.lowerBound(gr,!!hr):ar.bound(gr,vr,!!hr,!!$r)}const{schema:ur,hasGetAll:fr}=function(mr,gr){const vr=fn(mr.objectStoreNames);return{schema:{name:mr.name,tables:vr.map(hr=>gr.objectStore(hr)).map(hr=>{const{keyPath:$r,autoIncrement:xr}=hr,br=n($r),Er=$r==null,wr={},yr={name:hr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Er,compound:br,keyPath:$r,autoIncrement:xr,unique:!0,extractKey:dn($r)},indexes:fn(hr.indexNames).map(_r=>hr.index(_r)).map(_r=>{const{name:Sr,unique:Pr,multiEntry:Or,keyPath:Lr}=_r,Tr={name:Sr,compound:n(Lr),keyPath:Lr,unique:Pr,multiEntry:Or,extractKey:dn(Lr)};return wr[yn(Lr)]=Tr,Tr}),getIndexByKeyPath:_r=>wr[yn(_r)]};return wr[":id"]=yr.primaryKey,$r!=null&&(wr[yn($r)]=yr.primaryKey),yr})},hasGetAll:vr.length>0&&"getAll"in gr.objectStore(vr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(or,cr),dr=ur.tables.map(mr=>function(gr){const vr=gr.name;return{name:vr,schema:gr,mutate:function({trans:hr,type:$r,keys:xr,values:br,range:Er}){return new Promise((wr,yr)=>{wr=Ye(wr);const _r=hr.objectStore(vr),Sr=_r.keyPath==null,Pr=$r==="put"||$r==="add";if(!Pr&&$r!=="delete"&&$r!=="deleteRange")throw new Error("Invalid operation type: "+$r);const{length:Or}=xr||br||{length:1};if(xr&&br&&xr.length!==br.length)throw new Error("Given keys array must have same length as given values array.");if(Or===0)return wr({numFailures:0,failures:{},results:[],lastResult:void 0});let Lr;const Tr=[],jr=[];let Rr=0;const Fr=Zr=>{++Rr,nn(Zr)};if($r==="deleteRange"){if(Er.type===4)return wr({numFailures:Rr,failures:jr,results:[],lastResult:void 0});Er.type===3?Tr.push(Lr=_r.clear()):Tr.push(Lr=_r.delete(lr(Er)))}else{const[Zr,so]=Pr?Sr?[br,xr]:[br,null]:[xr,null];if(Pr)for(let Ir=0;Ir<Or;++Ir)Tr.push(Lr=so&&so[Ir]!==void 0?_r[$r](Zr[Ir],so[Ir]):_r[$r](Zr[Ir])),Lr.onerror=Fr;else for(let Ir=0;Ir<Or;++Ir)Tr.push(Lr=_r[$r](Zr[Ir])),Lr.onerror=Fr}const Vr=Zr=>{const so=Zr.target.result;Tr.forEach((Ir,Kr)=>Ir.error!=null&&(jr[Kr]=Ir.error)),wr({numFailures:Rr,failures:jr,results:$r==="delete"?xr:Tr.map(Ir=>Ir.result),lastResult:so})};Lr.onerror=Zr=>{Fr(Zr),Vr(Zr)},Lr.onsuccess=Vr})},getMany:({trans:hr,keys:$r})=>new Promise((xr,br)=>{xr=Ye(xr);const Er=hr.objectStore(vr),wr=$r.length,yr=new Array(wr);let _r,Sr=0,Pr=0;const Or=Tr=>{const jr=Tr.target;yr[jr._pos]=jr.result,++Pr===Sr&&xr(yr)},Lr=tn(br);for(let Tr=0;Tr<wr;++Tr)$r[Tr]!=null&&(_r=Er.get($r[Tr]),_r._pos=Tr,_r.onsuccess=Or,_r.onerror=Lr,++Sr);Sr===0&&xr(yr)}),get:({trans:hr,key:$r})=>new Promise((xr,br)=>{xr=Ye(xr);const Er=hr.objectStore(vr).get($r);Er.onsuccess=wr=>xr(wr.target.result),Er.onerror=tn(br)}),query:function(hr){return $r=>new Promise((xr,br)=>{xr=Ye(xr);const{trans:Er,values:wr,limit:yr,query:_r}=$r,Sr=yr===1/0?void 0:yr,{index:Pr,range:Or}=_r,Lr=Er.objectStore(vr),Tr=Pr.isPrimaryKey?Lr:Lr.index(Pr.name),jr=lr(Or);if(yr===0)return xr({result:[]});if(hr){const Rr=wr?Tr.getAll(jr,Sr):Tr.getAllKeys(jr,Sr);Rr.onsuccess=Fr=>xr({result:Fr.target.result}),Rr.onerror=tn(br)}else{let Rr=0;const Fr=wr||!("openKeyCursor"in Tr)?Tr.openCursor(jr):Tr.openKeyCursor(jr),Vr=[];Fr.onsuccess=Zr=>{const so=Fr.result;return so?(Vr.push(wr?so.value:so.primaryKey),++Rr===yr?xr({result:Vr}):void so.continue()):xr({result:Vr})},Fr.onerror=tn(br)}})}(fr),openCursor:function({trans:hr,values:$r,query:xr,reverse:br,unique:Er}){return new Promise((wr,yr)=>{wr=Ye(wr);const{index:_r,range:Sr}=xr,Pr=hr.objectStore(vr),Or=_r.isPrimaryKey?Pr:Pr.index(_r.name),Lr=br?Er?"prevunique":"prev":Er?"nextunique":"next",Tr=$r||!("openKeyCursor"in Or)?Or.openCursor(lr(Sr),Lr):Or.openKeyCursor(lr(Sr),Lr);Tr.onerror=tn(yr),Tr.onsuccess=Ye(jr=>{const Rr=Tr.result;if(!Rr)return void wr(null);Rr.___id=++pn,Rr.done=!1;const Fr=Rr.continue.bind(Rr);let Vr=Rr.continuePrimaryKey;Vr&&(Vr=Vr.bind(Rr));const Zr=Rr.advance.bind(Rr),so=()=>{throw new Error("Cursor not stopped")};Rr.trans=hr,Rr.stop=Rr.continue=Rr.continuePrimaryKey=Rr.advance=()=>{throw new Error("Cursor not started")},Rr.fail=Ye(yr),Rr.next=function(){let Ir=1;return this.start(()=>Ir--?this.continue():this.stop()).then(()=>this)},Rr.start=Ir=>{const Kr=new Promise((eo,Wr)=>{eo=Ye(eo),Tr.onerror=tn(Wr),Rr.fail=Wr,Rr.stop=Ur=>{Rr.stop=Rr.continue=Rr.continuePrimaryKey=Rr.advance=so,eo(Ur)}}),no=()=>{if(Tr.result)try{Ir()}catch(eo){Rr.fail(eo)}else Rr.done=!0,Rr.start=()=>{throw new Error("Cursor behind last entry")},Rr.stop()};return Tr.onsuccess=Ye(eo=>{Tr.onsuccess=no,no()}),Rr.continue=Fr,Rr.continuePrimaryKey=Vr,Rr.advance=Zr,no(),Kr},wr(Rr)},yr)})},count({query:hr,trans:$r}){const{index:xr,range:br}=hr;return new Promise((Er,wr)=>{const yr=$r.objectStore(vr),_r=xr.isPrimaryKey?yr:yr.index(xr.name),Sr=lr(br),Pr=Sr?_r.count(Sr):_r.count();Pr.onsuccess=Ye(Or=>Er(Or.target.result)),Pr.onerror=tn(wr)})}}}(mr)),pr={};return dr.forEach(mr=>pr[mr.name]=mr),{stack:"dbcore",transaction:or.transaction.bind(or),table(mr){if(!pr[mr])throw new Error(`Table '${mr}' not found`);return pr[mr]},MIN_KEY:-1/0,MAX_KEY:hn(ar),schema:ur}}function vn({_novip:or},ar){const cr=ar.db,lr=function(ur,fr,{IDBKeyRange:dr,indexedDB:pr},mr){return{dbcore:function(vr,hr){return hr.reduce(($r,{create:xr})=>({...$r,...xr($r)}),vr)}(mn(fr,dr,mr),ur.dbcore)}}(or._middlewares,cr,or._deps,ar);or.core=lr.dbcore,or.tables.forEach(ur=>{const fr=ur.name;or.core.schema.tables.some(dr=>dr.name===fr)&&(ur.core=or.core.table(fr),or[fr]instanceof or.Table&&(or[fr].core=ur.core))})}function gn({_novip:or},ar,cr,lr){cr.forEach(ur=>{const fr=lr[ur];ar.forEach(dr=>{const pr=d(dr,ur);(!pr||"value"in pr&&pr.value===void 0)&&(dr===or.Transaction.prototype||dr instanceof or.Transaction?l(dr,ur,{get(){return this.table(ur)},set(mr){u(this,ur,{value:mr,writable:!0,configurable:!0,enumerable:!0})}}):dr[ur]=new or.Table(ur,fr))})})}function bn({_novip:or},ar){ar.forEach(cr=>{for(let lr in cr)cr[lr]instanceof or.Table&&delete cr[lr]})}function _n(or,ar){return or._cfg.version-ar._cfg.version}function wn(or,ar,cr,lr){const ur=or._dbSchema,fr=or._createTransaction("readwrite",or._storeNames,ur);fr.create(cr),fr._completion.catch(lr);const dr=fr._reject.bind(fr),pr=Oe.transless||Oe;Ze(()=>{Oe.trans=fr,Oe.transless=pr,ar===0?(t(ur).forEach(mr=>{kn(cr,mr,ur[mr].primKey,ur[mr].indexes)}),vn(or,cr),je.follow(()=>or.on.populate.fire(fr)).catch(dr)):function({_novip:mr},gr,vr,hr){const $r=[],xr=mr._versions;let br=mr._dbSchema=Pn(mr,mr.idbdb,hr),Er=!1;const wr=xr.filter(_r=>_r._cfg.version>=gr);function yr(){return $r.length?je.resolve($r.shift()(vr.idbtrans)).then(yr):je.resolve()}return wr.forEach(_r=>{$r.push(()=>{const Sr=br,Pr=_r._cfg.dbschema;Kn(mr,Sr,hr),Kn(mr,Pr,hr),br=mr._dbSchema=Pr;const Or=xn(Sr,Pr);Or.add.forEach(Tr=>{kn(hr,Tr[0],Tr[1].primKey,Tr[1].indexes)}),Or.change.forEach(Tr=>{if(Tr.recreate)throw new X.Upgrade("Not yet support for changing primary key");{const jr=hr.objectStore(Tr.name);Tr.add.forEach(Rr=>En(jr,Rr)),Tr.change.forEach(Rr=>{jr.deleteIndex(Rr.name),En(jr,Rr)}),Tr.del.forEach(Rr=>jr.deleteIndex(Rr))}});const Lr=_r._cfg.contentUpgrade;if(Lr&&_r._cfg.version>gr){vn(mr,hr),vr._memoizedTables={},Er=!0;let Tr=w(Pr);Or.del.forEach(Vr=>{Tr[Vr]=Sr[Vr]}),bn(mr,[mr.Transaction.prototype]),gn(mr,[mr.Transaction.prototype],t(Tr),Tr),vr.schema=Tr;const jr=T(Lr);let Rr;jr&&et();const Fr=je.follow(()=>{if(Rr=Lr(vr),Rr&&jr){var Vr=tt.bind(null,null);Rr.then(Vr,Vr)}});return Rr&&typeof Rr.then=="function"?je.resolve(Rr):Fr.then(()=>Rr)}}),$r.push(Sr=>{(!Er||!xt)&&function(Pr,Or){[].slice.call(Or.db.objectStoreNames).forEach(Lr=>Pr[Lr]==null&&Or.db.deleteObjectStore(Lr))}(_r._cfg.dbschema,Sr),bn(mr,[mr.Transaction.prototype]),gn(mr,[mr.Transaction.prototype],mr._storeNames,mr._dbSchema),vr.schema=mr._dbSchema})}),yr().then(()=>{var _r,Sr;Sr=hr,t(_r=br).forEach(Pr=>{Sr.db.objectStoreNames.contains(Pr)||kn(Sr,Pr,_r[Pr].primKey,_r[Pr].indexes)})})}(or,ar,fr,cr).catch(dr)})}function xn(or,ar){const cr={del:[],add:[],change:[]};let lr;for(lr in or)ar[lr]||cr.del.push(lr);for(lr in ar){const ur=or[lr],fr=ar[lr];if(ur){const dr={name:lr,def:fr,recreate:!1,del:[],add:[],change:[]};if(""+(ur.primKey.keyPath||"")!=""+(fr.primKey.keyPath||"")||ur.primKey.auto!==fr.primKey.auto&&!wt)dr.recreate=!0,cr.change.push(dr);else{const pr=ur.idxByName,mr=fr.idxByName;let gr;for(gr in pr)mr[gr]||dr.del.push(gr);for(gr in mr){const vr=pr[gr],hr=mr[gr];vr?vr.src!==hr.src&&dr.change.push(hr):dr.add.push(hr)}(dr.del.length>0||dr.add.length>0||dr.change.length>0)&&cr.change.push(dr)}}else cr.add.push([lr,fr])}return cr}function kn(or,ar,cr,lr){const ur=or.db.createObjectStore(ar,cr.keyPath?{keyPath:cr.keyPath,autoIncrement:cr.auto}:{autoIncrement:cr.auto});return lr.forEach(fr=>En(ur,fr)),ur}function En(or,ar){or.createIndex(ar.name,ar.keyPath,{unique:ar.unique,multiEntry:ar.multi})}function Pn(or,ar,cr){const lr={};return p(ar.objectStoreNames,0).forEach(ur=>{const fr=cr.objectStore(ur);let dr=fr.keyPath;const pr=un(ln(dr),dr||"",!1,!1,!!fr.autoIncrement,dr&&typeof dr!="string",!0),mr=[];for(let vr=0;vr<fr.indexNames.length;++vr){const hr=fr.index(fr.indexNames[vr]);dr=hr.keyPath;var gr=un(hr.name,dr,!!hr.unique,!!hr.multiEntry,!1,dr&&typeof dr!="string",!1);mr.push(gr)}lr[ur]=cn(ur,pr,mr)}),lr}function Kn({_novip:or},ar,cr){const lr=cr.db.objectStoreNames;for(let ur=0;ur<lr.length;++ur){const fr=lr[ur],dr=cr.objectStore(fr);or._hasGetAll="getAll"in dr;for(let pr=0;pr<dr.indexNames.length;++pr){const mr=dr.indexNames[pr],gr=dr.index(mr).keyPath,vr=typeof gr=="string"?gr:"["+p(gr).join("+")+"]";if(ar[fr]){const hr=ar[fr].idxByName[vr];hr&&(hr.name=mr,delete ar[fr].idxByName[vr],ar[fr].idxByName[mr]=hr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(or._hasGetAll=!1)}class On{_parseStoresSpec(ar,cr){t(ar).forEach(lr=>{if(ar[lr]!==null){var ur=ar[lr].split(",").map((dr,pr)=>{const mr=(dr=dr.trim()).replace(/([&*]|\+\+)/g,""),gr=/^\[/.test(mr)?mr.match(/^\[(.*)\]$/)[1].split("+"):mr;return un(mr,gr||null,/\&/.test(dr),/\*/.test(dr),/\+\+/.test(dr),n(gr),pr===0)}),fr=ur.shift();if(fr.multi)throw new X.Schema("Primary key cannot be multi-valued");ur.forEach(dr=>{if(dr.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!dr.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),cr[lr]=cn(lr,fr,ur)}})}stores(ar){const cr=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,ar):ar;const lr=cr._versions,ur={};let fr={};return lr.forEach(dr=>{r(ur,dr._cfg.storesSource),fr=dr._cfg.dbschema={},dr._parseStoresSpec(ur,fr)}),cr._dbSchema=fr,bn(cr,[cr._allTables,cr,cr.Transaction.prototype]),gn(cr,[cr._allTables,cr,cr.Transaction.prototype,this._cfg.tables],t(fr),fr),cr._storeNames=t(fr),this}upgrade(ar){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||ee,ar),this}}function Sn(or,ar){let cr=or._dbNamesDB;return cr||(cr=or._dbNamesDB=new Xn(Pt,{addons:[],indexedDB:or,IDBKeyRange:ar}),cr.version(1).stores({dbnames:"name"})),cr.table("dbnames")}function An(or){return or&&typeof or.databases=="function"}function Cn(or){return Ze(function(){return Oe.letThrough=!0,or()})}function jn(){var or;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ar){var cr=function(){return indexedDB.databases().finally(ar)};or=setInterval(cr,100),cr()}).finally(function(){return clearInterval(or)}):Promise.resolve()}function Dn(or){const ar=or._state,{indexedDB:cr}=or._deps;if(ar.isBeingOpened||or.idbdb)return ar.dbReadyPromise.then(()=>ar.dbOpenError?ft(ar.dbOpenError):or);R&&(ar.openCanceller._stackHolder=q()),ar.isBeingOpened=!0,ar.dbOpenError=null,ar.openComplete=!1;const lr=ar.openCanceller;function ur(){if(ar.openCanceller!==lr)throw new X.DatabaseClosed("db.open() was cancelled")}let fr=ar.dbReadyResolve,dr=null,pr=!1;return je.race([lr,(typeof navigator>"u"?je.resolve():jn()).then(()=>new je((mr,gr)=>{if(ur(),!cr)throw new X.MissingAPI;const vr=or.name,hr=ar.autoSchema?cr.open(vr):cr.open(vr,Math.round(10*or.verno));if(!hr)throw new X.MissingAPI;hr.onerror=tn(gr),hr.onblocked=Ye(or._fireOnBlocked),hr.onupgradeneeded=Ye($r=>{if(dr=hr.transaction,ar.autoSchema&&!or._options.allowEmptyDB){hr.onerror=nn,dr.abort(),hr.result.close();const br=cr.deleteDatabase(vr);br.onsuccess=br.onerror=Ye(()=>{gr(new X.NoSuchDatabase(`Database ${vr} doesnt exist`))})}else{dr.onerror=tn(gr);var xr=$r.oldVersion>Math.pow(2,62)?0:$r.oldVersion;pr=xr<1,or._novip.idbdb=hr.result,wn(or,xr/10,dr,gr)}},gr),hr.onsuccess=Ye(()=>{dr=null;const $r=or._novip.idbdb=hr.result,xr=p($r.objectStoreNames);if(xr.length>0)try{const Er=$r.transaction((br=xr).length===1?br[0]:br,"readonly");ar.autoSchema?function({_novip:wr},yr,_r){wr.verno=yr.version/10;const Sr=wr._dbSchema=Pn(0,yr,_r);wr._storeNames=p(yr.objectStoreNames,0),gn(wr,[wr._allTables],t(Sr),Sr)}(or,$r,Er):(Kn(or,or._dbSchema,Er),function(wr,yr){const _r=xn(Pn(0,wr.idbdb,yr),wr._dbSchema);return!(_r.add.length||_r.change.some(Sr=>Sr.add.length||Sr.change.length))}(or,Er)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vn(or,Er)}catch{}var br;_t.push(or),$r.onversionchange=Ye(Er=>{ar.vcFired=!0,or.on("versionchange").fire(Er)}),$r.onclose=Ye(Er=>{or.on("close").fire(Er)}),pr&&function({indexedDB:Er,IDBKeyRange:wr},yr){!An(Er)&&yr!==Pt&&Sn(Er,wr).put({name:yr}).catch(ee)}(or._deps,vr),mr()},gr)}))]).then(()=>(ur(),ar.onReadyBeingFired=[],je.resolve(Cn(()=>or.on.ready.fire(or.vip))).then(function mr(){if(ar.onReadyBeingFired.length>0){let gr=ar.onReadyBeingFired.reduce(ue,ee);return ar.onReadyBeingFired=[],je.resolve(Cn(()=>gr(or.vip))).then(mr)}}))).finally(()=>{ar.onReadyBeingFired=null,ar.isBeingOpened=!1}).then(()=>or).catch(mr=>{ar.dbOpenError=mr;try{dr&&dr.abort()}catch{}return lr===ar.openCanceller&&or._close(),ft(mr)}).finally(()=>{ar.openComplete=!0,fr()})}function In(or){var ar=fr=>or.next(fr),cr=ur(ar),lr=ur(fr=>or.throw(fr));function ur(fr){return dr=>{var pr=fr(dr),mr=pr.value;return pr.done?mr:mr&&typeof mr.then=="function"?mr.then(cr,lr):n(mr)?Promise.all(mr).then(cr,lr):cr(mr)}}return ur(ar)()}function Bn(or,ar,cr){var lr=arguments.length;if(lr<2)throw new X.InvalidArgument("Too few arguments");for(var ur=new Array(lr-1);--lr;)ur[lr-1]=arguments[lr];return cr=ur.pop(),[or,k(ur),cr]}function Tn(or,ar,cr,lr,ur){return je.resolve().then(()=>{const fr=Oe.transless||Oe,dr=or._createTransaction(ar,cr,or._dbSchema,lr),pr={trans:dr,transless:fr};if(lr)dr.idbtrans=lr.idbtrans;else try{dr.create(),or._state.PR1398_maxLoop=3}catch(hr){return hr.name===H.InvalidState&&or.isOpen()&&--or._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),or._close(),or.open().then(()=>Tn(or,ar,cr,null,ur))):ft(hr)}const mr=T(ur);let gr;mr&&et();const vr=je.follow(()=>{if(gr=ur.call(dr,dr),gr)if(mr){var hr=tt.bind(null,null);gr.then(hr,hr)}else typeof gr.next=="function"&&typeof gr.throw=="function"&&(gr=In(gr))},pr);return(gr&&typeof gr.then=="function"?je.resolve(gr).then(hr=>dr.active?hr:ft(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):vr.then(()=>gr)).then(hr=>(lr&&dr._resolve(),dr._completion.then(()=>hr))).catch(hr=>(dr._reject(hr),ft(hr)))})}function Rn(or,ar,cr){const lr=n(or)?or.slice():[or];for(let ur=0;ur<cr;++ur)lr.push(ar);return lr}const Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(or){return{...or,table(ar){const cr=or.table(ar),{schema:lr}=cr,ur={},fr=[];function dr(vr,hr,$r){const xr=yn(vr),br=ur[xr]=ur[xr]||[],Er=vr==null?0:typeof vr=="string"?1:vr.length,wr=hr>0,yr={...$r,isVirtual:wr,keyTail:hr,keyLength:Er,extractKey:dn(vr),unique:!wr&&$r.unique};return br.push(yr),yr.isPrimaryKey||fr.push(yr),Er>1&&dr(Er===2?vr[0]:vr.slice(0,Er-1),hr+1,$r),br.sort((_r,Sr)=>_r.keyTail-Sr.keyTail),yr}const pr=dr(lr.primaryKey.keyPath,0,lr.primaryKey);ur[":id"]=[pr];for(const vr of lr.indexes)dr(vr.keyPath,0,vr);function mr(vr){const hr=vr.query.index;return hr.isVirtual?{...vr,query:{index:hr,range:($r=vr.query.range,xr=hr.keyTail,{type:$r.type===1?2:$r.type,lower:Rn($r.lower,$r.lowerOpen?or.MAX_KEY:or.MIN_KEY,xr),lowerOpen:!0,upper:Rn($r.upper,$r.upperOpen?or.MIN_KEY:or.MAX_KEY,xr),upperOpen:!0})}}:vr;var $r,xr}return{...cr,schema:{...lr,primaryKey:pr,indexes:fr,getIndexByKeyPath:function(vr){const hr=ur[yn(vr)];return hr&&hr[0]}},count:vr=>cr.count(mr(vr)),query:vr=>cr.query(mr(vr)),openCursor(vr){const{keyTail:hr,isVirtual:$r,keyLength:xr}=vr.query.index;return $r?cr.openCursor(mr(vr)).then(br=>br&&function(Er){return Object.create(Er,{continue:{value:function(yr){yr!=null?Er.continue(Rn(yr,vr.reverse?or.MAX_KEY:or.MIN_KEY,hr)):vr.unique?Er.continue(Er.key.slice(0,xr).concat(vr.reverse?or.MIN_KEY:or.MAX_KEY,hr)):Er.continue()}},continuePrimaryKey:{value(yr,_r){Er.continuePrimaryKey(Rn(yr,or.MAX_KEY,hr),_r)}},primaryKey:{get:()=>Er.primaryKey},key:{get(){const yr=Er.key;return xr===1?yr[0]:yr.slice(0,xr)}},value:{get:()=>Er.value}})}(br)):cr.openCursor(vr)}}}}}};function Mn(or,ar,cr,lr){return cr=cr||{},lr=lr||"",t(or).forEach(ur=>{if(o(ar,ur)){var fr=or[ur],dr=ar[ur];if(typeof fr=="object"&&typeof dr=="object"&&fr&&dr){const pr=C(fr);pr!==C(dr)?cr[lr+ur]=ar[ur]:pr==="Object"?Mn(fr,dr,cr,lr+ur+"."):fr!==dr&&(cr[lr+ur]=ar[ur])}else fr!==dr&&(cr[lr+ur]=ar[ur])}else cr[lr+ur]=void 0}),t(ar).forEach(ur=>{o(or,ur)||(cr[lr+ur]=ar[ur])}),cr}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:or=>({...or,table(ar){const cr=or.table(ar),{primaryKey:lr}=cr.schema;return{...cr,mutate(fr){const dr=Oe.trans,{deleting:pr,creating:mr,updating:gr}=dr.table(ar).hook;switch(fr.type){case"add":if(mr.fire===ee)break;return dr._promise("readwrite",()=>vr(fr),!0);case"put":if(mr.fire===ee&&gr.fire===ee)break;return dr._promise("readwrite",()=>vr(fr),!0);case"delete":if(pr.fire===ee)break;return dr._promise("readwrite",()=>vr(fr),!0);case"deleteRange":if(pr.fire===ee)break;return dr._promise("readwrite",()=>function($r){return hr($r.trans,$r.range,1e4)}(fr),!0)}return cr.mutate(fr);function vr($r){const xr=Oe.trans,br=$r.keys||function(Er,wr){return wr.type==="delete"?wr.keys:wr.keys||wr.values.map(Er.extractKey)}(lr,$r);if(!br)throw new Error("Keys missing");return($r=$r.type==="add"||$r.type==="put"?{...$r,keys:br}:{...$r}).type!=="delete"&&($r.values=[...$r.values]),$r.keys&&($r.keys=[...$r.keys]),function(Er,wr,yr){return wr.type==="add"?Promise.resolve([]):Er.getMany({trans:wr.trans,keys:yr,cache:"immutable"})}(cr,$r,br).then(Er=>{const wr=br.map((yr,_r)=>{const Sr=Er[_r],Pr={onerror:null,onsuccess:null};if($r.type==="delete")pr.fire.call(Pr,yr,Sr,xr);else if($r.type==="add"||Sr===void 0){const Or=mr.fire.call(Pr,yr,$r.values[_r],xr);yr==null&&Or!=null&&(yr=Or,$r.keys[_r]=yr,lr.outbound||_$1($r.values[_r],lr.keyPath,yr))}else{const Or=Mn(Sr,$r.values[_r]),Lr=gr.fire.call(Pr,Or,yr,Sr,xr);if(Lr){const Tr=$r.values[_r];Object.keys(Lr).forEach(jr=>{o(Tr,jr)?Tr[jr]=Lr[jr]:_$1(Tr,jr,Lr[jr])})}}return Pr});return cr.mutate($r).then(({failures:yr,results:_r,numFailures:Sr,lastResult:Pr})=>{for(let Or=0;Or<br.length;++Or){const Lr=_r?_r[Or]:br[Or],Tr=wr[Or];Lr==null?Tr.onerror&&Tr.onerror(yr[Or]):Tr.onsuccess&&Tr.onsuccess($r.type==="put"&&Er[Or]?$r.values[Or]:Lr)}return{failures:yr,results:_r,numFailures:Sr,lastResult:Pr}}).catch(yr=>(wr.forEach(_r=>_r.onerror&&_r.onerror(yr)),Promise.reject(yr)))})}function hr($r,xr,br){return cr.query({trans:$r,values:!1,query:{index:lr,range:xr},limit:br}).then(({result:Er})=>vr({type:"delete",keys:Er,trans:$r}).then(wr=>wr.numFailures>0?Promise.reject(wr.failures[0]):Er.length<br?{failures:[],numFailures:0,lastResult:void 0}:hr($r,{...xr,lower:Er[Er.length-1],lowerOpen:!0},br)))}}}}})};function qn(or,ar,cr){try{if(!ar||ar.keys.length<or.length)return null;const lr=[];for(let ur=0,fr=0;ur<ar.keys.length&&fr<or.length;++ur)$t(ar.keys[ur],or[fr])===0&&(lr.push(cr?O(ar.values[ur]):ar.values[ur]),++fr);return lr.length===or.length?lr:null}catch{return null}}const $n={stack:"dbcore",level:-1,create:or=>({table:ar=>{const cr=or.table(ar);return{...cr,getMany:lr=>{if(!lr.cache)return cr.getMany(lr);const ur=qn(lr.keys,lr.trans._cache,lr.cache==="clone");return ur?je.resolve(ur):cr.getMany(lr).then(fr=>(lr.trans._cache={keys:lr.keys,values:lr.cache==="clone"?O(fr):fr},fr))},mutate:lr=>(lr.type!=="add"&&(lr.trans._cache=null),cr.mutate(lr))}}})};function Un(or){return!("from"in or)}const Ln=function(or,ar){if(!this){const cr=new Ln;return or&&"d"in or&&r(cr,or),cr}r(this,arguments.length?{d:1,from:or,to:arguments.length>1?ar:or}:{d:0})};function Vn(or,ar,cr){const lr=$t(ar,cr);if(isNaN(lr))return;if(lr>0)throw RangeError();if(Un(or))return r(or,{from:ar,to:cr,d:1});const ur=or.l,fr=or.r;if($t(cr,or.from)<0)return ur?Vn(ur,ar,cr):or.l={from:ar,to:cr,d:1,l:null,r:null},Gn(or);if($t(ar,or.to)>0)return fr?Vn(fr,ar,cr):or.r={from:ar,to:cr,d:1,l:null,r:null},Gn(or);$t(ar,or.from)<0&&(or.from=ar,or.l=null,or.d=fr?fr.d+1:1),$t(cr,or.to)>0&&(or.to=cr,or.r=null,or.d=or.l?or.l.d+1:1);const dr=!or.r;ur&&!or.l&&Wn(or,ur),fr&&dr&&Wn(or,fr)}function Wn(or,ar){Un(ar)||function cr(lr,{from:ur,to:fr,l:dr,r:pr}){Vn(lr,ur,fr),dr&&cr(lr,dr),pr&&cr(lr,pr)}(or,ar)}function Yn(or,ar){const cr=zn(ar);let lr=cr.next();if(lr.done)return!1;let ur=lr.value;const fr=zn(or);let dr=fr.next(ur.from),pr=dr.value;for(;!lr.done&&!dr.done;){if($t(pr.from,ur.to)<=0&&$t(pr.to,ur.from)>=0)return!0;$t(ur.from,pr.from)<0?ur=(lr=cr.next(pr.from)).value:pr=(dr=fr.next(ur.from)).value}return!1}function zn(or){let ar=Un(or)?null:{s:0,n:or};return{next(cr){const lr=arguments.length>0;for(;ar;)switch(ar.s){case 0:if(ar.s=1,lr)for(;ar.n.l&&$t(cr,ar.n.from)<0;)ar={up:ar,n:ar.n.l,s:1};else for(;ar.n.l;)ar={up:ar,n:ar.n.l,s:1};case 1:if(ar.s=2,!lr||$t(cr,ar.n.to)<=0)return{value:ar.n,done:!1};case 2:if(ar.n.r){ar.s=3,ar={up:ar,n:ar.n.r,s:0};continue}case 3:ar=ar.up}return{done:!0}}}}function Gn(or){var ar,cr;const lr=(((ar=or.r)===null||ar===void 0?void 0:ar.d)||0)-(((cr=or.l)===null||cr===void 0?void 0:cr.d)||0),ur=lr>1?"r":lr<-1?"l":"";if(ur){const fr=ur==="r"?"l":"r",dr={...or},pr=or[ur];or.from=pr.from,or.to=pr.to,or[ur]=pr[ur],dr[ur]=pr[fr],or[fr]=dr,dr.d=Hn(dr)}or.d=Hn(or)}function Hn({r:or,l:ar}){return(or?ar?Math.max(or.d,ar.d):or.d:ar?ar.d:0)+1}a(Ln.prototype,{add(or){return Wn(this,or),this},addKey(or){return Vn(this,or,or),this},addKeys(or){return or.forEach(ar=>Vn(this,ar,ar)),this},[j](){return zn(this)}});const Qn={stack:"dbcore",level:0,create:or=>{const ar=or.schema.name,cr=new Ln(or.MIN_KEY,or.MAX_KEY);return{...or,table:lr=>{const ur=or.table(lr),{schema:fr}=ur,{primaryKey:dr}=fr,{extractKey:pr,outbound:mr}=dr,gr={...ur,mutate:$r=>{const xr=$r.trans,br=xr.mutatedParts||(xr.mutatedParts={}),Er=Lr=>{const Tr=`idb://${ar}/${lr}/${Lr}`;return br[Tr]||(br[Tr]=new Ln)},wr=Er(""),yr=Er(":dels"),{type:_r}=$r;let[Sr,Pr]=$r.type==="deleteRange"?[$r.range]:$r.type==="delete"?[$r.keys]:$r.values.length<50?[[],$r.values]:[];const Or=$r.trans._cache;return ur.mutate($r).then(Lr=>{if(n(Sr)){_r!=="delete"&&(Sr=Lr.results),wr.addKeys(Sr);const Tr=qn(Sr,Or);Tr||_r==="add"||yr.addKeys(Sr),(Tr||Pr)&&function(jr,Rr,Fr,Vr){function Zr(so){const Ir=jr(so.name||"");function Kr(eo){return eo!=null?so.extractKey(eo):null}const no=eo=>so.multiEntry&&n(eo)?eo.forEach(Wr=>Ir.addKey(Wr)):Ir.addKey(eo);(Fr||Vr).forEach((eo,Wr)=>{const Ur=Fr&&Kr(Fr[Wr]),ro=Vr&&Kr(Vr[Wr]);$t(Ur,ro)!==0&&(Ur!=null&&no(Ur),ro!=null&&no(ro))})}Rr.indexes.forEach(Zr)}(Er,fr,Tr,Pr)}else if(Sr){const Tr={from:Sr.lower,to:Sr.upper};yr.add(Tr),wr.add(Tr)}else wr.add(cr),yr.add(cr),fr.indexes.forEach(Tr=>Er(Tr.name).add(cr));return Lr})}},vr=({query:{index:$r,range:xr}})=>{var br,Er;return[$r,new Ln((br=xr.lower)!==null&&br!==void 0?br:or.MIN_KEY,(Er=xr.upper)!==null&&Er!==void 0?Er:or.MAX_KEY)]},hr={get:$r=>[dr,new Ln($r.key)],getMany:$r=>[dr,new Ln().addKeys($r.keys)],count:vr,query:vr,openCursor:vr};return t(hr).forEach($r=>{gr[$r]=function(xr){const{subscr:br}=Oe;if(br){const Er=Pr=>{const Or=`idb://${ar}/${lr}/${Pr}`;return br[Or]||(br[Or]=new Ln)},wr=Er(""),yr=Er(":dels"),[_r,Sr]=hr[$r](xr);if(Er(_r.name||"").add(Sr),!_r.isPrimaryKey){if($r!=="count"){const Pr=$r==="query"&&mr&&xr.values&&ur.query({...xr,values:!1});return ur[$r].apply(this,arguments).then(Or=>{if($r==="query"){if(mr&&xr.values)return Pr.then(({result:Tr})=>(wr.addKeys(Tr),Or));const Lr=xr.values?Or.result.map(pr):Or.result;xr.values?wr.addKeys(Lr):yr.addKeys(Lr)}else if($r==="openCursor"){const Lr=Or,Tr=xr.values;return Lr&&Object.create(Lr,{key:{get:()=>(yr.addKey(Lr.primaryKey),Lr.key)},primaryKey:{get(){const jr=Lr.primaryKey;return yr.addKey(jr),jr}},value:{get:()=>(Tr&&wr.addKey(Lr.primaryKey),Lr.value)}})}return Or})}yr.add(cr)}}return ur[$r].apply(this,arguments)}}),gr}}}};class Xn{constructor(ar,cr){this._middlewares={},this.verno=0;const lr=Xn.dependencies;this._options=cr={addons:Xn.addons,autoOpen:!0,indexedDB:lr.indexedDB,IDBKeyRange:lr.IDBKeyRange,...cr},this._deps={indexedDB:cr.indexedDB,IDBKeyRange:cr.IDBKeyRange};const{addons:ur}=cr;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const fr={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var dr;fr.dbReadyPromise=new je(pr=>{fr.dbReadyResolve=pr}),fr.openCanceller=new je((pr,mr)=>{fr.cancelOpen=mr}),this._state=fr,this.name=ar,this.on=Dt(this,"populate","blocked","versionchange","close",{ready:[ue,ee]}),this.on.ready.subscribe=y(this.on.ready.subscribe,pr=>(mr,gr)=>{Xn.vip(()=>{const vr=this._state;if(vr.openComplete)vr.dbOpenError||je.resolve().then(mr),gr&&pr(mr);else if(vr.onReadyBeingFired)vr.onReadyBeingFired.push(mr),gr&&pr(mr);else{pr(mr);const hr=this;gr||pr(function $r(){hr.on.ready.unsubscribe(mr),hr.on.ready.unsubscribe($r)})}})}),this.Collection=(dr=this,It(Vt.prototype,function(pr,mr){this.db=dr;let gr=At,vr=null;if(mr)try{gr=mr()}catch(br){vr=br}const hr=pr._ctx,$r=hr.table,xr=$r.hook.reading.fire;this._ctx={table:$r,index:hr.index,isPrimKey:!hr.index||$r.schema.primKey.keyPath&&hr.index===$r.schema.primKey.name,range:gr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:vr,or:hr.or,valueMapper:xr!==te?xr:null}})),this.Table=function(pr){return It(jt.prototype,function(mr,gr,vr){this.db=pr,this._tx=vr,this.name=mr,this.schema=gr,this.hook=pr._allTables[mr]?pr._allTables[mr].hook:Dt(null,{creating:[se,ee],reading:[ne,te],updating:[oe,ee],deleting:[ie,ee]})})}(this),this.Transaction=function(pr){return It(an.prototype,function(mr,gr,vr,hr,$r){this.db=pr,this.mode=mr,this.storeNames=gr,this.schema=vr,this.chromeTransactionDurability=hr,this.idbtrans=null,this.on=Dt(this,"complete","error","abort"),this.parent=$r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je((xr,br)=>{this._resolve=xr,this._reject=br}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},xr=>{var br=this.active;return this.active=!1,this.on.error.fire(xr),this.parent?this.parent._reject(xr):br&&this.idbtrans&&this.idbtrans.abort(),ft(xr)})})}(this),this.Version=function(pr){return It(On.prototype,function(mr){this.db=pr,this._cfg={version:mr,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(pr){return It(en.prototype,function(mr,gr,vr){this.db=pr,this._ctx={table:mr,index:gr===":id"?null:gr,or:vr};const hr=pr._deps.indexedDB;if(!hr)throw new X.MissingAPI;this._cmp=this._ascending=hr.cmp.bind(hr),this._descending=($r,xr)=>hr.cmp(xr,$r),this._max=($r,xr)=>hr.cmp($r,xr)>0?$r:xr,this._min=($r,xr)=>hr.cmp($r,xr)<0?$r:xr,this._IDBKeyRange=pr._deps.IDBKeyRange})}(this),this.on("versionchange",pr=>{pr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",pr=>{!pr.newVersion||pr.newVersion<pr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${pr.oldVersion/10}`)}),this._maxKey=hn(cr.IDBKeyRange),this._createTransaction=(pr,mr,gr,vr)=>new this.Transaction(pr,mr,gr,this._options.chromeTransactionDurability,vr),this._fireOnBlocked=pr=>{this.on("blocked").fire(pr),_t.filter(mr=>mr.name===this.name&&mr!==this&&!mr._state.vcFired).map(mr=>mr.on("versionchange").fire(pr))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),ur.forEach(pr=>pr(this))}version(ar){if(isNaN(ar)||ar<.1)throw new X.Type("Given version is not a positive number");if(ar=Math.round(10*ar)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,ar);const cr=this._versions;var lr=cr.filter(ur=>ur._cfg.version===ar)[0];return lr||(lr=new this.Version(ar),cr.push(lr),cr.sort(_n),lr.stores({}),this._state.autoSchema=!1,lr)}_whenReady(ar){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?ar():new je((cr,lr)=>{if(this._state.openComplete)return lr(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void lr(new X.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(cr,lr)}).then(ar)}use({stack:ar,create:cr,level:lr,name:ur}){ur&&this.unuse({stack:ar,name:ur});const fr=this._middlewares[ar]||(this._middlewares[ar]=[]);return fr.push({stack:ar,create:cr,level:lr??10,name:ur}),fr.sort((dr,pr)=>dr.level-pr.level),this}unuse({stack:ar,name:cr,create:lr}){return ar&&this._middlewares[ar]&&(this._middlewares[ar]=this._middlewares[ar].filter(ur=>lr?ur.create!==lr:!!cr&&ur.name!==cr)),this}open(){return Dn(this)}_close(){const ar=this._state,cr=_t.indexOf(this);if(cr>=0&&_t.splice(cr,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}ar.dbReadyPromise=new je(lr=>{ar.dbReadyResolve=lr}),ar.openCanceller=new je((lr,ur)=>{ar.cancelOpen=ur})}close(){this._close();const ar=this._state;this._options.autoOpen=!1,ar.dbOpenError=new X.DatabaseClosed,ar.isBeingOpened&&ar.cancelOpen(ar.dbOpenError)}delete(){const ar=arguments.length>0,cr=this._state;return new je((lr,ur)=>{const fr=()=>{this.close();var dr=this._deps.indexedDB.deleteDatabase(this.name);dr.onsuccess=Ye(()=>{(function({indexedDB:pr,IDBKeyRange:mr},gr){!An(pr)&&gr!==Pt&&Sn(pr,mr).delete(gr).catch(ee)})(this._deps,this.name),lr()}),dr.onerror=tn(ur),dr.onblocked=this._fireOnBlocked};if(ar)throw new X.InvalidArgument("Arguments not allowed in db.delete()");cr.isBeingOpened?cr.dbReadyPromise.then(fr):fr()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const ar=this._state.dbOpenError;return ar&&ar.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map(ar=>this._allTables[ar])}transaction(){const ar=Bn.apply(this,arguments);return this._transaction.apply(this,ar)}_transaction(ar,cr,lr){let ur=Oe.trans;ur&&ur.db===this&&ar.indexOf("!")===-1||(ur=null);const fr=ar.indexOf("?")!==-1;let dr,pr;ar=ar.replace("!","").replace("?","");try{if(pr=cr.map(gr=>{var vr=gr instanceof this.Table?gr.name:gr;if(typeof vr!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return vr}),ar=="r"||ar===Kt)dr=Kt;else{if(ar!="rw"&&ar!=Ot)throw new X.InvalidArgument("Invalid transaction mode: "+ar);dr=Ot}if(ur){if(ur.mode===Kt&&dr===Ot){if(!fr)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ur=null}ur&&pr.forEach(gr=>{if(ur&&ur.storeNames.indexOf(gr)===-1){if(!fr)throw new X.SubTransaction("Table "+gr+" not included in parent transaction.");ur=null}}),fr&&ur&&!ur.active&&(ur=null)}}catch(gr){return ur?ur._promise(null,(vr,hr)=>{hr(gr)}):ft(gr)}const mr=Tn.bind(null,this,dr,pr,ur,lr);return ur?ur._promise(dr,mr,"lock"):Oe.trans?at(Oe.transless,()=>this._whenReady(mr)):this._whenReady(mr)}table(ar){if(!o(this._allTables,ar))throw new X.InvalidTable(`Table ${ar} does not exist`);return this._allTables[ar]}}const Jn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(ar){this._subscribe=ar}subscribe(ar,cr,lr){return this._subscribe(ar&&typeof ar!="function"?ar:{next:ar,error:cr,complete:lr})}[Jn](){return this}}function er(or,ar){return t(ar).forEach(cr=>{Wn(or[cr]||(or[cr]=new Ln),ar[cr])}),or}function tr(or){let ar,cr=!1;const lr=new Zn(ur=>{const fr=T(or);let dr=!1,pr={},mr={};const gr={get closed(){return dr},unsubscribe:()=>{dr=!0,on.storagemutated.unsubscribe(xr)}};ur.start&&ur.start(gr);let vr=!1,hr=!1;function $r(){return t(mr).some(Er=>pr[Er]&&Yn(pr[Er],mr[Er]))}const xr=Er=>{er(pr,Er),$r()&&br()},br=()=>{if(vr||dr)return;pr={};const Er={},wr=function(yr){fr&&et();const _r=()=>Ze(or,{subscr:yr,trans:null}),Sr=Oe.trans?at(Oe.transless,_r):_r();return fr&&Sr.then(tt,tt),Sr}(Er);hr||(on(rn,xr),hr=!0),vr=!0,Promise.resolve(wr).then(yr=>{cr=!0,ar=yr,vr=!1,dr||($r()?br():(pr={},mr=Er,ur.next&&ur.next(yr)))},yr=>{vr=!1,cr=!1,ur.error&&ur.error(yr),gr.unsubscribe()})};return br(),gr});return lr.hasValue=()=>cr,lr.getValue=()=>ar,lr}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(or){nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(or){let ar=ir;try{ir=!0,on.storagemutated.fire(or)}finally{ir=ar}}a(rr,{...Z,delete:or=>new rr(or,{addons:[]}).delete(),exists:or=>new rr(or,{addons:[]}).open().then(ar=>(ar.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(or){try{return function({indexedDB:ar,IDBKeyRange:cr}){return An(ar)?Promise.resolve(ar.databases()).then(lr=>lr.map(ur=>ur.name).filter(ur=>ur!==Pt)):Sn(ar,cr).toCollection().primaryKeys()}(rr.dependencies).then(or)}catch{return ft(new X.MissingAPI)}},defineClass:()=>function(or){r(this,or)},ignoreTransaction:or=>Oe.trans?at(Oe.transless,or):or(),vip:Cn,async:function(or){return function(){try{var ar=In(or.apply(this,arguments));return ar&&typeof ar.then=="function"?ar:je.resolve(ar)}catch(cr){return ft(cr)}}},spawn:function(or,ar,cr){try{var lr=In(or.apply(cr,ar||[]));return lr&&typeof lr.then=="function"?lr:je.resolve(lr)}catch(ur){return ft(ur)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(or,ar){const cr=je.resolve(typeof or=="function"?rr.ignoreTransaction(or):or).timeout(ar||6e4);return Oe.trans?Oe.trans.waitFor(cr):cr},Promise:je,debug:{get:()=>R,set:or=>{F(or,or==="dexie"?()=>!0:Et)}},derive:c,extend:r,props:a,override:y,Events:Dt,on,liveQuery:tr,extendObservabilitySet:er,getByKeyPath:b,setByKeyPath:_$1,delByKeyPath:function(or,ar){typeof ar=="string"?_$1(or,ar,void 0):"length"in ar&&[].map.call(ar,function(cr){_$1(or,cr,void 0)})},shallowClone:w,deepClone:O,getObjectDiff:Mn,cmp:$t,asap:v,minKey:vt,addons:[],connections:_t,errnames:H,dependencies:nr,semVer:yt,version:yt.split(".").map(or=>parseInt(or)).reduce((or,ar,cr)=>or+ar/Math.pow(10,2*cr))}),rr.maxKey=hn(rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(on(rn,or=>{if(!ir){let ar;wt?(ar=document.createEvent("CustomEvent"),ar.initCustomEvent(sn,!0,!0,or)):ar=new CustomEvent(sn,{detail:or}),ir=!0,dispatchEvent(ar),ir=!1}}),addEventListener(sn,({detail:or})=>{ir||sr(or)}));let ir=!1;if(typeof BroadcastChannel<"u"){const or=new BroadcastChannel(sn);typeof or.unref=="function"&&or.unref(),on(rn,ar=>{ir||or.postMessage(ar)}),or.onmessage=ar=>{ar.data&&sr(ar.data)}}else if(typeof self<"u"&&typeof navigator<"u"){on(rn,ar=>{try{ir||(typeof localStorage<"u"&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:ar})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(cr=>cr.postMessage({type:sn,changedParts:ar})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",ar=>{if(ar.key===sn){const cr=JSON.parse(ar.newValue);cr&&sr(cr.changedParts)}});const or=self.document&&navigator.serviceWorker;or&&or.addEventListener("message",function({data:ar}){ar&&ar.type===sn&&sr(ar.changedParts)})}je.rejectionMapper=function(or,ar){if(!or||or instanceof W||or instanceof TypeError||or instanceof SyntaxError||!or.name||!J[or.name])return or;var cr=new J[or.name](ar||or.message,or);return"stack"in or&&l(cr,"stack",{get:function(){return this.inner.stack}}),cr},F(R,Et);class QspiderDatabase extends Xn{constructor(){super("QspiderDatabase"),this.version(2).stores({games:"id, title",gameResources:"++, game_id, &[game_id+path]",gameSaves:"++, game_id, &[game_id+key+slot], slot, [game_id+slot], [game_id+key]"})}}class WebStorage{constructor(){this.db=new QspiderDatabase}async prepareLoadConfig(ar,cr){return{url:`/qspider-files/${ar}/`,entrypoint:cr}}async getGames(){return(await this.db.games.toArray()).reduce((cr,lr)=>(cr[lr.id]=lr,cr),{})}async addGame(ar,cr){await this.db.games.put(cr,ar)}async updateGame(ar,cr){await this.db.games.update(ar,cr)}async removeGame(ar){await this.db.transaction("rw",this.db.games,this.db.gameResources,async()=>{await this.db.games.delete(ar),await this.db.gameResources.where("game_id").equals(ar).delete()})}async addGameResource(ar,cr,lr){const ur=cr.toLowerCase();await this.db.gameResources.where({game_id:ar,path:ur}).delete(),await this.db.gameResources.put({game_id:ar,path:ur,content:lr})}async getGameResource(ar,cr){const lr=cr.toLowerCase(),ur=await this.db.gameResources.where({game_id:ar,path:lr}).first();return(ur==null?void 0:ur.content)||null}async saveByKey(ar,cr,lr){await this.db.gameSaves.where({game_id:ar,key:cr,slot:-1}).delete();const ur={timestamp:Date.now(),game_id:ar,key:cr,slot:-1,data:lr};await this.db.gameSaves.put(ur)}async saveBySlot(ar,cr,lr){await this.db.gameSaves.where({game_id:ar,key:"",slot:cr}).delete();const ur={timestamp:Date.now(),game_id:ar,key:"",slot:cr,data:lr};await this.db.gameSaves.put(ur)}async hasSaveByKey(ar,cr){return await this.db.gameSaves.where({game_id:ar,key:cr}).count()>0}async hasSaveBySlot(ar,cr){return await this.db.gameSaves.where({game_id:ar,slot:cr}).count()>0}async getSaveDataByKey(ar,cr){const lr=await this.db.gameSaves.where({game_id:ar,key:cr}).first();return(lr==null?void 0:lr.data)||null}async getSaveDataBySlot(ar,cr){const lr=await this.db.gameSaves.where({game_id:ar,slot:cr}).first();return(lr==null?void 0:lr.data)||null}async getSavedSlots(ar){return await this.db.gameSaves.where({game_id:ar}).and(cr=>cr.slot>0).toArray()}async getNamedSaves(ar){return await this.db.gameSaves.where({game_id:ar}).and(cr=>cr.key!=="").toArray()}async clearSaveSlot(ar,cr){await this.db.gameSaves.where({game_id:ar,key:"",slot:cr}).delete()}async clearSaveKey(ar,cr){await this.db.gameSaves.where({game_id:ar,key:cr,slot:-1}).delete()}}const MIN_SIZE_ID="min-size-style",MAX_SIZE_ID="max-size-style",windowManager={setTitle(or){document.title=or},setIcon(or){document.getElementById("favicon").href=or},goFullscreen(){var or;document.fullscreenEnabled&&(console.log(document.querySelector("qsp-game-root")),(or=document.querySelector("qsp-game-root"))==null||or.requestFullscreen().catch(()=>{function ar(){var cr;(cr=document.querySelector("qsp-game-root"))==null||cr.requestFullscreen(),document.removeEventListener("click",ar)}document.addEventListener("click",ar)}))},goWindowed(){document.fullscreenEnabled&&document.exitFullscreen()},async setMinSize(or,ar){const cr=document.createElement("style");cr.innerText=`qsp-game-root {min-width: ${or}px;min-height:${ar}px;}`,cr.id=MIN_SIZE_ID,document.body.appendChild(cr)},unsetMinSize(){var or;(or=document.getElementById(MIN_SIZE_ID))==null||or.remove()},async setMaxSize(or,ar){const cr=document.createElement("style");cr.innerText=`qsp-game-root {max-width: ${or}px;max-height:${ar}px;}`,cr.id=MAX_SIZE_ID,document.body.appendChild(cr)},unsetMaxSize(){var or;(or=document.getElementById(MAX_SIZE_ID))==null||or.remove()},setResizable(or){},async resize(or,ar){}};async function init(){const or=new URL(window.location.href);or.search="",or.hash="",initialBaseUrl$.set(or.toString()),onGameEnd$.set(()=>navigateTo("")),initTheme(),storage$.set(new WebStorage),windowManager$.set(windowManager),await loadGamesFromStorage();const ar=window.location.search,cr=new URLSearchParams(ar),lr=cr.get("config"),fr=cr.get("game")||lr;let dr=null;if(fr){const pr=await importUrl(fr);for(const mr of pr)games$.value[mr.id]||games$.actions.add(mr.id,mr);dr=pr[0].id}initDeferred$.value.resolve(),await initQspApi(),await registerDefaultThemes(initialBaseUrl$.value),dr?goToGame(dr):await processLocationChange(window.location.search),baseInit$.set(!0)}const OpenGameButton=()=>{const{t:or}=useTranslation(),ar=reactExports.useCallback(cr=>{var fr;const lr=(fr=cr.target.files)==null?void 0:fr[0];if(!lr)return;const ur=new FileReader;ur.onload=async function(dr){var mr;const pr=(mr=dr.target)==null?void 0:mr.result;try{const gr=await importFile(lr.name,pr);for(const hr of gr)games$.value[hr.id]||games$.actions.add(hr.id,hr);const vr=gr[0].id;vr&&goToGame(vr)}catch(gr){showError(gr instanceof Error?gr.message:String(gr))}},ur.readAsArrayBuffer(lr)},[]);return jsxRuntimeExports.jsxs("label",{className:"q-button q-open-game-button",htmlFor:"openGame",children:[or("Open game"),jsxRuntimeExports.jsx("input",{type:"file",id:"openGame",accept:".zip, .aqsp, .qsp, .qsps, .rar",onChange:ar})]})};componentsRegistry$.actions.register(ProvidedComponents.OpenGameButton,OpenGameButton);init();const App=()=>useAtom_2(baseInit$)?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(QspiderLoader,{}),children:jsxRuntimeExports.jsxs(QspiderRoot,{children:[jsxRuntimeExports.jsx(PlayerWithShelf,{}),jsxRuntimeExports.jsx(ErrorAlert,{}),jsxRuntimeExports.jsx(NoticeToast,{})]})}):jsxRuntimeExports.jsx(QspiderLoader,{}),root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));"serviceWorker"in navigator&&new v$2(new URL("./service-worker.js",window.location.href).toString(),{type:"classic"}).register();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}